---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/44956emacsusers.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html">emacs users</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="167666071"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/167666071" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#167666071">Simon Hudon (Jun 08 2019 at 20:23)</a>:</h4>
<p>Hello fellow emacs user(s)! I have just put a package <code>yasnippet-lean</code> up on melpa. Feel free to contribute other snippets if I missed any. <a href="https://github.com/leanprover-community/yasnippet-lean" target="_blank" title="https://github.com/leanprover-community/yasnippet-lean">https://github.com/leanprover-community/yasnippet-lean</a></p>

<a name="167686299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/167686299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#167686299">Jesse Michael Han (Jun 09 2019 at 06:27)</a>:</h4>
<p>we added some more features! a GIF is worth a thousand words: <a href="/user_uploads/3121/2hdWRjjPrzNrkQ_jVLxX7HGm/yasnippet-lean-test.gif" target="_blank" title="yasnippet-lean-test.gif">yasnippet-lean-test.gif</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/2hdWRjjPrzNrkQ_jVLxX7HGm/yasnippet-lean-test.gif" target="_blank" title="yasnippet-lean-test.gif"><img src="/user_uploads/3121/2hdWRjjPrzNrkQ_jVLxX7HGm/yasnippet-lean-test.gif"></a></div>

<a name="167686359"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/167686359" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#167686359">Mario Carneiro (Jun 09 2019 at 06:29)</a>:</h4>
<p>The <code>suffices</code> formatting doesn't make sense for tactic mode</p>

<a name="167686411"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/167686411" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#167686411">Mario Carneiro (Jun 09 2019 at 06:30)</a>:</h4>
<p>not sure whether you can do something about this without lean server giving you more info</p>

<a name="167686474"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/167686474" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#167686474">Jesse Michael Han (Jun 09 2019 at 06:32)</a>:</h4>
<p>i think snippets can execute arbitrary elisp so it might be possible to accommodate that</p>

<a name="167686774"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/167686774" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#167686774">Jesse Michael Han (Jun 09 2019 at 06:42)</a>:</h4>
<p>i think the only indicator of whether or not you're in tactic mode is that the replies to <code>info</code> requests include a formatted <code>tactic_state</code> iff you're in tactic mode... so it might be a bit of a hack to implement</p>

<a name="170973911"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170973911" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170973911">Gun Pinyo (Jul 16 2019 at 10:47)</a>:</h4>
<p>I am having a problem with <code>expand-region</code> and <code>lean-mode</code><br>
basically if I have "abc.def_gh" and put the cursor at "e", expand the region once we should get "def" then "def_gh" then "abc.def_gh" however, in my case, it goes from "e" to "abc.def_gh" directly. This is very wired since <code>lisp-mode</code> and <code>text-mode</code> agree on the correct behaviour.</p>
<p>Is there anyone has the same problem?</p>

<a name="170975575"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170975575" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170975575">Kevin Buzzard (Jul 16 2019 at 11:15)</a>:</h4>
<p>Hardly anyone here uses emacs for Lean (which is funny in my case because I use it for everything else). We could try pinging <span class="user-mention" data-user-id="110032">@Reid Barton</span></p>

<a name="170975625"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170975625" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170975625">Patrick Massot (Jul 16 2019 at 11:16)</a>:</h4>
<p>Sebastian also uses it</p>

<a name="170976853"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170976853" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170976853">Sebastian Ullrich (Jul 16 2019 at 11:37)</a>:</h4>
<p>Unfortunately I don't use <code>expand-region</code></p>

<a name="170977095"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170977095" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170977095">Kevin Buzzard (Jul 16 2019 at 11:41)</a>:</h4>
<p>...because you broke it? :P</p>

<a name="170977847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170977847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170977847">Yury G. Kudryashov (Jul 16 2019 at 11:52)</a>:</h4>
<p>I use Lean with Emacs but don't use <code>expand-region</code></p>

<a name="170978052"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170978052" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170978052">Yury G. Kudryashov (Jul 16 2019 at 11:55)</a>:</h4>
<p>I can try it tomorrow</p>

<a name="170986003"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170986003" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170986003">Jesse Michael Han (Jul 16 2019 at 13:35)</a>:</h4>
<blockquote>
<p>I am having a problem with <code>expand-region</code> and <code>lean-mode</code><br>
basically if I have "abc.def_gh" and put the cursor at "e", expand the region once we should get "def" then "def_gh" then "abc.def_gh" however, in my case, it goes from "e" to "abc.def_gh" directly. This is very wired since <code>lisp-mode</code> and <code>text-mode</code> agree on the correct behaviour.</p>
<p>Is there anyone has the same problem?</p>
</blockquote>
<p>this might be because there <code>expand-region</code> has mode-specific expansions for <code>lisp-mode</code> and <code>text-mode</code> which aren't enabled in a <code>lean-mode</code> buffer. you might be able to get away with copying whatever configuration is there for <code>lisp-mode</code> and changing <code>lisp-mode</code> to <code>lean-mode</code></p>

<a name="170999948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/170999948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#170999948">Gun Pinyo (Jul 16 2019 at 15:54)</a>:</h4>
<blockquote>
<blockquote>
<p>I am having a problem with <code>expand-region</code> and <code>lean-mode</code><br>
basically if I have "abc.def_gh" and put the cursor at "e", expand the region once we should get "def" then "def_gh" then "abc.def_gh" however, in my case, it goes from "e" to "abc.def_gh" directly. This is very wired since <code>lisp-mode</code> and <code>text-mode</code> agree on the correct behaviour.</p>
<p>Is there anyone has the same problem?</p>
</blockquote>
<p>this might be because there <code>expand-region</code> has mode-specific expansions for <code>lisp-mode</code> and <code>text-mode</code> which aren't enabled in a <code>lean-mode</code> buffer. you might be able to get away with copying whatever configuration is there for <code>lisp-mode</code> and changing <code>lisp-mode</code> to <code>lean-mode</code></p>
</blockquote>
<p>I have searched the entire <code>expand-region</code> repository but it doesn't mention <code>lisp-mode</code> at all. The functionality is there by default. Even I state explicitly, it doesn't work.</p>

<a name="171001404"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/171001404" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#171001404">Jesse Michael Han (Jul 16 2019 at 16:10)</a>:</h4>
<p>that's odd, maybe <code>expand-region</code> queries something else which does change depending on the current mode</p>

<a name="174254171"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/174254171" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#174254171">Jesse Michael Han (Aug 27 2019 at 18:07)</a>:</h4>
<p>for the convenience of other emacs users of <code>lean-mode</code>, i've made a gist available with my <code>lean-mode</code> customizations <a href="https://gist.github.com/jesse-michael-han/e2b1f24dc7eb3ffc06f66412a9141c2e" target="_blank" title="https://gist.github.com/jesse-michael-han/e2b1f24dc7eb3ffc06f66412a9141c2e">here</a></p>

<a name="176269874"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/176269874" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#176269874">Alexandre Rademaker (Sep 21 2019 at 15:48)</a>:</h4>
<p>It is annoying that if you use C-c C-b to see message boxes, if a command is followed by a comment, the message is inserted after it</p>

<a name="176278634"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/emacs%20users/near/176278634" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/44956emacsusers.html#176278634">Reid Barton (Sep 21 2019 at 19:58)</a>:</h4>
<p>You can work around this by ending the command with a <code>.</code></p>


{% endraw %}

{% include archive_update.html %}