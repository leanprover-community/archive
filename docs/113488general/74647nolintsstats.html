---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/74647nolintsstats.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html">nolints stats</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="193164936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193164936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193164936">Johan Commelin (Apr 07 2020 at 10:12)</a>:</h4>
<p>I thought it might be nice to see how the nolints file grows/shrinks over time. Here is a plot that starts with the first commit that <code>scripts/nolints.txt</code> existed, and walks through every commit until todays <code>master</code>.<br>
<a href="/user_uploads/3121/qRkMpF7XyeDYJuanjWszyEoq/nolints_stats.png" title="nolints_stats.png">nolints_stats.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/qRkMpF7XyeDYJuanjWszyEoq/nolints_stats.png" title="nolints_stats.png"><img src="/user_uploads/3121/qRkMpF7XyeDYJuanjWszyEoq/nolints_stats.png"></a></div>

<a name="193165008"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193165008" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193165008">Johan Commelin (Apr 07 2020 at 10:13)</a>:</h4>
<p>Script (generates the data in reverse chronological order):</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="k">while</span> <span class="o">[</span> -f scripts/nolints.txt <span class="o">]</span>
<span class="k">do</span>
        <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$(</span>git rev-parse HEAD<span class="k">)</span><span class="s2">:</span><span class="k">$(</span>wc -l scripts/nolints.txt<span class="k">)</span><span class="s2">&quot;</span> &gt;&gt; nolint_stats.txt
        git checkout HEAD^
<span class="k">done</span>
</pre></div>

<a name="193165103"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193165103" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193165103">Patrick Massot (Apr 07 2020 at 10:14)</a>:</h4>
<p>What is the new linter that caused the huge jump up?</p>

<a name="193165120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193165120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193165120">Johan Commelin (Apr 07 2020 at 10:14)</a>:</h4>
<p>I have not yet investigated</p>

<a name="193165193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193165193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193165193">Johan Commelin (Apr 07 2020 at 10:15)</a>:</h4>
<div class="codehilite"><pre><span></span>0fc45dcd16b7042179efb36a8e62f908bf0bd0e9:4086
32b32ad912406254ac7ddb7100d50f00b86e46f5:3210
</pre></div>

<a name="193165295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193165295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193165295">Johan Commelin (Apr 07 2020 at 10:16)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/commit/0fc45dcd16b7042179efb36a8e62f908bf0bd0e9" title="https://github.com/leanprover-community/mathlib/commit/0fc45dcd16b7042179efb36a8e62f908bf0bd0e9">https://github.com/leanprover-community/mathlib/commit/0fc45dcd16b7042179efb36a8e62f908bf0bd0e9</a><br>
feat(tactic/lint): support @[nolint unused_arguments] (<a href="https://github.com/leanprover-community/mathlib/issues/2041" title="https://github.com/leanprover-community/mathlib/issues/2041">#2041</a>)</p>

<a name="193166250"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193166250" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193166250">Rob Lewis (Apr 07 2020 at 10:26)</a>:</h4>
<p>Yeah, the big jump was just a restructuring of the file to have headers and whitespace. A slightly better measure would be number of non-whitespace, non-comment lines.</p>

<a name="193166369"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193166369" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193166369">Rob Lewis (Apr 07 2020 at 10:27)</a>:</h4>
<p>Still a nice graph!</p>

<a name="193166376"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193166376" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193166376">Johan Commelin (Apr 07 2020 at 10:27)</a>:</h4>
<p>Ok, let me try again (-;</p>

<a name="193166627"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193166627" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193166627">Johan Commelin (Apr 07 2020 at 10:30)</a>:</h4>
<p>I'll have lunch first</p>

<a name="193166654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193166654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193166654">Rob Lewis (Apr 07 2020 at 10:31)</a>:</h4>
<p>You can also get a sense of the change from leanprover-community-bot's commits. It's removed 345 lines since Feb 14.</p>

<a name="193170527"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193170527" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193170527">Johan Commelin (Apr 07 2020 at 11:12)</a>:</h4>
<p>Update:<br>
<a href="/user_uploads/3121/jGM7uBax0WJLVEJqCMPMraPl/nolints_stats.png" title="nolints_stats.png">nolints_stats.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/jGM7uBax0WJLVEJqCMPMraPl/nolints_stats.png" title="nolints_stats.png"><img src="/user_uploads/3121/jGM7uBax0WJLVEJqCMPMraPl/nolints_stats.png"></a></div>

<a name="193170735"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193170735" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193170735">Johan Commelin (Apr 07 2020 at 11:14)</a>:</h4>
<p>Script:</p>
<div class="codehilite"><pre><span></span><span class="ch">#!/bin/bash</span>

git checkout -q master

<span class="k">while</span> <span class="o">[</span> -f scripts/nolints.txt <span class="o">]</span>
<span class="k">do</span>
        <span class="nb">echo</span> <span class="s2">&quot;</span><span class="k">$(</span>git rev-parse HEAD<span class="k">)</span><span class="s2">:</span><span class="k">$(</span>grep . scripts/nolints.txt <span class="p">|</span> grep -v <span class="s1">&#39;^--&#39;</span> <span class="p">|</span> wc -l<span class="k">)</span><span class="s2">&quot;</span>
        git checkout -q HEAD^
<span class="k">done</span> <span class="p">|</span> tac <span class="p">|</span> sed <span class="s1">&#39;s/ script.*//&#39;</span>

git checkout -q master
</pre></div>

<a name="193170829"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193170829" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193170829">Johan Commelin (Apr 07 2020 at 11:15)</a>:</h4>
<p>Then I ran <code>cut -f2 -d:</code> on the output of that script, and saved it in <code>rev_stats.txt</code>.<br>
Finally, the following gnuplot script made the graph:</p>
<div class="codehilite"><pre><span></span><span class="c">#!/usr/bin/gnuplot -persist</span>

<span class="k">set</span> <span class="nb">title</span> <span class="s">&quot;Lines in scripts/nolints.txt&quot;</span>
<span class="k">set</span> <span class="nb">xlabel</span> <span class="s">&quot;git commit&quot;</span>
<span class="k">set</span> <span class="nb">ylabel</span> <span class="s">&quot;#lines&quot;</span>
<span class="k">plot</span> <span class="s">&quot;rev_stats.txt&quot;</span> <span class="nb">u</span> <span class="p">(</span><span class="nf">column</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="nf">xtic</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="nb">w</span> <span class="n">l</span> <span class="nb">title</span> <span class="s">&quot;&quot;</span>
</pre></div>

<a name="193170959"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193170959" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193170959">Rob Lewis (Apr 07 2020 at 11:16)</a>:</h4>
<p>Nice. This is one curve we don't want to flatten.</p>

<a name="193365064"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/nolints%20stats/near/193365064" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/74647nolintsstats.html#193365064">Sebastien Gouezel (Apr 08 2020 at 19:08)</a>:</h4>
<p><a href="https://github.com/leanprover-community/mathlib/issues/2352" title="https://github.com/leanprover-community/mathlib/issues/2352">#2352</a> has been merged. 37 lines less in <code>nolints.txt</code>.</p>


{% endraw %}

{% include archive_update.html %}