---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/36203rwisslow.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html">rw is slow</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="193702673"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702673" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702673">Kenny Lau (Apr 12 2020 at 09:07)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">set_option</span> <span class="n">profiler</span> <span class="n">true</span>
<span class="kn">theorem</span> <span class="n">test_rw</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">rw</span> <span class="n">mul_add</span><span class="o">,</span>
<span class="kn">end</span>
</pre></div>


<div class="codehilite"><pre><span></span>parsing took 5.08s
elaboration of test_rw took 211ms
</pre></div>

<a name="193702675"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702675" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702675">Kenny Lau (Apr 12 2020 at 09:07)</a>:</h4>
<p>I think this is the most shocking of all my test results</p>

<a name="193702713"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702713" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702713">Kenny Lau (Apr 12 2020 at 09:08)</a>:</h4>
<p>because <code>rw</code> is in core</p>

<a name="193702719"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702719" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702719">Mario Carneiro (Apr 12 2020 at 09:08)</a>:</h4>
<p>just because it's in core doesn't mean it's fast</p>

<a name="193702724"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702724" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702724">Mario Carneiro (Apr 12 2020 at 09:08)</a>:</h4>
<p>in fact that mostly means it hasn't been touched in a long time</p>

<a name="193702725"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702725" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702725">Kevin Buzzard (Apr 12 2020 at 09:08)</a>:</h4>
<div class="codehilite"><pre><span></span>parsing took 142ms
</pre></div>


<p>???</p>

<a name="193702730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702730">Mario Carneiro (Apr 12 2020 at 09:09)</a>:</h4>
<p>but actually I think you are benchmarking <code>have</code> with these examples</p>

<a name="193702733"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702733" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702733">Mario Carneiro (Apr 12 2020 at 09:09)</a>:</h4>
<p>yeah, kenny's computer is weird</p>

<a name="193702734"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702734" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702734">Kevin Buzzard (Apr 12 2020 at 09:09)</a>:</h4>
<p>I can't believe my desktop is 40 times faster than it though</p>

<a name="193702737"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702737" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702737">Mario Carneiro (Apr 12 2020 at 09:09)</a>:</h4>
<p>I get 1.17 s</p>

<a name="193702754"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702754" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702754">Kenny Lau (Apr 12 2020 at 09:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702730" title="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702730">said</a>:</p>
<blockquote>
<p>but actually I think you are benchmarking <code>have</code> with these examples</p>
</blockquote>
<p>this reminds me of the story of the man on the bike</p>

<a name="193702760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702760">Kevin Buzzard (Apr 12 2020 at 09:09)</a>:</h4>
<p>Which version of Lean are you using?</p>

<a name="193702806"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702806" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702806">Mario Carneiro (Apr 12 2020 at 09:10)</a>:</h4>
<p>3.7.2</p>

<a name="193702807"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702807" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702807">Kevin Buzzard (Apr 12 2020 at 09:10)</a>:</h4>
<p>I'm on 3.8.0</p>

<a name="193702816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702816">Kenny Lau (Apr 12 2020 at 09:10)</a>:</h4>
<p>a man on a bike would pass through a security guard on the border every week with a big bag of sand; every time the security would check the bag very carefully, but every time the security would find nothing; 2 years after the guard retired, he met the man by chance, and finally asks him: what were you smuggling the whole time?</p>
<p>it was the bikes</p>

<a name="193702865"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702865" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702865">Markus Himmel (Apr 12 2020 at 09:12)</a>:</h4>
<p>Okay, updating to 3.8 really made parsing 5 times faster on my machine</p>

<a name="193702869"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702869" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702869">Kenny Lau (Apr 12 2020 at 09:12)</a>:</h4>
<p>control:</p>
<div class="codehilite"><pre><span></span><span class="kn">set_option</span> <span class="n">profiler</span> <span class="n">true</span>
<span class="kn">theorem</span> <span class="n">test_have</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span>
<span class="k">begin</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="k">have</span> <span class="o">:</span> <span class="mi">7</span> <span class="bp">*</span> <span class="o">(</span><span class="mi">8</span> <span class="bp">+</span> <span class="mi">9</span><span class="o">)</span> <span class="bp">=</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">8</span> <span class="bp">+</span> <span class="mi">7</span> <span class="bp">*</span> <span class="mi">9</span><span class="o">,</span> <span class="n">sorry</span><span class="o">,</span>
  <span class="n">trivial</span>
<span class="kn">end</span>
</pre></div>


<div class="codehilite"><pre><span></span>parsing took 445ms
elaboration of test_rw took 176ms
</pre></div>

<a name="193702870"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702870" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702870">Kenny Lau (Apr 12 2020 at 09:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="260921">Markus Himmel</span> <a href="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702865" title="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702865">said</a>:</p>
<blockquote>
<p>Okay, updating to 3.8 really made parsing 5 times faster on my machine</p>
</blockquote>
<p>the problem is that codewars doesn't use 3.8</p>

<a name="193702885"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702885" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702885">Mario Carneiro (Apr 12 2020 at 09:13)</a>:</h4>
<p>Yep, I just updated and the test is much faster</p>

<a name="193702933"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702933" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702933">Kenny Lau (Apr 12 2020 at 09:14)</a>:</h4>
<p>codewars uses Lean 3.7.2</p>

<a name="193702936"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702936" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702936">Kenny Lau (Apr 12 2020 at 09:14)</a>:</h4>
<p>and <span class="user-mention" data-user-id="260921">@Markus Himmel</span> managed to stay below the time limit</p>

<a name="193702938"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702938" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702938">Kenny Lau (Apr 12 2020 at 09:14)</a>:</h4>
<p>in Lean 3.7.2</p>

<a name="193702939"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702939" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702939">Patrick Massot (Apr 12 2020 at 09:14)</a>:</h4>
<p>Great! Could you please use all that speed to unstuck me on <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bolzano-Weirstrass/near/193682245" title="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bolzano-Weirstrass/near/193682245">https://leanprover.zulipchat.com/#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bolzano-Weirstrass/near/193682245</a>?</p>

<a name="193702948"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193702948" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193702948">Mario Carneiro (Apr 12 2020 at 09:15)</a>:</h4>
<p>I haven't been watching the changes carefully, <span class="user-mention" data-user-id="110043">@Gabriel Ebner</span> <span class="user-mention" data-user-id="123965">@Bryan Gin-ge Chen</span> any idea what the culprit is?</p>

<a name="193703016"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703016" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703016">Kevin Buzzard (Apr 12 2020 at 09:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702939" title="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702939">said</a>:</p>
<blockquote>
<p>Great! Could you please use all that speed to unstuck me on <a href="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bolzano-Weirstrass/near/193682245" title="#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bolzano-Weirstrass/near/193682245">https://leanprover.zulipchat.com/#narrow/stream/217875-Is-there.20code.20for.20X.3F/topic/Bolzano-Weirstrass/near/193682245</a>?</p>
</blockquote>
<p>?? I never even saw this!</p>
<div class="codehilite"><pre><span></span>You are not subscribed to stream Is there code for X?
</pre></div>

<a name="193703029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703029">Kenny Lau (Apr 12 2020 at 09:17)</a>:</h4>
<p>and on codewars, which is the only benchmark that matters:</p>
<div class="codehilite"><pre><span></span>/workspace/src/Solution.lean:2:8
parsing took 1.18s

/workspace/src/Solution.lean:2:8
elaboration of test_rw took 87.7ms
</pre></div>

<a name="193703036"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703036" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703036">Kenny Lau (Apr 12 2020 at 09:17)</a>:</h4>
<p>so maybe I can still use <code>rw</code> in my solution</p>

<a name="193703042"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703042" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703042">Kevin Buzzard (Apr 12 2020 at 09:17)</a>:</h4>
<p>Oh wow and the coolest corollary of not being subscribed to the stream is that every time I reload it it comes up in a different colour!</p>

<a name="193703316"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703316" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703316">Gabriel Ebner (Apr 12 2020 at 09:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110049">Mario Carneiro</span> <a href="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702948" title="#narrow/stream/113488-general/topic/rw.20is.20slow/near/193702948">said</a>:</p>
<blockquote>
<p>any idea what the culprit is?</p>
</blockquote>
<p>What's the problem?  I thought it is faster in Lean 3.8?  (It should be even faster in Lean 3.9.)</p>

<a name="193703330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703330">Mario Carneiro (Apr 12 2020 at 09:27)</a>:</h4>
<p>what changed?</p>

<a name="193703335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703335">Mario Carneiro (Apr 12 2020 at 09:27)</a>:</h4>
<p>not a problem per se, I just don't like when things mysteriously get better</p>

<a name="193703336"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703336" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703336">Gabriel Ebner (Apr 12 2020 at 09:27)</a>:</h4>
<p><a href="https://github.com/leanprover-community/lean/issues/180" title="https://github.com/leanprover-community/lean/issues/180">lean#180</a></p>

<a name="193703337"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703337" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703337">Gabriel Ebner (Apr 12 2020 at 09:28)</a>:</h4>
<p>Kenny complained, and I pushed a fix.</p>

<a name="193703378"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703378" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703378">Mario Carneiro (Apr 12 2020 at 09:28)</a>:</h4>
<p>oh right</p>

<a name="193703381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703381">Mario Carneiro (Apr 12 2020 at 09:28)</a>:</h4>
<p>so this is used in the parsers for various tactics?</p>

<a name="193703391"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703391" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703391">Kevin Buzzard (Apr 12 2020 at 09:29)</a>:</h4>
<p>Mario did you see <a href="https://github.com/leanprover-community/lean/issues/186" title="https://github.com/leanprover-community/lean/issues/186">lean#186</a>?</p>

<a name="193703449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/rw%20is%20slow/near/193703449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/36203rwisslow.html#193703449">Gabriel Ebner (Apr 12 2020 at 09:30)</a>:</h4>
<p>I guess this affects various things.  All tactic parsers use <code>reflect</code>, and when the <code>has_reflect</code> instance is implemented using <code>subst</code> or expression quotations, then it will be magically faster now.</p>


{% endraw %}

{% include archive_update.html %}