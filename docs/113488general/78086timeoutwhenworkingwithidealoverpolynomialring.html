---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/78086timeoutwhenworkingwithidealoverpolynomialring.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/78086timeoutwhenworkingwithidealoverpolynomialring.html">timeout when working with ideal over polynomial ring</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="173206867"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/timeout%20when%20working%20with%20ideal%20over%20polynomial%20ring/near/173206867" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/78086timeoutwhenworkingwithidealoverpolynomialring.html#173206867">Casper Putz (Aug 14 2019 at 14:17)</a>:</h4>
<p>I was working with the following setup:</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">discrete_field</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="n">ideal</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">α</span><span class="o">))</span>
</pre></div>


<p>For some reason I get a deterministic timeout whenever I do anything with <code>I</code>. For example: this gives a timeout:</p>
<div class="codehilite"><pre><span></span><span class="bp">#</span><span class="kn">check</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="n">submodule</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">α</span><span class="o">))</span>
</pre></div>


<p>But also writing down <code>I.carrier</code> or a membership statement <code>p ∈ I</code> gives a timeout. Working over an <code>integral_domain α</code> or a <code>field α</code> also causes the timeout. However, in the following setup I do not get a timeout:</p>
<div class="codehilite"><pre><span></span><span class="kn">variables</span> <span class="o">(</span><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="n">comm_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">division_ring</span> <span class="n">α</span><span class="o">]</span> <span class="o">[</span><span class="n">decidable_eq</span> <span class="n">α</span><span class="o">]</span>
<span class="kn">variables</span> <span class="o">(</span><span class="n">I</span> <span class="o">:</span> <span class="n">ideal</span> <span class="o">(</span><span class="n">polynomial</span> <span class="n">α</span><span class="o">))</span>
<span class="bp">#</span><span class="kn">check</span> <span class="n">I</span><span class="bp">.</span><span class="n">carrier</span>
</pre></div>


<p>(While a <code>field</code> is just a <code>comm_ring</code> and <code>division_ring</code>, so there must be some weird instance kicking in or something)</p>
<p>The problem is similar to the problem posted here: <a href="#narrow/stream/113488-general/topic/deterministic.20timeout.20with.20ideal.2Equotient.2Emk" title="#narrow/stream/113488-general/topic/deterministic.20timeout.20with.20ideal.2Equotient.2Emk">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/deterministic.20timeout.20with.20ideal.2Equotient.2Emk</a>.<br>
I tried increasing the class instance depth, and tried to find out what was happening using <code>trace.class_instances</code> but I could not manage to find the problem. Anybody any idea of why this may happen (and how one could fix it)?</p>


{% endraw %}

{% include archive_update.html %}