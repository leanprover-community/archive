---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html">Lots of errors in mathlib, is this normal?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="182977215"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182977215" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182977215">YH (Dec 09 2019 at 17:11)</a>:</h4>
<p><a href="/user_uploads/3121/A8lmM8caMarL7q3GGQv2Yhuk/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/A8lmM8caMarL7q3GGQv2Yhuk/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/3121/A8lmM8caMarL7q3GGQv2Yhuk/pasted_image.png"></a></div><p>I am looking at some lean files in mathlib, but it seems like lean gives a lot of errors like "unknown identifier 'ùìù'". Is this normal? The files are never altered by me.</p>

<a name="182977308"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182977308" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182977308">Mario Carneiro (Dec 09 2019 at 17:12)</a>:</h4>
<p>You probably have outdated <code>.olean</code>s</p>

<a name="182977351"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182977351" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182977351">Mario Carneiro (Dec 09 2019 at 17:12)</a>:</h4>
<p>you might also try restarting the lean server in case it's bad vscode caching</p>

<a name="182978597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182978597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182978597">YH (Dec 09 2019 at 17:26)</a>:</h4>
<p>What do I do in these cases? is restarting vscode enough? And how about the <code>.olean</code> ?</p>

<a name="182978849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182978849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182978849">YH (Dec 09 2019 at 17:29)</a>:</h4>
<p>Is <code>purge_olean.sh*</code> for this?</p>

<a name="182981354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981354">Johan Commelin (Dec 09 2019 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="249123">@YH</span> Are you working on mathlib directly, or on a project that has mathlib as dep?</p>

<a name="182981538"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981538" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981538">YH (Dec 09 2019 at 17:57)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="249123">YH</span> Are you working on mathlib directly, or on a project that has mathlib as dep?</p>
</blockquote>
<p>I just opened some mathlib file directly (I grep'ed and opened) and I saw these error.</p>

<a name="182981722"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981722" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981722">Johan Commelin (Dec 09 2019 at 17:59)</a>:</h4>
<p>Ok, I see. The best thing might be to <code>checkout lean-3.4.2</code> and then <code>cache-olean --fetch</code></p>

<a name="182981755"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981755" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981755">Johan Commelin (Dec 09 2019 at 17:59)</a>:</h4>
<p>That will give you a reasonable recent mathlib (yesterdays' in fact), with precompiled <code>olean</code> files</p>

<a name="182981858"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981858" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981858">Johan Commelin (Dec 09 2019 at 18:00)</a>:</h4>
<p>Unless there is some stupid <code>git tag</code> polluting your system, in which case you might need to do something like <code>git tag -D lean-3.4.2</code> first.</p>

<a name="182981859"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981859" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981859">YH (Dec 09 2019 at 18:00)</a>:</h4>
<p>How do I <code>checkout</code>?</p>

<a name="182981895"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182981895" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182981895">YH (Dec 09 2019 at 18:00)</a>:</h4>
<p>Oh git checkout</p>

<a name="182982206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182982206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182982206">Bryan Gin-ge Chen (Dec 09 2019 at 18:04)</a>:</h4>
<blockquote>
<p>I just opened some mathlib file directly </p>
</blockquote>
<p>Note also that you should always open the root <strong>directory</strong> of a Lean project (the one with <code>leanpkg.toml</code>), not individual files, as otherwise the Lean extension may not be able to find the correct path to dependencies.</p>

<a name="182982583"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182982583" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182982583">YH (Dec 09 2019 at 18:07)</a>:</h4>
<p>Oh OK. The problems are mostly solved. I opened the same file (after opening the root directory) and there is a lot less errors. The only errors left are <code>(deterministic) timeout </code></p>

<a name="182984987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182984987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182984987">Kevin Buzzard (Dec 09 2019 at 18:32)</a>:</h4>
<p>close and re-open VS Code?</p>

<a name="182987578"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182987578" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182987578">YH (Dec 09 2019 at 18:59)</a>:</h4>
<blockquote>
<p>close and re-open VS Code?</p>
</blockquote>
<p>Still, this particular lemma always times out. <br>
<a href="https://github.com/leanprover-community/mathlib/blob/master/src/topology/algebra/infinite_sum.lean#L635-L638" target="_blank" title="https://github.com/leanprover-community/mathlib/blob/master/src/topology/algebra/infinite_sum.lean#L635-L638">https://github.com/leanprover-community/mathlib/blob/master/src/topology/algebra/infinite_sum.lean#L635-L638</a></p>

<a name="182988334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Lots%20of%20errors%20in%20mathlib%2C%20is%20this%20normal%3F/near/182988334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/07125Lotsoferrorsinmathlibisthisnormal.html#182988334">Kevin Buzzard (Dec 09 2019 at 19:07)</a>:</h4>
<p>try finding it in mathlib and compiling it from the command line? I guess you could have changed the VS Code deterministic timeout parameter?</p>


{% endraw %}

{% include archive_update.html %}