---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113488general/16384howdoIstepthroughproofs.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113488general/index.html">general</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html">how do I step through proofs?</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="191178953"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/191178953" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#191178953">Dan Abolafia (Mar 19 2020 at 21:41)</a>:</h4>
<p>I want to be able to step through the type checker on a proof the same way I could step through the execution of a program in a debugger. When reading a proof on paper, there is uncertainty about what exactly is going on and the meaning of symbols. In principle, the benefit of computer proofs is that this ambiguity goes away. I've been trying to understand the proofs in mathlib. For instance, the proof that sqrt(2) is irrational, and the proof that the reals are uncountable. I have VSCode setup with lean, and see the goal outputs and types when I put my cursor at places in these proofs. I'm finding that I'm still largely guessing at what each line is doing. In the end it seems no different than reading a proof on paper. I'm wondering if Lean provides any additional debugger tools that let me step through every single step the type checker goes through?</p>

<a name="191188797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/191188797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#191188797">Mario Carneiro (Mar 19 2020 at 23:49)</a>:</h4>
<p>Perhaps <code>#explode</code> might help break the proof down a bit more</p>

<a name="191207489"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/191207489" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#191207489">Kevin Buzzard (Mar 20 2020 at 07:02)</a>:</h4>
<p>If proofs are written in tactic mode then it's easy to step through them. If they're in term mode, or in tactic mode but with semicolon separators, then it's harder but you can often find out more by deleting terms and replacing them with a <code>_</code>, which can sometimes persuade lean to tell you the type of the term which is supposed to go in the hole.</p>

<a name="191208691"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/191208691" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#191208691">Mario Carneiro (Mar 20 2020 at 07:29)</a>:</h4>
<p>My understanding of the question is that he is not happy with the level of detail provided by tactic proofs</p>

<a name="192135361"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192135361" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192135361">Dan Abolafia (Mar 28 2020 at 18:20)</a>:</h4>
<p><code>#explode</code> is helpful, but it is not interactive. I have to manually explode every definition used in the proof. Yes I wish it were possible to step through tactic meta programming, as well as see the proof checker state at every step, analogous to seeing all the local variable state in a debugger. That would at least allow me to figure out exactly what any line of code does in principle, though it may be very tedious.</p>

<a name="192135662"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192135662" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192135662">Andrew Ashworth (Mar 28 2020 at 18:28)</a>:</h4>
<p>When is Metamath proof explorer getting ported to Lean? :)</p>

<a name="192144997"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192144997" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192144997">Mario Carneiro (Mar 28 2020 at 22:40)</a>:</h4>
<p>This is a good question; I don't know how to reasonably support an explorer type interface to <code>#explode</code> using the tactic / vscode tricks available to us in lean. We could always generate tens of thousands of html files like metamath does, but I think it would be much more appropriate for lean to have some pull based API where the pages are only constructed as they are requested.</p>

<a name="192145518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192145518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192145518">Dan Abolafia (Mar 28 2020 at 22:54)</a>:</h4>
<p>Is there any thought being given to adding the kind of debugger I'm describing to lean in the future?</p>

<a name="192145611"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192145611" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192145611">Reid Barton (Mar 28 2020 at 22:56)</a>:</h4>
<p>I don't understand what this hypothetical feature does</p>

<a name="192185703"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192185703" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192185703">Dan Abolafia (Mar 29 2020 at 17:45)</a>:</h4>
<p>I suppose there are two features:<br>
1) A debugger to step through tactic metaprogramming would be like a typical code debugger, if i understand the language correctly.<br>
2) I think what I'm asking for is to be able to step through the execution of the proof checker, and have each step in that execution be tied to some position in user-facing code, i.e. any lean code involved in the proof (e.g. mathlib definitions, axioms, theorems, etc). Like a debugger, I would also want the checker state to be surfaced somehow, so that I can see what the checker sees. I don't have much of an understanding of the inner workings of the proof checker, so I don't know to what extent this is feasible.</p>

<a name="192199597"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192199597" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192199597">Reid Barton (Mar 29 2020 at 23:32)</a>:</h4>
<p>Two major difficulties with 2):</p>
<ul>
<li>In practice the proof checker (I assume this means the kernel) takes many, many more "steps" than you would care to follow. You would need to somehow find the steps you're interested in, but this is probably a meaningless concept, because:</li>
<li>Tactics, especially "higher-level" ones such as <code>simp</code> or <code>ring</code>, can produce proofs where even the proof term itself is essentially not comprehensible, let alone the process of checking the proof term. There simply is no more comprehensible layer below the level of these tactics. (That's not to say such a layer could not exist, just that it does not exist with the way these tactics are implemented currently.)</li>
</ul>
<p>I think there is a fallacy here that if you have access to more detail, it will give you greater understanding of what is happening. That is not necessarily the case when the amount of information is overwhelming and where the nature of the information is not more humanly accessible than the original form.</p>

<a name="192199604"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192199604" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192199604">Reid Barton (Mar 29 2020 at 23:32)</a>:</h4>
<p>It would help to have some examples of what you would hope to get out of such a tool.</p>

<a name="192199616"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192199616" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192199616">Reid Barton (Mar 29 2020 at 23:33)</a>:</h4>
<p>For example if you're completely new to lean and you want to understand proofs of things like <code>p ∧ (q ∧ r) ↔ (p ∧ q) ∧ r </code>, that's a different matter.</p>

<a name="192199760"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192199760" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192199760">Reid Barton (Mar 29 2020 at 23:37)</a>:</h4>
<p>But no amount of tracing the type checking of <code>quadratic_reciprocity</code> is going to tell you why quadratic reciprocity is true.</p>

<a name="192200232"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200232" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200232">Mario Carneiro (Mar 29 2020 at 23:51)</a>:</h4>
<p>Needless to say, I beg to differ. While the way in which lean sees these proofs is not readily accessible to human readers, this is more a presentation issue than anything else. I strongly believe that it is important to retain some connection to what is happening at the low level. If you give that up, the proof checker starts to fall into "magic" territory, and there is no longer a reason to believe in its trustworthiness</p>

<a name="192200291"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200291" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200291">Mario Carneiro (Mar 29 2020 at 23:53)</a>:</h4>
<p>At the very least, there is an abstract formalism associated with lean (c.f. my thesis), and it should be possible to present any lean term as a proof in that system</p>

<a name="192200299"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200299" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200299">Kevin Buzzard (Mar 29 2020 at 23:53)</a>:</h4>
<p>Sure, it's just that quadratic reciprocity will be incomprehensible to a human if you look at it that way.</p>

<a name="192200300"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200300" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200300">Mario Carneiro (Mar 29 2020 at 23:53)</a>:</h4>
<p>currently we aren't there yet, because there is no way to trace definitional equality proofs</p>

<a name="192200306"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200306" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200306">Kevin Buzzard (Mar 29 2020 at 23:53)</a>:</h4>
<p>You're much better off reading a book.</p>

<a name="192200355"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200355" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200355">Mario Carneiro (Mar 29 2020 at 23:54)</a>:</h4>
<p>It is possible that the proof of quadratic reciprocity has gone past what people can read, but I would submit that if this is the case then it's a bad proof</p>

<a name="192200367"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200367" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200367">Reid Barton (Mar 29 2020 at 23:54)</a>:</h4>
<p>I'm very confused by all of this!</p>

<a name="192200371"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200371" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200371">Mario Carneiro (Mar 29 2020 at 23:54)</a>:</h4>
<p>There is no reason why a proof of quadratic reciprocity should be incomprehensible</p>

<a name="192200375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200375">Mario Carneiro (Mar 29 2020 at 23:54)</a>:</h4>
<p>even in full formal detail</p>

<a name="192200426"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200426" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200426">Mario Carneiro (Mar 29 2020 at 23:56)</a>:</h4>
<p>If you look at a metamath proof, it is probably more than one would care to write by a factor of about 10 or so, but not more than that. This is within the range of human understanding</p>

<a name="192200438"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200438" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200438">Reid Barton (Mar 29 2020 at 23:56)</a>:</h4>
<p>All I'm saying is that the proof you actually write in the proof assistant is more comprehensible than what you get by trying to examine, say, the proof term generated by the tactic. Isn't that the purpose of a high-level proof language?</p>

<a name="192200444"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200444" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200444">Mario Carneiro (Mar 29 2020 at 23:57)</a>:</h4>
<p>the thing is, proof terms are not a good way to present proofs</p>

<a name="192200447"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200447" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200447">Mario Carneiro (Mar 29 2020 at 23:57)</a>:</h4>
<p>because what people actually care about are the types</p>

<a name="192200449"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200449" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200449">Reid Barton (Mar 29 2020 at 23:57)</a>:</h4>
<p>Right, but this is what was asked for.</p>

<a name="192200460"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200460" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200460">Reid Barton (Mar 29 2020 at 23:57)</a>:</h4>
<p>Well, not the term per se, but something even worse.</p>

<a name="192200464"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200464" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200464">Mario Carneiro (Mar 29 2020 at 23:57)</a>:</h4>
<p>something even better</p>

<a name="192200470"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200470" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200470">Reid Barton (Mar 29 2020 at 23:58)</a>:</h4>
<p>Well, maybe we have different interpretations of the question then.</p>

<a name="192200509"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200509" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200509">Mario Carneiro (Mar 29 2020 at 23:58)</a>:</h4>
<p>proof terms without the typing information requires the user to hold the whole context in their head at all times, which requires ridiculous attention to detail</p>

<a name="192200517"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200517" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200517">Mario Carneiro (Mar 29 2020 at 23:58)</a>:</h4>
<p>you can't jump around in a proof like that</p>

<a name="192200519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200519">Mario Carneiro (Mar 29 2020 at 23:58)</a>:</h4>
<p>which is what humans do</p>

<a name="192200531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200531">Mario Carneiro (Mar 29 2020 at 23:59)</a>:</h4>
<p><code>#explode</code> tries to fill that gap by presenting the types of each intermediate term, and mostly hiding the proof term itself</p>

<a name="192200535"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200535" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200535">Mario Carneiro (Mar 29 2020 at 23:59)</a>:</h4>
<p>but it still has nothing to say about definitional unfolding</p>

<a name="192200539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200539">Reid Barton (Mar 29 2020 at 23:59)</a>:</h4>
<p>I think the question asked is probably not the real intended question anyways</p>

<a name="192200584"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200584" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200584">Reid Barton (Mar 30 2020 at 00:00)</a>:</h4>
<p>and I think you're trying to answer the real intended question</p>

<a name="192200614"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200614" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200614">Reid Barton (Mar 30 2020 at 00:01)</a>:</h4>
<p>Or maybe not. I have no idea.</p>

<a name="192200626"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200626" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200626">Mario Carneiro (Mar 30 2020 at 00:01)</a>:</h4>
<p>I think that <code>#explode</code> has some limitations since it is non-interactive, and a more debugger like interface would be good, but there are a lot of unanswered UI and implementation details to that</p>

<a name="192200679"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200679" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200679">Mario Carneiro (Mar 30 2020 at 00:03)</a>:</h4>
<p>One maybe easy option would be a tactic-ifier that takes any lean proof (as a term), and reconstructs an <code>apply</code> based tactic proof of it</p>

<a name="192200683"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200683" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200683">Mario Carneiro (Mar 30 2020 at 00:03)</a>:</h4>
<p>then you could use the goal view to see all the intermediate states</p>

<a name="192200731"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200731" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200731">Bryan Gin-ge Chen (Mar 30 2020 at 00:04)</a>:</h4>
<p>That sounds really cool.</p>

<a name="192200771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200771">Reid Barton (Mar 30 2020 at 00:05)</a>:</h4>
<p>I was responding to the statement of 2). I still am fairly certain that given a tactic mode proof, there is no amount of visibility into things which actually currently happen during the processing of that proof that will give a greater understanding of what is happening in the proof than to just step through the tactic steps and watch the goal window.</p>

<a name="192200820"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192200820" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192200820">Reid Barton (Mar 30 2020 at 00:06)</a>:</h4>
<p>maybe with some rare exceptions for tactics like <code>solve_by_elim</code> that tend to produce comprehensible proofs</p>

<a name="192201348"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201348" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201348">Mario Carneiro (Mar 30 2020 at 00:23)</a>:</h4>
<p>Many tactics are too high level to be able to follow how the goal changed</p>

<a name="192201354"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201354" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201354">Mario Carneiro (Mar 30 2020 at 00:23)</a>:</h4>
<p>And this will only get worse as tactics improve</p>

<a name="192201397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201397">Mario Carneiro (Mar 30 2020 at 00:24)</a>:</h4>
<p>if I see a proof <code>by magic</code> then following your approach I have no recourse but to just believe</p>

<a name="192201401"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201401" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201401">Reid Barton (Mar 30 2020 at 00:24)</a>:</h4>
<p>I think the original question is based on a faulty analogy. If we pretend proofs are like programs then stepping through the checking of a proof is like stepping through the compilation of a program. This is not a good way to try to understand a program. (It might be a good way to debug your compiler.)</p>

<a name="192201422"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201422" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201422">Kevin Buzzard (Mar 30 2020 at 00:24)</a>:</h4>
<p>The computer says it's OK so it's OK. I can completely understand what <code>ring</code> is doing and I have no interest in learning about horner form.</p>

<a name="192201423"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201423" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201423">Mario Carneiro (Mar 30 2020 at 00:24)</a>:</h4>
<p>It's amusing that you say that because I find the analogy extremely accurate</p>

<a name="192201430"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201430" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201430">Kevin Buzzard (Mar 30 2020 at 00:25)</a>:</h4>
<p>That's because you're not a mathematician</p>

<a name="192201431"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201431" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201431">Reid Barton (Mar 30 2020 at 00:25)</a>:</h4>
<p>Right, but the proposed approach is not necessarily going to help with those mystery tactics either. That is what I tried to address with my parenthetical sentence.</p>

<a name="192201433"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201433" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201433">Kevin Buzzard (Mar 30 2020 at 00:25)</a>:</h4>
<p>so you think about maths in a different way. If you want to actually get somewhere you have to learn to fly.</p>

<a name="192201437"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201437" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201437">Reid Barton (Mar 30 2020 at 00:25)</a>:</h4>
<p>Which analogy is accurate?</p>

<a name="192201439"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201439" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201439">Mario Carneiro (Mar 30 2020 at 00:25)</a>:</h4>
<p>It's not so much stepping through the compilation but rather stepping through the low level assembly that comes out the other end</p>

<a name="192201480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201480">Mario Carneiro (Mar 30 2020 at 00:26)</a>:</h4>
<p>stepping through the compilation would be debugging the tactic itself</p>

<a name="192201482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201482">Reid Barton (Mar 30 2020 at 00:26)</a>:</h4>
<p>I still think you're reading the question as what you want it to be and not as what it actually says.</p>

<a name="192201485"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201485" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201485">Mario Carneiro (Mar 30 2020 at 00:26)</a>:</h4>
<p>that's quite possible. I have strong views on this topic and they may be clouding my reading</p>

<a name="192201544"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201544" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201544">Mario Carneiro (Mar 30 2020 at 00:29)</a>:</h4>
<blockquote>
<p>2) I think what I'm asking for is to be able to step through the execution of the proof checker, and have each step in that execution be tied to some position in user-facing code, i.e. any lean code involved in the proof (e.g. mathlib definitions, axioms, theorems, etc). Like a debugger, I would also want the checker state to be surfaced somehow, so that I can see what the checker sees.</p>
</blockquote>
<p>I think it would be hard to relate the steps in the checker (the kernel) to code written in the source text (the tactics), because of the two step compilation process. However, it should be possible to relate tactics to bits of the proof term, and bits of the proof term to checker steps</p>

<a name="192201551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201551">Reid Barton (Mar 30 2020 at 00:29)</a>:</h4>
<p>It's also probably true that what you want the question to be is the same as what the asker wanted the question to be, but without the original asker here we can't really know.</p>

<a name="192201619"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201619" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201619">Mario Carneiro (Mar 30 2020 at 00:31)</a>:</h4>
<p>The recently added <code>show_term</code> tactic will show an individual tactic's contribution to the resulting proof term</p>

<a name="192201621"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201621" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201621">Reid Barton (Mar 30 2020 at 00:31)</a>:</h4>
<p>Another thing along these lines that would be neat is to make <code>simp</code> or <code>rw</code> (with many rewrite steps) output a <code>calc</code>-style proof</p>

<a name="192201667"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201667" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201667">Reid Barton (Mar 30 2020 at 00:32)</a>:</h4>
<p>I don't really know whether that's trivial or difficult.</p>

<a name="192201672"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how%20do%20I%20step%20through%20proofs%3F/near/192201672" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113488general/16384howdoIstepthroughproofs.html#192201672">Mario Carneiro (Mar 30 2020 at 00:32)</a>:</h4>
<p>I think a better primitive than <code>calc</code> would be a <code>conv</code> proof where the only steps are descending into subterms and transitivity</p>


{% endraw %}

{% include archive_update.html %}