---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/49270algebraisnotscalingforme.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html">algebra is not scaling for me</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="188403964"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188403964" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#188403964">Kevin Buzzard (Feb 17 2020 at 20:09)</a>:</h4>
<p><a href="/user_uploads/3121/42b3M-T1ZUAXFzFvAt-PKkGP/artintate1.png" target="_blank" title="artintate1.png">artintate1.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/3121/42b3M-T1ZUAXFzFvAt-PKkGP/artintate1.png" target="_blank" title="artintate1.png"><img src="/user_uploads/3121/42b3M-T1ZUAXFzFvAt-PKkGP/artintate1.png"></a></div><p><a href="/user_uploads/3121/HNdBiVdjAPg9PWrjsdT9W7nD/artintate2.png" target="_blank" title="artintate2.png">artintate2.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/3121/HNdBiVdjAPg9PWrjsdT9W7nD/artintate2.png" target="_blank" title="artintate2.png"><img src="/user_uploads/3121/HNdBiVdjAPg9PWrjsdT9W7nD/artintate2.png"></a></div><p>There's a proof from Atiyah--Macdonald. There are three rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi><mo>⊆</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A\subseteq B\subseteq C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> and during the proof a fourth ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is introduced. All the fast and loose playing with elements of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> makes me want to write this entire proof using subsets of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> (i.e. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is a big ring and everything else is a subset). However the following concepts are also used: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is finitely-generated as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is finitely-generated as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>-module, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is finitely-generated as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-module, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is a Noetherian ring, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> is finitely-generated as a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-module, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is finitely-generated as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> is finitely-generated as an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, and this makes me want to write the proof using four different rings and lots of <code>[algebra X Y]</code> instances. Whichever option I choose will then cause me pain in the parts of the argument which work far more nicely with the other option. What am I supposed to be doing here?</p>

<a name="188405617"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188405617" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#188405617">Johan Commelin (Feb 17 2020 at 20:45)</a>:</h4>
<p>This seems like a really nice test case.</p>

<a name="188405636"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188405636" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#188405636">Johan Commelin (Feb 17 2020 at 20:45)</a>:</h4>
<p>I completely agree that things like this are an enormous pain in the back at the moment. And we have to find a way to make it go smoother.</p>

<a name="188406193"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188406193" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#188406193">Patrick Massot (Feb 17 2020 at 20:56)</a>:</h4>
<p>We can ask <span class="user-mention" data-user-id="110172">@Assia Mahboubi</span> and <span class="user-mention" data-user-id="110193">@Cyril Cohen</span> how that would be handled in math-comp.</p>

<a name="188408482"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/188408482" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#188408482">Kevin Buzzard (Feb 17 2020 at 21:43)</a>:</h4>
<p>I wonder whether this is the sort of situation (when doing finite groups, say) which makes people want to work in some big underlying group like they do in Feit-Thompson?</p>
<p>Having thought about this more on the way home though, without touching Lean, I am beginning to think that actually the approach with everything a different type might work fine, after some sort of interface is written. Maybe I'm being naive. I guess one thing that will come up is that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is defined later on, and probably at this stage <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> is an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra, but I'm going to need to make <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> a <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">B_0</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>-algebra and hope that everything works out with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> now being an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>-algebra in two ways (actually maybe it isn't even an algebra in two ways, as that instance is not there I guess).</p>

<a name="191346381"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346381" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191346381">Assia Mahboubi (Mar 21 2020 at 13:46)</a>:</h4>
<p>Hi, sorry for this answer one month later, and many thanks <span class="user-mention" data-user-id="210574">@Patrick Massot</span> for inviting me in this discussion. I will try to write a mockup, mathcomp style, draft one of these days. (NB: this might well be outrageous wishful thinking, as the complete lockdown in France has considerably deteriorated my working conditions.) I would say that such a mockup would rely on two ingredients:</p>
<ul>
<li>Having <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> as (carrier) sets of a same  type</li>
<li>Attaching different algebraic structures to a same carrier set via the definition of different, convertible copies of the same carrier.</li>
</ul>
<p>But I have been told at several occasion that this is considered as too brittle in mathlib (or in Lean?). I would love to understand better why so.</p>

<a name="191346640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191346640">Johan Commelin (Mar 21 2020 at 13:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110172">@Assia Mahboubi</span> Cool! (And good luck with the tough situation.)<br>
In this example, the maps <code>A → B → C</code> are injective, so we can regard them as subrings of some ambient ring. But in other situations the maps need not be injective. And then you can use sets in an ambient type...</p>

<a name="191346665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191346665">Johan Commelin (Mar 21 2020 at 13:53)</a>:</h4>
<p>This is my main reason why I think the "subsets of ambient type" cannot work for the general commutative algebra problem</p>

<a name="191346678"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346678" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191346678">Mario Carneiro (Mar 21 2020 at 13:53)</a>:</h4>
<p>We use this trick in a few places in mathlib, notably in <code>additive</code> and <code>multiplicative</code>. In other places, like <code>opposite</code>, we have moved from the "defeq newtype" approach to a more locked down "irreducible defeq newtype" which still gives you <code>up</code> and <code>down</code> functions satisfying <code>up (down x) = x</code> and <code>down (up x) = x</code> definitionally. But it seems in lean 4 that these have been abolished in favor of singleton structures, which loses one of those two defeqs for the coercions.</p>

<a name="191346846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191346846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191346846">Mario Carneiro (Mar 21 2020 at 13:56)</a>:</h4>
<p>One issue you can run into if you use types like <code>multiplicative nat</code> is that it becomes easy to get confused since the notations are all wrong: <code>0</code> is actually <code>1</code> and if you aren't careful your goal might end up saying <code>1 * 1 = 2</code> where the <code>1</code> is carrying the instance from <code>nat</code> and <code>*</code> is carrying the instance from <code>multiplicative nat</code>.</p>

<a name="191347937"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191347937" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191347937">Assia Mahboubi (Mar 21 2020 at 14:22)</a>:</h4>
<p><span class="user-mention" data-user-id="110049">@Mario Carneiro</span> <span class="user-mention" data-user-id="112680">@Johan Commelin</span> many thanks for your answers! This is really helpful. Note that I am not advocating this  as an all-purpose solution, just trying to think about Kevin's problem, which is stated on paper using set inclusions. I am just suggesting to formalize these inclusions as, well, inclusions. Also, I am used to a different, more bundled approach to notations, and in any case I agree that the notation problem mentioned by Mario is of a different nature.</p>

<a name="191348029"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348029" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348029">Kevin Buzzard (Mar 21 2020 at 14:24)</a>:</h4>
<p>The statement and proof of the lemma work fine if A -&gt; B -&gt; C are maps of rings. I was surprised! One proof is "replacing A and B by their images in C, we can assume <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi><mo>⊆</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">A\subseteq B\subseteq C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>..."</p>

<a name="191348062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348062">Kevin Buzzard (Mar 21 2020 at 14:25)</a>:</h4>
<p>The intermediate construction B_0 really does seem to be a subset of B though.</p>

<a name="191348195"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348195" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348195">Assia Mahboubi (Mar 21 2020 at 14:28)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> ah ok! Then it is the same as what I was suggesting. Working with subsets when possible does not mean that one does not generalize statement afterwards. Thanks for this additional comment.</p>

<a name="191348229"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348229" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348229">Kevin Buzzard (Mar 21 2020 at 14:29)</a>:</h4>
<p>My problem was that I didn't know if I wanted [B : subring C] or [algebra B C]. In mathematics they're kind of the same</p>

<a name="191348294"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348294" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348294">Assia Mahboubi (Mar 21 2020 at 14:30)</a>:</h4>
<p>Does it make a different when you need to <em>apply</em> this lemma? I mean, in Lean of course.</p>

<a name="191348321"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348321" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348321">Kevin Buzzard (Mar 21 2020 at 14:31)</a>:</h4>
<p>But with this B_0 it really was built as a subring of B. So I just want to painlessly switch between the two concepts really. Maybe it just means writing a bunch of interface to enable me to do this. And then I will need things like "B is integral over A" which will have two definitions depending on whether B is an A-algebra or A is a subring of B, and we need that one is true if and only if the other is etc.</p>

<a name="191348330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348330">Kevin Buzzard (Mar 21 2020 at 14:31)</a>:</h4>
<p>Yes I'm sure that applying it will be hopeless with the subring definition</p>

<a name="191348415"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348415" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348415">Kevin Buzzard (Mar 21 2020 at 14:33)</a>:</h4>
<p>so then everything has to be an algebra over everything else. But in the proof I really make B_0 a subring of B, and the map from A to B lands in B_0, so now I have to decide whether I want to make a new type B_0 with B_0 an A-algebra and B a B_0-algebra or whether to have some hybrid approach with some subrings and some algebras</p>

<a name="191348640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348640">Assia Mahboubi (Mar 21 2020 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> I am lost : I though that in the proof <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> are subsets, so what it is the problem with the "map" from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>?</p>

<a name="191348666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348666">Kevin Buzzard (Mar 21 2020 at 14:39)</a>:</h4>
<p>So I do not really know what I am supposed to be proving here. If I prove the subset version, then I can deduce the version with A -&gt; B -&gt; C. This is what I'd say to a mathematician.</p>

<a name="191348693"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348693" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348693">Kevin Buzzard (Mar 21 2020 at 14:39)</a>:</h4>
<p>But the subset version is probably not so easy to apply in practice because <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">N</mi></mrow><annotation encoding="application/x-tex">\mathbb{N}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">N</span></span></span></span></span> is not a subset of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbb">Z</span></span></span></span></span> even though mathematicians think it is.</p>

<a name="191348694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348694">Assia Mahboubi (Mar 21 2020 at 14:39)</a>:</h4>
<p>Exactly, and that's the route I would go for in type theory as well.</p>

<a name="191348739"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348739" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348739">Kevin Buzzard (Mar 21 2020 at 14:40)</a>:</h4>
<p>The problem is that if I have a morphism of rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> then there are various common predicates, such as "the morphism is integral"</p>

<a name="191348747"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348747" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348747">Kevin Buzzard (Mar 21 2020 at 14:40)</a>:</h4>
<p>and if I have a subset <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> then we get the same predicates</p>

<a name="191348751"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348751" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348751">Kevin Buzzard (Mar 21 2020 at 14:40)</a>:</h4>
<p>because there's an induced morphism</p>

<a name="191348761"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348761" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348761">Kevin Buzzard (Mar 21 2020 at 14:41)</a>:</h4>
<p>and some of these predicates are defined for subrings and some are defined for morphisms</p>

<a name="191348771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348771">Kevin Buzzard (Mar 21 2020 at 14:41)</a>:</h4>
<p>and some are perhaps defined for both, and then you need some theorem saying that one is true iff the other is true</p>

<a name="191348821"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348821" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348821">Kevin Buzzard (Mar 21 2020 at 14:42)</a>:</h4>
<p>but actually the problem is much worse</p>

<a name="191348826"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348826" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348826">Kevin Buzzard (Mar 21 2020 at 14:42)</a>:</h4>
<p>because if A and B are both subsets of C in the sense that they are terms of type <code>set C</code></p>

<a name="191348831"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348831" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348831">Kevin Buzzard (Mar 21 2020 at 14:42)</a>:</h4>
<p>then A is not a subset of B, at least in Lean</p>

<a name="191348834"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348834" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348834">Kevin Buzzard (Mar 21 2020 at 14:42)</a>:</h4>
<p>in the sense that A doesn't have type <code>set B</code></p>

<a name="191348844"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348844" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348844">Kevin Buzzard (Mar 21 2020 at 14:43)</a>:</h4>
<p>so now I need another predicate: if A and B are both subsets of C then one can ask that the inclusion A -&gt; B is integral as well</p>

<a name="191348846"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348846" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348846">Kevin Buzzard (Mar 21 2020 at 14:43)</a>:</h4>
<p>so this is now three ways of saying exactly the same thing</p>

<a name="191348849"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348849" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348849">Mario Carneiro (Mar 21 2020 at 14:43)</a>:</h4>
<p>aren't they all the same though?</p>

<a name="191348852"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348852" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348852">Kevin Buzzard (Mar 21 2020 at 14:43)</a>:</h4>
<p>sure</p>

<a name="191348882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348882">Kevin Buzzard (Mar 21 2020 at 14:44)</a>:</h4>
<p>and of course I could hack through some proof</p>

<a name="191348893"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348893" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348893">Mario Carneiro (Mar 21 2020 at 14:44)</a>:</h4>
<p>like in lean that would just be one predicate and various kinds of coercion arrows</p>

<a name="191348901"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348901" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348901">Assia Mahboubi (Mar 21 2020 at 14:44)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> , in the first version of the lemma, the one about inclusions, then <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span> are all sets of a same, larger type. Which does not even need to be equiped with a ring structure.</p>

<a name="191348923"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348923" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348923">Kevin Buzzard (Mar 21 2020 at 14:45)</a>:</h4>
<p>Right -- so in the odd order paper this is the way of thinking.</p>

<a name="191348928"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348928" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348928">Kevin Buzzard (Mar 21 2020 at 14:45)</a>:</h4>
<p>Make everything a subset of a large object, and then put the predicates on inclusions of subsets</p>

<a name="191348935"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191348935" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191348935">Kevin Buzzard (Mar 21 2020 at 14:45)</a>:</h4>
<p>But Mario is saying the exact opposite, he's saying put the predicate on A a ring and B an A-algebra</p>

<a name="191349012"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349012" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349012">Assia Mahboubi (Mar 21 2020 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191348928" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191348928">said</a>:</p>
<blockquote>
<p>Make everything a subset of a large object, and then put the predicates on inclusions of subsets</p>
</blockquote>
<p>And afterwards, when needed and possible, prove alternate versions for items with a different carrier type, images under an appropriate morphism.</p>

<a name="191349097"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349097" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349097">Kevin Buzzard (Mar 21 2020 at 14:48)</a>:</h4>
<p>so you're saying that I should define the concepts for A and B both subrings of some large X, and then if I happen to have a map of rings R -&gt; S then the image of R is a subset of the universal subset of S</p>

<a name="191349113"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349113" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349113">Assia Mahboubi (Mar 21 2020 at 14:49)</a>:</h4>
<p>Yes</p>

<a name="191349120"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349120" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349120">Johan Commelin (Mar 21 2020 at 14:49)</a>:</h4>
<p>I think she wants <code>A</code> <code>B</code> and <code>C</code> subrings of large <code>R</code>.</p>

<a name="191349122"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349122" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349122">Kevin Buzzard (Mar 21 2020 at 14:49)</a>:</h4>
<p>but now if I have R -&gt; S and S -&gt; T and I get an induced map R -&gt; T then aren't I in big trouble?</p>

<a name="191349184"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349184" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349184">Kevin Buzzard (Mar 21 2020 at 14:50)</a>:</h4>
<p>because my integrality predicate on R -&gt; S is about an inclusion (image of R) -&gt; (universal subset of S) in S</p>

<a name="191349199"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349199" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349199">Kevin Buzzard (Mar 21 2020 at 14:50)</a>:</h4>
<p>but I now want to talk about the image of R and the image of S in T which is a different thing</p>

<a name="191349209"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349209" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349209">Assia Mahboubi (Mar 21 2020 at 14:51)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span>, in general the supertype does not need to have a very strong structure. The carrier type of finite groups in the odd order theorem formal development is not necessarily a group itself.</p>

<a name="191349282"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349282" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349282">Kevin Buzzard (Mar 21 2020 at 14:52)</a>:</h4>
<p>Isn't the issue here that if I define the predicate for two subsets A and B of a large ring X, with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>, if I define integrality for this, then if I have rings <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">A'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>B</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">B'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> subsets of a large ring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span></span></span></span>, with <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">A'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> isomorphic to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>B</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">B'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> isomorphic to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> and the diagram commuting, I can't deduce integrality of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>A</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup><mo>→</mo><msup><mi>B</mi><mo lspace="0em" mathvariant="normal" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">A'\to B'</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> from integrality of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></p>

<a name="191349295"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349295" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349295">Patrick Massot (Mar 21 2020 at 14:52)</a>:</h4>
<p>Assia, are those lemmas stated in terms of an amorphous ambient type meant to be part of the public API, or are they hidden? (And thanks for joining us!)</p>

<a name="191349307"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349307" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349307">Assia Mahboubi (Mar 21 2020 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> sorry you lost me. We are no more talking about the same lemma, are we?</p>

<a name="191349334"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349334" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349334">Kevin Buzzard (Mar 21 2020 at 14:53)</a>:</h4>
<p>I am trying to work out how to define 100 predicates on a situation where I have an injective map <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> of rings.</p>

<a name="191349335"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349335" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349335">Assia Mahboubi (Mar 21 2020 at 14:53)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="210574">@Patrick Massot</span> ! My pleasure, again, thank you!</p>

<a name="191349396"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349396" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349396">Kevin Buzzard (Mar 21 2020 at 14:54)</a>:</h4>
<p>I can model this situation in three ways. (1) I can define a structure <code>algebra A B</code> to mean that A and B are rings and we have a map A -&gt; B (2) I can consider A as a subset of B or (3) I can consider both A and B as subsets of a larger structure.</p>

<a name="191349400"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349400" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349400">Assia Mahboubi (Mar 21 2020 at 14:54)</a>:</h4>
<p>It is not completly amorphous: it is equipped with a signature, which fixes the laws common to all sub-stuff under consideration (here, ring operations I guess).</p>

<a name="191349413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349413">Kevin Buzzard (Mar 21 2020 at 14:55)</a>:</h4>
<p>I want to define 100 predicates and prove 100 lemmas about these predicates</p>

<a name="191349429"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349429" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349429">Kevin Buzzard (Mar 21 2020 at 14:55)</a>:</h4>
<p>and the lemmas are of the form "if A -&gt; B has property P, and B -&gt; C has property Q, then A -&gt; C has property R"</p>

<a name="191349445"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349445" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349445">Kevin Buzzard (Mar 21 2020 at 14:55)</a>:</h4>
<p>or "if A -&gt; B and B -&gt; C are ring homomorphisms and if A -&gt; B has property P and A -&gt; C has property Q then B -&gt; C has property R"</p>

<a name="191349504"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349504" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349504">Kevin Buzzard (Mar 21 2020 at 14:56)</a>:</h4>
<p>and all of these predicates make sense for general ring homomorphisms A -&gt; B, but they only depend on the image of A in B</p>

<a name="191349516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349516">Kevin Buzzard (Mar 21 2020 at 14:57)</a>:</h4>
<p>so we can imagine that they are predicates on a ring B and a subring A</p>

<a name="191349581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349581">Chris Hughes (Mar 21 2020 at 14:58)</a>:</h4>
<p>The idea of making everything a subset of a big Type, is basically just the assumption that everything lives inside some big commutative diagram where the maps are injective. What do you lose by just assuming something like this, where there are no injectivity assumptions?</p>
<div class="codehilite"><pre><span></span><span class="o">{</span><span class="n">ι</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">}</span> <span class="o">[</span><span class="n">complete_lattice</span> <span class="n">ι</span><span class="o">]</span> <span class="o">(</span><span class="n">R</span> <span class="o">:</span> <span class="n">ι</span> <span class="bp">→</span> <span class="kt">Type</span><span class="bp">*</span><span class="o">)</span> <span class="o">[</span><span class="bp">∀</span> <span class="n">i</span><span class="o">,</span> <span class="n">comm_ring</span> <span class="o">(</span><span class="n">R</span> <span class="n">i</span><span class="o">)]</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="bp">Π</span> <span class="n">i</span> <span class="n">j</span><span class="o">,</span> <span class="n">i</span> <span class="bp">≤</span> <span class="n">j</span> <span class="bp">→</span> <span class="n">R</span> <span class="n">i</span> <span class="bp">→</span> <span class="n">R</span> <span class="n">j</span><span class="o">)</span>
</pre></div>

<a name="191349589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349589">Chris Hughes (Mar 21 2020 at 14:58)</a>:</h4>
<p>I forgot the commutativity assumption but you get the idea.</p>

<a name="191349590"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349590" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349590">Assia Mahboubi (Mar 21 2020 at 14:58)</a>:</h4>
<p>But yes, it is part of the public API. The formal statement of the odd order theorem proved by our proof is</p>
<div class="codehilite"><pre><span></span>Theorem Feit_Thompson (gT : finGroupType) (G : {group gT}) : odd #|G| -&gt; solvable G.
</pre></div>


<p>where <code>finGroupType</code> is the ambiant type, equipped with a distinguished element, a binary law, etc. and <code>G</code> is a subset thereof, equipped with a true structure of group. So yes, one quantifier more than expected on paper.</p>

<a name="191349594"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349594" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349594">Kevin Buzzard (Mar 21 2020 at 14:58)</a>:</h4>
<p>But what happens in practice is that when you are working with rings, sometimes you have two rings and a map between them, sometimes you have a ring and a subring, and sometimes you have two subrings of a ring, so I need all my theorems in all three situations and I also need them in "mixed" situations where A is a subring of B and there's a map from B to C</p>

<a name="191349699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349699">Assia Mahboubi (Mar 21 2020 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> sorry I am not fast enough to answer all the messages. I am trying in order.</p>

<a name="191349745"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349745" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349745">Assia Mahboubi (Mar 21 2020 at 15:01)</a>:</h4>
<p>First I would like  to make a disclaimer: I am still not quite sure about how to do commutative algebra right.</p>

<a name="191349825"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349825" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349825">Kevin Buzzard (Mar 21 2020 at 15:03)</a>:</h4>
<p>Yes, as a mathematician I was very surprised when I started to learn about this area that these issues, which simply do not exist in mathematics, are very subtle and perhaps not completely understood in this community.</p>

<a name="191349902"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349902" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349902">Kevin Buzzard (Mar 21 2020 at 15:04)</a>:</h4>
<p>Can you apply the odd order theorem? If I create just an abstract group by putting a group structure on some type with precisely one term, can you prove that it is solvable using Feit-Thompson?</p>

<a name="191349918"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349918" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349918">Kevin Buzzard (Mar 21 2020 at 15:05)</a>:</h4>
<p>some people might say that this is using a sledgehammer to crack a nut I guess</p>

<a name="191349926"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349926" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349926">Assia Mahboubi (Mar 21 2020 at 15:05)</a>:</h4>
<p>Things are currently broken in mathcomp (which you can guess from <a href="https://github.com/math-comp/math-comp/blob/14e28e78155e3e6cfbe78aee0964569283f04d7d/mathcomp/algebra/ssralg.v#L903" target="_blank" title="https://github.com/math-comp/math-comp/blob/14e28e78155e3e6cfbe78aee0964569283f04d7d/mathcomp/algebra/ssralg.v#L903">this line</a> in the definition of a ring structure in the hierarchy).</p>

<a name="191349978"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349978" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349978">Patrick Massot (Mar 21 2020 at 15:06)</a>:</h4>
<p>Ooooh, that's bad</p>

<a name="191349982"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349982" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349982">Assia Mahboubi (Mar 21 2020 at 15:06)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191349902" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191349902">said</a>:</p>
<blockquote>
<p>Can you apply the odd order theorem? If I create just an abstract group by putting a group structure on some type with precisely one term, can you prove that it is solvable using Feit-Thompson?</p>
</blockquote>
<p>Of course you can.</p>

<a name="191349990"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349990" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349990">Patrick Massot (Mar 21 2020 at 15:06)</a>:</h4>
<p>Why not stating the expected version of Feit-Thompson after your weird statement?</p>

<a name="191349998"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191349998" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191349998">Kevin Buzzard (Mar 21 2020 at 15:06)</a>:</h4>
<p>but my type is nothing to do with <code>finGroupType</code>?</p>

<a name="191350006"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350006" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350006">Patrick Massot (Mar 21 2020 at 15:07)</a>:</h4>
<p>At least it would make it easier to read for mathematicians.</p>

<a name="191350069"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350069" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350069">Assia Mahboubi (Mar 21 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> you will define the instance of group carrier type from your singleton type, and then the group you want to work with is the trivial group on this group type (yes, the library has defined this for you).</p>

<a name="191350076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350076">Assia Mahboubi (Mar 21 2020 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="210574">@Patrick Massot</span> What is the expected version?</p>

<a name="191350088"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350088" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350088">Kevin Buzzard (Mar 21 2020 at 15:08)</a>:</h4>
<p>The expected version doesn't have the carrier type</p>

<a name="191350091"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350091" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350091">Patrick Massot (Mar 21 2020 at 15:08)</a>:</h4>
<p>Only one type, equipped with a group structure.</p>

<a name="191350094"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350094" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350094">Assia Mahboubi (Mar 21 2020 at 15:08)</a>:</h4>
<p>Because it is stated in set theory.</p>

<a name="191350157"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350157" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350157">Assia Mahboubi (Mar 21 2020 at 15:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110031">Patrick Massot</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350091" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350091">said</a>:</p>
<blockquote>
<p>Only one type, equipped with a group structure.</p>
</blockquote>
<p>I am not sure. My feeling is that mathematicians do not speak about types, just about sets.</p>

<a name="191350158"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350158" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350158">Patrick Massot (Mar 21 2020 at 15:10)</a>:</h4>
<p>I mean <code>Theorem Feit_Thompson  (G : Group) : odd #|G| -&gt; solvable G.</code> (assuming bundled groups).</p>

<a name="191350177"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350177" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350177">Patrick Massot (Mar 21 2020 at 15:10)</a>:</h4>
<p>or <code>Theorem Feit_Thompson (G : Type*) [group G] [finite G] : odd #|G| -&gt; solvable G.</code> if unbundled.</p>

<a name="191350191"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350191" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350191">Kevin Buzzard (Mar 21 2020 at 15:11)</a>:</h4>
<p>That was the question I was trying to ask with my group of order 1 question.</p>

<a name="191350248"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350248" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350248">Kevin Buzzard (Mar 21 2020 at 15:12)</a>:</h4>
<p>I am trying to prove theorems about rings in this thread, and I am just beginning to understand that the statement of Feit-Thompson above is not in some sense a statement about the most general concept of a group</p>

<a name="191350251"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350251" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350251">Assia Mahboubi (Mar 21 2020 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span>  In fact, you would apply the statement to the singleton <em>set</em>. And then inference of implicit stuff does the rest.</p>

<a name="191350262"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350262" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350262">Assia Mahboubi (Mar 21 2020 at 15:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350248" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350248">said</a>:</p>
<blockquote>
<p>I am trying to prove theorems about rings in this thread, and I am just beginning to understand that the statement of Feit-Thompson above is not in some sense a statement about the most general concept of a group</p>
</blockquote>
<p>Why not?</p>

<a name="191350269"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350269" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350269">Assia Mahboubi (Mar 21 2020 at 15:13)</a>:</h4>
<p>oops, I have to go offline, sorry.</p>

<a name="191350272"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350272" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350272">Kevin Buzzard (Mar 21 2020 at 15:13)</a>:</h4>
<p>thank you very much!</p>

<a name="191350277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350277">Patrick Massot (Mar 21 2020 at 15:13)</a>:</h4>
<p>Maybe you shouldn't care, but if you tell a mathematician "I've formalized Feit-Thompson, the statement is <code>Theorem Feit_Thompson  (G : Group) : odd #|G| -&gt; solvable G</code>" they agree this is the expected statement, even without having ever heard of type theory, whereas <code>Theorem Feit_Thompson (gT : finGroupType) (G : {group gT}) : odd #|G| -&gt; solvable G.</code> looks alien.</p>

<a name="191350330"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350330" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350330">Kevin Buzzard (Mar 21 2020 at 15:14)</a>:</h4>
<p>So <code>solvable</code> here is a predicate on subsets of some ambient type. We can prove what Patrick and I would think of as the "normal" version by <em>defining</em> <code>solvable G</code> to be <code>solvable (set.univ G)</code></p>

<a name="191350640"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350640" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350640">Kevin Buzzard (Mar 21 2020 at 15:21)</a>:</h4>
<p>I am only guessing at what is happening with Assia's link above, but here is some observation. If we have finitely many groups and for some technical type theory reason we want them all to be subgroups of a big object with a <code>1</code> and a <code>*</code> and an <code>inv</code>, we can just take the product of the groups and then each group naturally embeds as a subset.</p>

<a name="191350694"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350694" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350694">Mario Carneiro (Mar 21 2020 at 15:22)</a>:</h4>
<p>it doesn't even have to be a finite set of groups</p>

<a name="191350701"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350701" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350701">Kevin Buzzard (Mar 21 2020 at 15:22)</a>:</h4>
<p>But this same trick cannot work with rings. If you have finitely many rings then each has a <code>0</code> and a <code>1</code> and a <code>+</code>, and if you want them all to be subsets of a big object with a universal <code>0</code> and <code>1</code> and <code>+</code>, then you're in trouble, because maybe <code>1 + 1 = 0</code> in some of the rings, but not in others, and if they all have the same <code>0</code> and the same <code>1</code> and the same <code>+</code> then they all have the same <code>2</code></p>

<a name="191350715"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350715" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350715">Kevin Buzzard (Mar 21 2020 at 15:23)</a>:</h4>
<p>and the zero ring has <code>0=1</code></p>

<a name="191350720"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350720" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350720">Mario Carneiro (Mar 21 2020 at 15:23)</a>:</h4>
<p>although possibly the big not-a-group in F-T is actually finite; I'm not sure whether it gets enforced there or on the groups themselves</p>

<a name="191350772"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350772" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350772">Chris Hughes (Mar 21 2020 at 15:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350640" title="#narrow/stream/116395-maths/topic/algebra.20is.20not.20scaling.20for.20me/near/191350640">said</a>:</p>
<blockquote>
<p>I am only guessing at what is happening with Assia's link above, but here is some observation. If we have finitely many groups and for some technical type theory reason we want them all to be subgroups of a big object with a <code>1</code> and a <code>*</code> and an <code>inv</code>, we can just take the product of the groups and then each group naturally embeds as a subset.</p>
</blockquote>
<p>I don't think that really works particularly well, because they also have to embed in a way such that all the maps you care about between these groups become inclusions</p>

<a name="191350777"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350777" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350777">Mario Carneiro (Mar 21 2020 at 15:24)</a>:</h4>
<p>But Kevin, the big object is not a group/ring/whatever structure</p>

<a name="191350784"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350784" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350784">Kevin Buzzard (Mar 21 2020 at 15:24)</a>:</h4>
<p>This doesn't matter</p>

<a name="191350788"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350788" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350788">Mario Carneiro (Mar 21 2020 at 15:24)</a>:</h4>
<p>and the inclusions are not ring homs</p>

<a name="191350797"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350797" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350797">Kevin Buzzard (Mar 21 2020 at 15:24)</a>:</h4>
<p>Oh this matters</p>

<a name="191350801"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350801" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350801">Kevin Buzzard (Mar 21 2020 at 15:25)</a>:</h4>
<p>My understanding was that they were all inheriting the structure from the big type</p>

<a name="191350816"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350816" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350816">Mario Carneiro (Mar 21 2020 at 15:25)</a>:</h4>
<p>oh wait, they are not ring homs but they are +,*,0,1 homs</p>

<a name="191350872"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350872" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350872">Kevin Buzzard (Mar 21 2020 at 15:26)</a>:</h4>
<p>Mario, concretely I'm saying that there is no big object with 0,1,+,* such that Z/2Z and Z/3Z are both subsets containing the 0 and 1 and closed under + and *</p>

<a name="191350880"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350880" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350880">Gabriel Ebner (Mar 21 2020 at 15:26)</a>:</h4>
<p>Z/2Z * Z/3Z?</p>

<a name="191350882"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350882" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350882">Kevin Buzzard (Mar 21 2020 at 15:26)</a>:</h4>
<p>It doesn't work</p>

<a name="191350887"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350887" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350887">Kevin Buzzard (Mar 21 2020 at 15:27)</a>:</h4>
<p>they have different 1's</p>

<a name="191350891"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350891" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350891">Kevin Buzzard (Mar 21 2020 at 15:27)</a>:</h4>
<p>Z/2Z x Z/3Z = Z/6Z and Z/2Z ={0,3} and Z/3Z={0,2,4}</p>

<a name="191350892"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350892" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350892">Mario Carneiro (Mar 21 2020 at 15:27)</a>:</h4>
<p>However I'm not sure that this is a problem. So what if the big not-a-ring fixes the characteristic? All rings in the commutative diagram will have compatible characteristics anyway</p>

<a name="191350897"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350897" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350897">Gabriel Ebner (Mar 21 2020 at 15:27)</a>:</h4>
<p>Oh yes, you're right.</p>

<a name="191350940"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350940" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350940">Kevin Buzzard (Mar 21 2020 at 15:28)</a>:</h4>
<p>It's not true that the rings will have the same characteristic. There is a perfectly good map Z/6Z -&gt; Z/3Z</p>

<a name="191350946"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350946" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350946">Mario Carneiro (Mar 21 2020 at 15:28)</a>:</h4>
<p>compatible meaning divisible</p>

<a name="191350965"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350965" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350965">Kevin Buzzard (Mar 21 2020 at 15:29)</a>:</h4>
<p>This is weird. In the A-M situation it's a question about inclusions <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\subseteq B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⊆</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span> but there is a more general statement about maps <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A\to B</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></p>

<a name="191350967"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350967" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350967">Mario Carneiro (Mar 21 2020 at 15:29)</a>:</h4>
<p>this trick is only for inclusion maps, right?</p>

<a name="191350972"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191350972" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191350972">Kevin Buzzard (Mar 21 2020 at 15:29)</a>:</h4>
<p>and in the more general statement you certainly can't embed everything into an ambient type, but in the inclusion situation you can</p>

<a name="191351035"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351035" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351035">Kevin Buzzard (Mar 21 2020 at 15:31)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="110044">@Chris Hughes</span>  suggestion is really interesting. It feels like a much more Lean-idiomatic way to do things.</p>

<a name="191351038"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351038" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351038">Mario Carneiro (Mar 21 2020 at 15:31)</a>:</h4>
<p>I think this trick is not generally applicable. It's good for groups, but I can't possibly see this generalizing to all the other interesting algebraic objects, given the constraints already in rings</p>

<a name="191351076"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351076" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351076">Kevin Buzzard (Mar 21 2020 at 15:32)</a>:</h4>
<p>Yes that is my guess too.</p>

<a name="191351082"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351082" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351082">Kevin Buzzard (Mar 21 2020 at 15:32)</a>:</h4>
<p>I don't understand what properties groups have that make the technique so powerful for them</p>

<a name="191351101"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351101" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351101">Mario Carneiro (Mar 21 2020 at 15:33)</a>:</h4>
<p>for it to be generally applicable, it needs to put basically no restrictions on the "mathematical content". If the embeddings were more unstructured, for example if they each pick their own 0,1,+,* operations, then this could work, but then you are basically just doing set theory</p>

<a name="191351107"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351107" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351107">Kevin Buzzard (Mar 21 2020 at 15:33)</a>:</h4>
<p>I feel like I am very interested in one structure consisting of three rings A, B, C and a commuting triangle A -&gt; B -&gt; C (in the maths sense, i.e. maps A -&gt; B and B -&gt; C)</p>

<a name="191351168"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351168" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351168">Kevin Buzzard (Mar 21 2020 at 15:34)</a>:</h4>
<p>and I am not at all sure that I want to assume that the image of A in B is isomorphic to the image of A in C</p>

<a name="191351263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351263">Mario Carneiro (Mar 21 2020 at 15:36)</a>:</h4>
<p>I think what makes groups work is just what you said earlier: you can product a bunch of groups together to embed whatever you want. The category of groups has coproducts</p>

<a name="191351285"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351285" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351285">Kevin Buzzard (Mar 21 2020 at 15:37)</a>:</h4>
<p>the category of rings has coproducts too but the maps aren't in general injective</p>

<a name="191351298"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351298" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351298">Kevin Buzzard (Mar 21 2020 at 15:37)</a>:</h4>
<p>the coproduct of Z/2 and Z/3 is 0</p>

<a name="191351312"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/algebra%20is%20not%20scaling%20for%20me/near/191351312" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/49270algebraisnotscalingforme.html#191351312">Kevin Buzzard (Mar 21 2020 at 15:37)</a>:</h4>
<p>if R is a ring and I have a map Z/2Z -&gt; R and a map Z/3Z -&gt; R (ring homs) then 2=0 and 3=0 in R so 1=0</p>


{% endraw %}

{% include archive_update.html %}