---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/116395maths/69676Refactoringpolynomials.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/116395maths/index.html">maths</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html">Refactoring polynomials</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="186676397"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186676397" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186676397">Johan Commelin (Jan 27 2020 at 12:21)</a>:</h4>
<p>I'm starting a new thread on this topic. For reference, <span class="user-mention" data-user-id="214703">@Yury G. Kudryashov</span> wrote a proposal over here: <a href="https://github.com/leanprover-community/mathlib/issues/1864" target="_blank" title="https://github.com/leanprover-community/mathlib/issues/1864">#1864</a><br>
A lot of previous discussion is over here: <a href="#narrow/stream/116395-maths/topic/Algebraic.20geometry.20course/near/186673407" title="#narrow/stream/116395-maths/topic/Algebraic.20geometry.20course/near/186673407">https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Algebraic.20geometry.20course/near/186673407</a></p>

<a name="186676513"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186676513" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186676513">Johan Commelin (Jan 27 2020 at 12:22)</a>:</h4>
<p>One thing that I would really like to have is given <code>f : polynomial R</code> and <code>r : R</code>, that <code>f r</code> becomes <code>f.eval r</code>. I guess that is possible with <code>coe_to_fun</code>.<br>
However... can we do a similar thing for mv polynomials, and maintain readability?</p>

<a name="186676567"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186676567" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186676567">Johan Commelin (Jan 27 2020 at 12:23)</a>:</h4>
<p>This would require some hackery, because it requires a linear ordering on <code>σ</code></p>

<a name="186676633"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186676633" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186676633">Johan Commelin (Jan 27 2020 at 12:24)</a>:</h4>
<p>Suppose that <code>f : mv_polynomial (fin 3) R</code>. Then I would love to be able to write <code>f [r₁, r₂, r₃]</code>.</p>

<a name="186676648"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186676648" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186676648">Johan Commelin (Jan 27 2020 at 12:24)</a>:</h4>
<p>Is there any chance we can make that happen?</p>

<a name="186676944"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186676944" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186676944">Johan Commelin (Jan 27 2020 at 12:29)</a>:</h4>
<p>Should we add special support for polynomials in <code>n : ℕ</code> variables?</p>

<a name="186677077"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186677077" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186677077">Kevin Buzzard (Jan 27 2020 at 12:31)</a>:</h4>
<p>I've been doing algebraic geometry and I'm just at the point where I want to talk about polynomials in n variables. I don't really know what to do. I know what theorems I want to prove but I'm still very confused about what exactly is being suggested. I would happily start refactoring <code>mv_polynomial</code> if someone said "here's the definitions, here are ten theorems, can you prove then?" but I don't know where to start if I don't have definitions.</p>

<a name="186721062"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186721062" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186721062">Yury G. Kudryashov (Jan 27 2020 at 20:18)</a>:</h4>
<p>I think, a good first step would be to move <code>algebra</code> below <code>polynomial</code>s in the <code>import</code> chain. This means moving <code>aeval</code> to polynomials.</p>

<a name="186721242"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186721242" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186721242">Yury G. Kudryashov (Jan 27 2020 at 20:20)</a>:</h4>
<p>The next step is to define <code>monoid_algebra</code> (e.g., as <code>finsupp</code> or <code>dfinsupp</code>) and prove the universal property (is it already in <code>finsupp</code>?).</p>

<a name="186721528"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186721528" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186721528">Yury G. Kudryashov (Jan 27 2020 at 20:24)</a>:</h4>
<p><span class="user-mention" data-user-id="112680">@Johan Commelin</span> We have <code>fin.cons</code></p>

<a name="186721596"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/116395-maths/topic/Refactoring%20polynomials/near/186721596" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/116395maths/69676Refactoringpolynomials.html#186721596">Yury G. Kudryashov (Jan 27 2020 at 20:25)</a>:</h4>
<p>It has the desired type but lacks notation.</p>


{% endraw %}

{% include archive_update.html %}