---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/97870Castwithapply.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html">Cast with apply</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="179268666"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cast%20with%20apply/near/179268666" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html#179268666">Bhavik Mehta (Oct 28 2019 at 19:53)</a>:</h4>
<p>I'm trying to use <code>modeq.dvd_of_modeq</code> in the following, and I think it's failing to unify because of the casts? How could I make this work? </p>
<div class="codehilite"><pre><span></span>invalid apply tactic, failed to unify
  a - 1 ∣ a ^ n - 1
with
  ↑?m_1 ∣ ↑?m_2 - ↑?m_3
state:
a n : ℕ,
ha : 2 ≤ a
⊢ a - 1 ∣ a ^ n - 1
</pre></div>

<a name="179269153"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cast%20with%20apply/near/179269153" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html#179269153">Chris Hughes (Oct 28 2019 at 19:58)</a>:</h4>
<p>The substraction in the statement of the theorem is natural number subtraction, which returns a natural number, and defaults to zero when the answer should be negative. So, for example <code>2 - 3 = 0</code>. </p>
<p>There are a couple of ways around this. The easiest is to make <code>a</code> an integer.</p>

<a name="179269539"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cast%20with%20apply/near/179269539" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html#179269539">Chris Hughes (Oct 28 2019 at 20:02)</a>:</h4>
<p>The other way is to <code>rw [← int.coe_nat_dvd, int.coe_nat_sub, int.coe_nat_sub]</code> and prove that because <code>2 ≤ a</code>, <code>a - 1</code> gives the same answer when done using integer subtraction.</p>

<a name="179290211"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cast%20with%20apply/near/179290211" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html#179290211">Kevin Buzzard (Oct 29 2019 at 00:36)</a>:</h4>
<p>(typo <code>2 - 3 = 0</code>)</p>

<a name="179466297"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cast%20with%20apply/near/179466297" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html#179466297">Bhavik Mehta (Oct 30 2019 at 19:07)</a>:</h4>
<p>Thanks for these - I'd rather not make <code>a</code> an integer since this is a lemma I need for a larger theorem</p>

<a name="179466413"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Cast%20with%20apply/near/179466413" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/97870Castwithapply.html#179466413">Bhavik Mehta (Oct 30 2019 at 19:09)</a>:</h4>
<p>I can't seem to get the other way to work - the <code>int.coe_nat_sub</code> looks like it's getting applied to both terms, and I only want to apply it on the right</p>


{% endraw %}

{% include archive_update.html %}