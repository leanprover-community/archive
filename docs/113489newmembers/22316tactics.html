---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/22316tactics.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html">tactics</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="191356365"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356365" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356365">Brian Jiang (Mar 21 2020 at 17:20)</a>:</h4>
<p>is there a factor tactic? (sort of like the reverse of <code> mul_add</code>)</p>

<a name="191356386"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356386" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356386">Kevin Buzzard (Mar 21 2020 at 17:21)</a>:</h4>
<p>No there is not! There is a factor-<em>checking</em> tactic, but not a factor-doing one.</p>

<a name="191356394"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356394" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356394">Kevin Buzzard (Mar 21 2020 at 17:21)</a>:</h4>
<p>Remember though that you can rewrite <code>mul_add</code> in both directions :-)</p>

<a name="191356407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356407" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356407">Brian Jiang (Mar 21 2020 at 17:21)</a>:</h4>
<p>so if I have something like <code>n*a +n*b = 1</code></p>

<a name="191356409"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356409" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356409">Brian Jiang (Mar 21 2020 at 17:22)</a>:</h4>
<p>and I do <code>mul_add</code></p>

<a name="191356450"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356450" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356450">Brian Jiang (Mar 21 2020 at 17:22)</a>:</h4>
<p>I should get <code>n*(a+b)=1</code>?</p>

<a name="191356455"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356455" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356455">Kevin Buzzard (Mar 21 2020 at 17:22)</a>:</h4>
<p>what do you mean by "do"?</p>

<a name="191356463"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356463" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356463">Kevin Buzzard (Mar 21 2020 at 17:22)</a>:</h4>
<p>Let's get precise :-)</p>

<a name="191356499"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356499" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356499">Brian Jiang (Mar 21 2020 at 17:23)</a>:</h4>
<p>if I <code>`rw mul_add</code> that statement</p>

<a name="191356551"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356551" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356551">Kevin Buzzard (Mar 21 2020 at 17:24)</a>:</h4>
<p>then it will say "I can't find anything of the form <code>x*(y+z)</code> in your statement so I can't rewrite"</p>

<a name="191356565"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356565" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356565">Kevin Buzzard (Mar 21 2020 at 17:24)</a>:</h4>
<p>But if you <code>rw ←mul_add</code> then it will work fine</p>

<a name="191356608"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356608" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356608">Brian Jiang (Mar 21 2020 at 17:25)</a>:</h4>
<p>oh thanks! didn't know how to go backwards at first</p>

<a name="191356610"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356610" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356610">Kevin Buzzard (Mar 21 2020 at 17:25)</a>:</h4>
<p>if <code>h</code> is a proof of <code>A = B</code> then <code>rw h</code> will turn all <code>A</code>'s in your goal to <code>B</code>'s, and <code>rw ←h</code> will turn all <code>B</code>'s into <code>A</code>'s.</p>

<a name="191356638"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191356638" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191356638">Kevin Buzzard (Mar 21 2020 at 17:25)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">tactic</span>

<span class="kn">example</span> <span class="o">(</span><span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">:</span> <span class="bp">ℤ</span><span class="o">)</span> <span class="o">:</span>
  <span class="n">x</span><span class="err">^</span><span class="mi">3</span> <span class="bp">+</span> <span class="n">y</span><span class="err">^</span><span class="mi">3</span> <span class="bp">+</span> <span class="n">z</span><span class="err">^</span><span class="mi">3</span> <span class="bp">-</span> <span class="mi">3</span><span class="bp">*</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span> <span class="bp">=</span> <span class="o">(</span><span class="n">x</span><span class="bp">+</span><span class="n">y</span><span class="bp">+</span><span class="n">z</span><span class="o">)</span><span class="bp">*</span><span class="o">(</span><span class="n">x</span><span class="err">^</span><span class="mi">2</span><span class="bp">+</span><span class="n">y</span><span class="err">^</span><span class="mi">2</span><span class="bp">+</span><span class="n">z</span><span class="err">^</span><span class="mi">2</span><span class="bp">-</span><span class="n">x</span><span class="bp">*</span><span class="n">y</span><span class="bp">-</span><span class="n">y</span><span class="bp">*</span><span class="n">z</span><span class="bp">-</span><span class="n">z</span><span class="bp">*</span><span class="n">x</span><span class="o">)</span> <span class="o">:=</span>
  <span class="k">begin</span>
    <span class="n">ring</span>
  <span class="kn">end</span>
</pre></div>


<p>Lean didn't do the factoring, but it checked it once I told it.</p>

<a name="191370516"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370516" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370516">Brian Jiang (Mar 21 2020 at 23:30)</a>:</h4>
<p>Another quick tactic question</p>

<a name="191370519"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370519" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370519">Brian Jiang (Mar 21 2020 at 23:30)</a>:</h4>
<p>what tactic should I use if I want to turn a=b into b=a?</p>

<a name="191370581"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370581" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370581">Brian Jiang (Mar 21 2020 at 23:32)</a>:</h4>
<p>I tried <code>rw eq.symm</code> but I got some sort of "lemma lhs is a metavariable" error</p>

<a name="191370601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370601">Kevin Buzzard (Mar 21 2020 at 23:33)</a>:</h4>
<p>The <code>rw</code> tactic only works with equalities or iff statements. <code>eq.symm</code> is an implication <code>a = b → b = a</code>. So you should <code>apply</code> it instead. This is a really important distinction and the sooner you learn it the easier your path to enlightenment will be.</p>

<a name="191370651"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370651" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370651">Kevin Buzzard (Mar 21 2020 at 23:34)</a>:</h4>
<p>Note that if you want to rewrite something, <code>eq_comm</code> is the proof that <code>a = b ↔ b = a</code></p>

<a name="191370718"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370718" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370718">Kevin Buzzard (Mar 21 2020 at 23:37)</a>:</h4>
<p>I see undergraduate mathematicians in my department asking this question again and again. For mathematicians, equality and implication seem to basically be the same idea, or are stored in the same place or something. I guess the point is that if a mathematician knows that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>Q</mi></mrow><annotation encoding="application/x-tex">P\iff Q</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.70733em;vertical-align:-0.024em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span> is true, then obviously <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext><mi>Q</mi></mrow><annotation encoding="application/x-tex">P\implies Q</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.70733em;vertical-align:-0.024em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span></span></span></span> is true, and the concepts can get a bit blurred, especially because in some sense the vast majority of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>⟹</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">\implies</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟹</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span></span> statements mathematicians use in school mathematics are special cases of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext></mrow><annotation encoding="application/x-tex">\iff</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟺</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span></span></span> statements.</p>

<a name="191370847"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191370847" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191370847">Kevin Buzzard (Mar 21 2020 at 23:41)</a>:</h4>
<p>My daughter is currently learning about making new variables the subject of the equation, e.g. she is told <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>3</mn><mi>x</mi><mo>+</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">y=3x+5</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> and has to figure out how to write <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> as a function of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>. The route to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><mn>5</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>3</mn></mrow><annotation encoding="application/x-tex">x=(y-5)/3</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">3</span></span></span></span> is expressed as a series of implications, but in practice it is a series of iff statements. I am not sure if the distinction is flagged at school.</p>

<a name="191371480"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191371480" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191371480">Scott Morrison (Mar 22 2020 at 00:00)</a>:</h4>
<p>You can also use <code>symmetry</code>, which tries to <code>apply</code> a relevant lemma marked with the <code>[symm]</code> attribute.</p>

<a name="191371494"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/tactics/near/191371494" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/22316tactics.html#191371494">Kevin Buzzard (Mar 22 2020 at 00:01)</a>:</h4>
<p>and <code>#print eq.symm</code> shows that indeed this lemma has that tag.</p>


{% endraw %}

{% include archive_update.html %}