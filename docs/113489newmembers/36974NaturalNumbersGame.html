---
layout: archive
title: Lean Prover Zulip Chat Archive
permalink: archive/113489newmembers/36974NaturalNumbersGame.html
---

<h2>Stream: <a href="https://leanprover-community.github.io/archive/113489newmembers/index.html">new members</a>
<h3>Topic: <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html">Natural Numbers Game</a></h3>

<hr>

<base href="https://leanprover.zulipchat.com">

{% raw %}
<a name="190592377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190592377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190592377">Patrick Stevens (Mar 14 2020 at 11:09)</a>:</h4>
<p>Two questions:</p>
<p>I've defined the following helper because it turned out to be necessary. My first question will end up being "why was this necessary?".</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">add_comm&#39;</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">add</span> <span class="n">b</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">add_comm</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span>
<span class="kn">end</span>
</pre></div>


<p>Then I'm trying to prove:</p>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="o">{{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">intro</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">a</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">zero_add</span> <span class="n">b</span><span class="o">)</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">f</span><span class="o">,</span> <span class="c1">-- done the case a=0</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_comm</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a</span><span class="o">)</span> <span class="n">b</span><span class="o">)</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">injection</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_comm&#39;</span> <span class="n">b</span> <span class="n">a</span><span class="o">)</span> <span class="n">at</span> <span class="n">h_1</span><span class="o">,</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">eq_zero_of_add_right_eq_self</span> <span class="n">h_1</span><span class="o">)</span>
<span class="kn">end</span>
</pre></div>


<ol>
<li>Why did I have to define <code>add_comm'</code> to get the <code>rw (add_comm' b a) at h_1</code> to stick? I couldn't simply rewrite by <code>add_comm b a</code>.</li>
<li>How can I make the recursive call to <code>eq_zero_of_add_right_eq_self h1</code>? I'm getting "unknown identifier" at the moment.</li>
</ol>

<a name="190592716"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190592716" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190592716">Patrick Massot (Mar 14 2020 at 11:20)</a>:</h4>
<p>I don't think playing the natural number game off-line is so well supported. Your first issue is probably a conflict between mathlib's add_comm and the one Kevin crafted for the game. The second issue is simply not what proofs by induction look like in Lean. This should be all explained if you play the game online;</p>

<a name="190593377"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593377" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593377">Kevin Buzzard (Mar 14 2020 at 11:35)</a>:</h4>
<p>Can you post code which compiles? i.e. let's assume I have got a local copy of the game. Can you give me something I can cut and paste, with the imports and opens you're using? You shouldn't need to define add_comm' and if I can't easily reproduce your errors it's hard to help (I've just spent a few minutes trying and I've failed)</p>

<a name="190593486"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593486" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593486">Patrick Stevens (Mar 14 2020 at 11:39)</a>:</h4>
<p>The code which demonstrates "I have to use <code>add_comm'</code>" is as follows:</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="n">mynat</span><span class="bp">.</span><span class="kn">definition</span> <span class="c1">-- Imports the natural numbers.</span>
<span class="kn">import</span> <span class="n">mynat</span><span class="bp">.</span><span class="n">add</span> <span class="c1">-- definition of addition</span>

<span class="kn">namespace</span> <span class="n">mynat</span>

<span class="kn">lemma</span> <span class="n">zero_add</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="mi">0</span> <span class="bp">+</span> <span class="n">n</span> <span class="bp">=</span> <span class="n">n</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">induction</span> <span class="n">n</span><span class="o">,</span>
  <span class="n">refl</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_succ</span> <span class="mi">0</span> <span class="n">n_n</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">n_ih</span><span class="o">,</span>
  <span class="n">refl</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">succ_add</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">succ</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="n">b</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">induction</span> <span class="n">b</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_zero</span> <span class="n">a</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_zero</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a</span><span class="o">)),</span>
  <span class="n">refl</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_succ</span> <span class="n">a</span> <span class="n">b_n</span><span class="o">),</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_succ</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a</span><span class="o">)</span> <span class="n">b_n</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">b_ih</span><span class="o">,</span>
  <span class="n">refl</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">add_comm</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">induction</span> <span class="n">a</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">zero_add</span> <span class="n">b</span><span class="o">),</span>
  <span class="n">refl</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">succ_add</span> <span class="n">a_n</span> <span class="n">b</span><span class="o">),</span>
  <span class="n">rw</span> <span class="n">a_ih</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_succ</span> <span class="n">b</span> <span class="n">a_n</span><span class="o">),</span>
  <span class="n">refl</span>
<span class="kn">end</span>

<span class="kn">lemma</span> <span class="n">add_comm&#39;</span> <span class="o">(</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">)</span> <span class="o">:</span> <span class="n">add</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">add</span> <span class="n">b</span> <span class="n">a</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">exact</span> <span class="o">(</span><span class="n">add_comm</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span>
<span class="kn">end</span>

<span class="c1">-- this is used for antisymmetry of ≤</span>
<span class="kn">lemma</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="o">{{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">intro</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">a</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">zero_add</span> <span class="n">b</span><span class="o">)</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_comm</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a</span><span class="o">)</span> <span class="n">b</span><span class="o">)</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">injection</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_comm&#39;</span> <span class="n">b</span> <span class="n">a</span><span class="o">)</span> <span class="n">at</span> <span class="n">h_1</span><span class="o">,</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>

<a name="190593487"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593487" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593487">Kevin Buzzard (Mar 14 2020 at 11:39)</a>:</h4>
<p>The natural number game tries very hard to stop notation leaking through, this looks like your problem. The natural number game was written precisely because Lean's <code>induction</code> tactic was very poor with regards to leaking notation. You are seeing precisely the problems which I saw my users see when they were trying to write the game themselves.  <code>injection f</code> is not a natural-number-game-sanctioned tactic and it looks like you have managed to create a hypothesis h_1 which mentions <code>add a b</code>. You should <code>change &lt;write what h_1 should actually say, i.e. change add to +&gt; at h_1</code>. Notation leakage is a big problem if you try to do things yourself, and I don't explain this sort of thing at all in NNG.</p>

<a name="190593531"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593531" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593531">Patrick Stevens (Mar 14 2020 at 11:40)</a>:</h4>
<p>OK, thanks very much</p>

<a name="190593587"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593587" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593587">Kevin Buzzard (Mar 14 2020 at 11:40)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="kn">lemma</span> <span class="n">eq_zero_of_add_right_eq_self</span> <span class="o">{{</span><span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">mynat</span><span class="o">}}</span> <span class="o">:</span> <span class="n">a</span> <span class="bp">+</span> <span class="n">b</span> <span class="bp">=</span> <span class="n">a</span> <span class="bp">→</span> <span class="n">b</span> <span class="bp">=</span> <span class="mi">0</span> <span class="o">:=</span>
<span class="k">begin</span> <span class="o">[</span><span class="n">nat_num_game</span><span class="o">]</span>
  <span class="n">intro</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">cases</span> <span class="n">a</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">zero_add</span> <span class="n">b</span><span class="o">)</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">exact</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">rw</span> <span class="o">(</span><span class="n">add_comm</span> <span class="o">(</span><span class="n">succ</span> <span class="n">a</span><span class="o">)</span> <span class="n">b</span><span class="o">)</span> <span class="n">at</span> <span class="n">f</span><span class="o">,</span>
  <span class="n">injection</span> <span class="n">f</span><span class="o">,</span> <span class="c1">-- leakage</span>
  <span class="n">change</span> <span class="n">b</span> <span class="bp">+</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span> <span class="n">at</span> <span class="n">h_1</span><span class="o">,</span> <span class="c1">-- fixed</span>
  <span class="n">rw</span> <span class="n">add_comm</span> <span class="n">at</span> <span class="n">h_1</span><span class="o">,</span> <span class="c1">-- works</span>
  <span class="n">sorry</span>
<span class="kn">end</span>
</pre></div>

<a name="190593589"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593589" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593589">Kevin Buzzard (Mar 14 2020 at 11:41)</a>:</h4>
<p>See how much easier it is if you post fully working code?</p>

<a name="190593601"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593601" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593601">Kevin Buzzard (Mar 14 2020 at 11:41)</a>:</h4>
<p>I would have been able to solve it in 1 minute not 10 ;-)</p>

<a name="190593654"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593654" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593654">Kevin Buzzard (Mar 14 2020 at 11:42)</a>:</h4>
<p>The underlying issue going on here is that there is something called definitional equality, which means "two things are equal because they have the same definition", and there is something called syntactic equality, which means "two things are equal if they are literally exactly the same string of symbols".</p>

<a name="190593660"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593660" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593660">Patrick Stevens (Mar 14 2020 at 11:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="110038">Kevin Buzzard</span> <a href="#narrow/stream/113489-new-members/topic/Natural.20Numbers.20Game/near/190593601" title="#narrow/stream/113489-new-members/topic/Natural.20Numbers.20Game/near/190593601">said</a>:</p>
<blockquote>
<p>I would have been able to solve it in 1 minute not 10 ;-)</p>
</blockquote>
<p>Sorry, yes - this is true</p>

<a name="190593661"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593661" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593661">Kevin Buzzard (Mar 14 2020 at 11:43)</a>:</h4>
<p><code>rw</code> only works with syntactic equality. <code>add a b</code> is definitionally equal to <code>a + b</code> but not syntactically equal to it.</p>

<a name="190593665"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593665" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593665">Patrick Stevens (Mar 14 2020 at 11:43)</a>:</h4>
<p>Ah, OK - I was misled by Agda's <code>rewrite</code>, which doesn't care</p>

<a name="190593668"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593668" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593668">Kevin Buzzard (Mar 14 2020 at 11:43)</a>:</h4>
<p>The <code>change</code> tactic can be used to change anything to something definitionally equal. It works on hypotheses and goals.</p>

<a name="190593727"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593727" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593727">Patrick Stevens (Mar 14 2020 at 11:45)</a>:</h4>
<p>(both my problems in this thread appear to be that Agda has given me in-built assumptions about how Lean works)</p>

<a name="190593730"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593730" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593730">Kevin Buzzard (Mar 14 2020 at 11:45)</a>:</h4>
<p>Oh that's interesting about Agda. The whole <code>[nat_num_game]</code> stuff is my attempt to stop notation being leaked like this, but as you can see it's a pretty difficult task. Because basically I'm trying to teach mathematicians to rewrite, leakage is a killer. Lean's inbuilt <code>induction</code> tactic always returns the exact constructors used to define the type, and when <code>mynat</code> is defined, we don't have access to notation.</p>

<a name="190593835"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593835" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593835">Kevin Buzzard (Mar 14 2020 at 11:47)</a>:</h4>
<p>Hence <code>induction</code> by default will give <code>mynat.zero</code> and <code>mynat.succ</code>, and already <code>mynat.zero</code> is enough to stop <code>zero_add</code> working, because <code>0</code> is notation, but it's notation for <code>has_zero.zero</code>, which is defeq to <code>mynat.zero</code>. <code>rw</code> can see through notation, but it's the <code>mynat.zero</code> not being <code>has_zero.zero</code> which causes no end of confusion to maths undergrads.</p>

<a name="190593888"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593888" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593888">Kevin Buzzard (Mar 14 2020 at 11:48)</a>:</h4>
<p>The <code>[nat_num_game]</code> monad modifies certain core tactics by basically doing all of those <code>change</code>s to get things back to the canonical notation needed for the rws to work and look good, but it's not a "whatever the user does, fix stuff up" thing, it's literally just explicitly modifying the behaviour of certain core tactics like <code>induction</code> and <code>cases</code>.</p>

<a name="190593900"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593900" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593900">Kevin Buzzard (Mar 14 2020 at 11:49)</a>:</h4>
<p>Maybe I should write up some notes for experts (sorry for not realising earlier that you had a lot of background knowledge, there are so many people around nowadays asking questions about the game and I forget who knows what).</p>

<a name="190593943"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593943" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593943">Patrick Stevens (Mar 14 2020 at 11:50)</a>:</h4>
<p>I broke several of the cardinal rules about how to ask for help, it's hardly your fault :P</p>

<a name="190593950"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190593950" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190593950">Patrick Stevens (Mar 14 2020 at 11:50)</a>:</h4>
<p>Thanks very much</p>

<a name="190594111"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190594111" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190594111">Kevin Buzzard (Mar 14 2020 at 11:54)</a>:</h4>
<p>I think one thing that's interesting about the community here was that I am a mathematician and I had the idea about the game when trying to get undergrads to just write Lean files to prove stuff like this about a home-rolled nat, and then when I realised there was this notational leakage issue I asked for help and the community stepped in fixed it by showing me how to make my own tactic monad, and then when I realised that mathematicians weren't going to be downloading lean I asked for help and the community stepped in again with all this web framework stuff, there are all these people in the background without whom it would never have got off the ground. This is why this chatroom is such a cool place to be.</p>

<a name="190606866"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190606866" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190606866">Daniel Keys (Mar 14 2020 at 17:58)</a>:</h4>
<p>The online NNG is a great learning tool, but there are a number of things that work in a different way than in a local Lean installation. Even <code>rw</code> for example; it does not close a goal in NNG, but otherwise it does so. It might be a good idea to collect such changes in a "disclaimer" list for this and other such games that are bound to spring up, although with Lean 4 in the works this may not be the best time.</p>

<a name="190633206"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190633206" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190633206">Shing Tak Lam (Mar 15 2020 at 06:34)</a>:</h4>
<p><span class="user-mention" data-user-id="259186">@Daniel Keys</span></p>
<p>There was this thread not too long ago when I was trying to do the same thing and found quite a few differences between NNG and my local Lean installation.</p>
<p><a href="#narrow/stream/113489-new-members/topic/zero.20versus.200/near/188937541" title="#narrow/stream/113489-new-members/topic/zero.20versus.200/near/188937541">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/zero.20versus.200/near/188937541</a></p>

<a name="190633263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190633263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190633263">Shing Tak Lam (Mar 15 2020 at 06:36)</a>:</h4>
<p>Also <a href="#narrow/stream/113489-new-members/topic/zero.20versus.200/near/189001740" title="#narrow/stream/113489-new-members/topic/zero.20versus.200/near/189001740">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/zero.20versus.200/near/189001740</a> later in the thread.</p>
<p>The list of changes is <a href="#narrow/stream/113489-new-members/topic/zero.20versus.200/near/189002663" title="#narrow/stream/113489-new-members/topic/zero.20versus.200/near/189002663">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/zero.20versus.200/near/189002663</a></p>
<p>Basically just Kevin's answers to my questions :)</p>

<a name="190647644"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190647644" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190647644">Daniel Keys (Mar 15 2020 at 13:42)</a>:</h4>
<p><span class="user-mention" data-user-id="266440">@Shing Tak Lam</span>  Sure, these are good in their own right. What I meant, though, was that the online game pages could themselves host an additional summary page, more or less formal, of changes made to the usual tactics. Given the work that the game designer logs in anyway, it is a little unfair to ask them for any extra bit. It would save us (the players) from some later surprises though, although figuring stuff out is eventually part of the bigger game.</p>

<a name="190647699"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190647699" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190647699">Kevin Buzzard (Mar 15 2020 at 13:44)</a>:</h4>
<p>The game designer is going to make it to the end of term (one week away) and then hopefully sit down and deal with the many issues which have arisen with the natural number game since Christmas, so any suggestions about how to improve it are welcome :-)</p>

<a name="190648144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190648144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190648144">Daniel Keys (Mar 15 2020 at 13:58)</a>:</h4>
<p><span class="user-mention" data-user-id="110038">@Kevin Buzzard</span> Many will probably agree that a cool way this designer could use some of their time would be having the real number gem (sorry, I literally had a typing mistake...I meant game) up and running. Sure enough they know how to take the good decisions by themselves though!-:)</p>

<a name="190648155"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190648155" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190648155">Kevin Buzzard (Mar 15 2020 at 13:59)</a>:</h4>
<p>real number game, group theory game, integer game, rational number game, logic game. They're all on my todo list :-)</p>

<a name="190648425"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/190648425" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#190648425">Patrick Stevens (Mar 15 2020 at 14:08)</a>:</h4>
<p>I, for one, am hoping to write the representation theory game, and then do it :P</p>

<a name="193539518"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193539518" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193539518">Filip Szczepański (Apr 10 2020 at 05:32)</a>:</h4>
<p>mul_left_cancel is the first proof I'm kinda getting stuck on. Gonna keep trying though.</p>

<a name="193539676"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193539676" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193539676">Johan Commelin (Apr 10 2020 at 05:36)</a>:</h4>
<p>It seems to be the one everyone gets stuck on.</p>

<a name="193540237"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540237" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540237">Filip Szczepański (Apr 10 2020 at 05:52)</a>:</h4>
<p>It's hard to know if I'm on the right track or not</p>

<a name="193540246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540246">Johan Commelin (Apr 10 2020 at 05:52)</a>:</h4>
<p>I don't know if it helps, but most people say that once they are on the right track they are done immediately...</p>

<a name="193540428"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540428" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540428">Filip Szczepański (Apr 10 2020 at 05:57)</a>:</h4>
<p>Here's what goals I end up with:</p>
<div class="codehilite"><pre><span></span>case mynat.succ
a c b_n : mynat,
b_ih : a ≠ 0 → a * b_n = a * c → b_n = c
⊢ a ≠ 0 → a * succ b_n = a * c → succ b_n = c
</pre></div>

<a name="193540479"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540479" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540479">Filip Szczepański (Apr 10 2020 at 05:58)</a>:</h4>
<p>And I'm not sure if there's somehow a straightforward way to go from b_ih to the goal</p>

<a name="193540771"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540771" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540771">Donald Sebastian Leung (Apr 10 2020 at 06:05)</a>:</h4>
<p>Nope, there isn't, at least with your current proof state. Consider the hint given at that level to try <code>revert b</code> before induction <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>

<a name="193540830"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540830" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540830">Filip Szczepański (Apr 10 2020 at 06:06)</a>:</h4>
<p>Oh, to get the forall?</p>

<a name="193540863"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193540863" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193540863">Filip Szczepański (Apr 10 2020 at 06:07)</a>:</h4>
<p>I should have taken that advice more literally</p>

<a name="193541162"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193541162" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193541162">Filip Szczepański (Apr 10 2020 at 06:14)</a>:</h4>
<p>What's the general strategy if I'm given a goal that I know is false?</p>

<a name="193541263"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193541263" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193541263">Kenny Lau (Apr 10 2020 at 06:17)</a>:</h4>
<p>backtrack</p>

<a name="193541868"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193541868" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193541868">Kevin Buzzard (Apr 10 2020 at 06:33)</a>:</h4>
<p>Unless your hypothesis are contradictory</p>

<a name="193541956"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193541956" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193541956">Mario Carneiro (Apr 10 2020 at 06:35)</a>:</h4>
<p>then your goal isn't false, is it</p>

<a name="193542031"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193542031" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193542031">Kevin Buzzard (Apr 10 2020 at 06:37)</a>:</h4>
<p>Depends how literally you interpret the statement</p>

<a name="193558086"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193558086" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193558086">undef (Apr 10 2020 at 10:55)</a>:</h4>
<p>Hi, I'm having trouble in the natural number game, to be precise advanced multiplication world.<br>
For example I proved the first level like this:</p>
<p>theorem mul_pos (a b : mynat) : a ≠ 0 → b ≠ 0 → a * b ≠ 0 :=</p>
<p>cases b with n,<br>
intro h,<br>
cc,<br>
intros ha hn,<br>
cases a with a,<br>
cc,<br>
apply succ_ne_zero _,</p>
<p>So I "understand" most of my proof (and by that I mean I expected cc to be able to close the goals when I used it, even though I can't inspect what exactly it did).<br>
But I'm puzzled about the last line - I didn't expect the proof to be complete after this (for lean).<br>
Could someone explain why?</p>

<a name="193558255"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193558255" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193558255">Kevin Buzzard (Apr 10 2020 at 10:58)</a>:</h4>
<p>To understand what happened here you need to know something about definitional equality, which is not something I emphasize in NNG</p>

<a name="193558362"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193558362" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193558362">undef (Apr 10 2020 at 11:00)</a>:</h4>
<p>Is there a way to inspect the state of lean with more granularity?</p>

<a name="193558512"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193558512" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193558512">undef (Apr 10 2020 at 11:01)</a>:</h4>
<p>I expected that I would have to tell lean to use <code>ha</code> and <code>hn</code> to finish the proof.</p>

<a name="193560144"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560144" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560144">Kevin Buzzard (Apr 10 2020 at 11:31)</a>:</h4>
<p>Sorry, real life intervened</p>

<a name="193560227"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560227" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560227">Kevin Buzzard (Apr 10 2020 at 11:32)</a>:</h4>
<p>When you tried to apply succ_ne_zero Lean tried to convince itself that your goal was of the form succ X ne 0 by definition</p>

<a name="193560246"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560246" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560246">Kevin Buzzard (Apr 10 2020 at 11:33)</a>:</h4>
<p>And to see through this you have to know what is true by definition and what is true because of a theorem</p>

<a name="193560277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560277">Kevin Buzzard (Apr 10 2020 at 11:33)</a>:</h4>
<p>For example add_succ is true by definition and succ_add is not</p>

<a name="193560507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560507">undef (Apr 10 2020 at 11:38)</a>:</h4>
<p>Thank you, I will investigate that!</p>

<a name="193560878"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560878" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560878">Moses Schönfinkel (Apr 10 2020 at 11:44)</a>:</h4>
<p><code>ha</code> and <code>hn</code> are equivalent to true, they are not very useful hypotheses - it holds vacuously that <code>succ n \neq 0</code> - your conclusion in your current goals is similar (1 + k) * (1 + n) cannot possibly be 0 for <code>k n \in mathbb{N}</code>, no matter what the context contains; what Kevin alluded to with definitional equality is something like this:</p>
<div class="codehilite"><pre><span></span><span class="n">cases</span> <span class="n">b</span> <span class="k">with</span> <span class="n">n</span><span class="o">,</span>
<span class="n">intro</span> <span class="n">h</span><span class="o">,</span>
<span class="n">cc</span><span class="o">,</span>
<span class="n">intros</span> <span class="n">ha</span> <span class="n">hn</span><span class="o">,</span>
<span class="n">cases</span> <span class="n">a</span> <span class="k">with</span> <span class="n">a</span><span class="o">,</span>
<span class="n">cc</span><span class="o">,</span>
<span class="n">change</span> <span class="n">succ</span> <span class="n">a</span> <span class="bp">*</span> <span class="n">succ</span> <span class="n">n</span>       <span class="k">with</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
<span class="n">change</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="o">(</span><span class="n">n</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span>     <span class="k">with</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">),</span>
<span class="n">change</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="k">with</span> <span class="o">((</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">a</span><span class="o">)</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">,</span>
<span class="n">change</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="o">(</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="k">with</span> <span class="n">succ</span> <span class="o">((</span><span class="n">a</span> <span class="bp">+</span> <span class="mi">1</span><span class="o">)</span> <span class="bp">*</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">a</span><span class="o">),</span>
<span class="n">apply</span> <span class="n">succ_ne_zero</span> <span class="bp">_</span><span class="o">,</span>
</pre></div>


<p>Note that <code>change X with Y</code> only works when <code>X</code> is defeq with <code>Y</code> - so I just make some explicit rewrites, rather than leave Lean compute these from definitions.</p>

<a name="193560987"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193560987" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193560987">Moses Schönfinkel (Apr 10 2020 at 11:46)</a>:</h4>
<p>Maybe I should add that the last conclusion before <code>apply succ_ne_zero _</code> is now <code>succ ((a + 1) * n + a)</code>, which fits the lemma "more obviously".</p>

<a name="193561805"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193561805" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193561805">undef (Apr 10 2020 at 12:00)</a>:</h4>
<p>I didn't know the change command, but I like it as it is much more explicit!<br>
Thank you very much.</p>

<a name="193562220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562220">Kevin Buzzard (Apr 10 2020 at 12:06)</a>:</h4>
<p>I don't think that mathematicians are interested in the difference between definitional equality and "normal equality", whatever that means, but what is going on here is that <code>a + 1</code> is <em>by definition</em> <code>a + succ 0</code> which is <em>by definition</em> <code>succ (a + 0)</code> which is <em>by definition</em> <code>succ a</code>. It is not a coincidence that you have to prove <code>zero_add</code> in NNG and you don't have to prove <code>add_zero</code> -- in fact <code>add_zero</code> can be thought of as an axiom, defined when addition is defined. But <code>zero_add</code> needs to be proved by induction. This way of thinking about <code>+</code> is extremely asymmetric and very counter-intuitive to a mathematician's model of addition, so I don't stress this at all. The <code>change</code> tactic changes a goal to a <em>definitionally</em> equal goal so it is in some sense a very  unmathematical tactic -- it will change <code>a + 0</code> to <code>a</code> but it won't change <code>0 + a</code> to <code>a</code>.</p>

<a name="193562276"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562276" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562276">Patrick Massot (Apr 10 2020 at 12:07)</a>:</h4>
<p>There is still some mathematical content in saying that a + 0 = a by definition while 0 + a = a is a theorem (if you define addition by induction on the second argument).</p>

<a name="193562332"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562332" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562332">Patrick Massot (Apr 10 2020 at 12:08)</a>:</h4>
<p>It's so basic that your mind blurs the distinction, but this game is about setting up the foundations of natural numbers, so you can't say this is unmathematical.</p>

<a name="193562375"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562375" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562375">Kevin Buzzard (Apr 10 2020 at 12:09)</a>:</h4>
<p>To Gauss, the naturals were a commutative semiring and this did not need to be questioned.</p>

<a name="193562382"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562382" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562382">Patrick Massot (Apr 10 2020 at 12:09)</a>:</h4>
<p>This distinction becomes unmathematical once the foundations are done, because you don't want to care about the foundational details after they have been taken care of.</p>

<a name="193562407"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562407" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562407">Patrick Massot (Apr 10 2020 at 12:09)</a>:</h4>
<p>But NNG is all about foundations.</p>

<a name="193562471"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562471" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562471">Patrick Massot (Apr 10 2020 at 12:10)</a>:</h4>
<p>That's why I initially thought people would not like it. But clearly I was wrong.</p>

<a name="193562507"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193562507" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193562507">Kevin Buzzard (Apr 10 2020 at 12:11)</a>:</h4>
<p>I was in some sense surprised too, but this is what bubbled to the top when I started showing undergraduates this stuff.</p>

<a name="193582056"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193582056" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193582056">Filip Szczepański (Apr 10 2020 at 15:32)</a>:</h4>
<p>I somehow got the web version of Lean stuck without using <code>repeat</code> now, on le_succ_of_le. I just copy-pasted the code from the end and changed the ??? to <code>(succ c)</code></p>

<a name="193696148"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696148" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696148">Nam (Apr 12 2020 at 05:46)</a>:</h4>
<p>why does <code>a ≤ b ∧ ¬b ≤ a</code> accept a hypothesis of <code>a &lt; b</code>?</p>

<a name="193696174"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696174" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696174">Mario Carneiro (Apr 12 2020 at 05:47)</a>:</h4>
<p>those two are defeq</p>

<a name="193696175"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696175" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696175">Kenny Lau (Apr 12 2020 at 05:47)</a>:</h4>
<p>the connective is “and”.</p>

<a name="193696178"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696178" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696178">Nam (Apr 12 2020 at 05:47)</a>:</h4>
<p>oh, they are defeq. i see.</p>

<a name="193696179"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696179" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696179">Mario Carneiro (Apr 12 2020 at 05:47)</a>:</h4>
<p>well, they don't have to be defeq but I would guess that they are for nat</p>

<a name="193696219"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696219" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696219">Kenny Lau (Apr 12 2020 at 05:48)</a>:</h4>
<p>I thought a &lt;= b is defeq with succ a &lt; b</p>

<a name="193696220"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696220" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696220">Mario Carneiro (Apr 12 2020 at 05:48)</a>:</h4>
<p>actually they aren't for nat</p>

<a name="193696222"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696222" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696222">Mario Carneiro (Apr 12 2020 at 05:48)</a>:</h4>
<p>but maybe they are for mynat or whatever NNG uses?</p>

<a name="193696277"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696277" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696277">Nam (Apr 12 2020 at 05:50)</a>:</h4>
<p><a href="https://github.com/ImperialCollegeLondon/natural_number_game/blob/master/src/mynat/lt_not_used.lean#L5" title="https://github.com/ImperialCollegeLondon/natural_number_game/blob/master/src/mynat/lt_not_used.lean#L5">https://github.com/ImperialCollegeLondon/natural_number_game/blob/master/src/mynat/lt_not_used.lean#L5</a><br>
the file is called "not used" though.</p>

<a name="193696674"></a>
<h4><a href="https://leanprover.zulipchat.com/#narrow/stream/113489-new%20members/topic/Natural%20Numbers%20Game/near/193696674" class="zl"><img src="https://leanprover-community.github.io/assets/img/zulip2.png" alt="view this post on Zulip"></a> <a href="https://leanprover-community.github.io/archive/113489newmembers/36974NaturalNumbersGame.html#193696674">Kevin Buzzard (Apr 12 2020 at 06:02)</a>:</h4>
<p>They're defeq in nng</p>


{% endraw %}

{% include archive_update.html %}