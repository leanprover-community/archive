[
    {
        "content": "<p>Hi, I am new to CSLib. I formalized \"regular expression matching a string\" a while ago. I wonder if I can contribute it in some form to CSLib, or whether it is already done here?</p>\n<p><a href=\"https://github.com/kuotsanhsu/lean4-dump/blob/81357e9125c785748c1f553ca630711258e58b14/RegExp/Derivative.lean#L133\">https://github.com/kuotsanhsu/lean4-dump/blob/81357e9125c785748c1f553ca630711258e58b14/RegExp/Derivative.lean#L133</a></p>\n<p>Also, I wonder if there is interest in porting \"Software Foundations\" by Benjamin C. Pierce et al. to Lean?</p>",
        "id": 574878060,
        "sender_full_name": "Gordon Hsu",
        "timestamp": 1771571498
    },
    {
        "content": "<p>Is anyone reading this? Does anyone have the time to a guide a newbie like me?</p>",
        "id": 575165215,
        "sender_full_name": "Gordon Hsu",
        "timestamp": 1771769760
    },
    {
        "content": "<p>I had meant to reply to this earlier. I believe there is already some ongoing work with more generality, as discussed at <a class=\"message-link\" href=\"/#narrow/channel/513188-CSLib/topic/ideas.20for.20first.20contribution/near/567020104\">#CSLib &gt; ideas for first contribution @ ðŸ’¬</a></p>",
        "id": 575168527,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771773095
    },
    {
        "content": "<p>Regarding Software Foundations: in my view it is a mix of technical and pedagogical work to make something idiomatic that adds something worthwhile in contrast to the \"native\" guides to learning Lean. There has been a recent effort to do this automatically with AI (see <a class=\"stream-topic\" data-stream-id=\"219941\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Autotranslation.20of.20Logical.20Foundations.20from.20Rocq.20to.20Lean/with/568663590\">#Machine Learning for Theorem Proving &gt; Autotranslation of Logical Foundations from Rocq to Lean</a>) but I do not know of a concentrated human effort.</p>",
        "id": 575168628,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771773227
    },
    {
        "content": "<p>I see, I look forward to the automatic translation of Software Foundations. In the meantime, do you think it's worth it to incorporate some hand rolled code? I have been using Software Foundations as a way to practice Lean. If it doesn't fit, I am also good with it.</p>\n<p><a href=\"https://github.com/kuotsanhsu/lean4-tutorials/tree/software-foundations/SoftwareFoundations/LogicalFoundations\">https://github.com/kuotsanhsu/lean4-tutorials/tree/software-foundations/SoftwareFoundations/LogicalFoundations</a></p>",
        "id": 575169534,
        "sender_full_name": "Gordon Hsu",
        "timestamp": 1771774267
    },
    {
        "content": "<p>My RegExp link points to a formalized <code>List Char</code> matcher. Am I mistaken to not have seen the same thing in CSLib or Mathlib?</p>",
        "id": 575169831,
        "sender_full_name": "Gordon Hsu",
        "timestamp": 1771774495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"468690\">Gordon Hsu</span> <a href=\"#narrow/channel/513188-CSLib/topic/Formalization.20of.20regular.20expression/near/575169534\">said</a>:</p>\n<blockquote>\n<p>I see, I look forward to the automatic translation of Software Foundations. In the meantime, do you think it's worth it to incorporate some hand rolled code? I have been using Software Foundations as a way to practice Lean. If it doesn't fit, I am also good with it.</p>\n<p><a href=\"https://github.com/kuotsanhsu/lean4-tutorials/tree/software-foundations/SoftwareFoundations/LogicalFoundations\">https://github.com/kuotsanhsu/lean4-tutorials/tree/software-foundations/SoftwareFoundations/LogicalFoundations</a></p>\n</blockquote>\n<p>I don't think this fits into CSLib, but it can be a very good personal exercise! I have myself spent time with Software Foundations and PLFA.</p>",
        "id": 575170081,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771774688
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"468690\">Gordon Hsu</span> <a href=\"#narrow/channel/513188-CSLib/topic/Formalization.20of.20regular.20expression/near/575169831\">said</a>:</p>\n<blockquote>\n<p>My RegExp link points to a formalized <code>List Char</code> matcher. Am I mistaken to not have seen the same thing in CSLib or Mathlib?</p>\n</blockquote>\n<p>Just making sure, you've seen <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RegularExpression#doc\">docs#RegularExpression</a> in Mathlib? The discussion I linked is talking about generalizing this.</p>",
        "id": 575170384,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771775004
    },
    {
        "content": "<p>So sorry, you are right. There is this <code>RegularExpression.rmatch_iff_matches'</code> in Mathlib that does the same thing. Thank you so much for your help. All of my questions in this thread have been answered.</p>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Computability/RegularExpressions.html#RegularExpression.rmatch_iff_matches\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Computability/RegularExpressions.html#RegularExpression.rmatch_iff_matches</a>'</p>",
        "id": 575170804,
        "sender_full_name": "Gordon Hsu",
        "timestamp": 1771775359
    },
    {
        "content": "<p>Currently there is really nothing about regular expressions in cslib.  You are welcomed to contribute things which are not already formalized in mathlib or cslib, such as the equivalence between regular expressions and regular languages.</p>",
        "id": 575196860,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1771798784
    },
    {
        "content": "<p>What really matters in this space is a practical, efficient, and standards conformant (ha! funny thing to say about regex...) Lean implementation of regular expressions, that is as good as that should be <em>without</em> regard for verification, and <strong>then</strong> a verification layer on top of that.</p>",
        "id": 575214229,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1771812601
    },
    {
        "content": "<p>The theory side is of course fun, but scarcely as useful or interesting.</p>",
        "id": 575214266,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1771812631
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/513188-CSLib/topic/Formalization.20of.20regular.20expression/near/575214229\">said</a>:</p>\n<blockquote>\n<p>What really matters in this space is a practical, efficient, and standards conformant (ha! funny thing to say about regex...) Lean implementation of regular expressions, that is as good as that should be <em>without</em> regard for verification, and <strong>then</strong> a verification layer on top of that.</p>\n</blockquote>\n<p>Already exists: <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Regex.20library.20for.20Lean.3F/with/534942077\">#general &gt; Regex library for Lean?</a> <a href=\"https://github.com/pandaman64/lean-regex\">https://github.com/pandaman64/lean-regex</a> <br>\nThe readme doesn't show any benchmarks but it's probably reasonably performant</p>",
        "id": 575217311,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771815185
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/513188-CSLib/topic/Formalization.20of.20regular.20expression/near/575214266\">said</a>:</p>\n<blockquote>\n<p>The theory side is of course fun, but scarcely as useful or interesting.</p>\n</blockquote>\n<p>I think some would debate this, but the broader point stands that I've not yet seen discussion about formalizing some actual real world standard in CSLib. There's for instance recent <a href=\"https://github.com/LindenRegex/Warblre\">prior work in Rocq</a> formalizing JavaScript regular expressions.</p>",
        "id": 575217545,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771815374
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"933054\">@Snir Broshi</span> I think there's still interest in verification of a commonly used and more feature complete standard like I link above.</p>",
        "id": 575217665,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771815505
    },
    {
        "content": "<p>What draws me to Lean is the ability to program according to formal spec and prove correctness/time-complexity without relying so much on testing. I believe Dijkstra's vision of constructing programs alongside proofs is getting very practical with Lean especially since the introduction of mvcgen. Practically speaking, theory should guide implementation, and implementation should inspire the development of theory. POSIX and IEEE standards could really use some formalization, especially IEEE 754.</p>\n<p>Shout out to lean-regex! The design is so awesome with unicode support, backtracking, VM, and correctness proofs. As a programmer, lean-regex is what I want to see in this space.</p>",
        "id": 575218969,
        "sender_full_name": "Gordon Hsu",
        "timestamp": 1771816889
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/513188-CSLib/topic/Formalization.20of.20regular.20expression/near/575217311\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/513188-CSLib/topic/Formalization.20of.20regular.20expression/near/575214229\">said</a>:</p>\n<blockquote>\n<p>What really matters in this space is a practical, efficient, and standards conformant (ha! funny thing to say about regex...) Lean implementation of regular expressions, that is as good as that should be <em>without</em> regard for verification, and <strong>then</strong> a verification layer on top of that.</p>\n</blockquote>\n<p>Already exists: <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Regex.20library.20for.20Lean.3F/with/534942077\">#general &gt; Regex library for Lean?</a> <a href=\"https://github.com/pandaman64/lean-regex\">https://github.com/pandaman64/lean-regex</a> <br>\nThe readme doesn't show any benchmarks but it's probably reasonably performant</p>\n</blockquote>\n<p>The performance is not horrible for the general case but real world regex engines specialize lots of patterns to achieve performance orders of magnitudes larger than one could with the generic techniques. If we want it to be usable for a general real world use case we should try to do the same.</p>",
        "id": 575241052,
        "sender_full_name": "Henrik BÃ¶ving",
        "timestamp": 1771833299
    },
    {
        "content": "<p>General note: Please create a separate thread if you want to discuss Software Foundations (or PLFA). I'll stick to the regexp part here.</p>",
        "id": 575241222,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1771833394
    },
    {
        "content": "<p>Re lean-regex: are there ways we can help it through CSLib? It is indeed the kind of software that we'd like to support.</p>",
        "id": 575241421,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1771833496
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"395416\">@pandaman</span></p>",
        "id": 575261400,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771840643
    },
    {
        "content": "<p>Hi, Iâ€™m the author of lean-regex. Happy to see it mentioned here!</p>\n<p>It seems to me that there are two substantially different lines of work in this area.</p>\n<p>One is the <strong>formalization of the theory of regular languages</strong>: equivalence with automata, Myhillâ€“Nerode, closure properties, etc. It's about the formalization of theoretical compute science, and <code>Mathlib.Computability.RegularExpressions</code> and many other attempts I've seen falls into this category.</p>\n<p>The other is the <strong>verification of a real-world regex engine</strong>. That involves features beyond textbook regular languages (capture groups, substring matching, Unicode, etc), as well as algorithm implementations and their speed. (It's still 10x slower than an equivalent implementation in Rust, though)</p>\n<p>These two efforts are certainly related and complementary, but I think they should be treated as distinct kinds of work. They differ in scope, design constraints, and intended audience. lean-regex is primarily in the second category: itâ€™s about building and verifying an executable engine, rather than developing the general theory of regular languages.</p>",
        "id": 575267630,
        "sender_full_name": "pandaman",
        "timestamp": 1771842600
    },
    {
        "content": "<blockquote>\n<p>Re lean-regex: are there ways we can help it through CSLib? It is indeed the kind of software that we'd like to support.</p>\n</blockquote>\n<p>Iâ€™m a bit hesitant to make lean-regex part of CSLib or downstream of it.</p>\n<p>One of my goals is for lean-regex to be usable as a practical library in Lean, without requiring a Mathlib dependency. It feels suboptimal if someone writing Lean as a programming language has to pull in Mathlib just to get regex support.</p>\n<p>Currently, the verification proofs in lean-regex do depend on Mathlib, but Iâ€™ve separated those into <a href=\"https://github.com/pandaman64/lean-regex/tree/main/correctness\">a different Lake package</a> in the repository. In principle, that proof layer could be contributed to CSLib, but doing so would introduce some coordination and maintenance overhead, so Iâ€™d want to think carefully about whether thatâ€™s the right long-term structure.</p>\n<p>That said, Iâ€™d definitely be happy to collaborate and see how we can make the pieces fit together cleanly!</p>",
        "id": 575268673,
        "sender_full_name": "pandaman",
        "timestamp": 1771842929
    },
    {
        "content": "<p>Hi! I think we're all on the same page about there being two lines of work. We so far have focused on the former, but consider the latter in scope for CSLib. This is why I mentioned the above work in Rocq of this verification category for JavaScript regex.</p>\n<p>I agree the that thinking about coordination and long-term structure is required, on both sides.</p>",
        "id": 575276520,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771845508
    }
]