[
    {
        "content": "<p>Ever since I pushed a PR:<br>\n<a href=\"https://github.com/leanprover/cslib/pull/80\">https://github.com/leanprover/cslib/pull/80</a><br>\nto my fork of cslib yesterday:<br>\n<a href=\"https://github.com/ctchou/cslib\">https://github.com/ctchou/cslib</a><br>\nI've been getting \"run failed\" messages like the one shown below.  I tried to remove the offending job, but it always came back:<br>\n<a href=\"https://github.com/ctchou/cslib/actions/runs/18242962963\">https://github.com/ctchou/cslib/actions/runs/18242962963</a><br>\nHow can I turn it off?  The failure does not seem to be related to my PR in any way.  Thanks in advance!<br>\n<a href=\"/user_uploads/3121/pD96yOtB0FnvERrBka_j3WR3/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/pD96yOtB0FnvERrBka_j3WR3/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1640x1518\" src=\"/user_uploads/thumbnail/3121/pD96yOtB0FnvERrBka_j3WR3/image.png/840x560.webp\"></a></div>",
        "id": 543105031,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759599690
    },
    {
        "content": "<p>In my fork, I was able to click the three dots on the upper right for each job and select \"Disable workflow\".</p>",
        "id": 543105551,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759600252
    },
    {
        "content": "<p>We should probably add <code>if: github.repository == 'leanprover/cslib'</code> like other workflows so this doesn't happen for every fork</p>",
        "id": 543105740,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759600443
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"687698\">Chris Henson</span> <a href=\"#narrow/channel/513188-CSLib/topic/Can.20I.20turn.20off.20nightly-testing.20in.20my.20fork.3F/near/543105551\">said</a>:</p>\n<blockquote>\n<p>In my fork, I was able to click the three dots on the upper right for each job and select \"Disable workflow\".</p>\n</blockquote>\n<p>Thanks for the suggestion.  I remember I did that on a bunch of jobs yesterday, but I still got failed job notices today.  I did it again.  Hopefully this will fix itl</p>",
        "id": 543117069,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759612209
    },
    {
        "content": "<p>You may have been stopping individual runs instead of the whole workflow? It is somewhat confusing to navigate.</p>",
        "id": 543117612,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759612920
    },
    {
        "content": "<p>Not sure.  Let's wait and see what happens.</p>",
        "id": 543117779,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759613152
    },
    {
        "content": "<p>Alas, it returned again (see below).  I removed all the jobs except the green one (which was triggered by my PR) just half an hour ago.<br>\n<a href=\"/user_uploads/3121/fHkQBk72VeU2m1I5-qE0XfSc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/fHkQBk72VeU2m1I5-qE0XfSc/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1728x1188\" src=\"/user_uploads/thumbnail/3121/fHkQBk72VeU2m1I5-qE0XfSc/image.png/840x560.webp\"></a></div>",
        "id": 543118950,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759614727
    },
    {
        "content": "<p>Another failed run also returned:<br>\n<a href=\"/user_uploads/3121/3hrUfbOp5eDWOt7OFaD9FWiM/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/3hrUfbOp5eDWOt7OFaD9FWiM/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1726x1198\" src=\"/user_uploads/thumbnail/3121/3hrUfbOp5eDWOt7OFaD9FWiM/image.png/840x560.webp\"></a></div>",
        "id": 543120055,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759616193
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/tZTkkpA2TsK7hz-KL1ugivf2/image.png\">image.png</a><br>\nI don't think you have disabled them. See on the left where they are marked? I did so using the menu on the right.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/tZTkkpA2TsK7hz-KL1ugivf2/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1825x316\" src=\"/user_uploads/thumbnail/3121/tZTkkpA2TsK7hz-KL1ugivf2/image.png/840x560.webp\"></a></div>",
        "id": 543120100,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759616270
    },
    {
        "content": "<p>Thanks for the screenshot.  I was doing disabling at the wrong places.  Hopefully my disabling will work this time.</p>\n<p>I noticed my mathlib fork also has been running these action since I-don't-know-when.  (I see 12,896 workflow runs.)  Is this necessary?  Our PRs will appear and be checked in the upstream repo anyway.  Isn't a waste of resource to run all these actions in forks?</p>",
        "id": 543120615,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759616984
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110637\">Ching-Tsun Chou</span> <a href=\"#narrow/channel/513188-CSLib/topic/Can.20I.20turn.20off.20nightly-testing.20in.20my.20fork.3F/near/543120615\">said</a>:</p>\n<blockquote>\n<p>I noticed my mathlib fork also has been running these action since I-don't-know-when.  (I see 12,896 workflow runs.)</p>\n</blockquote>\n<p>I just took a look at the actions in your fork: <a href=\"https://github.com/ctchou/mathlib4/actions\">https://github.com/ctchou/mathlib4/actions</a> . As far as I can tell they're all skipped, and don't actually run, which is as intended.</p>",
        "id": 543120887,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1759617320
    },
    {
        "content": "<p>I like some actions like linting running in forks so that I don't have to discover them on making a PR (and to turn it off it's a one time thing in the fork). Others like this should be configured as I describe above to not run in forks, and we can make that the default.</p>",
        "id": 543121074,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759617567
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span>  Thanks for checking.  The status isn't clear from the top-level view.  I thought they were all run.</p>",
        "id": 543121398,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759618014
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"687698\">@Chris Henson</span>  My preference is that even linting should be run in the upstream repo only.  My habit is to push incomplete and often ill-conceived commits to a working branch in my fork all the time and later edit them using <code>git rebase -i</code>.  I don't want all my random commits go through any checks.  Lean itself already does plenty of checking.</p>",
        "id": 543121585,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1759618307
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110637\">Ching-Tsun Chou</span> <a href=\"#narrow/channel/513188-CSLib/topic/Can.20I.20turn.20off.20nightly-testing.20in.20my.20fork.3F/near/543121585\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"687698\">Chris Henson</span>  My preference is that even linting should be run in the upstream repo only.</p>\n</blockquote>\n<p>That's fine, it is personal preference. For workflows that don't make sense outside the upstream repo, we can make it off by default. For anything where someone might reasonably want it in a fork, I think the status quo is fine. My reasoning is that it is easier to turn off the workflow in a fork via the UI (modulo GitHub navigation) than it is to have it off by default and turn it back on, which requires changing the YAML file.</p>",
        "id": 543121925,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759618823
    },
    {
        "content": "<p>(If enough people feel differently that it should be off by default for all workflows, we can always make this chage later)</p>",
        "id": 543122086,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759619032
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"687698\">Chris Henson</span> <a href=\"#narrow/channel/513188-CSLib/topic/Can.20I.20turn.20off.20nightly-testing.20in.20my.20fork.3F/near/543105740\">said</a>:</p>\n<blockquote>\n<p>We should probably add <code>if: github.repository == 'leanprover/cslib'</code> like other workflows so this doesn't happen for every fork</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover/cslib/pull/100\">cslib#100</a></p>",
        "id": 544645546,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760407838
    },
    {
        "content": "<p>merged, thanks :)</p>",
        "id": 544819121,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1760468761
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"929508\">@Fabrizio Montesi</span> Can you merge <a href=\"https://github.com/leanprover/cslib/pull/102\">cslib#102</a> as well? It's a related change Kim has approved.</p>",
        "id": 544821448,
        "sender_full_name": "Chris Henson",
        "timestamp": 1760469716
    },
    {
        "content": "<p>Yes, thanks for the heads up!</p>",
        "id": 544878724,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1760505657
    }
]