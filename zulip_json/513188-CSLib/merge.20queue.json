[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover/cslib/pull/224\">cslib#224</a> I added a <code>merge_group</code> trigger (and <span class=\"user-mention\" data-user-id=\"929508\">@Fabrizio Montesi</span> required a merge queue for the main branch in the repo settings). This doesn't seem to be working as intended, as I'm not seeing any events <a href=\"https://github.com/leanprover/cslib/actions/workflows/lean_action_ci.yml\">here</a> with the <code>merge_group</code> event and commits are still immediately being added to the main branch after merging. Any ideas what the issue could be?</p>",
        "id": 564008078,
        "sender_full_name": "Chris Henson",
        "timestamp": 1765880803
    },
    {
        "content": "<p>After seeing a few more PRs merged, this remains not working. Any thoughts <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>?</p>",
        "id": 564424817,
        "sender_full_name": "Chris Henson",
        "timestamp": 1766053535
    },
    {
        "content": "<p>I think there is a separate repo setting you have to activate for the queue?</p>",
        "id": 564491203,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1766072021
    },
    {
        "content": "<p>Oh I see the queue bot <em>is</em> doing something in those logs</p>",
        "id": 564491426,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1766072071
    },
    {
        "content": "<p>Are the Required Checks set up correctly as well?</p>",
        "id": 564491536,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1766072102
    },
    {
        "content": "<p>Yes, the queue itself is working. Is \"Required Checks\" another setting required for the <code>merge_group</code> trigger in a workflow to apply? (I don't have permission to see repo settings, so I can't tell exactly what is set)</p>",
        "id": 564492396,
        "sender_full_name": "Chris Henson",
        "timestamp": 1766072289
    },
    {
        "content": "<p>Do you mean 'Status checks'? We don't have anything set there right now.</p>",
        "id": 564500867,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1766074172
    },
    {
        "content": "<p>Yes, I believe the merge queue depends on it, both for when to enqueue and when to dequeue commits</p>",
        "id": 564511616,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1766076816
    },
    {
        "content": "<p>The merge queue should work now. The required status check is called <code>ci-checks</code>. Existing PRs might need to merge from main for this to work.</p>",
        "id": 565122838,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1766481517
    },
    {
        "content": "<p>I see it running for the most recent PR, thanks!</p>",
        "id": 565126313,
        "sender_full_name": "Chris Henson",
        "timestamp": 1766483183
    }
]