[
    {
        "content": "<p>Hi! Following a small chat with Yaël, I'd like to claim <code>ruzsa-triangle</code></p>",
        "id": 403243432,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1700513404
    },
    {
        "content": "<p>Does that include <code>ent_of_diff_le</code>? If so, here is my progress so far:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"sd\">/-- The improved Ruzsa triangle inequality -/</span>\n<span class=\"kd\">lemma</span> <span class=\"n\">ent_of_diff_le</span> <span class=\"o\">(</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"bp\">Ω</span> <span class=\"bp\">→</span> <span class=\"n\">G</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">Y</span> <span class=\"o\">:</span> <span class=\"bp\">Ω</span> <span class=\"bp\">→</span> <span class=\"n\">G</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">Z</span> <span class=\"o\">:</span> <span class=\"bp\">Ω</span> <span class=\"bp\">→</span> <span class=\"n\">G</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">hX</span> <span class=\"o\">:</span> <span class=\"n\">Measurable</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hY</span> <span class=\"o\">:</span> <span class=\"n\">Measurable</span> <span class=\"n\">Y</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hZ</span> <span class=\"o\">:</span> <span class=\"n\">Measurable</span> <span class=\"n\">Z</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">IndepFun</span> <span class=\"o\">(⟨</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"n\">Y</span> <span class=\"o\">⟩)</span> <span class=\"n\">Z</span> <span class=\"n\">μ</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">IsProbabilityMeasure</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:</span>\n    <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Z</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">-</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"k\">have</span> <span class=\"n\">h1</span> <span class=\"o\">:</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"o\">⟨</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩⟩</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span>\n    <span class=\"n\">entropy_triple_add_entropy_le</span> <span class=\"n\">μ</span> <span class=\"o\">(</span><span class=\"n\">hX.sub</span> <span class=\"n\">hZ</span><span class=\"o\">)</span> <span class=\"n\">hY</span> <span class=\"o\">(</span><span class=\"n\">hX.sub</span> <span class=\"n\">hY</span><span class=\"o\">)</span>\n  <span class=\"k\">have</span> <span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"k\">calc</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n          <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"o\">⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"bp\">↦</span> <span class=\"o\">(</span><span class=\"n\">p.1</span><span class=\"o\">,</span> <span class=\"n\">p.1</span> <span class=\"bp\">-</span> <span class=\"n\">p.2</span><span class=\"o\">))</span> <span class=\"bp\">∘</span> <span class=\"o\">⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">⟩</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ext1</span><span class=\"bp\">;</span> <span class=\"n\">simp</span>\n          <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">this</span><span class=\"o\">]</span>\n          <span class=\"n\">exact</span> <span class=\"n\">entropy_comp_le</span> <span class=\"n\">μ</span> <span class=\"o\">((</span><span class=\"n\">hX.sub</span> <span class=\"n\">hZ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">prod_mk</span> <span class=\"o\">(</span><span class=\"n\">hY.sub</span> <span class=\"n\">hZ</span><span class=\"o\">))</span> <span class=\"o\">(</span><span class=\"n\">measurable_of_finite</span> <span class=\"n\">_</span><span class=\"o\">)</span>\n    <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n          <span class=\"k\">have</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">-</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span>\n            <span class=\"n\">mutualInformation_nonneg</span> <span class=\"o\">(</span><span class=\"n\">hX.sub</span> <span class=\"n\">hZ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hY.sub</span> <span class=\"n\">hZ</span><span class=\"o\">)</span> <span class=\"n\">μ</span>\n          <span class=\"n\">linarith</span>\n  <span class=\"k\">have</span> <span class=\"n\">h3</span> <span class=\"o\">:</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span> <span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span> <span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span> <span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"n\">Y</span> <span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"o\">⟨</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"bp\">↦</span> <span class=\"o\">(</span><span class=\"n\">p.2</span><span class=\"o\">,</span> <span class=\"n\">p.1</span> <span class=\"bp\">-</span> <span class=\"n\">p.2</span><span class=\"o\">))</span> <span class=\"bp\">∘</span> <span class=\"o\">⟨</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ext1</span><span class=\"bp\">;</span>  <span class=\"n\">simp</span>\n    <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">this</span><span class=\"o\">]</span>\n    <span class=\"n\">exact</span> <span class=\"n\">entropy_comp_le</span> <span class=\"n\">μ</span> <span class=\"o\">(</span><span class=\"n\">hX.prod_mk</span> <span class=\"n\">hY</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">measurable_snd.prod_mk</span> <span class=\"n\">measurable_sub</span><span class=\"o\">)</span>\n  <span class=\"k\">have</span> <span class=\"n\">h4</span> <span class=\"o\">:</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"o\">,</span> <span class=\"o\">⟨</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"o\">⟩⟩</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">=</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"o\">⟨</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">Z</span><span class=\"o\">⟩⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">refine</span> <span class=\"n\">entropy_of_comp_eq_of_comp</span> <span class=\"n\">μ</span> <span class=\"o\">((</span><span class=\"n\">hX.sub</span> <span class=\"n\">hZ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">prod_mk</span> <span class=\"o\">(</span><span class=\"n\">hY.prod_mk</span> <span class=\"o\">(</span><span class=\"n\">hX.sub</span> <span class=\"n\">hY</span><span class=\"o\">)))</span>\n      <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">G</span> <span class=\"bp\">×</span> <span class=\"o\">(</span><span class=\"n\">G</span> <span class=\"bp\">×</span> <span class=\"n\">G</span><span class=\"o\">)</span> <span class=\"bp\">↦</span> <span class=\"o\">(</span><span class=\"n\">p.2.2</span> <span class=\"bp\">+</span> <span class=\"n\">p.2.1</span><span class=\"o\">,</span> <span class=\"n\">p.2.1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"n\">p.1</span> <span class=\"bp\">-</span> <span class=\"n\">p.2.2</span> <span class=\"bp\">-</span> <span class=\"n\">p.2.1</span><span class=\"o\">))</span>\n      <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">G</span> <span class=\"bp\">×</span> <span class=\"n\">G</span> <span class=\"bp\">×</span> <span class=\"n\">G</span> <span class=\"bp\">↦</span> <span class=\"o\">(</span><span class=\"n\">p.1</span> <span class=\"bp\">-</span> <span class=\"n\">p.2.2</span><span class=\"o\">,</span> <span class=\"n\">p.2.1</span><span class=\"o\">,</span> <span class=\"n\">p.1</span> <span class=\"bp\">-</span> <span class=\"n\">p.2.1</span><span class=\"o\">))</span> <span class=\"bp\">?</span><span class=\"n\">_</span> <span class=\"bp\">?</span><span class=\"n\">_</span>\n    <span class=\"bp\">·</span> <span class=\"gr\">sorry</span>\n    <span class=\"bp\">·</span> <span class=\"gr\">sorry</span>\n  <span class=\"k\">have</span> <span class=\"n\">h5</span> <span class=\"o\">:</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"o\">⟨</span><span class=\"n\">Y</span><span class=\"o\">,</span> <span class=\"n\">Z</span><span class=\"o\">⟩⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">=</span> <span class=\"n\">H</span><span class=\"o\">[⟨</span><span class=\"n\">X</span><span class=\"o\">,</span> <span class=\"n\">Y</span><span class=\"o\">⟩</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Z</span> <span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">entropy_assoc</span> <span class=\"n\">hX</span> <span class=\"n\">hY</span> <span class=\"n\">hZ</span><span class=\"o\">,</span> <span class=\"n\">entropy_pair_eq_add</span> <span class=\"o\">(</span><span class=\"n\">hX.prod_mk</span> <span class=\"n\">hY</span><span class=\"o\">)</span> <span class=\"n\">hZ</span><span class=\"o\">]</span>\n    <span class=\"n\">exact</span> <span class=\"n\">h</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h4</span><span class=\"o\">,</span> <span class=\"n\">h5</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">h1</span>\n  <span class=\"k\">calc</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">≤</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Y</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">-</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">linarith</span>\n  <span class=\"n\">_</span> <span class=\"bp\">=</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">X</span> <span class=\"bp\">-</span> <span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">+</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Z</span> <span class=\"bp\">-</span> <span class=\"n\">Y</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"bp\">-</span> <span class=\"n\">H</span><span class=\"o\">[</span><span class=\"n\">Z</span><span class=\"bp\">;</span> <span class=\"n\">μ</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">congr</span> <span class=\"mi\">2</span>\n    <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">entropy_sub_comm</span> <span class=\"n\">hY</span> <span class=\"n\">hZ</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 403245009,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1700514179
    },
    {
        "content": "<p>I'm happy to let you continue from here if you wish. The <code>h1, h2...</code> correspond to the steps detailed in the blueprint.</p>",
        "id": 403245297,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1700514307
    },
    {
        "content": "<p>Oh I was just going to have a go at <code>rdist_triangle</code> for starters!</p>",
        "id": 403245769,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1700514559
    },
    {
        "content": "<p>I don't want to steal your work!</p>",
        "id": 403246111,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1700514711
    },
    {
        "content": "<p>Ok. I have continued working on it (and updated the code above). The two sorry left should be trivial <del>but I am having difficulties with the <code>prod</code> abbreviation introduced in the project. <code>simp</code> does not see through it.</del> (I misunderstood my code and that was not the issue)</p>\n<p>Also the independence hypothesis I used is not the same as in the blueprint: I have (X,Y) independent of Z, while <a href=\"https://teorth.github.io/pfr/blueprint/sect0003.html#ruzsa-triangle-improved\">https://teorth.github.io/pfr/blueprint/sect0003.html#ruzsa-triangle-improved</a> is stated with (X,Z) independent of Y. Is that a typo, or did I prove the wrong thing?</p>",
        "id": 403248383,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1700515697
    },
    {
        "content": "<p>PR for this: <a href=\"https://github.com/teorth/pfr/pull/48\">https://github.com/teorth/pfr/pull/48</a></p>",
        "id": 403253535,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1700518167
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/stream/412902-Polynomial-Freiman-Ruzsa-conjecture/topic/Ruzsa.20triangle.20inequality/near/403248383\">said</a>:</p>\n<blockquote>\n<p>Ok. I have continued working on it (and updated the code above). The two sorry left should be trivial <del>but I am having difficulties with the <code>prod</code> abbreviation introduced in the project. <code>simp</code> does not see through it.</del> (I misunderstood my code and that was not the issue)</p>\n<p>Also the independence hypothesis I used is not the same as in the blueprint: I have (X,Y) independent of Z, while <a href=\"https://teorth.github.io/pfr/blueprint/sect0003.html#ruzsa-triangle-improved\">https://teorth.github.io/pfr/blueprint/sect0003.html#ruzsa-triangle-improved</a> is stated with (X,Z) independent of Y. Is that a typo, or did I prove the wrong thing?</p>\n</blockquote>\n<p>Oops, that was indeed a typo.  I'll get it changed when I get back to a machine with access to the repo.  (For the application to the Ruzsa distance inequality, all three variables can be made independent of each other, so the typo doesn't much matter for this project.)  Technically I guess this is the first discovery of an error arising from the formalization project - a milestone of sorts, I guess! (But one that came from the blueprint, not the paper, which only states the inequality assuming all three variables independent.)</p>",
        "id": 403259808,
        "sender_full_name": "Terence Tao",
        "timestamp": 1700521156
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"376152\">Paul Lezeau</span> <a href=\"#narrow/stream/412902-Polynomial-Freiman-Ruzsa-conjecture/topic/Ruzsa.20triangle.20inequality/near/403245769\">said</a>:</p>\n<blockquote>\n<p>Oh I was just going to have a go at <code>rdist_triangle</code> for starters!</p>\n</blockquote>\n<p>Welcome to the project!  I think this is quite a doable lemma now with all the prerequisites (and also examples of similar lemmas already been proven).  </p>\n<p>More generally, most of the lemmas in <a href=\"https://teorth.github.io/pfr/blueprint/sect0003.html\">https://teorth.github.io/pfr/blueprint/sect0003.html</a> should now be within reach, except possibly for some involving conditional Ruzsa distance where we don't yet have a formal definition (but even then, some of the later lemmas about conditional Ruzsa distance might be derivable from the earlier lemmas at this current stage).  The fibring identities in <a href=\"https://teorth.github.io/pfr/blueprint/sect0005.html\">https://teorth.github.io/pfr/blueprint/sect0005.html</a> are also somewhat similar to the <a href=\"https://teorth.github.io/pfr/blueprint/sect0003.html#ruzsa-triangle\">Ruzsa triangle inequality</a> and the <a href=\"https://teorth.github.io/pfr/blueprint/sect0003.html#kv\">Kaimonovich-Vershik inequality</a> and should also be manageable now.</p>\n<p>The most difficult entropic Ruzsa distance inequality is the <a href=\"https://teorth.github.io/pfr/blueprint/sect0003.html#lem-bsg\">Balog-Szemeredi-Gowers lemma</a>, which isn't even formalized right now (it involves a conditioning to <code>Z ← z</code>).  I think if we get a bit more experience formalizing the rest of the entropic distance inequalities, though, it will be clear how to do this one also.  Formalising this lemma would, roughly speaking, mark the halfway point in this project, I think.</p>",
        "id": 403267249,
        "sender_full_name": "Terence Tao",
        "timestamp": 1700525337
    },
    {
        "content": "<p>FWIW <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> and I are thinking about BSG (but not only the entropic version).</p>",
        "id": 403324552,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1700554203
    },
    {
        "content": "<p>Completed at <a href=\"https://github.com/teorth/pfr/pull/60\">https://github.com/teorth/pfr/pull/60</a></p>",
        "id": 403636434,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1700673975
    },
    {
        "content": "<p>You also pushed your lake-manifest.json file to the branch of that pr. Could you undo that change ?</p>",
        "id": 403637066,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1700674255
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/stream/412902-Polynomial-Freiman-Ruzsa-conjecture/topic/Ruzsa.20triangle.20inequality/near/403637066\">said</a>:</p>\n<blockquote>\n<p>You also pushed your lake-manifest.json file to the branch of that pr. Could you undo that change ?</p>\n</blockquote>\n<p>I'll do that now!</p>",
        "id": 403637132,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1700674289
    },
    {
        "content": "<p>Done!</p>",
        "id": 403638304,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1700674786
    }
]