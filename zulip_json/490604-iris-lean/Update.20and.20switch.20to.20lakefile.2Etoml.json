[
    {
        "content": "<p>As the topic says, I'd like to try bringing iris-lean upto toolchain v4.17.0 and switch the lakefile.lean with lakefile.toml. Seems easier to do it earlier in a project</p>",
        "id": 506163807,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742220753
    },
    {
        "content": "<p>Here's a PR : <a href=\"https://github.com/leanprover-community/iris-lean/pull/16\">https://github.com/leanprover-community/iris-lean/pull/16</a></p>",
        "id": 506165672,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742221135
    },
    {
        "content": "<p>As a general policy matter: Iris-lean works on the latest stable release, so updates to bump the lean version are usually rubber stamped. If someone could figure out how to set it up to use lean-action to do automatic version bumps I would be grateful</p>",
        "id": 506173676,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742222791
    },
    {
        "content": "<p>There was just one array API change this time</p>",
        "id": 506173794,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742222820
    },
    {
        "content": "<p>I think one source of confusion for me is that I am usually updating math repositories where pinning mathlib’s branch to stable is sufficient</p>",
        "id": 506174006,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742222864
    },
    {
        "content": "<p>Then running lake update always jumps to the latest stable toolchain</p>",
        "id": 506174078,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742222876
    },
    {
        "content": "<p>I am not sure how to get that behaviour in non math projects</p>",
        "id": 506174164,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742222889
    },
    {
        "content": "<p>lean-action has something for regular updates. We used it in equational. But that’s a math project</p>",
        "id": 506174479,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742222959
    },
    {
        "content": "<p>Here, I had to explicitly change lean-toolchain before running <code>lake update</code> to make it work</p>",
        "id": 506175111,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223098
    },
    {
        "content": "<p>I wonder if putting <code>leanprover/lean4:stable</code> in lean-toolchain will do the trick.</p>",
        "id": 506175545,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223190
    },
    {
        "content": "<p>no, changing the lean-toolchain file is exactly what you want</p>",
        "id": 506176842,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742223471
    },
    {
        "content": "<p>but I thought there was a lean action bot that would do it for you</p>",
        "id": 506176959,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742223491
    },
    {
        "content": "<p>There is a lean-action bot for checking a math project's toolchain and updating the project according to that</p>",
        "id": 506177085,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223525
    },
    {
        "content": "<p>but lake update behaves differently for math and other projects</p>",
        "id": 506177242,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223559
    },
    {
        "content": "<p>It won't, for example, fix the Qq dependency in iris which I had to manually update</p>",
        "id": 506177467,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223604
    },
    {
        "content": "<p>Also, the following lakefile.toml won't work because lake will complain that it is getting two different version of lake, so I can't keep the Qq dependency automatically up to date</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"iris\"</span>\n<span class=\"n\">srcDir</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"./src/\"</span>\n<span class=\"n\">defaultTargets</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"s2\">\"Iris\"</span><span class=\"o\">]</span>\n\n<span class=\"o\">[[</span><span class=\"n\">require</span><span class=\"o\">]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"Qq\"</span>\n<span class=\"n\">scope</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"leanprover-community\"</span>\n<span class=\"n\">version</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"git#stable\"</span>\n\n<span class=\"o\">[[</span><span class=\"n\">lean_lib</span><span class=\"o\">]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"Iris\"</span>\n</code></pre></div>",
        "id": 506178606,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223815
    },
    {
        "content": "<p>That's ofc because the stable in the dependency is the name of a github branch and the lean-toolchain inside reads <code>leanprover/lean4:v4.17.0</code></p>",
        "id": 506178846,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223856
    },
    {
        "content": "<p>Same error if I leave the Qq dependency version at <code>git#v4.17.0</code></p>",
        "id": 506179035,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223901
    },
    {
        "content": "<p>stable doesn't resolve to anything before lake checks for <code>multiple toolchains</code></p>",
        "id": 506179156,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223934
    },
    {
        "content": "<p>which ... sounds like a bug to me</p>",
        "id": 506179218,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223949
    },
    {
        "content": "<p>It just performs a text comparison and throws</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">multiple</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">candidates</span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n<span class=\"w\">    </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">iris</span>\n<span class=\"w\">  </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">17</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"w\">    </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">Qq</span>\n</code></pre></div>",
        "id": 506179410,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742223985
    },
    {
        "content": "<p>why is anything asking for <code>lean4:stable</code>?</p>",
        "id": 506179509,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742224007
    },
    {
        "content": "<p>you should never use that toolchain</p>",
        "id": 506179540,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742224015
    },
    {
        "content": "<p>I experimented locally with changing the lean-toolchain to stable</p>",
        "id": 506179927,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742224097
    },
    {
        "content": "<p>so that <code>lake update</code> automatically updates to the latest stable toolchain</p>",
        "id": 506180013,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742224114
    },
    {
        "content": "<p>without tinkering with <code>lean-toolchain</code></p>",
        "id": 506180037,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742224120
    },
    {
        "content": "<p>based on a separate experiment below:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">install</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">17</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">'</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">already</span><span class=\"w\"> </span><span class=\"n\">installed</span>\n</code></pre></div>\n<p>I conclude that <code>lean4:stable</code> is treated by elan as the latest stable toolchain</p>",
        "id": 506180277,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742224177
    },
    {
        "content": "<p>yes which makes it a bad choice for usage in the project</p>",
        "id": 506181841,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742224519
    },
    {
        "content": "<p>it's a reproducibility hazard, as it will not resolve to the same thing next month</p>",
        "id": 506182000,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742224558
    },
    {
        "content": "<p>this is general advice for any library - if you put it on github it should not be using <code>lean4:stable</code></p>",
        "id": 506182157,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742224585
    },
    {
        "content": "<p>the <em>update script</em> should be aware that we want to update to the latest stable, but regular builds should use the lean version in the lean-toolchain file and that should be a stable identifier over time</p>",
        "id": 506182683,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742224700
    },
    {
        "content": "<p>So the update action is not in lean-action<br>\nIt is here   :<a href=\"https://github.com/Seasawher/lean-update/\">https://github.com/Seasawher/lean-update/</a></p>",
        "id": 506183642,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742224886
    },
    {
        "content": "<p>Under the hood it uses the following js : <a href=\"https://github.com/Seasawher/lean-update/blob/main/scripts/getLatest.js\">https://github.com/Seasawher/lean-update/blob/main/scripts/getLatest.js</a></p>",
        "id": 506183787,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742224920
    },
    {
        "content": "<p>This is mathlib independent. But it will almost certainly break because after replacing the toolchain, the action tries to <a href=\"https://github.com/Seasawher/lean-update/blob/e0993796b7f0848aca031b59bf7704995b3b0501/action.yml#L101\">simply run</a> <code>lake update</code>.</p>",
        "id": 506184274,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742225029
    },
    {
        "content": "<p>We also need to update all our dependencies</p>",
        "id": 506184336,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742225042
    },
    {
        "content": "<p>This should work : <a href=\"https://github.com/leanprover-community/iris-lean/pull/19\">https://github.com/leanprover-community/iris-lean/pull/19</a><br>\nOnly admins and maintainers can test this CI action stuff afaik. So I can't test this directly. But the scripts are borrowed from equational_theories and simply call the lean-update action linked above. I changed the <code>Qq</code> dependency to point to <code>stable</code> so that we don't have to manually update its branch inside lakefile.toml</p>",
        "id": 506189495,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742226052
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> :  The update CI PR is ready to be merged. We can similarly borrow other parts of the CI. Maybe even setup docs.</p>",
        "id": 506470310,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742301930
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> : My PR is still in  the queue. Just wanted to remind you. It's a CI action that does regular toolchain updates</p>",
        "id": 518106025,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747238638
    },
    {
        "content": "<p>I'm unsure about the <a href=\"https://github.com/leanprover-community/iris-lean/pull/19/files#diff-20f23e57a8bb2721646f66816d0a1d945ffd23e0e49423fbf917b6e43046b90b\">change</a> to the require Qq line from <code>\"v4.17.0\"</code> to <code>\"stable\"</code>. I would like a second opinion on this from someone with dependency management expertise, cc: <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>, is any other project using Qq as a dependency?</p>",
        "id": 518110080,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747239753
    },
    {
        "content": "<p>I think this should be okay. The relevant chunk of <a href=\"https://github.com/leanprover/lean4/blob/master/script/release_repos.yml\"><code>release_repos.yml</code></a>, which determines what I do during releasing, says:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">quote4</span>\n<span class=\"w\">    </span><span class=\"n\">url</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">quote4</span>\n<span class=\"w\">    </span><span class=\"n\">toolchain</span><span class=\"bp\">-</span><span class=\"n\">tag</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">    </span><span class=\"n\">stable</span><span class=\"bp\">-</span><span class=\"n\">branch</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">    </span><span class=\"n\">branch</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">master</span>\n<span class=\"w\">    </span><span class=\"n\">dependencies</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n</code></pre></div>\n<p>which in particular means the <code>stable</code> branch is kept up to date.</p>",
        "id": 518174797,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747263950
    },
    {
        "content": "<p>well my question is whether it is better to use <code>stable</code> vs updating it along with the lean version</p>",
        "id": 518174980,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747264019
    },
    {
        "content": "<p>I feel like using <code>stable</code> is more vague about which version is being referenced</p>",
        "id": 518175102,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747264066
    },
    {
        "content": "<p>My \"promise\" is that <code>stable</code> will be updated at approximately the same time Qq is updated and releases a new toolchain tag.</p>",
        "id": 518175105,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747264068
    },
    {
        "content": "<p>That's true.</p>",
        "id": 518175127,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747264078
    },
    {
        "content": "<p>The alternatives are essentially <code>master</code>, <code>stable</code>, or an explicit toolchain tag.</p>",
        "id": 518175202,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747264100
    },
    {
        "content": "<p>I'd prefer not the later, as that then requires human attention during updates, which won't happen.</p>",
        "id": 518175228,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747264114
    },
    {
        "content": "<p>fair enough</p>",
        "id": 518175255,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747264128
    },
    {
        "content": "<p>I changed the source of the lean-update action as requested by Kim</p>",
        "id": 518176732,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747264712
    },
    {
        "content": "<p>I’ll now add the CI script to build the project in every PR</p>",
        "id": 518253102,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747301771
    },
    {
        "content": "<p>The last update ran into trouble. Some manual intervention is needed : <a href=\"https://github.com/leanprover-community/iris-lean/issues/38\">https://github.com/leanprover-community/iris-lean/issues/38</a></p>",
        "id": 518288101,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747311954
    },
    {
        "content": "<p>Here's the PR for adding build CI</p>",
        "id": 518289950,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747312417
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/iris-lean/pull/40\">https://github.com/leanprover-community/iris-lean/pull/40</a></p>",
        "id": 518289951,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747312418
    },
    {
        "content": "<p>so basically all the errors in <a href=\"https://github.com/leanprover-community/iris-lean/pull/38\">iris-lean#38</a> are about the missing field <code>cofe</code></p>",
        "id": 518293824,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747313467
    },
    {
        "content": "<p>there were a bunch more errors after that, they have to do with structure instances not allowing you to infer fields</p>",
        "id": 518294010,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747313522
    },
    {
        "content": "<p>the build CI now uses lean-action</p>",
        "id": 518300129,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747314956
    },
    {
        "content": "<p>The rest of the stuff is to check when the CI should run, add labels and remove labels</p>",
        "id": 518300266,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747314978
    },
    {
        "content": "<p>lean-action doesn't provide that for us</p>",
        "id": 518300346,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747314990
    },
    {
        "content": "<p>what are the <code>paths</code> for?</p>",
        "id": 518300371,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747314993
    },
    {
        "content": "<p>the main branch is <code>master</code> in this repo</p>",
        "id": 518300438,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315005
    },
    {
        "content": "<p>It says \"if these paths change\"</p>",
        "id": 518300461,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315011
    },
    {
        "content": "<p>Run the CI</p>",
        "id": 518300481,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315014
    },
    {
        "content": "<p>but it should always run?</p>",
        "id": 518300544,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315030
    },
    {
        "content": "<p>you don't want it to run if you make changes to README.md</p>",
        "id": 518300827,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315090
    },
    {
        "content": "<p>or something similarly trivial</p>",
        "id": 518300888,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315103
    },
    {
        "content": "<p>I think I do</p>",
        "id": 518300947,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315116
    },
    {
        "content": "<p>or rather I don't want to be responsible for missing some relevant file in that list</p>",
        "id": 518301057,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315141
    },
    {
        "content": "<p>especially when the build is not so expensive</p>",
        "id": 518301187,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315174
    },
    {
        "content": "<p>okay then those paths can be deleted</p>",
        "id": 518301295,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315200
    },
    {
        "content": "<p>the labels too, I would prefer if they were added to lean-action</p>",
        "id": 518301427,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315223
    },
    {
        "content": "<p>I want the CI to look like <a href=\"https://github.com/leanprover/lean-action?tab=readme-ov-file#quick-setup\">https://github.com/leanprover/lean-action?tab=readme-ov-file#quick-setup</a></p>",
        "id": 518301527,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315248
    },
    {
        "content": "<p>That's literally just adding the awaiting-CI label to PRs and deleting it</p>",
        "id": 518301564,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315255
    },
    {
        "content": "<p>I can see that</p>",
        "id": 518301624,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315268
    },
    {
        "content": "<p>but iris-lean is a standard issue lean repo, it should not need custom config</p>",
        "id": 518301757,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315301
    },
    {
        "content": "<p>Labels are usually project specific, so I wouldn't expect lean-action to take on the task of manipulating repository PR labels</p>",
        "id": 518301973,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315339
    },
    {
        "content": "<p>if you are suggesting that every standard issue repo should be using awaiting CI tags, then that stuff should be moved to lean-action</p>",
        "id": 518301979,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315340
    },
    {
        "content": "<p>under an option</p>",
        "id": 518302046,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315358
    },
    {
        "content": "<p>It is simply convenient for us to know when the CI is running on a PR</p>",
        "id": 518302199,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315397
    },
    {
        "content": "<p>and it will come in handy when we decide to automate moving things to a review queue. Basically the CI would then check for this label and kick out PRs which have an awaiting-CI label</p>",
        "id": 518302279,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315417
    },
    {
        "content": "<p>I usually look at the <span aria-label=\"orange circle\" class=\"emoji emoji-1f7e0\" role=\"img\" title=\"orange circle\">:orange_circle:</span> for that <span aria-label=\"rolling eyes\" class=\"emoji emoji-1f644\" role=\"img\" title=\"rolling eyes\">:rolling_eyes:</span></p>",
        "id": 518302292,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315420
    },
    {
        "content": "<p>it's better integrated with GHA to use this too</p>",
        "id": 518302538,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315470
    },
    {
        "content": "<p>I don't want iris-lean to be using experimental CI. It should use the standard issue stuff. Please experiment on projects that have more complex requirements</p>",
        "id": 518302857,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315547
    },
    {
        "content": "<p>Okay, in that case I have just pushed the standard stuff</p>",
        "id": 518303057,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315579
    },
    {
        "content": "<p>The only edit to the lean-action provided template is the name of the action</p>",
        "id": 518303155,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315599
    },
    {
        "content": "<p>But fwiw, it is not that experimental. We already did all the experimenting on equational theories</p>",
        "id": 518303392,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315647
    },
    {
        "content": "<p>if it's not experimental, then get it added to the standard issue template</p>",
        "id": 518303485,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315665
    },
    {
        "content": "<p>I think it's already part of the leanproject template. Neither Pietro nor I have pushed it further upstream for non-technical reasons (time basically)</p>",
        "id": 518303748,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747315725
    },
    {
        "content": "<p>okay, that's fine. It can come to iris-lean once it is standard practice, there is no rush</p>",
        "id": 518303915,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315761
    },
    {
        "content": "<p>having green checkmarks pronto is good, the other stuff can wait</p>",
        "id": 518304100,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747315799
    },
    {
        "content": "<p>Currently we are running the default config of lean-action. I don't see lean4checker running so I guess that needs some extra helpings of configuration</p>",
        "id": 518306378,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1747316286
    },
    {
        "content": "<p>I'm fine with setting options on the action to enable lean4checker</p>",
        "id": 518306570,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747316337
    },
    {
        "content": "<p>although now that I come to think about it actually I don't think it's necessary, since iris-lean is a library and not really an endpoint project</p>",
        "id": 518306995,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747316426
    }
]