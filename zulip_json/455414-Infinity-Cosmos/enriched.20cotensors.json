[
    {
        "content": "<p>I have some code on enriched cotensors that I would like to merge into the infinity-cosmos repository. How should I go about doing this? </p>\n<p>Currently, I have the definition of V-cotensors in a V-category, and a proof that if a V-category admits V-cotensors then these form an enriched bifunctor. There are also some additional definitions such as the opposite V-category and the tensor product of V-categories</p>",
        "id": 480992579,
        "sender_full_name": "Daniel Carranza",
        "timestamp": 1730923893
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761171\">@Daniel Carranza</span> why don't you create a new folder called \"Enriched\" under \"ForMathlib/CategoryTheory\" (to mirror the mathlib directory structure) and create a file called Cotensors.lean in there. Eventually we'll most likely delete (or replace) the file \"Cotensors.lean\" that is currently under \"ForMathlib/AlgebraicTopology/SimplicialCategory\" but to start it might be nice to be able to directly compare them.</p>",
        "id": 481022889,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1730939229
    },
    {
        "content": "<p>To add your code, the best thing is to branch the infinitycosmos repository and send us a PR. We're not nearly as picky as mathlib, so I'll most likely merge it right away for us to start experimenting with, unless anyone else has a better idea for the workflow.</p>",
        "id": 481023004,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1730939289
    },
    {
        "content": "<p>A PR has been created with the changes:<br>\n<a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/33\">https://github.com/emilyriehl/infinity-cosmos/pull/33</a></p>\n<p>Any and all suggestions from folks are strongly encouraged, since the code is in VERY rough shape at the moment. Thank you so much for your help!</p>",
        "id": 481048236,
        "sender_full_name": "Daniel Carranza",
        "timestamp": 1730957561
    },
    {
        "content": "<p>Thanks for merging this PR <span class=\"user-mention\" data-user-id=\"246635\">@Emily Riehl</span>! Unfortunately (and embarrassingly!), the PR contained errors in the Cotensors.lean file caused by changing an argument in a different file to be implicit. These errors have been corrected in a new PR: <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/35\">https://github.com/emilyriehl/infinity-cosmos/pull/35</a></p>\n<p>Sorry for the trouble!</p>",
        "id": 481192609,
        "sender_full_name": "Daniel Carranza",
        "timestamp": 1731010334
    },
    {
        "content": "<p>I've merged PRs which broke my build in the FLT project and I was never too bothered about this, until Kim Morrison explained to me that this hinders progress because when other people try to make PRs the build is broken and this confuses them. Since I understood this properly I've always been careful to only merge stuff with a green tick and I think that we even have FLT set up so that it's only possible to merge PRs which don't break the build? I don't know anything about how CI is set up in this project but you might want to get some CI whizz to make this project work like that too if it doesn't already.</p>",
        "id": 481194659,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731011212
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> where do I find such a CI wiz? This is way above my paygrade... (The early merge was my fault too.)</p>",
        "id": 481215369,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1731021861
    },
    {
        "content": "<p>I can do it later</p>",
        "id": 481217007,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1731022806
    },
    {
        "content": "<p>Unfortunately I can't make the changes directly because I'm not the repo owner, but here is what you need to do: </p>\n<ol>\n<li>Go to <a href=\"https://github.com/emilyriehl/infinity-cosmos/settings\">https://github.com/emilyriehl/infinity-cosmos/settings</a></li>\n<li>Left sidebar: <code>Code and automation</code> &gt; <code>Rules</code> &gt; <code>Rulesets</code></li>\n<li>Ruleset Name: <code>main</code></li>\n<li>Enforcement status: <code>Active</code></li>\n<li>Bypass list: <code>add bypass</code> &gt; select <code>Repository admin</code>, <code>Maintain</code>, <code>Write</code></li>\n<li>Targets: <code>add target</code> &gt; <code>include default branch</code></li>\n<li>Check <code>Require status checks to pass</code></li>\n<li>Add checks: write <code>build_project</code> and check it.</li>\n<li>Click on <code>Create</code></li>\n</ol>\n<p><a href=\"/user_uploads/3121/06SU_YbWgYUlVGYxyWdg0V7j/Screenshot-2024-11-08-at-01.04.42.png\">Screenshot 2024-11-08 at 01.04.42.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/06SU_YbWgYUlVGYxyWdg0V7j/Screenshot-2024-11-08-at-01.04.42.png\" title=\"Screenshot 2024-11-08 at 01.04.42.png\"><img data-original-dimensions=\"1358x1056\" src=\"/user_uploads/thumbnail/3121/06SU_YbWgYUlVGYxyWdg0V7j/Screenshot-2024-11-08-at-01.04.42.png/840x560.webp\"></a></div><p><a href=\"/user_uploads/3121/M2z3_btHzUVcZe8KjYWhHX5s/Screenshot-2024-11-08-at-01.04.50.png\">Screenshot 2024-11-08 at 01.04.50.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/M2z3_btHzUVcZe8KjYWhHX5s/Screenshot-2024-11-08-at-01.04.50.png\" title=\"Screenshot 2024-11-08 at 01.04.50.png\"><img data-original-dimensions=\"1364x548\" src=\"/user_uploads/thumbnail/3121/M2z3_btHzUVcZe8KjYWhHX5s/Screenshot-2024-11-08-at-01.04.50.png/840x560.webp\"></a></div><p><a href=\"/user_uploads/3121/2xTRSYSswecmkZXdvU1I5iwb/Screenshot-2024-11-08-at-01.05.02.png\">Screenshot 2024-11-08 at 01.05.02.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/2xTRSYSswecmkZXdvU1I5iwb/Screenshot-2024-11-08-at-01.05.02.png\" title=\"Screenshot 2024-11-08 at 01.05.02.png\"><img data-original-dimensions=\"1416x700\" src=\"/user_uploads/thumbnail/3121/2xTRSYSswecmkZXdvU1I5iwb/Screenshot-2024-11-08-at-01.05.02.png/840x560.webp\"></a></div>",
        "id": 481219660,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1731024477
    },
    {
        "content": "<p>Thanks to <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> this should be all set up now!</p>",
        "id": 481396790,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1731105202
    },
    {
        "content": "<p>I can confirm it works as expected. See this PR for example <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/36\">https://github.com/emilyriehl/infinity-cosmos/pull/36</a></p>",
        "id": 481482840,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1731176596
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761171\">@Daniel Carranza</span> when you have a minute could you check out the <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/52\">new PR</a> by <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> which golfs a few of your proofs? If you approve, we can go ahead and merge. </p>\n<p>Another thing which is not urgent: I'd also be grateful for advice about what to do with the enriched opposite categories, which are now in mathlib. I didn't follow the discussion closely while it was being reviewed.</p>",
        "id": 484939413,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1732805973
    },
    {
        "content": "<p>The new PR looks great - thank you <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> for the improvement!</p>\n<p>I updated my local repo to the newest version of mathlib, and it looks like the only file that requires changes is <code>Cotensors.lean</code>, which only requires small re-writes to use the type <code>V^op</code> as opposed to <code>eOpposite V V</code>. I can make the changes to the file in a PR if the current version of the repo has an updated installation of mathlib.</p>\n<p>(For reference, the relevant changes in mathlib are from this PR: <a href=\"https://github.com/leanprover-community/mathlib4/pull/19483\">https://github.com/leanprover-community/mathlib4/pull/19483</a> )</p>",
        "id": 484959413,
        "sender_full_name": "Daniel Carranza",
        "timestamp": 1732812926
    },
    {
        "content": "<p>Ok <span class=\"user-mention\" data-user-id=\"761171\">@Daniel Carranza</span>, so we can merge <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/52\">cosmos#52</a> and then bump Mathlib in a new PR.</p>",
        "id": 484963286,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1732814544
    },
    {
        "content": "<p>I've created a PR with the changes: <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/56\">https://github.com/emilyriehl/infinity-cosmos/pull/56</a></p>\n<p>I tried to delete the <code>Opposite.lean</code> file currently in the <code>ForMathLib</code> folder, but there was an error that I don't know how to fix (see here for the error message: <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/56/checks?check_run_id=33822523324\">https://github.com/emilyriehl/infinity-cosmos/pull/56/checks?check_run_id=33822523324</a> ). Instead, I have removed all code in the file and replaced it with a comment. If anyone knows how to fix this problem, I'm more than happy to update the PR - thank you!</p>",
        "id": 485741115,
        "sender_full_name": "Daniel Carranza",
        "timestamp": 1733192672
    },
    {
        "content": "<p>It looks to me like there's a file/files trying to import the file you deleted. Search the project for <code>import InfinityCosmos.ForMathlib.CategoryTheory.Enriched.Opposite</code> and delete the import too?</p>",
        "id": 485781824,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733213650
    },
    {
        "content": "<p>Yes, the <code>import InfinityCosmos.ForMathlib.CategoryTheory.Enriched.Opposite</code> was left in the build file InfinityCosmos.lean. Pushed the fix now.</p>",
        "id": 485850389,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1733232086
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> and <span class=\"user-mention\" data-user-id=\"761171\">@Daniel Carranza</span>. Just merged this.</p>",
        "id": 485887209,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1733240910
    }
]