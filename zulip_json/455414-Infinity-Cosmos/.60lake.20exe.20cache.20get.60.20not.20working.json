[
    {
        "content": "<p>I was going to check out the project, but when I run <code>lake exe cache get</code> I get the following error. It happens both on my own fork of the project and a direct clone of <span class=\"user-mention\" data-user-id=\"246635\">@Emily Riehl</span>'s repo.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'././.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib'</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">.&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"bp\">././.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">Cloning</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"bp\">'././.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib'</span><span class=\"bp\">...</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RPC</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">HTTP</span><span class=\"w\"> </span><span class=\"mi\">400</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"mi\">22</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">requested</span><span class=\"w\"> </span><span class=\"n\">URL</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">400</span>\n<span class=\"n\">fatal</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">packfile'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">external</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">git'</span><span class=\"w\"> </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mi\">128</span>\n</code></pre></div>\n<p>Is anyone else having this problem?</p>",
        "id": 469074531,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1725970827
    },
    {
        "content": "<p>Worked for me, although it took about 30 seconds to finish the <code>info: mathlib: cloning https://github.com/leanprover-community/mathlib4.git to '././.lake/packages/mathlib'</code> step</p>",
        "id": 469079789,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972214
    },
    {
        "content": "<p>Mathlib is getting big ...</p>",
        "id": 469079822,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972225
    },
    {
        "content": "<p>I wonder if a shallow clone is possible / a good idea here.</p>",
        "id": 469079868,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972241
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span>, any thoughts?</p>",
        "id": 469079933,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972250
    },
    {
        "content": "<p>Any idea what's going wrong for me or how I could fix it? The error message is somewhat mysterious</p>",
        "id": 469082098,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1725972730
    },
    {
        "content": "<p>Is <a href=\"http://github.com\">github.com</a> responding to pings for you?</p>",
        "id": 469082364,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725972801
    },
    {
        "content": "<p>What does that mean? I can open the page if that's what you mean</p>",
        "id": 469082530,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1725972849
    },
    {
        "content": "<p>It sounds like a transient network error cloning mathlib.</p>",
        "id": 469082724,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972909
    },
    {
        "content": "<p><code>ssh git@github.com</code> should tell if you are having trouble connecting</p>",
        "id": 469082840,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1725972942
    },
    {
        "content": "<p>You might try:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">mkdir</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span>\n<span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">mathlib</span>\n</code></pre></div>",
        "id": 469082874,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972951
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span>, <code>lake</code> is using https URLs, not ssh.</p>",
        "id": 469082987,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725972974
    },
    {
        "content": "<p>Ooh</p>",
        "id": 469083023,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1725972983
    },
    {
        "content": "<p>Is that why it keeps asking for my login credentials?</p>",
        "id": 469083065,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1725972997
    },
    {
        "content": "<p>If your network connection is flaky, you might try again on a fast connection?</p>",
        "id": 469083100,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725973006
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/455414-Infinity-Cosmos/topic/.60lake.20exe.20cache.20get.60.20not.20working/near/469083065\">said</a>:</p>\n<blockquote>\n<p>Is that why it keeps asking for my login credentials?</p>\n</blockquote>\n<p>Huh, I thought it should be cloning the <code>packages/</code> repositories anonymously. I don't know anything about credentials for that step!</p>",
        "id": 469083224,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725973035
    },
    {
        "content": "<p>If that happens, I think opening an issue / asking <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> might be in order!</p>",
        "id": 469083311,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725973052
    },
    {
        "content": "<p>The eduroam at Tbilisi University is indeed a bit flaky. I'm trying the script you sent and it's running now, let's see what happens</p>",
        "id": 469083452,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1725973081
    },
    {
        "content": "<p>(vpn or sshuttle might make your connection more reliable, in case it is great firewall of wherever shenanigans dropping your connection midway?)</p>",
        "id": 469083860,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725973149
    },
    {
        "content": "<p>It cancelled midway, trying vpn now</p>",
        "id": 469084854,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1725973364
    },
    {
        "content": "<p>Working now, it was indeed just a problem with my connection. Thanks for the help!</p>",
        "id": 469086647,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1725973771
    }
]