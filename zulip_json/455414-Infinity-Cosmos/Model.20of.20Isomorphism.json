[
    {
        "content": "<p>Following the suggestion of <span class=\"user-mention\" data-user-id=\"246635\">@Emily Riehl</span> we (<span class=\"user-mention\" data-user-id=\"455674\">@Matej Penciak</span> and I) have been working on defining finite models of coherent isomorphisms along with appropriate maps to ``the\" coherent iso, which should later all be proven to be equivalences. </p>\n<p>We did construct two models using appropriate pushouts (and I think with the existing stuff, it shouldn't be too hard to construct further ones if one is so inclined). We also started constructing the maps between them and to the coherent iso, however, everything is defined via colimits, meaning constructing the map requires checking certain diagrams commute. </p>\n<p>In some cases aesop or aesop_cat will do the trick, however,  there 2-3 cases where it does not. We realized before we start hacking on this too much, we could ask around if there is any suggestion or experience how to approach <em>proving commutativity of a diagram</em>.  In case it would help, here is what we did: <a href=\"https://github.com/emilyriehl/infinity-cosmos/blob/pushouts/InfinityCosmos/ForMathlib/AlgebraicTopology/SimplicialSet/CoherentIsoModels.lean\">https://github.com/emilyriehl/infinity-cosmos/blob/pushouts/InfinityCosmos/ForMathlib/AlgebraicTopology/SimplicialSet/CoherentIsoModels.lean</a></p>",
        "id": 495223429,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1737534406
    },
    {
        "content": "<p>Congrats. I'm glad to see some progress on this.</p>\n<p>A small comment: an alternate way to define maps between representable simplicial sets is as <code>standardSimplex.map yourFavoriteMapInTheSimplexCategory</code>. This might be advantageous because <code>standardSimplex</code> is the name of a functor (the Yoneda embedding). Is there a reason you prefer to input a simplex in a representable instead?</p>",
        "id": 495381552,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1737583262
    },
    {
        "content": "<p>Regarding your commutative diagrams, could you pull out an example or two for us and show it to us using a codeblock here?</p>",
        "id": 495381774,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1737583341
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246635\">Emily Riehl</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/495381552\">said</a>:</p>\n<blockquote>\n<p>Congrats. I'm glad to see some progress on this.</p>\n<p>A small comment: an alternate way to define maps between representable simplicial sets is as <code>standardSimplex.map yourFavoriteMapInTheSimplexCategory</code>. This might be advantageous because <code>standardSimplex</code> is the name of a functor (the Yoneda embedding). Is there a reason you prefer to input a simplex in a representable instead?</p>\n</blockquote>\n<p>I see, that's a good suggestion. No, there was no particular reason for our approach, just what worked. We could adjust that in future updates.</p>",
        "id": 495599323,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1737672471
    },
    {
        "content": "<p>I don't know how easy it is to follow the example in isolation, but for example we have the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">map2dModelto3dModel</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Model2dCoherentIso</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">Model3dCoherentIso</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">desc</span>\n<span class=\"w\">    </span><span class=\"c1\">-- Δ[1] ---&gt; Model3dCoherentIso</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">desc</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Δ[2] ---&gt; Model3dCoherentIso</span>\n<span class=\"w\">      </span><span class=\"o\">((</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">triangle</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">map12Coprod13Coprod02</span><span class=\"w\"> </span><span class=\"n\">map01Coprod00Coprod11</span><span class=\"o\">))</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Δ[2] ---&gt; Model3dCoherentIso</span>\n<span class=\"w\">      </span><span class=\"o\">((</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">triangle</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">map12Coprod13Coprod02</span><span class=\"w\"> </span><span class=\"n\">map01Coprod00Coprod11</span><span class=\"o\">))</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"gr\">sorry</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"c1\">-- Δ[0] ⨿ Δ[0] ---&gt; Model3dCoherentIso</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">desc</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Δ[0] ---&gt; Model3dCoherentIso</span>\n<span class=\"w\">     </span><span class=\"o\">((</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Opposite</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">])))</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">map12Coprod13Coprod02</span><span class=\"w\"> </span><span class=\"n\">map01Coprod00Coprod11</span><span class=\"o\">))</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Δ[0] ---&gt; Model3dCoherentIso</span>\n<span class=\"w\">     </span><span class=\"o\">((</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Opposite</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">])))</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">map12Coprod13Coprod02</span><span class=\"w\"> </span><span class=\"n\">map01Coprod00Coprod11</span><span class=\"o\">)))</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"gr\">sorry</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Here Model2dCoherentIso is the simplicial set given by gluing two 2-simplices and the crushing two of the boundary edges. So, a map out of it is determined via universal property of pushouts, and so what I would want is to construct the maps out of the legs (which we did) and check that the resulting diagram of simplicial sets commutes (which has proven trickier than expected).</p>",
        "id": 495599922,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1737672778
    },
    {
        "content": "<p>About the glueing of two copies of <code>Δ[2]</code> along an edge, is not it isomorphic to <code>Δ[1] ⊗ Δ[1]</code>? If so, an alternative approach would be not to introduce the \"abstract pushout\", but to understand this pushout inside <code>Δ[1] ⊗ Δ[1]</code>. I have some draft code <a href=\"https://github.com/joelriou/topcat-model-category/blob/master/TopCatModelCategory/SSet/NonDegenerateProdSimplex.lean\">https://github.com/joelriou/topcat-model-category/blob/master/TopCatModelCategory/SSet/NonDegenerateProdSimplex.lean</a> which describes the nondegenerate simplices in <code>Δ[p] ⊗ Δ[q]</code> (and more specifically in <code>Δ[1] ⊗ Δ[q]</code>). Then, <code>Δ[1] ⊗ Δ[1]</code> has two nondegenerate 2-simplices, and using the subpresheaves/gluing API I am working on (it should enter mathlib soon...), it mostly follows that <code>Δ[1] ⊗ Δ[1]</code> is the pushout of two copies of <code>Δ[2]</code> along their intersection.</p>",
        "id": 495665667,
        "sender_full_name": "Joël Riou",
        "timestamp": 1737709719
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/495665667\">said</a>:</p>\n<blockquote>\n<p>About the glueing of two copies of <code>Δ[2]</code> along an edge, is not it isomorphic to <code>Δ[1] ⊗ Δ[1]</code>? If so, an alternative approach would be not to introduce the \"abstract pushout\", but to understand this pushout inside <code>Δ[1] ⊗ Δ[1]</code>. I have some draft code <a href=\"https://github.com/joelriou/topcat-model-category/blob/master/TopCatModelCategory/SSet/NonDegenerateProdSimplex.lean\">https://github.com/joelriou/topcat-model-category/blob/master/TopCatModelCategory/SSet/NonDegenerateProdSimplex.lean</a> which describes the nondegenerate simplices in <code>Δ[p] ⊗ Δ[q]</code> (and more specifically in <code>Δ[1] ⊗ Δ[q]</code>). Then, <code>Δ[1] ⊗ Δ[1]</code> has two nondegenerate 2-simplices, and using the subpresheaves/gluing API I am working on (it should enter mathlib soon...), it mostly follows that <code>Δ[1] ⊗ Δ[1]</code> is the pushout of two copies of <code>Δ[2]</code> along their intersection.</p>\n</blockquote>\n<p>Hi <span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> thanks for the suggestion. I think what you are describing is generally useful, however, not for our specific case. </p>\n<p>What we want is to glue two Delta[2]s so that the edge between 1 and 2 is identified to the edge between 0 and 1. So, I am creating \"three composable edges along with a choice of composition for each two consecutive ones of them\". However, the product would give me the \"commutative square\".</p>",
        "id": 495666286,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1737709936
    },
    {
        "content": "<p>Ok, it is a different gluing. It seems yours could be alternatively identified to a subcomplex of <code>Δ[3]</code> (it is contained in both inner horns).</p>",
        "id": 495668556,
        "sender_full_name": "Joël Riou",
        "timestamp": 1737710738
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/495668556\">said</a>:</p>\n<blockquote>\n<p>Ok, it is a different gluing. It seems yours could be alternatively identified to a subcomplex of <code>Δ[3]</code> (it is contained in both inner horns).</p>\n</blockquote>\n<p>Great observation!<br>\nIn fact, this one is named \"Model2dCoherentIso\" precisely because we also define a \"Model3dCoherentIso\" in the file, which is exactly a copy of Delta[3] plus some conditions. So, in fact we do both (based on applications in the literature).</p>",
        "id": 495669077,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1737710891
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"621205\">@Nima Rasekh</span> you make a good point: could you submit this as a (draft) PR to our repository to make it easier to check out and play around with. I promise I won't merge it before you are ready ;)</p>\n<p>BTW I just bumped Mathlib in InfinityCosmos so we can take advantage of the more compact names discussed on the thread standardSimplex -&gt; stdSimplex.</p>",
        "id": 495763473,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1737740662
    },
    {
        "content": "<p>Oh great! I'll rebase on the new changes, clean things up with the new features, and we'll open up a draft pr</p>",
        "id": 495765841,
        "sender_full_name": "Matej Penciak",
        "timestamp": 1737741562
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246635\">Emily Riehl</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/495763473\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"621205\">Nima Rasekh</span> you make a good point: could you submit this as a (draft) PR to our repository to make it easier to check out and play around with. I promise I won't merge it before you are ready ;)</p>\n<p>BTW I just bumped Mathlib in InfinityCosmos so we can take advantage of the more compact names discussed on the thread standardSimplex -&gt; stdSimplex.</p>\n</blockquote>\n<p>Yes, I think it makes sense to do a draft PR after some more adjustments.</p>",
        "id": 495780549,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1737747514
    },
    {
        "content": "<p>We just opened the draft PR by the way: <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/83\">https://github.com/emilyriehl/infinity-cosmos/pull/83</a>,</p>\n<p>In the short term I think I'm going to try to understand how to define maps between standard simplices better than the mess that's in the file right now... I think that will go a long way towards making the proofs easier.</p>",
        "id": 496467939,
        "sender_full_name": "Matej Penciak",
        "timestamp": 1738124236
    },
    {
        "content": "<p>It seems you are trying to define a morphism from a standard <code>n</code>-simplex to the nerve of a category. Using <code>SSet.yonedaEquiv</code>, it corresponds to an <code>n</code>-simplex in the nerve, which is the exact same as a term in <code>ComposableArrows</code>, and there you can use <code>ComposableArrows.mk₂</code>, <code>ComposableArrows.mk₃</code>, etc.</p>",
        "id": 496548760,
        "sender_full_name": "Joël Riou",
        "timestamp": 1738157464
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/stream/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/496548760\">said</a>:</p>\n<blockquote>\n<p>It seems you are trying to define a morphism from a standard <code>n</code>-simplex to the nerve of a category. Using <code>SSet.yonedaEquiv</code>, it corresponds to an <code>n</code>-simplex in the nerve, which is the exact same as a term in <code>ComposableArrows</code>, and there you can use <code>ComposableArrows.mk₂</code>, <code>ComposableArrows.mk₃</code>, etc.</p>\n</blockquote>\n<p>I think that's the part we did manage to do.<br>\nHowever, having defined various maps out of standard simplices we then need to show they commute (i.e. certain maps are equal), to get a morphism out of the pushout. </p>\n<p>It is correct that one can equivalently show (via Yoneda) that two specific elements (i.e the images of the identity) are equal, but that has also not worked.</p>",
        "id": 496575236,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1738164568
    },
    {
        "content": "<p>My suggestion was about improving the code at <a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/83/files#diff-3c66ab18c69bcbf68a7119d2d168824234121ec364dda9064e9e49a2e0a95165R187-R198\">https://github.com/emilyriehl/infinity-cosmos/pull/83/files#diff-3c66ab18c69bcbf68a7119d2d168824234121ec364dda9064e9e49a2e0a95165R187-R198</a><br>\nAlso, instead of the generic lemma <code>Limits.colimit.hom_ext</code>, it would be easier to use the more specialized ext lemmas like <code>pushout.hom_ext</code> (two equalities required instead of three).</p>",
        "id": 496595758,
        "sender_full_name": "Joël Riou",
        "timestamp": 1738170136
    },
    {
        "content": "<p>Also, if you need to compare simplices in nerves of categories (or equivalent types), there are specific extensionality lemmas for <code>ComposableArrows</code>.</p>",
        "id": 496609065,
        "sender_full_name": "Joël Riou",
        "timestamp": 1738172378
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/496609065\">said</a>:</p>\n<blockquote>\n<p>Also, if you need to compare simplices in nerves of categories (or equivalent types), there are specific extensionality lemmas for <code>ComposableArrows</code>.</p>\n</blockquote>\n<p>I think that might be what we are looking for. We'll look into this then.</p>",
        "id": 496639720,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1738183354
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"621205\">@Nima Rasekh</span> and <span class=\"user-mention\" data-user-id=\"455674\">@Matej Penciak</span> I just pushed a few additions to your PR. A few comments:</p>",
        "id": 496639996,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738183488
    },
    {
        "content": "<p>Most importantly, one of your definitions is wrong:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- ER: Warning: this is wrong: replace the lefthand instances of delta01 with delta02!</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">map01Coprod34</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⨿</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">Sq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">delta01</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">delta12</span><span class=\"w\"> </span><span class=\"n\">delta01</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">delta01</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">delta12</span><span class=\"w\"> </span><span class=\"n\">delta01</span><span class=\"o\">))</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">map01Coprod34'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⨿</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">Sq'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">desc</span>\n<span class=\"w\">    </span><span class=\"o\">((</span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)))</span>\n<span class=\"w\">    </span><span class=\"o\">((</span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)))</span>\n</code></pre></div>",
        "id": 496640058,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738183512
    },
    {
        "content": "<p>I discovered this when trying to define the map below and realizing that the required coherences were false!</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">map2dModel'toCoherentIso</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Model2dCoherentIso'</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">pushout</span><span class=\"bp\">.</span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">twoSimplex_δ0</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">twoSimplex_δ2</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">pt</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">pt</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"bp\">.</span><span class=\"n\">one</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">map0Coprod0'</span><span class=\"w\"> </span><span class=\"n\">map01Coprod34'</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">hom_ext</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">desc_comp</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">assoc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">colimit</span><span class=\"bp\">.</span><span class=\"n\">ι_desc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PushoutCocone</span><span class=\"bp\">.</span><span class=\"n\">mk_pt</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">PushoutCocone</span><span class=\"bp\">.</span><span class=\"n\">mk_ι_app</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BinaryCofan</span><span class=\"bp\">.</span><span class=\"n\">ι_app_left</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BinaryCofan</span><span class=\"bp\">.</span><span class=\"n\">mk_inl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">map_desc</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">twoSimplex_δ1</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">oneSimplex_const</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">desc_comp</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">assoc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">colimit</span><span class=\"bp\">.</span><span class=\"n\">ι_desc</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">PushoutCocone</span><span class=\"bp\">.</span><span class=\"n\">mk_pt</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PushoutCocone</span><span class=\"bp\">.</span><span class=\"n\">mk_ι_app</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">BinaryCofan</span><span class=\"bp\">.</span><span class=\"n\">mk_pt</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BinaryCofan</span><span class=\"bp\">.</span><span class=\"n\">ι_app_right</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BinaryCofan</span><span class=\"bp\">.</span><span class=\"n\">mk_inr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">coprod</span><span class=\"bp\">.</span><span class=\"n\">map_desc</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">twoSimplex_δ1</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"bp\">.</span><span class=\"n\">oneSimplex_const</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 496640149,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738183558
    },
    {
        "content": "<p>To do this, I made several additions to the general <code>coherentIso</code> infrastructure, some of which have sorries.</p>",
        "id": 496640259,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738183594
    },
    {
        "content": "<p>Specifically:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">ComposableArrows</span><span class=\"bp\">.</span><span class=\"n\">mk₁</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">oneSimplex_ext</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">Y₀</span><span class=\"w\"> </span><span class=\"n\">Y₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Y₀</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Y₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">Y₀</span><span class=\"w\"> </span><span class=\"n\">Y₁</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ComposableArrows</span><span class=\"bp\">.</span><span class=\"n\">ext₁</span><span class=\"w\"> </span><span class=\"n\">e₀</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">ComposableArrows</span><span class=\"bp\">.</span><span class=\"n\">mk₂</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">oneSimplex_const</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">([</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">pt</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">pt</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">twoSimplex_δ0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">twoSimplex_δ1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">twoSimplex_δ2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span><span class=\"w\"> </span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">twoSimplex</span><span class=\"w\"> </span><span class=\"n\">oneSimplex</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 496640326,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738183627
    },
    {
        "content": "<p>These sorries shouldn't be that hard to fill. Essentially it's just by naturality of <code>yonedaEquiv</code>. Does anyone know if this is a theorem somewhere?</p>",
        "id": 496640512,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738183691
    },
    {
        "content": "<p>I also explored the idea of proving that <code>coherentIso</code> is 0-coskeletal but decided it might be easier to just directly define the constructions (eg <code>oneSimplex</code>, <code>twoSimplex</code>) that follow from coskeletality. </p>\n<p>These sorts of results generalize to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">obj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Δ</span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">yonedaEquiv</span><span class=\"w\"> </span><span class=\"n\">coherentIso</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">    </span><span class=\"n\">obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">obj</span>\n<span class=\"w\">    </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span>\n<span class=\"w\">  </span><span class=\"o\">}</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">simplex_map</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">obj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">([</span><span class=\"n\">m</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SimplexCategory</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">stdSimplex</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"n\">obj</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">obj</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"bp\">.</span><span class=\"n\">toOrderHom</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 496642412,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738184438
    },
    {
        "content": "<p>I guess in general my advice is to <br>\n(a) use Mathlib infrastructure where possible; eg rather than giving special names to the maps between the simplices, use the standard names<br>\n(b) when you get stuck constructing/proving something think about whether it would be easier to just do so more generally. This is what led to all the stuff I added to the CoherentIso file in your PR.</p>",
        "id": 496642699,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738184557
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246635\">Emily Riehl</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/496640512\">said</a>:</p>\n<blockquote>\n<p>These sorries shouldn't be that hard to fill. Essentially it's just by naturality of <code>yonedaEquiv</code>. Does anyone know if this is a theorem somewhere?</p>\n</blockquote>\n<p>We have a lot of missing lemmas regarding <code>SSet.yonedaEquiv</code>. If we need more, we may use the same names as in <code>CategoryTheory.Yoneda</code>. (<code>SSet.yonedaEquiv</code> uses an extra ulift layer as compared to <code>CategoryTheory.yonedaEquiv</code>.)</p>",
        "id": 496722717,
        "sender_full_name": "Joël Riou",
        "timestamp": 1738227388
    },
    {
        "content": "<p>Does anyone want to try to adapt some of the <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Yoneda.html#CategoryTheory.yonedaEquiv\">code here</a> to <code>SSet.yonedaEquiv</code>? This would be a useful PR to mathlib.</p>",
        "id": 496842144,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738261859
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246635\">Emily Riehl</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/496642699\">said</a>:</p>\n<blockquote>\n<p>I guess in general my advice is to <br>\n(a) use Mathlib infrastructure where possible; eg rather than giving special names to the maps between the simplices, use the standard names<br>\n(b) when you get stuck constructing/proving something think about whether it would be easier to just do so more generally. This is what led to all the stuff I added to the CoherentIso file in your PR.</p>\n</blockquote>\n<p>Thanks for all the suggestions, yeah that sounds reasonable!</p>",
        "id": 496877220,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1738274689
    },
    {
        "content": "<p>I guess the mistake in the file is clearly my fault and I missed something.<br>\nI think we'll give it another try based on these suggestions, after correcting the mistake.<br>\nOur main aim until now was constructing Model3dCoherentIso ⟶ coherentIso, which was not affected by this mistake, but can benefit from more facts about coherentIso, as you have suggested.</p>",
        "id": 496877821,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1738274945
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246635\">Emily Riehl</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/Model.20of.20Isomorphism/near/496842144\">said</a>:</p>\n<blockquote>\n<p>Does anyone want to try to adapt some of the <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Yoneda.html#CategoryTheory.yonedaEquiv\">code here</a> to <code>SSet.yonedaEquiv</code>? This would be a useful PR to mathlib.</p>\n</blockquote>\n<p>Maybe this could be its own topic?</p>",
        "id": 496877870,
        "sender_full_name": "Nima Rasekh",
        "timestamp": 1738274976
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"455674\">@Matej Penciak</span> has been developing some useful API about the coherent isomorphism. Does the following exist in Mathlib (for an arbitrary type in place of <code>WalkingIso</code>):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f₀₁</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X₀</span><span class=\"w\"> </span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">WalkingIso</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">X₀</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">X₁</span>\n</code></pre></div>\n<p>If not, how would one inline an argument of this form? It occurs to me I have no idea.</p>",
        "id": 498546387,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1739057753
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a₀</span><span class=\"w\"> </span><span class=\"n\">a₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"n\">a₀</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a₁</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 498595670,
        "sender_full_name": "Joël Riou",
        "timestamp": 1739103678
    },
    {
        "content": "<p>I didn't realize that notation existed.</p>",
        "id": 498608835,
        "sender_full_name": "Matej Penciak",
        "timestamp": 1739115066
    },
    {
        "content": "<p>it is defined in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Fin/VecNotation.html\">Mathlib.Data.Fin.VecNotation</a></p>",
        "id": 498615410,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1739120080
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"455674\">@Matej Penciak</span> I was playing around with your new code and filled in a few more sorries (plus implemented the vector notation).</p>",
        "id": 498637751,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1739137991
    }
]