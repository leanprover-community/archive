[
    {
        "content": "<p>I have opened a PR (<a href=\"https://github.com/emilyriehl/infinity-cosmos/pull/120\">https://github.com/emilyriehl/infinity-cosmos/pull/120</a>) for implementing 2-truncated quasicategories. </p>\n<p>There is certainly some things to be tidied up, but I would love to hear some feedback, for example regarding the definition of Quasicategory₂ which is the structure modelling definition 1.3.1 in the blueprint.</p>",
        "id": 513069916,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1744997563
    },
    {
        "content": "<p>Great. I'll have a look right now. Tagging <span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> and <span class=\"user-mention\" data-user-id=\"776338\">@Nick Ward</span> and <span class=\"user-mention\" data-user-id=\"709554\">@Kunhong Du</span> who might be interested as well.</p>",
        "id": 513070686,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1744997919
    },
    {
        "content": "<p>Does anyone have opinions on how the simplices (and other data) should be linearly ordered here?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">horn_data</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">σ₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span>\n<span class=\"w\">  </span><span class=\"n\">σ₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span>\n<span class=\"w\">  </span><span class=\"n\">σ₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span>\n<span class=\"w\">  </span><span class=\"n\">h₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">spine</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">σ₃</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">interval</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">h₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">spine</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">σ₀</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">interval</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">h₂₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">σ₂</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"n\">h₂₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">σ₂</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">σ₀</span>\n</code></pre></div>\n<p>I totally get the logic behind this ordering but wonder in the future if we'd prefer something monotone (either increasing or decreasing) in the subscript index.</p>",
        "id": 513079862,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745001401
    },
    {
        "content": "<p>I'll bring a few more points here for ease of discussion. My instinct is that perhaps this structure should be made more algebraic by using a sigma type rather than an existential quantifier as the codomain of the filling operations. Or are these the same thing in Lean?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/--</span>\n<span class=\"sd\">A 2-truncated quasicategory is a 2-truncated simplicial set with 3 properties:</span>\n<span class=\"sd\">  (2, 1)-filling</span>\n<span class=\"sd\">  (3, 1)-filling</span>\n<span class=\"sd\">  (3, 2)-filling</span>\n<span class=\"sd\">See `fill31.horn_data` and `fill31.filling_simplex` for the details of (3, 1)-filling,</span>\n<span class=\"sd\">and `fill32.horn_data` and `fill32.filling_simplex` for the details of (3, 2)-filling.</span>\n<span class=\"sd\">-/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Quasicategory₂</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">fill21</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">spine</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">fill31</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fill31</span><span class=\"bp\">.</span><span class=\"n\">horn_data</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">σ₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">fill31</span><span class=\"bp\">.</span><span class=\"n\">filling_simplex</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">σ₁</span>\n<span class=\"w\">  </span><span class=\"n\">fill32</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fill32</span><span class=\"bp\">.</span><span class=\"n\">horn_data</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">σ₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">fill32</span><span class=\"bp\">.</span><span class=\"n\">filling_simplex</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">σ₁</span>\n</code></pre></div>\n<p>I wonder also whether it would be nice to make the <code>filling_simplex</code> structure type valued rather than prop valued and include the simplex as its first field?</p>",
        "id": 513081336,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745002150
    },
    {
        "content": "<p>This numbering of simplices is consistent with what I have used when working with the fundamental groupoid of a Kan complex.</p>",
        "id": 513084354,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745003553
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246635\">Emily Riehl</span> <a href=\"#narrow/stream/455414-Infinity-Cosmos/topic/2-truncated.20quasicategories/near/513081336\">said</a>:</p>\n<blockquote>\n<p>I'll bring a few more points here for ease of discussion. My instinct is that perhaps this structure should be made more algebraic by using a sigma type rather than an existential quantifier as the codomain of the filling operations. Or are these the same thing in Lean?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/--</span>\n<span class=\"sd\">A 2-truncated quasicategory is a 2-truncated simplicial set with 3 properties:</span>\n<span class=\"sd\">  (2, 1)-filling</span>\n<span class=\"sd\">  (3, 1)-filling</span>\n<span class=\"sd\">  (3, 2)-filling</span>\n<span class=\"sd\">See `fill31.horn_data` and `fill31.filling_simplex` for the details of (3, 1)-filling,</span>\n<span class=\"sd\">and `fill32.horn_data` and `fill32.filling_simplex` for the details of (3, 2)-filling.</span>\n<span class=\"sd\">-/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Quasicategory₂</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">fill21</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">spine</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">fill31</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fill31</span><span class=\"bp\">.</span><span class=\"n\">horn_data</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">σ₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">fill31</span><span class=\"bp\">.</span><span class=\"n\">filling_simplex</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">σ₁</span>\n<span class=\"w\">  </span><span class=\"n\">fill32</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fill32</span><span class=\"bp\">.</span><span class=\"n\">horn_data</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">σ₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">fill32</span><span class=\"bp\">.</span><span class=\"n\">filling_simplex</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">σ₁</span>\n</code></pre></div>\n<p>I wonder also whether it would be nice to make the <code>filling_simplex</code> structure type valued rather than prop valued and include the simplex as its first field?</p>\n</blockquote>\n<p>Re this: I wanted to do it this way, but I chose to make it Prop valued to align with the definition of a Quasicategory, which is an existential statement.</p>",
        "id": 513086401,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1745004520
    },
    {
        "content": "<p>We should wait for <span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> and <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> to weigh in on this point. </p>\n<p>Overall the draft PR is great. It's cool to see the horn API used relatively seamlessly. Do you have any pain points that would be useful for the group to think about? </p>\n<p>Btw I left you a bunch of mathlib style comments (and once you integrate these I'll share a few more).</p>",
        "id": 513087074,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745004846
    },
    {
        "content": "<p>About the design, I would suggest taking inspiration from <a href=\"https://github.com/joelriou/topcat-model-category/blob/6961e86c2cefabca4a1cedd729174c3e4a020fb5/TopCatModelCategory/SSet/FundamentalGroupoid.lean#L313-L317\">https://github.com/joelriou/topcat-model-category/blob/6961e86c2cefabca4a1cedd729174c3e4a020fb5/TopCatModelCategory/SSet/FundamentalGroupoid.lean#L313-L317</a> which is a structure <code>CompStruct</code> expressing that three \"edges\" (1-simplices which connect specific vertices) are the faces of a certain 2-simplex. This structure is very essential in my formalization of the fundamental groupoid of a Kan complex. Indeed, the equivalence relation on edges can be expressed using <code>CompStruct</code> (in two a priori different ways), and the associativity of the composition of homotopy classes follows from <a href=\"https://github.com/joelriou/topcat-model-category/blob/6961e86c2cefabca4a1cedd729174c3e4a020fb5/TopCatModelCategory/SSet/FundamentalGroupoid.lean#L388-L393\">https://github.com/joelriou/topcat-model-category/blob/6961e86c2cefabca4a1cedd729174c3e4a020fb5/TopCatModelCategory/SSet/FundamentalGroupoid.lean#L388-L393</a> It seems to me that the statement of this <code>assoc</code> definition is a convenient phrasing of the <code>(3, 1)</code>-filling that is expected for <code>2</code>-truncated quasicategories, and the proof is the fact that a quasicategory induces a <code>2</code>-truncated quasicategory. Similarly, <code>assoc'</code> should be the <code>(3,2)</code>-filling. (In the definition of 2-truncated quasicategories, I think it should be a <code>Prop</code>, and the API should provide a def which chooses a filling.)</p>",
        "id": 513091392,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745006984
    },
    {
        "content": "<p>It would be nice to define also a \"2-truncated Kan complex\" (I do not know if this is standard terminology) by extending the <code>2</code>-truncated quasicategory class and adding the horn filling property for the 1-dimensional outer horns in <code>Δ[2]</code>, so that we could define the homotopy category of a 2-truncated quasi-category <code>X</code>, show that it is a groupoid when it is a <code>2</code>-truncated Kan complex. Then, define the fundamental groupoid of a Kan complex as the homotopy category of its <code>2</code>-truncation. Following this approach would just mean refactoring the content of the file <a href=\"https://github.com/joelriou/topcat-model-category/blob/master/TopCatModelCategory/SSet/FundamentalGroupoid.lean\">https://github.com/joelriou/topcat-model-category/blob/master/TopCatModelCategory/SSet/FundamentalGroupoid.lean</a> which already contains all the necessary material.</p>",
        "id": 513092950,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745007789
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/2-truncated.20quasicategories/near/513091392\">said</a>:</p>\n<blockquote>\n<p>It seems to me that the statement of this <code>assoc</code> definition is a convenient phrasing of the <code>(3, 1)</code>-filling that is expected for <code>2</code>-truncated quasicategories, and the proof is the fact that a quasicategory induces a <code>2</code>-truncated quasicategory. </p>\n</blockquote>\n<p>This is indeed the same property. The main difference in formulation is that currenty the (3, 1)-filling property is formulated in terms of paths which should eventually be the spine of the filled 3-simplex. </p>\n<p>Inherently, this distinguishes 2 of the 2-simplices as those whose spine is along this path. I am not sure what advantages and disadvantages this \"asymmetric\" definition has compared to the symmetric definition as in <code>assoc</code>.</p>",
        "id": 513166992,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1745066792
    },
    {
        "content": "<p>Using <code>CompStruct</code> makes it very easy to construct the homotopy category/the fundamental groupoid.</p>",
        "id": 513171674,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745070621
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span>. If I'm reading your code correctly (on the web, so I can't click through to find all the definitions), <code>Edge x0 x1</code> is basically the type of 1-simplices from <code>x0</code> to <code>x1</code> while <code>Hom x0 x1</code> is basically the type of homotopy classes of such 1-simplices (the hom in the fundamental groupoid). </p>\n<p>Two questions:</p>\n<p>(1) the actual definition of <code>Edge x0 x1</code> seems more complicated than the (horribly named) hom in the underlying refl Quiver of a (2-truncated) simplicial set <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/AlgebraicTopology/SimplicialSet/HomotopyCat.html#SSet.OneTruncation%E2%82%82.Hom\">here</a>. Can you explain? </p>\n<p>(2) Similarly I'd like to understand exactly what is going on with the definition <code>Hom x0 x1</code>.</p>\n<p>It does seem like having something like <code>CompStruct</code> to work with seems like a good idea for understanding the homotopy category/fundamental groupoid. A key lemma is that if you have any three 1-simplices in a 2-truncated quasi-category then the corresponding arrows in the homotopy category satisfy a composition relation <code>f . g = h</code> iff there is a 2-simplex whose boundary is given by <code>f</code>, <code>g</code>, and <code>h</code>, which is very naturally stated using this <code>CompStruct</code>.</p>",
        "id": 513794031,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745392775
    },
    {
        "content": "<p>When it comes to refactoring the PR, I don't see how one could get by only using <code>CompStruct</code>, because the edges to be filled in with a 2-simplex are not part of the data given. I guess one could do something like the following: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">FilledSpine</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">1</span><span class=\"bp\">⦌₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">1</span><span class=\"bp\">⦌₂</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span>\n<span class=\"w\">  </span><span class=\"n\">h₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">e₀₁</span>\n<span class=\"w\">  </span><span class=\"n\">h₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">e₁₂</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">1</span><span class=\"bp\">⦌₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">1</span><span class=\"bp\">⦌₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FilledSpine</span><span class=\"w\"> </span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"n\">e₁₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">1</span><span class=\"bp\">⦌₂</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">.</span><span class=\"n\">σ</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">horn_data'</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">Path</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">c₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FilledSpine</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">c₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FilledSpine</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">c₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FilledSpine</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"n\">c₃</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 513802319,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1745395260
    },
    {
        "content": "<p>I defined <code>Edge x₀ x₁</code> as the type of morphisms <code>Δ[1] ⟶ X</code> whose restriction to the boundary <code>∂Δ[1]</code> correspond to sending <code>0</code> to <code>x₀</code> and <code>1</code> to <code>x₁</code>. (Similarly, for higher homotopy groups, I am considering maps <code>Δ[n] ⟶ X</code> that are constant on the boundary.) As this type of morphisms is a particular case of what I denoted <code>Subcomplex.RelativeMorphism</code>, I automatically get a notion of homotopy for edges and a type for the homotopy classes of these (where homotopies are defined using morphisms <code>Δ[1] ⊗ Δ[1] ⟶ X</code>; and later I show that this is equivalent to homotopies given by maps <code>Δ[2] ⟶ X</code> which are \"constant\" on one of the faces).</p>\n<p>Of course, here, we need to take a more down to earth definition so that it applies to truncated simplicial sets. As we are doing multiple things with this notion of edge, I would suggest we define a type <code>Edge x₀ x₁</code> rather than using the quiver notation <code>x₀ ⟶ x₁</code>.</p>",
        "id": 513802472,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745395315
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"879277\">Julian Komaromy</span> <a href=\"#narrow/channel/455414-Infinity-Cosmos/topic/2-truncated.20quasicategories/near/513802319\">said</a>:</p>\n<blockquote>\n<p>When it comes to refactoring the PR, I don't see how one could get by only using <code>CompStruct</code>, because the edges to be filled in with a 2-simplex are not part of the data given. I guess one could do something like the following: </p>\n</blockquote>\n<p>Instead of working wih plain <code>1</code>-simplices, it is easier to work with the dependent type <code>Edge x₀ x₁</code>. Then, everything can be phrased in terms of <code>CompStruct</code>.</p>",
        "id": 513803070,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745395506
    },
    {
        "content": "<p>I'm afraid that I still do not quite understand.  Is the suggestion to have </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">fill31</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f₂₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">f₀₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f₁₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f₀₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h₀₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">f₀₁</span><span class=\"w\"> </span><span class=\"n\">f₁₂</span><span class=\"w\"> </span><span class=\"n\">f₀₂</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h₁₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">f₁₂</span><span class=\"w\"> </span><span class=\"n\">f₂₃</span><span class=\"w\"> </span><span class=\"n\">f₁₃</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">f₀₁</span><span class=\"w\"> </span><span class=\"n\">f₁₃</span><span class=\"w\"> </span><span class=\"n\">f₀₃</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">f₀₂</span><span class=\"w\"> </span><span class=\"n\">f₂₃</span><span class=\"w\"> </span><span class=\"n\">f₀₃</span>\n</code></pre></div>\n<p>i.e. without using the <code>Path</code> API, with a definition of <br>\n<code>Edge</code> for the case of 2-truncated simplicial sets?</p>",
        "id": 513809757,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1745397509
    },
    {
        "content": "<p>Yes!</p>",
        "id": 513810640,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745397716
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"879277\">@Julian Komaromy</span> will you ping me when you'd like another review of your PR? I don't want to keep you waiting just because I haven't been paying attention.</p>",
        "id": 514511572,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745653174
    },
    {
        "content": "<p>Yes of course, I will be refactoring the PR to use<code>CompStruct</code> and I will let you know once its ready for review (probably this shouldn't take too long).</p>",
        "id": 514515244,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1745655691
    },
    {
        "content": "<p>So from our discussion, this is the API that I have now mostly proven (but I still need to substantially clean everything up):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Quasicategory₂</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">fill21</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">0</span><span class=\"bp\">⦌₂</span><span class=\"o\">}</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">      </span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">Σ</span><span class=\"w\"> </span><span class=\"n\">e₀₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"n\">e₀₂</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">fill31</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">0</span><span class=\"bp\">⦌₂</span><span class=\"o\">}</span>\n<span class=\"w\">      </span><span class=\"o\">{</span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₂₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"o\">}</span>\n<span class=\"w\">      </span><span class=\"o\">{</span><span class=\"n\">e₀₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₀₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₃</span><span class=\"o\">}</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">f₃</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"n\">e₀₂</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">f₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"n\">e₂₃</span><span class=\"w\"> </span><span class=\"n\">e₁₃</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"n\">e₁₃</span><span class=\"w\"> </span><span class=\"n\">e₀₃</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">      </span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"n\">e₀₂</span><span class=\"w\"> </span><span class=\"n\">e₂₃</span><span class=\"w\"> </span><span class=\"n\">e₀₃</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"c1\">-- ditto for fill32</span>\n</code></pre></div>\n<p>where </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">0</span><span class=\"bp\">⦌₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">0</span><span class=\"bp\">⦌₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">1</span><span class=\"bp\">⦌₂</span>\n<span class=\"w\">  </span><span class=\"n\">h₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x₀</span>\n<span class=\"w\">  </span><span class=\"n\">h₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x₁</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">CompStruct</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e₀₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Edge</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_⦋</span><span class=\"mi\">2</span><span class=\"bp\">⦌₂</span>\n<span class=\"w\">  </span><span class=\"n\">h₀₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">e₀₁</span><span class=\"bp\">.</span><span class=\"n\">simplex</span>\n<span class=\"w\">  </span><span class=\"n\">h₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">e₁₂</span><span class=\"bp\">.</span><span class=\"n\">simplex</span>\n<span class=\"w\">  </span><span class=\"n\">h₀₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">δ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">simplex</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">e₀₂</span><span class=\"bp\">.</span><span class=\"n\">simplex</span>\n</code></pre></div>\n<p>Notable is now the absence of <code>Path</code>, replaced by <code>Edge</code> and <code>CompStruct</code>, as well as the <code>Nonempty</code> statements making everything <code>Prop</code> typed, as in the definition of quasicategories.</p>\n<p>Is this as everyone here imagined? I want to make sure before I clean up the proofs and publish the new PR...</p>",
        "id": 514878540,
        "sender_full_name": "Julian Komaromy",
        "timestamp": 1745864748
    },
    {
        "content": "<p>I would make <code>Quasicategory₂</code> a class, but otherwise, this looks good to me.</p>",
        "id": 514884054,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745866674
    },
    {
        "content": "<p>Like you, I was thinking in path speak, which is how we defined the homotopy category functor on simplicial sets. But this formulation feels nice and intuitive. Thanks for the reviews and clean up.</p>",
        "id": 514892517,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745869802
    },
    {
        "content": "<p>Ping me again when you want another review. We tend to merge things fairly quickly into the InfinityCosmos repository once they are fairly stable so if you don't want that to happen, let me know as well.</p>",
        "id": 514892662,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1745869865
    }
]