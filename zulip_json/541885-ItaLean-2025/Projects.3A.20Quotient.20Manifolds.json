[
    {
        "content": "<p>This thread is dedicated to the Quotient Manifolds project:</p>\n<ul>\n<li>Repository: <a href=\"https://github.com/grunweg/QuotientManifolds\">https://github.com/grunweg/QuotientManifolds</a></li>\n<li>Informal &amp; Formal Manager: <span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span></li>\n</ul>",
        "id": 562738883,
        "sender_full_name": "Lorenzo Luccioli",
        "timestamp": 1765298688
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"965137\">@Juanjo Madrigal</span> If you tell me your github handle, I'll give you access to the repository :-)</p>",
        "id": 562746768,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765300390
    },
    {
        "content": "<p><code>@juanjomadrigal</code> (not very original ;-) )</p>",
        "id": 562747084,
        "sender_full_name": "Juanjo Madrigal",
        "timestamp": 1765300454
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">aux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">OpenPartialHomeomorph</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">OrbitSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">choose</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">isLocalHomeomorph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">aux_prop</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">aux</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">source</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">choose_spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">isLocalHomeomorph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"m\">1</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">aux_eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">aux</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">OrbitSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">choose_spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">isLocalHomeomorph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">mem_aux_target</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟦</span><span class=\"n\">p</span><span class=\"bp\">⟧</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">aux</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">OpenPartialHomeomorph</span><span class=\"bp\">.</span><span class=\"n\">image_source_eq_target</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">mem_image</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">aux_prop</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">?_⟩</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"c1\">-- helper lemma</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">localInverseAt</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">OpenPartialHomeomorph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">OrbitSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">aux</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">localInverseAt</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">source</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 563007906,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765386618
    },
    {
        "content": "<p><a href=\"https://virtualmath1.stanford.edu/~conrad/diffgeomPage/handouts/qtmanifold.pdf\">https://virtualmath1.stanford.edu/~conrad/diffgeomPage/handouts/qtmanifold.pdf</a> is useful: start reading from the second half of page 12 onwards</p>",
        "id": 563245678,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765473937
    },
    {
        "content": "<p>Ha ha Brian was telling me in Stanford last year about the time they made him teach manifolds :-)</p>",
        "id": 563292730,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765491616
    },
    {
        "content": "<p>I have great news, by the way: <a href=\"https://github.com/leanprover-community/mathlib4/pull/7596\">#7596</a>, which proves that the quotient map is a covering map, got merged into mathlib --- so the first part of this project (\"construct a <code>ChartedSpace</code> instance) could move to mathlib now.</p>",
        "id": 565146084,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1766492077
    },
    {
        "content": "<p>If you push all remaining work you have on your computers, I can update the repository to current mathlib and propose merging these parts into mathlib. <span class=\"user-mention\" data-user-id=\"934474\">@Pepa Montero Jimena</span>  <span class=\"user-mention\" data-user-id=\"989685\">@Enrique Diaz Blanco</span> <span class=\"user-mention\" data-user-id=\"965137\">@Juanjo Madrigal</span> <span class=\"user-mention\" data-user-id=\"631883\">@Archie Browne</span></p>",
        "id": 565146237,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1766492142
    },
    {
        "content": "<p>Such good news!!! I think we already pushed everything that we had that was fine, so the instance of ChartedSpace was finished, I think.</p>\n<p>For the instance of IsManifold I wrote some ideas in a branch (and <span class=\"user-mention\" data-user-id=\"989685\">@Enrique Diaz Blanco</span> also pushed the ideas he shared during the project work to main), but it's still unfinished on our part.</p>",
        "id": 565148630,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1766493184
    },
    {
        "content": "<p>I think I had something but it needs some refining and updating. Let me work on it and if there is something valuable, I'll push it</p>",
        "id": 565149199,
        "sender_full_name": "Juanjo Madrigal",
        "timestamp": 1766493424
    },
    {
        "content": "<p>I've pushed some development of <code>isManifold</code> in a branch, but it is very incomplete. I'll try to refine it</p>",
        "id": 565152359,
        "sender_full_name": "Juanjo Madrigal",
        "timestamp": 1766494672
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> !! We saw you at Martin's PhD defense yesterday, small world hahaha.</p>\n<p>I've been meaning to ask you about the project! Are there any updates about the ChartedSpace part? Is there anything we can do to help?</p>\n<p>I've been working on the IsManifold part, but recently I got stuck. I will keep thinking about it!</p>",
        "id": 573622129,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1770932323
    },
    {
        "content": "<p>Thanks for reminding me again. My December and January were incredibly hectic, and in fact I've got two more deadlines next week... which is why I have not made a PR for the charted space part. I will hopefully find time for this soon - another option is that you prepare a PR; I'd be very happy to help you with that.</p>",
        "id": 574008405,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771191084
    },
    {
        "content": "<p>There's <a href=\"https://leanprover-community.github.io/contribute/index.html\">extensive documentation</a> on how to do so.</p>",
        "id": 574008465,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771191128
    },
    {
        "content": "<p>I'd also love to make progress on the <code>IsManifold</code> instance. I should have a bit more time mid-March; I could try to make an outline then. (Would that help? I presume you looked at Conrad's notes --- so something must be missing. Can you say what would help you?)</p>",
        "id": 574008679,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771191373
    },
    {
        "content": "<p>No worries Michael!! Thank you for your time!</p>",
        "id": 574082118,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771239120
    },
    {
        "content": "<p>I would love to try to prepare the PR, I will follow the documentation and let you know if I manage to do it properly haha</p>",
        "id": 574082403,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771239208
    },
    {
        "content": "<p>About <code>IsManifold</code>,  I am following Conrad's notes: I think I managed to prove up until the last part of the proof, where it says this:</p>\n<blockquote>\n<p>the problem of verifying that the [charts at]'s form a Cp-atlas on the topological space X/G has been reduced to the problem of checking the map</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>ϕ</mi><mi>j</mi></msub><mo>∘</mo><mi>ρ</mi><mo stretchy=\"false\">(</mo><msub><mi>g</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo><mo>∘</mo><msubsup><mi>ϕ</mi><mi>i</mi><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mo>:</mo><msub><mi>ϕ</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mi>U</mi><mi>i</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msubsup><mo stretchy=\"false\">)</mo><mo>→</mo><msub><mi>ϕ</mi><mi>j</mi></msub><mo stretchy=\"false\">(</mo><msubsup><mi>U</mi><mi>j</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msubsup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\phi_j \\circ \\rho(g_0) \\circ \\phi_i^{-1} : \\phi_i(U_i&#x27;) \\to \\phi_j(U_j&#x27;)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">ρ</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1311em;vertical-align:-0.267em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8641em;\"><span style=\"top:-2.433em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.267em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0519em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-2.453em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.247em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.185em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8019em;\"><span style=\"top:-2.453em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>is a Cp-map.</p>\n</blockquote>\n<p>I think this corresponds to my current Lean goal:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φx</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"bp\">≫ₕ</span><span class=\"w\"> </span><span class=\"n\">ρ</span><span class=\"bp\">.</span><span class=\"n\">toOpenPartialHomeomorph</span><span class=\"w\"> </span><span class=\"bp\">≫ₕ</span><span class=\"w\"> </span><span class=\"n\">φy</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">restr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∩</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">source</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">contDiffPregroupoid</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">groupoid</span>\n</code></pre></div>\n<p>where the source of f is the source of e^{-1} &gt;&gt; e' (arbitrary chart ats) and s is what in the notes is defined as</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mover accent=\"true\"><msub><mi>ϕ</mi><mi>i</mi></msub><mo stretchy=\"true\">‾</mo></mover><mo stretchy=\"false\">(</mo><msup><mover accent=\"true\"><msub><mi>U</mi><mi>i</mi></msub><mo stretchy=\"true\">‾</mo></mover><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>∩</mo><msup><mover accent=\"true\"><msub><mi>U</mi><mi>j</mi></msub><mo stretchy=\"true\">‾</mo></mover><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\overline{\\phi_i}(\\overline{U_i}&#x27; \\cap \\overline{U_j}&#x27;)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2751em;vertical-align:-0.25em;\"></span><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8944em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\">ϕ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.8144em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1944em;\"><span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8833em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.8033em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0251em;\"><span style=\"top:-3.3362em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∩</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3112em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8833em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05724em;\">j</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.8033em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0251em;\"><span style=\"top:-3.3362em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></span></p>\n<p>But now the notes say</p>\n<blockquote>\n<p>Since we assumed that ρ(g0) is globally Cp on all X for all g in G, we are therefore done!</p>\n</blockquote>\n<p>But I don't know how to translate this closing into Lean. Specifically I don't know how to relate <code>Member (contDiffPregroupoid (↑n) I).groupoid</code> with something like \"globally Cp\". So it's more a problem of working with Mathlib's objects now, I think.</p>",
        "id": 574085151,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771240100
    },
    {
        "content": "<p>Let me try to find some time to look at this this week. Can you push your current progress to e.g. your branch on the repository, so I can compare the notes and the code when I get to it? (Or did you already do so? Even better then!)</p>",
        "id": 574193415,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771282593
    },
    {
        "content": "<p>You can already find on <code>pepa_branch</code> the main idea, although it might be a bit confusing so I will try to make it a bit cleaner when I can!</p>",
        "id": 574241049,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771318411
    },
    {
        "content": "<p>Hi! I'm trying to work on the PR but struggling a bit haha. For now I've written a file at <code>Mathlib/Manifold/Instances</code> called <code>OrbitSpace.lean</code> that already has docstrings on it and the ChartedSpace instance. Everything else I put in a different file, but honestly I'm really confused about where those things should go.</p>\n<p>I also assume I shouldnt do a big PR with all of these things but rather several smaller PRs, but again I don't know where all the preliminary stuff should go so I don't know where to start. I did add docstring to these results as well, gave them better names and cleaned them up as much as I could.</p>\n<p>Maybe you can check out the new file at <a href=\"https://github.com/pepamontero/mathlib4/commit/4d5b45b04fabe357acf797ad1cd62308e821fcbc\">this commit</a> at my <a href=\"https://github.com/pepamontero/mathlib4/tree/quotient\">fork of mathlib</a>. But if it's easier, it's not long so I can maybe paste the content here, let me know.</p>",
        "id": 575105326,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771698478
    },
    {
        "content": "<p>By the way I did the <code>OrbitSpace.lean</code> file looking at the <code>Sphere.lean</code> file on the same folder to have an idea of the structure of files (imports, docstrings,...), but still am confused about sections and namespaces.</p>",
        "id": 575105404,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771698564
    },
    {
        "content": "<p>It is certainly better to make a PR to mathlib, perhaps tagging it as WIP, and requesting any of the reviewers who were in Bologna to have a look. It is way easier for us to review code in this format than in standalone repos.</p>",
        "id": 575121158,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1771717751
    },
    {
        "content": "<p>OK the PR is live here: <a href=\"https://github.com/leanprover-community/mathlib4/pull/35653\">https://github.com/leanprover-community/mathlib4/pull/35653</a> and it's passing all the checks!</p>",
        "id": 575187696,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771790460
    },
    {
        "content": "<p>(I'm on holiday for a week, and travelling for the one after. If I'll take a moment to review the PR, that's why.)</p>",
        "id": 575192739,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771794953
    },
    {
        "content": "<p>No worries Michael! Rest and enjoy :)</p>",
        "id": 575195401,
        "sender_full_name": "Pepa Montero Jimena",
        "timestamp": 1771797500
    }
]