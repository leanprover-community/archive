[
    {
        "content": "<p>I'm wondering whether anyone is working with a Lean interface to a plotting library, other than what's currently available in ProofWidgets4.</p>\n<p>(ProofWidgets4 provides an interface to some plots in <a href=\"http://Recharts.org\">Recharts</a>, but it's a pain to overlay multiple plots using Recharts. ProofWidgets4 also provides examples using the some of the D3 functions from <a href=\"https://observablehq.com\">Observable</a>, but at present doesn't provide an interface to Observable's <code>Plot</code> library which is layered on top of D3.)</p>",
        "id": 490583893,
        "sender_full_name": "mars0i",
        "timestamp": 1734988161
    },
    {
        "content": "<p>I once tried interfacing with the <code>Plotly.js</code> library:<br>\n<a href=\"https://github.com/0art0/ProofWidgets4/blob/main/ProofWidgets/Component/Plotly.lean\">https://github.com/0art0/ProofWidgets4/blob/main/ProofWidgets/Component/Plotly.lean</a><br>\n<a href=\"https://github.com/0art0/ProofWidgets4/blob/main/ProofWidgets/Demos/Plotly.lean\">https://github.com/0art0/ProofWidgets4/blob/main/ProofWidgets/Demos/Plotly.lean</a></p>",
        "id": 490606705,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1735000008
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"303675\">@Anand Rao Tadipatri</span>.  That might be helpful.</p>",
        "id": 490611933,
        "sender_full_name": "mars0i",
        "timestamp": 1735003248
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"303675\">@Anand Rao Tadipatri</span> if this is maintained it may be more useful to have this not on a fork of ProofWidgets4, so it can be used as a dependency.</p>",
        "id": 490672255,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1735044157
    },
    {
        "content": "<p>In the abstract it makes intuitive sense to me to have a Lean interface to a plotting library (Plotly, Observable Plot, Vega-lite, others) that is not part of ProofWidgets4, but I don't know the tradeoffs involved.  I have only used ProofWidgets4 at all because that's where some existing plot functionality is available.  Since I'm not a proper user of ProofWidgets--I don't <em>really</em> know why I would want to use it--I don't know why it might be a good thing to have a plot interface built in to it.</p>",
        "id": 490713020,
        "sender_full_name": "mars0i",
        "timestamp": 1735073148
    },
    {
        "content": "<p>Thanks for the suggestion. I tried putting it in a separate repository but I'm running into TypeScript build issues, likely due to improper configuration files. I'll try to see if I can compile the JavaScript file independently and put that up in the repository.</p>",
        "id": 490746144,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1735106152
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"617444\">mars0i</span> <a href=\"#narrow/channel/395462-Natural-sciences/topic/Lean.20interfaces.20to.20plotting.20libraries.3F/near/490713020\">said</a>:</p>\n<blockquote>\n<p>In the abstract it makes intuitive sense to me to have a Lean interface to a plotting library (Plotly, Observable Plot, Vega-lite, others) that is not part of ProofWidgets4, but I don't know the tradeoffs involved.  I have only used ProofWidgets4 at all because that's where some existing plot functionality is available.  Since I'm not a proper user of ProofWidgets--I don't <em>really</em> know why I would want to use it--I don't know why it might be a good thing to have a plot interface built in to it.</p>\n</blockquote>\n<p>If it were merged into ProofWidgets that would be fine. But that depends on the maintainers of ProofWidgets being happy with its current state, and also someone able to maintain if it breaks with future changes in Lean.</p>\n<p>Otherwise, since most projects have an indirect dependency on ProofWidgets via Mathlib, also depending on a fork of it is likely to be a mess.</p>",
        "id": 490775446,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1735130012
    },
    {
        "content": "<p>I wonder if it would be worth it to make a plotting library based on interval arithmetic (like <a href=\"https://coqinterval.gitlabpages.inria.fr\">Coq has one</a>. They use GnuPlot, which I wouldn't, but a different choice seems equally possible). One could maybe even start from <a href=\"https://github.com/girving/interval\">https://github.com/girving/interval</a></p>",
        "id": 491266691,
        "sender_full_name": "Adomas Baliuka",
        "timestamp": 1735555410
    },
    {
        "content": "<p>Having spent 20 years plotting data from Haskell (which does have a reasonable plotting library), I now just export the data as CSV and get R (ggplot) to do it. You don't have to know anything about R: ChatGPT or equivalent will do it for you. In Haskell, I am sure one could construct a plotting library as good as ggplot but it's a lot of work. For example, you want to plot data on a map with a Peters projection then R has it and I doubt anyone is working on map projections in Haskell. </p>\n<p><a href=\"/user_uploads/3121/uu0330mrevOt_4-HGGigqe7F/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/uu0330mrevOt_4-HGGigqe7F/image.png\" title=\"image.png\"><img data-original-dimensions=\"766x998\" src=\"/user_uploads/thumbnail/3121/uu0330mrevOt_4-HGGigqe7F/image.png/840x560.webp\"></a></div>",
        "id": 491307093,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735578910
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"638715\">Adomas Baliuka</span> <a href=\"#narrow/channel/395462-Natural-sciences/topic/Lean.20interfaces.20to.20plotting.20libraries.3F/near/491266691\">said</a>:</p>\n<blockquote>\n<p>I wonder if it would be worth it to make a plotting library based on interval arithmetic (like <a href=\"https://coqinterval.gitlabpages.inria.fr\">Coq has one</a>. They use GnuPlot, which I wouldn't, but a different choice seems equally possible). One could maybe even start from <a href=\"https://github.com/girving/interval\">https://github.com/girving/interval</a></p>\n</blockquote>\n<p>This is interesting.  It's not something I've thought about.  I glanced at that Coq page, but I don't understand what interval arithmetic is doing in the plot at the bottom, or why it's valuable to combine interval arithmetic with plotting. </p>\n<p>(At one point I was looking into interval arithmetic libraries in OCaml, but I realized what I needed was not interval arithmetic.  I was working on a <a href=\"https://github.com/mars0i/imprecise-evolution\">model of biological evolution</a> that used <a href=\"https://en.wikipedia.org/wiki/Imprecise_probability\">imprecise probability</a>, which is reminiscent of interval arithmetic, but has different goals. Plotting was an important part of that project, though.)</p>",
        "id": 491317750,
        "sender_full_name": "mars0i",
        "timestamp": 1735585292
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/channel/395462-Natural-sciences/topic/Lean.20interfaces.20to.20plotting.20libraries.3F/near/491307093\">said</a>:</p>\n<blockquote>\n<p>Having spent 20 years plotting data from Haskell (which does have a reasonable plotting library), I now just export the data as CSV and get R (ggplot) to do it. You don't have to know anything about R: ChatGPT or equivalent will do it for you. In Haskell, I am sure one could construct a plotting library as good as ggplot but it's a lot of work. For example, you want to plot data on a map with a Peters projection then R has it and I doubt anyone is working on map projections in Haskell. </p>\n<p><a href=\"/user_uploads/3121/uu0330mrevOt_4-HGGigqe7F/image.png\">image.png</a></p>\n</blockquote>\n<p>I've used that strategy too (with a different source language), and it's great for some projects.  However, I often use plotting to explore implications of varying assumptions in the math represented by my code.  In that context, it's very helpful to modify the code and then immediately have a new plot appear, and then maybe change the code and do it again.</p>\n<p>I've done this a lot in Clojure in recent years with interfaces to the Vega-lite plotting library.  </p>\n<p>It occurs to me now that it's more challenging to build an interface to, say, a Javascript plot library if you want to preserve type safety in Lean code.  It seems that that means that you in effect have to duplicate everything in the plot library that's handled by strings representing options.  If the library is large (like Vega-lite), this is a huge project.  If one is willing to pass strings over to the Javascript plotting library, it's easier to write an interface in Lean, but then interacting with the Javascript library is less Lean-ey, and more error-prone.</p>",
        "id": 491318344,
        "sender_full_name": "mars0i",
        "timestamp": 1735585672
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"617444\">mars0i</span> <a href=\"#narrow/channel/395462-Natural-sciences/topic/Lean.20interfaces.20to.20plotting.20libraries.3F/near/491317750\">said</a>:</p>\n<blockquote>\n<p>I glanced at that Coq page, but I don't understand what interval arithmetic is doing in the plot at the bottom, or why it's valuable to combine interval arithmetic with plotting. </p>\n</blockquote>\n<p>The idea is that you can be \"certain\" the image correctly represents numerical uncertainties in calculating the function.</p>\n<p>Of course, it's very rare that you plot functions where a \"standard\" plot might fool you (think e.g. aliasing if the grid is too course), so I guess the main reason why people did this was that they had the interval arithmetic already and it was a fun addition. On the other hand, it also seems in spirit of a proof assistent to have it \"never fool you with a plot\"</p>",
        "id": 491338126,
        "sender_full_name": "Adomas Baliuka",
        "timestamp": 1735598739
    }
]