[
    {
        "content": "<p>import FormalConjectures.Util.ProblemImports</p>\n<p>/-!</p>\n<h1>Erdős Problem 312 — Fintype Formulation</h1>\n<p><em>Reference:</em> <a href=\"https://www.erdosproblems.com/312\">https://www.erdosproblems.com/312</a></p>\n<p>We state a version of the problem using <code>Fin n → ℕ</code> families and <code>Finset (Fin n)</code> subsets<br>\ninstead of multisets. This makes multiplicities explicit by indexing the family with <code>Fin n</code>.<br>\n-/</p>\n<p>open scoped BigOperators Topology Real<br>\nopen Filter</p>\n<p>namespace Erdos312<br>\nnoncomputable section</p>\n<p>/-- <br>\n<code>hsumIdx a S</code> is the harmonic sum of the entries of the indexed family <code>a : Fin n → ℕ</code><br>\nrestricted to a subset of indices <code>S : Finset (Fin n)</code>.<br>\n-/<br>\ndef hsumIdx {n : ℕ} (a : Fin n → ℕ) (S : Finset (Fin n)) : ℝ :=<br>\n  ∑ i in S, (a i : ℝ)⁻¹</p>\n<p>/--<br>\n<code>hsumAll a</code> is the total harmonic sum of all entries of <code>a : Fin n → ℕ</code>.<br>\nThis is just the sum over all indices <code>Fin n</code>.<br>\n-/<br>\ndef hsumAll {n : ℕ} (a : Fin n → ℕ) : ℝ :=<br>\n  ∑ i : Fin n, (a i : ℝ)⁻¹</p>\n<p>@[simp]<br>\nlemma hsumIdx_empty {n} (a : Fin n → ℕ) : hsumIdx a ∅ = 0 := by<br>\n  simp [hsumIdx]</p>\n<p>@[simp]<br>\nlemma hsumAll_eq_univ_sum {n} (a : Fin n → ℕ) :<br>\n  hsumAll a = ∑ i in (Finset.univ : Finset (Fin n)), (a i : ℝ)⁻¹ := by<br>\n  classical<br>\n  simp [hsumAll]</p>\n<p>/-!</p>\n<h3>Main theorem (fintype version)</h3>\n<p>The problem asks: does there exist a constant <code>c &gt; 0</code> such that for every <code>K &gt; 1</code>,<br>\nwhenever <code>a : Fin n → ℕ</code> is large enough and has harmonic sum <code>&gt; K</code>,<br>\nwe can choose a subfamily (given by <code>S : Finset (Fin n)</code>) whose harmonic sum lies<br>\nin the interval <code>(1 - exp(-c*K), 1]</code>?<br>\n-/</p>\n<p>/-- <br>\nFintype-indexed version of Erdős Problem 312.</p>\n<ul>\n<li><code>c</code> is a positive universal constant.</li>\n<li>For each <code>K &gt; 1</code>, there exists an <code>N₀</code> such that:<ul>\n<li>For all sufficiently large <code>n ≥ N₀</code> and families <code>a : Fin n → ℕ</code>,</li>\n<li>If the total harmonic sum <code>hsumAll a &gt; K</code>,</li>\n<li>Then there exists a subset of indices <code>S : Finset (Fin n)</code> with<br>\n<code>1 - exp(-(c*K)) &lt; hsumIdx a S ≤ 1</code>.</li>\n</ul>\n</li>\n</ul>\n<p>This statement mirrors the original problem, but is easier to handle formally<br>\nbecause it avoids the subtlety of multiset-subset with multiplicities.<br>\n-/<br>\n@[category research open, AMS 5 11]<br>\ntheorem erdos_312_fintype :<br>\n  (∃ᵉ (c : ℝ), 0 &lt; c ∧<br>\n    ∀ (K : ℝ), 1 &lt; K →<br>\n      ∃ (N₀ : ℕ),<br>\n        ∀ (n : ℕ) (a : Fin n → ℕ),<br>\n          (n ≥ N₀ ∧ hsumAll a &gt; K) →<br>\n            ∃ (S : Finset (Fin n)),<br>\n              1 - Real.exp (-(c * K)) &lt; hsumIdx a S ∧<br>\n              hsumIdx a S ≤ 1)<br>\n  ↔ answer (sorry) := by<br>\n  /-<br>\n  Proof sketch (to be filled):</p>\n<p>1. Fix <code>K &gt; 1</code>, set ε := exp(-c*K).<br>\n  2. Randomly thin the family with Bernoulli choices (probabilistic method).<br>\n  3. Tune parameters so that the expected harmonic sum is ≈ 1 - ε/2.<br>\n  4. Bound the variance (≲ 1/K) and apply Chebyshev/Hoeffding.<br>\n  5. Conclude that some outcome gives a subset with harmonic sum in (1 - ε, 1].<br>\n  6. Extract the corresponding <code>Finset</code> of indices.<br>\n  -/<br>\n  sorry</p>\n<p>end Erdos312</p>",
        "id": 540193962,
        "sender_full_name": "AYUSH DEBNATH",
        "timestamp": 1758189528
    },
    {
        "content": "<p>Please read <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a></p>",
        "id": 541310500,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758741333
    }
]