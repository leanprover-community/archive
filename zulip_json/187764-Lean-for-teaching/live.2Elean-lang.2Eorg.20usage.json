[
    {
        "content": "<p>Hey everyone, in the recent weeks we've seen increased concurrent use of our live server, usually from a single place such as a university. We are happy of course if it is useful to you! But we are also seeing that about 50 concurrent users slowly get use to some resource limits. To understand how we can improve this service, I'd like to understand better:</p>\n<ul>\n<li>Are you making use of <a href=\"http://live.lean-lang.org\">live.lean-lang.org</a> for teaching, or do you know from someone else doing that? If it's more than ~a dozen students, could you let me know the timing of the class so I can correlate it with our logs?</li>\n<li>If so, what is your experience with its performance/stability?</li>\n</ul>\n<p>Any other feedback is welcome as well of course!</p>",
        "id": 473782042,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727712337
    },
    {
        "content": "<p>In case you're curious, these are the metrics I'm currently looking at, all times UTC:<br>\n<a href=\"/user_uploads/3121/UOG7l7YeIn2kaiYd_o7KAWj4/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/UOG7l7YeIn2kaiYd_o7KAWj4/image.png\" title=\"image.png\"><img data-original-dimensions=\"837x1103\" src=\"/user_uploads/thumbnail/3121/UOG7l7YeIn2kaiYd_o7KAWj4/image.png/840x560.webp\"></a></div><p>The red stuff is not great :), but so far it just means that the server may just run a little slower for each individual user and some sessions may error out and restart when memory is sparse.</p>",
        "id": 473782803,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727712504
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span> I'm not sure how many eyes you will get in this stream (despite this being the most natural place for it). You may want to cross-post in <code>general</code> with a link here.</p>",
        "id": 473782932,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1727712540
    },
    {
        "content": "<p>I didn't want to emphasize the issue too much, let's see if there's enough input here</p>",
        "id": 473784143,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727712746
    },
    {
        "content": "<p>I am guilty of using it a lot. But I am not teaching with it. I did get a lot of frequent crashes last week</p>",
        "id": 473790585,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727713942
    },
    {
        "content": "<p>A small typo =&gt; crash</p>",
        "id": 473790612,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727713951
    },
    {
        "content": "<p>Yeah I'm not worried about individual users' resource consumption :)</p>",
        "id": 473790808,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727714018
    },
    {
        "content": "<p>But do you feel the crashes are random, and if so could you note down the time of the next occurrence?</p>",
        "id": 473790966,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727714056
    },
    {
        "content": "<p>I think I posted quickly after one of those crashes in #lean4</p>",
        "id": 473791073,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727714089
    },
    {
        "content": "<p>I don't have a record of times otherwise. My usage usually has two peaks. 21:00-2:00 and 14:00-17:00 German time</p>",
        "id": 473791247,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727714140
    },
    {
        "content": "<p>The go to definition feature triggered crashes back to back. But otherwise it was non-deterministic.</p>",
        "id": 473791593,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727714233
    },
    {
        "content": "<p>I must be one of the culprits. My class runs every Wednesday from 13:00 to 17:30 Rome time and we have up to 50 students connected at once.</p>\n<p>So far (we started the 25th of September, today is the second week) the experience has been super-good. Very very rarely we get some server issue on a single connection.</p>\n<p>My class does not depend on MathLib, so the memory footprint is limited.</p>",
        "id": 474317791,
        "sender_full_name": "Claudio Sacerdoti Coen",
        "timestamp": 1727880407
    },
    {
        "content": "<p>In case it becomes unbearable on your side I can try to install Lean 4 Web on some local server</p>",
        "id": 474318852,
        "sender_full_name": "Claudio Sacerdoti Coen",
        "timestamp": 1727880716
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"733059\">@Claudio Sacerdoti Coen</span> I just realized I never replied to you, we are very happy with having it used in such a way! See <a href=\"#narrow/channel/113488-general/topic/Using.20Lean.20Live.20for.20a.20tutorial.20session/near/481729302\">https://leanprover.zulipchat.com/#narrow/channel/113488-general/topic/Using.20Lean.20Live.20for.20a.20tutorial.20session/near/481729302</a></p>",
        "id": 481770867,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1731345211
    }
]