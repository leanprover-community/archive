[
    {
        "content": "<p>My course currently runs on <code>leanprover/lean4:nightly-2023-03-07</code> which I selected when I was working on the first materials.<br>\nDo you have any recommendation whether to switch to a newer Lean version and when to do it?<br>\nIt seems to me that in our 3rd block (which will happen in 2024-01 probably)<br>\n<a href=\"https://github.com/madvorak/lean-mam/blob/main/mam/Cislo3.lean\">https://github.com/madvorak/lean-mam/blob/main/mam/Cislo3.lean</a><br>\nwe would benefit from having a newer Mathlib.<br>\nIn particular <code>library_search</code> might be a bit uncomfortable for my students.</p>\n<p>Should we switch to <code>leanprover/lean4:v4.2.0-rc1</code> or something like it?<br>\nIf yes, would you do it now, or right before the 3rd block starts? My students have just started solving exercises from our 2nd block.</p>",
        "id": 396770407,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1697390061
    },
    {
        "content": "<p>Right now is a very bad moment to switch since a new version of Lean is about to be pre-released, with lots of improvements.</p>",
        "id": 396771397,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1697391074
    },
    {
        "content": "<p>Thank you very much! Your response is exactly what I wanted to hear!</p>",
        "id": 396773131,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1697392585
    },
    {
        "content": "<p>Of course there is a risk that I will keep repeating the same advice every day, because Lean 4 and its tooling is evolving so fast!</p>",
        "id": 396773688,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1697393089
    },
    {
        "content": "<p>I'm trying to get this out today. Anyone who has some time to work on tidying up <a href=\"https://github.com/leanprover-community/mathlib4/pull/7606\">#7606</a> would be helping. :-)</p>",
        "id": 396785682,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1697407226
    },
    {
        "content": "<p>If the goal is to push that through ASAP, I think we should tag <em>every</em> <code>simpNF</code> regression with \"probably caused by <a href=\"https://github.com/leanprover-community/mathlib4/pull/7657\">#7657</a>\"</p>",
        "id": 396787032,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1697408657
    },
    {
        "content": "<p>That way when we fix <a href=\"https://github.com/leanprover-community/mathlib4/pull/7657\">#7657</a>, it's easy to clean up, and we can remove the comment in the places we were wrong</p>",
        "id": 396787045,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1697408669
    },
    {
        "content": "<p>I'm tagging every simpNF regression for lemmas generated with <code>simps</code> that way, yes! Almost done.</p>",
        "id": 396789939,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1697411979
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/187764-Lean-for-teaching/topic/Lean.204.20version.20for.20teaching/near/396771397\">said</a>:</p>\n<blockquote>\n<p>Right now is a very bad moment to switch since a new version of Lean is about to be pre-released, with lots of improvements.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"417654\">@Martin Dvořák</span> Scott bumped mathlib to <code>4.2.0-rc2</code>, so now is probably a good time to upgrade.</p>",
        "id": 396870920,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1697451874
    },
    {
        "content": "<p>It is <code>4.2.0-rc3</code> now. Is it yet another version?</p>",
        "id": 397649591,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1697787690
    },
    {
        "content": "<p>It's <code>rc2</code> plus the quick fix for <a href=\"#narrow/stream/113488-general/topic/Lean.20server.20crashes\">this issue</a>. It's more stable and ready for teaching.</p>",
        "id": 397655479,
        "sender_full_name": "Utensil Song",
        "timestamp": 1697789836
    },
    {
        "content": "<p>I bumped as well! What does the following error mean?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">lake</span> <span class=\"n\">build</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">curl</span> <span class=\"bp\">-</span><span class=\"n\">s</span> <span class=\"bp\">-</span><span class=\"n\">f</span> <span class=\"bp\">-</span><span class=\"n\">o</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">windows</span><span class=\"bp\">-</span><span class=\"mi\">64</span><span class=\"bp\">.</span><span class=\"n\">tar.gz</span> <span class=\"bp\">-</span><span class=\"n\">L</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"n\">v0.0.18</span><span class=\"bp\">/</span><span class=\"n\">windows</span><span class=\"bp\">-</span><span class=\"mi\">64</span><span class=\"bp\">.</span><span class=\"n\">tar.gz</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">curl</span><span class=\"bp\">`</span> <span class=\"n\">exited</span> <span class=\"k\">with</span> <span class=\"n\">code</span> <span class=\"mi\">35</span>\n<span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">6</span><span class=\"o\">]</span> <span class=\"n\">Fetching</span> <span class=\"n\">proofwidgets</span> <span class=\"n\">cloud</span> <span class=\"n\">release</span>\n</code></pre></div>\n<p>In VS Code, my project still works, but I get annoying messages; every time I open a file, it says that I need to rebuild imports.<br>\nIt doesn't take long because they all have already been rebuild, but the message appears again and again.</p>",
        "id": 397668076,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1697794014
    },
    {
        "content": "<p>If Lean tells you dependencies need to be rebuilt when they are up to date, that's a bug. Please file an issue.</p>",
        "id": 397672242,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1697795573
    },
    {
        "content": "<p>code 35 is network issue: unknown SSL protocol error in connection</p>",
        "id": 397696172,
        "sender_full_name": "Utensil Song",
        "timestamp": 1697803680
    },
    {
        "content": "<p>\"need to rebuild imports\": I had this too, after bumping to <code>rc3</code> from <code>rc2</code>, can't resolve after several <code>lake exe cache get</code> variants, resolved by deleting <code>lake-packages</code> and start over.</p>\n<p>In theory this can be reproduced by bump from <code>rc1</code> to <code>rc2</code>, get cache, build, open a project file and have some random edits, then bump to <code>rc3</code>, or a simplified version of the process.</p>",
        "id": 397696189,
        "sender_full_name": "Utensil Song",
        "timestamp": 1697803682
    },
    {
        "content": "<p>Has the default behaviour of <code>convert</code> and <code>convert_to</code> changed since <code>nightly-2023-03-07</code> significantly? Almost all my <code>convert</code> and <code>convert_to</code> uses that didn't specify <code>using</code> are now broken.</p>",
        "id": 397742225,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1697818526
    },
    {
        "content": "<p>Oof, a 7 month bump is a long time in Mathlib land at the moment. :-)</p>",
        "id": 397777684,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1697836875
    },
    {
        "content": "<p>I tried to bump my experimental branch from <code>4.2.0-rc3</code> to <code>4.2.0</code> and got the following error in the first file that imports Mathlib (whereäs files that import <code>Std.Data.Nat.Basic</code> only were fine):</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lake.exe print-paths Init mam.Cislo2 Mathlib.Data.Real.Basic Mathlib.Tactic.LibrarySearch` failed:</span>\n\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">5</span><span class=\"o\">]</span> <span class=\"n\">Fetching</span> <span class=\"n\">proofwidgets</span> <span class=\"n\">cloud</span> <span class=\"n\">release</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">45</span><span class=\"bp\">/</span><span class=\"mi\">342</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.Instances</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">66</span><span class=\"bp\">/</span><span class=\"mi\">524</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.Relation.Symm</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">77</span><span class=\"bp\">/</span><span class=\"mi\">679</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.Relation.Rfl</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">96</span><span class=\"bp\">/</span><span class=\"mi\">690</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.CodeAction.Misc</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">96</span><span class=\"bp\">/</span><span class=\"mi\">690</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.CodeAction.Deprecated</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">97</span><span class=\"bp\">/</span><span class=\"mi\">690</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.GuardMsgs</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">97</span><span class=\"bp\">/</span><span class=\"mi\">690</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.Lint.Simp</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">101</span><span class=\"bp\">/</span><span class=\"mi\">690</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.TryThis</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">curl</span> <span class=\"bp\">-</span><span class=\"n\">s</span> <span class=\"bp\">-</span><span class=\"n\">f</span> <span class=\"bp\">-</span><span class=\"n\">o</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">windows</span><span class=\"bp\">-</span><span class=\"mi\">64</span><span class=\"bp\">.</span><span class=\"n\">tar.gz</span> <span class=\"bp\">-</span><span class=\"n\">L</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"n\">v0.0.21</span><span class=\"bp\">/</span><span class=\"n\">windows</span><span class=\"bp\">-</span><span class=\"mi\">64</span><span class=\"bp\">.</span><span class=\"n\">tar.gz</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">curl</span><span class=\"bp\">`</span> <span class=\"n\">exited</span> <span class=\"k\">with</span> <span class=\"n\">code</span> <span class=\"mi\">35</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe -Dlinter.missingDocs=true -DwarningAsError=true .\\lake-packages\\std\\.\\.\\Std\\CodeAction\\Deprecated.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\CodeAction\\Deprecated.olean -i .\\lake-packages\\std\\build\\lib\\Std\\CodeAction\\Deprecated.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\CodeAction\\Deprecated.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe -Dlinter.missingDocs=true -DwarningAsError=true .\\lake-packages\\std\\.\\.\\Std\\Tactic\\GuardMsgs.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\GuardMsgs.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\GuardMsgs.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Tactic\\GuardMsgs.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">CodeAction</span><span class=\"bp\">\\</span><span class=\"n\">Deprecated.lean</span><span class=\"o\">:</span><span class=\"mi\">63</span><span class=\"o\">:</span><span class=\"mi\">39</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">field</span> <span class=\"bp\">'</span><span class=\"n\">versionedIdentifier'</span><span class=\"o\">,</span> <span class=\"n\">the</span> <span class=\"n\">environment</span> <span class=\"n\">does</span> <span class=\"n\">not</span> <span class=\"n\">contain</span> <span class=\"bp\">'</span><span class=\"n\">Lean.Server.FileWorker.EditableDocument.versionedIdentifier'</span>\n  <span class=\"n\">doc</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"n\">FileWorker.EditableDocument</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">GuardMsgs.lean</span><span class=\"o\">:</span><span class=\"mi\">190</span><span class=\"o\">:</span><span class=\"mi\">36</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">field</span> <span class=\"bp\">'</span><span class=\"n\">versionedIdentifier'</span><span class=\"o\">,</span> <span class=\"n\">the</span> <span class=\"n\">environment</span> <span class=\"n\">does</span> <span class=\"n\">not</span> <span class=\"n\">contain</span> <span class=\"bp\">'</span><span class=\"n\">Lean.Server.FileWorker.EditableDocument.versionedIdentifier'</span>\n  <span class=\"n\">doc</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"n\">FileWorker.EditableDocument</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe -Dlinter.missingDocs=true -DwarningAsError=true .\\lake-packages\\std\\.\\.\\Std\\Tactic\\Lint\\Simp.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\Lint\\Simp.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\Lint\\Simp.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Tactic\\Lint\\Simp.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Lint</span><span class=\"bp\">\\</span><span class=\"n\">Simp.lean</span><span class=\"o\">:</span><span class=\"mi\">81</span><span class=\"o\">:</span><span class=\"mi\">53</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">type</span> <span class=\"n\">expected</span><span class=\"o\">,</span> <span class=\"n\">got</span>\n  <span class=\"o\">(</span><span class=\"n\">DiscrTree</span> <span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"n\">Bool</span> <span class=\"bp\">→</span> <span class=\"kt\">Type</span><span class=\"o\">)</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Lint</span><span class=\"bp\">\\</span><span class=\"n\">Simp.lean</span><span class=\"o\">:</span><span class=\"mi\">232</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">identifier</span> <span class=\"bp\">'</span><span class=\"n\">simpDtConfig'</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Lint</span><span class=\"bp\">\\</span><span class=\"n\">Simp.lean</span><span class=\"o\">:</span><span class=\"mi\">232</span><span class=\"o\">:</span><span class=\"mi\">71</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">identifier</span> <span class=\"bp\">'</span><span class=\"n\">simpDtConfig'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe -Dlinter.missingDocs=true -DwarningAsError=true .\\lake-packages\\std\\.\\.\\Std\\Tactic\\TryThis.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\TryThis.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\TryThis.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Tactic\\TryThis.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">TryThis.lean</span><span class=\"o\">:</span><span class=\"mi\">105</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">field</span> <span class=\"bp\">'</span><span class=\"n\">versionedIdentifier'</span><span class=\"o\">,</span> <span class=\"n\">the</span> <span class=\"n\">environment</span> <span class=\"n\">does</span> <span class=\"n\">not</span> <span class=\"n\">contain</span> <span class=\"bp\">'</span><span class=\"n\">Lean.Server.FileWorker.EditableDocument.versionedIdentifier'</span>\n  <span class=\"n\">doc</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"n\">FileWorker.EditableDocument</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe -Dlinter.missingDocs=true -DwarningAsError=true .\\lake-packages\\std\\.\\.\\Std\\Tactic\\Relation\\Symm.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\Relation\\Symm.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\Relation\\Symm.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Tactic\\Relation\\Symm.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe -Dlinter.missingDocs=true -DwarningAsError=true .\\lake-packages\\std\\.\\.\\Std\\Tactic\\Relation\\Rfl.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\Relation\\Rfl.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\Relation\\Rfl.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Tactic\\Relation\\Rfl.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">39</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">overloaded</span><span class=\"o\">,</span> <span class=\"n\">errors</span>\n  <span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">synthesize</span> <span class=\"kd\">instance</span>\n    <span class=\"n\">EmptyCollection</span> <span class=\"n\">WhnfCoreConfig</span>\n\n  <span class=\"n\">invalid</span> <span class=\"o\">{</span><span class=\"bp\">...</span><span class=\"o\">}</span> <span class=\"kd\">notation</span><span class=\"o\">,</span> <span class=\"n\">expected</span> <span class=\"n\">type</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">form</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"bp\">...</span><span class=\"o\">)</span>\n    <span class=\"n\">WhnfCoreConfig</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">application</span> <span class=\"n\">type</span> <span class=\"n\">mismatch</span>\n  <span class=\"n\">Array</span> <span class=\"n\">DiscrTree.Key</span>\n<span class=\"n\">argument</span>\n  <span class=\"n\">DiscrTree.Key</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"n\">Bool</span> <span class=\"bp\">→</span> <span class=\"kt\">Type</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"mi\">1</span>\n<span class=\"n\">but</span> <span class=\"n\">is</span> <span class=\"n\">expected</span> <span class=\"n\">to</span> <span class=\"k\">have</span> <span class=\"n\">type</span>\n  <span class=\"kt\">Type</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"mi\">1</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">application</span> <span class=\"n\">type</span> <span class=\"n\">mismatch</span>\n  <span class=\"n\">Array</span> <span class=\"n\">DiscrTree.Key</span>\n<span class=\"n\">argument</span>\n  <span class=\"n\">DiscrTree.Key</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"n\">Bool</span> <span class=\"bp\">→</span> <span class=\"kt\">Type</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"mi\">1</span>\n<span class=\"n\">but</span> <span class=\"n\">is</span> <span class=\"n\">expected</span> <span class=\"n\">to</span> <span class=\"k\">have</span> <span class=\"n\">type</span>\n  <span class=\"kt\">Type</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"mi\">1</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">infer</span> <span class=\"n\">binder</span> <span class=\"n\">type</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">don't</span> <span class=\"n\">know</span> <span class=\"n\">how</span> <span class=\"n\">to</span> <span class=\"n\">synthesize</span> <span class=\"n\">placeholder</span> <span class=\"n\">for</span> <span class=\"n\">argument</span> <span class=\"sc\">'α'</span>\n<span class=\"n\">context</span><span class=\"o\">:</span>\n<span class=\"n\">decl</span> <span class=\"o\">:</span> <span class=\"n\">Name</span>\n<span class=\"n\">x</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Syntax</span>\n<span class=\"n\">kind</span> <span class=\"o\">:</span> <span class=\"n\">AttributeKind</span>\n<span class=\"n\">declTy</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span> <span class=\"o\">:=</span> <span class=\"n\">ConstantInfo.type</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span>\n<span class=\"n\">xs</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">Expr</span>\n<span class=\"n\">fst</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">BinderInfo</span>\n<span class=\"n\">targetTy</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span>\n<span class=\"n\">fail</span> <span class=\"o\">:</span> <span class=\"n\">MetaM</span> <span class=\"n\">Unit</span> <span class=\"o\">:=</span>\n  <span class=\"n\">Lean.throwError</span>\n    <span class=\"o\">(</span><span class=\"n\">toMessageData</span> <span class=\"s2\">\"@[symm] attribute only applies to lemmas proving x ∼ y → y ∼ x, got \"</span> <span class=\"bp\">++</span> <span class=\"n\">toMessageData</span> <span class=\"n\">declTy</span> <span class=\"bp\">++</span>\n      <span class=\"n\">toMessageData</span> <span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"n\">val</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span>\n<span class=\"bp\">⊢</span> <span class=\"kt\">Type</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span><span class=\"mi\">14</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">don't</span> <span class=\"n\">know</span> <span class=\"n\">how</span> <span class=\"n\">to</span> <span class=\"n\">synthesize</span> <span class=\"n\">implicit</span> <span class=\"n\">argument</span>\n  <span class=\"bp\">@</span><span class=\"n\">withReducible</span> <span class=\"n\">MetaM</span> <span class=\"o\">(</span><span class=\"n\">instMonadControlT_1</span> <span class=\"n\">MetaM</span><span class=\"o\">)</span> <span class=\"n\">instMonadMetaM</span>\n    <span class=\"o\">(</span><span class=\"n\">Array</span> <span class=\"o\">(</span><span class=\"n\">DiscrTree.Key</span> <span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m.2770</span> <span class=\"n\">decl</span> <span class=\"n\">x</span><span class=\"bp\">✝</span> <span class=\"n\">kind</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span> <span class=\"n\">__discr</span><span class=\"bp\">✝²</span> <span class=\"n\">xs</span> <span class=\"n\">fst</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span><span class=\"bp\">✝</span> <span class=\"n\">val</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span><span class=\"o\">)))</span>\n    <span class=\"o\">(</span><span class=\"n\">liftM</span> <span class=\"o\">(</span><span class=\"n\">DiscrTree.mkPath</span> <span class=\"n\">rel</span> <span class=\"n\">symmExt.config</span><span class=\"o\">))</span>\n<span class=\"n\">context</span><span class=\"o\">:</span>\n<span class=\"n\">decl</span> <span class=\"o\">:</span> <span class=\"n\">Name</span>\n<span class=\"n\">x</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Syntax</span>\n<span class=\"n\">kind</span> <span class=\"o\">:</span> <span class=\"n\">AttributeKind</span>\n<span class=\"n\">declTy</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span> <span class=\"o\">:=</span> <span class=\"n\">ConstantInfo.type</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span>\n<span class=\"n\">xs</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">Expr</span>\n<span class=\"n\">fst</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">BinderInfo</span>\n<span class=\"n\">targetTy</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span>\n<span class=\"n\">fail</span> <span class=\"o\">:</span> <span class=\"n\">MetaM</span> <span class=\"n\">Unit</span> <span class=\"o\">:=</span>\n  <span class=\"n\">Lean.throwError</span>\n    <span class=\"o\">(</span><span class=\"n\">toMessageData</span> <span class=\"s2\">\"@[symm] attribute only applies to lemmas proving x ∼ y → y ∼ x, got \"</span> <span class=\"bp\">++</span> <span class=\"n\">toMessageData</span> <span class=\"n\">declTy</span> <span class=\"bp\">++</span>\n      <span class=\"n\">toMessageData</span> <span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"n\">val</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span>\n<span class=\"bp\">⊢</span> <span class=\"kt\">Type</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span><span class=\"mi\">31</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">don't</span> <span class=\"n\">know</span> <span class=\"n\">how</span> <span class=\"n\">to</span> <span class=\"n\">synthesize</span> <span class=\"n\">implicit</span> <span class=\"n\">argument</span>\n  <span class=\"bp\">@</span><span class=\"n\">DiscrTree.mkPath</span> <span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m.2770</span> <span class=\"n\">decl</span> <span class=\"n\">x</span><span class=\"bp\">✝</span> <span class=\"n\">kind</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span> <span class=\"n\">__discr</span><span class=\"bp\">✝²</span> <span class=\"n\">xs</span> <span class=\"n\">fst</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span><span class=\"bp\">✝</span> <span class=\"n\">val</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span><span class=\"o\">)</span> <span class=\"n\">rel</span>\n    <span class=\"n\">symmExt.config</span>\n<span class=\"n\">context</span><span class=\"o\">:</span>\n<span class=\"n\">decl</span> <span class=\"o\">:</span> <span class=\"n\">Name</span>\n<span class=\"n\">x</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Syntax</span>\n<span class=\"n\">kind</span> <span class=\"o\">:</span> <span class=\"n\">AttributeKind</span>\n<span class=\"n\">declTy</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span> <span class=\"o\">:=</span> <span class=\"n\">ConstantInfo.type</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span>\n<span class=\"n\">xs</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">Expr</span>\n<span class=\"n\">fst</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">BinderInfo</span>\n<span class=\"n\">targetTy</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span>\n<span class=\"n\">fail</span> <span class=\"o\">:</span> <span class=\"n\">MetaM</span> <span class=\"n\">Unit</span> <span class=\"o\">:=</span>\n  <span class=\"n\">Lean.throwError</span>\n    <span class=\"o\">(</span><span class=\"n\">toMessageData</span> <span class=\"s2\">\"@[symm] attribute only applies to lemmas proving x ∼ y → y ∼ x, got \"</span> <span class=\"bp\">++</span> <span class=\"n\">toMessageData</span> <span class=\"n\">declTy</span> <span class=\"bp\">++</span>\n      <span class=\"n\">toMessageData</span> <span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"n\">val</span><span class=\"bp\">✝</span> <span class=\"n\">targetTy</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Expr</span>\n<span class=\"bp\">⊢</span> <span class=\"n\">Bool</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">76</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">synthesize</span> <span class=\"kd\">instance</span> <span class=\"n\">for</span> <span class=\"bp\">'</span><span class=\"n\">for_in</span><span class=\"bp\">%'</span> <span class=\"kd\">notation</span>\n  <span class=\"n\">ForIn</span> <span class=\"o\">(</span><span class=\"n\">ReaderT</span> <span class=\"n\">Context</span> <span class=\"o\">(</span><span class=\"n\">StateRefT'</span> <span class=\"n\">IO.RealWorld</span> <span class=\"n\">State</span> <span class=\"n\">CoreM</span><span class=\"o\">))</span> <span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m.4446</span> <span class=\"n\">tgt</span> <span class=\"n\">k</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝¹</span><span class=\"o\">)</span> <span class=\"bp\">?</span><span class=\"n\">m.5691</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">76</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">field</span> <span class=\"kd\">notation</span><span class=\"o\">,</span> <span class=\"n\">type</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">form</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"bp\">...</span><span class=\"o\">)</span> <span class=\"n\">where</span> <span class=\"n\">C</span> <span class=\"n\">is</span> <span class=\"n\">a</span> <span class=\"kd\">constant</span>\n  <span class=\"n\">r</span><span class=\"bp\">✝</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"bp\">?</span><span class=\"n\">m.4448</span> <span class=\"n\">tgt</span> <span class=\"n\">k</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝¹</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Symm.lean</span><span class=\"o\">:</span><span class=\"mi\">76</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">field</span> <span class=\"kd\">notation</span><span class=\"o\">,</span> <span class=\"n\">type</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">form</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"bp\">...</span><span class=\"o\">)</span> <span class=\"n\">where</span> <span class=\"n\">C</span> <span class=\"n\">is</span> <span class=\"n\">a</span> <span class=\"kd\">constant</span>\n  <span class=\"n\">r</span><span class=\"bp\">✝</span>\n<span class=\"n\">has</span> <span class=\"n\">type</span>\n  <span class=\"bp\">?</span><span class=\"n\">m.4448</span> <span class=\"n\">tgt</span> <span class=\"n\">k</span> <span class=\"n\">rel</span> <span class=\"n\">arg</span><span class=\"bp\">✝¹</span> <span class=\"n\">arg</span><span class=\"bp\">✝</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝¹</span> <span class=\"n\">__do_lift</span><span class=\"bp\">✝</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">dvora</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.2.0\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">Relation</span><span class=\"bp\">\\</span><span class=\"n\">Rfl.lean</span><span class=\"o\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"mi\">39</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">overloaded</span><span class=\"o\">,</span> <span class=\"n\">errors</span>\n  <span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">synthesize</span> <span class=\"kd\">instance</span>\n    <span class=\"n\">EmptyCollection</span> <span class=\"n\">WhnfCoreConfig</span>\n<span class=\"o\">(</span><span class=\"bp\">...</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Any idea what is wrong?</p>",
        "id": 399798118,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1698870199
    },
    {
        "content": "<p>One thing that's wrong is that you're on rc3 which was one of the versions with the bug which deletes all your files and git history. Don't type <code>lake clean</code>.</p>",
        "id": 399820680,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1698882839
    },
    {
        "content": "<p>First, delete <code>lakefile.olean</code> to avoid the bug Kevin mentioned. Then change <code>lakefile.lean</code> to use mathlib revision \"v4.2.0\" instead of mathlib master (which currently uses Lean v4.3.0-rc1). Finally, use \"lake update\" to update mathlib (and therefore std4) to the correct versions.</p>",
        "id": 399875114,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1698911958
    },
    {
        "content": "<p>Too late. I already did <code>lake clean</code> at least twice. Can I nevertheless progress in the way <span class=\"user-mention\" data-user-id=\"325367\">@Mauricio Collares</span> suggested?</p>",
        "id": 399885372,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1698915745
    },
    {
        "content": "<p>Kevin was telling you to avoid <code>lake clean</code> because it could have deleted your repository folder due to a change between v4.2.0-rc3 and v4.2.0. The way to avoid this risk is manually deleting the <code>lakefile.olean</code> file. If you weren't unlucky and still have your folder, you may proceed normally.</p>",
        "id": 399886163,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1698915992
    },
    {
        "content": "<p>Normally means the way you described above?</p>",
        "id": 399886481,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1698916089
    },
    {
        "content": "<p>Yes, that's what I meant. Sorry, should have been more specific.</p>",
        "id": 399887531,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1698916453
    },
    {
        "content": "<p>Which folder in \"and still have your folder\" should I check I have?</p>",
        "id": 399888132,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1698916678
    },
    {
        "content": "<p>The repository root. Usually contains <code>.git</code>, <code>lean-toolchain</code>, and a subfolder containing your source files.</p>",
        "id": 399889985,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1698917300
    },
    {
        "content": "<p>I'd assume this doesn't affect windows users, though, because deleting open files/folders is near impossible on Windows</p>",
        "id": 399890137,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1698917361
    },
    {
        "content": "<p>Could someone explain a little more about the <code>lakefile.olean</code> issue?  Where did this file come from?  Am I supposed to delete it because it shouldn't be there at all?  Or because some bug caused a flawed version of the file to be created, and I need to delete it so that a corrected version will be created?</p>",
        "id": 399939305,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1698932692
    },
    {
        "content": "<p>The latter. <code>lakefile.olean</code> is a legitimate file and it being generated is a good thing because it speeds up lake. However, versions generated by Lean 4.2.0-rc2 and 4.2.0-rc3 are incompatible with all other Lean versions (4.2.0-rc4 and later versions are compatible with 4.2.0-rc1 and former versions; just 4.2.0-rc2 and -rc3 are special). If a file generated by 4.2.0-rc2 or 4.2.0-rc3 is read by other Lean versions, lake gets confused and thinks the source directory is the build directory (leading to <code>lake clean</code> deleting the source directory, for example).</p>",
        "id": 399948013,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1698934875
    }
]