[
    {
        "content": "<p>Hi all,</p>\n<p>With the start of the new semester, let’s get back to work on PNT! (My apologies for the long delay. Over the summer, <span class=\"user-mention\" data-user-id=\"613795\">@Vláďa Sedláček</span> and I have been quietly finishing off almost all of the theorems in ZetaBounds, and now things are ready to go for PNT with a strong error term.) I'll send a list of tasks for that in the next few days, but we can get started already with discussing the following issues:</p>\n<ol>\n<li>We should bump to the most recent mathlib (not entirely trivial, but shouldn’t be too hard?) <strong> Done by <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> and <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> </strong></li>\n<li>Clean up existing code. There’s an awful lot there, generated by different people, and soon it will get so big (if it’s not already) that it will become rather unwieldy, with lots of repetition, extraneous lemmas, etc. Maybe someone wants to volunteer to work on this?</li>\n<li>Related: Break off small PRs for mathlib. I don’t know if there’s a better or worse time to start doing this, but perhaps someone can already start to take this on.</li>\n</ol>\n<p>As always, please announce your intension to work on some aspect here before you start, so that effort isn’t wasted or duplicated. </p>\n<p>While I get things ready on my end, we can continue with corollaries of PNT, namely:</p>\n<ol start=\"4\">\n<li><a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html#pi-asymp\">Prime counting function asymptotic to logarithmic integral</a>  Follows from the Chebyshev function bound, summation by parts, and some \"easy\" asymptotic manipulations. (Note that <span class=\"user-mention\" data-user-id=\"657719\">@Terence Tao</span> recently proved <code>chebyshev-asymptotic</code>, that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∑</mo><mrow><mi>p</mi><mo>≤</mo><mi>x</mi></mrow></msub><mi>log</mi><mo>⁡</mo><mi>p</mi><mo>∼</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\sum_{p \\leq x} \\log p \\sim x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1455em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mrel mtight\">≤</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>.) <strong> Claimed by <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> </strong></li>\n<li><a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html#pi-alt\">Prime counting function asymptotic to <code>x/log x</code></a> Follows from the previous bound and some more \"easy\" asymptotic manipulations.</li>\n<li><a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html#pn-asymptotic\">Asymptotic for n^th prime</a>  Should be a simple matter of \"inverting\" the previous result.</li>\n<li><a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html#pn-pnPlus1\">Bound for gaps between primes</a> Follows from the previous bound and more \"easy\" asymptotic manipulations.</li>\n<li><a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html#prime-between\">Primes in short intervals</a> An equivalent form of the previous bound.</li>\n</ol>\n<p>More soon!</p>",
        "id": 469545996,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1726112858
    },
    {
        "content": "<p>Regarding point 3 about PRing to Mathlib: the best moment to do it is asap!  The longer you wait and accumulate lemmas in your repository and the more likely it is that your main results will never make it to Mathlib.</p>",
        "id": 469554446,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1726117096
    },
    {
        "content": "<p>(I just opened the repository to take a look, and noticed that you have very large files, and this significantly impacts the build time. A useful chore might just be splitting <code>Wiener</code> into smaller files.)</p>",
        "id": 469559046,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726119200
    },
    {
        "content": "<p>I created <a href=\"https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/186\">https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/186</a> to do the initial bump to <del>v4.8.0</del> <del>v4.9.0</del> v4.10.0 of Lean and Mathlib.</p>",
        "id": 469560996,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726119933
    },
    {
        "content": "<p>However I see that your CI is set up so that it doesn't actually run until a maintainer approves the CI run. That's ... not super helpful, and hopefully you can fix that. I'm not an expert on leanblueprint, but I would hope that someone who is can help update your CI so that it runs out of the box.</p>",
        "id": 469561130,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726119998
    },
    {
        "content": "<p>One problem I encountered as the behaviour of <code>simp</code> changing: a reminder to use <code>simp only</code> whenever possible, as it makes <code>simp</code> more robust to Lean or Mathlib changing the simp set.</p>",
        "id": 469567485,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726122106
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/469567485\">said</a>:</p>\n<blockquote>\n<p>One problem I encountered as the behaviour of <code>simp</code> changing: a reminder to use <code>simp only</code> whenever possible, as it makes <code>simp</code> more robust to Lean or Mathlib changing the simp set.</p>\n</blockquote>\n<p>This is broader than PNT+, but I wonder if it is worth implementing a linter in Lean to pick up the use of <code>simp</code> in a proof and suggest a switch to <code>simp only</code>.</p>",
        "id": 469572594,
        "sender_full_name": "Terence Tao",
        "timestamp": 1726123484
    },
    {
        "content": "<p>Yeah <code>Wiener</code> is huge in the main branch with quite a few lemmas that  are not actually used anywhere. I started separating out more generic things about bounds on Fourier transforms and such, some might still be in a branch I will have a look as soon as I am on a computer.</p>",
        "id": 469572760,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1726123522
    },
    {
        "content": "<p>Great to know that the project is alive!</p>",
        "id": 469572952,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1726123582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"657719\">@Terence Tao</span> Yes, there is a linter that will flag uses of <code>simp</code> that are not \"terminal\". More precisely, tactics have been classified as \"rigid\" or \"flexible\", and <code>simp</code> is flexible, whereas <code>simp only</code> is rigid. A flexible tactic should not have rigid tactics after it.<br>\nBut there were some issues with the linter, so I'm not sure it is active right now.</p>",
        "id": 469574877,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1726124218
    },
    {
        "content": "<p>I got as far as bumping to v4.10.0, but will stop there. Hopefully someone can do the next step to v4.11.0, and then master. The next step involves quite a few fixes, from the looks of <code>lake build</code>.</p>",
        "id": 469583634,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726126659
    },
    {
        "content": "<p>The \"flexible\" linter should be in Mathlib, but is off by default.  It flags potential maintenance concerns, as Johan mentioned, but sadly not always replacing <code>simp</code> by <code>simp only</code> is a good choice.  This is the reason that it is not active by default.</p>",
        "id": 469606957,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726131576
    },
    {
        "content": "<p>However, you can turn it on and see what <em>might</em> cause problems during a bump.</p>",
        "id": 469607011,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726131597
    },
    {
        "content": "<p>I'm taking a look at updating further</p>",
        "id": 469614694,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726133362
    },
    {
        "content": "<p><a href=\"https://github.com/Ruben-VandeVelde/PrimeNumberTheoremAnd/pull/new/v4.8.0\">https://github.com/Ruben-VandeVelde/PrimeNumberTheoremAnd/pull/new/v4.8.0</a> - hoping someone else will look at the AdditiveCombination failure</p>",
        "id": 469627038,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726136416
    },
    {
        "content": "<p>Lunch now</p>",
        "id": 469627050,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726136421
    },
    {
        "content": "<p>Pushed some more; now just stuck on additive combination. I also opened <a href=\"https://github.com/MichaelStollBayreuth/EulerProducts/pull/2\">https://github.com/MichaelStollBayreuth/EulerProducts/pull/2</a> (cc <span class=\"user-mention\" data-user-id=\"479359\">@Michael Stoll</span> )</p>",
        "id": 469653444,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726142907
    },
    {
        "content": "<p>I have a cargo-culted version of <a href=\"https://github.com/leanprover-community/mathlib4/pull/15599\">https://github.com/leanprover-community/mathlib4/pull/15599</a>. Opened <a href=\"https://github.com/Ruben-VandeVelde/PrimeNumberTheoremAnd/pull/1\">https://github.com/Ruben-VandeVelde/PrimeNumberTheoremAnd/pull/1</a>, but a review would be good.</p>",
        "id": 469657809,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1726143904
    },
    {
        "content": "<p>Finishing a few last changes</p>",
        "id": 469661629,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726144790
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/469561130\">said</a>:</p>\n<blockquote>\n<p>However I see that your CI is set up so that it doesn't actually run until a maintainer approves the CI run. That's ... not super helpful, and hopefully you can fix that. I'm not an expert on leanblueprint, but I would hope that someone who is can help update your CI so that it runs out of the box.</p>\n</blockquote>\n<p>I think that's only for first-time contributions, and after that CI runs automatically. (Just a safety feature, right?)</p>",
        "id": 469685608,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1726149840
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/stream/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/469657809\">said</a>:</p>\n<blockquote>\n<p>I have a cargo-culted version of <a href=\"https://github.com/leanprover-community/mathlib4/pull/15599\">https://github.com/leanprover-community/mathlib4/pull/15599</a>. Opened <a href=\"https://github.com/Ruben-VandeVelde/PrimeNumberTheoremAnd/pull/1\">https://github.com/Ruben-VandeVelde/PrimeNumberTheoremAnd/pull/1</a>, but a review would be good.</p>\n</blockquote>\n<p>Sorry I don't see the pull request?...</p>",
        "id": 469685940,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1726149911
    },
    {
        "content": "<p>Incoming</p>",
        "id": 469687344,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726150263
    },
    {
        "content": "<p><a href=\"https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/187\">https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/187</a></p>",
        "id": 469687780,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726150386
    },
    {
        "content": "<p>Whoops! Something happened... The CI on <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>'s PR passed, but then when I merged it in, now it's not compiling... D'oh! <span class=\"user-mention\" data-user-id=\"557226\">@Ian Jauslin</span> to the rescue?...</p>",
        "id": 469697692,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1726152601
    },
    {
        "content": "<p>Looks like only docgen is failing, it should probably be bumped in the lakefile to a version that matches lean 4.11?</p>",
        "id": 469698821,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1726152847
    },
    {
        "content": "<p>Ah, that's annoying. I can take a look later</p>",
        "id": 469730643,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726160314
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/469730643\">said</a>:</p>\n<blockquote>\n<p>Ah, that's annoying. I can take a look later</p>\n</blockquote>\n<p>I sent a PR to your fork to update doc-gen4</p>",
        "id": 469738117,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1726162716
    },
    {
        "content": "<p>Ah sorry, I made the change myself as well</p>",
        "id": 469742245,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726163440
    },
    {
        "content": "<p>Even better!</p>",
        "id": 469753008,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1726166149
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> I think merging Ruben's PR will automatically fix CI checks on main.</p>",
        "id": 469753267,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1726166248
    },
    {
        "content": "<p>Great thanks! Just merged, so fingers crossed...</p>",
        "id": 469754652,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1726166628
    },
    {
        "content": "<p>Towards Task 3 (breaking off PRs for Mathlib), I could use some advice on how to organize this. (Or better yet, a volunteer to spearhead it?) Thanks!</p>",
        "id": 469944923,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1726228281
    },
    {
        "content": "<p>It looks like there's a number of files under <code>PrimeNumberTheoremAnd/Mathlib/</code> that could easily be submitted. My suggestion to people who want to help is to pick one theorem or group of closely related theorems, do a quick check if there's obvious generalizations possible, put <code>#find_home! foo</code> after it and then make a PR to mathlib to add the results to that file. (Probably you want to mention here what you're looking at)</p>",
        "id": 469954994,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726230996
    },
    {
        "content": "<p>I opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/16803\">#16803</a> for <code>PrimeNumberTheoremAnd/Mathlib/Topology/UniformSpace/UniformConvergence.lean</code></p>",
        "id": 470226486,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726345404
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/stream/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/469545996\">said</a>:</p>\n<blockquote>\n<ol start=\"4\">\n<li><a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html#pi-asymp\">Prime counting function asymptotic to logarithmic integral</a>  Follows from the Chebyshev function bound, summation by parts, and some \"easy\" asymptotic manipulations. (Note that <span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> recently proved <code>chebyshev-asymptotic</code>, that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mo>∑</mo><mrow><mi>p</mi><mo>≤</mo><mi>x</mi></mrow></msub><mi>log</mi><mo>⁡</mo><mi>p</mi><mo>∼</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">\\sum_{p \\leq x} \\log p \\sim x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1858em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1455em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"mrel mtight\">≤</span><span class=\"mord mathnormal mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">lo<span style=\"margin-right:0.01389em;\">g</span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∼</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>.)</li>\n</ol>\n</blockquote>\n<p>Btw, I'm working on (the first line of) this</p>",
        "id": 472776107,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1727299330
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span>, it looks like <code>pi_asymp</code> is done, but the PR is still a \"draft\"? Do you want me to merge it? Thanks!</p>",
        "id": 474351255,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1727888499
    },
    {
        "content": "<p>I wanted to clean it up a bit first, but haven't had energy for it yet. If you're okay with merging, go ahead</p>",
        "id": 474375730,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1727895951
    },
    {
        "content": "<p>HI guys,</p>\n<p>I'm an \"interested bystander\" on this project; I've been following progress, but haven't had a chance to contribute directly to PNT+ myself. Two thoughts I wanted to share with you:<br>\n(1) The above probably makes me a natural reviewer for Mathlib PR's upstreaming bits of this project. Don't hesitate to ping me for reviews.<br>\n(2) Analytic continuation of Dirichlet character L-functions is now in mathlib. The proof of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mi>χ</mi><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\">≠</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">L(\\chi, 1) \\ne 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">χ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> is not, but is certainly feasible. How much extra work, in addition to what PNT+ is currently doing, would be needed to get from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mi>χ</mi><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\">≠</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">L(\\chi, 1) \\ne 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">χ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> to counting primes in arithmetic progressions?</p>\n<p>Best wishes, David</p>",
        "id": 474756476,
        "sender_full_name": "David Loeffler",
        "timestamp": 1728026493
    },
    {
        "content": "<p>Hi David, see <a href=\"https://github.com/leanprover-community/mathlib4/pull/17394\">https://github.com/leanprover-community/mathlib4/pull/17394</a> :)</p>",
        "id": 474762637,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728028256
    },
    {
        "content": "<p>It should not be too difficult to get from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>χ</mi><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\">≠</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">L(1,\\chi) \\neq 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">χ</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> to Dirichlet's theorem.  It is \"just\" a matter of formalizing <a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0002.html#a0000000010\">https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0002.html#a0000000010</a> , and then adapting many of the results slowly being formalized in <a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html\">https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0004.html</a> to progressions.  Once the non-vanishing theorem is online I can try to refactor the blueprint to smooth out the process (in particular breaking up the proof of Theorem 2 into more digestible pieces, right now it is much more a human readable proof than a human formalizable one).</p>",
        "id": 474839854,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728053434
    },
    {
        "content": "<p>The Wiener-Ikehara theorem was rather painful to formalize, but probably not for deep reasons, mostly because integral and sum manipulations is not something that Lean is well adapted to at the moment. Hopefully the automatic Chebyshev bound will be easier...</p>",
        "id": 474843634,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1728054575
    },
    {
        "content": "<p>I had some ideas as to how to show that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>χ</mi><mo stretchy=\"false\">)</mo><mo mathvariant=\"normal\">≠</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">L(1,\\chi) \\ne 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">χ</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> (including for nontrivial quadratic <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>χ</mi></mrow><annotation encoding=\"application/x-tex\">\\chi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">χ</span></span></span></span>), once we have the analytic continuation of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mi>s</mi><mo separator=\"true\">,</mo><mi>χ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L(s,\\chi)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">s</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">χ</span><span class=\"mclose\">)</span></span></span></span>. This could be a project for my stay in Zurich (Oct 13-19) with <span class=\"user-mention\" data-user-id=\"481963\">@David Loeffler</span> .</p>",
        "id": 474855972,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1728058403
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/474762637\">said</a>:</p>\n<blockquote>\n<p>Hi David, see <a href=\"https://github.com/leanprover-community/mathlib4/pull/17394\">https://github.com/leanprover-community/mathlib4/pull/17394</a> :)</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> Can you ping me when you PR material from EulerProducts to Mathlib?</p>",
        "id": 474857138,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1728058657
    },
    {
        "content": "<p>Sure thing</p>",
        "id": 474865018,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728060547
    },
    {
        "content": "<p>The non-vanishing of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>χ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L(1, \\chi)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">χ</span><span class=\"mclose\">)</span></span></span></span> has by now been formalized in joint work with <span class=\"user-mention\" data-user-id=\"389019\">@Chris Birkbeck</span> and <span class=\"user-mention\" data-user-id=\"481963\">@David Loeffler</span>; see <a href=\"https://github.com/CBirkbeck/DirichletNonvanishing\">DirichletNonvanishing</a>, which contains a <a href=\"https://cbirkbeck.github.io/DirichletNonvanishing/\">bueprint</a>. The code has also been upstreamed to <a href=\"https://github.com/MichaelStollBayreuth/EulerProducts\">EulerProducts</a>.</p>",
        "id": 477243861,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729092433
    },
    {
        "content": "<p>Ah!  Time to get started on Dirichlet's theorem then.  I can try later today to break up the large proof of PNT in AP in <a href=\"https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0002.html#a0000000010\">https://alexkontorovich.github.io/PrimeNumberTheoremAnd/web/sect0002.html#a0000000010</a> into smaller pieces that might be more suitable for formalization.</p>",
        "id": 477256098,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729096210
    },
    {
        "content": "<p>See <a href=\"https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/196\">https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/196</a> .  (Do we have an abbreviation for PNT PR's?)  <code>WeakPNT_AP</code> is now split into three <code>proof_wanted</code> statements, which in principle can be proven independently, though I imagine that it would be logical to prove them in order.</p>",
        "id": 477326074,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729126517
    },
    {
        "content": "<p>I created a linkifier: <a href=\"https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/pull/196\">PNT#196</a></p>",
        "id": 477342267,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1729135583
    },
    {
        "content": "<p>I'd like to mention that I'm working on the orthogonality relations for DIrichlet characters (which are needed for Lemma 9 (Character decomposition) in the blueprint.</p>",
        "id": 477456883,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729175210
    },
    {
        "content": "<p>Would you have the statements of the results you will be proving?  Perhaps we can just take those statements as a <code>sorry</code> for now in order to prove Lemma 9.</p>",
        "id": 477462566,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729176751
    },
    {
        "content": "<p>I'm still fiddling around with this, but I should have something concrete soon.</p>",
        "id": 477462704,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729176788
    },
    {
        "content": "<p>I now have a complete proof of the orthogonality relation in the form</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsDomain</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">HasAllRootsOfUnity</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">sum_char_inv_mul_char_eq</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZMod</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsUnit</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZMod</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">χ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DirichletCharacter</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">χ</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">χ</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">totient</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>\n<p>(where <code>HasAllRootsOfUnity</code> is a type class recording that primitive <code>n</code>th roots of unity exist in the domain <code>R</code> for all <code>n</code>).</p>\n<p>This is in the <a href=\"https://github.com/MichaelStollBayreuth/EulerProducts/blob/main/EulerProducts/Orthogonality.lean\">Orthogonality.lean</a> file in <a href=\"https://github.com/MichaelStollBayreuth/EulerProducts\">EulerProducts</a>.</p>\n<p>I think I will next try to generalize what I did earlier on the logarithmic derivative of the Riemann zeta function to approach Lemma 9.</p>",
        "id": 477733238,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729284873
    },
    {
        "content": "<p>OK, so I guess you are officially \"claiming\" Lemma 9 then?  Hopefully once you have the Dirichlet series for the log derivative of L functions, putting everything together should just be some mucking about with the Mathlib support for infinite series.</p>",
        "id": 477744052,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729291299
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/channel/423402-PrimeNumberTheorem.2B/topic/restarting.20progress/near/477744052\">said</a>:</p>\n<blockquote>\n<p>OK, so I guess you are officially \"claiming\" Lemma 9 then?</p>\n</blockquote>\n<p>Yes. I already proved the properties of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><msup><mi>ζ</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mi mathvariant=\"normal\">/</mi><mi>ζ</mi></mrow><annotation encoding=\"application/x-tex\">-\\zeta&#x27;/\\zeta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0019em;vertical-align:-0.25em;\"></span><span class=\"mord\">−</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07378em;\">ζ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07378em;\">ζ</span></span></span></span> that are necessary to apply Wiener-Ikehara, and I think it should not be hard to generalize this to Dirichlet L-functions (now that we have their analytic continuation, thanks to <span class=\"user-mention\" data-user-id=\"481963\">@David Loeffler</span>).</p>",
        "id": 477783353,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729323783
    },
    {
        "content": "<p>Great! By the way, feel free to change the spelling of the Lean statement I wrote for Lemma 9.  I basically wrote the first thing that passed the Lean compiler and looked right, but it might not be the most appropriate spelling, either to prove, or to apply.</p>",
        "id": 477813081,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729349356
    },
    {
        "content": "<p>I now have completed the proofs of Lemma 9, Proposition 2 and Theorem 2 (which is a version of Dirichlet's Theorem) from Section 2 of the blueprint (using the <code>WIT</code> stub defined in EulerProducts); this is in <a href=\"https://github.com/MichaelStollBayreuth/EulerProducts/blob/main/EulerProducts/PNT.lean\">EulerProducts.PNT</a>.</p>\n<p>I'll work on polishing this next (but will be considerbly slower next week, working on a non-Lean project while visiting Basel). Once I'm done with it, we can discuss how to best integrate it with PNT+.</p>",
        "id": 477907598,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729440830
    },
    {
        "content": "<p>That's great!  We are now really close to formalizing the infinitude of primes in primitive residue classes (missing theorem 48 in <a href=\"https://leanprover-community.github.io/100-missing.html\">https://leanprover-community.github.io/100-missing.html</a>).  I'll add some content to the \"elementary corollaries\" portion of the blueprint to get to there from Theorem 2 (this is all \"obvious\" and \"routine\", but needs some very slightly tricky manipulation with asymptotic error terms etc.; fortunately we already did this for the vanilla prime number theorem, so hopefully it won't be too challenging to adapt to progressions).</p>",
        "id": 477907970,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729441163
    },
    {
        "content": "<p>Minor comment: I like how one can take advantage of the \"junk definition\" <code>0⁻¹ = 0</code> to simplify <code>(starRingEnd ℂ) (χ a)</code> to <code>(χ a)⁻¹</code> in your formalization.  This goes against my mathematical training, but certainly makes sense from a Lean standpoint!</p>",
        "id": 477908233,
        "sender_full_name": "Terence Tao",
        "timestamp": 1729441378
    },
    {
        "content": "<p>I'm assuming <code>IsUnit a</code>, so everything is mathematically correct (and the spelling <code>χ a⁻¹</code> with <code>a : ZMod q</code> seems to be the most convenient one to work with; no need for <code>starRingEnd</code>).</p>",
        "id": 477912452,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729445167
    },
    {
        "content": "<p>The only little thing I stumbled over was that  <code>IsUnit a → IsUnit a⁻¹</code> does not seem to be a one-liner for <code>a : ZMod q</code>...</p>",
        "id": 477912540,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729445269
    }
]