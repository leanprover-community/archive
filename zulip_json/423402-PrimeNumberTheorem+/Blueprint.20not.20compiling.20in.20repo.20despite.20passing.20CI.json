[
    {
        "content": "<p>In the last few PRs, CI checks (including building the blueprint) have passed, but when the PR is merged, the building of the blueprint returns a bunch of warnings followed by the following technical-looking error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">7373</span><span class=\"bp\">/</span><span class=\"mi\">7373</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"bp\">/</span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"o\">:</span><span class=\"n\">docs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">8.8</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Documentation</span><span class=\"w\"> </span><span class=\"n\">indexing</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">.&gt;</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">runner</span><span class=\"bp\">/</span><span class=\"n\">work</span><span class=\"bp\">/</span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"bp\">/</span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"c1\">--build /home/runner/work/PrimeNumberTheoremAnd/PrimeNumberTheoremAnd/docbuild/.lake/build</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">runner</span><span class=\"bp\">/</span><span class=\"n\">work</span><span class=\"bp\">/</span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"bp\">/</span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"bp\">/</span><span class=\"n\">docbuild</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">doc</span><span class=\"bp\">/</span><span class=\"n\">references</span><span class=\"bp\">.</span><span class=\"n\">bib</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">targets</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"bp\">/</span><span class=\"n\">PrimeNumberTheoremAnd</span><span class=\"o\">:</span><span class=\"n\">docs</span>\n</code></pre></div>\n<p>This does not seem to be a LaTeX issue but something to do with the repository file system perhaps?  Is this something that will resolve itself, or does it need debugging?</p>",
        "id": 567044324,
        "sender_full_name": "Terence Tao",
        "timestamp": 1767911558
    },
    {
        "content": "<p>Yes, I remember several occasions when CI built with a checkmark, but then when I merged, the build failed. Presumably this means I've set up CI in the wrong way? I'll ask <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> to help with this, too, when we meet tomorrow...</p>",
        "id": 567050270,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1767915304
    },
    {
        "content": "<p>No, the setup is fine. You’re not seeing docs-related issues on PR events simply because the relevant job step does not build the docs for pull requests for obvious time reasons.</p>",
        "id": 567054151,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767918311
    },
    {
        "content": "<p>Oh, it's due to this recent change in <code>docgen-action</code> <a href=\"https://github.com/leanprover-community/docgen-action/pull/15\">https://github.com/leanprover-community/docgen-action/pull/15</a>. </p>\n<p>Let me fix it.</p>",
        "id": 567059948,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767922726
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"687698\">@Chris Henson</span> Is this the intended behaviour?</p>",
        "id": 567061839,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767924380
    },
    {
        "content": "<p>Fixed btw <a href=\"https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/actions/runs/20838759059/job/59868700298\">https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/actions/runs/20838759059/job/59868700298</a></p>",
        "id": 567064216,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767926297
    },
    {
        "content": "<p>Not intentional, sorry! I'm not sure I understand exactly caused the error here. What I added to the action should just copy <code>references.bib</code>, if it exists, to the location <code>docgen</code> expects. Is there some logic I missed, maybe an interaction with the blueprint?</p>",
        "id": 567066056,
        "sender_full_name": "Chris Henson",
        "timestamp": 1767928091
    },
    {
        "content": "<p>What happens if there isn't any <code>references.bib</code> anywhere?</p>",
        "id": 567066101,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767928141
    },
    {
        "content": "<p>The \"fix\" was to specify a path...</p>",
        "id": 567066119,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767928153
    },
    {
        "content": "<p>There is a check in the action to see if the file exists, the intent is that nothing happens in this case.</p>",
        "id": 567066360,
        "sender_full_name": "Chris Henson",
        "timestamp": 1767928392
    },
    {
        "content": "<p>It doesn't seem to behave as expected, but I couldn't look into it carefully</p>",
        "id": 567066424,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767928455
    },
    {
        "content": "<p>I'll look into it closer, sorry for the trouble!</p>",
        "id": 567066483,
        "sender_full_name": "Chris Henson",
        "timestamp": 1767928515
    },
    {
        "content": "<p>Thanks. No problem.</p>",
        "id": 567066505,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1767928534
    }
]