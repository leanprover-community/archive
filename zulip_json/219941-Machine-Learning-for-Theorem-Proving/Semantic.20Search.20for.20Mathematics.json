[
    {
        "content": "<p>I was talking to someone recently and I mentioned how Terry Tao has been asking for some sort of \"semantic search\" for mathematics for over a decade now.  I'm trying to dig up some old posts of his on the topic.  The idea is that ideally you should be able to ask a mathematical search engine for a formula or a statement and it should be able to tell you if it is already in the literature.  Obviously, you don't just want something which is an exact word for word (or symbol for symbol) match, but also you don't want something which looks similar but is totally not semantically related.  I wonder what progress has been made on this over the last decade.  Is Google and Google Scholar still about as good as you can get?  (Of course Google has also improved over the last decade, but I still think this aspect is lacking.)  (Of course the best you can get is still talking to a human expert, which is what MathOverflow and other social networks excel at.)</p>",
        "id": 313724940,
        "sender_full_name": "Jason Rute",
        "timestamp": 1670094636
    },
    {
        "content": "<p>And of course Terry Tao isn't the only one who has talked about this.</p>",
        "id": 313724996,
        "sender_full_name": "Jason Rute",
        "timestamp": 1670094683
    },
    {
        "content": "<p>There was an interesting book written about a decade ago on the topic of this and generally building a mathematical digital library <a href=\"https://arxiv.org/pdf/1404.1905.pdf\">Developing a 21st Century Global Library for Mathematics Research</a>.  I was asked to be one of the (open) reviewers (because of some comments I left on Tao's blog on the subject).  Also, I didn't know who he was at the time, but Yann LeCun (a bigshot in neural networks) was one of the authors.  I'd be curious how the ideas have aged over the past decade.  It seemed like a hard problem then, and frankly it still seems hard, but maybe slightly more trackable.</p>",
        "id": 313726153,
        "sender_full_name": "Jason Rute",
        "timestamp": 1670095535
    },
    {
        "content": "<p>Some searching brought up <a href=\"https://approach0.xyz/search/\">https://approach0.xyz/search/</a>.  I've never heard of it before, I wonder if it is any good?</p>",
        "id": 313726312,
        "sender_full_name": "Jason Rute",
        "timestamp": 1670095643
    },
    {
        "content": "<p>It's impressive that it comes up with many non-exact matches when I <a href=\"https://approach0.xyz/search/?q=OR%20content%3A%24%7B%5Cfrac%20%7B1%7D%7B%5Cpi%20%7D%7D%3D%7B%5Cfrac%20%7B2%7B%5Csqrt%20%7B2%7D%7D%7D%7B99%5E%7B2%7D%7D%7D%5Csum%20_%7Bk%3D0%7D%5E%7B%5Cinfty%20%7D%7B%5Cfrac%20%7B(4k)!%7D%7Bk!%5E%7B4%7D%7D%7D%7B%5Cfrac%20%7B26390k%2B1103%7D%7B396%5E%7B4k%7D%7D%7D%24&amp;p=1\">searched for Ramanujan's formula for pi</a>.</p>",
        "id": 313766976,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1670132379
    },
    {
        "content": "<p>Looks like many are (1) change variable name (e.g. n vs k) (2) constant computation (e.g. 26390 vs 58*455), so looks like the engine understands LaTeX and maybe somehow parse it</p>",
        "id": 313767188,
        "sender_full_name": "Tom Chen",
        "timestamp": 1670132595
    },
    {
        "content": "<p>There are some discussion under <a href=\"https://terrytao.wordpress.com/2009/10/29/displaying-mathematics-on-the-web/#comment-42086\">Tao's blogpost</a> in 2009 but Tao didn't participate. There's <a href=\"https://terrytao.wordpress.com/2009/08/27/mathematical-research-and-the-internet/\">this talk</a> but not exactly relevant.</p>",
        "id": 313767274,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1670132670
    },
    {
        "content": "<p>Approach Zero's <a href=\"https://github.com/approach0/search-engine\">codebase</a> has been inactive for two years, but in <a href=\"https://github.com/approach0/math-dense-retrievers\">another repo</a> I found a <a href=\"https://arxiv.org/pdf/2203.11163v2.pdf\">fairly recent paper</a>.</p>",
        "id": 313767480,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1670132931
    },
    {
        "content": "<p>Some other services that comes to mind, though many are not for math specifically:<br>\n<a href=\"https://wayback.cecm.sfu.ca/projects/ISC/ISCmain.html\">Inverse symbolic calculator</a> (<a href=\"https://oeis.org/wiki/Plouffe%27s_Inverter\">fuzzy numerical search for mathematical constants</a>)<br>\n<a href=\"https://behemoth.cl.cam.ac.uk/search/\">SErAPIS</a> for Isabelle from the ALEXANDRIA project<br>\n<a href=\"https://arxiv-sanity-lite.com/about\">arxiv-sanity</a> (recommends new (machine learning) papers for each tag based on SVMs over tfidf features of paper abstracts)<br>\n<a href=\"https://www.semanticscholar.org/about\">Semantic Scholar</a> (I use it sparingly and only today learned it's backed by the Allen Institute for AI; another website I consider to be similar, <a href=\"https://www.researchgate.net/about\">ResearchGate</a>, doesn't brag about use of AI)<br>\nOf course there is also the recent <a href=\"https://galactica.org/mission/\">Galactica</a> which aims to <a href=\"https://galactica.org/explore/\">provide accurate citations</a> but only survived three days; apparently its hallucinations aren't controlled as well as ChatGPT.</p>",
        "id": 313768938,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1670134267
    },
    {
        "content": "<p>Here’s a paper I came across: <a href=\"https://dl.acm.org/doi/abs/10.1145/3394486.3403056\">https://dl.acm.org/doi/abs/10.1145/3394486.3403056</a></p>",
        "id": 313806126,
        "sender_full_name": "Tyler Josephson ⚛️",
        "timestamp": 1670159086
    },
    {
        "content": "<p>I was the one who was talking to Jason, by the way :) I'm new to this stuff and it really impressed me how the daily working process in a mathematician's life lacks some basic tooling that someone should be able to do. As an NLP Engineer, e. g. someone directly in the profession for making that sort of stuff, I had no idea that there is a need to semantic search in math papers. And given how Terry friggin Tao has been talking about that for a decade, there must be a crying need for it. Given the amazing recent breakthroughs in NLP with large pretrained LMs, there must be some new approaches that haven't been tried yet for this task. Would anyone be up for a big of messing around with LMs for math semantic search?</p>",
        "id": 314387171,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1670395753
    },
    {
        "content": "<p>btw, I just talked with an NLP guy who does semantic search and who'd be very interested in building semantic search for math - only we're not sure where to get the data. he also did code search, so maybe we can start with building better semantic search for mathlib? would you folks be interested?</p>",
        "id": 314428951,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1670410952
    },
    {
        "content": "<p>Here are some of my quick thoughts.</p>\n<p>A nice stepping stone on the way to a search engine for all mathematical knowledge might be a search engine for mathib only. This makes challenges of scale more manageable, and also makes UI/UX easier since we know the goal is always to find the user a formal statement. </p>\n<p>My immediate thought would be to train CLIP-style query-value embeddings. At inference time, we'd embed the user's query (which can be natural language, formal, or a mixture of the two), then use a fast nearest neighbors search to match the query embedding against pre-computed value embeddings of mathlib formal statements. Where would we get data? Well one thing we know is that Codex is really good at informalization, and when Codex fails, the prediction is still semantically similar to the correct answer. So we could informalize every theorem in mathlib with Codex, and those pairs give us 100k training examples. Similarly, we could prompt Codex to do other tasks than informalization, for example \"Use natural language connectives but mathlib names\" or \"copy the theorem statement but leave out some hypotheses\". This could get us millions of training examples. </p>\n<p>I don't know very much about deploying neural nets in synchronous applications, but I expect we'd be using a pretty small neural network and mathlib search volume is pretty low, so we might be able to serve this on a single cloud GPU. </p>\n<p>This neural net based approach might not scale to the entire internet, but if we want truly semantic search I don't think we can avoid somehow computing dense vector representations. But perhaps this approach could scale to arXiv + math overflow + stack exchange + journals + ebooks, which is maybe all that matters. </p>\n<p>Any thoughts <span class=\"user-mention\" data-user-id=\"240875\">@Yuhuai Tony Wu</span>? This modelling approach is somewhat similar to your team's work on premise selection.</p>",
        "id": 314773490,
        "sender_full_name": "Zhangir Azerbayev",
        "timestamp": 1670534248
    },
    {
        "content": "<p>I think both a) code search over entire mathlib and b) semantic search over arXiv + math overflow + stack exchange + journals + ebooks would be something worth exploring! Let me ping the guy who does semantic search and code search and who was interested in exploring semantic search for math, and see what he thinks</p>",
        "id": 314837509,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1670573143
    },
    {
        "content": "<p>Maybe you should first ask in the <a class=\"stream\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general\">#general</a> or <a class=\"stream\" data-stream-id=\"116395\" href=\"/#narrow/stream/116395-maths\">#maths</a> stream to gather a requirement document or something. From my own experience, I find the mathlib docs search box easy enough to use, and I never use <code>library_search</code>.</p>",
        "id": 315444815,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1670873790
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"284997\">Zhangir Azerbayev</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/314773490\">said</a>:</p>\n<blockquote>\n<p>My immediate thought would be to train CLIP-style query-value embeddings.</p>\n</blockquote>\n<p>consider trying <a href=\"https://openai.com/blog/new-and-improved-embedding-model/\">https://openai.com/blog/new-and-improved-embedding-model/</a> before training your own</p>",
        "id": 316108511,
        "sender_full_name": "Daniel Selsam",
        "timestamp": 1671128258
    },
    {
        "content": "<p>Just found this: <a href=\"https://lablab.ai/event/semantic-search-hackathon\">https://lablab.ai/event/semantic-search-hackathon</a> . Starting tomorrow!</p>",
        "id": 316186280,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1671164587
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/316186280\">said</a>:</p>\n<blockquote>\n<p>Just found this: <a href=\"https://lablab.ai/event/semantic-search-hackathon\">https://lablab.ai/event/semantic-search-hackathon</a> . Starting tomorrow!</p>\n</blockquote>\n<p>Any indication there will be people focused on Lean?</p>",
        "id": 316224001,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1671184333
    },
    {
        "content": "<p>Hey guys, sorry for disappearing. I was actually thinking I pull you in a call with the semantic search guy? You'd probably help us clarify the use cases for the math semantic search, and we could think together which way to attack the problem, and what can be done? Would you guys be up for a call?</p>",
        "id": 316235544,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1671188039
    },
    {
        "content": "<p>Why doesn't the semantic search guy join the discussion here on zulip?</p>",
        "id": 316250551,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1671192880
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"573272\">@Vladimir Orshulevich</span> hey man, this is the Zulip community of the Lean theorem prover, these folks are also interested in semantic search for math. We had a little chat about that, you can see it above. Wanna train a model or something?</p>",
        "id": 316257596,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1671194982
    },
    {
        "content": "<p>The conference at IPAM in Feb on machines and mathematics organised by Terry Tao, Tim Gowers and various people from this Zulip will have a fair bit of lean representation and that very conference is happening because Tao is interested in semantic search in mahematics</p>",
        "id": 316258251,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1671195178
    },
    {
        "content": "<p>Btw, can you share use cases for the semantic search, maybe with example queries and responses?</p>\n<p>We wanna have an understanding of the goal, and to decide which data to use. (arxiv papers? code search over mathlib?)</p>",
        "id": 316270342,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1671198424
    },
    {
        "content": "<p>Hey guys,</p>\n<p>Great to be here and have a chance to help with semantic search engine for math!</p>\n<p>Following the conversation: <br>\n\"ada-002\" from openAI is cool, but it is paid api. So mb it is reasonable to try it for testing proof-of-concept. But for search service like that I suggest to fine-tune some Salesforce/codegen-{350M, 2B, 6B, 16B}-multi on some pairs . It is pre-trained in similar way. So the problem here is data, everything else I probably know how to implement.</p>\n<p>\"single cloud GPU\"<br>\nI've made text-visual and text-audio search services with HNSW index. It's 4-5K qps (inference + search) for single RTX3090 (probably twice with A100). I hope its enough to test. Even though its horizontally scalable.</p>",
        "id": 316273190,
        "sender_full_name": "Vladimir Orshulevich",
        "timestamp": 1671199116
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"568200\">Vadim Fomin</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/316270342\">said</a>:</p>\n<blockquote>\n<p>Btw, can you share use cases for the semantic search, maybe with example queries and responses?</p>\n<p>We wanna have an understanding of the goal, and to decide which data to use. (arxiv papers? code search over mathlib?)</p>\n</blockquote>\n<p>Here is an example of a question I asked chatGPT which it answered incorrectly:</p>\n<ul>\n<li>Is it true that every smooth, closed manifold of dimension at least 3 admits a metric with negative Ricci curvature?</li>\n</ul>",
        "id": 316286128,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671202520
    },
    {
        "content": "<p>This is a deep theorem. Semantic search should find it.</p>",
        "id": 316286186,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671202540
    },
    {
        "content": "<p>Another that I asked chatGPT and it answered incorrectly (answered the wrong question and justified with incorrect logic).</p>\n<ul>\n<li>What are examples of knots that are known not to be <em>ribbon</em> but which may be <em>slice</em>?</li>\n</ul>\n<p>For this discussion it does not matter what these mean - they are some properties of knots.</p>",
        "id": 316286541,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671202640
    },
    {
        "content": "<p>chatGPT answered giving examples of knots that are known not to be <em>slice</em> instead. Then claimed it is not known whether they are <em>ribbon</em>.</p>",
        "id": 316286909,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671202760
    },
    {
        "content": "<p>By the result that all <em>ribbon</em> knots are <em>slice</em>, those that are not <em>slice</em> are not <em>ribbon</em>. This is not only a well-known result, but one which <em>chatGPT had stated as background material when answering</em>.</p>",
        "id": 316287241,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671202857
    },
    {
        "content": "<blockquote>\n<p>Is it true that every smooth, closed manifold of dimension at least 3 admits a metric with negative Ricci curvature?</p>\n</blockquote>\n<p>Googling \"admit negative ricci curvature\" returns the paper of Lohkamp as the first result, which states the result for three-manifolds in the introduction (due to Gao--Yau and Brooks), and the result for dimension &gt;=3 (proven in the paper) is on the second page, but the article is behind JSTOR paywall beyond the first page. I wonder whether Galactica has been trained on sci-hub database ... May need to OCR as well. This info is also avaiable in a <a href=\"https://math.stackexchange.com/a/2903036/12932\">math.SE answer</a> though.</p>\n<blockquote>\n<p>What are examples of knots that are known not to be ribbon but which may be slice?</p>\n</blockquote>\n<p>I looked up Knot Atlas and KnotInfo but ribbon-ness seems not to be a field in their databases, so you have to get the information elsewhere (papers and online discussions?).</p>",
        "id": 316299850,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1671206109
    },
    {
        "content": "<p>It is in <a href=\"https://en.wikipedia.org/wiki/Ribbon_knot\">wikipedia</a> including the slice-ribbon conjecture.</p>",
        "id": 316405493,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671255947
    },
    {
        "content": "<p>Another example of a question:  what is known about the traces of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">2 \\times 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span> matrices with integer coefficients with determinant 1</p>",
        "id": 316405579,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671256035
    },
    {
        "content": "<p>What is known? Presumably the trace can be any integer? Yeah [n,1;-1,0]</p>",
        "id": 316419581,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1671267239
    },
    {
        "content": "<p>Isn't this a calculation/construction rather than something that you can find on the internet? Should one expect an AI to be able to solve this?</p>",
        "id": 316419686,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1671267287
    },
    {
        "content": "<p>I asked too simple a question. I believe what I meant to ask was the relation between the traces of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span> and the commutator <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>B</mi><msup><mi>A</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><msup><mi>B</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">ABA^{-1}B^{-1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span> having determinant 1.</p>",
        "id": 316423110,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671269234
    },
    {
        "content": "<p>And an AI is supposed to be able to answer this?</p>",
        "id": 316428117,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1671271794
    },
    {
        "content": "<p>I don't really know what's in scope</p>",
        "id": 316428210,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1671271820
    },
    {
        "content": "<p>An AI is supposed to find papers/books that address this question, and even the statements of theorems within them. That is essentially the definition of \"semantic search\"</p>",
        "id": 316466045,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1671287119
    },
    {
        "content": "<p>AI is not there yet afaik.</p>",
        "id": 316507597,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1671309064
    },
    {
        "content": "<p>here's an example for semantic search: \"what theorems can tell me when a bunch of lines from the vertices of a triangle to the opposite side intersect?\" this is basically an elementary geometry question. it's a bit too advanced for chatgpt, which answers:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">There</span> <span class=\"n\">are</span> <span class=\"n\">several</span> <span class=\"n\">theorems</span> <span class=\"n\">that</span> <span class=\"n\">pertain</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">intersection</span> <span class=\"n\">of</span> <span class=\"n\">lines</span> <span class=\"n\">drawn</span> <span class=\"k\">from</span> <span class=\"n\">the</span> <span class=\"n\">vertices</span> <span class=\"n\">of</span> <span class=\"n\">a</span> <span class=\"n\">triangle</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side.</span> <span class=\"n\">Here</span> <span class=\"n\">are</span> <span class=\"n\">three</span> <span class=\"n\">such</span> <span class=\"n\">theorems</span><span class=\"o\">:</span>\n\n<span class=\"n\">The</span> <span class=\"n\">Angle</span> <span class=\"n\">Bisector</span> <span class=\"n\">Theorem</span> <span class=\"n\">states</span> <span class=\"n\">that</span> <span class=\"k\">in</span> <span class=\"n\">any</span> <span class=\"n\">triangle</span><span class=\"o\">,</span> <span class=\"n\">the</span> <span class=\"n\">line</span> <span class=\"n\">segment</span> <span class=\"n\">drawn</span> <span class=\"k\">from</span> <span class=\"n\">a</span> <span class=\"n\">vertex</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">midpoint</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side</span> <span class=\"n\">is</span> <span class=\"n\">bisected</span> <span class=\"kd\">by</span> <span class=\"n\">the</span> <span class=\"n\">angle</span> <span class=\"n\">bisector</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">angle</span> <span class=\"n\">at</span> <span class=\"n\">that</span> <span class=\"n\">vertex.</span> <span class=\"n\">This</span> <span class=\"n\">means</span> <span class=\"n\">that</span> <span class=\"n\">the</span> <span class=\"n\">line</span> <span class=\"n\">segment</span> <span class=\"n\">is</span> <span class=\"n\">divided</span> <span class=\"n\">into</span> <span class=\"n\">two</span> <span class=\"n\">equal</span> <span class=\"n\">parts</span> <span class=\"kd\">by</span> <span class=\"n\">the</span> <span class=\"n\">angle</span> <span class=\"n\">bisector.</span>\n\n<span class=\"n\">The</span> <span class=\"n\">Median</span> <span class=\"n\">Theorem</span> <span class=\"n\">states</span> <span class=\"n\">that</span> <span class=\"k\">in</span> <span class=\"n\">any</span> <span class=\"n\">triangle</span><span class=\"o\">,</span> <span class=\"n\">the</span> <span class=\"n\">line</span> <span class=\"n\">segment</span> <span class=\"n\">drawn</span> <span class=\"k\">from</span> <span class=\"n\">a</span> <span class=\"n\">vertex</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">midpoint</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side</span> <span class=\"n\">is</span> <span class=\"n\">twice</span> <span class=\"n\">as</span> <span class=\"n\">long</span> <span class=\"n\">as</span> <span class=\"n\">the</span> <span class=\"n\">line</span> <span class=\"n\">segment</span> <span class=\"n\">drawn</span> <span class=\"k\">from</span> <span class=\"n\">the</span> <span class=\"n\">midpoint</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">midpoint</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">triangle.</span>\n\n<span class=\"n\">The</span> <span class=\"n\">Altitude</span> <span class=\"n\">Theorem</span> <span class=\"n\">states</span> <span class=\"n\">that</span> <span class=\"k\">in</span> <span class=\"n\">any</span> <span class=\"n\">triangle</span><span class=\"o\">,</span> <span class=\"n\">the</span> <span class=\"n\">line</span> <span class=\"n\">drawn</span> <span class=\"k\">from</span> <span class=\"n\">a</span> <span class=\"n\">vertex</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side</span> <span class=\"n\">is</span> <span class=\"n\">perpendicular</span> <span class=\"n\">to</span> <span class=\"n\">that</span> <span class=\"n\">side.</span> <span class=\"n\">This</span> <span class=\"n\">means</span> <span class=\"n\">that</span> <span class=\"n\">the</span> <span class=\"n\">line</span> <span class=\"n\">forms</span> <span class=\"n\">a</span> <span class=\"n\">right</span> <span class=\"n\">angle</span> <span class=\"k\">with</span> <span class=\"n\">the</span> <span class=\"n\">side.</span>\n\n<span class=\"n\">These</span> <span class=\"n\">theorems</span> <span class=\"n\">can</span> <span class=\"n\">help</span> <span class=\"n\">you</span> <span class=\"n\">understand</span> <span class=\"n\">the</span> <span class=\"n\">relationship</span> <span class=\"n\">between</span> <span class=\"n\">the</span> <span class=\"n\">lines</span> <span class=\"n\">drawn</span> <span class=\"k\">from</span> <span class=\"n\">the</span> <span class=\"n\">vertices</span> <span class=\"n\">of</span> <span class=\"n\">a</span> <span class=\"n\">triangle</span> <span class=\"n\">to</span> <span class=\"n\">the</span> <span class=\"n\">opposite</span> <span class=\"n\">side</span> <span class=\"n\">and</span> <span class=\"n\">how</span> <span class=\"n\">they</span> <span class=\"n\">intersect.</span>\n</code></pre></div>\n<p>none of those are really a direct answer to the question, a better answer i think would be Ceva's theorem - <a href=\"https://en.wikipedia.org/wiki/Ceva%27s_theorem\">https://en.wikipedia.org/wiki/Ceva%27s_theorem</a> . I bet you could come up with a corpus of questions like this, that could be answered by wikipedia pages. the goal of the semantic search system isn't to directly solve the problem, but just to correctly figure out which pages are the relevant ones, in a way that's better than just googling can do.</p>",
        "id": 316832421,
        "sender_full_name": "Kevin Lacker",
        "timestamp": 1671484449
    },
    {
        "content": "<p>Thanks for these explanations: I have a much better understanding of what this phrase means now!</p>",
        "id": 316854782,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1671494972
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"238605\">@Kevin Lacker</span> Interestingly, if you pose this question to <a href=\"http://perplexity.ai\">perplexity.ai</a>, it is able to retrieve Ceva's theorem (<a href=\"https://www.perplexity.ai/?uuid=94ccba12-5e6a-4f3f-b587-e5877fae8bf7\">https://www.perplexity.ai/?uuid=94ccba12-5e6a-4f3f-b587-e5877fae8bf7</a>). Though its reference of SSS doesn't make sense in context</p>",
        "id": 317079264,
        "sender_full_name": "Sid",
        "timestamp": 1671594290
    },
    {
        "content": "<p>Hey folks,<br>\nWe have A LOT of arxiv data, but we'd also like to include some math books in the dataset, it would probably make the search more relevant. Do you have any idea where we could scrape some?</p>",
        "id": 318956775,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1672650931
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"568200\">Vadim Fomin</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/318956775\">said</a>:</p>\n<blockquote>\n<p>Hey folks,<br>\nWe have A LOT of arxiv data, but we'd also like to include some math books in the dataset, it would probably make the search more relevant. Do you have any idea where we could scrape some?</p>\n</blockquote>\n<p>Library Genesis and SciHub.</p>",
        "id": 318958520,
        "sender_full_name": "Patrick Johnson",
        "timestamp": 1672651750
    },
    {
        "content": "<p>A nice suggestion! Is there any chance there is anything open-source (with older books perhaps?)</p>",
        "id": 318963120,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1672653936
    },
    {
        "content": "<p>Stacks Project and Kerodon are open source.</p>",
        "id": 318964205,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1672654413
    },
    {
        "content": "<p>Both look like exactly the kind of thing we're looking for. You see, arxiv papers are nice because there is markup like \"Theorem 1\", \"Lemma 2\", and before them, there's some kind of a less formal explanation what's going on (\"Let's introduce this idea\", \"This theorem connects this to that\" etc.) - this is likely to be very useful for the semantic search engine. We'd like to find books that are also in this format, there's probably more fundamental stuff that would be good to be able to look up. And both Stacks Project and Kerodon look good for this, only we'd need rather <em>a lot</em>...</p>",
        "id": 318966086,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1672655193
    },
    {
        "content": "<p><a href=\"https://github.com/rfitzp/Elements\">https://github.com/rfitzp/Elements</a></p>",
        "id": 319036181,
        "sender_full_name": "Kaiyu Yang",
        "timestamp": 1672683405
    },
    {
        "content": "<p>Project Gutenberg has some math books, e.g. <a href=\"https://www.gutenberg.org/ebooks/search/?query=number+theory&amp;submit_search=Go%21\">in number theory</a>; not in nice format though</p>\n<p>EGA/SGA (algebraic geometry, French): <a href=\"https://github.com/zmwangx/Typeset-EGA-SGA\">typeset version</a> (<a href=\"https://github.com/dkmiller\">Dan Miller</a> should have the SGA TeX source) / <a href=\"https://wstein.org/sga/\">scanned version</a> (may be partially superseded by the Stacks project)</p>\n<p><a href=\"https://www.jmilne.org/math/\">J.S. Milne's books and notes</a> in PDF but I guess you can ask him for TeX source</p>\n<p>Terry Tao's blogposts were made into several <a href=\"https://terrytao.wordpress.com/books/\">books</a>, so you might as well scrape his blog</p>\n<p><a href=\"https://math.uchicago.edu/~dannyc/books/\">Danny Calegari</a> (low-dimensional topology)</p>\n<p><a href=\"https://web.archive.org/web/20221202172146/https://math.jhu.edu/~eriehl/\">Emily Riehl</a> (site down at the moment)</p>\n<p><a href=\"https://www.math.ias.edu/~lurie/\">Jacob Lurie's books</a> (are they subsumed by Kerodon?)</p>",
        "id": 319109080,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1672704847
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/319109080\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://www.math.ias.edu/~lurie/\">Jacob Lurie's books</a> (are they subsumed by Kerodon?)</p>\n</blockquote>\n<p>They are not (yet).</p>",
        "id": 319153036,
        "sender_full_name": "Reid Barton",
        "timestamp": 1672737642
    },
    {
        "content": "<p>I whipped up a quick demo of mathlib search using the openai embeddings + fast kNN search using Faiss. </p>\n<p><a href=\"https://github.com/zhangir-azerbayev/mathlib-semantic-search\">https://github.com/zhangir-azerbayev/mathlib-semantic-search</a></p>\n<p>Right now the demo requires you to download ~800mb of pre-computed mathlib embeddings and pay $0.0004 per 1K query tokens. </p>\n<p><span class=\"user-mention\" data-user-id=\"121918\">@Edward Ayers</span> is working on a website with a nice UI that hosts this on the cloud and collects feedback about search results. If the openai embeddings work really well, we could think about integrating them into the mathlib docs and embedding other databases. Even if they don't, we could use the user feedback to create a challenging evaluation set for mathlib semantic search, hopefully with many examples like the one <span class=\"user-mention\" data-user-id=\"238605\">@Kevin Lacker</span> gave.</p>",
        "id": 319598614,
        "sender_full_name": "Zhangir Azerbayev",
        "timestamp": 1672929286
    },
    {
        "content": "<p><a href=\"https://twitter.com/tomtumiel/status/1611729847700570118\">https://twitter.com/tomtumiel/status/1611729847700570118</a></p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/tomtumiel/status/1611729847700570118\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/03a427970dfb51fa008b09390b93689c5d3c0b8c/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313534343336303532343034393137303433332f5a4b583042426b4e5f6e6f726d616c2e6a7067\"></a><p>Just built a new website called <a href=\"https://t.co/BqTBR6VsJH\">https://arxivxplorer.com</a>\nIt's a semantic search engine for arXiv papers, and it uses <a href=\"https://twitter.com/OpenAI\">@OpenAI</a>'s latest embedding model to find the most relevant papers for your search queries.</p><span>- Tom Tumiel (@tomtumiel)</span></div></div>",
        "id": 320896814,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1673517834
    },
    {
        "content": "<p>Can you show an example prompt that finds a relevant paper but keyword search fails?</p>",
        "id": 320918916,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1673524509
    },
    {
        "content": "<p>I'm a bit confused as to what this actually does... Anyway, I can't seem to find any search query where the results are meaningful.<br>\nFor example, searching \"prismatic cohomology\" doesn't even return <a href=\"https://arxiv.org/abs/1905.08229\">arxiv#1905.08229</a></p>",
        "id": 321267865,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1673648094
    },
    {
        "content": "<p>(which is the first google result)</p>",
        "id": 321269015,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1673648571
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/321267865\">said</a>:</p>\n<blockquote>\n<p>I'm a bit confused as to what this actually does... Anyway, I can't seem to find any search query where the results are meaningful.<br>\nFor example, searching \"prismatic cohomology\" doesn't even return <a href=\"https://arxiv.org/abs/1905.08229\">arxiv#1905.08229</a></p>\n</blockquote>\n<p>The author doesn't seem to say that explicitly but it <a href=\"https://twitter.com/tomtumiel/status/1612203835325403141\">possibly</a> only embeds papers in the <code>cs.xyz</code> categories. In a search for \"cohomology\", all results are tagged with <code>cs.something</code>.</p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/tomtumiel/status/1612203835325403141\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/03a427970dfb51fa008b09390b93689c5d3c0b8c/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313534343336303532343034393137303433332f5a4b583042426b4e5f6e6f726d616c2e6a7067\"></a><p><a href=\"https://twitter.com/IntuitMachine\">@IntuitMachine</a> <a href=\"https://twitter.com/OpenAI\">@OpenAI</a> It was $40 to embed all the papers in the CS category (about 500k papers)</p><span>- Tom Tumiel (@tomtumiel)</span></div></div>",
        "id": 321271783,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1673649809
    },
    {
        "content": "<p>Yeah, if I put <a href=\"https://arxiv.org/abs/1905.08229\">https://arxiv.org/abs/1905.08229</a> into the search box it says it isn't indexed. Sorry for the noise!</p>",
        "id": 321274635,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1673651058
    },
    {
        "content": "<p>How many papers are in <code>math</code>? I assume more than 500k?</p>",
        "id": 321277032,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1673652168
    },
    {
        "content": "<p>Initially I was happy because when I asked it for curvature on graphs it gave very good answers. But then I asked it Riemannian Geometry stuff and it still kept giving curvature on graphs. Looks like CS related stuff overwhelms it.</p>\n<p>Seems that filtering by subject area should improve it a lot.</p>",
        "id": 321338821,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1673695361
    },
    {
        "content": "<p>I modified my semantic search code to use a way better prompting strategy. Instead of directly embedding the user's input, I'm using Codex to try to autoformalize the user input, then embedding \"/-- {user input} -/ \\n{codex autoformalization}\". Btw, the website is almost done :)</p>",
        "id": 323603906,
        "sender_full_name": "Zhangir Azerbayev",
        "timestamp": 1674689446
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span> Here's what I got from searching prismatic cohomology on <a href=\"http://elicit.org\">elicit.org</a>: <a href=\"/user_uploads/3121/W63yOxR0IR9p1EdDd19HaZl2/image.png\">image.png</a><br>\nBhatt--Scholze appears as the 6th result.<br>\nThis website seems more oriented towards experimental science, though:<br>\n<a href=\"/user_uploads/3121/vQlYh89PmG2-BTZVk8gWMkKQ/image.png\">image.png</a><br>\n<a href=\"/user_uploads/3121/ZyiWnKTqSJsKW5amQCJv5uV0/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/W63yOxR0IR9p1EdDd19HaZl2/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/W63yOxR0IR9p1EdDd19HaZl2/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/vQlYh89PmG2-BTZVk8gWMkKQ/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/vQlYh89PmG2-BTZVk8gWMkKQ/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ZyiWnKTqSJsKW5amQCJv5uV0/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/ZyiWnKTqSJsKW5amQCJv5uV0/image.png\"></a></div>",
        "id": 339602735,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1677957310
    },
    {
        "content": "<p>I just discovered that there are now several products that embed a whole paper in PDF format and then allow you to chat with it:</p>\n<p><a href=\"https://www.chatpdf.com/\">ChatPDF</a><br>\n<a href=\"https://twitter.com/mukul0x/status/1625673579399446529\">researchGPT</a> (open-source, requires OpenAI API key)<br>\n<a href=\"https://www.explainpaper.com/\">Explainpaper</a> (which I tried, see below)<br>\n<a href=\"https://twitter.com/elicitorg\">Elicit</a> (a bigger product) <a href=\"https://www.youtube.com/channel/UCg5fl1Ht965Me_KuV84XFwg/videos\">Demos</a></p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/mukul0x/status/1625673579399446529\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/2285211d05445809e9c5ef30e1c53cccd51d9e82/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313631343932353231363438333739343934342f4144656362556d635f6e6f726d616c2e6a7067\"></a><p>Introducing researchGPT\n\nAn open-source LLM based research assistant that allows you to have a conversation with a research paper!\n\nIt’s a simple flask app that uses embeddings + gpt-3 to search through the paper and answer questions\n\nTry the demo here: <a href=\"https://t.co/1DhE7PZ6AY\">http://tinyurl.com/researchgpt</a> <a href=\"https://t.co/J1tx1krEqi\">https://twitter.com/mukul0x/status/1625673579399446529/video/1</a></p><span>- mukul (@mukul0x)</span></div></div><p>Maybe we can chat with mathlib as well, using the already computed embeddings?</p>",
        "id": 339603160,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1677957547
    },
    {
        "content": "<p>If we can make a mathlibchat web page that would be super-cool, even if it was mostly rubbish. A lot of what chatGPT produces is rubbish and yet it still continues to be a thing.</p>",
        "id": 339606370,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1677959581
    },
    {
        "content": "<p>Here are my interactions with Explainpaper around a paper by myself with <span class=\"user-mention\" data-user-id=\"464700\">@David Ang</span>. Apparently, the outputs are generated from semantic searches within the paper. My impression is that the model has an okay understanding of the paper provided to it, and is apparently able to integrate knowledge already present in the model (about mathlib, namespaces, famous mathematical objects or theorems) with new knowledge from the paper, and decipher unexplained acronym (DKA), but sometimes it makes too much connection (class_group pic 1), confuses about relationship between concepts (class_group pic 2, division polynomials), or misunderstands (Friedl's original argument). If the searched word isn't explained in the paper, it may instead output a summary of the whole paper, as in the case of \"Borcherds\", possibly because the search returns no close match.</p>\n<p><a href=\"/user_uploads/3121/-CiQFZ3y9oEC5ovQDrwjfcPH/image.png\">image.png</a>  <a href=\"/user_uploads/3121/-aAOxil4Axfz6S27VZHgtl8f/image.png\">image.png</a>  <a href=\"/user_uploads/3121/Ry6pHn6nOkSDufF7slqBwKfk/image.png\">image.png</a>  <a href=\"/user_uploads/3121/gbaBzFsuqU8WuFx9bIEU-auY/image.png\">image.png</a>  <a href=\"/user_uploads/3121/OGwuTUmG6EQGoVojqHmQIIe_/image.png\">image.png</a>  <a href=\"/user_uploads/3121/YcNio1kyO0b4_M41NGuOrrsk/image.png\">image.png</a>  <br>\n<a href=\"/user_uploads/3121/2s_7BGrddaOwzvAGypJEFuzF/image.png\">image.png</a>  <a href=\"/user_uploads/3121/_0VmXGPtMfzdTXzEIrVdAyat/image.png\">image.png</a> <a href=\"/user_uploads/3121/vAejUgEFBYyO9iNKWnyPn3JB/image.png\">image.png</a>  <a href=\"/user_uploads/3121/OT0kR63LFvA0qmFW5WHFPEeo/image.png\">image.png</a>  <a href=\"/user_uploads/3121/xqY_gU8tdJSkrz1BAldDiYx8/image.png\">image.png</a>  <a href=\"/user_uploads/3121/osnBmEJH-7pR8E5xXQLOICZG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/-CiQFZ3y9oEC5ovQDrwjfcPH/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/-CiQFZ3y9oEC5ovQDrwjfcPH/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/-aAOxil4Axfz6S27VZHgtl8f/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/-aAOxil4Axfz6S27VZHgtl8f/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Ry6pHn6nOkSDufF7slqBwKfk/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/Ry6pHn6nOkSDufF7slqBwKfk/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/gbaBzFsuqU8WuFx9bIEU-auY/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/gbaBzFsuqU8WuFx9bIEU-auY/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/OGwuTUmG6EQGoVojqHmQIIe_/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/OGwuTUmG6EQGoVojqHmQIIe_/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/YcNio1kyO0b4_M41NGuOrrsk/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/YcNio1kyO0b4_M41NGuOrrsk/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/2s_7BGrddaOwzvAGypJEFuzF/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/2s_7BGrddaOwzvAGypJEFuzF/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/_0VmXGPtMfzdTXzEIrVdAyat/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/_0VmXGPtMfzdTXzEIrVdAyat/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/vAejUgEFBYyO9iNKWnyPn3JB/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/vAejUgEFBYyO9iNKWnyPn3JB/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/OT0kR63LFvA0qmFW5WHFPEeo/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/OT0kR63LFvA0qmFW5WHFPEeo/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/xqY_gU8tdJSkrz1BAldDiYx8/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/xqY_gU8tdJSkrz1BAldDiYx8/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/osnBmEJH-7pR8E5xXQLOICZG/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/osnBmEJH-7pR8E5xXQLOICZG/image.png\"></a></div>",
        "id": 339607252,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1677960215
    },
    {
        "content": "<p>I haven't used the chat feature much yet, maybe you can think of nice questions to ask?</p>",
        "id": 339607611,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1677960458
    },
    {
        "content": "<p>Update: I tried ChatPDF and Explainpaper on another (machine learning) paper, and it turned out that ChatPDF is superior: no need to select text before being able to chat, and more accurate results retrieved.</p>\n<p><a href=\"https://twitter.com/dotey/status/1631760676388499460\">This flowchat</a> is roughly how Paul Graham GPT chat works, and likely also how ChatPDF works and how <a href=\"https://app.copilothub.co/home\">Copilot Hub</a> allows you to chat with Steve Jobs and Naval Ravikant. <a href=\"https://uxdesign.cc/i-built-an-ai-that-answers-questions-based-on-my-user-research-data-7207b052e21c\">This post</a> explains how to use <a href=\"https://gpt-index.readthedocs.io/en/latest/index.html\">LlamaIndex</a> to complete the entire workflow. Makes me wonder whether we can use the data from <a href=\"https://www.grothendieckcircle.org/\">https://www.grothendieckcircle.org/</a> to chat with Alexander Grothendieck.</p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/dotey/status/1631760676388499460\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/0a9e8eac7e4aa74be3d2fdc538347d51c3930a21/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f3536313038363931313536313733363139322f365f6735387645735f6e6f726d616c2e6a706567\"></a><p><a href=\"https://twitter.com/mckaywrigley\">@mckaywrigley</a> <a href=\"https://twitter.com/paulg\">@paulg</a> The whole flowchart should look like this if I understand it correctly. Thanks to <a href=\"https://twitter.com/chuangbo\">@chuangbo</a> for explaining it. <a href=\"https://t.co/5gxRxeqVMp\">https://twitter.com/dotey/status/1631760676388499460/photo/1</a></p><span>- 宝玉 (@dotey)</span><div class=\"twitter-image\"><a href=\"https://t.co/5gxRxeqVMp\"><img src=\"https://uploads.zulipusercontent.net/4b9bc8ec3f2611fb46f151169fb5bd12c8c281dc/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f46715574725f4157634141457957692e6a70673a7468756d62\"></a></div></div></div>",
        "id": 339656906,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1678003558
    },
    {
        "content": "<p>Actually, a more useful thing is to use all Zulip data to create a question-answering chatbot, which should be great in answering beginner questions if not more advanced ones. A lot of businesses were already building customer service bots using ChatGPT, and now the API is open.</p>\n<p>We have all data exported to <a href=\"https://github.com/leanprover-community/archive\">https://github.com/leanprover-community/archive</a> (it's one-month out of date though)</p>",
        "id": 339720677,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1678034406
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/339606370\">said</a>:</p>\n<blockquote>\n<p>If we can make a mathlibchat web page that would be super-cool, even if it was mostly rubbish. A lot of what chatGPT produces is rubbish and yet it still continues to be a thing.</p>\n</blockquote>\n<p>openai recently released the chatgpt api. Adding this as a layer on top of the mathlib semantic search demo would be pretty easy. If we're retrieving ground-truth mathlib declarations, the generating rubbish problem will be mitigated.</p>\n<p>I can try implementing this next week.</p>",
        "id": 340243386,
        "sender_full_name": "Zhangir Azerbayev",
        "timestamp": 1678236019
    },
    {
        "content": "<p>commercial solution emerged: <a href=\"https://sitegpt.ai/pricing\">https://sitegpt.ai/pricing</a></p>",
        "id": 346300206,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1680415647
    },
    {
        "content": "<p>I guess someone will make one of these for the arxiv (or one per top-level category).</p>",
        "id": 346341045,
        "sender_full_name": "Reid Barton",
        "timestamp": 1680434566
    },
    {
        "content": "<p>Very informative in-depth discussion of vector search/ranking solutions under this tweet: <a href=\"https://twitter.com/jobergum/status/1643187540222959616\">https://twitter.com/jobergum/status/1643187540222959616</a><br>\nAnd, it looks like Pinecone is something to avoid:<br>\n<a href=\"https://twitter.com/kishorelive/status/1646419766641295362?t=8pQPtaHL0trVnHg6zRLJLg\">https://twitter.com/kishorelive/status/1646419766641295362?t=8pQPtaHL0trVnHg6zRLJLg</a><br>\nPlus that it can't be run locally and you have to beware of traps:<br>\n<a href=\"https://twitter.com/Exploringfornow/status/1642633542189436929\">https://twitter.com/Exploringfornow/status/1642633542189436929</a></p>\n<div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/jobergum/status/1643187540222959616\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/bbeff802bba10ae5b891002b3bf129f870048ec6/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313234383032303132313337383930323031372f50743564647130395f6e6f726d616c2e6a7067\"></a><p>I see that the pgvector extension is mentioned more often in the context of embedding retrieval and semantic search \n\nWhat many seem to overlook is that IVF does not provide very good recall accuracy. \n\nAre people really happy with 50% recall for their LLM context retrieval? <a href=\"https://t.co/T1OF0dvhZ3\">https://twitter.com/DammianMiller/status/1642878642832429059</a></p><span>- Jo Kristian Bergum (@jobergum)</span></div></div><div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/kishorelive/status/1646419766641295362?t=8pQPtaHL0trVnHg6zRLJLg\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/7420f77f6a717bff82248fb8440af42a3b233750/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313631383835343039323638373936363230392f4248562d375463355f6e6f726d616c2e6a7067\"></a><p><a href=\"https://twitter.com/NirantK\">@NirantK</a> <a href=\"https://twitter.com/jobergum\">@jobergum</a> <a href=\"https://twitter.com/pinecone\">@pinecone</a> I would assume so based on language used. \n\n\"otherwise engage in competitive benchmarking; (iv) disclose the results of any benchmark test of the Hosted Services or the Materials to any third party without Pinecone’s prior written approval; \"\n\n<a href=\"https://t.co/AYh1D1dBzs\">https://www.pinecone.io/user-agreement/</a></p><span>- Kishore Nallan (@kishorelive)</span></div></div><div class=\"inline-preview-twitter\"><div class=\"twitter-tweet\"><a href=\"https://twitter.com/Exploringfornow/status/1642633542189436929\"><img class=\"twitter-avatar\" src=\"https://uploads.zulipusercontent.net/65016a27d27cc9d6c2976b042a5a53966434506e/68747470733a2f2f7062732e7477696d672e636f6d2f70726f66696c655f696d616765732f313632393634323737373338313232343434382f3534474a775937495f6e6f726d616c2e6a7067\"></a><p><a href=\"https://twitter.com/jaojiuu\">@jaojiuu</a> <a href=\"https://twitter.com/pinecone\">@pinecone</a> They charge for every single minute you have an index in your account… meaning from the moment you create an index to the moment you remove it.\n\nThey advise you switch your index to a collection if not in use, and then switch it back when needed; switching an index from a… <a href=\"https://t.co/j0CTrnXRjI\">https://twitter.com/i/web/status/1642633542189436929</a></p><span>- Yasir (@Exploringfornow)</span></div></div>",
        "id": 349209751,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1681419113
    },
    {
        "content": "<p>You can now chat with mathlib4 at <a href=\"https://wolfia.com/?projectId=bf92ba10-e8c4-4a23-800d-d12afaa98e5e\">https://wolfia.com/?projectId=bf92ba10-e8c4-4a23-800d-d12afaa98e5e</a><br>\n(I requested them to index the repo and it was done in one day)<br>\n<del>However it's almost totally unusable at this moment; looks like it's unable to retrieve anything useful. (I tried \"in which file is the parallelogram identity?\" \"... is the law of cosines?\") I suspect they didn't actually index any Lean file.</del> (This is now fixed! See below.)<br>\nIt works <a href=\"https://groups.google.com/g/sage-support/c/oy6WzNQWHmc\">reasonably well for Sage</a> but may be that's because the codebase is mostly Python (+ other common languages).</p>",
        "id": 371908249,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1688372052
    },
    {
        "content": "<p>Indeed the .lean files were not indexed, which is now fixed, and now Wolfia can generate pretty <a href=\"https://wolfia.com/?projectId=bf92ba10-e8c4-4a23-800d-d12afaa98e5e\">sensible answer</a>s. The files indexed include:<br>\n+-----------+-------+<br>\n| extension | count |<br>\n|-----------+-------|<br>\n| json      | 3     |<br>\n| lean      | 3496  |<br>\n| md        | 4     |<br>\n| py        | 9     |<br>\n| sh        | 11    |<br>\n| toml      | 1     |<br>\n| txt       | 1     |<br>\n| yaml      | 1     |<br>\n| yml       | 13    |<br>\n+-----------+-------+<br>\nAre there other files that should be indexed?</p>",
        "id": 372467044,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1688534599
    },
    {
        "content": "<p>LLM explaining mathlib naming convention :) <a href=\"https://wolfia.com/query/01H4J9RZKSXXX11GK57J041H56\">https://wolfia.com/query/01H4J9RZKSXXX11GK57J041H56</a><br>\nbut it's weird Wolfia isn't able to retrieve the lemma...</p>",
        "id": 372472116,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1688536570
    },
    {
        "content": "<p>It looks like there are still some bugs as I can't get Wolfia to find the parallelogram law / polarization identity / law of cosines. Suspecting the containing files aren't indexed and in contact with their CTO Naren. Note that Wolfia uses the open source <a href=\"https://twitter.com/narenmano/status/1674123664273428490\">vector database Milvus</a>.</p>",
        "id": 372653905,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1688575116
    },
    {
        "content": "<p>Today, I have been catching up on this topic.</p>\n<p>Before investing time on creating something was wondering if instead of chatting with a PDF by using ChatGPT plugins for such (<a href=\"https://pugin.ai/\">ref</a> - put <code>PDF</code> in search bar) if instead someone has tried using the LaTeX or TeX for the paper(s) and is working on such or made available?</p>\n<p>I found that using <a href=\"https://pugin.ai/p/chatocr\">ChatOCR</a> failed to interpret the typing rules from a PDF (<a href=\"https://community.openai.com/t/is-there-any-open-source-software-that-can-interpret-decipher-type-rules-in-a-pdf/291706\">ref</a>). </p>\n<p>So conducted a simple test to determine if ChatGPT could understand TeX for a paper containing <a href=\"https://en.wikipedia.org/wiki/Typing_rule\">typing rules</a>. When provided just the TeX code for the typing rules of the image to ChatGPT, it was able to generate a coherent reply (<a href=\"https://community.openai.com/t/how-to-extract-technical-expressions-from-pdfs-so-that-they-can-be-understood-by-ai/291808/19?u=ericgt\">ref</a>).\"</p>\n<p><a href=\"/user_uploads/3121/apf2Z5m460in1I4dq0D-UOK_/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/apf2Z5m460in1I4dq0D-UOK_/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/apf2Z5m460in1I4dq0D-UOK_/image.png\"></a></div><p><strong>Completion</strong></p>\n<blockquote>\n<p>The figure you provided presents a set of typing rules for the \\gpml type system. These rules define how different patterns and expressions are typed in the system. Let’s go through each rule:</p>\n<p>The first two rules state that a node or an arc literal with or without a label is typed as a node or an edge, respectively.</p>\n<p>The third rule states that if a variable x is not bound in the pattern (\\pat), then x can be restricted to a path and typed as a path (\\tpath).</p>\n<p>The fourth rule states that if a pattern \\pat is typed as z of type \\tau, then the pattern \\pat\\quantlit{n..m} is typed as z of type List(\\tau).</p>\n<p>The fifth and sixth rules deal with restricting patterns. If a pattern \\pat is typed as z of type \\tau, then the pattern \\restrictor\\ \\pat is also typed as z of type \\tau.</p>\n<p>The seventh rule states that if a pattern \\pat is typed as x of type \\tau, where \\tau is either a node or an edge, then the expression x.a=c is typed as a Boolean (\\tbool).</p>\n<p>The eighth rule states that if a pattern \\pat is typed as x of type \\tau and another pattern y is typed as y of type \\tau', where both \\tau and \\tau' are either nodes or edges, then the expression x.a=y.b is typed as a Boolean (\\tbool).</p>\n<p>The ninth, tenth, eleventh, and twelfth rules deal with Boolean operations. They state that if patterns or expressions \\pat and \\theta are typed as Boolean values, then the conjunction (\\wedge), disjunction (\\vee), negation (\\neg), and conditional (\\condlit{\\theta}) expressions are also typed as Booleans.</p>\n<p>The thirteenth rule states that if patterns \\pat_1 and \\pat_2 are both typed as z of type \\tau, then the pattern \\pat_1 + \\pat_2 is also typed as z of type \\tau.</p>\n<p>The fourteenth, fifteenth, and sixteenth rules deal with patterns that include optional values. They specify how patterns with optional values are typed based on the presence or absence of the value.</p>\n<p>The seventeenth, eighteenth, and nineteenth rules deal with concatenating patterns and expressions. They specify the typing for the concatenation operator (,). If patterns or expressions \\pat_1 and \\pat_2 are typed as z of type \\tau, then \\pat_1 \\, \\pat_2 is also typed as z of type \\tau. Additionally, if the variable z is not bound in either \\pat_1 or \\pat_2, then the typing remains the same.</p>\n<p>The twentieth, twenty-first, and twenty-second rules deal with concatenating queries (Q_1 and Q_2). They specify the typing for the concatenation operator (,). If queries Q_1 and Q_2 are both typed as z of type \\tau, then Q_1 , Q_2 is also typed as z of type \\tau. Additionally, if the variable z is not bound in either Q_1 or Q_2, then the typing remains the same.</p>\n<p>These rules define the typing behavior of various patterns and expressions in the \\gpml type system.</p>\n</blockquote>",
        "id": 374083113,
        "sender_full_name": "Eric Taucher",
        "timestamp": 1689022832
    },
    {
        "content": "<p>Does anyone know what happened to Wolfia? I was finding it quite useful, but it seems to not be up.</p>",
        "id": 388853552,
        "sender_full_name": "Lev Stambler",
        "timestamp": 1693768370
    },
    {
        "content": "<p>Unfortunately it's discontinued. Here's what I got from their CTO:</p>\n<blockquote>\n<p>We've realized that while people love using the service, no one really is willing to pay for it (in its current state, at least).<br>\nHere's a few products out solving similar problems:<br>\n<a href=\"https://about.sourcegraph.com/cody\">https://about.sourcegraph.com/cody</a><br>\n<a href=\"https://mutable.ai/\">https://mutable.ai/</a><br>\n<a href=\"https://www.cursor.so/\">https://www.cursor.so/</a></p>\n</blockquote>",
        "id": 388903091,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1693800735
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Semantic.20Search.20for.20Mathematics/near/388903091\">said</a>:</p>\n<blockquote>\n<p>Unfortunately it's discontinued. Here's what I got from their CTO:</p>\n<blockquote>\n<p>We've realized that while people love using the service, no one really is willing to pay for it (in its current state, at least).<br>\nHere's a few products out solving similar problems:<br>\n<a href=\"https://about.sourcegraph.com/cody\">https://about.sourcegraph.com/cody</a><br>\n<a href=\"https://mutable.ai/\">https://mutable.ai/</a><br>\n<a href=\"https://www.cursor.so/\">https://www.cursor.so/</a></p>\n</blockquote>\n</blockquote>\n<p>Oh okay. Makes sense. It is a bummer though</p>",
        "id": 388998032,
        "sender_full_name": "Lev Stambler",
        "timestamp": 1693835851
    }
]