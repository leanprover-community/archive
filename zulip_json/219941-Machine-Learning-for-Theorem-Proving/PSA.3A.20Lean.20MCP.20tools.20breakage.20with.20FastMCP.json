[
    {
        "content": "<p>A few hours ago, the <code>mcp</code> Python package made a breaking change in a patch release, which breaks most if not all MCP tools. For us, this means all of the MCP tools in the Lean ecosystem are broken if you run them through <code>uvx</code> and are not pinning the dependencies, which is the default and recommended way to run them.</p>\n<p>A temporary fix for this is to have <code>mcp==1.12.2</code> in a <code>requirements.txt</code> file and add  <code>--with-requirements=requirements.txt</code> as the first arugment to <code>uvx</code>. Alternatively, you can also set the environment variable <code>UV_CONSTRAINT</code> to the path of the <code>requirements.txt</code>file, e.g.</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"nt\">\"mcpServers\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nt\">\"lean-lsp\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">      </span><span class=\"nt\">\"type\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"stdio\"</span><span class=\"p\">,</span>\n<span class=\"w\">      </span><span class=\"nt\">\"command\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"uvx\"</span><span class=\"p\">,</span>\n<span class=\"w\">      </span><span class=\"nt\">\"args\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">        </span><span class=\"s2\">\"lean-lsp-mcp\"</span>\n<span class=\"w\">      </span><span class=\"p\">],</span>\n<span class=\"w\">      </span><span class=\"nt\">\"env\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nt\">\"UV_CONSTRAINT\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"requirements.txt\"</span>\n<span class=\"w\">      </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">  </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Edit: corrected typo from <code>mcp==1.21.2</code> to <code>mcp==1.12.2</code></p>",
        "id": 532172372,
        "sender_full_name": "Gavin Zhao",
        "timestamp": 1753997914
    },
    {
        "content": "<p>Small correction: <code>mcp==1.12.2</code>.</p>",
        "id": 532221990,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1754023278
    },
    {
        "content": "<p>Fix for <code>lean-lsp-mcp</code> is deployed. <code>uvx</code> was automatically updating dependencies. To prevent this in the future the dependencies were pinned (<code>mcp[cli]==1.12.3</code> instead of <code>mcp[cli]&gt;=1.12.3</code>).</p>\n<p>Just restart the server to get the fix.</p>",
        "id": 532236621,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1754030509
    }
]