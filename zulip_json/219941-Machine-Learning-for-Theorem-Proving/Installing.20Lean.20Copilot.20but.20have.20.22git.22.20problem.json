[
    {
        "content": "<p>I was trying to install Lean Copilot and encountered problem when running \"lake exe LeanCopilot/download\", it says \"process 'git' exited with code 128\". I'm using Mac 15 Air, M3 chip, and my lean-toolchain version is v4.10.0-rc2 so I set the LeanCopilot version to be v1.4.1.<br>\nPictures of my terminal <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span><br>\n<a href=\"/user_uploads/3121/hPBv4yQQ-sZKGdkDAc0q_75q/1.png\">1.png</a><br>\n<a href=\"/user_uploads/3121/NzbFVusUVQsDdVzavWkKWInm/2.png\">2.png</a><br>\n<a href=\"/user_uploads/3121/V2vQQBYbOSHlBSRirsY6IvJx/3.png\">3.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/hPBv4yQQ-sZKGdkDAc0q_75q/1.png\" title=\"1.png\"><img src=\"/user_uploads/thumbnail/3121/hPBv4yQQ-sZKGdkDAc0q_75q/1.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/NzbFVusUVQsDdVzavWkKWInm/2.png\" title=\"2.png\"><img src=\"/user_uploads/thumbnail/3121/NzbFVusUVQsDdVzavWkKWInm/2.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/V2vQQBYbOSHlBSRirsY6IvJx/3.png\" title=\"3.png\"><img src=\"/user_uploads/thumbnail/3121/V2vQQBYbOSHlBSRirsY6IvJx/3.png/840x560.webp\"></a></div><p>And I ran lake build despite the \"process 'git' exited with code 128\", here follows the picture of my VScode after that.<br>\n<a href=\"/user_uploads/3121/n0BZlyEVo3fWmnZ7YDWNw211/4.png\">4.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/n0BZlyEVo3fWmnZ7YDWNw211/4.png\" title=\"4.png\"><img src=\"/user_uploads/thumbnail/3121/n0BZlyEVo3fWmnZ7YDWNw211/4.png/840x560.webp\"></a></div><p>How can I fix it?</p>",
        "id": 453716556,
        "sender_full_name": "Albert.J",
        "timestamp": 1721832746
    },
    {
        "content": "<p>It looks like an issue when Git attempts to download or update the model checkpoint. Maybe try deleting <code>~/.cache/lean_copilot</code> and re-run everything? If it doesn't work, please open an issue on GitHub.</p>",
        "id": 453722339,
        "sender_full_name": "Kaiyu Yang",
        "timestamp": 1721833925
    },
    {
        "content": "<p>Hard to say. Git prints a message on stderr and exits with error code 128 when something called its <code>die</code> function (<a href=\"https://www.git-scm.com/docs/api-error-handling\">ref</a>), but the Lean function <code>IO.Process.run</code> used here to run git throws away the stderr. So there's some debugging (or guessing) to do.</p>\n<p>Do you have enough disk space for the objects being downloaded?<br>\nCan you deduce the relevant git commands and run them directly in the terminal for yourself?</p>",
        "id": 453722807,
        "sender_full_name": "Richard Copley",
        "timestamp": 1721833992
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"584504\">Kaiyu Yang</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Installing.20Lean.20Copilot.20but.20have.20.22git.22.20problem/near/453722339\">said</a>:</p>\n<blockquote>\n<p>It looks like an issue when Git attempts to download or update the model checkpoint. Maybe try deleting <code>~/.cache/lean_copilot</code> and re-run everything? If it doesn't work, please open an issue on GitHub.</p>\n</blockquote>\n<p>I tried your method but it still has \"git 128\" error. I opened an issue under your project in github, you can see more details there. <a href=\"https://github.com/lean-dojo/LeanCopilot/issues/103#issue-2428819916\">https://github.com/lean-dojo/LeanCopilot/issues/103#issue-2428819916</a></p>",
        "id": 453946944,
        "sender_full_name": "Albert.J",
        "timestamp": 1721913443
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"400544\">Richard Copley</span> <a href=\"#narrow/stream/219941-Machine-Learning-for-Theorem-Proving/topic/Installing.20Lean.20Copilot.20but.20have.20.22git.22.20problem/near/453722807\">said</a>:</p>\n<blockquote>\n<p>Hard to say. Git prints a message on stderr and exits with error code 128 when something called its <code>die</code> function (<a href=\"https://www.git-scm.com/docs/api-error-handling\">ref</a>), but the Lean function <code>IO.Process.run</code> used here to run git throws away the stderr. So there's some debugging (or guessing) to do.</p>\n<p>Do you have enough disk space for the objects being downloaded?<br>\nCan you deduce the relevant git commands and run them directly in the terminal for yourself?</p>\n</blockquote>\n<p>It's a new Mac, to install the Lean Copilot is one of the first things so there is enough space. I also attempted to run the relevant git commands directly in the terminal,  e.g. git remote set-url origin git@github.com:lean-dojo/LeanCopilot.git, ssh -T <a href=\"mailto:git@github.com\">git@github.com</a>, git clone ,  looks good. However, the 128 issue persists. Could you provide further guidance ?</p>",
        "id": 453949413,
        "sender_full_name": "Albert.J",
        "timestamp": 1721914159
    },
    {
        "content": "<p>I also got a problem during the installation of LeanCopilot. Id be grateful if you could help me troubleshoot it. </p>\n<div class=\"codehilite\" data-code-language=\"Common Lisp\"><pre><span></span><code><span class=\"nv\">&gt;&gt;&gt;lake</span><span class=\"w\"> </span><span class=\"nv\">exe</span><span class=\"w\"> </span><span class=\"nv\">LeanCopilot/download</span>\n<span class=\"nv\">ℹ</span><span class=\"w\"> </span><span class=\"nv\">[3/18]</span><span class=\"w\"> </span><span class=\"nv\">Replayed</span><span class=\"w\"> </span><span class=\"nv\">LeanCopilot/libopenblas</span>\n<span class=\"nv\">info:</span><span class=\"w\"> </span><span class=\"nv\">Cloning</span><span class=\"w\"> </span><span class=\"nv\">OpenBLAS</span><span class=\"w\"> </span><span class=\"nv\">from</span><span class=\"w\"> </span><span class=\"nv\">https://github.com/OpenMathLib/OpenBLAS</span>\n<span class=\"nv\">info:</span><span class=\"w\"> </span><span class=\"nv\">Building</span><span class=\"w\"> </span><span class=\"nv\">OpenBLAS</span><span class=\"w\"> </span><span class=\"nv\">with</span><span class=\"w\"> </span><span class=\"o\">`</span><span class=\"nv\">make</span><span class=\"w\"> </span><span class=\"nv\">NO_LAPACK=1</span><span class=\"w\"> </span><span class=\"nv\">NO_FORTRAN=1</span><span class=\"w\"> </span><span class=\"nv\">-j32</span><span class=\"o\">`</span>\n<span class=\"err\">✖</span><span class=\"w\"> </span><span class=\"nv\">[4/18]</span><span class=\"w\"> </span><span class=\"nv\">Building</span><span class=\"w\"> </span><span class=\"nv\">LeanCopilot/libctranslate2</span>\n<span class=\"nv\">info:</span><span class=\"w\"> </span><span class=\"nv\">Cloning</span><span class=\"w\"> </span><span class=\"nv\">CTranslate2</span><span class=\"w\"> </span><span class=\"nv\">from</span><span class=\"w\"> </span><span class=\"nv\">https://github.com/OpenNMT/CTranslate2</span>\n<span class=\"nv\">error:</span><span class=\"w\"> </span><span class=\"nv\">no</span><span class=\"w\"> </span><span class=\"nv\">such</span><span class=\"w\"> </span><span class=\"nv\">file</span><span class=\"w\"> </span><span class=\"nb\">or</span><span class=\"w\"> </span><span class=\"nb\">directory</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nb\">error</span><span class=\"w\"> </span><span class=\"nv\">code:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"w\">  </span><span class=\"nv\">file:</span><span class=\"w\"> </span><span class=\"o\">.</span><span class=\"nv\">/./.lake/packages/LeanCopilot/.lake/build/lib/libctranslate2.so</span>\n<span class=\"nv\">Some</span><span class=\"w\"> </span><span class=\"nv\">builds</span><span class=\"w\"> </span><span class=\"nv\">logged</span><span class=\"w\"> </span><span class=\"nv\">failures:</span>\n<span class=\"nb\">-</span><span class=\"w\"> </span><span class=\"nv\">LeanCopilot/libctranslate2</span>\n<span class=\"nv\">error:</span><span class=\"w\"> </span><span class=\"nv\">build</span><span class=\"w\"> </span><span class=\"nv\">failed</span>\n</code></pre></div>\n<p>I'm quite irritated by this since it works on my Laptop. The server I'm running it on has cmake version 3.30.2 and gcc &gt; 8.3.0 installed. I basically adapted the <a href=\"https://github.com/yangky11/lean4-example/tree/LeanCopilot-demo\">example from the Leancopilot Repo</a> for testing. <br>\nI already tried deleting the .lake folder and the cache. Thanks!</p>",
        "id": 456322374,
        "sender_full_name": "Jasper Ganten",
        "timestamp": 1722779512
    },
    {
        "content": "<p>I have the same problem installing LeanCopilot:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\">chabulhwi@desktop ~/l/lean-playground&gt; lake exe LeanCopilot/download</span>\n<span class=\"go\">ℹ [3/18] Replayed LeanCopilot/libopenblas</span>\n<span class=\"go\">info: Cloning OpenBLAS from https://github.com/OpenMathLib/OpenBLAS</span>\n<span class=\"go\">info: Building OpenBLAS with `make NO_LAPACK=1 NO_FORTRAN=1 -j32`</span>\n<span class=\"go\">✖ [4/18] Building LeanCopilot/libctranslate2</span>\n<span class=\"go\">info: Cloning CTranslate2 from https://github.com/OpenNMT/CTranslate2</span>\n<span class=\"go\">error: no such file or directory (error code: 2)</span>\n<span class=\"go\">  file: ././.lake/packages/LeanCopilot/.lake/build/lib/libctranslate2.so</span>\n<span class=\"go\">Some builds logged failures:</span>\n<span class=\"go\">- LeanCopilot/libctranslate2</span>\n<span class=\"go\">error: build failed</span>\n</code></pre></div>\n<p>I use Slackware Linux and have installed GCC 13.2.0 and 14.2.0. Here's my <code>lakefile.lean</code>:</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>lakefile.lean</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lake</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">DSL</span>\n\n<span class=\"n\">package</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">playground</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\"> </span><span class=\"c1\">-- Settings applied to both builds and interactive editing</span>\n<span class=\"w\"> </span><span class=\"n\">leanOptions</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span>\n<span class=\"w\">   </span><span class=\"o\">⟨</span><span class=\"ss\">`pp.unicode.fun</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">⟩,</span><span class=\"w\"> </span><span class=\"c1\">-- pretty-prints `fun a ↦ b`</span>\n<span class=\"w\">   </span><span class=\"o\">⟨</span><span class=\"ss\">`pp.proofs.withType</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">⟩</span>\n<span class=\"w\"> </span><span class=\"o\">]</span>\n<span class=\"w\"> </span><span class=\"c1\">-- add any additional package configuration options here</span>\n<span class=\"w\"> </span><span class=\"n\">moreLinkArgs</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span>\n<span class=\"w\">   </span><span class=\"s2\">\"-L./.lake/packages/LeanCopilot/.lake/build/lib\"</span><span class=\"o\">,</span>\n<span class=\"w\">   </span><span class=\"s2\">\"-lctranslate2\"</span>\n<span class=\"w\"> </span><span class=\"o\">]</span>\n\n<span class=\"n\">require</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span>\n<span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"v4.10.0-rc1\"</span>\n\n<span class=\"kd\">meta</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">get_config</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"s2\">\"dev\"</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"c1\">-- dev is so not everyone has to build it</span>\n<span class=\"n\">require</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span>\n<span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover/doc-gen4\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"main\"</span>\n<span class=\"n\">require</span><span class=\"w\"> </span><span class=\"n\">LeanCopilot</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/lean-dojo/LeanCopilot.git\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"v1.4.1\"</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">default_target</span><span class=\"kd\">]</span>\n<span class=\"n\">lean_lib</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">Playground</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\"> </span><span class=\"c1\">-- add any library configuration options here</span>\n</code></pre></div>\n</div></div>",
        "id": 459626326,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1723262056
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 480837851,
        "sender_full_name": "恭良夜",
        "timestamp": 1730863538
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"737722\">Albert.J</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Installing.20Lean.20Copilot.20but.20have.20.22git.22.20problem/near/453716556\">said</a>:</p>\n<blockquote>\n<p>I was trying to install Lean Copilot and encountered problem when running \"lake exe LeanCopilot/download\", it says \"process 'git' exited with code 128\". I'm using Mac 15 Air, M3 chip, and my lean-toolchain version is v4.10.0-rc2 so I set the LeanCopilot version to be v1.4.1.<br>\nPictures of my terminal <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span><br>\n<a href=\"/user_uploads/3121/hPBv4yQQ-sZKGdkDAc0q_75q/1.png\">1.png</a><br>\n<a href=\"/user_uploads/3121/NzbFVusUVQsDdVzavWkKWInm/2.png\">2.png</a><br>\n<a href=\"/user_uploads/3121/V2vQQBYbOSHlBSRirsY6IvJx/3.png\">3.png</a></p>\n<p>And I ran lake build despite the \"process 'git' exited with code 128\", here follows the picture of my VScode after that.<br>\n<a href=\"/user_uploads/3121/n0BZlyEVo3fWmnZ7YDWNw211/4.png\">4.png</a></p>\n<p>How can I fix it?</p>\n</blockquote>\n<p>I encountered the same problem as you, did you solve it? Could you please let me know if it has been resolved?</p>",
        "id": 480837988,
        "sender_full_name": "恭良夜",
        "timestamp": 1730863614
    }
]