[
    {
        "content": "<p>Hi, </p>\n<p>My high level question is: suppose I have a <code>Problem.lean</code> file with a theorem with a single <code>sorry</code> for a proof, and I have a <code>Solution.lean</code> which purports to provide a full proof of the theorem.  Assume Solution.lean compiles cleanly without warnings, but there is still questions of validity:  has the theorem has been slightly perturbed, have axioms been introduced, etc. </p>\n<p>I understand that this is a nuanced topic and there are likely various solutions depending on one's level of paranoia and patience, and that the difficulty depends in part in how exactly the Problem.lean has been structured, but I am also assuming this has come up before with regards to AI generated proof (or even FLT) (though I could not find a prior discussion...) so I'll leave it here in case someone has a quick pointer to an easy to use recipe of how to check Solution actually solves Problem.  </p>\n<p>Thank you! nehal</p>\n<hr>\n<p>... But as concrete example, here is a problem/solution pair from deepmind's formalimo.  The solution has re-ordered some content ( in a natural way), and added some lemmas, etc.  Is there are tool that can confirm the types have not been mutated?  In this case, formalimo uses annotations that likely make robust checking viable or easier via a special tool, but what about when these annotations do not exist? </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c\">/-</span>\n<span class=\"cm\">Copyright 2025 Google LLC</span>\n\n<span class=\"cm\">Licensed under the Apache License, Version 2.0 (the \"License\");</span>\n<span class=\"cm\">you may not use this file except in compliance with the License.</span>\n<span class=\"cm\">You may obtain a copy of the License at</span>\n\n<span class=\"cm\">    https://www.apache.org/licenses/LICENSE-2.0</span>\n\n<span class=\"cm\">Unless required by applicable law or agreed to in writing, software</span>\n<span class=\"cm\">distributed under the License is distributed on an \"AS IS\" BASIS,</span>\n<span class=\"cm\">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>\n<span class=\"cm\">See the License for the specific language governing permissions and</span>\n<span class=\"cm\">limitations under the License.</span>\n<span class=\"cm\">-/</span>\n\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Imo</span><span class=\"bp\">.</span><span class=\"n\">ProblemImports</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Real</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"sd\">/-- $a,b,c$ are real with $a$ non-zero. $x_1,x_2,\\ldots,x_n$ satisfy the $n$ equations:</span>\n\n<span class=\"sd\">$ax_i^2+bx_i+c=x_{i+1}$, for $1\\le i&lt; n$</span>\n\n<span class=\"sd\">$ax_n^2+bx_n+c=x_1$</span>\n\n<span class=\"sd\">\\noindent Prove that the system has zero, $1$ or $&gt;1$ real solutions according as $(b-1)^2-4ac$ is $&lt; 0,=0$, or $&gt;0$.</span>\n<span class=\"sd\">-/</span>\n<span class=\"kd\">@[</span><span class=\"n\">imo_problem_subject</span><span class=\"w\"> </span><span class=\"n\">algebra</span><span class=\"kd\">]</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">imo_1968_p3</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hS</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)})</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">‚àÖ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">imo_1968_p3</span><span class=\"bp\">.</span><span class=\"n\">parts</span><span class=\"bp\">.</span><span class=\"n\">negative</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">¬¨‚àÉ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">imo_1968_p3</span><span class=\"bp\">.</span><span class=\"n\">parts</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ!</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">imo_1968_p3</span><span class=\"bp\">.</span><span class=\"n\">parts</span><span class=\"bp\">.</span><span class=\"n\">positive</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">,</span>\n<span class=\"w\">      </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>And here is a solution (by claude-code, opus4.5)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">[</span><span class=\"n\">PastedText</span><span class=\"bp\">.</span><span class=\"n\">txt</span><span class=\"o\">](</span><span class=\"bp\">/</span><span class=\"n\">user_uploads</span><span class=\"bp\">/</span><span class=\"mi\">3121</span><span class=\"bp\">/</span><span class=\"n\">cGBI7xfO7fnsr6Vq</span><span class=\"bp\">-</span><span class=\"mi\">53</span><span class=\"n\">LAxqR</span><span class=\"bp\">/</span><span class=\"n\">PastedText</span><span class=\"bp\">.</span><span class=\"n\">txt</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 560198187,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1764087608
    },
    {
        "content": "<p>Search this forum for SafeVerify ( <a href=\"https://github.com/GasStationManager/SafeVerify\">https://github.com/GasStationManager/SafeVerify</a> )-- this is one tool which does this job at a high level of paranoia. And here <a class=\"message-link\" href=\"/#narrow/channel/270676-lean4/topic/FRO.27s.20new.20verifier/near/546476215\">#lean4 &gt; FRO's new verifier @ üí¨</a>  is a thread talking about a second tool (which might not exist yet but is being developed by the FRO).</p>",
        "id": 560250698,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764103900
    },
    {
        "content": "<p>Kevin is referring to <a href=\"https://github.com/leanprover/comparator\">https://github.com/leanprover/comparator</a> as the tool provided by the FRO (specifically, <span class=\"user-mention silent\" data-user-id=\"395550\">Henrik B√∂ving</span>_).</p>",
        "id": 560269567,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1764113483
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik B√∂ving</span> is this ready to go?</p>",
        "id": 560269907,
        "sender_full_name": "Jason Rute",
        "timestamp": 1764113722
    },
    {
        "content": "<p>Well as the README says it has not yet been pressure tested by public users so it could still have bugs but it does very much work yes.</p>",
        "id": 560270015,
        "sender_full_name": "Henrik B√∂ving",
        "timestamp": 1764113789
    },
    {
        "content": "<p>Also, note all these tools have edge cases where they are arguably too strict, marking stuff as wrong because of extremely minor syntactic differences.  <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> gave a good example in the discussion of Pantograph‚Äôs similar tool.  <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Track.20checking.20function.20in.20Pantograph/with/554519378\">https://leanprover.zulipchat.com/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Track.20checking.20function.20in.20Pantograph/with/554519378</a></p>",
        "id": 560270361,
        "sender_full_name": "Jason Rute",
        "timestamp": 1764114014
    },
    {
        "content": "<p>Also SafeVerify doesn‚Äôt check multiple file proofs (or more accurately it trusts any imported files), but I think comparator however does that correctly.</p>",
        "id": 560270528,
        "sender_full_name": "Jason Rute",
        "timestamp": 1764114110
    },
    {
        "content": "<p>Not even syntactic differences; identical syntax in different files produces different things if the auxiliary declaration cache is populated with different names</p>",
        "id": 560271780,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1764114822
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Tool.20to.20verify.20a.20solution.20solves.20the.20actual.20problem.3F/near/560271780\">said</a>:</p>\n<blockquote>\n<p>Not even syntactic differences; identical syntax in different files produces different things if the auxiliary declaration cache is populated with different names</p>\n</blockquote>\n<p>Can you give an example?  (And what is this \"auxiliary declaration cache\"?)</p>",
        "id": 560381778,
        "sender_full_name": "Jason Rute",
        "timestamp": 1764161311
    },
    {
        "content": "<p>Also <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>, considering that you have clearly been thinking about this, do you have a recommended solution?</p>",
        "id": 560381907,
        "sender_full_name": "Jason Rute",
        "timestamp": 1764161359
    },
    {
        "content": "<p>I've been compiling test cases (including some based on the example by <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>, thx!) and running them against some verifiers <a href=\"https://github.com/oOo0oOo/LeanParanoia/blob/main/VERIFIER_COMPARISON.md\">here</a>.</p>\n<p>The tool itself (LeanParanoia) is not what you asked for; it works without comparing to a reference statement. But the verifier comparison should still give an overview of the capabilities of some of the available tools. </p>\n<p>Keep in mind that both LeanParanoia and the test cases have not really been tested publicly yet.</p>",
        "id": 560582144,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1764245517
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"395550\">Henrik B√∂ving</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Tool.20to.20verify.20a.20solution.20solves.20the.20actual.20problem.3F/near/560270015\">said</a>:</p>\n<blockquote>\n<p>Well as the README says it has not yet been pressure tested by public users so it could still have bugs but it does very much work yes.</p>\n</blockquote>\n<p>Two places to pressure test your tool (if not already), which I assume these are exactly the applications you had in mind:</p>\n<ol>\n<li>A number of theorems from <a href=\"https://github.com/google-deepmind/formal-conjectures\">formal conjectures</a> (I think 4 of them in total now) have been proved automatically between various AI companies.</li>\n<li>PutnamBench has a new SoTA.  It would be good to partner with <span class=\"user-mention\" data-user-id=\"644040\">@George Tsoukalas</span> to get him to stress test your tool in his verification process.  </li>\n</ol>\n<p>Both would also help determine if false negatives are common, where the tool rejects a correct proof because of trivial syntactic or file issues.  (And hopefully not, but maybe your tool will also help find legitimate issues in the submitted proofs.)</p>",
        "id": 561537864,
        "sender_full_name": "Jason Rute",
        "timestamp": 1764717407
    },
    {
        "content": "<p>I've found using SafeVerifier very nice and easy to use.  (I use it in <code>script</code> mode e.g. <code>lean --run SafeVerify.lean prob.olean solution.olean</code>))</p>\n<p>Here are some  datapoints that folks might find interesting for solutions that compile sorry free but fail safeverify:</p>\n<p>claude-code-opus-4.5, sampled problems from fate-m/h/x, formalimo, putnambench, minif2f:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">              </span><span class=\"n\">compiles</span><span class=\"w\"> </span><span class=\"n\">safeverified</span><span class=\"w\">  </span><span class=\"n\">total</span>\n<span class=\"n\">dataset_name</span>\n<span class=\"n\">fate</span><span class=\"bp\">-</span><span class=\"n\">h</span><span class=\"w\">              </span><span class=\"mi\">19</span><span class=\"w\">           </span><span class=\"mi\">15</span><span class=\"w\">     </span><span class=\"mi\">50</span>\n<span class=\"n\">fate</span><span class=\"bp\">-</span><span class=\"n\">m</span><span class=\"w\">              </span><span class=\"mi\">48</span><span class=\"w\">           </span><span class=\"mi\">46</span><span class=\"w\">     </span><span class=\"mi\">50</span>\n<span class=\"n\">fate</span><span class=\"bp\">-</span><span class=\"n\">x</span><span class=\"w\">               </span><span class=\"mi\">2</span><span class=\"w\">            </span><span class=\"mi\">2</span><span class=\"w\">     </span><span class=\"mi\">50</span>\n<span class=\"n\">formalimo</span><span class=\"w\">           </span><span class=\"mi\">14</span><span class=\"w\">           </span><span class=\"mi\">12</span><span class=\"w\">     </span><span class=\"mi\">50</span>\n<span class=\"n\">minif2f</span><span class=\"w\">             </span><span class=\"mi\">45</span><span class=\"w\">           </span><span class=\"mi\">34</span><span class=\"w\">     </span><span class=\"mi\">50</span>\n<span class=\"n\">putnambench</span><span class=\"w\">         </span><span class=\"mi\">11</span><span class=\"w\">            </span><span class=\"mi\">9</span><span class=\"w\">     </span><span class=\"mi\">50</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">    </span><span class=\"n\">agent</span><span class=\"w\">       </span><span class=\"n\">model</span><span class=\"w\">  </span><span class=\"n\">compiles</span><span class=\"w\"> </span><span class=\"n\">safeverified</span>\n<span class=\"mi\">0</span><span class=\"w\">  </span><span class=\"n\">claude</span><span class=\"w\">    </span><span class=\"n\">opus</span><span class=\"bp\">-</span><span class=\"mf\">4.5</span><span class=\"w\">       </span><span class=\"mi\">234</span><span class=\"w\">          </span><span class=\"mi\">203</span>\n<span class=\"mi\">2</span><span class=\"w\">   </span><span class=\"n\">codex</span><span class=\"w\">     </span><span class=\"n\">gpt</span><span class=\"bp\">-</span><span class=\"mf\">5.1</span><span class=\"w\">        </span><span class=\"mi\">92</span><span class=\"w\">           </span><span class=\"mi\">90</span>\n<span class=\"mi\">1</span><span class=\"w\">  </span><span class=\"n\">claude</span><span class=\"w\">  </span><span class=\"n\">sonnet</span><span class=\"bp\">-</span><span class=\"mf\">4.5</span><span class=\"w\">        </span><span class=\"mi\">45</span><span class=\"w\">           </span><span class=\"mi\">39</span>\n</code></pre></div>\n<p>Most of the failures are due to using <code>nativeDecide</code>.  Occasionally sonnet 4.5 introduces axioms even though it has been told it shouldn't</p>\n<p>I'll be writing more about this here: <a href=\"https://g-research-innovation.github.io/lean4-llm/blog3_three_horsemen\">https://g-research-innovation.github.io/lean4-llm/blog3_three_horsemen</a></p>",
        "id": 562234438,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1765017878
    },
    {
        "content": "<p>Curious, is gpt-5.1 preferable to codex-max (high) ? </p>\n<p>Such a moving target.  They say GPT5.5 might come out before EOY.</p>",
        "id": 562291868,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765093116
    },
    {
        "content": "<p>ahh --that's a bug in the table above....  'gpt-5.1' should be 'gpt-5.1-codex', (w/ high thinking effort)  --  will  try gpt-5.1-codex-max, ultra-high in a few days.</p>",
        "id": 562311258,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1765117376
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"758965\">@Nehal Patel</span> what's the issue with SafeVerify and NativeDecide? Is it just did SafeVerify does not trust it, or is there another reason?<br>\n<a href=\"https://github.com/GasStationManager/SafeVerify\">https://github.com/GasStationManager/SafeVerify</a></p>",
        "id": 562318612,
        "sender_full_name": "Bas Spitters",
        "timestamp": 1765124716
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"259452\">@Bas Spitters</span> , safeverify does not \"trust\" it -- more precisely it reports an error like:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">ubuntu</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">agents</span><span class=\"bp\">/</span><span class=\"n\">data</span><span class=\"bp\">/</span><span class=\"n\">scratch</span><span class=\"bp\">/</span><span class=\"n\">putnambench</span><span class=\"bp\">/</span><span class=\"n\">putnam_verify</span><span class=\"bp\">/</span><span class=\"n\">workspace</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">submission_ec4d5266</span><span class=\"bp\">-</span><span class=\"mi\">82</span><span class=\"n\">df</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"n\">dde</span><span class=\"bp\">-</span><span class=\"mi\">85</span><span class=\"n\">f3</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"n\">d1551f6528f</span><span class=\"bp\">.</span><span class=\"n\">olean</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">kernel</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">interpreter</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">declaration</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">putnam_1990_a6</span><span class=\"bp\">._</span><span class=\"n\">nativeDecide_1_1'</span>\n</code></pre></div>\n<p>If I understand correctly, nativeDecide means  \"use computation\" which I cannot imagine would be implemented in a minimal kernel -- but I think others can comment better than I on this.</p>\n<p>The models could have been easily prompted to avoid using <code>nativeDecide</code>, but I had never heard of it before so it was a learning opportunity for me.   In general, <code>nativeDecide</code> is not really fair play for something like Putnam -- contestants are not are allowed to simply brute force solutions.  However, many of the models' usages are innocuous:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">....</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hgcd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">gcd</span><span class=\"w\"> </span><span class=\"mi\">90</span><span class=\"w\"> </span><span class=\"mi\">92</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">native_decide</span>\n<span class=\"bp\">....</span>\n</code></pre></div>\n<p>other instances are egregious:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">putnam_1990_a6</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">((</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">univ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">filter</span>\n<span class=\"w\">      </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"o\">((</span><span class=\"mi\">17711</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"w\"> </span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"c1\">-- The search space is finite (only 2¬π‚Å∞ choices for each subset), so we verify the count by exhaustive computation.</span>\n<span class=\"w\">    </span><span class=\"n\">native_decide</span>\n</code></pre></div>\n<p><span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 562322167,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1765128295
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"758965\">Nehal Patel</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Tool.20to.20verify.20a.20solution.20solves.20the.20actual.20problem.3F/near/562311258\">said</a>:</p>\n<blockquote>\n<p>ahh --that's a bug in the table above....  'gpt-5.1' should be 'gpt-5.1-codex', (w/ high thinking effort)  --  will  try gpt-5.1-codex-max, ultra-high in a few days.</p>\n</blockquote>\n<p>I am attempting to parse your results but they seem to be conflicting with the data I've seen elsewhere.   </p>\n<p>Ie, Opus is very bad at math.   But perhaps its persistence and doggedness in Claude code is making up for that?   Would a more persistent re-trying agent around gpt-5.1 achieve better results?   (like GPT-5-pro, for example)</p>\n<p>What are token costs (importantly, including cache hits, which can reduce costs significantly)?  </p>\n<p>For practical though temporary reasons, your results might be what matters, but also this data could provide an inaccurate picture to people unaware of the underlying reasons for it.</p>\n<p>Another way of looking at this problem is splitting model utilization into plan($$$ model)/act($ model).  You can configure most agentic code clients to do this.</p>\n<p>If I am missing something here, please let me know.  What you're trying to do here is really important and quite useful.</p>",
        "id": 562374265,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765156155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"968128\">@Tim Shephard</span> <br>\n90% cache hits, a full PB run costs between $500-1000 depending on the model (which is same order of magnitude for the costs  reported for Ax-Prover and Aleph, and given Herald uses Gemini, I think it would be similar).  the main point here is that from both the tech write-ups and blogs documenting costs, it seems clear (to me) that the leaderboard is topped by custom agentic loops, and it seemed (to me) worth pointing out there are already very nicely engineered agentic loops -- and that these are loops that anybody can use.  There is no easy way to use the tools on the leaderboard, but anybody can download claude-code, build PB, and pick a problem, tell it to clear the sorries, and have 33% percent chance of success.  And you can use the same tool not just for theorem proving but also refactoring, adding comments, teaching you lean 4, etc.  Sometimes we can collectively fail to see simple solutions; or, perhaps,  these simple solutions improving very quickly.</p>\n<p>(Why and how these agentic approaches work is a topic for another thread.)</p>",
        "id": 562404393,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1765180816
    },
    {
        "content": "<p>Agreed, very pragmatic and useful, I don't disagree with that at all.</p>",
        "id": 562485622,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765205326
    },
    {
        "content": "<p>Still, and correct me if I am wrong, doesn't this speak a little to the state of things that you are concerning yourself with a class of problems less frontier than say <a href=\"https://critpt.com/\">https://critpt.com/</a> and <a href=\"https://epoch.ai/frontiermath\">https://epoch.ai/frontiermath</a>?  </p>\n<p>Have the benchmarks gotten ahead of every day usage?  Or is that class of usage just too expensive?</p>",
        "id": 562488073,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765205909
    },
    {
        "content": "<p>Tim, we're talking about formal datasets here; FrontierMath is informal mathematics which is a completely different ballgame.</p>",
        "id": 562500372,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765208545
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Tool.20to.20verify.20a.20solution.20solves.20the.20actual.20problem.3F/near/562500372\">said</a>:</p>\n<blockquote>\n<p>Tim, we're talking about formal datasets here; FrontierMath is informal mathematics which is a completely different ballgame.</p>\n</blockquote>\n<p>Kevin Buzzard, I think a more efficacious and perhaps diplomatic way of stating this might be that tools such as gpt-5-pro and gemini-3-deep-think perform poorly on lean benchmarks despite their strong showings on informal reasoning and the fact that they are grounded in tool calling and websearch.</p>\n<p>Unfortunately, I couldn't find such benchmarks.  Also, as I mentioned here -  echo'd by Aristotle in their paper here <a class=\"message-link\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Kaggle.2C.2038.2F50.20already.20via.20open.20models.2C.20.242M.20prize.20fund/near/561536259\">#Machine Learning for Theorem Proving &gt; Kaggle, 38/50 already via open models, $2M prize fund @ üí¨</a>  and in the latest deepseek math paper <a class=\"message-link\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/DeepSeekMath_V2/near/560660156\">#Machine Learning for Theorem Proving &gt; DeepSeekMath_V2 @ üí¨</a>  - the approach that is being used is informal reasoning to help guide formalization.</p>\n<p>As I've explained elsewhere and in DMs to you specifically, <em>the question is what gains can come from RLVR versus scaling on human generated informal reasoning.</em></p>\n<p>There are fundamental issues (lack of continual learning in AI) and non fundamental issues (mathlib coverage, compute requirements for compilation, training datasets) involved in that question.   Decomposition strategies play a large role, and with minimal (though expert) hinting could uplift results immensely.</p>\n<p>Which is why I suggested above to consider splitting into plan/act as several coding clients provide out of box.  It would be interesting to at least hear some anecdotal experiences around that.</p>",
        "id": 562594014,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765250886
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"219941\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Planner.20.2B.20Generator.20Trend.20in.20Recent-ish.20NTP.20models/with/562485135\">#Machine Learning for Theorem Proving &gt; Planner + Generator Trend in Recent-ish NTP models</a>  is another good area to discuss this.</p>",
        "id": 562594469,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765251278
    },
    {
        "content": "<p>If someone were to provide a link to a small set of well formed problems that would provide to them some idea of capability, I can run them through as above.  It would not be a full benchmark but there would be some anecdotal evidence.  </p>\n<p>The concept of this dataset would be a 'smoketest' type set about perhaps 5 in size with the full spectrum of difficulty.   We could report results on each problem.  Given the constantly shifting model versions, this might be more practical.  The smoketest benchmark should be updated periodically as it is saturated.</p>\n<p>I have personally done this manually (not through agentic), and I found opus painfully lacking.   I am curious though to hear examples to the contrary.</p>",
        "id": 562594935,
        "sender_full_name": "Deleted User 968128",
        "timestamp": 1765251723
    },
    {
        "content": "<p>Dumb question: Can this be easily solved by</p>\n<ol>\n<li>running some lean program to dump elaborated terms (from the original .lean file)</li>\n<li>running some lean kernel checker that only accepts elaborated terms</li>\n</ol>\n<p>[I don't know the commands for either command, but I'm guessing they must exist.]</p>\n<p>?</p>\n<p>(or am I missing something very obvious)</p>",
        "id": 562595716,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1765252549
    },
    {
        "content": "<blockquote>\n<p>Which is why I suggested above to consider splitting into plan/act as several coding clients provide out of box. It would be interesting to at least hear some anecdotal experiences around that.</p>\n</blockquote>\n<p>See the Draft Sketch Prove paper, which has been quite influential and had exactly this goal in mind.</p>\n<p>I believe plan / act is normally done via sketching first, then filling in gaps, but there is absolutely no reason why this could not be achieved with a different scaffold that for instance first writes a todo-list, then sketches, and then does tool calls to an ATP model for individual parts of the proof sketch.</p>\n<p>Granted, there is a lot of open questions into what scaffold works best empirically or whether we need stringent scaffolds at all.</p>",
        "id": 562625113,
        "sender_full_name": "Simon Sorg",
        "timestamp": 1765269854
    }
]