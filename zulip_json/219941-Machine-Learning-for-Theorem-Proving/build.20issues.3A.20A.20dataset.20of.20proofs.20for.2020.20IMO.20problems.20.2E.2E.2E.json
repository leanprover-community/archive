[
    {
        "content": "<p>Can you add a lake-manifest.json to your repo? Without it, it is impossible for a human to check if your proofs actually work!</p>",
        "id": 503216666,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741080085
    },
    {
        "content": "<p>Thanks for the suggestion -- I added the file. The proofs compile with no error using Lean 4.17.0 and also Lean 4.17.0-rc1.</p>",
        "id": 503220140,
        "sender_full_name": "Roozbeh Yousefzadeh",
        "timestamp": 1741081060
    },
    {
        "content": "<p>You should also add the lean-toolchain and lakefiles.lean files</p>",
        "id": 503227703,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741083209
    },
    {
        "content": "<p>(the manifest was important because it specifies the mathlib version, not just the Lean version)</p>",
        "id": 503227873,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741083261
    },
    {
        "content": "<p>Makes sense. I added both lean-toolchain and lakefile.lean.</p>",
        "id": 503228870,
        "sender_full_name": "Roozbeh Yousefzadeh",
        "timestamp": 1741083557
    },
    {
        "content": "<p>The lakefile.lean looks like you copied it from mathlib, which means it is not going to work.</p>",
        "id": 503235717,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741085651
    },
    {
        "content": "<p>Similarly, in <a href=\"https://github.com/roozbeh-yz/IMO-Steps/commit/a0b8f80d4e6e4aa9f861e63614dce54bb8625c55\">https://github.com/roozbeh-yz/IMO-Steps/commit/a0b8f80d4e6e4aa9f861e63614dce54bb8625c55</a> you overwrote a good lake-manifest.json with a bad one</p>",
        "id": 503235876,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741085701
    },
    {
        "content": "<p>Thank you, Eric. I have now replaced them with the correct files.</p>",
        "id": 503252191,
        "sender_full_name": "Roozbeh Yousefzadeh",
        "timestamp": 1741090697
    },
    {
        "content": "<p>If I attempt to build your code, I get</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Dependency</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">different</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span>\n<span class=\"w\">  </span><span class=\"n\">Project</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">17</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">17</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n</code></pre></div>\n<p>Probably the advice <a href=\"#narrow/channel/113488-general/topic/v4.2E17.2E0/near/503081231\">here</a> can be used to fix this, though then I get</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">ImoSteps</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n</code></pre></div>",
        "id": 503253234,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741091031
    },
    {
        "content": "<p>I added the <code>ImoSteps.lean</code> , though I'm not sure why there is such a file. I also implemented the advice regarding the upgrade to <code>v4.17.0</code>. Please let me know if there are any other issues.</p>",
        "id": 503257366,
        "sender_full_name": "Roozbeh Yousefzadeh",
        "timestamp": 1741092228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"698751\">Roozbeh Yousefzadeh</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/A.20dataset.20of.20proofs.20for.2020.20IMO.20problems.20and.20extracted.20lemmas/near/503257366\">said</a>:</p>\n<blockquote>\n<p>added the <code>ImoSteps.lean</code> , though I'm not sure why there is such a file</p>\n</blockquote>\n<p>This is because you promised it existed in your <code>lakefile.toml</code>.</p>\n<p><del>If you switch to a lakefile.lean, then you can write</del></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">default_target</span><span class=\"kd\">]</span>\n<span class=\"n\">lean_lib</span><span class=\"w\"> </span><span class=\"n\">imo_proofs</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">globs</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"bp\">.</span><span class=\"n\">submodules</span><span class=\"w\"> </span><span class=\"ss\">`imo_proofs</span><span class=\"o\">]</span>\n</code></pre></div>\n<p><del>and delete <code>ImoSteps.lean</code>.</del></p>",
        "id": 503259016,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741092715
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span>, can you confirm there is no way to use the <code>submodules</code> spelling from a toml file?</p>",
        "id": 503259120,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741092732
    },
    {
        "content": "<p>13 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"219941\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/A.20dataset.20of.20proofs.20for.2020.20IMO.20problems.20and.20extracted.20lemmas/with/503179470\">#Machine Learning for Theorem Proving &gt; A dataset of proofs for 20 IMO problems and extracted lemmas</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 503259622,
        "sender_full_name": "Notification Bot",
        "timestamp": 1741092870
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> The TOMl syntax is <code>globs = [\"imo_proofs.+\"]</code>. </p>\n<p>This shorthand can also be used in Lean as well: <code>globs := #[`imo_proofs.+]</code>.</p>",
        "id": 503442685,
        "sender_full_name": "Mac Malone",
        "timestamp": 1741160576
    },
    {
        "content": "<p><code>imo_proofs.+</code> is valid syntax?  Wow!</p>",
        "id": 503444118,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1741161182
    },
    {
        "content": "<p>Where is this documented?</p>",
        "id": 503445319,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1741161660
    },
    {
        "content": "<p>It seems like it should be on <a href=\"https://lean-lang.org/doc/reference/latest/Build-Tools-and-Distribution/Lake/#lake-config\">https://lean-lang.org/doc/reference/latest/Build-Tools-and-Distribution/Lake/#lake-config</a>, but is not. Would someone like to open an issue against the language reference for <code>globs</code>?</p>",
        "id": 503463207,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1741167268
    },
    {
        "content": "<p>Is <code> `.+ </code> legal for \"all files\"?</p>",
        "id": 503463600,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741167394
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> No.</p>",
        "id": 503466036,
        "sender_full_name": "Mac Malone",
        "timestamp": 1741168047
    },
    {
        "content": "<p>Thank you everyone for your comments and advice.</p>",
        "id": 505613425,
        "sender_full_name": "Roozbeh Yousefzadeh",
        "timestamp": 1741941074
    },
    {
        "content": "<p>I think the build is still broken ; you can test by running <code>lake build</code> inside your project</p>",
        "id": 505639192,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741948634
    }
]