[
    {
        "content": "<p>Hello everyone! Glad to share our latest work titled <em>Beyond Theorem Proving: Formulation, Framework and Benchmark for Formal Problem-Solving</em>. <span aria-label=\"glowing star\" class=\"emoji emoji-1f31f\" role=\"img\" title=\"glowing star\">:glowing_star:</span></p>\n<p>Existing formal mathematics mainly focuses on <em>theorem proving</em> (verifying known conclusions). But broader applications demand more emphasis on <em>problem-solving</em> (discovering unknown answers).<br>\nThis gives rise to a crucial question:<span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span></p>\n<p><em>Can a fully verifiable problem-solving process be achieved within a formal environment?</em><span aria-label=\"question\" class=\"emoji emoji-2753\" role=\"img\" title=\"question\">:question:</span></p>\n<p>Our answers are as follows:<br>\n<span aria-label=\"one\" class=\"emoji emoji-0031-20e3\" role=\"img\" title=\"one\">:one:</span> From the perspective of formal verification, a rigorous formulation of the problem-solving process has been carried out. <span aria-label=\"books\" class=\"emoji emoji-1f4da\" role=\"img\" title=\"books\">:books:</span><br>\n<span aria-label=\"two\" class=\"emoji emoji-0032-20e3\" role=\"img\" title=\"two\">:two:</span> <strong>Formal Problem-Solving (FPS)</strong>: A framework for process-verified problem-solving has been implemented using Lean 4. <span aria-label=\"puzzle piece\" class=\"emoji emoji-1f9e9\" role=\"img\" title=\"puzzle piece\">:puzzle_piece:</span><br>\n<span aria-label=\"three\" class=\"emoji emoji-0033-20e3\" role=\"img\" title=\"three\">:three:</span> <strong>Deductive FPS (D-FPS)</strong>: The solving and verification processes are further decoupled to better align with informal problem-solving. <span aria-label=\"puzzle piece\" class=\"emoji emoji-1f9e9\" role=\"img\" title=\"puzzle piece\">:puzzle_piece:</span><br>\n<span aria-label=\"four\" class=\"emoji emoji-0034-20e3\" role=\"img\" title=\"four\">:four:</span> Evaluation</p>\n<ul>\n<li><strong>RPE</strong>: an evaluation method for formal answers. <span aria-label=\"trophy\" class=\"emoji emoji-1f3c6\" role=\"img\" title=\"trophy\">:trophy:</span></li>\n<li>Three formal-informal aligned <strong>problem-solving benchmarks</strong>: FormalMath500, MiniF2F-Solving, and PutnamBench-Solving. <span aria-label=\"bar chart\" class=\"emoji emoji-1f4ca\" role=\"img\" title=\"bar chart\">:bar_chart:</span></li>\n</ul>\n<p>We have also conducted exhaustive experiments on the mainstream FTP methods and the newly proposed methods.</p>\n<p>Talk is cheap, show you the paper, code, data &amp; results:<br>\n<span aria-label=\"headlines\" class=\"emoji emoji-1f4f0\" role=\"img\" title=\"headlines\">:headlines:</span>Huggingface Paper: <a href=\"https://huggingface.co/papers/2505.04528\">https://huggingface.co/papers/2505.04528</a><br>\n<span aria-label=\"scroll\" class=\"emoji emoji-1f4dc\" role=\"img\" title=\"scroll\">:scroll:</span>Arxiv: <a href=\"https://arxiv.org/abs/2505.04528\">https://arxiv.org/abs/2505.04528</a><br>\n<span aria-label=\"computer\" class=\"emoji emoji-1f4bb\" role=\"img\" title=\"computer\">:computer:</span>Code, Benchmark, and Evaluation Results: <a href=\"https://github.com/Purewhite2019/formal_problem_solving_main\">https://github.com/Purewhite2019/formal_problem_solving_main</a></p>\n<p><span aria-label=\"handshake\" class=\"emoji emoji-1f91d\" role=\"img\" title=\"handshake\">:handshake:</span> Feedback and collaborations are welcome! Let’s advance formal mathematics together :)</p>",
        "id": 516861155,
        "sender_full_name": "Qi Liu",
        "timestamp": 1746700061
    },
    {
        "content": "<p>Interesting work.  I worry about the Putnam benchmark.  The original putnambench benchmark already had this capability.  While I don't know that anyone used it, I also know that <span class=\"user-mention\" data-user-id=\"644040\">@George Tsoukalas</span> has done a great and thankless job of maintaining this benchmark over time, carefully checking answers and recording SoTA.  I worry that taking that away from the PutnamBench team could lead to a split in the benchmark with a lot of confusion (just like happened to MiniF2F).</p>",
        "id": 516876163,
        "sender_full_name": "Jason Rute",
        "timestamp": 1746705100
    },
    {
        "content": "<p>I also don't think benchmarks which release only as a <code>jsonl</code> file are maintainable; no one is going to want to fix lean statements inside a JSON string where vscode can't help with them.</p>",
        "id": 516876906,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746705312
    },
    {
        "content": "<p>Especially when that JSON contains lean code like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">@</span><span class=\"n\">Eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">answer</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">setOf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">And</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">GE</span><span class=\"bp\">.</span><span class=\"n\">ge</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instLE</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">OfNat</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nat_lit</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">Zero</span><span class=\"bp\">.</span><span class=\"n\">toOfNat0</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instZero</span><span class=\"o\">)))</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">Eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">            </span><span class=\"bp\">@</span><span class=\"n\">HDiv</span><span class=\"bp\">.</span><span class=\"n\">hDiv</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">instHDiv</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">DivInvMonoid</span><span class=\"bp\">.</span><span class=\"n\">toDiv</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instDivInvMonoid</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">HPow</span><span class=\"bp\">.</span><span class=\"n\">hPow</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">instHPow</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">Monoid</span><span class=\"bp\">.</span><span class=\"n\">toNatPow</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instMonoid</span><span class=\"o\">))</span>\n<span class=\"w\">                </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">HSub</span><span class=\"bp\">.</span><span class=\"n\">hSub</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">instHSub</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instSub</span><span class=\"o\">)</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">OfNat</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nat_lit</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">One</span><span class=\"bp\">.</span><span class=\"n\">toOfNat1</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instOne</span><span class=\"o\">))</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">HMul</span><span class=\"bp\">.</span><span class=\"n\">hMul</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">instHMul</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">instMul</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span>\n<span class=\"w\">                </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">OfNat</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nat_lit</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">instOfNatNat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nat_lit</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))))))</span>\n</code></pre></div>",
        "id": 516877331,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746705421
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Beyond.20TP.3A.20Formal.20Problem-Solving/near/516876163\">said</a>:</p>\n<blockquote>\n<p>Interesting work.  I worry about the Putnam benchmark.  The original putnambench benchmark already had this capability.  While I don't know that anyone used it, I also know that <span class=\"user-mention silent\" data-user-id=\"644040\">George Tsoukalas</span> has done a great and thankless job of maintaining this benchmark over time, carefully checking answers and recording SoTA.  I worry that taking that away from the PutnamBench team could lead to a split in the benchmark with a lot of confusion (just like happened to MiniF2F).</p>\n</blockquote>\n<p>Thanks for raising this :) We fully respect the PutnamBench team's work and invaluable efforts.  We aim to collaborate, not fragment. Our <code>jsonl</code> version is just for reproducibility of experiments and peer review on the preprint—we plan to discuss integration with their team to align contributions later <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> .</p>",
        "id": 517016807,
        "sender_full_name": "Qi Liu",
        "timestamp": 1746758618
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Beyond.20TP.3A.20Formal.20Problem-Solving/near/516876906\">said</a>:</p>\n<blockquote>\n<p>I also don't think benchmarks which release only as a <code>jsonl</code> file are maintainable; no one is going to want to fix lean statements inside a JSON string where vscode can't help with them.</p>\n</blockquote>\n<p>Yeah — embedding Lean code in JSON isn't the most maintainable approach.<br>\nThe <code>jsonl</code> was really just a quick solution for experiment reproducibility and peer review. We need to adjust pretty-printing (like <code>pp.explicit=true</code>) to extract code that works across both FPS and D-FPS setups, but I agree it's not ideal for actual usage.</p>\n<p>We have a preliminary idea on this and will try later <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> </p>\n<ol>\n<li>Store problems and answers in <code>.lean</code> files (in TP-style);</li>\n<li>Build a lightweight parser to extract components for FPS/D-FPS.</li>\n</ol>\n<p>If you've got ideas or want to poke at the design, feel free to chime in on GitHub! Always happy to make this more usable. <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 517018770,
        "sender_full_name": "Qi Liu",
        "timestamp": 1746759767
    }
]