[
    {
        "content": "<p>My sense is that Claude Code isn’t that useful yet in a Lean context because without custom engineering the agent doesn’t know the tactic state. Is that right? Curious if anyone tries it and has a positive experience.</p>\n<p><a href=\"https://www.anthropic.com/news/claude-3-7-sonnet\">https://www.anthropic.com/news/claude-3-7-sonnet</a></p>",
        "id": 501641830,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1740428943
    },
    {
        "content": "<p>I tried Claude Code briefly. After a bit of prompting it was able to invoke <code>lake env lean &lt;file&gt;</code>, and try to fix its own syntax errors, but ended up not able to fix its syntax and got stuck in a loop. (The task prompt was \"prove that 3 is not even\")<br>\nWhat worked better for me is when I wrote a simple wrapper of LeanTool to export its tool as a Model Context Protocol (MCP) server, which can then be added to Claude Code. This provides somewhat more information than just calling Lean, as it also prints goal states from <code>sorry</code>s (using Pantograph).<br>\nSee <a href=\"https://github.com/GasStationManager/LeanTool?tab=readme-ov-file#example-set-up-with-claude-code\">here</a> for an example set up.</p>",
        "id": 501886911,
        "sender_full_name": "GasStationManager",
        "timestamp": 1740509531
    },
    {
        "content": "<p>This does make me wonder, if Claude can make use of more interactive Lean features; e.g. if one makes a MCP server wrapper for <span class=\"user-mention\" data-user-id=\"802311\">@Oliver Dressler</span>'s <a href=\"https://github.com/oOo0oOo/leanclient\">leanclient</a>, which exposes the Lean Language Server features. Which features would be useful to an LLM?</p>",
        "id": 501888545,
        "sender_full_name": "GasStationManager",
        "timestamp": 1740510094
    },
    {
        "content": "<p>Similarly for <a href=\"https://github.com/stanford-centaur/PyPantograph\">Pantograph</a> and other repl-like interfaces. Would Claude be able to use these for proof search?</p>",
        "id": 501892760,
        "sender_full_name": "GasStationManager",
        "timestamp": 1740511504
    },
    {
        "content": "<p>Recent LLMs are pretty good at tool use if prompted appropriately, so likely use.</p>",
        "id": 502018295,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1740567713
    },
    {
        "content": "<p>doing the fvapps baselines, the simplest scaffold (a loop) elicited nontrivial ability to learn syntax that the core llm was wrong about, just error message no LSP wire-up</p>",
        "id": 502083461,
        "sender_full_name": "Quinn",
        "timestamp": 1740585593
    },
    {
        "content": "<p>i'm actually a little skeptical that LSP / goal state beats error message by a lot overall, but one choice over another might save a lot of tokens/dollars</p>",
        "id": 502089762,
        "sender_full_name": "Quinn",
        "timestamp": 1740587197
    }
]