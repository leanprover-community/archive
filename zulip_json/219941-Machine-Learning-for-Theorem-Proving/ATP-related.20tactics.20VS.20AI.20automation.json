[
    {
        "content": "<p>While researching various ways of implementing SMT provers in ITP and the benefits that would provide, I've come across a comment about various evaluations of hammers vs AI tools: <a class=\"message-link\" href=\"/#narrow/channel/419231-Lean-Together-2024/topic/Lean-auto.20-.20Yicheng.20Qian/near/413068215\">#Lean Together 2024 &gt; Lean-auto - Yicheng Qian @ ðŸ’¬</a>. A year ago, it was speculated that AI tools are becoming not worse than hammers. What about now? Did AI evolve enough to leave no benefits for other types of automation (which seems to be possible since hallucinations, which seem to be AI's only weakness, lead to mistakes in Lean)? What are the best models that provide the evidence of them beating their ATP competition?</p>",
        "id": 506469969,
        "sender_full_name": "V S",
        "timestamp": 1742301847
    },
    {
        "content": "<p>This is hard to evaluate since the AI for ATP community and the hammer community donâ€™t talk, donâ€™t go to the same conferences, and donâ€™t address each others work very well.  I think the AI folks would say that in papers like PISA (Isabelle), Thor (Isabelle), MagnusHammer (Isabelle), Graph2Tac (Coq/Roqc, mine) that AI (or AI plus tree search) tools now beat hammers in raw numbers of theorems proved, but some tools like Thor (Isabelle) and PALM (Coq/Roqc), and Cobblestone (Coq/Rocq) combine AI and Hammers for best effect.</p>\n<p>The hammer folks might counter that hammers are designed to be tuned to the situation at hand unlike AI tools.  Also hammers are more practical since there hasnâ€™t been much effort in making good practical AI tools for ITPs.  Even in Lean, I think the effort to make a Lean hammer has more buy-in than making practical AI tools for Lean.  </p>\n<p>See my Last Mile talk for more on the challenges here.</p>\n<p>Time will tellâ€¦</p>",
        "id": 507249998,
        "sender_full_name": "Jason Rute",
        "timestamp": 1742555680
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/ATP-related.20tactics.20VS.20AI.20automation/near/507249998\">said</a>:</p>\n<blockquote>\n<p>This is hard to evaluate since the AI for ATP community and the hammer community donâ€™t talk, donâ€™t go to the same conferences, and donâ€™t address each others work very well.  I think the AI folks would say that in papers like PISA (Isabelle), Thor (Isabelle), MagnusHammer (Isabelle), Graph2Tac (Coq/Roqc, mine) that AI (or AI plus tree search) tools now beat hammers in raw numbers of theorems proved, but some tools like Thor (Isabelle) and PALM (Coq/Roqc), and Cobblestone (Coq/Rocq) combine AI and Hammers for best effect.</p>\n<p>The hammer folks might counter that hammers are designed to be tuned to the situation at hand unlike AI tools.  Also hammers are more practical since there hasnâ€™t been much effort in making good practical AI tools for ITPs.  Even in Lean, I think the effort to make a Lean hammer has more buy-in than making practical AI tools for Lean.  </p>\n<p>See my Last Mile talk for more on the challenges here.</p>\n<p>Time will tellâ€¦</p>\n</blockquote>\n<p>Thank you! Appreciate the detailed answer!<br>\nIt's a shame that AI and hammer communities don't interact as much, it really seems like combining the two could lead to promising results</p>",
        "id": 507689896,
        "sender_full_name": "V S",
        "timestamp": 1742806770
    },
    {
        "content": "<p>Another paper combining AI and hammers is <a href=\"https://arxiv.org/abs/2210.12283\">Draft, Sketch, and Prove</a>.<br>\nAnother line of research that could be interesting to explore is using AI to automatically develop higher-level tactics. In particular, higher-level tactics could help enhance AI-based proof-search efficiency.<br>\nWe have <a href=\"https://arxiv.org/abs/2310.00656\">LEGO-Prover</a> which factor out lemmas. A similar first step for high-level tactics could be to leverage Mathlib's library to find repeated patterns in proofs (in a fuzzy sense). <a href=\"https://arxiv.org/abs/2006.08381\">DreamCoder</a> work is quite close to this idea.<br>\nI have no time to work on that though, so, to anyone reading this, feel free to try ^^</p>",
        "id": 507714112,
        "sender_full_name": "Auguste Poiroux",
        "timestamp": 1742812286
    },
    {
        "content": "<p>I may have gave a slightly misleading picture on the lack of synergy.  Lots of AI papers (for Isabelle and Coq) use hammers in the AI pipeline.  Thor uses them like tactics which an AI can call.  DSP uses them to fill in an LLM-created proof sketch.  Many papers use them to clean up LLM generated proofs.  Magnus Hammer replaces the Hammer, but still uses the hammer data and the Hammer reconstruction tactics.</p>\n<p>Also in the other direction, Hammers use machine learning to select lemmas (often called premise selection).  Actually this happens at two levels.  The first level selects lemmas to send to the ATP.  Many use things like Naive Bayes or other older machine learning methods, but the new Lean Hammer will use more advanced LLM-based AI Iâ€™ve heard.  The other level is premise selection in the ATP itself.  A number of papers have used neural tools there, including one paper by Josef Urban and team which focused on SledgeHammer ATP using data from Isabelle.</p>\n<p>The major theme here is that in the end you have a pipeline that can use lots of tools and types of AI, whether symbolic, neural, and LLM, and there are many ways to combine them.</p>\n<p>But I still stand by the fact that much of this research is not used in practice.</p>",
        "id": 507718665,
        "sender_full_name": "Jason Rute",
        "timestamp": 1742813323
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/ATP-related.20tactics.20VS.20AI.20automation/near/507718665\">said</a>:</p>\n<blockquote>\n<p>but the new Lean Hammer will use more advanced LLM-based AI Iâ€™ve heard.</p>\n</blockquote>\n<p>Can you please elaborate? I've skimmed the forum but was unable to find any info about it</p>",
        "id": 507733636,
        "sender_full_name": "V S",
        "timestamp": 1742816599
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"874708\">@V S</span> I don't know if it's been mentioned here.  I know this from talking with one of the people involved with building the hammer.  I don't think it was so super secret that I shouldn't have said anything, but I also might be misremembering details, or the details might change as they build it, so I don't want to say too much.  I'll let them reveal it in their own time.</p>",
        "id": 507734636,
        "sender_full_name": "Jason Rute",
        "timestamp": 1742816827
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/ATP-related.20tactics.20VS.20AI.20automation/near/507734636\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"874708\">V S</span> I don't know if it's been mentioned here.  I know this from talking with one of the people involved with building the hammer.  I don't think it was so super secret that I shouldn't have said anything, but I also might be misremembering details, or the details might change as they build it, so I don't want to say too much.  I'll let them reveal it in their own time.</p>\n</blockquote>\n<p>Ok, thank you nonetheless! I hope the development goes smoothly, it would be great to have more tools for Lean</p>",
        "id": 507758095,
        "sender_full_name": "V S",
        "timestamp": 1742821908
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321854\">Auguste Poiroux</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/ATP-related.20tactics.20VS.20AI.20automation/near/507714112\">said</a>:</p>\n<blockquote>\n<p>Another paper combining AI and hammers is <a href=\"https://arxiv.org/abs/2210.12283\">Draft, Sketch, and Prove</a>.<br>\nAnother line of research that could be interesting to explore is using AI to automatically develop higher-level tactics. In particular, higher-level tactics could help enhance AI-based proof-search efficiency.<br>\nWe have <a href=\"https://arxiv.org/abs/2310.00656\">LEGO-Prover</a> which factor out lemmas. A similar first step for high-level tactics could be to leverage Mathlib's library to find repeated patterns in proofs (in a fuzzy sense). <a href=\"https://arxiv.org/abs/2006.08381\">DreamCoder</a> work is quite close to this idea.<br>\nI have no time to work on that though, so, to anyone reading this, feel free to try ^^</p>\n</blockquote>\n<p>Thank you! Will keep this in mind</p>",
        "id": 507758492,
        "sender_full_name": "V S",
        "timestamp": 1742821977
    }
]