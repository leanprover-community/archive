[
    {
        "content": "<p>Dear all,</p>\n<p>We are delighted to share that, thanks to the kind suggestion of <a href=\"https://www.friederrr.org/\">Simon Frieder <span class=\"user-mention\" data-user-id=\"812368\">@friederrr</span> </a> from the <a href=\"https://aimoprize.com/\">AIMO Prize</a>, <a href=\"https://github.com/oOo0oOo/lean-lsp-mcp\">lean-lsp-mcp</a> has now integrated <a href=\"https://leanfinder.github.io/\">Lean Finder</a>. We greatly appreciate the swift efforts by <a href=\"https://github.com/oOo0oOo\">Oliver Dressler <span class=\"user-mention\" data-user-id=\"802311\">@Oliver Dressler</span> </a>!</p>\n<p>You can try it out by entering chat mode in VSCode, Cursor, or Claude Code, typing #lean_leanfinder, and then entering your query (it can be an informal statement, a formal Lean statement, a proof state, etc.). Your chat LLM will then respond using relevant retrievals from Lean Finder as context.</p>\n<p>To use Lean Finder, restart the MCP server to get the latest version.</p>\n<p>You can find the implementation and description (used by lean-lsp-mcp to brief the LLM) here:</p>\n<p><a href=\"https://github.com/oOo0oOo/lean-lsp-mcp/pull/45\">https://github.com/oOo0oOo/lean-lsp-mcp/pull/45</a></p>\n<p>Additionally, the wonderful <a href=\"https://github.com/cameronfreer/lean4-skills\">lean4-skills</a> plugin collection for Claude Code (by <a href=\"https://cfreer.org/\">Cameron Freer <span class=\"user-mention\" data-user-id=\"116846\">@Cameron Freer</span> </a>) includes a nice section explaining detailed usage (and so users of the skill do not need to explicitly invoke Lean Finder â€“ it is usually enough to suggest that it be used, and Claude Code will call it with appropriate queries):</p>\n<p><a href=\"https://github.com/cameronfreer/lean4-skills/blob/main/plugins/lean4-theorem-proving/skills/lean4-theorem-proving/references/lean-lsp-tools-api.md#lean_leanfinder---semantic-search-for-mathlib\">https://github.com/cameronfreer/lean4-skills/blob/main/plugins/lean4-theorem-proving/skills/lean4-theorem-proving/references/lean-lsp-tools-api.md#lean_leanfinder---semantic-search-for-mathlib</a></p>\n<p>Happy Lean coding and theorem proving!</p>\n<p>Best,</p>\n<p>Wuyang</p>",
        "id": 548200026,
        "sender_full_name": "Wuyang",
        "timestamp": 1761927959
    },
    {
        "content": "<p>This is a great tool; thank you!<br>\nI tried it out and have already found it useful. However, I did get tripped up a couple of times with recommendations for what seem to be outdated or deprecated names. For example, Lean Finder told me to use Finset.card_insert_of_not_mem which I think is supposed to be Finset.card_insert_of_notMem. On another occasion, it recommended \"byCases\" which I think is supposed to be \"by_cases\". Am I doing something wrong or is this just something one has to live with?</p>",
        "id": 553857887,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1762350038
    },
    {
        "content": "<p>If you type <code>Finset.card_insert_of_notMem</code> into <a href=\"https://mathlib-changelog.org/v4\">https://mathlib-changelog.org/v4</a> you'll see that it was renamed from <code>...not_mem</code> to <code>notMem</code> in May, so this is probably an instance of \"LLM was trained on an older model of mathlib\".</p>",
        "id": 553874748,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762353800
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/lean-lsp-mcp.20has.20now.20integrated.20Lean.20Finder/near/553874748\">said</a>:</p>\n<blockquote>\n<p>If you type <code>Finset.card_insert_of_notMem</code> into <a href=\"https://mathlib-changelog.org/v4\">https://mathlib-changelog.org/v4</a> you'll see that it was renamed from <code>...not_mem</code> to <code>notMem</code> in May, so this is probably an instance of \"LLM was trained on an older model of mathlib\".</p>\n</blockquote>\n<p>Thank you <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>  for this explanation!</p>",
        "id": 553948201,
        "sender_full_name": "Wuyang",
        "timestamp": 1762371802
    },
    {
        "content": "<p>Not very elegant, but you can outsource this check to the agent using a prompt like:</p>\n<div class=\"codehilite\" data-code-language=\"txt\"><pre><span></span><code>Search for theorems on finset cardinality with insertion using the lean finder mcp tool.\nThen verify using the local search tool. Check prefixes/alternatives if renamed.\n</code></pre></div>",
        "id": 553981484,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1762386106
    },
    {
        "content": "<p>maybe a tool that fuzzy searches by splitting an ident into components, checking different casings and insertions, and seeing if any of those exist</p>",
        "id": 559001609,
        "sender_full_name": "Alok Singh",
        "timestamp": 1763979681
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"337670\">Alok Singh</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/lean-lsp-mcp.20has.20now.20integrated.20Lean.20Finder/near/559001609\">said</a>:</p>\n<blockquote>\n<p>maybe a tool that fuzzy searches by splitting an ident into components, checking different casings and insertions, and seeing if any of those exist</p>\n</blockquote>\n<p>Currently trying out improvements to the local_search tool. For the lexical part I'm tending towards <a href=\"https://github.com/xhluca/bm25s\">BM25S</a>. It should handle some amount of fuzziness.</p>\n<p>However, I want to provide pre-built indices/embeddings for all recent toolchains and make sure it runs on a potato. So this will take a little longer.</p>",
        "id": 560228033,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1764096380
    }
]