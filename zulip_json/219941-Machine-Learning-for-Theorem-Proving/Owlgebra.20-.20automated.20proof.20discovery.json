[
    {
        "content": "<p>Dear Lean Community!</p>\n<p>I wanna present a new tool for automated proof discovery!<br>\n<a href=\"/user_uploads/3121/TROkQSwt0yHRAUicfTKi_uU1/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/TROkQSwt0yHRAUicfTKi_uU1/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2294x1358\" src=\"/user_uploads/thumbnail/3121/TROkQSwt0yHRAUicfTKi_uU1/image.png/840x560.webp\"></a></div><p>It brings together several powerful techniques inspired by other projects:</p>\n<ol>\n<li>It generates natural-language proofs for theorems and uses them to derive helper-lemmas. Then it tries to prove these lemmas—similar to AlphaProof, though currently in a simpler form—, before trying to find the final proof.</li>\n<li>It uses <a href=\"https://www.moogle.ai/\">moogle</a> results to enrich LLM queries. (Updated to lean Search)</li>\n<li>It simulates LLM answers with a REPL and provides errors back to the LLM, allowing for iterative refinement.</li>\n<li>It employs few-shot examples in the prompts for better performance.</li>\n<li>It works with any LLM, but currently gemini 2.5 works best.</li>\n<li>Solution finding techniques are configurable via the interface.</li>\n</ol>\n<p>If a proof has been found by this framework, it is displayed on the webpage:<br>\n<a href=\"/user_uploads/3121/8BF8mzz62xKWvICLRzFJj5sd/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/8BF8mzz62xKWvICLRzFJj5sd/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2294x1710\" src=\"/user_uploads/thumbnail/3121/8BF8mzz62xKWvICLRzFJj5sd/image.png/840x560.webp\"></a></div><p>The webpage for getting a first impression is <a href=\"https://owlgebra.vercel.app/\">here</a>, —and yes, you can try it out right away! </p>\n<p>For the full experience (without long waiting times), fork the repositories, add your own LLM API keys, and unleash the beast!<br>\n<a href=\"https://github.com/josojo/smarthammer\">backend</a><br>\n<a href=\"https://github.com/josojo/owlgebra\">frontend</a></p>\n<p>I hope this project offers a glimpse into what the future of proof automation could look like, and I’m excited to see what proofs it can find for you. If you do get great results, post screenshots in the thread! And if things don’t work smoothly, well we will keep on improving it over time.</p>\n<p>Running all this infrastructure does come with costs, so if you’d like to support the efforts, please send me a direct message.<br>\nFor sure, I am also happy to receive any PRs to the project. There is a lot to improve!</p>\n<p>Happy proving!</p>\n<p>PS: (If you talk about it on X, please tag me <a href=\"https://x.com/o_herminator\">https://x.com/o_herminator</a>)</p>",
        "id": 510363659,
        "sender_full_name": "josojo",
        "timestamp": 1743852620
    },
    {
        "content": "<p>Thanks for providing a web interface!</p>\n<p>If I want to run this a bunch locally and I don't want to pay for an API key, is it possible to use a local LLM? (via Ollama for example?)</p>",
        "id": 510370102,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1743857332
    },
    {
        "content": "<p>Also: I asked it a question and now it says \"finished\", but not \"proven\" does this mean it didn't find a proof?</p>",
        "id": 510370301,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1743857510
    },
    {
        "content": "<p>Here are some of the supported API interfaces:<br>\n<a href=\"https://github.com/josojo/smarthammer/tree/main/hammer/api\">https://github.com/josojo/smarthammer/tree/main/hammer/api</a></p>\n<p>If you wanna talk to a local LLM and you host it behind an local API like localhost/api, it should be very easy to add another adopter. You only need to inherit the <a href=\"https://github.com/josojo/smarthammer/blob/main/hammer/api/base_client.py\">https://github.com/josojo/smarthammer/blob/main/hammer/api/base_client.py</a>. </p>\n<p>It should be very easy, however, I do not know the exact constraints of your local deployment. If you give me more information what you are running, I could better help with implementing it.</p>",
        "id": 510370885,
        "sender_full_name": "josojo",
        "timestamp": 1743857922
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"282271\">Bolton Bailey</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Owlgebra.20-.20automated.20proof.20discovery/near/510370301\">said</a>:</p>\n<blockquote>\n<p>Also: I asked it a question and now it says \"finished\", but not \"proven\" does this mean it didn't find a proof?</p>\n</blockquote>\n<p>Yes! You can click on the logs on the webpage and investigate what the issue was. <br>\n<a href=\"/user_uploads/3121/itmMvXAD1nYEeX1c6Qi7Ag6Q/image.png\">image.png</a><br>\nIf this was your request, one sees that the initial parsing was not successful. Feel free to DM me the theorem that you wanted to proof and I can debug why the initial parsing of the lean code was not successful.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/itmMvXAD1nYEeX1c6Qi7Ag6Q/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"884x1094\" src=\"/user_uploads/thumbnail/3121/itmMvXAD1nYEeX1c6Qi7Ag6Q/image.png/840x560.webp\"></a></div>",
        "id": 510371113,
        "sender_full_name": "josojo",
        "timestamp": 1743858072
    },
    {
        "content": "<p>That is quite a tech stack you have there!  I <em>really</em> appreciate the web interface for anyone to try it, but it is hard to know if the massive tech stack is worth it.  I'd love for you to provide a nice, diverse set of examples, if not a whole benchmark (which might be impractically expensive).</p>",
        "id": 510374131,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743860263
    },
    {
        "content": "<p>I tried this standard example of mine, but I think it is having trouble parsing the arguments:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">list</span><span class=\"bp\">.</span><span class=\"n\">min_le_max</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">](</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nonempty</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"o\">[])</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">minimum</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">maximum</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 510374191,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743860289
    },
    {
        "content": "<p>(I edited the example to make it a <code>LinearOrder</code>.)</p>",
        "id": 510374575,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743860608
    },
    {
        "content": "<p>Another example of mine (which I called <code>foo</code>) is running.  You can find more community examples of tricky problems here: <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving\">Machine Learning for Theorem Proving</a>&gt;<a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Simple.20but.20hard.20puzzler.20for.20LLMs\">Simple but hard puzzler for LLMs</a></p>",
        "id": 510374809,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743860801
    },
    {
        "content": "<p>For my <code>foo</code> example (<a href=\"https://owlgebra.vercel.app/TasksPage?taskId=foo-1743859759-a1ba6972-5\">https://owlgebra.vercel.app/TasksPage?taskId=foo-1743859759-a1ba6972-5</a>), I think it failed to find a proof, right?</p>",
        "id": 510375073,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743861005
    },
    {
        "content": "<p>The huge advantage of the web ui is that one can easily parse and navigate through the long dialogues with the LLM (click on the links below the keyword \"Logs\"). This helps a lot with debugging. So while its the web UI is nice for everyone, it is also very helpful for us developers.</p>\n<p>Yes, I am really looking forward to run the benchmark. There are still some things that I wanna fix, but I have already a benchmark script in the repo.</p>",
        "id": 510376959,
        "sender_full_name": "josojo",
        "timestamp": 1743862417
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Owlgebra.20-.20automated.20proof.20discovery/near/510375073\">said</a>:</p>\n<blockquote>\n<p>For my <code>foo</code> example (<a href=\"https://owlgebra.vercel.app/TasksPage?taskId=foo-1743859759-a1ba6972-5\">https://owlgebra.vercel.app/TasksPage?taskId=foo-1743859759-a1ba6972-5</a>), I think it failed to find a proof, right?</p>\n</blockquote>\n<p>Thanks so much for trying all of them. For this particular one, it found already an additional helpful lemma and proved it successfully. But in the final theorem proof step, there were unexpected imports and hence it failed. I have already an idea on how to improve the machine here...</p>",
        "id": 510377119,
        "sender_full_name": "josojo",
        "timestamp": 1743862528
    },
    {
        "content": "<p>Also <a href=\"http://Moogle.ai\">Moogle.ai</a> is a dangerous tool to rely on.  It is really out-of-date.</p>",
        "id": 510377938,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743863119
    },
    {
        "content": "<p>Integrating into VSCode will give <em>much</em> better adoption relative to a webpage, I would think!</p>",
        "id": 510535078,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1743986026
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Owlgebra.20-.20automated.20proof.20discovery/near/510377938\">said</a>:</p>\n<blockquote>\n<p>Also <a href=\"http://Moogle.ai\">Moogle.ai</a> is a dangerous tool to rely on.  It is really out-of-date.</p>\n</blockquote>\n<p>You should be using <a href=\"http://leansearch.net\">leansearch.net</a> instead.</p>",
        "id": 510535132,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1743986047
    },
    {
        "content": "<p>The issue with <a href=\"http://leansearch.net\">leansearch.net</a> is that it is down a lot, but that isn’t as large of an issue.</p>",
        "id": 510535241,
        "sender_full_name": "Jason Rute",
        "timestamp": 1743986146
    },
    {
        "content": "<p>Alright, I updated the code to use lean Search. Right now it seems stable enough. Let's see. </p>\n<p>I also deployed some other fixes and now, it finds some solutions for theorem where is was not successful before. E.g. <br>\n<a href=\"/user_uploads/3121/5m1sm35eIrY9AzBnSfMTnt_i/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/5m1sm35eIrY9AzBnSfMTnt_i/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1866x1388\" src=\"/user_uploads/thumbnail/3121/5m1sm35eIrY9AzBnSfMTnt_i/image.png/840x560.webp\"></a></div><p>But yeah, currently it mostly succeeds only for simpler theorems. The <code>foo </code>example is still too hard :( </p>\n<p>I am soo looking forward to really run it more extensively with more retries. Just some more fixes :)</p>",
        "id": 510752115,
        "sender_full_name": "josojo",
        "timestamp": 1744054521
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Owlgebra.20-.20automated.20proof.20discovery/near/510535078\">said</a>:</p>\n<blockquote>\n<p>Integrating into VSCode will give <em>much</em> better adoption relative to a webpage, I would think!</p>\n</blockquote>\n<p>yeah, maybe you are right. However, I envision many retries of the agent, and this will take some time... and personally, I don't like it if my IDE is blocked for extended times. </p>\n<p>But the nice part is that only the backend logic is \"hard\" to code. Hence, one should be able to change it for a nice IDE integration \"easily\"</p>",
        "id": 510752502,
        "sender_full_name": "josojo",
        "timestamp": 1744054674
    },
    {
        "content": "<p>Yes, but the basic point is that no one is willing to change their workflow, to leave VSCode even for an instant. :-)</p>",
        "id": 510837968,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744088449
    },
    {
        "content": "<p>I use <a href=\"http://moogle.ai\">moogle.ai</a> and <a href=\"https://loogle.lean-lang.org\">https://loogle.lean-lang.org</a> all the time! Alt-tabbing back and forth is a fine part of my workflow. :)</p>",
        "id": 510941239,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1744120478
    },
    {
        "content": "<p>(Yes, I know there's a VS code extension for loogle, but I much prefer it in the browser)</p>",
        "id": 510941312,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1744120497
    }
]