[
    {
        "content": "<p>After <a href=\"https://github.com/vihdzp/combinatorial-games/pull/195\">https://github.com/vihdzp/combinatorial-games/pull/195</a>, I found that <code>rw</code> cannot see through <code>abbrev</code> (<code>leftMoves</code> and <code>rightMoves</code>) and caused some complications. I am wondering if we should completely remove <code>leftMoves</code> and <code>rightMoves</code>.</p>",
        "id": 534802598,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755408404
    },
    {
        "content": "<p>Idea: what if we made notation <code>x^L</code> for <code>moves x left</code>, and likewise for <code>x^R</code>?</p>",
        "id": 534823544,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755437044
    },
    {
        "content": "<p>Then it wouldn't really be a problem to remove the abbrev</p>",
        "id": 534827182,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755441062
    },
    {
        "content": "<p>btw, I realize this is somewhat of a big change, and I probably should have asked <span class=\"user-mention\" data-user-id=\"767695\">@Tristan Figueroa-Reid</span> for his opinion on it</p>",
        "id": 534830187,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755444757
    },
    {
        "content": "<p>I do think this is a good idea; just look at how much we can trim off the Grundy file! But it might need a bit of workflow adapting, so to speak.</p>",
        "id": 534830203,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755444779
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/534823544\">said</a>:</p>\n<blockquote>\n<p>Idea: what if we made notation <code>x^L</code> for <code>moves x left</code>, and likewise for <code>x^R</code>?</p>\n</blockquote>\n<p>Oh, I forgot that conventional notation!</p>",
        "id": 534833661,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755448818
    },
    {
        "content": "<p>I realized another thing in further refactoring. If we change the order of the parameters in <code>moves</code>, then <code>leftMoves</code> and <code>rightMoves</code> will simply correspond to <code>moves left</code> and <code>moves right</code> instead of <code>(moves · left)</code> and <code>(moves · right)</code>. There are often no games passed in the lemma about <code>LGame</code>, so maybe we should change the order of the parameters.</p>",
        "id": 534834917,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755450453
    },
    {
        "content": "<p>The symbol <code>ᴸ</code> also appears in the notation of <code>LGame.ofSets</code>. It would be better to change this notation.</p>",
        "id": 534835699,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755451208
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"455791\">Yuyang Zhao</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/534835699\">said</a>:</p>\n<blockquote>\n<p>The symbol <code>ᴸ</code> also appears in the notation of <code>LGame.ofSets</code>. It would be better to change this notation.</p>\n</blockquote>\n<p>We could use a lowercase ˡ instead, though that's very easy to confuse with the ᴵ in <code>IGame.ofSets</code>.</p>",
        "id": 534842721,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755459719
    },
    {
        "content": "<p>Alternatively, we could change that to a subscript, rather than a superscript.</p>",
        "id": 534842751,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755459748
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/534830187\">said</a>:</p>\n<blockquote>\n<p>btw, I realize this is somewhat of a big change, and I probably should have asked <span class=\"user-mention silent\" data-user-id=\"767695\">Tristan Figueroa-Reid</span> for his opinion on it</p>\n</blockquote>\n<p>As for the <code>Player</code> change, I'm generally a fan of extra types when it helps with readability (though this can sometimes hurt in Lean), but regardless, I do appreciate both the earlier Player refactor and this <code>moves</code> refactor.</p>",
        "id": 534845919,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1755463568
    },
    {
        "content": "<p>I made a typeclass for <code>ofSets</code> operations. It seems to work fine. But I have not come up with a perfect notation yet.</p>",
        "id": 535600008,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755825411
    },
    {
        "content": "<p><a href=\"https://github.com/vihdzp/combinatorial-games/pull/208\">https://github.com/vihdzp/combinatorial-games/pull/208</a></p>",
        "id": 535600137,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755825540
    },
    {
        "content": "<p>I like the notation you chose. I'd be fine merging this as is.</p>",
        "id": 535602656,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755827968
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/534823544\">said</a>:</p>\n<blockquote>\n<p>Idea: what if we made notation <code>x^L</code> for <code>moves x left</code>, and likewise for <code>x^R</code>?</p>\n</blockquote>\n<p>This would really come in handy. I think the distinction between <code>leftMoves</code> and <code>moves left</code> is a bit of a pain point with the new API.</p>",
        "id": 535768413,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755906132
    },
    {
        "content": "<p>We really ought to add a delab too, <code>x.moves Player.left</code> is a bit of an eyesore</p>",
        "id": 535768446,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755906173
    },
    {
        "content": "<p>Actually, I'll take care of this myself</p>",
        "id": 535773246,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755911660
    },
    {
        "content": "<p>have you learned how to write a delab</p>",
        "id": 535773487,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755911995
    },
    {
        "content": "<p>I think I'm able to interpolate from the other delabs in the repo</p>",
        "id": 535773506,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755912011
    },
    {
        "content": "<p>good luck</p>",
        "id": 535773527,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755912060
    },
    {
        "content": "<p>Yeah I got it to work</p>",
        "id": 535774206,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755913027
    },
    {
        "content": "<p>This is what I have:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- Typeclass for the `moves` operation. Used to implement the `xᴸ` and `xᴿ` syntax. -/</span>\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Moves</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Either the set of left or right moves of a game. -/</span>\n<span class=\"w\">  </span><span class=\"n\">moves</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Player</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span>\n<span class=\"kn\">export</span><span class=\"w\"> </span><span class=\"n\">Moves</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">moves</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- The set of left moves of the game. -/</span>\n<span class=\"kn\">postfix</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\"ᴸ\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Moves</span><span class=\"bp\">.</span><span class=\"n\">moves</span><span class=\"w\"> </span><span class=\"n\">left</span>\n\n<span class=\"sd\">/-- The set of right moves of the game. -/</span>\n<span class=\"kn\">postfix</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\"ᴿ\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Moves</span><span class=\"bp\">.</span><span class=\"n\">moves</span><span class=\"w\"> </span><span class=\"n\">right</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">PrettyPrinter</span><span class=\"w\"> </span><span class=\"n\">Delaborator</span><span class=\"w\"> </span><span class=\"n\">SubExpr</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">@[</span><span class=\"n\">app_delab</span><span class=\"w\"> </span><span class=\"n\">Moves</span><span class=\"bp\">.</span><span class=\"n\">moves</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">delabMoves</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Delab</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">getExpr</span>\n<span class=\"w\">  </span><span class=\"n\">guard</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">isAppOfArity'</span><span class=\"w\"> </span><span class=\"ss\">``Moves.moves</span><span class=\"w\"> </span><span class=\"mi\">4</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">withNaryArg</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"n\">delab</span>\n<span class=\"w\">  </span><span class=\"n\">withNaryArg</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">getExpr</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">isAppOf</span><span class=\"w\"> </span><span class=\"ss\">``Player.left</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"bp\">ᴸ</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">isAppOf</span><span class=\"w\"> </span><span class=\"ss\">``Player.right</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"bp\">ᴿ</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">failure</span><span class=\"w\"> </span><span class=\"c1\">-- fail over to the default delaborator</span>\n</code></pre></div>",
        "id": 535774214,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755913043
    },
    {
        "content": "<p>Downside: we no longer get dot notation <code>x.moves p</code><br>\nUpside: we get <code>xᴸ</code> and <code>xᴿ</code> notation for all our types of games</p>",
        "id": 535774227,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755913081
    },
    {
        "content": "<p>Another downside: <code>add'</code> now times out for some reason?</p>",
        "id": 535774462,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755913474
    },
    {
        "content": "<p>not <code>mul'</code> though that's fine</p>",
        "id": 535775122,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755914477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535774462\">said</a>:</p>\n<blockquote>\n<p>Another downside: <code>add'</code> now times out for some reason?</p>\n</blockquote>\n<p>which definition is this again?</p>",
        "id": 535775546,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755915066
    },
    {
        "content": "<p><code>IGame</code> addition</p>",
        "id": 535775553,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755915078
    },
    {
        "content": "<p>was it a fast definition or was it slow</p>",
        "id": 535775563,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755915103
    },
    {
        "content": "<p>Wasn't super fast</p>",
        "id": 535775595,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755915157
    },
    {
        "content": "<p>I think I just pushed it over the edge</p>",
        "id": 535775600,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755915163
    },
    {
        "content": "<p>can we make it faster</p>",
        "id": 535775604,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755915175
    },
    {
        "content": "<p>actually, would it be possible to get a ranking of all the slow definitions in the entire repository</p>",
        "id": 535775662,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755915246
    },
    {
        "content": "<p>then we could make them faster</p>",
        "id": 535775673,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755915268
    },
    {
        "content": "<p>Would be nice</p>",
        "id": 535775849,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755915543
    },
    {
        "content": "<p>Not sure how to set up that sort of automation though</p>",
        "id": 535775853,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755915548
    },
    {
        "content": "<p>tbf the repo builds in like five minutes anyways</p>",
        "id": 535776223,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755916200
    },
    {
        "content": "<p>Which for Mathlib standards is blazing fast</p>",
        "id": 535776232,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755916206
    },
    {
        "content": "<p>Well it's not really a huge repo</p>",
        "id": 535776402,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755916497
    },
    {
        "content": "<p>Not huge like mathlib</p>",
        "id": 535776414,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755916508
    },
    {
        "content": "<p>my point precisely</p>",
        "id": 535776433,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755916536
    },
    {
        "content": "<p>that doesn't mean it's okay to have definitions taking 10 seconds to elaborate and typecheck</p>",
        "id": 535776701,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755916856
    },
    {
        "content": "<p>The elaboration isn't what takes 10 seconds, it's proving well-foundedness</p>",
        "id": 535776720,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755916881
    },
    {
        "content": "<p>did you know that's part of elaboration</p>",
        "id": 535776775,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755916946
    },
    {
        "content": "<p>specifically, the part where it compiles recursive pre-definitions</p>",
        "id": 535776827,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755916986
    },
    {
        "content": "<p>fair enough</p>",
        "id": 535776887,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917045
    },
    {
        "content": "<p>still I can rest easy knowing the definitions are slow because there's some complicated well-foundedness argument behind it, and not because of Lean shenanigans</p>",
        "id": 535776911,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917076
    },
    {
        "content": "<p>it's not complicated though?</p>",
        "id": 535776944,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917107
    },
    {
        "content": "<p>I feel like it's really quite simple</p>",
        "id": 535776966,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917126
    },
    {
        "content": "<p>and shouldn't take too long</p>",
        "id": 535776983,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917145
    },
    {
        "content": "<p>maybe it's just that <code>igame_wf</code> is too expensive</p>",
        "id": 535777009,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917177
    },
    {
        "content": "<p>have you timed it?</p>",
        "id": 535777017,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917186
    },
    {
        "content": "<p>nope</p>",
        "id": 535777026,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917203
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535777009\">said</a>:</p>\n<blockquote>\n<p>maybe it's just that <code>igame_wf</code> is too expensive</p>\n</blockquote>\n<p><code>igame_wf</code> is basically just a <code>solve_by_elim</code> call</p>",
        "id": 535777041,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917227
    },
    {
        "content": "<p>it's depth 8</p>",
        "id": 535777146,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917372
    },
    {
        "content": "<p>that feels like a lot</p>",
        "id": 535777158,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917378
    },
    {
        "content": "<p>One of the proofs does need to go to that depth</p>",
        "id": 535777202,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917397
    },
    {
        "content": "<p>Maybe the solution is to allow passing a depth argument</p>",
        "id": 535777216,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917407
    },
    {
        "content": "<p>maybe the solution is to use a proof which doesn't need that depth</p>",
        "id": 535777237,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917424
    },
    {
        "content": "<p>If your new proof is more than 2 lines I'm not merging it</p>",
        "id": 535777251,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917442
    },
    {
        "content": "<p>I don't have a new proof</p>",
        "id": 535777254,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917452
    },
    {
        "content": "<p>I think it's more important for <code>igame_wf</code> to be convenient than for it to be fast</p>",
        "id": 535777259,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917461
    },
    {
        "content": "<p>I don't even know what's slow</p>",
        "id": 535777260,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917461
    },
    {
        "content": "<p><code>igame_wf</code> should mean \"everything in here obviously decreases, get me out of here\"</p>",
        "id": 535777278,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917488
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535777259\">said</a>:</p>\n<blockquote>\n<p>I think it's more important for <code>igame_wf</code> to be convenient than for it to be fast</p>\n</blockquote>\n<p>ok I won't touch <code>igame_wf</code> this time</p>",
        "id": 535777281,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917492
    },
    {
        "content": "<p>I just want to know what's slow</p>",
        "id": 535777305,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917533
    },
    {
        "content": "<p>how do I know what's slow</p>",
        "id": 535777312,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917542
    },
    {
        "content": "<p>Well at the very least everything with <code>set_option maxHeartbeats</code> is slow</p>",
        "id": 535777318,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917551
    },
    {
        "content": "<p>ok I'll search for that</p>",
        "id": 535777320,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917562
    },
    {
        "content": "<p><code>mk_mul_assoc</code> and <code>movesSingle_comp_prodMap</code></p>",
        "id": 535777345,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917601
    },
    {
        "content": "<p>is it only those two?</p>",
        "id": 535777362,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917616
    },
    {
        "content": "<p>The latter probably is just missing some lemma</p>",
        "id": 535777363,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917616
    },
    {
        "content": "<p>I just don't know which</p>",
        "id": 535777366,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917619
    },
    {
        "content": "<p>I thought there were more of these, huh</p>",
        "id": 535777377,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917638
    },
    {
        "content": "<p>this seems speedup-able</p>",
        "id": 535777399,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917678
    },
    {
        "content": "<p>In fact I admit I have no idea how <code>aesop</code> managed to prove <code>movesSingle_comp_prodMap</code></p>",
        "id": 535777410,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917702
    },
    {
        "content": "<p>I simply accept it</p>",
        "id": 535777414,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755917705
    },
    {
        "content": "<p>I am now waiting for build, let's see how long this will take</p>",
        "id": 535777458,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755917802
    },
    {
        "content": "<p>ok it finished building</p>",
        "id": 535777772,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755918276
    },
    {
        "content": "<p>that did not feel like five minutes</p>",
        "id": 535777788,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755918291
    },
    {
        "content": "<p>hm yeah that was not five minutes</p>",
        "id": 535777808,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755918316
    },
    {
        "content": "<p>maybe my computer is slow</p>",
        "id": 535777818,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755918329
    },
    {
        "content": "<p>wtf this mul assoc theorem takes like 30s</p>",
        "id": 535777979,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755918589
    },
    {
        "content": "<p>game multiplication is screwed up</p>",
        "id": 535778130,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755918858
    },
    {
        "content": "<p>the goal state is now over two screens tall</p>",
        "id": 535778266,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755919128
    },
    {
        "content": "<p>I can't make it any wider</p>",
        "id": 535778271,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755919140
    },
    {
        "content": "<p>maybe I'll fix this one tomorrow</p>",
        "id": 535778384,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755919370
    },
    {
        "content": "<p>have you tried working through that particular theorem on paper</p>",
        "id": 535778413,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755919416
    },
    {
        "content": "<p>I don't even think the proof is that slow for what it is</p>",
        "id": 535778419,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755919429
    },
    {
        "content": "<p>It's awful</p>",
        "id": 535778421,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755919430
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535778413\">said</a>:</p>\n<blockquote>\n<p>have you tried working through that particular theorem on paper</p>\n</blockquote>\n<p>no what's the proof</p>",
        "id": 535778556,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755919665
    },
    {
        "content": "<p>expand everything, use the induction hypothesis literally like 40 times, collect like terms</p>",
        "id": 535778596,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755919730
    },
    {
        "content": "<p>the proof in the repo only used it 28 times I think</p>",
        "id": 535778655,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755919824
    },
    {
        "content": "<p>I have successfully expanded everything</p>",
        "id": 535778676,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755919847
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535778655\">said</a>:</p>\n<blockquote>\n<p>the proof in the repo only used it 28 times I think</p>\n</blockquote>\n<p>oh yeah its 7 × 4</p>",
        "id": 535778683,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755919859
    },
    {
        "content": "<p>Well this notation PR is going to be huge</p>",
        "id": 535780145,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755922112
    },
    {
        "content": "<p>But I think there's some things I can do to split it up</p>",
        "id": 535780163,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755922130
    },
    {
        "content": "<p>Part of what no longer using <code>leftMoves</code> and <code>rightMoves</code> entails is that a lot of theorems have to be renamed. My idea is to rename <code>leftMoves</code> → <code>moves_left</code> and <code>rightMoves</code> → <code>moves_right</code> in theorem names.</p>",
        "id": 535780193,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755922175
    },
    {
        "content": "<p>I'll just make a separate PR doing nothing but that replacement. Should hopefully make the diff of the notation PR smaller</p>",
        "id": 535780261,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755922257
    },
    {
        "content": "<p>...maybe even a few renaming PRs</p>",
        "id": 535780363,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755922427
    },
    {
        "content": "<p>yeah<br>\n<a href=\"/user_uploads/3121/v8IWmu30VjjV7VVUNN-ugBHc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/v8IWmu30VjjV7VVUNN-ugBHc/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"559x43\" src=\"/user_uploads/thumbnail/3121/v8IWmu30VjjV7VVUNN-ugBHc/image.png/840x560.webp\"></a></div>",
        "id": 535782289,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755925281
    },
    {
        "content": "<p>I definitely have to split this</p>",
        "id": 535782296,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755925289
    },
    {
        "content": "<p>I've opened like 10 PRs so I think I've done a decent job at splitting</p>",
        "id": 535784681,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755928487
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535774227\">said</a>:</p>\n<blockquote>\n<p>Downside: we no longer get dot notation <code>x.moves p</code><br>\nUpside: we get <code>xᴸ</code> and <code>xᴿ</code> notation for all our types of games<br>\nAnother downside: <code>add'</code> now times out for some reason?</p>\n</blockquote>\n<p>If we only need <code>xᴸ</code> and <code>xᴿ</code> notation and do not need some general features about them, then we do not need a new typeclass to make it work.</p>\n<p>The delaborator automatically generated for <code>notation ... =&gt; (f x) y</code> seems to have a bug and does not work.</p>",
        "id": 535795979,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755942931
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"455791\">Yuyang Zhao</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535795979\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535774227\">said</a>:</p>\n<blockquote>\n<p>Downside: we no longer get dot notation <code>x.moves p</code><br>\nUpside: we get <code>xᴸ</code> and <code>xᴿ</code> notation for all our types of games<br>\nAnother downside: <code>add'</code> now times out for some reason?</p>\n</blockquote>\n<p>If we only need <code>xᴸ</code> and <code>xᴿ</code> notation and do not need some general features about them, then we do not need a new typeclass to make it work.</p>\n<p>The delaborator automatically generated for <code>notation ... =&gt; (f x) y</code> seems to have a bug and does not work.</p>\n</blockquote>\n<p>I want this notation to work both for <code>IGame</code> and <code>LGame</code>, which I think does necessitate a typeclass.</p>",
        "id": 535817848,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755968845
    },
    {
        "content": "<p>Also, I wrote my own delaborator, which seems to work fine.</p>",
        "id": 535817868,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755968871
    },
    {
        "content": "<p>did you fix <code>add'</code></p>",
        "id": 535818066,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755969108
    },
    {
        "content": "<p>no</p>",
        "id": 535818079,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755969125
    },
    {
        "content": "<p>but that's an elaboration issue, rather than a delaboration one, isn't it?</p>",
        "id": 535818089,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755969137
    },
    {
        "content": "<p>It is the only proof that broke, so I imagine it was already close to the limit as is</p>",
        "id": 535818286,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755969375
    },
    {
        "content": "<p>(Is there a way to measure that? Maybe setting the heartbeats to slightly below 200000?)</p>",
        "id": 535818297,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755969393
    },
    {
        "content": "<p>Is 200 000 the default?</p>",
        "id": 535818446,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755969594
    },
    {
        "content": "<p>Yep</p>",
        "id": 535818450,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755969601
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535817848\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"455791\">Yuyang Zhao</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535795979\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/.60moves.60.20and.20.60leftMoves.60.20.60rightMoves.60/near/535774227\">said</a>:</p>\n<blockquote>\n<p>Downside: we no longer get dot notation <code>x.moves p</code><br>\nUpside: we get <code>xᴸ</code> and <code>xᴿ</code> notation for all our types of games<br>\nAnother downside: <code>add'</code> now times out for some reason?</p>\n</blockquote>\n<p>If we only need <code>xᴸ</code> and <code>xᴿ</code> notation and do not need some general features about them, then we do not need a new typeclass to make it work.</p>\n<p>The delaborator automatically generated for <code>notation ... =&gt; (f x) y</code> seems to have a bug and does not work.</p>\n</blockquote>\n<p>I want this notation to work both for <code>IGame</code> and <code>LGame</code>, which I think does necessitate a typeclass.</p>\n</blockquote>\n<p>For simple cases, lean can determine the meaning of notations. You can try it with my PR.</p>",
        "id": 535854809,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755971206
    },
    {
        "content": "<p>Does that not require writing two sets of delaborators, though?</p>",
        "id": 535855012,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755971417
    },
    {
        "content": "<p>Using <code>notation:max x:max \"ᴸ\" =&gt; moves left x</code> instead of <code>postfix:max \"ᴸ\" =&gt; moves left</code> (perhaps equivalent to <code>notation:max x:max \"ᴸ\" =&gt; (moves left) x</code>) will not create a broken delaborator.</p>",
        "id": 535855174,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1755971676
    },
    {
        "content": "<p>Awesome! That avoids most of the breakage I saw with my own PR.</p>",
        "id": 535855224,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755971753
    },
    {
        "content": "<p>Can you merge master? I think there's some merge conflicts.</p>",
        "id": 535855233,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755971763
    },
    {
        "content": "<p>Awesome! We have notation now.</p>",
        "id": 535858795,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755976447
    },
    {
        "content": "<p>I left two to-dos in the review:</p>\n<ul>\n<li>rename <code>leftMoves</code> to <code>move_left</code> in theorem names throughout (which should probably wait for <a href=\"https://github.com/vihdzp/combinatorial-games/pull/217\">#217</a>)</li>\n<li>symmetrize the API for surreal cuts (any takers?)</li>\n</ul>",
        "id": 535858823,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755976490
    }
]