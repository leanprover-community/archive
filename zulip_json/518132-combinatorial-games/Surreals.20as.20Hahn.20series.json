[
    {
        "content": "<p>I remember <a class=\"message-link\" href=\"/#narrow/channel/116395-maths/topic/Real-closed.20Hahn.20series/near/506700152\">#maths &gt; Real-closed Hahn series @ üí¨</a></p>",
        "id": 533542294,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754698287
    },
    {
        "content": "<p>Oh yeah of course I had asked this before</p>",
        "id": 533542310,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754698309
    },
    {
        "content": "<p>I'll have to add Hahn series to my reading list.</p>",
        "id": 533542359,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754698353
    },
    {
        "content": "<p>I first need to figure out how infinite sums of w^x are even defined.</p>",
        "id": 533542474,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754698525
    },
    {
        "content": "<p>The simplest number that has all the correct coefficients</p>",
        "id": 533542531,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754698589
    },
    {
        "content": "<p>... How are the coefficients defined?</p>",
        "id": 533542601,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754698679
    },
    {
        "content": "<p>The next coefficient is the real part of the quotient of the difference between your number and its coefficients so far by the appropriate omega-power to make it the same archimedean class as one</p>",
        "id": 533542946,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699167
    },
    {
        "content": "<p>I think</p>",
        "id": 533542947,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699168
    },
    {
        "content": "<p>yeah that sounds about right</p>",
        "id": 533542951,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699175
    },
    {
        "content": "<p>Hm</p>",
        "id": 533543021,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699223
    },
    {
        "content": "<p>That sounds correct</p>",
        "id": 533543078,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699295
    },
    {
        "content": "<p>Would it be correct to say that the leading coefficient of x is w^e * r where e and r are the <em>unique</em> numbers with x / (w^e * r) ‚âà 1?</p>",
        "id": 533543146,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699401
    },
    {
        "content": "<p>In the sense that their difference is infinitesimal</p>",
        "id": 533543193,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699453
    },
    {
        "content": "<p>The quotient, rather than the difference</p>",
        "id": 533543208,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699470
    },
    {
        "content": "<p>The difference between w^-1 and w^-1 is infinitesimal, as is the difference between w^-1 and 2 * w^-1</p>",
        "id": 533543227,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699494
    },
    {
        "content": "<p>no I mean the difference x / (w^e * r) - 1</p>",
        "id": 533543235,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699507
    },
    {
        "content": "<p>Oh yeah that's what I meant by the approx sign</p>",
        "id": 533543257,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699522
    },
    {
        "content": "<p>Same archimedean class</p>",
        "id": 533543264,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699525
    },
    {
        "content": "<p>yeah I think that should be correct</p>",
        "id": 533543271,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699540
    },
    {
        "content": "<p>I've pulled up ONAG so I can double check</p>",
        "id": 533543276,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699547
    },
    {
        "content": "<p>So that's the leading coefficient</p>",
        "id": 533543307,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699591
    },
    {
        "content": "<p>yes</p>",
        "id": 533543315,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699599
    },
    {
        "content": "<p>It's pretty obvious how to calculate the nth coefficient for natural n</p>",
        "id": 533543320,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699604
    },
    {
        "content": "<p>But what about the wth coefficient?</p>",
        "id": 533543324,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699609
    },
    {
        "content": "<p>the leading coefficient of the difference with the simplest number which agrees on all the finite coefficients</p>",
        "id": 533543352,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699650
    },
    {
        "content": "<p>Huh</p>",
        "id": 533543364,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699671
    },
    {
        "content": "<p>I think I get it</p>",
        "id": 533543397,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699709
    },
    {
        "content": "<p>But that sounds like a doozy to formalize</p>",
        "id": 533543399,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699714
    },
    {
        "content": "<p>it's mutually recursive</p>",
        "id": 533543404,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699723
    },
    {
        "content": "<p>you should be able to get that the numbers agreeing with a sequence of coefficients fall between two gaps generated by sets</p>",
        "id": 533543450,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699777
    },
    {
        "content": "<p>Wait I get it! You formalize the o-th coefficient and sums of length o at once, for o an ordinal, using recursion</p>",
        "id": 533543457,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699786
    },
    {
        "content": "<p>The o-th coefficient is the leading coefficient of the difference with the simplest number agreeing on all coefficients a &lt; o</p>",
        "id": 533543478,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699817
    },
    {
        "content": "<p>Wait</p>",
        "id": 533543493,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699837
    },
    {
        "content": "<p>That's not even mutual recursion</p>",
        "id": 533543497,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699842
    },
    {
        "content": "<p>That's just recursion</p>",
        "id": 533543500,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699845
    },
    {
        "content": "<p>well you've pulled the sum and the coefficients into one function so it's not mutual anymore</p>",
        "id": 533543508,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699865
    },
    {
        "content": "<p>by the way, that's how the equation compiler handles mutual recursion</p>",
        "id": 533543513,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699877
    },
    {
        "content": "<p>it creates an auxiliary function which does all of them at once</p>",
        "id": 533543524,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754699892
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/stream/518132-combinatorial-games/topic/Summary.20file/near/533543478\">said</a>:</p>\n<blockquote>\n<p>The o-th coefficient is the leading coefficient of the difference with the simplest number agreeing on all coefficients a &lt; o</p>\n</blockquote>\n<p>I like how you don't even need to use limit recursion</p>",
        "id": 533543565,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699961
    },
    {
        "content": "<p>Yet again proving my mantra of \"you probably don't need limit recursion\"</p>",
        "id": 533543577,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754699974
    },
    {
        "content": "<p>I guess there is something I'm omitting - how do you know such a number agreeing on all the coefficients even exists?</p>",
        "id": 533543637,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754700047
    },
    {
        "content": "<p>the number the coefficients are coming from</p>",
        "id": 533543666,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754700084
    },
    {
        "content": "<p>you can show that the proper class of numbers agreeing with all the coefficients is the interval between two small cuts</p>",
        "id": 533543718,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754700149
    },
    {
        "content": "<p>uhm</p>",
        "id": 533543724,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754700165
    },
    {
        "content": "<p>I'll see what ONAG has to say about this</p>",
        "id": 533543731,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754700173
    },
    {
        "content": "<p>...we're no longer talking about the summary file btw</p>",
        "id": 533543761,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754700220
    },
    {
        "content": "<p>Do I have the power to move messages within this channel?</p>",
        "id": 533543765,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754700237
    },
    {
        "content": "<p>yes</p>",
        "id": 533543807,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754700291
    },
    {
        "content": "<p>you can't move them to a different channel though</p>",
        "id": 533543815,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754700298
    },
    {
        "content": "<p>49 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"518132\" href=\"/#narrow/channel/518132-combinatorial-games/topic/Summary.20file/with/533542287\">#combinatorial-games &gt; Summary file</a> by <span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span>.</p>",
        "id": 533548648,
        "sender_full_name": "Notification Bot",
        "timestamp": 1754707146
    },
    {
        "content": "<p>There goes</p>",
        "id": 533548655,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754707155
    },
    {
        "content": "<p>Actually, how do you even prove that every positive surreal is commensurate to some <code>œâ^ x</code>?</p>",
        "id": 533553033,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754714021
    },
    {
        "content": "<p>oh nvm that's theorem 19 in ONAG</p>",
        "id": 533553075,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754714080
    },
    {
        "content": "<p>should be simple enough to formalize</p>",
        "id": 533553080,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754714086
    },
    {
        "content": "<p>It hasn't been simple to formalize</p>",
        "id": 533613230,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790472
    },
    {
        "content": "<p>But I'm getting there!</p>",
        "id": 533613236,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790477
    },
    {
        "content": "<p>I'm facing some slight annoyances with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ArchimedeanClass.mk#doc\">docs#ArchimedeanClass.mk</a>, the most relevant of which being the length of the name. I'm not a fan of writing <code>archimedeanClassMk</code> all over our statements, and even though <code>mk</code> is much nicer it introduces ambiguity with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Surreal.mk#doc\">docs#Surreal.mk</a>.</p>",
        "id": 533613309,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790575
    },
    {
        "content": "<p>what does using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ArchimedeanClass#doc\">docs#ArchimedeanClass</a> buy you?</p>",
        "id": 533613400,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754790711
    },
    {
        "content": "<p>It's commensurability</p>",
        "id": 533613418,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790744
    },
    {
        "content": "<p>there don't <em>seem</em> to be a plethora of lemmas about it</p>",
        "id": 533613421,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754790748
    },
    {
        "content": "<p>We can expand the API as needed</p>",
        "id": 533613427,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790763
    },
    {
        "content": "<p>sure I guess</p>",
        "id": 533613438,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754790769
    },
    {
        "content": "<p>I was wondering if we could introduce notation, kind of how we did for <code>lf</code>. Specifically, write <code>x ‚â™ y</code> for <code>ArchimedeanClass.mk y &lt; ArchimedeanClass.mk x</code> (the order on <code>ArchimedeanClass</code>  is backwards for Hahn series reasons), and write something else for <code>ArchimedeanClass.mk x = Archimedean class.mk y</code>.</p>",
        "id": 533613452,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790795
    },
    {
        "content": "<p>I was thinking just write the map from surreals to surreals which is the inverse of the omega map up to commeasurability</p>",
        "id": 533613457,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754790803
    },
    {
        "content": "<p>Well the thing is that commensurability is precisely what <code>ArchimedeanClass</code> represents</p>",
        "id": 533613538,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790915
    },
    {
        "content": "<p>We could define a <code>wlog</code> map and prove that commensurable surreals have the same wlog</p>",
        "id": 533613564,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790946
    },
    {
        "content": "<p>But that would still be written down in terms of <code>ArchimedeanClass</code></p>",
        "id": 533613573,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754790957
    },
    {
        "content": "<p>I guess yeah</p>",
        "id": 533613594,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754790964
    },
    {
        "content": "<p>Well, what would the alternative be? Define our own <code>Commensurable</code> predicate with even less API? Or write down that whole thing about \"there exists a natural number whose product is greater\" every single time?</p>",
        "id": 533613629,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791031
    },
    {
        "content": "<p>In fact, there isn't really a canonical way to write down commensurability. You can use natural numbers in the definition, but you can also use positive rationals, or positive dyadic rationals, or positive reals.</p>",
        "id": 533613651,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791069
    },
    {
        "content": "<p>I'd argue that's more reason to use <code>ArchimedeanClass</code>, since we get a canonical way to write things down from which we can prove all the other equivalences.</p>",
        "id": 533613665,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791105
    },
    {
        "content": "<p>no yeah that makes sense</p>",
        "id": 533613680,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754791121
    },
    {
        "content": "<p>the name is long though</p>",
        "id": 533613690,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754791135
    },
    {
        "content": "<p>That's why I was asking about notation</p>",
        "id": 533613700,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791145
    },
    {
        "content": "<p>What do you think about using <code>llt</code> and <code>commensurable</code> on theorem names?</p>",
        "id": 533613717,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791176
    },
    {
        "content": "<p>For the &lt; and = relations on <code>ArchimedeanClass</code></p>",
        "id": 533613723,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791199
    },
    {
        "content": "<p>Just an idea, suggestions open</p>",
        "id": 533613812,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754791268
    },
    {
        "content": "<p>Or we could use <code>comm</code> for the latter, surely there's no ambiguity with commutativity</p>",
        "id": 533614831,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754792665
    },
    {
        "content": "<p>I mean, given that we already use <code>lf</code> and <code>equiv</code> even though there aren't any definitions with these names, I don't think it should be a problem.</p>",
        "id": 533615636,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754793768
    },
    {
        "content": "<p>yeah it's fine as long as you can justify those names</p>",
        "id": 533615662,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754793792
    },
    {
        "content": "<p>llt -&gt; much lesser than -&gt; every finite multiple of x is lesser than y<br>\ncomm -&gt; commensurate</p>",
        "id": 533615705,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754793846
    },
    {
        "content": "<p>does that mean the other way is ggt</p>",
        "id": 533615726,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754793869
    },
    {
        "content": "<p>what if I want an le version</p>",
        "id": 533615733,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754793884
    },
    {
        "content": "<p>Hmm yeah not sure how to name the le version</p>",
        "id": 533615852,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754794019
    },
    {
        "content": "<p><code>lle</code> might work but it would be really silly</p>",
        "id": 533615864,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754794036
    },
    {
        "content": "<p>Though if we use the symbol ‚™£ for it, it would make sense</p>",
        "id": 533615956,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754794163
    },
    {
        "content": "<p>U+2AA3 : DOUBLE NESTED LESS-THAN WITH UNDERBAR</p>",
        "id": 533615982,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754794192
    },
    {
        "content": "<p>that's new to me</p>",
        "id": 533615985,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754794195
    },
    {
        "content": "<p>it's an under bar and not just \"or equal to\"?</p>",
        "id": 533616008,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754794235
    },
    {
        "content": "<p>where do you get these unicode</p>",
        "id": 533616037,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754794274
    },
    {
        "content": "<p><a href=\"https://shapecatcher.com\">Shapecatcher</a> is a great website</p>",
        "id": 533616075,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754794327
    },
    {
        "content": "<p>amazing</p>",
        "id": 533616083,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754794347
    },
    {
        "content": "<p>This does beg the question, what notation should we use for commensurable elements?</p>",
        "id": 533616976,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754795489
    },
    {
        "content": "<p>We could bring back <code>‚â°</code>, it follows the \"double symbol\" theme and we aren't using it anymore thanks to the <code>IGame</code> refactor.</p>",
        "id": 533617007,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754795534
    },
    {
        "content": "<p>These are my suggestions:<br>\n<a href=\"/user_uploads/3121/BasKug6kuJvUuKpaZCkEgZ0Z/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BasKug6kuJvUuKpaZCkEgZ0Z/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"794x273\" src=\"/user_uploads/thumbnail/3121/BasKug6kuJvUuKpaZCkEgZ0Z/image.png/840x560.webp\"></a></div>",
        "id": 533617422,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754796138
    },
    {
        "content": "<p>Hmm, apparently there's a clash with <code>‚â°</code><br>\n<a href=\"/user_uploads/3121/DPkbBs6jWPVVoy24wPhiIMxu/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/DPkbBs6jWPVVoy24wPhiIMxu/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"859x101\" src=\"/user_uploads/thumbnail/3121/DPkbBs6jWPVVoy24wPhiIMxu/image.png/840x560.webp\"></a></div>",
        "id": 533619100,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754798520
    },
    {
        "content": "<p>How come we never had this problem with <code>PGame.Identical</code>?</p>",
        "id": 533619111,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754798528
    },
    {
        "content": "<p>I guess an alternative might be to just use ~, and make all of these notations scoped.</p>",
        "id": 533620213,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754800039
    },
    {
        "content": "<p>I don't know. Maybe we don't even need notation.</p>",
        "id": 533623158,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754803167
    },
    {
        "content": "<p>Having a hard time finding anything that simultaneously makes sense and works</p>",
        "id": 533623176,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754803184
    },
    {
        "content": "<p>I think I'll just go notationless for now. Once I prove the math results I want we can think about how to make them look nice.</p>",
        "id": 533628349,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1754808902
    },
    {
        "content": "<p>Just filed <a href=\"https://github.com/vihdzp/combinatorial-games/issues/222\">#222</a></p>",
        "id": 535819526,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1755970933
    },
    {
        "content": "<p>I just realized something pretty substantial: the claim <code>Surreal ‚âÉ+*o HahnSeries ‚Ñù Surreal</code> is false!</p>",
        "id": 537741501,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757015715
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/537741501\">said</a>:</p>\n<blockquote>\n<p>I just realized something pretty substantial: the claim <code>Surreal ‚âÉ+*o HahnSeries ‚Ñù Surreal</code> is false!</p>\n</blockquote>\n<p>oh no what's wrong</p>",
        "id": 537741810,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757015846
    },
    {
        "content": "<p>In fact, the embedding is strict. There are Hahn series that don't correspond to surreal numbers.</p>",
        "id": 537741846,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757015858
    },
    {
        "content": "<p>As an example: <code>X ^ (toSurreal o)</code> summed over all ordinals <code>o</code>.</p>",
        "id": 537741952,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757015902
    },
    {
        "content": "<p>oh I think I get it</p>",
        "id": 537741967,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757015907
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/537741501\">said</a>:</p>\n<blockquote>\n<p>I just realized something pretty substantial: the claim <code>Surreal ‚âÉ+*o HahnSeries ‚Ñù Surreal</code> is false!</p>\n</blockquote>\n<p>This is one of those claims like \"the cardinals are a complete lattice\" which are only really true due to shenanigans with proper classes, i.e. are false in Lean</p>",
        "id": 537742117,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757015966
    },
    {
        "content": "<p>you need to take the \"eventually zero\" ones probably</p>",
        "id": 537742197,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757016005
    },
    {
        "content": "<p>More precisely I think what we need is a type of Hahn series where the cardinality of the support is bounded</p>",
        "id": 537742307,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757016042
    },
    {
        "content": "<p>As I understand it these satisfy basically all the same relevant algebraic properties when the cardinal is uncountable</p>",
        "id": 537742412,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757016067
    },
    {
        "content": "<p>Then we'd have <code>Surreal ‚âÉ+*o BoundedHahnSeries ‚Ñù Surreal univ</code></p>",
        "id": 537742527,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757016098
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/537742412\">said</a>:</p>\n<blockquote>\n<p>As I understand it these satisfy basically all the same relevant algebraic properties when the cardinal is uncountable</p>\n</blockquote>\n<p>What are the relevant properties?</p>",
        "id": 537742934,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757016212
    },
    {
        "content": "<p>Being a field, and being real-closed when the base field is real-closed and the value group is divisible.</p>",
        "id": 537743649,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757016409
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> What do you think about the <code>BoundedHahnSeries</code> idea? Is that something that would be difficult to incorporate into Mathlib?</p>",
        "id": 537744005,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757016501
    },
    {
        "content": "<p><span aria-label=\"sweat\" class=\"emoji emoji-1f613\" role=\"img\" title=\"sweat\">:sweat:</span>I am not a maintainer and can't answer whether something can be in mathlib</p>",
        "id": 537745391,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757016909
    },
    {
        "content": "<p>btw is it correct to say that this has the same intuition as <code>card &lt; 2^card</code>? Since HahnSeries works like exponentiation</p>",
        "id": 537746187,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757017140
    },
    {
        "content": "<p>Well, the question is moreso whether it'd be difficult to adapt results about Hahn series for this new type.</p>",
        "id": 537746252,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017159
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/537746187\">said</a>:</p>\n<blockquote>\n<p>btw is it correct to say that this has the same intuition as <code>card &lt; 2^card</code>? Since HahnSeries works like exponentiation</p>\n</blockquote>\n<p>The inequality <code>#Surreal &lt; #(HahnSeries ‚Ñù Surreal)</code> is true, if that's what you're asking.</p>",
        "id": 537746673,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017271
    },
    {
        "content": "<p>Surreals have the cardinality of the ordinals, and every subset of ordinals corresponds to a Hahn series.</p>",
        "id": 537746768,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017304
    },
    {
        "content": "<p>what's the proof that hahn series with algebraically closed base field and divisible exponents are algebraically closed?</p>",
        "id": 537747283,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757017460
    },
    {
        "content": "<p>I think we could largely build <code>BoundedHahnSeries</code> on top of the existing <code>HahnSeries</code> API, without having to duplicate everything. If <code>‚Ñµ‚ÇÄ &lt; c</code>, it should be relatively straightforward to prove that the support of the addition, multiplication, or inverse of any <code>BoundedHahnSeries R Œì c</code> retains the same property.</p>",
        "id": 537747754,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017616
    },
    {
        "content": "<p>So they're at the very least a field.</p>",
        "id": 537747892,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017660
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/537747283\">said</a>:</p>\n<blockquote>\n<p>what's the proof that hahn series with algebraically closed base field and divisible exponents are algebraically closed?</p>\n</blockquote>\n<p>I don't know <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span></p>",
        "id": 537747910,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017666
    },
    {
        "content": "<p>could be make it a <code>Subfield</code> or an <code>IntermediateField</code></p>",
        "id": 537748093,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757017738
    },
    {
        "content": "<p>Oh, that's an even better idea</p>",
        "id": 537748189,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757017771
    },
    {
        "content": "<p>Is the map <code>Surreal ‚Üí+*o HahnSeries ‚Ñù Surreal</code> canonical / constructive or you will need to use Hahn embedding theorem or such to show the existence non-constructively?</p>",
        "id": 537970903,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757129372
    },
    {
        "content": "<p>It is canonical, it's the Conway normal form</p>",
        "id": 537970912,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129392
    },
    {
        "content": "<p>Though funnily enough its definition is very similar to the one you're using to prove the embedding theorem!</p>",
        "id": 537970933,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129412
    },
    {
        "content": "<p>Specifically, there exists a map <code>œâ ^ ¬∑ : Surreal ‚Üí Surreal</code> such that the composition with <code>ArchimedeanClass.mk</code> is bijective on non-top Archimedean classes</p>",
        "id": 537971017,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129519
    },
    {
        "content": "<p>You can define ordinal-indexed sums of the form <code>r·µ¢ * œâ ^ x·µ¢</code> through transfinite induction</p>",
        "id": 537971049,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129563
    },
    {
        "content": "<p>And you basically get Hahn series verbatim out of this</p>",
        "id": 537971056,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129577
    },
    {
        "content": "<p>The construction is \"canonical\" in the sense that it relates to the representation of surreals as left and right sets of surreals, and isn't just an arbitrary chosen construction that's consequence of only the field structure</p>",
        "id": 537971246,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129825
    },
    {
        "content": "<p>Yep that's what I meant to ask. I was not familiar with Surreal numbers and was wondering whether its additional structure locks in a specific map</p>",
        "id": 537971303,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757129898
    },
    {
        "content": "<p>In fact there's a very easy description of <code>œâ ^ x</code></p>",
        "id": 537971323,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129934
    },
    {
        "content": "<p>It's the simplest surreal in an archimedean class between <code>œâ ^ x·¥∏</code> and <code>œâ ^ x·¥ø</code> for all left/right options of <code>x</code></p>",
        "id": 537971331,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757129953
    },
    {
        "content": "<p>Aha, I think this matches my naive attempt to prove Hahn embedding theorem (before looking up a complete proof). My first idea was to do transfinite induction that peels away Archimedean classes layer by layer. This didn't work for arbitrary group because the set of Archimedean classes can be \"too large\" to do this. It looks like it is just at the right size for Surreals to do this</p>",
        "id": 537971598,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757130275
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/537971598\">said</a>:</p>\n<blockquote>\n<p>because the set of Archimedean classes can be \"too large\" to do this. It looks like it is just at the right size for Surreals to do this</p>\n</blockquote>\n<p>explain?</p>",
        "id": 537971609,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757130299
    },
    {
        "content": "<p>Such as a group with uncountable Archimedean classes</p>",
        "id": 537971632,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757130332
    },
    {
        "content": "<p>I still don't get it</p>",
        "id": 537971638,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757130347
    },
    {
        "content": "<p>what do you mean \"peels away\" and what do you mean \"too large\"</p>",
        "id": 537971645,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757130360
    },
    {
        "content": "<p>the surreals have uncountably many archimedean classes</p>",
        "id": 537971669,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757130384
    },
    {
        "content": "<p>hmm, uncountable isn't exactly the right word I was thinking...</p>",
        "id": 537971701,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757130426
    },
    {
        "content": "<p>Let me just read more before I say random things <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 537971760,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757130513
    },
    {
        "content": "<p>The archimedean classes of the surreals are in bijection with the surreals</p>",
        "id": 537971803,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757130585
    },
    {
        "content": "<p>That's basically what the œâ-map shows</p>",
        "id": 537971814,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757130604
    },
    {
        "content": "<p>Is œâ^1 + œâ^2 + œâ^3... (summing over all natural numbers) a surreal number?</p>",
        "id": 537972585,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757131651
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 537972602,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757131680
    },
    {
        "content": "<p>It's not</p>",
        "id": 537972721,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757131848
    },
    {
        "content": "<p>And actually that leads to another subtlety I forgot about</p>",
        "id": 537972727,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757131857
    },
    {
        "content": "<p>The exponents are actually given the opposite order</p>",
        "id": 537972741,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757131871
    },
    {
        "content": "<p>For instance, œâ^-1 + œâ^-2 + œâ^-3 + ... is a surreal number</p>",
        "id": 537972762,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757131905
    },
    {
        "content": "<p>It's the simplest surreal number x in archimedean class -1, such that x - œâ^-1 is in archimedean class -2, such that x - œâ^-1 - œâ^-2 is in Archimedean class -3, ...</p>",
        "id": 537972796,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757131940
    },
    {
        "content": "<p>yeah I might have accidentally asked a trick question. Basically surreal numbers should always have a leading term with the largest exponent, and what I wrote didn't</p>",
        "id": 537972816,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757131969
    },
    {
        "content": "<p><del>But what I wrote was a valid Hahn series, and that's the kind of the element in an arbitrary group/field that gave me headache</del> (Wait I probably got the direction wrong)</p>",
        "id": 537972856,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757132048
    },
    {
        "content": "<p>So the correct claim is that <code>Surreal</code> is isomorphic to the subring of Hahn series whose support has cardinal bounded by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.univ#doc\">docs#Cardinal.univ</a>, with base field ‚Ñù and value group Surreal·µí·µñ</p>",
        "id": 537972858,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757132049
    },
    {
        "content": "<p>Admittedly much uglier than the \"surreals are Hahn series over themselves\" soundbite</p>",
        "id": 537972893,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757132087
    },
    {
        "content": "<p>Could I get a review on <a href=\"https://github.com/vihdzp/combinatorial-games/pull/243\">CGT#243</a>? It advances a bit on this by defining <code>Surreal.wlog</code> and proving among other things that a numeric game not commensurate with its positive options is a power of <code>œâ</code>.</p>",
        "id": 540361126,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758249152
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/533543478\">said</a>:</p>\n<blockquote>\n<p>The o-th coefficient is the leading coefficient of the difference with the simplest number agreeing on all coefficients a &lt; o</p>\n</blockquote>\n<p>Wait a sec, how do we know this simplest number exists?</p>",
        "id": 540558950,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758342718
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/540558950\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/518132-combinatorial-games/topic/Surreals.20as.20Hahn.20series/near/533543478\">said</a>:</p>\n<blockquote>\n<p>The o-th coefficient is the leading coefficient of the difference with the simplest number agreeing on all coefficients a &lt; o</p>\n</blockquote>\n<p>Wait a sec, how do we know this simplest number exists?</p>\n</blockquote>\n<p>(you asked this already btw) I took a look at ONAG and Conway just skips over that part</p>",
        "id": 540582585,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758371614
    },
    {
        "content": "<p>probably you can construct it as the simplest surreal lying between two sets</p>",
        "id": 540582626,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758371656
    },
    {
        "content": "<p>yeah isn't this pretty easy</p>",
        "id": 540582898,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758371933
    },
    {
        "content": "<p>just construct the set of smaller and larger series and find it in between</p>",
        "id": 540582996,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758372047
    },
    {
        "content": "<p>this doesn't work when the cofinality of the limit ordinal you're building up to is greater than the size of your universe</p>",
        "id": 540583134,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758372202
    },
    {
        "content": "<p>but that's probably fine</p>",
        "id": 540583162,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758372228
    },
    {
        "content": "<p>I asked in gamesters</p>",
        "id": 540615977,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758407071
    },
    {
        "content": "<p>turns out this is yet another case of \"Siegel has all the details\"</p>",
        "id": 540615984,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758407085
    },
    {
        "content": "<p>what's gamesters</p>",
        "id": 540615987,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407090
    },
    {
        "content": "<p>a discord server I share with Aaron Siegel</p>",
        "id": 540616002,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758407106
    },
    {
        "content": "<p>oh ok</p>",
        "id": 540616009,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407112
    },
    {
        "content": "<p>so I don't think this one is complicated</p>",
        "id": 540616018,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407121
    },
    {
        "content": "<p>you just take a cut</p>",
        "id": 540616024,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407126
    },
    {
        "content": "<p>and then the surreal you get must have the properties simply by how it's ordered</p>",
        "id": 540616045,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407156
    },
    {
        "content": "<p>and it must be the simplest one also by looking at the order</p>",
        "id": 540616058,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407168
    },
    {
        "content": "<p>Sorry I don't get what you mean by this</p>",
        "id": 540616155,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758407315
    },
    {
        "content": "<p>ok maybe if we had an example</p>",
        "id": 540616163,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407323
    },
    {
        "content": "<p>do you have an example I can use</p>",
        "id": 540616164,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407327
    },
    {
        "content": "<p>alternating sum of w^-n?</p>",
        "id": 540616186,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758407353
    },
    {
        "content": "<p>so we want 1-w^-1+w^-2-...</p>",
        "id": 540616205,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407383
    },
    {
        "content": "<p>and assume we have all the finite series</p>",
        "id": 540616214,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407391
    },
    {
        "content": "<p>then for each a_i a Nat-indexed sequence of real numbers consider a_0+a_1w^-1+a_2w^-2+...</p>",
        "id": 540616268,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407460
    },
    {
        "content": "<p>the set of all such sequences is not a proper class</p>",
        "id": 540616279,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407469
    },
    {
        "content": "<p>consider the subset which are lexographically earlier than the alternating sequence of 1 and -1</p>",
        "id": 540616306,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407493
    },
    {
        "content": "<p>and the subset which are lexographically later</p>",
        "id": 540616310,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407502
    },
    {
        "content": "<p>then we can form the simplest surreal between these sets</p>",
        "id": 540616327,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407541
    },
    {
        "content": "<p>and I claim this is the one we want</p>",
        "id": 540616333,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407550
    },
    {
        "content": "<p>ok wait we need to truncate these</p>",
        "id": 540616375,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407623
    },
    {
        "content": "<p>uhm</p>",
        "id": 540616377,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407627
    },
    {
        "content": "<p>for each <code>n</code> you consider the set of all <code>Fin n</code>-indexed sequences of reals</p>",
        "id": 540616391,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407660
    },
    {
        "content": "<p>we have defined earlier by induction hypothesis the surreal a_0+a_1w^-1+a_2w^-2+...</p>",
        "id": 540616400,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407682
    },
    {
        "content": "<p>since it's <code>Fin n</code>-indexed these are finitely long</p>",
        "id": 540616403,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407692
    },
    {
        "content": "<p>then we can partition them and then take the union over all <code>n</code></p>",
        "id": 540616417,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407710
    },
    {
        "content": "<p>that should work</p>",
        "id": 540616421,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407713
    },
    {
        "content": "<p>would it be better to see some Lean code</p>",
        "id": 540616442,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407761
    },
    {
        "content": "<p>do I need to be more rigorous</p>",
        "id": 540616540,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758407885
    },
    {
        "content": "<p>ok by the induction hypothesis for each <code>n : Nat</code> and <code>a : Fin n ‚Üí Real</code> we have defined the surreal number <code>a 0 + a 1 * w^-1 + ... + a (n-1) * w^-(n-1)</code> (it's a finite sum)<br>\neach sequence <code>a : Fin n ‚Üí Real</code> can be extended to a sequence <code>Nat ‚Üí Real</code> by setting the tail to zero<br>\nthen this extension is either lexographically earlier or later than the sequence <code>k ‚Ü¶ (-1)^k</code><br>\npartition the sequences into the earlier ones <code>l : (n : Nat) ‚Üí Set (Fin n ‚Üí Real)</code> and the later ones <code>r : (n : Nat) ‚Üí Set (Fin n ‚Üí Real)</code><br>\nset <code>li : (n : Nat) ‚Üí Set Surreal</code> to be the image of <code>l</code> under this finite sum function in the induction hypothesis, and define <code>ri : (n : Nat) ‚Üí Set Surreal</code> similarly<br>\nset <code>L = ‚ãÉ n, li n</code> and <code>R = ‚ãÉ n, ri n</code>, it is easily checked that these are small sets and that each element of <code>L</code> is smaller than each element of <code>R</code><br>\nthen we can form the surreal <code>{L | R}À¢</code> and it has all the properties we want</p>",
        "id": 540616963,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758408452
    },
    {
        "content": "<p>ok I think that should be sufficiently explain what I mean</p>",
        "id": 540617082,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758408613
    },
    {
        "content": "<p>This is what Siegel told me btw<a href=\"/user_uploads/3121/zs2djNnbWTBSi36yHYSe3OL5/Screenshot_2025-09-20-16-51-30-788_com.discord-edit.jpg\">Screenshot_2025-09-20-16-51-30-788_com.discord-edit.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/zs2djNnbWTBSi36yHYSe3OL5/Screenshot_2025-09-20-16-51-30-788_com.discord-edit.jpg\" title=\"Screenshot_2025-09-20-16-51-30-788_com.discord-edit.jpg\"><img data-original-content-type=\"image/jpeg\" data-original-dimensions=\"1080x817\" src=\"/user_uploads/thumbnail/3121/zs2djNnbWTBSi36yHYSe3OL5/Screenshot_2025-09-20-16-51-30-788_com.discord-edit.jpg/840x560.webp\"></a></div>",
        "id": 540617149,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758408725
    },
    {
        "content": "<p>that sounds like what I said</p>",
        "id": 540617174,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758408754
    },
    {
        "content": "<p>that's good</p>",
        "id": 540617185,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758408766
    },
    {
        "content": "<p>so I think this time we have to use limit recursion</p>",
        "id": 540617333,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758408962
    },
    {
        "content": "<p>distinguish the limit ordinal case from the other cases</p>",
        "id": 540617348,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758408978
    },
    {
        "content": "<p>Yeah</p>",
        "id": 540619343,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758411828
    },
    {
        "content": "<p>I think you're right</p>",
        "id": 540619345,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1758411831
    },
    {
        "content": "<p>Just opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/32648\">#32648</a> which shows that for any uncountable cardinal <code>c</code>, the set of Hahn series with length <code>&lt; c</code> forms a subfield</p>",
        "id": 562675810,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765284688
    },
    {
        "content": "<p>In the notation of that PR, we have <code>Surreal ‚âÉ+*o cardLTSubfield Surreal·µí·µà ‚Ñù univ</code></p>",
        "id": 562676275,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765284817
    },
    {
        "content": "<p>Gonna start work on defining the map from Hahn series to surreals and back</p>",
        "id": 562844116,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765333624
    },
    {
        "content": "<p>Ugh. Turns out I can't get very far without both <a href=\"https://github.com/leanprover-community/mathlib4/pull/32648\">#32648</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/29687\">#29687</a>.</p>",
        "id": 562864566,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765344071
    },
    {
        "content": "<p>Started work on the type of surreal Hahn series over at <a href=\"https://github.com/vihdzp/combinatorial-games/blob/vi.st/CombinatorialGames/Surreal/HahnSeries/Basic.lean\">this branch</a>. There was a somewhat surprising amount of machinery I had to add for indexing the support by an ordinal.</p>",
        "id": 563113605,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765435766
    },
    {
        "content": "<p>Unfortunately there's a few major sorries that I can't fill out until the aforementioned PRs are merged</p>",
        "id": 563113652,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765435793
    },
    {
        "content": "<p>Ok wow 500 lines of code down and I still can't even define the map from Hahn series into games</p>",
        "id": 563174872,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765456105
    },
    {
        "content": "<p>Guess I'll continue tomorrow</p>",
        "id": 563174995,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765456146
    },
    {
        "content": "<p>There's a lot of, how to put it? Annoyances</p>",
        "id": 563175298,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765456238
    },
    {
        "content": "<p>The fact that we have well-founded &gt; rather than &lt;, the fact that we have to work with subtypes everywhere, the fact that surreals bump up the universe by one</p>",
        "id": 563175762,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765456375
    },
    {
        "content": "<p>obviously none of these are some foundational issue, but they all make setting our API up quite more tedious</p>",
        "id": 563175959,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765456443
    },
    {
        "content": "<p>Just finished a sorry-free (modulo open PRs) definition of the map <code>SurrealHahnSeries ‚Üí IGame</code>. Only took 700 lines of code.</p>",
        "id": 563457452,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765540852
    },
    {
        "content": "<p>I'm temporarily putting everything on <a href=\"https://github.com/vihdzp/combinatorial-games/pull/263\">CGT#263</a>, will split up that material as I'm able</p>",
        "id": 563458026,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765541020
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span> I'm having trouble filling out some sorries</p>",
        "id": 563601316,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765611421
    },
    {
        "content": "<p>Specifically I haven't been able to show that this map is strictly monotone and that it takes on numeric values</p>",
        "id": 563601337,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765611445
    },
    {
        "content": "<p>It's really annoying that the definition of this embedding uses limit recursion and not just recursion</p>",
        "id": 563601417,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765611569
    },
    {
        "content": "<p>I was able to make things easier by noticing the zero and limit case could be merged, but even then</p>",
        "id": 563601438,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765611591
    },
    {
        "content": "<p>To make matters worse I don't believe this proof is in Siegel or Conway</p>",
        "id": 563601606,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765611797
    },
    {
        "content": "<p>sure I'll take a look</p>",
        "id": 563611284,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1765623763
    },
    {
        "content": "<p>To be explicit this is what I want to prove:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">proof_wanted</span><span class=\"w\"> </span><span class=\"n\">strictMono_toIGame</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">StrictMono</span><span class=\"w\"> </span><span class=\"n\">SurrealHahnSeries</span><span class=\"bp\">.</span><span class=\"n\">toIGame</span>\n<span class=\"n\">proof_wanted</span><span class=\"w\"> </span><span class=\"n\">numeric_toIGame</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Numeric</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">SurrealHahnSeries</span><span class=\"bp\">.</span><span class=\"n\">toIGame</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 563611357,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765623836
    },
    {
        "content": "<p>I suspect the proofs hinge on this lemma that Siegel mentions on page 427<br>\n<a href=\"/user_uploads/3121/dE4iShcYzALWkIYIkukF2Qqk/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/dE4iShcYzALWkIYIkukF2Qqk/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1149x211\" src=\"/user_uploads/thumbnail/3121/dE4iShcYzALWkIYIkukF2Qqk/image.png/840x560.webp\"></a></div>",
        "id": 563611760,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765624237
    },
    {
        "content": "<p>Œ£_Œ± is the Œ±-th partial sum of a Hahn series</p>",
        "id": 563611785,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765624254
    },
    {
        "content": "<p>I've no idea how to show this in the case where Œ± is a successor</p>",
        "id": 563611815,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1765624272
    },
    {
        "content": "<p>I found this notation on a paper<a href=\"/user_uploads/3121/BUYAYLpA5XB2YXGuLZWyvDGC/Screenshot_2025-12-18-05-28-42-784_org.mozilla.firefox-edit.jpg\">Screenshot_2025-12-18-05-28-42-784_org.mozilla.firefox-edit.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BUYAYLpA5XB2YXGuLZWyvDGC/Screenshot_2025-12-18-05-28-42-784_org.mozilla.firefox-edit.jpg\" title=\"Screenshot_2025-12-18-05-28-42-784_org.mozilla.firefox-edit.jpg\"><img data-original-content-type=\"image/jpeg\" data-original-dimensions=\"1080x171\" src=\"/user_uploads/thumbnail/3121/BUYAYLpA5XB2YXGuLZWyvDGC/Screenshot_2025-12-18-05-28-42-784_org.mozilla.firefox-edit.jpg/840x560.webp\"></a></div>",
        "id": 564435981,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057384
    },
    {
        "content": "<p>What do you think? I'd really like to avoid having to write down <code>ArchimedeanClass.mk x &lt; ArchimedeanClass.mk y</code> all over.</p>",
        "id": 564436098,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057418
    },
    {
        "content": "<p>well if it's scoped notation I don't see a problem</p>",
        "id": 564436208,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1766057452
    },
    {
        "content": "<p>awesome</p>",
        "id": 564436271,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057471
    },
    {
        "content": "<p>but I think one of those is already taken (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=HEq#doc\">docs#HEq</a>)</p>",
        "id": 564436301,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1766057479
    },
    {
        "content": "<p>oh <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span></p>",
        "id": 564436325,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057486
    },
    {
        "content": "<p>so close</p>",
        "id": 564436377,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057499
    },
    {
        "content": "<p>would you be opposed to just coming up with some ad-hoc notation? Like perhaps <code>x &lt;_a y</code></p>",
        "id": 564436479,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057532
    },
    {
        "content": "<p>Basically I'm trying to avoid writing down <code>ArchimedeanClass.mk</code> all over the place, as well as the cognitive load from the order being opposite to the expected one</p>",
        "id": 564436585,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057570
    },
    {
        "content": "<p>if it's just notation you aren't making any nothing-definitions for the notation then I'm fine with it</p>",
        "id": 564436640,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1766057591
    },
    {
        "content": "<p>Awesome</p>",
        "id": 564436675,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766057603
    },
    {
        "content": "<p><a href=\"https://github.com/vihdzp/combinatorial-games/pull/276\">CGT#276</a></p>",
        "id": 564441286,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766059137
    },
    {
        "content": "<p>You can use the notation for ValuativeRel <code>a &lt;_v b</code>. Unfortunately it flips the direction from Archimedean class, but it is in the same direction as this paper</p>",
        "id": 564448591,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1766061342
    },
    {
        "content": "<p>Oh, awesome! Let me try to implement that</p>",
        "id": 564448786,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766061412
    },
    {
        "content": "<p>I take it that <code>rel</code> is the recommended spelling for <code>‚â§·µ•</code>, and that <code>srel</code> is the recommended spelling for <code>&lt;·µ•</code></p>",
        "id": 564449353,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766061596
    },
    {
        "content": "<p>Is there any notation for <code>=·µ•</code>?</p>",
        "id": 564449384,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766061606
    },
    {
        "content": "<p>...seems like <code>=·µ•</code> doesn't exist. Should we add it?</p>",
        "id": 564450485,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766061933
    },
    {
        "content": "<p>Specifically, I'd like to define <code>x =·µ• y</code> as <code>AntisymmRel (¬∑ ‚â§·µ• ¬∑) x y</code></p>",
        "id": 564450938,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766062065
    },
    {
        "content": "<p>In surreals, this would be the commensurancy relation</p>",
        "id": 564451906,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766062390
    },
    {
        "content": "<p>Actually, does it make sense to make a new <code>def</code> for <code>AntisymmRel Rel</code>? How would we even call it? Or should we just define <code>=·µ•</code> as notation?</p>",
        "id": 564452804,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766062657
    },
    {
        "content": "<p>I see the issue that if we don't give a name to this, then we end up with very different names for basically analogous theorems. For instance, <code>x * z ‚â§·µ• y * z ‚Üî x ‚â§·µ• y</code> is <code>mul_rel_mul_iff_left</code>, whereas <code>x * z =·µ• y * z ‚Üî x =·µ• y</code> would have to be something much clunkier like <code>antisymmRel_rel_mul_iff_antisymmRel_rel_left</code></p>",
        "id": 564454908,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766063313
    },
    {
        "content": "<p>I am surprised they aren't named <code>vle</code>, <code>vlt</code> and <code>veq</code></p>",
        "id": 564455185,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1766063389
    },
    {
        "content": "<p>Yeah, I like these names much better. <span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span> <span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span> what do you think?</p>",
        "id": 564455481,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766063482
    },
    {
        "content": "<p>I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/33040\">#33040</a> in case we want to make this rename.</p>",
        "id": 564460941,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1766065024
    },
    {
        "content": "<p>So, it turns out that representing a Hahn series as a function from Surreal to Real is not a great representation for a lot of things. We very often want to treat them as decreasing, ordinal-indexed sequences of exponents with associated coefficients. Specifically, we want something like this</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">TermSeq</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordinal</span>\n<span class=\"w\">  </span><span class=\"n\">coeff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Iio</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"w\">  </span><span class=\"n\">exp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Iio</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Surreal</span>\n<span class=\"w\">  </span><span class=\"n\">exp_strictAnti</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">StrictAnti</span><span class=\"w\"> </span><span class=\"n\">exp</span>\n<span class=\"w\">  </span><span class=\"n\">coeff_ne_zero</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">coeff</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>I briefly considered just making this the definition of <a href=\"https://vihdzp.github.io/combinatorial-games/find/?pattern=SurrealHahnSeries#doc\">CGT#SurrealHahnSeries</a>, and instantiating the field structure through an equiv with actual Hahn series, but I decided that this was a bad idea for formalization reasons, since it muddles the actual result we want to prove (surreals are isomorphic to a subfield of Hahn series). Still, I do want to make use of this auxiliary structure as an alternate constructor. What to call it?</p>",
        "id": 566803460,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1767812646
    },
    {
        "content": "<p>I've went with <code>TermSeq</code> as in, sequences of terms in the Hahn series, but surely there's something better.</p>",
        "id": 566805144,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1767813171
    },
    {
        "content": "<p>Update: I just managed to build (sorry free) the order isomorphism between surreals and Hahn series. That is, every Hahn series corresponds to a surreal, every surreal corresponds to a Hahn series, and both maps preserve order.</p>",
        "id": 567050489,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1767915453
    },
    {
        "content": "<p>Now to figure out how to prove that this is a ring iso...</p>",
        "id": 567060832,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1767923574
    }
]