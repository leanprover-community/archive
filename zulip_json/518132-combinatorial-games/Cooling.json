[
    {
        "content": "<p>I have been talking with <span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span>  a bit about left and right stops. We came to the conclusion that they already exist as <code>Surreal.Cut.leftGame</code> and <code>Surreal.Cut.rightGame</code></p>\n<p>I have been thinking a bit about how to implement cooling.</p>\n<p>Define<br>\n<code>leftWall (G : IGame) : (t : Surreal) → Cut</code><br>\n<code>rightWall (G : IGame) : (t : Surreal) → Cut</code><br>\nrecursively</p>\n<p>We need two helper functions<br>\n<code>collideLeft (lw : Surreal → Cut) (rw : Surreal → Cut) : Surreal → Cut</code><br>\n<code>collideRight (lw : Surreal → Cut) (rw : Surreal → Cut) : Surreal → Cut</code><br>\nWith the semantics that if <code>T</code> is the smallest <code>t</code> such that <code>lw t ≤ rw t</code> then<br>\n<code>collideLeft lw rw t = lw t</code> if <code>t &lt; T</code><br>\n<code>collideLeft lw rw t = lw T</code> if <code>t ≥ T</code><br>\n<code>collideRight lw rw t = rw t</code> if <code>t &lt; T</code><br>\n<code>collideRight lw rw t = rw T</code> if <code>t  ≥ T</code></p>\n<p>Then for Surreal <code>x</code> we have<br>\n<code>leftWall x.toGame = collideLeft (fun t ↦ x.leftSurreal - t ) (fun t ↦ x.rightSurreal + t)</code><br>\n<code>rightWall x.toGame = collideRight (fun t ↦ x.leftSurreal - t) (fun t ↦ x.rightSurreal + t)</code></p>\n<p>And for the other games <code>!{Gᴸ|Gᴿ}</code> we have<br>\n<code>leftWall G = collideLeft (fun t ↦ ⨆ gl ∈ Gᴸ, rightWall gl t - t) (fun t ↦ ⨅ gr ∈ Gᴿ, leftWall gr t + t)</code><br>\n<code>rightWall G = collideRight (fun t ↦ ⨆ gl ∈ Gᴸ, rightWall gl t - t) (fun t ↦ ⨅ gr ∈ Gᴿ, leftWall gr t + t)</code></p>\n<p>We can then define</p>\n<p><code>cool (G : IGame) (t : Surreal) : IGame</code><br>\nwhere when <code>leftWall G t &lt; rightWall G t</code> we have<br>\n<code>cool G t = simplestBtwn (leftWall G t) (rightWall G t)</code><br>\nand otherwise<br>\n<code>cool G t = !{(fun Gl ↦ cool Gl t - t) '' Gᴸ | (fun Gr ↦ cool Gr t + t) '' Gᴿ}</code></p>\n<p>This is the just-after definition. </p>\n<p>Note:<br>\nAddition between a Surreal and a Cut can be defined, but between two Cut's this runs into issues<br>\nIn particular, should <code>x.leftSurreal + y.rightSurreal</code> contain x+y in its left or right set?<br>\nBy defining temperature as a Surreal I sidestep this issue.</p>",
        "id": 567710749,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768294242
    },
    {
        "content": "<p>This seems to mostly make sense, though how would you know that such a smallest <code>t</code> does exist?</p>",
        "id": 567926416,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768379611
    },
    {
        "content": "<p>I'm unclear on whether you need a short hypothesis for that. I don't know very much about this specific game-theoretic construction.</p>",
        "id": 567926560,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768379667
    },
    {
        "content": "<p>Siegel uses the intermediate value theorem for that.<br>\nThe left and right wall are (piecewise linear) continuous functions.<br>\nThey have an infinite mast on top, so there exists a <code>T</code> such that for all <code>t &gt;= T</code> <code>leftWall G t = leftWall G T</code><br>\nIf we then take <code>leftWall G t - t</code> this heads off to -infinity, and similarly <code>rightWall G t + t</code> heads off to infinity.<br>\nBy intermediate value theorem they must intersect somewhere.</p>",
        "id": 567929565,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768380676
    },
    {
        "content": "<p>IVT for piecewise linear functions should work over any ordered field.</p>",
        "id": 567929719,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768380727
    },
    {
        "content": "<p>This all looks good to me. Would you like to start work on a PR?</p>",
        "id": 567930392,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768380940
    },
    {
        "content": "<p>Sure, but not before the weekend</p>",
        "id": 567930437,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768380954
    },
    {
        "content": "<p>Have an exam on friday</p>",
        "id": 567930454,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768380961
    },
    {
        "content": "<p>Good luck with that</p>",
        "id": 567930481,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768380968
    },
    {
        "content": "<p>I've got a mostly unrelated question but one which would still affect your work. Should we rename <a href=\"https://vihdzp.github.io/combinatorial-games/find/?pattern=Surreal.Cut.simplestBtwn#doc\">CGT#Surreal.Cut.simplestBtwn</a> to <code>Surreal.ofCuts</code>? With analogy to <a href=\"https://vihdzp.github.io/combinatorial-games/find/?pattern=OfSets#doc\">CGT#OfSets</a>.</p>",
        "id": 567930683,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768381026
    },
    {
        "content": "<p>Question back:<br>\nis <code>simplestBtwn x y = !{x.left | y.right}</code>?</p>",
        "id": 567930997,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768381130
    },
    {
        "content": "<p>Morally yes, technically no.</p>",
        "id": 567931027,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768381143
    },
    {
        "content": "<p>probably because we don't want proper classes in there, and x.left and y.right would be a proper class?</p>",
        "id": 567931334,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768381233
    },
    {
        "content": "<p>I am fine with renaming it <code>ofCuts</code>, but do mention the \"simplest between\" understanding in the doccomment</p>",
        "id": 567931492,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768381285
    },
    {
        "content": "<p><code>OfSets</code> only allows you to build a surreal out of two small sets of surreals. But we can prove after the fact that actually, every order connected non-empty set of surreals has a unique surreal with least birthday (see <a href=\"https://github.com/vihdzp/combinatorial-games/pull/298\">CGT#298</a>), and that's what <code>simplestBtwn</code> represents.</p>",
        "id": 567931715,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768381370
    },
    {
        "content": "<p>Thinking about this further, I'm less convinced that this works. Suppose that your left and right walls are -∞ and ∞, where ∞ is the supremum of the natural numbers (as either left or right cuts). Then there is no single least surreal with ∞ - t ≤ -∞ + t, since any t &lt; ∞ won't work, but any t &gt; ∞ will.</p>",
        "id": 568067613,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768420177
    },
    {
        "content": "<p>You likely need the condition that your cuts are numeric, which you can only reliably guarantee when the game is short.</p>",
        "id": 568067724,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768420222
    },
    {
        "content": "<p>It is probably good to focus on short games first, since the theory seems well-developed for that. And after that see if it extends to long games</p>",
        "id": 568068571,
        "sender_full_name": "Jelmer Firet",
        "timestamp": 1768420570
    },
    {
        "content": "<p>Yes, that'd make sense.</p>",
        "id": 568071146,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768421503
    }
]