[
    {
        "content": "<p>the primary motivation for me is to do reflection and refraction at an boundary, but I imagine having these \"elementary differential geometry\"  (things to do with parametrizations, normal vectors etc.)  will be very useful for many other things. My impression is that mathlib has a lot on manifold theory, but not much on concrete curves and surfaces. I would just like to gauge how much of an effort will it require to build something up, ideally this will be connected to the manifold definitions but I'm not confident in those at the moment (it is something I want to learn eventually)</p>",
        "id": 521782807,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1748879638
    },
    {
        "content": "<p>I can't speak to how much work it would be, but the <code>Mathematics</code> directory of PhysLean is somewhat for this kind of thing - which doesn't fit completely in mathlib/ isn't in mathlib yet :).</p>",
        "id": 521807842,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1748886352
    },
    {
        "content": "<p>I think I want the notions of a <a href=\"https://en.wikipedia.org/wiki/Surface_(topology)#Closed_surfaces\">closed surface</a> enclosing a volume - probably with  <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=modelWithCornersEuclideanHalfSpace#doc\">docs#modelWithCornersEuclideanHalfSpace</a> but I have to figure out how to state what I want.</p>\n<p>I'll also need differentiability which relates to <a href=\"https://en.wikipedia.org/wiki/Surface_(topology)#Closed_surfaces\">regular surface</a>. <a href=\"https://math.stackexchange.com/a/2935902\">https://math.stackexchange.com/a/2935902</a> seems to have what I want in terms of going from the manifold language to the parametrization picture, I'll try to work my way towards those</p>",
        "id": 521845477,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1748898947
    },
    {
        "content": "<p>With my physicist hat on, I would define a surface in space <code>Space</code> by the zero-set of a smooth map <code>F : Space →  ℝ</code>,  which has at least one non-zero partial derivative at every point in the zero-set. </p>\n<p>These types of surfaces are called <code>level surfaces</code>, and <a href=\"https://math.stackexchange.com/questions/2096790/\">MSE:2096790</a> hints at every surface been of this type (I say hints because as far as I can tell the 'answer' given doesn't exactly answer the specified question).</p>\n<p>Thus I could imagine a theory like this: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">PhysLean</span><span class=\"bp\">.</span><span class=\"n\">ClassicalMechanics</span><span class=\"bp\">.</span><span class=\"n\">Space</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Space</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Space</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"w\">  </span><span class=\"n\">cond</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Space</span><span class=\"bp\">.</span><span class=\"n\">grad</span><span class=\"w\"> </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">surface</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Space</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">interior</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Space</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">exterior</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Space</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">DisjointPair</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S1</span><span class=\"w\"> </span><span class=\"n\">S2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Disjoint</span><span class=\"w\"> </span><span class=\"n\">S1</span><span class=\"bp\">.</span><span class=\"n\">surface</span><span class=\"w\"> </span><span class=\"n\">S2</span><span class=\"bp\">.</span><span class=\"n\">surface</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">join</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S1</span><span class=\"w\"> </span><span class=\"n\">S2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DisjointPair</span><span class=\"w\"> </span><span class=\"n\">S1</span><span class=\"w\"> </span><span class=\"n\">S2</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">S1</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">S2</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">cond</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">LevelSurface</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Space</span>\n</code></pre></div>\n<p>(edit: fix condition on LevelSurface)</p>",
        "id": 522137777,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1748960468
    },
    {
        "content": "<p>(<code>LevelSurface</code> probably also need a smoothness condition. )</p>",
        "id": 522151928,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1748963644
    },
    {
        "content": "<p>many thanks for this, I agree this is probably a good way of implementing this. using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=modelWithCornersEuclideanHalfSpace#doc\">docs#modelWithCornersEuclideanHalfSpace</a> (which does has notions of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ModelWithCorners.IsBoundaryPoint#doc\">docs#ModelWithCorners.IsBoundaryPoint</a> etc.) probably goes down a rabbit hole of homology/embedding etc. and is completely overkill for what I want to do for now, and your definition should be easier to do concrete calculations.</p>",
        "id": 522157639,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1748965026
    },
    {
        "content": "<p>I think the Klein bottle is a surface which you can't realise as a subset of 3-space.</p>",
        "id": 522214361,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1748984466
    },
    {
        "content": "<p>For a definition of a surface enclosing a volume I would look into Evans's book on PDEs. There you define a sane notion of a domain on which you can then solve PDEs. Boundary of such domain is a nice notion of a surface enclosing a volume. At some level or regularity this probably coincides with the level set definition.</p>",
        "id": 522298548,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1749026157
    },
    {
        "content": "<p>I made a GitHub issue for surfaces <a href=\"https://github.com/HEPLean/PhysLean/pull/943\">PhysLean#943</a>, so that it sits part of the API tracker for PhysLean (<a href=\"https://physlean.com/APITracker.html\">https://physlean.com/APITracker.html</a>). Though this issue does the weaker task of focusing on specific surfaces not an all-encompassing definition like the above, which would be even better.</p>",
        "id": 573728313,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1770985061
    }
]