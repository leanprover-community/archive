[
    {
        "content": "<p>Just came across these notes of David Tong's: </p>\n<p><a href=\"https://www.damtp.cam.ac.uk/user/tong/statphys/statmechhtml/S1.html\">https://www.damtp.cam.ac.uk/user/tong/statphys/statmechhtml/S1.html</a></p>\n<p>Seems like section 1.3 on canonical ensembles would be pretty nice to work through and formalized. If this isn't something that already exists somewhere in  Lean which would could upstream?</p>",
        "id": 523261286,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1749552638
    },
    {
        "content": "<p>This <a href=\"https://github.com/HEPLean/PhysLean/pull/605\">PR</a> contains the basic definitions of the canonical ensemble along with some properties.</p>",
        "id": 523317992,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1749569139
    },
    {
        "content": "<p>As part of the above PR I've added a number of semi-formal results, e.g.</p>\n<ul>\n<li><a href=\"https://physlean.com/TODOList#ERA5D\">semiformal_result (ERA5D): partitionFunction_nsmul</a> </li>\n<li><a href=\"https://physlean.com/TODOList#ERBG6\">semiformal_result (ERBG6): probability_nsmul</a></li>\n</ul>\n<p>most of which are related to multiples of a canonical ensemble. </p>\n<p>Semi-formal results are essentially the same as <code>proof_wanted</code> results, where the statement is formalized but the proof hasn't. If anyone wants to have a go at these that would be great.</p>",
        "id": 523414912,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1749619659
    },
    {
        "content": "<p>The corresponding file with these semi-formal results can be interacted with online at: </p>\n<p><a href=\"https://live.physlean.com/#url=https%3A%2F%2Fraw.githubusercontent.com%2FHEPLean%2FPhysLean%2Frefs%2Fheads%2Fmaster%2FPhysLean%2FStatisticalMechanics%2FCanonicalEnsemble%2FBasic.lean\">https://live.physlean.com/#url=https%3A%2F%2Fraw.githubusercontent.com%2FHEPLean%2FPhysLean%2Frefs%2Fheads%2Fmaster%2FPhysLean%2FStatisticalMechanics%2FCanonicalEnsemble%2FBasic.lean</a></p>",
        "id": 523576665,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1749652697
    },
    {
        "content": "<p>In this large <a href=\"https://github.com/HEPLean/PhysLean/pull/709\">PR</a> we expand the API in <code>CanonicalEnsemble</code> and provide additional properties. I just paste below the PR description in case anyone want to review it before we merge. <br>\n--<br>\nThis PR refines the general measure-theoretic framework for the canonical ensemble, applicable to both classical continuous systems (like an ideal gas) and discrete systems (like a spin lattice). It introduces additional parameters to the CanonicalEnsemble structure and various distinctions between entropy and proves some key thermodynamics identities.</p>\n<p>We follow the <em>semi-classical</em> approach in Landau-Lefschetz and also in Tong's lecture notes in designing a general API (for this initial level of analysis) to handle both discrete and continuous systems. The explicitation of a classical principled exposition like L&amp;L constrained us to distinguish two layers:</p>\n<p>Mathematical layer: Raw partition function <code>∫ exp(-βE) dμ</code>, probability densities w.r.t. base measure  <br>\nPhysical layer: Dimensionless thermodynamic quantities via <code>phaseSpaceUnit^dof</code> normalization</p>\n<p>This seems to be a more clear way to analyze the presuppositions of the classical theory that pre-empt ambiguity issues (Gibbs paradox) by making entropy absolute rather than relative.</p>\n<p>Main additions :</p>\n<p>New parameters to the <code>CanonicalEnsemble</code> structure:</p>\n<ul>\n<li><code>phaseSpaceUnit : ℝ</code> (physically Planck's constant h)  </li>\n<li><code>dof : ℕ</code> (degrees of freedom)</li>\n</ul>\n<p>Thermodynamic quantities:</p>\n<ul>\n<li><code>partitionFunction = mathematicalPartitionFunction / h^dof</code></li>\n<li><code>helmholtzFreeEnergy = -kT log Z</code> </li>\n<li><code>thermodynamicEntropy</code> (absolute) vs <code>differentialEntropy</code> (can be negative)</li>\n<li><code>physicalProbability = probability * h^dof</code> (dimensionless)</li>\n</ul>\n<p>Main results and corollaries from L&amp;L and Tong's notes that we prove in  the file<code>Lemmas</code>  are:</p>\n<ul>\n<li><em>Fundamental identity</em>: <code>F = U - TS</code> (theorem <code>helmholtzFreeEnergy_eq_meanEnergy_sub_temp_mul_thermodynamicEntropy</code>)  </li>\n<li><em>Response formula</em>*: <code>U = -∂log Z/∂β</code> (theorem <code>meanEnergy_eq_neg_deriv_log_mathZ_of_beta</code>)  </li>\n<li><em>Entropy relations</em>: <code>S_thermo = S_diff - k·dof·log h</code> with semi-classical correction</li>\n</ul>\n<p>Finite case (<code>IsFinite</code>) specializations</p>\n<p>Specialization where <code>dof = 0</code>, <code>phaseSpaceUnit = 1</code>, where we show:</p>\n<ul>\n<li>Shannon entropy = differential entropy = thermodynamic entropy</li>\n<li>No semi-classical corrections needed</li>\n<li>Unconditional entropy non-negativity</li>\n</ul>\n<p>As designed here the introduction of this necessary semi-classical correction <code>k·dof·log h</code> appears systematically where needed and vanishes in the discrete case.</p>",
        "id": 536316437,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1756244561
    },
    {
        "content": "<p>Many thanks for all the work you put into this <span class=\"user-mention\" data-user-id=\"779253\">@Matteo Cipollina</span> !</p>",
        "id": 536348697,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1756271852
    }
]