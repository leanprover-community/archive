[
    {
        "content": "<p>Today I officially started my bachelor thesis in mathematics on LEAN4 under the supervision of <span class=\"user-mention\" data-user-id=\"436369\">@Marcello Seri</span> . As part of my thesis, I would love to make one or two contributions to the PhysLean library. Looking at the to-do list, I saw \"divergence_smul\" that is currently a sorryful result and looks to be within my scope of knowledge. Before I start working on that one however, I was wondering if anyone was already working on it, or if there are other results that are more pressing/in greater need by people to advance their own projects. I am so excited to be part of the community!</p>",
        "id": 537091707,
        "sender_full_name": "Jard",
        "timestamp": 1756726907
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"867823\">@Jard</span> ! Welcome to the channel :). I think this is a great place to start, and Iâ€™m pretty confident no one else is working on this. If you do this and are keen to contribute more, I can help find somewhere for you to help :).</p>",
        "id": 537099034,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1756729490
    },
    {
        "content": "<p>I have since almost finished this lemma, there is just one detail I am incredibly stuck on. I have the following goal</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">**</span><span class=\"n\">ğ•œ</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span>\n<span class=\"bp\">**</span><span class=\"n\">inst</span><span class=\"bp\">âœâ´**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">RCLike</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span>\n<span class=\"bp\">**</span><span class=\"n\">E</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_2</span>\n<span class=\"bp\">**</span><span class=\"n\">inst</span><span class=\"bp\">âœÂ³**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">inst</span><span class=\"bp\">âœÂ²**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">inst</span><span class=\"bp\">âœÂ¹**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">InnerProductSpace'</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">f</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span>\n<span class=\"bp\">**</span><span class=\"n\">g</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">x</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">hf</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"bp\">**</span><span class=\"n\">hg</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"bp\">**</span><span class=\"n\">inst</span><span class=\"bp\">âœ**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">s</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">s_fin</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"bp\">â†‘</span><span class=\"n\">s</span>\n<span class=\"bp\">**</span><span class=\"n\">basis</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">Basis</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">âˆˆ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">toFinset</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"bp\">**</span><span class=\"n\">b</span><span class=\"bp\">**</span><span class=\"w\">Â </span><span class=\"o\">:</span><span class=\"w\">Â </span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Basis</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">âˆˆ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span>\n<span class=\"bp\">**âŠ¢**</span><span class=\"w\"> </span><span class=\"n\">HasAdjoint</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">â‡‘</span><span class=\"o\">(</span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoint</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"bp\">â‡‘</span><span class=\"o\">(</span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>Would anyone be able to point me in the right direction on how to show this adjoint exists?</p>",
        "id": 541600846,
        "sender_full_name": "Jard",
        "timestamp": 1758871670
    },
    {
        "content": "<p>Hi Jard! Could you possibly make a <a href=\"https://leanprover-community.github.io/mwe.html\">mwe</a> for this, as it will allow us to more easily interact with the code?</p>\n<p>BTW I think in the meantime <span class=\"user-mention\" data-user-id=\"569722\">@Miyahara KÅ</span> has added a proof of this result to PhysLean. But please don't let this stop you finishing your proof, as  I think it will be a useful learning experience, and it would be great to have more people familiar with this part of the library.</p>",
        "id": 541608855,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1758874370
    },
    {
        "content": "<p>Hi! I think this is a minimal working example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">divergence_smul_mwe</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace'</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">divergence</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">    </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">divergence</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">âŸª</span><span class=\"n\">adjFDeriv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">âŸ«</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">divergence</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">fderiv_fun_smul</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"n\">hg</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">âŸ¨</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">âŸ©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Basis</span><span class=\"bp\">.</span><span class=\"n\">exists_basis</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">basis</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">choice</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">s_fin</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">FiniteDimensional</span><span class=\"bp\">.</span><span class=\"n\">fintypeBasisIndex</span><span class=\"w\"> </span><span class=\"n\">basis</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_basis</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Basis</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">â†‘</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Basis</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">toFinset</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">mem_toFinset</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h_basis</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">basis</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hâ‚</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">âŸª</span><span class=\"n\">adjoint</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">â‡‘</span><span class=\"o\">(</span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">âŸ«</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">):=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">HasAdjoint</span><span class=\"bp\">.</span><span class=\"n\">adjoint_inner_left</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"n\">simp_all</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RCLike</span><span class=\"bp\">.</span><span class=\"n\">inner_apply</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">map_one</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mul_one</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rfl</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>It is then the last sorry point.</p>\n<p>I did see the proof was added to physlean, and a much more elegant proof than I have at that! It has been an amazing learning experience indeed. Thank you for your help!</p>",
        "id": 541618661,
        "sender_full_name": "Jard",
        "timestamp": 1758877382
    },
    {
        "content": "<p>Thanks - ideally one would want to make the mwe independent of PhysLean totally, but I think in this case this would be extremely difficult, so what you have done is great :). </p>\n<p>Filling this last sorry is difficult, but there is a quick way of doing this. Let me give you a hint: there are parts of the proof of <code>divergence_smul</code> which appears in PhysLean which can be adapted to fill in this sorry. I'm happy to be more explicit if this would help.</p>",
        "id": 541623703,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1758878995
    },
    {
        "content": "<p>I got it! Thanks for your help!</p>",
        "id": 541624582,
        "sender_full_name": "Jard",
        "timestamp": 1758879248
    },
    {
        "content": "<p>Hi again, and sorry for all the questions! My supervisor and I were looking at other places where I could contribute. We were thinking either working on something in the harmonic oscillator areas, or potentially working on \"Module doc-string improvementsÂ <a href=\"https://github.com/leanprover-community/mathlib4/pull/713\">#713</a>\". Do you have any other suggestions or do you think these are good places to work in?</p>",
        "id": 541987621,
        "sender_full_name": "Jard",
        "timestamp": 1759138769
    },
    {
        "content": "<p>Hi Jard! Either of these would be amazing, and I think would be a good place to work. There are a number of things which need doing for the harmonic oscillator, and generalizations (e.g. including damping) which could be made. </p>\n<p>If you end up doing one of these, I would recommend making a quick comment on the relevant threads here: </p>\n<ul>\n<li><a class=\"stream-topic\" data-stream-id=\"479953\" href=\"/#narrow/channel/479953-PhysLean/topic/Priority.20documentation.20tracker/with/540447735\">#PhysLean &gt; Priority documentation tracker</a>  for documentation.</li>\n<li><a class=\"stream-topic\" data-stream-id=\"479953\" href=\"/#narrow/channel/479953-PhysLean/topic/Classical.20Harmonic.20Oscillator/with/539025706\">#PhysLean &gt; Classical Harmonic Oscillator</a>  for the harmonic oscillator. </li>\n</ul>\n<p>There is also some conversation there about each of these.</p>",
        "id": 541989458,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1759139265
    },
    {
        "content": "<p>5 messages were moved from this topic to <a class=\"stream-topic\" data-stream-id=\"479953\" href=\"/#narrow/channel/479953-PhysLean/topic/Quantum.20computing/with/542058159\">#PhysLean &gt; Quantum computing</a> by <span class=\"user-mention silent\" data-user-id=\"653351\">Joseph Tooby-Smith</span>.</p>",
        "id": 542058160,
        "sender_full_name": "Notification Bot",
        "timestamp": 1759156648
    }
]