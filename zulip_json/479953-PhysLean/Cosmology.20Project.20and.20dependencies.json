[
    {
        "content": "<p>Hello, I'm a postdoc working in gravitation, cosmology and astrophysics and I got quite interested in the PhysLean project after reading about it on linkedin. I'm able to start working here and there with the Cosmology project, since that is my main background.</p>\n<p>I also have a background in mathematics  since I started with a B.Sc. in maths, and kept my interest in formalization and axiomatization throughout my change to physics research, so I am not completely unfamiliar to Lean and the proposals. I am new to the Lean 4 language itself, which I'm currently reading and learning to properly start the project, but I think there's nothing better than a project to learn a new language.</p>\n<p>What I am most confused about is how we should build the projects from the ground. In particular, I've seen that there is no Riemannian (or Lorentzian) geometry library in mathlib, and although there is very complete Special Relativity library, to properly develop the Cosmology project one would need at least the notions of metric and Levi-Civita connection. </p>\n<p>My question then boils down to this: How much should I worry about dependencies before I start working out the fundamentals for the project (Robertson-Walker metric, Friedmann equations, density and pressure terms)? Can I first implement the basics without invoking  math dependencies to the underlying structure, such as just describing the systems in terms of the scale factor, density and pressure; or should I first lay the groundwork by defining the Robertson-Walker Lorentzian manifold and describing its connection?</p>\n<p>I hope I was able to properly express my doubts and am excited to help with physLean!</p>",
        "id": 509100335,
        "sender_full_name": "Pedro Bessa",
        "timestamp": 1743396155
    },
    {
        "content": "<p>Hi Pedro!</p>\n<p>Nice to meet you and thank you for your interest in the project!</p>\n<p>To answer your main question:</p>\n<blockquote>\n<p>How much should I worry about dependencies before I start working out the fundamentals for the project (Robertson-Walker metric, Friedmann equations, density and pressure terms)? Can I first implement the basics without invoking math dependencies to the underlying structure, such as just describing the systems in terms of the scale factor, density and pressure; or should I first lay the groundwork by defining the Robertson-Walker Lorentzian manifold and describing its connection?</p>\n</blockquote>\n<p>Yes you can implement the basics without invoking the math dependencies to the underlying structure. Indeed, I think if we didn't do this the project overall would become fairly stagnant which is not desirable at this stage (IMO having something is better than having nothing). </p>\n<p>When implementing the basics though I would be mindful that in the future we will want the underlying math structure there, so doing it in a way where we can easily refactor to include the underlying math structure when needed will be helpful in the long term. I have done the same with e.g. the Higgs field, really mathematically we would want this defined in a vector bundle associated to the principal bundle of the Standard Model gauge group - but mathlib isn't there just yet -  so I did the basics knowing one day it will be refactored.</p>\n<blockquote>\n<p>...to properly develop the Cosmology project one would need at least the notions of metric and Levi-Civita connection.</p>\n</blockquote>\n<p>I note that PhysLean has index notation (which I'm currently trying to improve) so I actually I don't think defining metrics, Christoffel symbols, the Levi-Civita connection etc. would be <em>that</em> hard. Although nevertheless  this may not be the best place to start.</p>\n<p>Best wishes,<br>\nJoseph.</p>",
        "id": 509105029,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1743399031
    },
    {
        "content": "<p>I'm not sure if this helps or hinders - if the latter feel free to complete ignore these. But I've added some informal results related to the FLRW metric. For example: </p>\n<ul>\n<li><a href=\"https://physlean.com/TODOList#6ZZLH\">semiformal_result (6ZZLH): SpatialGeometry</a> </li>\n</ul>\n<p>The others can be found at the same place.</p>",
        "id": 509669367,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1743593281
    },
    {
        "content": "<p>Hello Joseph,</p>\n<p>Thank you for the clarification, I believe I understand more or less how to proceed then - modularity should be the way then, since we want to be flexible enough so that our codes can later depend on more involved definitions.<br>\nI believe I can write out the basics needed for a full description of the Friedmann equations and some of the main results coming from the dynamics. I'll try to structure the main results more or less in the same fashion as you did in the TODO list.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"653351\">Joseph Tooby-Smith</span> <a href=\"#narrow/channel/479953-PhysLean/topic/Cosmology.20Project.20and.20dependencies/near/509669367\">said</a>:</p>\n<blockquote>\n<p>I'm not sure if this helps or hinders - if the latter feel free to complete ignore these. But I've added some informal results related to the FLRW metric. For example: </p>\n<ul>\n<li><a href=\"https://physlean.com/TODOList#6ZZLH\">semiformal_result (6ZZLH): SpatialGeometry</a> </li>\n</ul>\n<p>The others can be found at the same place.</p>\n</blockquote>\n<p>Can I add TODO items and informal definitions? Or is the procedure to first git branch the code and then merge?</p>\n<p>Thank you and I hope I can be of help to the project,</p>\n<p>Pedro</p>",
        "id": 510394241,
        "sender_full_name": "Pedro Bessa",
        "timestamp": 1743874363
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"894180\">@Pedro Bessa</span> , great!</p>\n<p>Please do add TODO items and informal definitions! </p>\n<p>You can either fork the repo and make a pull-request that way, or I can give you write access so you can make a brach and make pull-requests from branches. If the latter works better for you - could you let me know your GitHub username. </p>\n<p>In either case, please do make pull-requests even if they only contain TODO items and informal definitions.  This is still extremely useful.</p>\n<p>Thanks, <br>\nJoseph.</p>",
        "id": 510448189,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1743917611
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"894180\">@Pedro Bessa</span> I just saw your message and wanted to say hi! My PhD was in cosmology as well (I develop statistical/observational methods for measuring birefringence), so our interests may align. I've thought throughout my PhD if I could incorporate formalisation in my work somehow, but the goals of the two communities seem to have little overlap as of now.</p>\n<p>In terms of Lean work, my approach has been to lay the mathematical groundwork for stating advanced things in physics. That's why I'm building up the differential geometry and dynamical systems libraries. We don't even have solutions to various standard differential equations! I agree with <span class=\"user-mention\" data-user-id=\"653351\">@Joseph Tooby-Smith</span> that the deficiency of such libraries should not block applications to physics, but it does mean that certain problems / statements in physics are more immediately amenable to formalisation than others.</p>\n<p>Please keep us updated on your formalisation attempts!</p>",
        "id": 512444773,
        "sender_full_name": "Winston Yin (Â∞πÁ∂≠Êô®)",
        "timestamp": 1744768865
    },
    {
        "content": "<p>This feels a bit like how mathlib felt when I started doing mathematics; it was a million miles away from anything I found interesting. Maybe choose some appropriate cool targets, solve them, and advertise their solutions in the physics commodity in an attempt to get more adherents?</p>",
        "id": 512468525,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744783159
    },
    {
        "content": "<p>I have added some of the stuff in this discussion to the \"Project ideas\" page on the website: <a href=\"https://physlean.com/ProjectIdeas\">https://physlean.com/ProjectIdeas</a></p>",
        "id": 532342415,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1754066618
    },
    {
        "content": "<p>Hi all, My name is Luis. I am a PhD student at Berkeley in the intersection of quantum gravity, quantum information, and cosmology. I am pretty new to Lean, but I am really excited to learn. I am currently planning to start working on the cosmology side of things. I will try my best to make an attempt to fill out some of the informal statements! :)</p>",
        "id": 544051404,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1760046049
    },
    {
        "content": "<p>Hi all, I am currently working through formalizing the first Lemma in the file which is the statement that k sinh(r/k) tends to r in the limit that k goes to infinity. I wanted to double-check my approach since it is beginning to appear rather complicated to implement</p>\n<p>My strategy for this is to use sinh(r/k) k goes to r at the limit k goes to infinity. To do this, I will use L'Hopital's rule by rewriting it as sinh(ry)/y and approach 0, but I think before this I need to show that the derivatives of  sinh(ry) and y exists? </p>\n<p>One of my main confusions is how to invoke L'Hopital's rule in the proof <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Calculus/LHopital.html#HasDerivAt.lhopital_zero_left_on_Ioc\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Calculus/LHopital.html#HasDerivAt.lhopital_zero_left_on_Ioc</a> </p>\n<p>It seems that Mathlib has many variations for this depending on how you want to approach the point I guess in this case we should approach from the right, but I am quite confused overall as to which tactic allows me to insert that or if I am missing an implementation that allows me to circumvent a lot of the complications</p>\n<p>I should add that this how I am stating the goal<br>\n<code>lemma limit_S_saddle(r : ‚Ñù) (h : y = 1 / k) : Tendsto (fun k : ‚Ñù =&gt; k * Real.sinh (r / k)) atTop (ùìù r) := by sorry</code></p>",
        "id": 544875449,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1760503522
    },
    {
        "content": "<p>Some small comments for now: </p>\n<ol>\n<li>I think your lemma looks correct! </li>\n<li>Proofing that the derivatives of <code>sinh(ry)</code> and <code>y</code> exist should just be a case of using the tactic <code>fun_prop</code>. </li>\n<li>It looks like the version of L'Hopital's rule you need would be <code>deriv.lhopital_zero_atTop</code></li>\n<li>Maybe see if you can rearrange <code>(fun k : ‚Ñù =&gt; k * Real.sinh (r / k))</code> to be <code>(fun k : ‚Ñù =&gt;  Real.sinh (r / k)/ ((1/k)))</code>, and then L'Hopital's may be applied using <code>apply ...</code>. (I'm worrying about <code>k=0</code> though)</li>\n</ol>",
        "id": 544886580,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1760510038
    },
    {
        "content": "<p>If you want making a <a href=\"https://leanprover-community.github.io/mwe.html\">mwe</a> will make it easier for people on here to see and interact with your code.</p>",
        "id": 544886729,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1760510099
    },
    {
        "content": "<p>Thanks! I was able to rearrange the function to sinh(r/k)/(1/k) via 2 lemmas. It might be worth making a pull request to save this? </p>\n<p>Now I am at the stage of writing the main lemma and I am somewhat struggling with being able to apply L'Hopital's rule. After using apply, I end up with 5 goals which form the hypothesis for deriv.lhopital_zero_atTop, but I am not really quite sure what tactic could be potentially used to show them</p>\n<p>Here is an MWE of my current progress (it works up until the main lemma)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">PhysLean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">Informal</span><span class=\"bp\">.</span><span class=\"n\">SemiFormal</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">PhysLean</span><span class=\"bp\">.</span><span class=\"n\">SpaceAndTime</span><span class=\"bp\">.</span><span class=\"n\">Space</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span>\n<span class=\"c\">/-</span><span class=\"cm\">!</span>\n\n<span class=\"cm\"># The Friedmann-Lema√Ætre-Robertson-Walker metric</span>\n\n<span class=\"cm\">Parts of this file is currently informal or semiformal.</span>\n<span class=\"cm\">-/</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Cosmology</span>\n\n<span class=\"sd\">/-- The inductive type with three constructors:</span>\n<span class=\"sd\">- `Spherical (k : ‚Ñù)`</span>\n<span class=\"sd\">- `Flat`</span>\n<span class=\"sd\">- `Saddle (k : ‚Ñù)` -/</span>\n<span class=\"kd\">@[</span><span class=\"n\">sorryful</span><span class=\"kd\">]</span>\n<span class=\"c1\">-- def SpatialGeometry : Type := sorry</span>\n<span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">SpatialGeometry</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Spherical</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Flat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Saddle</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n\n\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">SpatialGeometry</span>\n\n<span class=\"sd\">/-- For `s` corresponding to</span>\n<span class=\"sd\">- `Spherical k`, `S s r = k * sin (r / k)`</span>\n<span class=\"sd\">- `Flat`, `S s r = r`,</span>\n<span class=\"sd\">- `Saddle k`, `S s r = k * sinh (r / k)`.</span>\n<span class=\"sd\">-/</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SpatialGeometry</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">SpatialGeometry</span><span class=\"bp\">.</span><span class=\"n\">Spherical</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">SpatialGeometry</span><span class=\"bp\">.</span><span class=\"n\">Flat</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\">      </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">r</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">SpatialGeometry</span><span class=\"bp\">.</span><span class=\"n\">Saddle</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\">    </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- The limit of `S (Saddle k) r` as `k ‚Üí ‚àû` is equal to `S (Flat) r`. -/</span>\n<span class=\"c1\">--/ First show that k*sinh(r/k) = sinh(r/k)/(1/k) pointwise.</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">mul_sinh_as_div</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mul_comm</span><span class=\"o\">]</span>\n<span class=\"w\">                        </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"c1\">--/ Then show that k*sinh(r/k) = sinh(r/k)/(1/k) pointwise for the whole function.</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">fun_mul_sinh_as_div</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">funext</span><span class=\"w\"> </span><span class=\"n\">k</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mul_sinh_as_div</span><span class=\"o\">]</span>\n\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">limit_S_saddle</span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">atTop</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">fun_mul_sinh_as_div</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"bp\">.</span><span class=\"n\">lhopital_zero_atTop</span>\n</code></pre></div>",
        "id": 545189532,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1760598483
    },
    {
        "content": "<p><del>Looking at the 5 goals you get, I don't think <code>deriv.lhopital_zero_atTop</code> is the right version. This is my bad - sorry. In particular one of those goals says that <code>fun x =&gt; x</code> tends to zero at infinity, which it doesn't.</del> (ignore  this, made a mistake) BTW if you remove the </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">PhysLean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">Informal</span><span class=\"bp\">.</span><span class=\"n\">SemiFormal</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">PhysLean</span><span class=\"bp\">.</span><span class=\"n\">SpaceAndTime</span><span class=\"bp\">.</span><span class=\"n\">Space</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n</code></pre></div>\n<p>from your mwe then it is even better, as people can open it online by clicking one of the buttons in the top right corner of your code snippet.</p>\n<p>I think making a PR with what you have already one looks good! I would replace the proof  of <code>limit_S_saddle</code> with <code>sorry</code> and add a <code>@[sorryful]</code> attribute to it so that  it passes the linters.</p>",
        "id": 545192111,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1760599348
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">mul_sinh_as_div</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sinh</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">field</span>\n</code></pre></div>",
        "id": 545195980,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1760600137
    },
    {
        "content": "<p>I think the correct way to convert from <code>(fun k : ‚Ñù =&gt; k * Real.sinh (r / k))</code> <br>\nto <code>(fun x : ‚Ñù =&gt; (1/x)* Real.sinh (r * x))</code> is to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Filter/Tendsto.html#Filter.Tendsto.comp\">Filter.Tendsto.comp</a> and the result Kevin just wrote :). This should then give you a <code>Filter.Tendsto</code> which is to zero rather than to infinity.</p>",
        "id": 545196500,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1760600219
    },
    {
        "content": "<p>One of the arguments to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.Tendsto.comp#doc\">docs#Filter.Tendsto.comp</a> should likely be <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=tendsto_inv_atTop_zero#doc\">docs#tendsto_inv_atTop_zero</a>(found using <a href=\"https://loogle.lean-lang.org/?q=Filter.Tendsto%2C+%22inv%22%2C+Real\">loogle</a>, edited with correct version).</p>",
        "id": 545197577,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1760600415
    },
    {
        "content": "<p>Hi Kevin, Thanks. Just to double check should the strategy be <code>by field_simp</code> instead? I can't get <code>by field</code> to work but I might have misunderstood</p>",
        "id": 545434667,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1760644340
    },
    {
        "content": "<p><code>field</code> is brand new, I was just demoing its capabilities. If it doesn't work for you, it will work the next time PhysLean is bumped.</p>",
        "id": 545503177,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1760686977
    },
    {
        "content": "<p>Hi all,<br>\nThanks. I cleaned up some of the stuff I had and made a PR (not sure if it worked since Git is still somewhat confusing for me, but I thought it might just be good practice to try it now with small changes). I am still working on showing the main lemma. I added another intermediate lemma (yet to be shown) sinh(r x)/x goes to r at x goes to zero. I will do some more readings in the next couple days to really dig deeper and see if I can expand on all the previous lemmas I did not complete</p>",
        "id": 545717313,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1760748077
    },
    {
        "content": "<p>Hi Luis! Thanks for your PR! It looks great. </p>\n<p>Before it can be merged it has to pass some checks called 'github workflows', these are essentially scripts that check for things like \"do all definitions have doc-strings\", \"are there any unexpected spaces\" etc. The easiest way to check if your PR satisfies these checks is to run them locally: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">lint_all</span>\n<span class=\"bp\">./</span><span class=\"n\">scripts</span><span class=\"bp\">/</span><span class=\"n\">lint</span><span class=\"bp\">-</span><span class=\"n\">style</span><span class=\"bp\">.</span><span class=\"n\">sh</span>\n</code></pre></div>\n<p>The last two steps of the former takes a long time, and they can be skipped using </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">lint_all</span><span class=\"w\"> </span><span class=\"c1\">--fast</span>\n</code></pre></div>\n<p>and manually 'replicated' by putting '#lint' at the bottom of any edited files fixing the error and then removing it. </p>\n<p>The first step of <code>lake exe lint_all</code> can be run by itself using <code>lake exe style_lint</code> (hopefully this will make sense once you have run it). </p>\n<p>I understand this is a bit of an 'extra' burden to make a commit to a PR, but hopefully you can see the benefit, and it becomes easier to manage once you've done it a number of times.</p>",
        "id": 545732461,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1760767925
    },
    {
        "content": "<p>Hi Joe,<br>\nThanks for this. I think I was able to successfully remove the errors from the lint checker. I commited all the changes to my fork and it added to the pull request. The final commit I made has a comment <code>Formalized basic definitions in FLRW. Introduced intermediatte lemmata</code>. I am not sure if there is still anything else I have to do? Sorry for all the git questions I am still getting rather used to this workflow</p>",
        "id": 546342176,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1761089200
    },
    {
        "content": "<p>Awesome, I think it may still be pulling up some linting issues. I am happy to help fix these, but for some reason can't download your PR. I think it is because you closed it and then opened it again. Would you mind doing the following: <br>\nPut </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">min_imports</span>\n</code></pre></div>\n<p>at the bottom of the file, and replace <code>import Mathlib</code> with the things it says there, then remove the <code>#min_imports</code>. Then commit these changes to the PR.</p>",
        "id": 546366761,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1761109881
    },
    {
        "content": "<p>Hi Luis, ok ignore the message above. I managed to download your PR (I think likely something to what you have done). I fixed all the linters locally.  I tried to rename my commits in line with what I was doing, e.g. what linter I was fixing, so I think it would be a good learning step for you to take a look. But in case, there is nothing you need to do more on this PR. Thanks for making it <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>.</p>\n<p>The linters on github are in a state of disarray  (<a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/runLinter.20in.20github.20workflow.20not.20terminating/with/546421343\">#general &gt; runLinter in github workflow not terminating</a> ), so I am not so worried about those right now.</p>",
        "id": 546481597,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1761145305
    },
    {
        "content": "<p>Hi Joe, I had some time today and wrote up the first-order Friedmann equation, Hubble constant and the deceleration parameter and made another PR (I think I am starting to get the hang of the github workflow. The push, pull and merging was quite confusing for me <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> ). I will try to work on the last set of informal lemmas + add the second order Friedmann and other results tomorrow if I get a chance.</p>\n<p>In this case, I skipped defining the FLRW metric for now since I don't think there is a way yet to have general metrics in curved spacetime? Actually I would love to chat with people about ideas in GR too. </p>\n<p>On the local vscode side, one thing I noticed that I have to for some reason restart every file when accessing them. I don't think I remember seeing this a couple of days ago but I might have missed something?</p>\n<p>Thanks</p>",
        "id": 547106949,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1761459538
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"941661\">Luis Gabriel Bariuan</span> <a href=\"#narrow/channel/479953-PhysLean/topic/Cosmology.20Project.20and.20dependencies/near/547106949\">ha scritto</a>:</p>\n<blockquote>\n<p>In this case, I skipped defining the FLRW metric for now since I don't think there is a way yet to have general metrics in curved spacetime? Actually I would love to chat with people about ideas in GR too. <br>\n</p>\n</blockquote>\n<p>Hi!. Indeed in PhysLean we have <a href=\"https://physlean.com/docs/PhysLean/Mathematics/Geometry/Metric/PseudoRiemannian/Defs.html\">this</a>,  which tries to formalize a (pointwise) metric tensor¬†g¬†is in general relativity (in finite dimension): a smoothly varying, non-degenerate, symmetric bilinear form on the tangent spaces of a manifold, with a constant signature (e.g.,¬†(+, -, -, -)¬†for Lorentzian metrics). To use it you should instatiate <code>(g : PseudoRiemannianMetric E H M n I)</code>. However I have left a PR halfway completing the smoothness properties because meanwhile RiemannianBundle has been added to mathlib (infinite dimension) , while Levi-Civita connection is being developed too, and I was planning at some point of thinking of the best way to integrate the PhysLean one with these. </p>\n<p>some useful discussion here:<br>\n<a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/.28Pseudo.29.20Riemannian.20metric/with/533151541\">#general &gt; (Pseudo) Riemannian metric</a> <br>\n<a class=\"message-link\" href=\"/#narrow/channel/113489-new-members/topic/Bennett.20Chow/near/533436314\">#new members &gt; Bennett Chow @ üí¨</a> <br>\n<a class=\"message-link\" href=\"/#narrow/channel/116290-rss/topic/Recent.20Commits.20to.20mathlib4.3Amaster/near/529962654\">#rss &gt; Recent Commits to mathlib4:master @ üí¨</a> <br>\n<a class=\"stream-topic\" data-stream-id=\"144837\" href=\"/#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/with/546724412\">#PR reviews &gt; #26221 Towards geodesics and the Levi-Civita connection</a></p>",
        "id": 547116668,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1761470986
    },
    {
        "content": "<p>Awesome Luis! Your PR looks great. There are some linting things that need fixing on your PR, and I made a comment there. Good to know you are getting more use to the github workflow :) - yeah, it can be confusing to start with. </p>\n<p>I personally haven't noticed any difference with vscode, but we did recently bump PhysLean to a newer version of Lean, so this might explain any differences you are seeing. Is it something that is e.g. taking a long time or noticeably slows things down? If so it is probably not due to this update. </p>\n<p>No worries about skipping the defining of the metric for now, as Matteo says we do have a way in which it may be included, and there is a lot of great development in this direction :).</p>",
        "id": 547123753,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1761478626
    },
    {
        "content": "<p>Hi all,<br>\nI am currently working on the lemma that derive the time evolution of the Hubble constant in terms of the Hubble constant and the deceleration parameter, but I seem to be running into a subtle issue with not being able to apply the definition I established earlier. In this case, is there a reason why I am not allowed to use the rewrite tactic to perform the substitution of the def. of the hubble constant within the first step?</p>\n<p>Edit: I tried to use Time earlier, but I am not sure how to invoke PhysLean here, so I reverted <code>t  : Time </code> to  <code>t  :  ‚Ñù </code> for now</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Real</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Cosmology</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">time_evolution_hubbleConstant</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">ha'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"w\">    </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">     </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 548052708,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1761869038
    },
    {
        "content": "<p>Also I am planning to switch the order of presentation of the two original informal lemmata suggested. I plan to put this lemma first before the one where q =- (1 + (d‚Çú H)/H^2)</p>",
        "id": 548053474,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1761869560
    },
    {
        "content": "<p>I also have a couple of results in mind that might be good (i.e. discussing matter, radiation, and inflation). Will have to define a couple more things but I will try to get to them after finishing these two current lemma</p>",
        "id": 548053620,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1761869649
    },
    {
        "content": "<p>One more thing, my planned strategy for the current lemma I shared is to use product rule, then perform a lot of rearrangements using field to obtain the final result. I think this should work, but I am also open to suggestions about better strategies</p>",
        "id": 548053713,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1761869715
    },
    {
        "content": "<p>Annoyingly the Lean 'playground' doesn't work with PhysLean, so thank you for making a mwe that does work here. (There did use to be a playground that worked for PhysLean, but the cost of hosting it got too much). </p>\n<p>Sometimes <code>rw</code> doesn't work on the argument of functions. One way around this is to use <code>conv</code> or <code>conv_lhs</code> or <code>conv_rhs</code> tactics to navigate to the desired place in the expression and then to use <code>rw</code>.  For example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Real</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Cosmology</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">time_evolution_hubbleConstant</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">ha'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"w\">    </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">     </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">          </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">conv_lhs</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">          </span><span class=\"n\">enter</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- moves to the correct place in the expression</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hubbleConstant</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Here is one additional suggestion, instead of the assumptions:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>It is probably better to have the single assumption <code>(ha  : ContDiffAt ‚Ñù 2 a t)</code>.</p>",
        "id": 548077524,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1761887714
    },
    {
        "content": "<p>I'll add that <code>simp_rw</code> is nice for these kinds of situations, as it also does replacements inside quantifiers and functions: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Real</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Cosmology</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">time_evolution_hubbleConstant</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">ha'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"w\">    </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">     </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">          </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">simp_rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hubbleConstant</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hubbleConstant</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">decelerationParameter</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 548257513,
        "sender_full_name": "Daniel Morrison",
        "timestamp": 1761952740
    },
    {
        "content": "<p>Thank you Joe and Daniel for the suggestions! I will take a look later this week. I have been quite swamped these past few days</p>",
        "id": 553481274,
        "sender_full_name": "Luis Gabriel Bariuan",
        "timestamp": 1762204196
    },
    {
        "content": "<p>FYI <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> filled in some of the sorries in this file here <a href=\"https://github.com/HEPLean/PhysLean/pull/810\">PhysLean#810</a>.</p>",
        "id": 556824076,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1763384467
    }
]