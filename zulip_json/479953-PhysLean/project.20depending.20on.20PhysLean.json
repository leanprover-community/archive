[
    {
        "content": "<p>I'm trying to set up a lean repository that depends on PhysLean as well as on mathlib and I'm not sure whether I'm doing the right thing. I've set-up the lean.toml and lean.toolchain as follows:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">...</span>\n<span class=\"bp\">...</span>\n\n<span class=\"o\">[</span><span class=\"n\">leanOptions</span><span class=\"o\">]</span>\n<span class=\"n\">pp</span><span class=\"bp\">.</span><span class=\"n\">unicode</span><span class=\"bp\">.</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">pretty</span><span class=\"bp\">-</span><span class=\"n\">prints</span><span class=\"w\"> </span><span class=\"ss\">`fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">â†¦</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">`</span>\n<span class=\"n\">autoImplicit</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"n\">relaxedAutoImplicit</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"n\">weak</span><span class=\"bp\">.</span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">mathlibStandardSet</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"n\">maxSynthPendingDepth</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n\n<span class=\"o\">[[</span><span class=\"n\">require</span><span class=\"o\">]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"mathlib\"</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span>\n<span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"v4.22.0\"</span>\n\n<span class=\"o\">[[</span><span class=\"n\">require</span><span class=\"o\">]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"PhysLean\"</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/HepLean/PhysLean\"</span>\n<span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"v4.22.0\"</span>\n\n<span class=\"bp\">...</span>\n<span class=\"bp\">...</span>\n</code></pre></div>\n<p>leanprover/lean4:v4.22.0</p>\n<p>But I'm getting this error: unknown module prefix 'PhysLean'</p>\n<p>No directory 'PhysLean' or file 'PhysLean.olean' in the search path entries: ....</p>\n<p>Has anyone tried this setup before?</p>",
        "id": 539082866,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688333
    },
    {
        "content": "<p>lake update and lake build went on smoothly</p>",
        "id": 539083104,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688403
    },
    {
        "content": "<p>What are you doingg when you get this error: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"kn\">prefix</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">PhysLean'</span>\n</code></pre></div>\n<p>Are you in VS code?</p>",
        "id": 539084373,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1757688666
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"653351\">Joseph Tooby-Smith</span> <a href=\"#narrow/channel/479953-PhysLean/topic/project.20depending.20on.20PhysLean/near/539084373\">ha scritto</a>:</p>\n<blockquote>\n<p>What are you doingg when you get this error: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"kn\">prefix</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">PhysLean'</span>\n</code></pre></div>\n<p>Are you in VS code?</p>\n</blockquote>\n<p>yes :)</p>",
        "id": 539084502,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688688
    },
    {
        "content": "<p>Does your <code>.lake/packages/</code> file have PhysLean in it?</p>",
        "id": 539084822,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1757688731
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"653351\">Joseph Tooby-Smith</span> <a href=\"#narrow/channel/479953-PhysLean/topic/project.20depending.20on.20PhysLean/near/539084373\">ha scritto</a>:</p>\n<blockquote>\n<p>What are you doingg when you get this error: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"kn\">prefix</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">PhysLean'</span>\n</code></pre></div>\n<p>Are you in VS code?</p>\n</blockquote>\n<p>indeed after saving the file with 'import PhysLean' now it magically builds cache</p>",
        "id": 539085037,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688760
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/ha6jc5a5Sp8XcbQDWTBUmlAT/Screenshot-2025-09-12-at-16.52.52.png\">Screenshot 2025-09-12 at 16.52.52.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ha6jc5a5Sp8XcbQDWTBUmlAT/Screenshot-2025-09-12-at-16.52.52.png\" title=\"Screenshot 2025-09-12 at 16.52.52.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"605x128\" src=\"/user_uploads/thumbnail/3121/ha6jc5a5Sp8XcbQDWTBUmlAT/Screenshot-2025-09-12-at-16.52.52.png/840x560.webp\"></a></div>",
        "id": 539085167,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688778
    },
    {
        "content": "<p>sorry, I just needed to save the file, close and relaod</p>",
        "id": 539085358,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688806
    },
    {
        "content": "<p>I wonder whether one needs to have the mathlib dependencies since it should be a transitive dependency of PhysLean</p>",
        "id": 539085791,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757688867
    },
    {
        "content": "<p>Yeah, I suspect not, since when you import Mathlib you get 'for free' all the things it depends on.</p>",
        "id": 539086049,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1757688903
    },
    {
        "content": "<p>FLT only depends on Mathlib and Mathlib depends on a gazillion things which aren't my problem if I only depend on Mathlib. Can you do the same thing here and only depend on PhysLean? If you depend on both then it becomes your job to make sure that your version of Mathlib always matches your version of PhysLean, doesn't it?</p>",
        "id": 539169758,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757714985
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/479953-PhysLean/topic/project.20depending.20on.20PhysLean/near/539169758\">ha scritto</a>:</p>\n<blockquote>\n<p>FLT only depends on Mathlib and Mathlib depends on a gazillion things which aren't my problem if I only depend on Mathlib. Can you do the same thing here and only depend on PhysLean? If you depend on both then it becomes your job to make sure that your version of Mathlib always matches your version of PhysLean, doesn't it?</p>\n</blockquote>\n<p>Thanks! I've removed the mathlib dependency, relying only on Physlean.</p>",
        "id": 539254326,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1757752429
    }
]