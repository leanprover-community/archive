[
    {
        "content": "<p>This bug might be VSCode only but I'm not sure. It doesn't seem to affect Zulip but I've seen mentions of the same syntax highlighting config being shared across multiple tools.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- **a*a**a*</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">factorial</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">factorial</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">factorial_zero</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">factorial</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p><a href=\"/user_uploads/3121/bStgYgFIWKzlMC4b_BP80j2Z/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/bStgYgFIWKzlMC4b_BP80j2Z/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"818x294\" src=\"/user_uploads/thumbnail/3121/bStgYgFIWKzlMC4b_BP80j2Z/image.png/840x560.webp\"></a></div><p>As for the VSCode extension, I think <a href=\"https://github.com/leanprover/vscode-lean4/blob/3f8162028909f15d9a4bfab0cf84fd1292134559/vscode-lean4/syntaxes/lean4.json#L110-L111\">this</a> makes the line comment go into markdown mode, and then <a href=\"https://github.com/leanprover/vscode-lean4/blob/3f8162028909f15d9a4bfab0cf84fd1292134559/vscode-lean4/syntaxes/lean4-markdown.json#L2281-L2287\">this</a> handles the double-asterisks making everything bold.<br>\nBut I'm not sure how it's able to leak outside the comment when the former specifies <code>\"end\": \"$\"</code>.</p>\n<p>Is this known? Does it replicate in Neovim/Emacs/Highlight.js/etc?</p>",
        "id": 573942750,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771123948
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/561906-Editors-.26-UIs/topic/Syntax.20highlighting.20bug.20makes.20everything.20blue/near/573942750\">said</a>:</p>\n<blockquote>\n<p>Does it replicate in Neovim/Emacs/Highlight.js/etc?</p>\n</blockquote>\n<p>In VSCodium I see a similar strange effect triggered by that markdown comment (but with green text).</p>\n<p>I see no such effect with Neovim and Vim.</p>",
        "id": 573972874,
        "sender_full_name": "Castedo Ellerman",
        "timestamp": 1771158802
    },
    {
        "content": "<p>We want to get rid of the Markdown TextMate grammar integration eventually and replace it with proper semantic highlighting for Markdown in the language server. There are unfortunately many bugs of this nature in the TextMate grammar.</p>",
        "id": 574064030,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1771232947
    }
]