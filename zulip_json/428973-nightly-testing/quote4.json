[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>, would you be able to look at this test failure in quote4?</p>\n<p><a href=\"https://github.com/leanprover-community/quote4/pull/48\">https://github.com/leanprover-community/quote4/pull/48</a></p>",
        "id": 457349304,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723118736
    },
    {
        "content": "<p>This is me trying to bring quote4 up to the latest nightly; I have no idea at what point along the way this example stopped working, because we don't regularly update quote4.</p>",
        "id": 457349353,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723118761
    },
    {
        "content": "<p>Can you make a PR to bump to 4.10.0 or 4.11.0rc1, just to rule out the error being there?</p>",
        "id": 457349559,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723118838
    },
    {
        "content": "<p>Any chance you could? quote4 is pretty low priority for me, so if it's working for mathlib I'm happy. :-)</p>",
        "id": 457349786,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723118921
    },
    {
        "content": "<p>Just tested in the web editor; this test is already broken in the (version of Qq used by the) latest mathlib</p>",
        "id": 457349877,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723118956
    },
    {
        "content": "<p><code>run_cmd Elab.Command.lintersRef.set #[]</code> fixes it</p>",
        "id": 459323072,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723163258
    },
    {
        "content": "<p>So the crash is coming from a core linter</p>",
        "id": 459323091,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723163269
    },
    {
        "content": "<p>So a feature request: can linters catch all error messages and prefix them with \"the <code>foo</code> linter crashed:\" before re-raising?</p>",
        "id": 459323155,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723163306
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">constructorNameAsVariable</span><span class=\"w\"> </span><span class=\"n\">false</span>\n</code></pre></div>\n<p>fixes it</p>",
        "id": 459323502,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723163547
    },
    {
        "content": "<p>Interestingly <code>set_option linter.all false</code> does not</p>",
        "id": 459323530,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723163565
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/428973-nightly-testing/topic/quote4/near/457349559\">said</a>:</p>\n<blockquote>\n<p>Can you make a PR to bump to 4.10.0 or 4.11.0rc1, just to rule out the error being there?</p>\n</blockquote>\n<p>Done in <a href=\"https://github.com/leanprover-community/quote4/pull/49\">https://github.com/leanprover-community/quote4/pull/49</a>, along with a temporary workaround that should unblock your nightly bump</p>",
        "id": 459324498,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723164080
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 459324988,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723164284
    },
    {
        "content": "<p>The remaining things here are:</p>\n<ul>\n<li>feature request for the linter framework to prefix errors from linters</li>\n<li>finding a quote4-free minimization for the constructorNameAsVariable crash</li>\n</ul>",
        "id": 459325097,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723164354
    },
    {
        "content": "<p>Interested in doing either? :-)</p>",
        "id": 459325131,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723164362
    },
    {
        "content": "<p>Is the <code>linter.all</code> thing a bug too?</p>",
        "id": 459325162,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723164379
    },
    {
        "content": "<p>Oh, yes, possibly!</p>",
        "id": 459325179,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723164393
    },
    {
        "content": "<p>I might at some point get to 2; can you handle 1 and 3?</p>",
        "id": 459325298,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723164462
    },
    {
        "content": "<p><code>linter.all</code> fix is <a href=\"https://github.com/leanprover-community/mathlib4/pull/4966\">#4966</a></p>",
        "id": 459326310,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723165079
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/4966\">lean4#4966</a></p>",
        "id": 459326577,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723165235
    },
    {
        "content": "<p>And prefixing the name is done at <a href=\"https://github.com/leanprover/lean4/pull/4967\">lean#4967</a></p>",
        "id": 459327510,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723165866
    }
]