[
    {
        "content": "<blockquote>\n<p>chore: adaptations for nightly-2025-03-17 <a href=\"https://github.com/leanprover-community/mathlib4/pull/23016\">#23016</a> Please review this PR. At the end of the month this diff will land in 'master'.</p>\n</blockquote>",
        "id": 506200550,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1742228195
    },
    {
        "content": "<p>CI is failing on this one.</p>",
        "id": 506269707,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742248839
    },
    {
        "content": "<p>It's a time-out: adding more heartbeats fixes it.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">synthInstance</span><span class=\"bp\">.</span><span class=\"n\">maxHeartbeats</span><span class=\"w\"> </span><span class=\"mi\">40000</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">innerSL_real_flip</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">innerSL</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">flip</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">innerSL</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">w</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">real_inner_comm</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>\n<p>This is line 208 of <code>Mathlib/Analysis/InnerProductSpace/LinearMap.lean</code> (in fact maxHeartbeats <code>21000</code> works, it's just gone over the edge)</p>",
        "id": 506271044,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742249290
    },
    {
        "content": "<p>I reviewed. There's also a fishy change in a test but other than that it looks fine.</p>",
        "id": 506271932,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742249636
    },
    {
        "content": "<p>I've left a longer explanation of the disappearing test.</p>",
        "id": 506300112,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742261759
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> I'm quite sure <code>[eqns]</code> doesn't do anything at all anymore or at least I don't have an explanation of how it still could have an effect. Perhaps all this became obsolete from upstream improvements to equation theorems?</p>",
        "id": 506461128,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1742299399
    },
    {
        "content": "<p>It's definitely still having an effect. I tried turning it off in <code>irreducible_def</code>, and many things break. In any case, I don't think it's urgent to deal with now. (And my experiments suggest that most uses of <code>irreducible_def</code> are unnecessary and perhaps even slow things down, so I'd suggest we deal with cleaning that up first before worrying about <code>eqns</code> in <code>irreducible_def</code> at all.)</p>",
        "id": 506616495,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742349450
    }
]