[
    {
        "content": "<p>I've tried to read <a href=\"https://leanprover-community.github.io/contribute/tags_and_branches.html\">the documentation</a> about <code>lean-pr-testing-...</code> branches, and I'm massively confused. Could I please get some instructions on whether I'm doing this right?</p>\n<p>So there is Lean PR <a href=\"https://github.com/leanprover/lean4/pull/5173\">lean4#5173</a> and I've pushed a commit with fixes to the <a href=\"https://github.com/leanprover-community/mathlib4/pull/16157\">mathlib branch <code>lean-pr-testing-5173</code></a>.. and now what?</p>\n<p>Is it correct that I've created mathlib PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/16157\">#16157</a> which goes <code>bump/v4.12.0 &lt;-- lean-pr-testing-5173</code>?</p>",
        "id": 465220761,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1724686774
    },
    {
        "content": "<p>I think we need to merge lean-pr-testing-#### into nightly-testing first</p>",
        "id": 465222222,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1724687158
    },
    {
        "content": "<p>I think you can change the target branch of your pr</p>",
        "id": 465222335,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1724687174
    },
    {
        "content": "<p>ok. <del>and do I do that now or after the PR is merged in core?</del><br>\nWhat confused me is that it says <code>nightly-testing &lt;-- lean-pr-testing-5173</code> \"can be done anytime\", but I guess I'll just make the PR and then wait for somebody of yous to use that when the time is right.</p>",
        "id": 465223673,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1724687577
    },
    {
        "content": "<p>Yeah, make the PR to nightly-testing, and then when the nightly with your changes is released, a bot will bump the version on the nightly-testing branch, which will fail - at that point, we can merge your PR</p>",
        "id": 465252924,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1724698006
    },
    {
        "content": "<p>The essential step for contributors is to get a <code>builds-mathlib</code> label on their lean PR.</p>",
        "id": 465278422,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1724710068
    },
    {
        "content": "<p>The steps for that are: </p>\n<ul>\n<li>Make sure your lean PR is branched of <code>nightly-with-mathlib</code> (rebase it if not).</li>\n<li>If you get a <code>breaks-mathlib</code>, then you'll need to push changes to the Mathlib branch <code>lean-pr-testing-NNNN</code> branch until it's fixed</li>\n<li>If the breakage is in Batteries, then PR to that same name branch there (and ping me so I can merge quickly), but then <em>also</em> on the Mathlib branch update the lakefiles to point Batteries at that branch, and run <code>lake update batteries</code></li>\n</ul>",
        "id": 465278770,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1724710282
    }
]