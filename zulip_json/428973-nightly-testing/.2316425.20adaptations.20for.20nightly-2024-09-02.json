[
    {
        "content": "<blockquote>\n<p>chore: adaptations for nightly-2024-09-02 <a href=\"https://github.com/leanprover-community/mathlib4/pull/16425\">#16425</a></p>\n</blockquote>",
        "id": 467085976,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725328918
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256311\">@Jannis Limperg</span>, <span class=\"user-mention\" data-user-id=\"514145\">@Geoffrey Irving</span>, there are some significant regressions in Aesop here, and consequently also in <code>bound</code>.</p>\n<p>Fixing Mathlib per se is easy enough, so fixing this is not an obstacle to merging this PR (the regressions are noted with <code>#adaptation_note</code>) and releasing v4.12.0-rc1 soon, but hopefully one or both of you can have a look at the regressions.</p>\n<p>Very likely the underlying cause is <a href=\"https://github.com/leanprover/lean4/pull/5225\">lean#5225</a> or <a href=\"https://github.com/leanprover/lean4/pull/5226\">lean#5226</a>, which changed the way some caching and subterm sharing code worked (but also gives a 3.5% instruction count improvement across Mathlib), and I suspect this has broken Aesop's mechanism for deciding if progress was made.</p>\n<p>If it turns out we need changes in Lean again to support this, we will try to make this happen as quickly as possible, and can backport and release a v4.12.0-rc2 if needed.</p>\n<p>To find the all the regressions, just search for <code>https://github.com/leanprover/lean4/pull/5225</code> in the Mathlib sources.</p>",
        "id": 467086756,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725329256
    },
    {
        "content": "<p>There are no other changes in this adaptation PR, so hopefully someone could delegate it soon. I'm going to try to get v4.12.0-rc1 out shortly.</p>",
        "id": 467086951,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725329343
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256311\">@Jannis Limperg</span>, there are also a number of test breakages on aesop</p>",
        "id": 467106241,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725336751
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span>, if you're available to have look at <a href=\"https://github.com/leanprover-community/mathlib4/pull/16425\">#16425</a>, it's currently the blocker for completing the release of v4.12.0-rc1.</p>",
        "id": 467106638,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725336953
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> I just merged!</p>",
        "id": 467106763,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1725336999
    },
    {
        "content": "<p>I've fixed the tests that were commented out for v4.12.0-rc1. I believe this should also fix the Mathlib regressions.</p>\n<p>Interestingly, it seems the Lean changes <em>reduced</em> sharing in these cases, thus triggering an Aesop bug that was previously masked by sharing.</p>",
        "id": 467225415,
        "sender_full_name": "Jannis Limperg",
        "timestamp": 1725364248
    },
    {
        "content": "<p>Great, <a href=\"https://github.com/leanprover-community/mathlib4/pull/16461\">#16461</a> cleans up all the adaptation notes on <code>master</code>.</p>",
        "id": 467376981,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725406779
    }
]