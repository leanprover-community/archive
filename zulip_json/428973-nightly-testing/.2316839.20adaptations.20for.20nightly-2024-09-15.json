[
    {
        "content": "<blockquote>\n<p>chore: adaptations for nightly-2024-09-15 <a href=\"https://github.com/leanprover-community/mathlib4/pull/16839\">#16839</a></p>\n</blockquote>\n<p>bot did the bot thing, I did mine</p>\n<p>small diff, no conflicts, breeze</p>",
        "id": 470452209,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1726462595
    },
    {
        "content": "<p>I'm not sure about the changes by <span class=\"user-mention\" data-user-id=\"598052\">@Jeremy Tan</span>. Why were they necessary?</p>",
        "id": 470459367,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726464977
    },
    {
        "content": "<p>Because they were necessary for <code>lean-pr-testing-5239</code> to compile</p>",
        "id": 470459539,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726465051
    },
    {
        "content": "<p>Thanks.</p>",
        "id": 470460372,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726465352
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/5239\">lean#5239</a></p>",
        "id": 470460421,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726465369
    },
    {
        "content": "<p>Hmm, wrong number?</p>",
        "id": 470460489,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726465391
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/5329\">lean#5329</a></p>",
        "id": 470460535,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726465408
    },
    {
        "content": "<p>Hmm, I wasn't expecting to see changes in Mathlib from that. Do you know why <code>rfl</code> is now failing?</p>",
        "id": 470462158,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726465982
    },
    {
        "content": "<p>We may need to add <code>#adaptation_note</code>s to these changes, linking to <a href=\"https://github.com/leanprover/lean4/pull/5329\">lean#5329</a>, so we don't lose track of these regressions.</p>",
        "id": 470462230,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726466009
    },
    {
        "content": "<p>(Or, understand now why the changes were necessary and decide they aren't actually regressions.)</p>",
        "id": 470462349,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726466043
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/428973-nightly-testing/topic/.2316839.20adaptations.20for.20nightly-2024-09-15/near/470462158\">said</a>:</p>\n<blockquote>\n<p>Hmm, I wasn't expecting to see changes in Mathlib from that. Do you know why <code>rfl</code> is now failing?</p>\n</blockquote>\n<p>I think I got it; <code>Iff.rfl</code> (the implicit version), which was present in the former code, solves all these regressions</p>",
        "id": 470473140,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726469052
    },
    {
        "content": "<p>Do we need a follow-up to <a href=\"https://github.com/leanprover/lean4/pull/5329\">lean#5329</a>?</p>",
        "id": 470473605,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726469172
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/428973-nightly-testing/topic/.2316839.20adaptations.20for.20nightly-2024-09-15/near/470473605\">said</a>:</p>\n<blockquote>\n<p>Do we need a follow-up to <a href=\"https://github.com/leanprover/lean4/pull/5329\">lean#5329</a>?</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover/lean4/pull/5359\">lean#5359</a></p>",
        "id": 470474249,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726469353
    },
    {
        "content": "<p>but do we need it on the <code>Iff.refl</code>, if we have this?</p>",
        "id": 470474379,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726469391
    },
    {
        "content": "<p>What's the shortest way to rebase the branch onto nightly-with-mathlib?</p>",
        "id": 470474801,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726469504
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">fetch</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">rebase</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">origin</span><span class=\"bp\">/</span><span class=\"n\">nightly</span><span class=\"bp\">-</span><span class=\"k\">with</span><span class=\"bp\">-</span><span class=\"n\">mathlib</span>\n</code></pre></div>",
        "id": 470474898,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726469524
    },
    {
        "content": "<p>It must chug first</p>",
        "id": 470476463,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726469933
    },
    {
        "content": "<p>Would you be able to add</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">adaptation_note</span>\n<span class=\"sd\">/--</span>\n<span class=\"sd\">This proof used to be `...`,</span>\n<span class=\"sd\">but has been temporarily broken by https://github.com/leanprover/lean4/pull/5329.</span>\n<span class=\"sd\">It can hopefully be restored after https://github.com/leanprover/lean4/pull/5359</span>\n<span class=\"sd\">-/</span>\n</code></pre></div>\n<p>to those four places in <a href=\"https://github.com/leanprover-community/mathlib4/pull/16839\">#16839</a>?</p>\n<p>With those notes in place, we can merge this without having to wait for a new nightly.</p>",
        "id": 470476918,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726470051
    },
    {
        "content": "<p>(There will be many adaptations tonight, which I'd like to get in asap as they are ready to go.)</p>",
        "id": 470476984,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726470072
    },
    {
        "content": "<p>Done</p>",
        "id": 470478544,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726470490
    },
    {
        "content": "<p>Thank you!</p>",
        "id": 470478706,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726470547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> <a href=\"https://github.com/leanprover/lean4/pull/5359\">lean4#5359</a> has built mathlib without any adaptation whatsoever</p>",
        "id": 470517198,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726477656
    },
    {
        "content": "<p>Great, I've merged <a href=\"https://github.com/leanprover-community/mathlib4/pull/16839\">#16839</a> now.</p>",
        "id": 470521139,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726478286
    }
]