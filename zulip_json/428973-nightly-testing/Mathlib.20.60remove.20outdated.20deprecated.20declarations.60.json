[
    {
        "content": "<p>Here''Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/29972\">#29972</a>, which removes deprecated declarations older than to date not set.''</p>",
        "id": 541524250,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1758825986
    },
    {
        "content": "<p>This was a test and it was mostly successful!</p>",
        "id": 541524302,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758826011
    },
    {
        "content": "<p>There may be some more messaging here, as I test more features.</p>",
        "id": 541524652,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758826144
    },
    {
        "content": "<p>'Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/29973\">#29973</a>, which removes deprecated declarations older than to date not set.'</p>",
        "id": 541524807,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1758826202
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/29974\">#29974</a>, which removes deprecated declarations older than to date not set.</p>",
        "id": 541527089,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1758826925
    },
    {
        "content": "<p>The PR is now up for review at <a href=\"https://github.com/leanprover-community/mathlib4/pull/30070\">#30070</a>.</p>",
        "id": 542081481,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161912
    },
    {
        "content": "<p>There are several earlier attempts at removing deprecated declarations, the latest one being <a href=\"https://github.com/leanprover-community/mathlib4/pull/30068\">#30068</a>.</p>",
        "id": 542081589,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161943
    },
    {
        "content": "<p>These count as tests for the action, in case you want to see it working!</p>",
        "id": 542081651,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161956
    },
    {
        "content": "<p>Note that the tests deliberately used <em>large</em> ranges for removing old deprecations, so that they would test removing \"complicated\" declarations, as well as simple.</p>",
        "id": 542081798,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161999
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/30082\">#30082</a>, which removes deprecated declarations between 2025-05-23 and 2025-05-23. Pay special attention to whether there are stray comments that can also be deleted.</p>",
        "id": 542229277,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1759225474
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/30098\">#30098</a>, which removes deprecated declarations between 2025-01-01 and 2025-03-30.<br>\nPay special attention to whether there are stray comments that can also be deleted.</p>",
        "id": 542363962,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1759264898
    },
    {
        "content": "<p>I was reviewing, but it was closed?</p>",
        "id": 542370169,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1759267474
    },
    {
        "content": "<p>Sorry, this is still in the process of testing!</p>",
        "id": 542370616,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1759267677
    },
    {
        "content": "<p>I should have edited the Zulip message, apologies. There should be one more testing PR soon; please ignore that one as well.</p>",
        "id": 542370807,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1759267764
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/30099\">#30099</a>, which removes deprecated declarations between 2025-01-01 and 2025-03-30.<br>\nPay special attention to whether there are stray comments that can also be deleted.</p>",
        "id": 542373391,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1759269141
    },
    {
        "content": "<p>I'll try to remember to apply the comments from your review myself when this comes for real (probably after <a href=\"https://github.com/leanprover-community/mathlib4/pull/30070\">#30070</a> is merged)</p>",
        "id": 542375490,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1759270362
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/30759\">#30759</a>, which removes deprecated declarations between 2020-10-21 and 2025-04-21.<br>\nPay special attention to whether there are stray comments that can also be deleted.</p>",
        "id": 546316004,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1761076313
    },
    {
        "content": "<p>As promised above, I will apply Ruben's suggestions from <a href=\"https://github.com/leanprover-community/mathlib4/pull/30098\">#30098</a> to <a href=\"https://github.com/leanprover-community/mathlib4/pull/30759\">#30759</a>.</p>\n<p><strong>edit</strong>: done, thanks <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> and sorry again for the confusion above!</p>",
        "id": 546316156,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1761076384
    },
    {
        "content": "<p>... and, importantly, the removal seems to have worked \"automatically\"!</p>",
        "id": 546319034,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761077506
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30759\">#30759</a> is now green; there are a few comments I'd like some 2nd opinions on, but otherwise it should be ready to go.</p>",
        "id": 546556478,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1761169655
    },
    {
        "content": "<p>A few updates on <a href=\"https://github.com/leanprover-community/mathlib4/pull/30759\">#30759</a>:</p>\n<ul>\n<li>I made a separate review thread at <a class=\"stream-topic\" data-stream-id=\"144837\" href=\"/#narrow/channel/144837-PR-reviews/topic/.2330759.20remove.20declarations.20deprecated.20before.202025-04-21/with/547094740\">#PR reviews &gt; #30759 remove declarations deprecated before 2025-04-21</a> .</li>\n<li>I realized it probably won't be merged before the next automated run occurs, and then remembered that the action we're using in the workflow will force-push over the branch we're using, so I manually disabled it and opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/30901\">#30901</a> to prevent this. I also changed the schedule to monthly since it seems weekly is too ambitious at the moment.</li>\n</ul>",
        "id": 547095187,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1761444044
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/19384254316\"><code>remove outdated deprecated declarations</code> workflow run failed</a></p>\n<p>triggered by: <code>schedule</code></p>",
        "id": 555715348,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1763184414
    },
    {
        "content": "<p>Oh, this is probably because the script is using the branch from which the PR was made, but now that the PR has been merged, the branch no longer exists!</p>",
        "id": 555723708,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1763192147
    },
    {
        "content": "<p>Fixed in <a href=\"https://github.com/leanprover-community/mathlib4/pull/31647\">#31647</a></p>",
        "id": 556602954,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1763210552
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/33988\">#33988</a>, which removes deprecated declarations between 2021-01-15 and 2025-07-15.<br>\nPay special attention to whether there are stray comments that can also be deleted.</p>",
        "id": 568126006,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1768453230
    },
    {
        "content": "<p>I reviewed, but also it doesn't build</p>",
        "id": 568158885,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1768469253
    },
    {
        "content": "<p>I remember that Bryan and I had thought about automatically removing (at least some) commands that reference deprecated declarations.  For instance, if <code>X</code> is deprecated and there is an <code>attribute [simp] X</code>, then both should be removed.</p>",
        "id": 568169057,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768471965
    },
    {
        "content": "<p>I wonder if this only stayed in a wishful thinking world, or whether we actually implemented it (and it has bugs).</p>",
        "id": 568169134,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768471993
    },
    {
        "content": "<p>I went over the PR and it looks good to me.</p>",
        "id": 568176490,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768474069
    },
    {
        "content": "<p>The only non-automated replacements have been</p>\n<ul>\n<li>the removal of pairs of open/closed <code>namespace</code>s, with not intervening commands;</li>\n<li>the removal of a declaration that referenced a deprecated (and removed) declaration;</li>\n<li>the removal of a term elaborator for syntax that was deprecated and removed.</li>\n</ul>\n<p>You can look at the two very small commits on top of the automated one for these changes.</p>",
        "id": 568176902,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768474204
    },
    {
        "content": "<p>While trying to get automation to help with the finishing touches for the removal of old deprecations, here is an interesting file: <a href=\"https://tqft.net/mathlib4files/Mathlib/Data/Tree/RBMap\">file#Mathlib/Data/Tree/RBMap</a>.</p>",
        "id": 568327239,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768518380
    },
    {
        "content": "<p>Or <a href=\"https://github.com/leanprover-community/mathlib4/blob/3de2350c1fcee0565164fde61903f3d33d3acd64/Mathlib/RingTheory/NonUnitalSubsemiring/Defs.lean#L274-L282\">https://github.com/leanprover-community/mathlib4/blob/3de2350c1fcee0565164fde61903f3d33d3acd64/Mathlib/RingTheory/NonUnitalSubsemiring/Defs.lean#L274-L282</a> in <a href=\"https://tqft.net/mathlib4files/Mathlib/RingTheory/NonUnitalSubsemiring/Defs\">file#Mathlib/RingTheory/NonUnitalSubsemiring/Defs</a>.</p>",
        "id": 568327979,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768518765
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/34021\">#34021</a></p>",
        "id": 568336521,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1768524346
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/22029866735\"><code>remove outdated deprecated declarations</code> workflow run failed</a></p>\n<p>triggered by: <code>schedule</code></p>",
        "id": 573949190,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1771131832
    },
    {
        "content": "<p>We hadn't updated the branch protection rule to let the app token push a new branch to mathlib yet. Fixed now.</p>",
        "id": 573949696,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1771132259
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/22029866735\"><code>remove outdated deprecated declarations</code> workflow run failed</a></p>\n<p>triggered by: <code>schedule</code></p>",
        "id": 573950284,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1771133268
    },
    {
        "content": "<p>(I forgot to hit save... <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span>  should work this time)</p>",
        "id": 573957771,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1771140959
    },
    {
        "content": "<p>Please review <a href=\"https://github.com/leanprover-community/mathlib4/pull/35335\">#35335</a>, which removes deprecated declarations between 2021-02-15 and 2025-08-15.<br>\nPay special attention to whether there are stray comments that can also be deleted.</p>",
        "id": 573958505,
        "sender_full_name": "github mathlib4 bot",
        "timestamp": 1771141983
    },
    {
        "content": "<p>Ready for review (or I might just merge it myself tomorrow)</p>",
        "id": 573960622,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1771144409
    },
    {
        "content": "<p>One more issue with overview.yaml fixed. Does someone want to look into seeing if we can make  <code>check-yaml</code> complain if an entry is deprecated?</p>\n<p><strong>edit</strong>: posted separately at <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/check_yaml/near/573978887\">#mathlib4 &gt; check_yaml @ ðŸ’¬</a></p>",
        "id": 573975741,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1771161351
    }
]