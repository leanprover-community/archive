[
    {
        "content": "<p>Mathlib is now on v4.28.0-rc1. However the PRs <a href=\"https://github.com/leanprover/cslib/pull/292\">cslib#292</a> and <a href=\"https://github.com/leanprover-community/repl/pull/143\">repl#143</a> appear to be rebuilding Mathlib rather than using the cache.</p>\n<p>Locally, the cache seems to work fine for me, both in Mathlib and in downstream projects. (Testing on macos in case that is relevant.)</p>\n<p>If anyone is available to take a look, and report here, that would be great. Diagnosing the problem would be even more amazing. (It's late here, but I'll look at this after sleeping.)</p>",
        "id": 570107244,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1769437955
    },
    {
        "content": "<p>(Pinging <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> in case he recognizes these symptoms as possibly caused by recent changes in lake.)</p>",
        "id": 570107268,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1769437959
    },
    {
        "content": "<p>For me, locally on Linux the cache seems to work for CSLib. I'll hold off merging until this is resolved.</p>",
        "id": 570151660,
        "sender_full_name": "Chris Henson",
        "timestamp": 1769448812
    },
    {
        "content": "<p>Sadly, I don't recognize this. I can't think of any recent Lake changes in the area (there will be this month, but I have not merged any yet).</p>",
        "id": 570152094,
        "sender_full_name": "Mac Malone",
        "timestamp": 1769448950
    },
    {
        "content": "<p>Looking at the CSLib <a href=\"https://github.com/leanprover/cslib/actions/runs/21357199116/job/61467299732#step:3:197\">CI run</a>, the problem appears to be cache itself partially failed. It found only 1449  of 7873  in the cache.</p>",
        "id": 570152832,
        "sender_full_name": "Mac Malone",
        "timestamp": 1769449153
    },
    {
        "content": "<p>The <a href=\"https://github.com/leanprover-community/repl/actions/runs/21357481133/job/61468233671#step:5:168\">REPL run</a> encountered the same failure. It had the exact same file count, so it is  likelynot a transient error.</p>",
        "id": 570153326,
        "sender_full_name": "Mac Malone",
        "timestamp": 1769449299
    },
    {
        "content": "<p>Inversely, the Mathlib <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/21357251490/job/61472986104#step:4:85\">CI run</a> cache check for v4.28.0-rc1 did succeed in downloading all the files.</p>",
        "id": 570154169,
        "sender_full_name": "Mac Malone",
        "timestamp": 1769449569
    },
    {
        "content": "<p>Local testing works for both Mathlib and the PRs. Perhaps this was some temporary unavailability for those files from the Azure side? <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>, I would suggest reruning the CI to verify whether the issue reproduces.</p>",
        "id": 570156605,
        "sender_full_name": "Mac Malone",
        "timestamp": 1769450304
    },
    {
        "content": "<p>Rerunning the CSLib CI seemed to work, so I am going to go ahead and merge.</p>",
        "id": 570167998,
        "sender_full_name": "Chris Henson",
        "timestamp": 1769454025
    }
]