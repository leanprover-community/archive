[
    {
        "content": "<p>Has anyone here heard of Tamarin? In an unrelated conversation with a friend I just was linked <a href=\"https://tamarin-prover.com/book/\">https://tamarin-prover.com/book/</a> which is a pre-release book on using it to verify security protocols. I have not even glanced at it yet, but perhaps it's interesting to think about for this audience.</p>",
        "id": 506551210,
        "sender_full_name": "Julian Berman",
        "timestamp": 1742322405
    },
    {
        "content": "<p>Tamarin is a state machine based theorem proved</p>",
        "id": 506560544,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742325201
    },
    {
        "content": "<p>One or more authors works at my institute. It is written in Haskell</p>",
        "id": 506560602,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742325219
    },
    {
        "content": "<p>I actually wonder how it would be built if it were written in lean. Theoretically it should be possible</p>",
        "id": 506560703,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742325251
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/236449-Program-verification/topic/Tamarin.20.28.3C-.3E.3F.20Lean.29.20.2F.20Security.20Protocol.20Verification/near/506551210\">said</a>:</p>\n<blockquote>\n<p>Has anyone here heard of Tamarin? In an unrelated conversation with a friend I just was linked <a href=\"https://tamarin-prover.com/book/\">https://tamarin-prover.com/book/</a> which is a pre-release book on using it to verify security protocols. I have not even glanced at it yet, but perhaps it's interesting to think about for this audience.</p>\n</blockquote>\n<p>Tamarin is pretty good, it's rather Isabelle/HOL than Lean inspired though. It's been used for some cool real world stuff like verifying (post quantum extensions of) the IKEv2 key exchange protocol by people that I used to work with: <a href=\"https://www.mnm-team.org/pub/Publikationen/gggh21b/PDF-Version/gggh21b.pdf\">https://www.mnm-team.org/pub/Publikationen/gggh21b/PDF-Version/gggh21b.pdf</a>. I think it'd be pretty cool if we had something like Tamarin in Lean.</p>",
        "id": 506566756,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1742327174
    },
    {
        "content": "<p>Tamarin is written in Haskell afaik</p>",
        "id": 506580629,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742331862
    },
    {
        "content": "<p>And it has been developed over almost a decade at this point?</p>",
        "id": 506580663,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742331882
    },
    {
        "content": "<p>I wonder how feasible it would be to develop the relevant parts in lean.</p>",
        "id": 506580736,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742331915
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/236449-Program-verification/topic/Tamarin.20.28.3C-.3E.3F.20Lean.29.20.2F.20Security.20Protocol.20Verification/near/506580629\">said</a>:</p>\n<blockquote>\n<p>Tamarin is written in Haskell afaik</p>\n</blockquote>\n<p>yes but it is very obviously of isabelle descent in spirit</p>",
        "id": 506583992,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1742333111
    },
    {
        "content": "<p>I don’t see how. It encodes cryptographic protocol state machines as some sort of an equational theory</p>",
        "id": 506604545,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742342922
    },
    {
        "content": "<p>It is an obvious syntactic copy of Isabelle in parts, its files have .thy as their ending and they have literal ports of Isabelle files in their repository</p>",
        "id": 506679103,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1742377393
    },
    {
        "content": "<p>I just informed Cas Cremers about this channel and discussion. He might respond to the questions here. So <span class=\"user-mention\" data-user-id=\"321696\">@Julian Berman</span> and <span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> : if you have some more questions, we could collect them in this thread.</p>",
        "id": 506696477,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742382256
    },
    {
        "content": "<p>(I'm at the extremely early stage of \"oh this looks interesting I'll play with it at some point\", so no intelligent questions to ask of them quite yet!)</p>",
        "id": 506712705,
        "sender_full_name": "Julian Berman",
        "timestamp": 1742386922
    },
    {
        "content": "<p>Similarly for me, my main connection point with Tamarin was the 4 sheets of A1 paper at the wall in our office that showed a protocol level exploit in the early IKEv2 PQC spec proposals.</p>",
        "id": 506713041,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1742387017
    },
    {
        "content": "<p>I asked Cas about implementing tamarin into lean</p>",
        "id": 506714823,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742387508
    },
    {
        "content": "<p>He said they tried something on a very early stage (“sub part of a predecessor”) and ran into some issues</p>",
        "id": 506714983,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742387548
    },
    {
        "content": "<p>Well it would be great if they could point out these issues^^</p>",
        "id": 506719997,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1742388844
    },
    {
        "content": "<p>Looking at the timeline of Tamarin's development and the phrasing, I can't imagine they used lean4. Further lean has come a long way since then</p>",
        "id": 506725448,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742390032
    },
    {
        "content": "<p>As a first step, one may want to implement a Dolev-Yao model. In the style of DY* <a href=\"https://reprosec.org/dystar/\">https://reprosec.org/dystar/</a>. Years ago there were even discussions on making a lean backend for F*.<br>\nThere is also early work by Larry Paulson formalizing DY in Isabelle.</p>",
        "id": 506747315,
        "sender_full_name": "Bas Spitters",
        "timestamp": 1742395047
    },
    {
        "content": "<p>Whether we implement a subset of Tamarin or Dolev Yao, we need to in-house some of the tricks we used for equational theories into lean itself</p>",
        "id": 506755883,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742397024
    },
    {
        "content": "<p>lean-egg is a nice tool in this direction (guided rewriting chains).</p>",
        "id": 506761614,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1742398333
    },
    {
        "content": "<p>I am also interested. I spent some effort on a Rust+Egg implementation of Verifpal some time ago which is also meant for protocol verification. (Not sure what people think of it but I found the syntax easier to read. I ran into soundness issues with my rule set and gave up. I have some ideas on how to resolve them but didn't get to it yet.) Looking at the upcoming grind tactic, I wonder if it directly or its infrastructure could help since it seems to be an egraph framework as well.</p>",
        "id": 506908449,
        "sender_full_name": "fabricandink",
        "timestamp": 1742459888
    },
    {
        "content": "<p>I am at HACS this next two days and in fact am looking at a whiteboard with \"Tamarin\" written on it right now.</p>",
        "id": 507538080,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1742714038
    },
    {
        "content": "<p>It would be good to make closer links between the high-assurance cryptography community and the Lean community, though I know we already have a few people in both worlds.</p>",
        "id": 507538214,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1742714080
    },
    {
        "content": "<p>Cas Cremers mentioned over coffee that they have done experience in this direction, but that he has not had to time to react to this thread. In short, I understand there are some known, but unpublished, issues with embedding Tamarin into proof assistants. You could consider reaching out to Cas or David Basin by email, but both are extremely busy...</p>",
        "id": 508259768,
        "sender_full_name": "Bas Spitters",
        "timestamp": 1742991825
    }
]