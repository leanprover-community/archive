[
    {
        "content": "<p>I am trying to learn how to use lean to verify simple properties of functional programs. Currently, I am on insertion sort and I repeatedly run into error messages such as </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">type</span><span class=\"w\"> </span><span class=\"n\">mismatch</span>\n<span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">sorted</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">sorted</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>Is there a way to cast between these types?<br>\nSimilarly, <code>[]</code> and <code>nil</code> do not seem to be the same.</p>",
        "id": 474900007,
        "sender_full_name": "Alexander Kurz",
        "timestamp": 1728075505
    },
    {
        "content": "<p><a href=\"https://live.lean-lang.org/#codez=KYDwhgtgDgNsAEAueAKA2gXSfAMgSwGcAXeAOTCIEp4BeXQogOgDs8Yk6AjAT3gCcAZjCA\">https://live.lean-lang.org/#codez=KYDwhgtgDgNsAEAueAKA2gXSfAMgSwGcAXeAOTCIEp4BeXQogOgDs8Yk6AjAT3gCcAZjCA</a> yes they are the same. Unless you are not in the <code>List</code> namespace in which case your <code>nil</code> is most likely an auto implicit variable. If we wanted to check that you'd have to provide a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a></p>",
        "id": 474900514,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1728075771
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> What do I have to do to make sure that I am in the List namespace?</p>",
        "id": 474900690,
        "sender_full_name": "Alexander Kurz",
        "timestamp": 1728075878
    },
    {
        "content": "<p>You can either write <code>List.nil</code> like I did in my example. Or <code>open List</code> or if you want to place your own declarations within the namespace use <code>namespace List</code>, depends on what you're going for.</p>",
        "id": 474900757,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1728075922
    },
    {
        "content": "<p>Auto implicit variables are a confusing feature when  learning Lean. Put <code>set_option autoImplicit false</code> at the top of your file to turn the feature off.</p>",
        "id": 474901108,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1728076112
    },
    {
        "content": "<p>Thanks for all your help. So far, the easiest fix was to replace <code>nil</code> in my code everywhere by <code>List.nil</code>.</p>",
        "id": 474923123,
        "sender_full_name": "Alexander Kurz",
        "timestamp": 1728087342
    },
    {
        "content": "<p>Or use <code>[]</code> instead of <code>List.nil</code></p>",
        "id": 474970407,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728126455
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> Btw, I very much like your mathlib graph</p>",
        "id": 474998758,
        "sender_full_name": "Alexander Kurz",
        "timestamp": 1728148634
    }
]