[
    {
        "content": "<p>Frucht's theorem says every group is the automorphism group of some (simple, undirected) graph. This statement is provable in ZF, but it very crucially depends on the regularity axiom (!!). It is also provable with choice.</p>\n<p>The gist of the proof with choice is to pick a well-order for a generating set, and we can construct the cayley graph with each edge marked with an ordinal. Since ordinals are very rigid, it's easy to construct decorations on the edge to guarantee no automorphisms mix up the markings. The proof in ZF uses induction on the rank of the generating set, which we don't have in a structural foundation like Lean. Is it possible to prove this theorem in Lean without choice? This is very probably not possible.</p>",
        "id": 483931774,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1732288479
    },
    {
        "content": "<p>In Lean without choice you don't even have excluded middle</p>",
        "id": 483953108,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732294928
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/116395-maths/topic/Frucht's.20theorem.20without.20choice/near/483953108\">said</a>:</p>\n<blockquote>\n<p>In Lean without choice you don't even have excluded middle</p>\n</blockquote>\n<p>The proof in ZF doesn't use excluded middle either, if I read it correctly. So it is also provable in IZF.</p>",
        "id": 483962587,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1732298154
    },
    {
        "content": "<p>Do you have a minimal example of a proof in IZF you aren't sure about in Lean without choice? I'm having some trouble understanding the problem here</p>",
        "id": 483965221,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732299036
    },
    {
        "content": "<p>As I said, the proof of this uses induction over the rank of a set to create a choice without actually invoking choice. What we need is enough pieces of \"decorations\" on a graph, so that distinct decorations cannot be mixed together via an automorphism, and there must not be any extra automorphisms induced by permuting the vertices inside that decoration.</p>",
        "id": 484041891,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1732347494
    },
    {
        "content": "<p>ZF automatically provides us with such decorations: suppose we want to assign one decoration for each element in a set X, then for the element <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">x \\in X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>, we can just consider the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∈</mo></mrow><annotation encoding=\"application/x-tex\">\\in</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">∈</span></span></span></span>-graph of the hereditary elements/transitive closure (i.e. elements, and elements of elements, and so on) of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>! For example, the graph corresponding to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mi mathvariant=\"normal\">∅</mi><mo separator=\"true\">,</mo><mo stretchy=\"false\">{</mo><mi mathvariant=\"normal\">∅</mi><mo stretchy=\"false\">}</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\varnothing, \\{\\varnothing\\}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord amsrm\">∅</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">{</span><span class=\"mord amsrm\">∅</span><span class=\"mclose\">}}</span></span></span></span> has three vertices forming a triangle.</p>",
        "id": 484042140,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1732347764
    },
    {
        "content": "<p>Is the statement you need basically that every set injects to some (constructive, to avoid choice) well founded order, or do you need more?<br>\nThinking about this for a bit, I doubt this is provable without choice</p>",
        "id": 484044195,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732349871
    },
    {
        "content": "<p>It probably needs to be both well-founded and extensional (as in the extensionality axiom of ZF), to avoid spurious automorphisms.</p>",
        "id": 484044870,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1732350489
    },
    {
        "content": "<p>Does this theorem fail in ZFA? I feel like that might be closer to type theory</p>",
        "id": 484045104,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732350717
    },
    {
        "content": "<p>Yes, it's independent of ZFA (but provable in ZFA + choice)</p>",
        "id": 484045170,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1732350760
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 484115485,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1732416744
    },
    {
        "content": "<p>I looked at the paper, it looks like we need that every type injects into some beth cardinal, which is immediate in ZF because the beth cardinals are just <code>|V_a|</code>.</p>\n<p>I doubt this is true in lean even assuming LEM as an axiom, but I'm not sure. Either way this is really interesting! A very non-obvious effect of our choice of foundation on \"normal\" mathematical objects.</p>",
        "id": 490378266,
        "sender_full_name": "Nir Paz",
        "timestamp": 1734864019
    },
    {
        "content": "<p>How would you prove that <code>Type</code> injects into a beth number without knowing that it can be well-ordered?</p>",
        "id": 495390899,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737587875
    },
    {
        "content": "<p>Even with choice, my understanding is that theorems such as <code>#Type = #Ordinal</code> are unprovable.</p>",
        "id": 495391151,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737588004
    },
    {
        "content": "<p>Not that it is the final word, but Wikipedia claims that the two independent proofs of the infinite group case needed Choice. Where's a proof that this can be done in ZF? At the very least so it can be added to the WP page.</p>",
        "id": 495597351,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1737671633
    },
    {
        "content": "<p>Oh, ok, it's a preprint, here:</p>\n<ul>\n<li>Brian Pinsky, <em>Frucht's Theorem without Choice</em>,  <a href=\"https://arxiv.org/abs/2305.11382\">https://arxiv.org/abs/2305.11382</a></li>\n</ul>",
        "id": 495597547,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1737671700
    },
    {
        "content": "<p>The formalization was finished at <a href=\"https://github.com/znssong/frucht\">https://github.com/znssong/frucht</a>. It proved three theorems:</p>\n<ol>\n<li>FAFA_2 (an axiom in non-well-founded set theory) proves Frucht's theorem.</li>\n<li>The axiom of foundation implies Frucht's theorem.</li>\n<li>The axiom of choice implies Frucht's theorem.</li>\n</ol>",
        "id": 520604938,
        "sender_full_name": "Shuhao Song",
        "timestamp": 1748333204
    }
]