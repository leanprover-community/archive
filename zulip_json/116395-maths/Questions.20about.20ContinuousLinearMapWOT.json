[
    {
        "content": "<p>Arriving after the battle here, but I just noticed the addition of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousLinearMapWOT#doc\">docs#ContinuousLinearMapWOT</a> (thanks <span class=\"user-mention\" data-user-id=\"311453\">@FrÃ©dÃ©ric Dupuis</span> !) and I have a few questions/suggestions about design decisions.<br>\n1) The naming is a bit inconsistent with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=UniformConvergenceCLM#doc\">docs#UniformConvergenceCLM</a>. I don't have a strong opinion about which is better (and WOT is definitely a more standard acronym that CLM) but we should probably decide on some convention since these topologies are going to multiply.<br>\n2) Intuitively I would have defined the topology using the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WeakBilin#doc\">docs#WeakBilin</a> machinery, by putting <code>E â†’WOT[ğ•œ] F</code> in duality with <code>E âŠ—[ğ•œ] (F â†’L[ğ•œ] ğ•œ)</code>. Thinking back about it it's probably useless extra work, but the thing that worries me is that we currently have to predicate for \"the canonical topology on this space is the weak one for this duality\". Probably the best is to add the latter rather than redefine <code>ContinuousLinearMapWOT</code>.<br>\n3) Is there a reason to restrict to a normed codomain ? I mean it's a bit silly to put a weak space on the codomain since WOT and SOT coincide in that case, but it still seems like an unnecessary restriction. If the only reason was \"I don't need it so I won't make my life more complicated\" then that's completely fine and I can work on the generalization (I think in any case I'll do a PR to avoid the complicated proof of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousLinearMapWOT.hasBasis_seminorms#doc\">docs#ContinuousLinearMapWOT.hasBasis_seminorms</a>, which should not be needed thanks to the general facts we have about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithSeminorms#doc\">docs#WithSeminorms</a>)</p>",
        "id": 473995553,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1727775799
    },
    {
        "content": "<p>No worries about being late to the party -- now I'm the one with less time for Lean, so you can feel free to take over! :-)</p>\n<blockquote>\n<p>1) The naming is a bit inconsistent with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=UniformConvergenceCLM#doc\">docs#UniformConvergenceCLM</a>. I don't have a strong opinion about which is better (and WOT is definitely a more standard acronym that CLM) but we should probably decide on some convention since these topologies are going to multiply.</p>\n</blockquote>\n<p>Yeah, it would be nice to have a more consistent naming scheme. I personally prefer to have a type \"mainly\" named after what it contains (i.e. continuous linear maps in this case), but I don't have a very strong opinion here.</p>\n<blockquote>\n<p>2) Intuitively I would have defined the topology using the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WeakBilin#doc\">docs#WeakBilin</a> machinery, by putting <code>E â†’WOT[ğ•œ] F</code> in duality with <code>E âŠ—[ğ•œ] (F â†’L[ğ•œ] ğ•œ)</code>. Thinking back about it it's probably useless extra work, but the thing that worries me is that we currently have to predicate for \"the canonical topology on this space is the weak one for this duality\". Probably the best is to add the latter rather than redefine <code>ContinuousLinearMapWOT</code>.</p>\n</blockquote>\n<p>I don't think it's possible to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WeakBilin#doc\">docs#WeakBilin</a> here, we would actually need a multilinear version of it. The issue is that the weak operator topology on <code>E â†’L[ğ•œ] F</code> is induced by the function <code>inducingFn : (E â†’WOT[ğ•œ] F) â†’â‚—[ğ•œ] E Ã— Fâ‹† â†’ ğ•œ</code> defined as <code>fun A âŸ¨x, yâŸ© =&gt; y (A x)</code>; we would need it to be bilinear (i.e. of type <code>(E â†’WOT[ğ•œ] F) â†’â‚—[ğ•œ] E Ã— Fâ‹† â†’â‚—[ğ•œ] ğ•œ</code>) for this to be in the right form for <code>WeakBilin</code>. It does lead to an unfortunate duplication of code though since pretty much all the proofs work the same way.</p>\n<blockquote>\n<p>3) Is there a reason to restrict to a normed codomain ? I mean it's a bit silly to put a weak space on the codomain since WOT and SOT coincide in that case, but it still seems like an unnecessary restriction. If the only reason was \"I don't need it so I won't make my life more complicated\" then that's completely fine and I can work on the generalization (I think in any case I'll do a PR to avoid the complicated proof of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousLinearMapWOT.hasBasis_seminorms#doc\">docs#ContinuousLinearMapWOT.hasBasis_seminorms</a>, which should not be needed thanks to the general facts we have about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithSeminorms#doc\">docs#WithSeminorms</a>)</p>\n</blockquote>\n<p>A lot of typeclass requirements could probably be weakened, yes. You can definitely feel free to work on that!</p>",
        "id": 474153253,
        "sender_full_name": "FrÃ©dÃ©ric Dupuis",
        "timestamp": 1727829482
    },
    {
        "content": "<p>Yes I was aware of the issue for 2, which is why I was thinking about using tensor products. But I guess the associated extra machinery makes it not worth it. <br>\nFor the naming I see your point, but I'm not sure about it. As in, <code>WeakOperatorCLM</code> seems very easy to find as well, and the docstring can then take care of explaining more. But in any case the main problem is I don't really know what to name <code>UniformConvergenceCLM</code> which isn't ridiculously long, since <code>UOT</code> for <code>UniformOperatorTopology</code> seems very nonstandard...</p>",
        "id": 475099089,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1728220082
    },
    {
        "content": "<p>Yeah, I briefly thought about the tensor product solution, but that sounds rather painful... Although if you think it's worth it, feel free to go ahead and refactor it.</p>\n<p>I'm not too sure how else to call <code>UniformConvergenceCLM</code> either, in any case I don't really have a very strong opinion like I said. Maybe we can vote on it?</p>",
        "id": 475701418,
        "sender_full_name": "FrÃ©dÃ©ric Dupuis",
        "timestamp": 1728435788
    },
    {
        "content": "<p>I'm okay with <code>WeakOperatorCLM</code> and <code>StrongOperatorCLM</code>, when we finally get around to fixing up that PR (this is on my TODO list).</p>",
        "id": 475714946,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1728440558
    },
    {
        "content": "<p>I forgot to mention <a href=\"https://github.com/leanprover-community/mathlib4/pull/17492\">#17492</a> here.</p>",
        "id": 479691918,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1730297632
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18443\">#18443</a> does a similar golf for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearMap.weakBilin_withSeminorms#doc\">docs#LinearMap.weakBilin_withSeminorms</a></p>",
        "id": 479697570,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1730299246
    }
]