[
    {
        "content": "<p>I'm currently not very satisfied with the API on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PartiallyWellFoundedOn#doc\">docs#PartiallyWellFoundedOn</a></p>",
        "id": 485168962,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732919937
    },
    {
        "content": "<p>I want to talk about partially well-ordered types, in the context of defining <a href=\"https://en.wikipedia.org/wiki/Poset_game\">poset games</a>, as these are the posets for which the game is guaranteed to terminate.</p>",
        "id": 485169017,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732920000
    },
    {
        "content": "<p>But currently I can only talk about partially well-founded sets. Of course I could use something like <code>PartiallyWellFoundedOn univ</code> but that seems annoying.</p>",
        "id": 485169131,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732920059
    },
    {
        "content": "<p>I'm also not convinced our definition of partial well-founded orders is the best one. \"Any infinite sequence indexed by naturals has an increasing subsequence of length 2\" is intuitive and relatively concise. But I feel like there's an easier definition we could be using, which allows us to better make use of existing API:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">PartiallyWellOrdered</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">WellFounded</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsAntichain</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">Finite</span>\n</code></pre></div>",
        "id": 485169455,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732920335
    },
    {
        "content": "<p>Of course, we can then prove our current definition as an equivalence</p>",
        "id": 485169469,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732920349
    },
    {
        "content": "<p>So here's my idea:</p>\n<ol>\n<li>Make an <code>Order/PartiallyWellFounded</code> file containing the (simplified) definition of a partially well-founded type, plus some basic API mimicking the current <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PartiallyWellFoundedOn#doc\">docs#PartiallyWellFoundedOn</a> API.</li>\n<li>Redefine <code>PartiallyWellFoundedOn</code> as <code>PartiallyWellFounded</code> on a subtype (just as we defined <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WellFoundedOn#doc\">docs#WellFoundedOn</a> in terms of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WellFounded#doc\">docs#WellFounded</a>).</li>\n<li>Profit</li>\n</ol>",
        "id": 485169736,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732920538
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> Does any of this make sense?</p>",
        "id": 485169995,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732920734
    },
    {
        "content": "<p>I'm not sure this is equivalent — the naturals numbers are a wqo with <code>≤</code>, but <code>≤</code> isn't well founded</p>",
        "id": 485187821,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732936586
    },
    {
        "content": "<p>I think the main benefit of using inductive types for well foundedness is that it lets you use well founded induction, but I don't think that's a common use case for wqos</p>",
        "id": 485192606,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732941049
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/116395-maths/topic/Partial.20well-orders/near/485187821\">said</a>:</p>\n<blockquote>\n<p>I'm not sure this is equivalent — the naturals numbers are a wqo with <code>≤</code>, but <code>≤</code> isn't well founded</p>\n</blockquote>\n<p>I think there might be some notational issues here. When we say (N, ≤) is a wqo, do we mean that N is a wqo with relation ≤, or that the (total) order corresponding to N is a wqo?</p>",
        "id": 485193029,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732941498
    },
    {
        "content": "<p>These are different statements. The distinction might be clearer if you replace wqo by well-founded.</p>",
        "id": 485193040,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732941525
    },
    {
        "content": "<p>Actually, question. Is a preorder with infinitely many order-equivalent elements a wqo?</p>",
        "id": 485193168,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732941657
    },
    {
        "content": "<p>It has no infinite ≤ antichains but it does have an infinite &lt; antichain</p>",
        "id": 485193184,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732941675
    },
    {
        "content": "<p>I think I'm a bit confused - what do you mean by partially well founded? There is no <code>PartiallyWellFoundedOn</code> - there's <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.PartiallyWellOrderedOn#doc\">docs#Set.PartiallyWellOrderedOn</a>, and it means what you said - that every infinite sequence has two elements an increasing subsequence of length 2.</p>",
        "id": 485193654,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732942165
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/116395-maths/topic/Partial.20well-orders/near/485193168\">said</a>:</p>\n<blockquote>\n<p>Actually, question. Is a preorder with infinitely many order-equivalent elements a wqo?</p>\n</blockquote>\n<p>If there's some element <code>a</code> such that <code>¬r a a</code> then <code>r</code> isn't a wqo, as the infinite sequence formed by a constant <code>a</code> doesn't have an increasing subsequence, so it doesn't really make sense to consider wqo with respect to <code>&lt;</code>, only <code>≤</code>.<br>\nThe preorder may or may not be wqo with respect to <code>≤</code></p>",
        "id": 485193861,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732942358
    },
    {
        "content": "<p>Partially well founded should be partially well ordered which is quasi well ordered. I'm just getting the terms mixed up.</p>",
        "id": 485205362,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732953679
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/116395-maths/topic/Partial.20well-orders/near/485193861\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/116395-maths/topic/Partial.20well-orders/near/485193168\">said</a>:</p>\n<blockquote>\n<p>Actually, question. Is a preorder with infinitely many order-equivalent elements a wqo?</p>\n</blockquote>\n<p>If there's some element <code>a</code> such that <code>¬r a a</code> then <code>r</code> isn't a wqo, as the infinite sequence formed by a constant <code>a</code> doesn't have an increasing subsequence, so it doesn't really make sense to consider wqo with respect to <code>&lt;</code>, only <code>≤</code>.<br>\nThe preorder may or may not be wqo with respect to <code>≤</code></p>\n</blockquote>\n<p>Ah that's interesting, so a well-founded order is measured with respect to &lt;, but a partial well order is measured with respect to ≤</p>",
        "id": 485205440,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732953743
    }
]