[
    {
        "content": "<p>For a talk, I would like to have some examples of \"heavy <code>rfl</code>\" (EDIT: or \"heavy <code>show</code>\" or \"heavy <code>change</code>\"), ideally ones that are a little bit interesting mathematically.  I'll discuss them as illustrations of a <a href=\"https://xenaproject.wordpress.com/2021/06/05/half-a-year-of-the-liquid-tensor-experiment-amazing-developments/\">remark of Scholze</a>:</p>\n<blockquote>\n<p>You know this old joke where a professor gets asked whether some step really is obvious, and then he sits down for half an hour, after which he says “Yes, it is obvious”. It turns out that computers can be like that, too! Sometimes the computer asks you to prove that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>=</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A=B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span>, and the argument is “That’s obvious — it’s true by definition of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span>.” And then the computer works for quite some time until it confirms. I found that really surprising.</p>\n</blockquote>\n<p>Does anyone have either </p>\n<ul>\n<li>examples they remember offhand</li>\n<li>a metaprogramming way of searching mathlib for them?</li>\n</ul>",
        "id": 468622222,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725826539
    },
    {
        "content": "<p>I don't have an example.  However, scouring mathlib might be done by replacing <code>rfl</code> with <code>count_heartbeats rfl</code> (or a similar syntax).  You could probably write easily a linter that does that systematically, but you could also guess that such a heavy rfl would have a heartbeat bump and do that manually for bumped declarations.</p>",
        "id": 468623170,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725827262
    },
    {
        "content": "<p>Nice idea, thanks!</p>",
        "id": 468623237,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725827294
    },
    {
        "content": "<p>An indirect source of these is <code>decide</code>, which works by doing a \"heavy rfl\" that the decision procedure for the proposition evaluates to <code>true</code>. That's not exactly what you're asking for, but maybe it's interesting too.</p>",
        "id": 468623362,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725827383
    },
    {
        "content": "<p>I'd still like some examples of the \"direct\" kind, but this would indeed be an interesting tangent.</p>",
        "id": 468623477,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725827435
    },
    {
        "content": "<p>(Detail: <code>decide</code> creates the proof term <code>of_decide_eq_true (rfl : decide theTargetProposition = true)</code>)</p>",
        "id": 468623728,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725827616
    },
    {
        "content": "<p>One way to search for old examples would be to search PR descriptions for “remove heavy rfl”.</p>",
        "id": 468624644,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1725828297
    },
    {
        "content": "<p>I have been thinking for quite some time of a way of testing which tactic combination is faster, so I took this as an excuse to start on that!</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16626\">#16626</a> has a very simple-minded approach to the question: every time that there is a <em>tactic</em> <code>rfl</code>, the linter times is and, if takes over 10^5 heartbeats, it tells you the number of heartbeats that it took.</p>",
        "id": 468753877,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725879233
    },
    {
        "content": "<p>It also has to skip some declarations, since they are too \"weird\", mostly having to do with the fact that the linter runs after the main declaration has been parsed and so it is hard to consistently rename the new declaration to parse.  Nevertheless, you can see that it does flag some <code>rfl</code>s that exceed the threshold.  For instance, the two <code>rfl</code>s in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TensorProduct.AlgebraTensorModule.assoc#doc\">docs#TensorProduct.AlgebraTensorModule.assoc</a> take 612520 and 607227 heartbeats respectively.</p>",
        "id": 468755049,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725879585
    },
    {
        "content": "<p>Once the linter will have finished its run, there might be some more structured report, but for the moment, I spotted <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Category/AlgebraCat/Monoidal.html#AlgebraCat.forget%E2%82%82_map_associator_inv\">AlgebraCat.forget₂_map_associator_inv</a> whose <code>by rfl</code> proof takes 36,216,407 heartbeats.</p>",
        "id": 468756640,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725879987
    },
    {
        "content": "<p>Are you forgetting to divide by 1000 (some internal functions use heartbeats at a different granularity)? Given there are no maxHeartbeats options on those functions you numbers don't seem possible.</p>",
        "id": 468765453,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1725882176
    },
    {
        "content": "<p>Probably: the heartbeat count for <code>0 = 0 := by rfl</code> was in the region of 5k.</p>",
        "id": 468767480,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725882617
    },
    {
        "content": "<p>These should be the declarations that contain a tactic <code>rfl</code> that takes over 10^9 heartbeats (probably over 10^6 heartbeat, per Kim's comment above):</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align: left;\">File</th>\n<th style=\"text-align: right;\">Heartbeats</th>\n<th style=\"text-align: left;\">Declaration</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">Geometry/RingedSpace/PresheafedSpace/Gluing.lean:399</td>\n<td style=\"text-align: right;\">1020361</td>\n<td style=\"text-align: left;\">AlgebraicGeometry.PresheafedSpace.GlueData.ιInvApp_π</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Algebra/Category/ModuleCat/Monoidal/Symmetric.lean:48</td>\n<td style=\"text-align: right;\">1021317</td>\n<td style=\"text-align: left;\">ModuleCat.MonoidalCategory.hexagon_forward</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">LinearAlgebra/TensorProduct/Graded/External.lean:107</td>\n<td style=\"text-align: right;\">1049700</td>\n<td style=\"text-align: left;\">TensorProduct.gradedComm_symm</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CategoryTheory/Abelian/RightDerived.lean:287</td>\n<td style=\"text-align: right;\">1110185</td>\n<td style=\"text-align: left;\">CategoryTheory.Functor.toRightDerivedZero</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Geometry/RingedSpace/LocallyRingedSpace.lean:246</td>\n<td style=\"text-align: right;\">1123263</td>\n<td style=\"text-align: left;\">AlgebraicGeometry.LocallyRingedSpace.emptyTo</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Analysis/InnerProductSpace/Calculus.lean:288</td>\n<td style=\"text-align: right;\">1326753</td>\n<td style=\"text-align: left;\">hasStrictFDerivAt_euclidean</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Analysis/InnerProductSpace/Calculus.lean:294</td>\n<td style=\"text-align: right;\">1327102</td>\n<td style=\"text-align: left;\">hasFDerivWithinAt_euclidean</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Algebra/Category/ModuleCat/Monoidal/Basic.lean:114</td>\n<td style=\"text-align: right;\">1783044</td>\n<td style=\"text-align: left;\">ModuleCat.MonoidalCategory.associator_naturality_aux</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Analysis/Normed/Algebra/QuaternionExponential.lean:35</td>\n<td style=\"text-align: right;\">2127769</td>\n<td style=\"text-align: left;\">Quaternion.expSeries_even_of_imaginary</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">NumberTheory/NumberField/Units/Regulator.lean:66</td>\n<td style=\"text-align: right;\">2414031</td>\n<td style=\"text-align: left;\">NumberField.Units.abs_det_eq_abs_det</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">LinearAlgebra/TensorProduct/Basic.lean:1016</td>\n<td style=\"text-align: right;\">2459207</td>\n<td style=\"text-align: left;\">TensorProduct.tensorTensorTensorComm_symm</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CategoryTheory/GradedObject/Trifunctor.lean:497</td>\n<td style=\"text-align: right;\">2993738</td>\n<td style=\"text-align: left;\">CategoryTheory.GradedObject.isColimitCofan₃MapBifunctorBifunctor₂₃MapObj</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CategoryTheory/GradedObject/Trifunctor.lean:318</td>\n<td style=\"text-align: right;\">3299079</td>\n<td style=\"text-align: left;\">CategoryTheory.GradedObject.isColimitCofan₃MapBifunctor₁₂BifunctorMapObj</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">NumberTheory/NumberField/Units/Regulator.lean:59</td>\n<td style=\"text-align: right;\">4833252</td>\n<td style=\"text-align: left;\">NumberField.Units.regulator_eq_det'</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Algebra/Lie/TensorProduct.lean:47</td>\n<td style=\"text-align: right;\">5400103</td>\n<td style=\"text-align: left;\">TensorProduct.LieModule.lieRingModule</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Algebra/Category/AlgebraCat/Monoidal.lean:58</td>\n<td style=\"text-align: right;\">9445451</td>\n<td style=\"text-align: left;\">AlgebraCat.forget₂_map_associator_hom</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">AlgebraicGeometry/Spec.lean:111</td>\n<td style=\"text-align: right;\">11936345</td>\n<td style=\"text-align: left;\">AlgebraicGeometry.Spec.sheafedSpaceMap_comp</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">NumberTheory/NumberField/Discriminant.lean:72</td>\n<td style=\"text-align: right;\">19571673</td>\n<td style=\"text-align: left;\">NumberField.mixedEmbedding.volume_fundamentalDomain_latticeBasis</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Algebra/Category/AlgebraCat/Monoidal.lean:66</td>\n<td style=\"text-align: right;\">36216407</td>\n<td style=\"text-align: left;\">AlgebraCat.forget₂_map_associator_inv</td>\n</tr>\n</tbody>\n</table>",
        "id": 468769996,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725883166
    },
    {
        "content": "<p>By chance, I had spotted the heaviest just looking at the build, while it was in progress.</p>",
        "id": 468770433,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725883228
    },
    {
        "content": "<p>(Btw, filenames, line numbers, the heartbeat counts and the last segment of the declaration names are \"correct\".</p>\n<p>Do not take the namespaces of the declarations <em>too</em> seriously, though: I had direct access to the name in the source, but not easily to the namespaces, so some are guesses.  Some declarations are <code>private</code> too.)</p>",
        "id": 468771329,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725883388
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> This is so cool!  Thanks for writing this tooling, I am looking forward to investigating the monsters.</p>",
        "id": 468922955,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725918341
    },
    {
        "content": "<p>Honestly, I think that it requires more fine tuning, but I hope that it will be useful!</p>",
        "id": 468924050,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725918750
    },
    {
        "content": "<p>I would really like to have a way of testing large scale, local changes, such when is a terminal refine faster than an exact and similar modifications.  Yours was a good excuse to get started!</p>",
        "id": 468924193,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725918818
    },
    {
        "content": "<p>I actually have a very similar application I'm curious about (I am writing a <code>linarith?</code> which self-replaces to <code>linear_combination</code>, and although it seems likely that the <code>linear_combination</code>s are faster, I'd like to know the scale of the speedup more precisely).  So I'll be glad to use future versions too.</p>",
        "id": 468924425,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725918918
    },
    {
        "content": "<p>Ok, I'll try to extract a test that takes as input a <code>Syntax → CommandElabM (Array Syntax)</code> and  for each command, computes the array, and reports the times of the elaborations of each entry of the array.</p>",
        "id": 468925007,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725919151
    },
    {
        "content": "<p>I imagine that most replacements will be comparing the original command to a simple variation, but the setup naturally gives a <code>CommandElabM</code> for free.</p>",
        "id": 468925294,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725919231
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/468765453\">said</a>:</p>\n<blockquote>\n<p>Are you forgetting to divide by 1000 (some internal functions use heartbeats at a different granularity)? Given there are no maxHeartbeats options on those functions you numbers don't seem possible.</p>\n</blockquote>\n<p>Trying to reverse-engineer what the multiplier is here .... On the first one I tried (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=hasFDerivWithinAt_euclidean#doc\">docs#hasFDerivWithinAt_euclidean</a>), <code>count_heartbeats</code> says 37,577 and Damiano's table says 1,327,102.  Is that factor of 35 what one would expect?</p>",
        "id": 469203482,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725999410
    },
    {
        "content": "<p>By the way, <span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span>, if you have time for a variant: could we also get the \"heavy <code>exact</code>s\"?  Is <a href=\"https://github.com/leanprover-community/mathlib4/blob/25ef53700b5d49398611f14378283700700cc834/Mathlib/Tactic/Linter/HeavyRfl.lean#L43\">this</a> the only line which needs to be adjusted?</p>",
        "id": 469204783,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1725999897
    },
    {
        "content": "<p>Another observation about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=hasFDerivWithinAt_euclidean#doc\">docs#hasFDerivWithinAt_euclidean</a>: when I replace the whole proof (including the <code>rfl</code>) by <code>sorry</code>, the declaration still takes 34,053 heartbeats.  Does this mean that it's not the <code>rfl</code> itself which is heavy, but rather typechecking the <em>statement</em> of the theorem?</p>",
        "id": 469213253,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726002213
    },
    {
        "content": "<p>I did not have a chance to implement today what I mention that I would.</p>",
        "id": 469215301,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726002733
    },
    {
        "content": "<p>There is another place where there is a change, namely <a href=\"https://github.com/leanprover-community/mathlib4/blob/25ef53700b5d49398611f14378283700700cc834/Mathlib/Tactic/Linter/HeavyRfl.lean#L55\">here</a>.</p>",
        "id": 469215416,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726002771
    },
    {
        "content": "<p>The line that you highlighted above is a check to speed things up: the linter will not do anything if the command does not contain a <code>rfl</code>.  The rest of the code is what the linter will do, in case there is one.  The line that I linked to is where you tell what syntax replacement it should do: if the node is a <code>rfl</code>, then you add <code>count_heartbeats_over</code> before it.</p>",
        "id": 469215689,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726002863
    },
    {
        "content": "<p>I have not thought about tactics that have more than one node (like <code>exact</code> and unlike <code>rfl</code>), but looking at the code, it may \"just work\".</p>",
        "id": 469215769,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726002900
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/469213253\">said</a>:</p>\n<blockquote>\n<p>Another observation about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=hasFDerivWithinAt_euclidean#doc\">docs#hasFDerivWithinAt_euclidean</a>: when I replace the whole proof (including the <code>rfl</code>) by <code>sorry</code>, the declaration still takes 34,053 heartbeats.  Does this mean that it's not the <code>rfl</code> itself which is heavy, but rather typechecking the <em>statement</em> of the theorem?</p>\n</blockquote>\n<p>I guess so, although <code>count_heartbeats_over</code> is supposed to measure the execution of the tactic sequence that follows it (i.e. just <code>rfl</code> in this case), so I am not really sure what this means.</p>",
        "id": 469216297,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726003105
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/469215769\">said</a>:</p>\n<blockquote>\n<p>I have not thought about tactics that have more than one node (like <code>exact</code> and unlike <code>rfl</code>), but looking at the code, it may \"just work\".</p>\n</blockquote>\n<p>I just tried to search for \"heavy <code>exact</code>\", naively changing the important line to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">repl</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"bp\">.</span><span class=\"n\">replaceM</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"ss\">``Lean.Parser.Tactic.exact</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">count_heartbeats_over</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">hbStx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"o\">(</span><span class=\"bp\">⟨</span><span class=\"n\">s</span><span class=\"bp\">⟩</span><span class=\"o\">)</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">done</span><span class=\"o\">)))</span>\n</code></pre></div>\n<p>and it seems to be producing a lot of false positives.  The first thing it flagged was <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Relation.church_rosser#doc\">docs#Relation.church_rosser</a>, which <code>count_heartbeats</code> says takes 396 heartbeats -- so in some way the 10 ^ 5 figure is off.  Or it is counting something different?</p>",
        "id": 469220650,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726005012
    },
    {
        "content": "<p>Until Kim mentioned it, I was not aware that there were different heartbeats.  The linter uses <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Mathlib.CountHeartbeats.tacticCount_heartbeats_#doc\">docs#Mathlib.CountHeartbeats.tacticCount_heartbeats_</a> (actually, a very small modification, since <code>logInfo</code> would not print).</p>",
        "id": 469224470,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726006753
    },
    {
        "content": "<p>As for the false positives, I would have to inspect what is the actual syntax that it uses.  It took a few attempts to get <code>rfl</code> to work, mostly because I was trying to get something up and running.  I would probably have to make a more structured change to get it to work more reliably.</p>",
        "id": 469224743,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726006880
    },
    {
        "content": "<p>Bumping up from 10^5 to 10^7 radically reduces the output (unsurprisingly), and the examples produced seem to be genuine \"heavy <code>exact</code>s\".  For example, in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=instConditionallyCompleteLinearOrderTropical#doc\">docs#instConditionallyCompleteLinearOrderTropical</a>: this is 1,219 heartbeats if the two <code>exact</code>s are sorried, and 56,785 if they are not.</p>",
        "id": 469225038,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726007035
    },
    {
        "content": "<p>Actually, this appears to be the source of the heartbeat difference: <a href=\"https://github.com/leanprover-community/mathlib4/blob/65a6ba86609c8a2ab0d1de88a71063aa21ccbc23/Mathlib%2FUtil%2FCountHeartbeats.lean#L97\">https://github.com/leanprover-community/mathlib4/blob/65a6ba86609c8a2ab0d1de88a71063aa21ccbc23/Mathlib%2FUtil%2FCountHeartbeats.lean#L97</a>.</p>",
        "id": 469225090,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726007043
    },
    {
        "content": "<p>I'm glad it is more reliable now!  The whole linter is a prototype: I hope that it produces usable information, but it may not be fully reliable.</p>",
        "id": 469225200,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726007111
    },
    {
        "content": "<p>Also, the second example I tried on your \"heavy <code>rfl</code>s\" list, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TensorProduct.tensorTensorTensorComm_symm#doc\">docs#TensorProduct.tensorTensorTensorComm_symm</a>, seems to be \"for real\" even if the first one I tried is not.  It's 659 heartbeats when sorried and 4,409 when not!</p>",
        "id": 469225622,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726007309
    },
    {
        "content": "<p>Also:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- Porting note: the proof here was `rfl` but that caused a timeout.</span>\n</code></pre></div>",
        "id": 469225663,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726007327
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> Another question occurs to me: Your linter checks for <em>tactic</em> <code>rfl</code>s which are slow.  How different would a linter to find slow <em>term</em> <code>rfl</code>s be?</p>",
        "id": 469228128,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726008589
    },
    {
        "content": "<p>I finished running this linter to identify some \"heavy <code>exact</code>\"s in mathlib -- that is, effectively, term-mode proofs which take a long time to typecheck (but not all of them -- just the ones which form one line of a larger tactic-mode proof -- and with some false positives -- the ones including, e.g., a <code>by simp</code>).</p>\n<p>Because of the caveats, I'm not sure how interesting this is, but here it is for the curious!</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>ℹ [1335/5048] Built Mathlib.Algebra.Tropical.Lattice<br>\ninfo: ././././Mathlib/Algebra/Tropical/Lattice.lean:72:0: 27821855<br>\n27811528<br>\nℹ [2084/5048] Built Mathlib.Combinatorics.SimpleGraph.Clique<br>\ninfo: ././././Mathlib/Combinatorics/SimpleGraph/Clique.lean:243:0: 12014704<br>\nℹ [2420/5048] Built Mathlib.Algebra.Algebra.NonUnitalSubalgebra<br>\ninfo: ././././Mathlib/Algebra/Algebra/NonUnitalSubalgebra.lean:945:0: 12172058<br>\nℹ [2459/5048] Built Mathlib.CategoryTheory.Shift.Induced<br>\ninfo: ././././Mathlib/CategoryTheory/Shift/Induced.lean:207:0: 10586045<br>\nℹ [2505/5048] Built Mathlib.CategoryTheory.Limits.Preserves.Shapes.Pullbacks<br>\ninfo: ././././Mathlib/CategoryTheory/Limits/Preserves/Shapes/Pullbacks.lean:329:0: 11726634<br>\nℹ [2522/5048] Built Mathlib.Algebra.Star.NonUnitalSubalgebra<br>\ninfo: ././././Mathlib/Algebra/Star/NonUnitalSubalgebra.lean:968:0: 17791911<br>\nℹ [2980/5048] Built Mathlib.CategoryTheory.Abelian.EpiWithInjectiveKernel<br>\ninfo: ././././Mathlib/CategoryTheory/Abelian/EpiWithInjectiveKernel.lean:59:0: 14453177<br>\nℹ [3097/5048] Built Mathlib.CategoryTheory.Functor.Flat<br>\ninfo: ././././Mathlib/CategoryTheory/Functor/Flat.lean:74:0: 13894769<br>\nℹ [3176/5048] Built Mathlib.Topology.MetricSpace.Pseudo.Basic<br>\ninfo: ././././Mathlib/Topology/MetricSpace/Pseudo/Basic.lean:107:0: 16929525<br>\nℹ [3306/5048] Built Mathlib.Algebra.Homology.HomotopyCategory.ShiftSequence<br>\ninfo: ././././Mathlib/Algebra/Homology/HomotopyCategory/ShiftSequence.lean:32:0: 25878683<br>\nℹ [3442/5048] Built Mathlib.Algebra.Homology.HomotopyCategory.Triangulated<br>\ninfo: ././././Mathlib/Algebra/Homology/HomotopyCategory/Triangulated.lean:192:0: 12631738<br>\n49572815<br>\nℹ [3461/5048] Built Mathlib.GroupTheory.HNNExtension<br>\ninfo: ././././Mathlib/GroupTheory/HNNExtension.lean:602:0: 19004323<br>\nℹ [3519/5048] Built Mathlib.Topology.Instances.Rat<br>\ninfo: ././././Mathlib/Topology/Instances/Rat.lean:71:0: 15377496<br>\nℹ [3527/5048] Built Mathlib.Algebra.Category.ModuleCat.Presheaf<br>\ninfo: ././././Mathlib/Algebra/Category/ModuleCat/Presheaf.lean:431:0: 12443112<br>\nℹ [3568/5048] Built Mathlib.Topology.Connected.PathConnected<br>\ninfo: ././././Mathlib/Topology/Connected/PathConnected.lean:593:0: 20172268<br>\nℹ [3667/5048] Built Mathlib.LinearAlgebra.FreeModule.IdealQuotient<br>\ninfo: ././././Mathlib/LinearAlgebra/FreeModule/IdealQuotient.lean:105:0: 11404874<br>\nℹ [3724/5048] Built Mathlib.LinearAlgebra.TensorProduct.Subalgebra<br>\ninfo: ././././Mathlib/LinearAlgebra/TensorProduct/Subalgebra.lean:187:0: 13578842<br>\ninfo: ././././Mathlib/LinearAlgebra/TensorProduct/Subalgebra.lean:196:0: 18215933<br>\nℹ [3748/5048] Built Mathlib.Topology.Sheaves.SheafCondition.PairwiseIntersections<br>\ninfo: ././././Mathlib/Topology/Sheaves/SheafCondition/PairwiseIntersections.lean:113:0: 10195214<br>\n10195533<br>\n13771212<br>\nℹ [3792/5048] Built Mathlib.Topology.Homotopy.HomotopyGroup<br>\ninfo: ././././Mathlib/Topology/Homotopy/HomotopyGroup.lean:419:0: 49652698<br>\nℹ [3809/5048] Built Mathlib.RingTheory.Valuation.AlgebraInstances<br>\ninfo: ././././Mathlib/RingTheory/Valuation/AlgebraInstances.lean:69:0: 14376978<br>\nℹ [4151/5048] Built Mathlib.LinearAlgebra.QuadraticForm.TensorProduct.Isometries<br>\ninfo: ././././Mathlib/LinearAlgebra/QuadraticForm/TensorProduct/Isometries.lean:115:0: 10755071<br>\nℹ [4202/5048] Built Mathlib.Geometry.RingedSpace.OpenImmersion<br>\ninfo: ././././Mathlib/Geometry/RingedSpace/OpenImmersion.lean:949:0: 28810934<br>\ninfo: ././././Mathlib/Geometry/RingedSpace/OpenImmersion.lean:967:0: 19274863<br>\nℹ [4330/5048] Built Mathlib.Topology.ContinuousFunction.StoneWeierstrass<br>\ninfo: ././././Mathlib/Topology/ContinuousFunction/StoneWeierstrass.lean:361:0: 10832532<br>\nℹ [4495/5048] Built Mathlib.Analysis.Calculus.FDeriv.Mul<br>\ninfo: ././././Mathlib/Analysis/Calculus/FDeriv/Mul.lean:693:0: 27917027<br>\ninfo: ././././Mathlib/Analysis/Calculus/FDeriv/Mul.lean:703:0: 28092741<br>\ninfo: ././././Mathlib/Analysis/Calculus/FDeriv/Mul.lean:716:0: 28074878<br>\nℹ [4592/5048] Built Mathlib.Analysis.Calculus.ContDiff.Basic<br>\ninfo: ././././Mathlib/Analysis/Calculus/ContDiff/Basic.lean:976:0: 13412345<br>\nℹ [4676/5048] Built Mathlib.Analysis.Calculus.SmoothSeries<br>\ninfo: ././././Mathlib/Analysis/Calculus/SmoothSeries.lean:184:0: 11887731<br>\nℹ [4785/5048] Built Mathlib.LinearAlgebra.Matrix.SchurComplement<br>\ninfo: ././././Mathlib/LinearAlgebra/Matrix/SchurComplement.lean:257:0: 11081667<br>\nℹ [4811/5048] Built Mathlib.MeasureTheory.Measure.FiniteMeasure<br>\ninfo: ././././Mathlib/MeasureTheory/Measure/FiniteMeasure.lean:546:0: 47046868<br>\nℹ [4834/5048] Built Mathlib.MeasureTheory.Measure.ProbabilityMeasure<br>\ninfo: ././././Mathlib/MeasureTheory/Measure/ProbabilityMeasure.lean:403:0: 44922726<br>\ninfo: ././././Mathlib/MeasureTheory/Measure/ProbabilityMeasure.lean:421:0: 75328695<br>\nℹ [4853/5048] Built Mathlib.MeasureTheory.Integral.Pi<br>\ninfo: ././././Mathlib/MeasureTheory/Integral/Pi.lean:24:0: 24171468<br>\nℹ [4889/5048] Built Mathlib.Probability.Distributions.Uniform<br>\ninfo: ././././Mathlib/Probability/Distributions/Uniform.lean:142:0: 41522481<br>\nℹ [4890/5048] Built Mathlib.MeasureTheory.Measure.Haar.Disintegration<br>\ninfo: ././././Mathlib/MeasureTheory/Measure/Haar/Disintegration.lean:108:0: 12480360<br>\nℹ [4900/5048] Built Mathlib.Analysis.BoundedVariation<br>\ninfo: ././././Mathlib/Analysis/BoundedVariation.lean:506:0: 16145612<br>\ninfo: ././././Mathlib/Analysis/BoundedVariation.lean:541:0: 16113465<br>\nℹ [4962/5048] Built Mathlib.Analysis.Calculus.BumpFunction.FiniteDimension<br>\ninfo: ././././Mathlib/Analysis/Calculus/BumpFunction/FiniteDimension.lean:473:0: 20226803<br>\nℹ [4970/5048] Built Mathlib.NumberTheory.NumberField.Units.Basic<br>\ninfo: ././././Mathlib/NumberTheory/NumberField/Units/Basic.lean:130:0: 108089811<br>\nℹ [5024/5048] Built Mathlib.Analysis.CStarAlgebra.ContinuousFunctionalCalculus.Instances<br>\ninfo: ././././Mathlib/Analysis/CStarAlgebra/ContinuousFunctionalCalculus/Instances.lean:581:0: 13931019<br>\nℹ [5037/5048] Built Mathlib.NumberTheory.NumberField.Units.Regulator<br>\ninfo: ././././Mathlib/NumberTheory/NumberField/Units/Regulator.lean:101:0: 18836190<br>\nℹ [5040/5048] Built Mathlib.NumberTheory.NumberField.Discriminant<br>\ninfo: ././././Mathlib/NumberTheory/NumberField/Discriminant.lean:166:0: 13924736<br>\ninfo: ././././Mathlib/NumberTheory/NumberField/Discriminant.lean:326:0: 26140883<br>\ninfo: ././././Mathlib/NumberTheory/NumberField/Discriminant.lean:369:0: 26140261</p>\n</div></div>",
        "id": 469233789,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726011687
    },
    {
        "content": "<p>Despite the false positives, there are some interesting examples of slow-typechecking proof terms here.  For example, in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=eVariationOn.comp_eq_of_monotoneOn#doc\">docs#eVariationOn.comp_eq_of_monotoneOn</a>, where filling one <code>_</code> would cause a 25x speedup, cc <span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">EMetricSpace</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ENNReal</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PseudoEMetricSpace</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"bp\">≥</span><span class=\"mi\">0</span><span class=\"bp\">∞</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">Monotone</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">},</span>\n<span class=\"w\">    </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">edist</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">comp_le_of_monotoneOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hφ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonotoneOn</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">φst</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MapsTo</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"c1\">-- 13741 heartbeats</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ψts</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MapsTo</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hψ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonotoneOn</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">comp_le_of_monotoneOn</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"n\">hψ</span><span class=\"w\"> </span><span class=\"n\">ψts</span>\n\n<span class=\"c1\">-- 511 heartbeats</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ψts</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MapsTo</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hψ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonotoneOn</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">eVariationOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">comp_le_of_monotoneOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"n\">hψ</span><span class=\"w\"> </span><span class=\"n\">ψts</span>\n</code></pre></div>",
        "id": 469237293,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726013584
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/469228128\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> Another question occurs to me: Your linter checks for <em>tactic</em> <code>rfl</code>s which are slow.  How different would a linter to find slow <em>term</em> <code>rfl</code>s be?</p>\n</blockquote>\n<p>This could also be done, but the solutions that I had in mind would have required more code:</p>\n<ul>\n<li>writing a \"term mode count heartbeats\", or</li>\n<li>replacing term-mode rfl with <code>by count_heartbeats rfl</code> -- and the proof may break, or</li>\n<li>looking for <code>declaration := rfl</code> and prefixing it with <code>count_heartbeats in</code> that requires more extensive syntax-matching.</li>\n</ul>\n<p>Nothing hard, just more time coding!  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 469274815,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726027813
    },
    {
        "content": "<p>Very interesting that the term-mode <code>rfl</code> is harder to filter for than the tactic-mode <code>rfl</code>!</p>",
        "id": 469509028,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726089830
    },
    {
        "content": "<p>I think actually looking for <code>rfl</code> is not that relevant. The real question is calling <code>isDefEq</code>, which many things do besides <code>rfl</code>. This information is available via <code>set_option profile</code> (and I'm sure is accessible via a wrapper command, although I've not tried this myself).</p>",
        "id": 469521855,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726097028
    },
    {
        "content": "<p>That makes a lot of sense, thanks!  Is there a way of filtering for all the declarations in the library which spend &gt; x time on <code>isDefEq</code>?</p>",
        "id": 469530795,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726103623
    },
    {
        "content": "<p>Or (probably even better, if possible) all individual <code>isDefEq</code> calls in the library which take &gt; x time?</p>",
        "id": 469530856,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726103665
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span>, yes, of course anything is possible. :-) <a href=\"https://github.com/leanprover/lean4/pull/5318\">lean#5318</a> (just an experiment) instruments <code>isDefEq</code> and reports any call that takes over a specified number of heartbeats.</p>\n<p>You can try this out in Mathlib by checking out the <a href=\"https://github.com/leanprover-community/mathlib4/tree/lean-pr-testing-5318\">branch#lean-pr-testing-5318</a>. </p>\n<p>The default there is set to report any <code>isDefEq</code> problem taking more than 1000 heartbeats. It just prints the raw expressions, so sometimes the output is very long (I was a bit scared of calling the pretty printer from inside <code>isDefEq</code>!).</p>\n<p>You can adjust the threshold locally with <code>set_option profiler.isDefEq.threshold</code> (or globally in the lakefile).</p>",
        "id": 469552051,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726115718
    },
    {
        "content": "<p>(e.g. go to Mathlib.Algebra.Field.IsField to see the first problem)</p>",
        "id": 469552175,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726115769
    },
    {
        "content": "<p>I did not know about <code>isDefEq.threshold</code>: seems very useful!</p>",
        "id": 469615299,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726133524
    },
    {
        "content": "<p>Heather, I guess that I re-purposed a non-existing tool for something that already existed!</p>",
        "id": 469615392,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726133554
    },
    {
        "content": "<p>Anyway, I still would like to make the linter that computes differences in elaboration more robust.</p>",
        "id": 469615489,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726133598
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> , this is brand new, implemented in response to Heather's query above. It won't be merged as is, but if we can make good use of it we can work out how to deliver something equivalent.</p>",
        "id": 469626796,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726136324
    },
    {
        "content": "<p>That's great!  I think that fine-grained speed measurements are becoming more and more important to seriously inform what changes to make and this looks really useful!</p>",
        "id": 469637808,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726139174
    },
    {
        "content": "<p>I won't be able to do any Lean-related work for a few days, though, but I'll play with this when I can!</p>",
        "id": 469637986,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1726139241
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1465</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Pointwise</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">72</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">50699</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1760</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Computability</span><span class=\"bp\">.</span><span class=\"n\">PartrecCode</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">PartrecCode</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">827</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">21277</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">PartrecCode</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">847</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">21294</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">PartrecCode</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">865</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">21257</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1987</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Pointwise</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1813</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">72263</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1818</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">80645</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2019</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">Interval</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">Interval</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">263</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28050</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2367</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">ModelTheory</span><span class=\"bp\">.</span><span class=\"n\">ElementaryMaps</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">ModelTheory</span><span class=\"bp\">/</span><span class=\"n\">ElementaryMaps</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">87</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">67855</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2553</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">PiTensorProduct</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">PiTensorProduct</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">864</span><span class=\"o\">:</span><span class=\"mi\">60</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28243</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2566</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">252</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28281</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">252</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28165</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2677</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">LocalizedModule</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">LocalizedModule</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">492</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">48650</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2725</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">TensorPower</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">TensorPower</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">119</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">124474</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2799</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">DenselyOrdered</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">DenselyOrdered</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">235</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">144015</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2808</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">ToLin</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Matrix</span><span class=\"bp\">/</span><span class=\"n\">ToLin</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">919</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">96080</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2849</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">EMetricSpace</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">EMetricSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">167</span><span class=\"o\">:</span><span class=\"mi\">18</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">37875</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">EMetricSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">174</span><span class=\"o\">:</span><span class=\"mi\">18</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">37875</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3140</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">BigOperators</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">BigOperators</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span><span class=\"mi\">44</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">54853</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">BigOperators</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span><span class=\"mi\">44</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">49760</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3184</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">TensorProduct</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">70</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">35736</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">74</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">35735</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">165</span><span class=\"o\">:</span><span class=\"mi\">7</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">20030</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3379</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">Closed</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">/</span><span class=\"n\">Closed</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">40</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">119575</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3381</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">UniformRing</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">UniformRing</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">78</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">29371</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3444</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">.</span><span class=\"n\">Monoidal</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">59</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">43633</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">59</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">43497</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">59</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">43803</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">67</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">43648</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">67</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">43511</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">67</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">43827</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">72</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">36166</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">82</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">33679</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">82</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">33675</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">84</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">31286</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">84</span><span class=\"o\">:</span><span class=\"mi\">31</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">22599</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">84</span><span class=\"o\">:</span><span class=\"mi\">31</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">31260</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">84</span><span class=\"o\">:</span><span class=\"mi\">49</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">31271</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">84</span><span class=\"o\">:</span><span class=\"mi\">77</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">40416</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">AlgebraCat</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">84</span><span class=\"o\">:</span><span class=\"mi\">77</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">31282</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3452</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Degree</span><span class=\"bp\">.</span><span class=\"n\">CardPowDegree</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Degree</span><span class=\"bp\">/</span><span class=\"n\">CardPowDegree</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">79</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">26276</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Degree</span><span class=\"bp\">/</span><span class=\"n\">CardPowDegree</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">80</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">26254</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Degree</span><span class=\"bp\">/</span><span class=\"n\">CardPowDegree</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">80</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">26269</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3461</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Connected</span><span class=\"bp\">.</span><span class=\"n\">PathConnected</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Connected</span><span class=\"bp\">/</span><span class=\"n\">PathConnected</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">597</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">20128</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n</code></pre></div>",
        "id": 469645927,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726141037
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3587</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"n\">ChangeOfRings</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">135</span><span class=\"o\">:</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">24195</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">486</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">38029</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">503</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">36583</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">550</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">89993</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">622</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">38040</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">695</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">48033</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">704</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">48157</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">822</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">22566</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">ChangeOfRings</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">823</span><span class=\"o\">:</span><span class=\"mi\">59</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">49497</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3637</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">.</span><span class=\"n\">Monoidal</span><span class=\"bp\">.</span><span class=\"n\">Tor</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Monoidal</span><span class=\"bp\">/</span><span class=\"n\">Tor</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">72</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28934</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3704</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"n\">Presheaf</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">Presheaf</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">527</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">54517</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3751</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">FiniteStability</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">FiniteStability</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">57</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">47929</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3788</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"n\">Presheaf</span><span class=\"bp\">.</span><span class=\"n\">Limits</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">Presheaf</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">85</span><span class=\"o\">:</span><span class=\"mi\">35</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">34823</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">ModuleCat</span><span class=\"bp\">/</span><span class=\"n\">Presheaf</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">85</span><span class=\"o\">:</span><span class=\"mi\">35</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">34642</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3866</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">Eigenspace</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Eigenspace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">232</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">56628</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Eigenspace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">471</span><span class=\"o\">:</span><span class=\"mi\">30</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">56644</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3953</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Convex</span><span class=\"bp\">.</span><span class=\"n\">Between</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Convex</span><span class=\"bp\">/</span><span class=\"n\">Between</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">147</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">144114</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Convex</span><span class=\"bp\">/</span><span class=\"n\">Between</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">153</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">144124</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3957</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">Profinite</span><span class=\"bp\">.</span><span class=\"n\">Nobeling</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Category</span><span class=\"bp\">/</span><span class=\"n\">Profinite</span><span class=\"bp\">/</span><span class=\"n\">Nobeling</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1364</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">34347</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3970</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Generators</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Generators</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">496</span><span class=\"o\">:</span><span class=\"mi\">28</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">41845</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4063</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">.</span><span class=\"n\">Measure</span><span class=\"bp\">.</span><span class=\"n\">Restrict</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Measure</span><span class=\"bp\">/</span><span class=\"n\">Restrict</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">725</span><span class=\"o\">:</span><span class=\"mi\">62</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">37430</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Measure</span><span class=\"bp\">/</span><span class=\"n\">Restrict</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">725</span><span class=\"o\">:</span><span class=\"mi\">62</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">38223</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4094</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Kaehler</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Kaehler</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">840</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">21147</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4145</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Smooth</span><span class=\"bp\">.</span><span class=\"n\">Kaehler</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Smooth</span><span class=\"bp\">/</span><span class=\"n\">Kaehler</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">115</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">20145</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4153</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">DedekindDomain</span><span class=\"bp\">.</span><span class=\"n\">Ideal</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">DedekindDomain</span><span class=\"bp\">/</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">592</span><span class=\"o\">:</span><span class=\"mi\">16</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">20884</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">DedekindDomain</span><span class=\"bp\">/</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">592</span><span class=\"o\">:</span><span class=\"mi\">16</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28637</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">DedekindDomain</span><span class=\"bp\">/</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">592</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">28099</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4181</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">QuadraticForm</span><span class=\"bp\">.</span><span class=\"n\">TensorProduct</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">QuadraticForm</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">77</span><span class=\"o\">:</span><span class=\"mi\">37</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">41246</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4300</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RepresentationTheory</span><span class=\"bp\">.</span><span class=\"n\">GroupCohomology</span><span class=\"bp\">.</span><span class=\"n\">Resolution</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RepresentationTheory</span><span class=\"bp\">/</span><span class=\"n\">GroupCohomology</span><span class=\"bp\">/</span><span class=\"n\">Resolution</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">188</span><span class=\"o\">:</span><span class=\"mi\">53</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">24585</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RepresentationTheory</span><span class=\"bp\">/</span><span class=\"n\">GroupCohomology</span><span class=\"bp\">/</span><span class=\"n\">Resolution</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">227</span><span class=\"o\">:</span><span class=\"mi\">56</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">23553</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RepresentationTheory</span><span class=\"bp\">/</span><span class=\"n\">GroupCohomology</span><span class=\"bp\">/</span><span class=\"n\">Resolution</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">247</span><span class=\"o\">:</span><span class=\"mi\">56</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">24205</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4332</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Perfection</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Perfection</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">551</span><span class=\"o\">:</span><span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">50379</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4338</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">SpecialFunctions</span><span class=\"bp\">.</span><span class=\"n\">Pow</span><span class=\"bp\">.</span><span class=\"n\">Continuity</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">SpecialFunctions</span><span class=\"bp\">/</span><span class=\"n\">Pow</span><span class=\"bp\">/</span><span class=\"n\">Continuity</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">406</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">44319</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4439</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">FieldTheory</span><span class=\"bp\">.</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">140</span><span class=\"o\">:</span><span class=\"mi\">57</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">74021</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">140</span><span class=\"o\">:</span><span class=\"mi\">57</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">67775</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4452</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">.</span><span class=\"n\">Constructions</span><span class=\"bp\">.</span><span class=\"n\">Prod</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Constructions</span><span class=\"bp\">/</span><span class=\"n\">Prod</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">475</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">23496</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4461</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">NormedSpace</span><span class=\"bp\">.</span><span class=\"n\">Multilinear</span><span class=\"bp\">.</span><span class=\"n\">Curry</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">NormedSpace</span><span class=\"bp\">/</span><span class=\"n\">Multilinear</span><span class=\"bp\">/</span><span class=\"n\">Curry</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">599</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">34569</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4511</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">AlgebraicGeometry</span><span class=\"bp\">.</span><span class=\"n\">GammaSpecAdjunction</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">AlgebraicGeometry</span><span class=\"bp\">/</span><span class=\"n\">GammaSpecAdjunction</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">298</span><span class=\"o\">:</span><span class=\"mi\">43</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">27070</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4532</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">InnerProductSpace</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">InnerProductSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">2396</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">38488</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4545</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Lie</span><span class=\"bp\">.</span><span class=\"n\">Weights</span><span class=\"bp\">.</span><span class=\"n\">Chain</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Lie</span><span class=\"bp\">/</span><span class=\"n\">Weights</span><span class=\"bp\">/</span><span class=\"n\">Chain</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">135</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">32276</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4608</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Calculus</span><span class=\"bp\">.</span><span class=\"n\">FDeriv</span><span class=\"bp\">.</span><span class=\"n\">Mul</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Calculus</span><span class=\"bp\">/</span><span class=\"n\">FDeriv</span><span class=\"bp\">/</span><span class=\"n\">Mul</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">53</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">49512</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4619</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Analytic</span><span class=\"bp\">.</span><span class=\"n\">Composition</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Analytic</span><span class=\"bp\">/</span><span class=\"n\">Composition</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">504</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">71241</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4678</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">NumberTheory</span><span class=\"bp\">.</span><span class=\"n\">Liouville</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">Liouville</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">64</span><span class=\"o\">:</span><span class=\"mi\">36</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">30635</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4827</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">.</span><span class=\"n\">Measure</span><span class=\"bp\">.</span><span class=\"n\">ProbabilityMeasure</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Measure</span><span class=\"bp\">/</span><span class=\"n\">ProbabilityMeasure</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">419</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">44714</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Measure</span><span class=\"bp\">/</span><span class=\"n\">ProbabilityMeasure</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">444</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">75140</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4843</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Calculus</span><span class=\"bp\">.</span><span class=\"n\">ParametricIntegral</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Calculus</span><span class=\"bp\">/</span><span class=\"n\">ParametricIntegral</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">296</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">26826</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4937</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">.</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Jacobian</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">Jacobian</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">800</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">41304</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">Jacobian</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">800</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">41215</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">Jacobian</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">800</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">39248</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">Jacobian</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">922</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">41295</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">Jacobian</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">922</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">41195</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">Jacobian</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">922</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">39232</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4980</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Probability</span><span class=\"bp\">.</span><span class=\"n\">Kernel</span><span class=\"bp\">.</span><span class=\"n\">Disintegration</span><span class=\"bp\">.</span><span class=\"n\">Density</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Probability</span><span class=\"bp\">/</span><span class=\"n\">Kernel</span><span class=\"bp\">/</span><span class=\"n\">Disintegration</span><span class=\"bp\">/</span><span class=\"n\">Density</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">137</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">106278</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Probability</span><span class=\"bp\">/</span><span class=\"n\">Kernel</span><span class=\"bp\">/</span><span class=\"n\">Disintegration</span><span class=\"bp\">/</span><span class=\"n\">Density</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">142</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">106391</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4982</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">NumberTheory</span><span class=\"bp\">.</span><span class=\"n\">NumberField</span><span class=\"bp\">.</span><span class=\"n\">Units</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">NumberField</span><span class=\"bp\">/</span><span class=\"n\">Units</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">142</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">108159</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5033</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">NumberTheory</span><span class=\"bp\">.</span><span class=\"n\">NumberField</span><span class=\"bp\">.</span><span class=\"n\">CanonicalEmbedding</span><span class=\"bp\">.</span><span class=\"n\">ConvexBody</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">NumberField</span><span class=\"bp\">/</span><span class=\"n\">CanonicalEmbedding</span><span class=\"bp\">/</span><span class=\"n\">ConvexBody</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">239</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">31165</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5049</span><span class=\"bp\">/</span><span class=\"mi\">5061</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Built</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">NumberTheory</span><span class=\"bp\">.</span><span class=\"n\">NumberField</span><span class=\"bp\">.</span><span class=\"n\">Discriminant</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">NumberField</span><span class=\"bp\">/</span><span class=\"n\">Discriminant</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">366</span><span class=\"o\">:</span><span class=\"mi\">34</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">isDefEq</span><span class=\"w\"> </span><span class=\"n\">took</span><span class=\"w\"> </span><span class=\"mi\">23313</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span>\n</code></pre></div>",
        "id": 469645939,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726141043
    },
    {
        "content": "<p>Shall we institute an award for the heaviest rfl in Mathlib? :-)</p>",
        "id": 469646099,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726141092
    },
    {
        "content": "<p>I've only looked at a few of these examples so far, but some are pretty mysterious.  For example, this is a more-minimal WE of the example <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AffineEquiv.sbtw_map_iff#doc\">docs#AffineEquiv.sbtw_map_iff</a> from Analysis/Convex:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">AffineSpace</span><span class=\"bp\">.</span><span class=\"n\">AffineEquiv</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">V'</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderedRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddTorsor</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">V'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddTorsor</span><span class=\"w\"> </span><span class=\"n\">V'</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"o\">]</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">AffineMap</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">lineMap</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">z</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"o\">}</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"bp\">.</span><span class=\"n\">sbtw_map_iff</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">→ᵃ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"c1\">-- 146454 heartbeats</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">≃ᵃ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">toAffineMap</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">AffineEquiv</span><span class=\"bp\">.</span><span class=\"n\">injective</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"bp\">.</span><span class=\"n\">sbtw_map_iff</span><span class=\"w\"> </span><span class=\"n\">hf</span>\n\n<span class=\"c1\">-- 762 heartbeats</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">≃ᵃ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">toAffineMap</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">AffineEquiv</span><span class=\"bp\">.</span><span class=\"n\">injective</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">hf</span><span class=\"bp\">.</span><span class=\"n\">sbtw_map_iff</span>\n</code></pre></div>",
        "id": 469774488,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726172766
    },
    {
        "content": "<p>There is a mystifying discrepancy between the <code>isDefEq</code> time on <code>Function.Injective.sbtw_map_iff hf</code> and on <code>hf.sbtw_map_iff</code>.  Could this issue somehow be about the pretty-printing of dot notation?</p>",
        "id": 469774661,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726172828
    },
    {
        "content": "<p>Looks like there are more metavariables in unification problem 1 than 2</p>",
        "id": 469775022,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1726172968
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span> Interesting, how do you see this?</p>",
        "id": 469775086,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726172994
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">set_option</span><span class=\"w\"> </span><span class=\"n\">trace.Meta.isDefEq</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">set_option</span><span class=\"w\"> </span><span class=\"n\">profiler</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">set_option</span><span class=\"w\"> </span><span class=\"n\">trace.Meta.synthInstance</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n</code></pre></div>\n<p>is my standard invocation</p>",
        "id": 469775204,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1726173027
    },
    {
        "content": "<p>The last line is just noise here though I think</p>",
        "id": 469775465,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1726173133
    },
    {
        "content": "<p>Equally fast: </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">≃ᵃ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function.Injective</span><span class=\"w\"> </span><span class=\"n\">f.toAffineMap</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">AffineEquiv.injective</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">Function.Injective.sbtw_map_iff</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">V'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">P'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">hf</span>\n</code></pre></div>",
        "id": 469777027,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1726173792
    },
    {
        "content": "<p>How bizarre.  I've been trying to poke around the trace with the options you sent but I don't really know how to read them -- where do I see the two relevant unification problems with their different numbers of metavariables?</p>",
        "id": 469777245,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726173864
    },
    {
        "content": "<p>In the infoview, looking for the biggest time in <code>[...]</code> usually revels the culprit. For the first one, Lean ends up at the following defeq problem</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"o\">[</span><span class=\"n\">Meta.isDefEq</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"bp\">.</span><span class=\"mi\">349034</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">❌️</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span>\n<span class=\"w\">      </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"w\">        </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=?=</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9604</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9619</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9616</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9619</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9617</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9619</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9618</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Sbtw</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9604</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9616</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9617</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9618</span><span class=\"w\"> </span><span class=\"bp\">▶</span>\n</code></pre></div>\n<p>where </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">@</span><span class=\"n\">DFunLike.coe</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9607</span><span class=\"w\"> </span><span class=\"bp\">→ᵃ</span><span class=\"o\">[</span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9604</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9608</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9607</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9608</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">AffineMap.instFunLike</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9604</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9607</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9608</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9619</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9607</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"mi\">9608</span>\n</code></pre></div>\n<p>While in the second it already knows that you should use the coercion of <code>f</code> instead</p>",
        "id": 469778064,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1726174209
    },
    {
        "content": "<p>Thanks, that helps me skim a bit better.</p>\n<p>Should I be understanding this as saying that the following two things elaborate differently?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"bp\">.</span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">bar</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"bp\">.</span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"n\">x</span>\n</code></pre></div>",
        "id": 469781815,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726175782
    },
    {
        "content": "<p>I tackled those around <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Category/AlgebraCat/Monoidal.html#AlgebraCat.forget%E2%82%82_map_associator_inv\">AlgebraCat.forget₂_map_associator_inv</a>. <br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/16776\">#16776</a></p>",
        "id": 470038996,
        "sender_full_name": "Yuma Mizuno",
        "timestamp": 1726256709
    },
    {
        "content": "<p>This conversation about finding heavy <code>rfl</code>s went in several interesting directions, and produced Kim's <a href=\"https://github.com/leanprover/lean4/pull/5318\">lean4#5318</a>, which searches for heavy <code>isDefEq</code>s in mathlib.  I've now explored the <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/469645927\">list produced</a>, and it seems to me that these are not quite what I had hoped to find: most of these heaviest <code>isDefEq</code>s in mathlib arise in checking a proof term (IIUC, unifying the goal with the type of the proof term).</p>\n<p>My <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/468622222\">original motivation</a> was to get some examples for a talk. For this, I would really like to have examples of \"true\" heavy <code>rfl</code>/<code>change</code>/<code>show</code>.  To distinguish these <code>isDefEq</code>s from the ones which arise in checking proof terms, would it work to look for examples in which neither of the two terms being compared contains metavariables?</p>",
        "id": 470874313,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726551360
    },
    {
        "content": "<p>I think unification should not be that slow if it's not hiding a \"true\" heavy rfl. Do you have an example?</p>",
        "id": 470876438,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1726552475
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> Interesting!  <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/469774488\">Here</a>'s one example.</p>",
        "id": 470982857,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1726580208
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/470982857\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> Interesting!  <a href=\"#narrow/stream/116395-maths/topic/Heavy.20rfl/near/469774488\">Here</a>'s one example.</p>\n</blockquote>\n<p>It would be great, if someone were interested, to try to produce a minimization of that example, so that we could work on improving the performance there.</p>",
        "id": 471125539,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726617633
    }
]