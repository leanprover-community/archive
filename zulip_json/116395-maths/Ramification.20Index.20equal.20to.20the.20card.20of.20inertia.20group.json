[
    {
        "content": "<p>I want to formalize the theorem that the ramification Index is equal to the card of inertia group. We define the inertia group consisted of the elements that member to the decomposition group and acts on the uniformizer trivially (mod the maximal ideal). Is there any elementary proof of this theorem? Because some definitions and theorems are missing in  Mathlib, I can't finish the proof in current way.</p>",
        "id": 502724392,
        "sender_full_name": "Junjie Bai",
        "timestamp": 1740817383
    },
    {
        "content": "<p>I have a formalized proof of this, and the proof goes through</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>G</mi><mi mathvariant=\"normal\">/</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">g = |G/D|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span></span></span></span> by orbit-stabilizer (and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.IsInvariant.exists_smul_of_under_eq#doc\">docs#Algebra.IsInvariant.exists_smul_of_under_eq</a>)</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">/</mi><mi>I</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">f = |D/I|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">∣</span></span></span></span> by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.Quotient.stabilizerHom_surjective#doc\">docs#Ideal.Quotient.stabilizerHom_surjective</a></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>f</mi><mi>g</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>G</mi><mi mathvariant=\"normal\">∣</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>I</mi><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">/</mi><mi>I</mi><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"normal\">∣</mi><mi>G</mi><mi mathvariant=\"normal\">/</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">efg = |G| = |I||D/I||G/D|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">∣∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">∣∣</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span></span></span></span> by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.ncard_primesOver_mul_ramificationIdxIn_mul_inertiaDegIn#doc\">docs#Ideal.ncard_primesOver_mul_ramificationIdxIn_mul_inertiaDegIn</a></li>\n</ol>\n<p>Hopefully everything will go public in a week so that I can actually point you to some lean code.</p>",
        "id": 502733027,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740824907
    },
    {
        "content": "<p>That's really encouraging! I sincerely hope your code will be accepted!</p>",
        "id": 502734413,
        "sender_full_name": "Junjie Bai",
        "timestamp": 1740826031
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> Are you also working on the connection with the discriminant, or is that still untouched?</p>",
        "id": 502785540,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1740861617
    },
    {
        "content": "<p>Yeah I also have a proof that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>∤</mo><msub><mi mathvariant=\"script\">D</mi><mrow><mi>S</mi><mi mathvariant=\"normal\">/</mi><mi>R</mi></mrow></msub><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P\\nmid\\mathcal{D}_{S/R} \\iff P</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9925em;vertical-align:-0.2514em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel amsrm\">∤</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mtight\">/</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⟺</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> is unramified and that the absolute norm of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"script\">D</mi><mrow><mi mathvariant=\"script\">O</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"double-struck\">Z</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\mathcal{D}_{\\mathcal{O}/\\mathbb{Z}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathcal mtight\" style=\"margin-right:0.02778em;\">O</span><span class=\"mord mtight\">/</span><span class=\"mord mathbb mtight\">Z</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span></span></span></span> is the discriminant. The full <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>P</mi><mi>e</mi></msup><mi mathvariant=\"normal\">∣</mi><msub><mi mathvariant=\"script\">D</mi><mrow><mi>S</mi><mi mathvariant=\"normal\">/</mi><mi>R</mi></mrow></msub><mtext>  </mtext><mo>⟺</mo><mtext>  </mtext><mi>p</mi><mi mathvariant=\"normal\">∣</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">P^e|\\mathcal{D}_{S/R} \\iff p | e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1052em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">e</span></span></span></span></span></span></span></span><span class=\"mord\">∣</span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mtight\">/</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.00773em;\">R</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⟺</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">e</span></span></span></span> needs more work and (hopefully) I don't need it for now.</p>",
        "id": 502786252,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740862183
    },
    {
        "content": "<p>Oh, fantastic! Looking forward to the PRs!</p>",
        "id": 502787101,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1740862755
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> Are these results available anywhere yet?</p>",
        "id": 522196540,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1748977322
    },
    {
        "content": "<p>The relevant stuff is here:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/blob/KroneckerWeber/Mathlib/NumberTheory/KroneckerWeber/Unramified.lean\">https://github.com/leanprover-community/mathlib4/blob/KroneckerWeber/Mathlib/NumberTheory/KroneckerWeber/Unramified.lean</a></p>\n<p>I haven’t found the time (and courage) to PR them yet but if you need them (and are willing to review them :)) then I try to start PRing them.</p>",
        "id": 522197329,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1748977594
    },
    {
        "content": "<p>It might not be as bad as I thought: that file doesn’t seem to depend on anything else. I’ll try to open a PR when I get back to my laptop.</p>",
        "id": 522197594,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1748977703
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25498\">#25498</a> is the first PR. The connection of ramification and different will be the second.</p>",
        "id": 522653780,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1749150174
    },
    {
        "content": "<p>Since mathlib defines unramified to be e=1 and residue field separable, the second PRs in line are<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/25589\">#25589</a>: e=1 implies not divides different</p>",
        "id": 522986135,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1749399105
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25591\">#25591</a>: residue field not separable implies divides different.</p>",
        "id": 522986137,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1749399107
    },
    {
        "content": "<p>Also I saw <span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> assigned yourself but didn’t have a chance to leave a review on the previous PR. If you have any unsent reviews, I’m happy to address them in a separate PR.</p>",
        "id": 522986231,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1749399190
    },
    {
        "content": "<p>Sorry I didn't have much time to review it. We can probably discuss them in person this week</p>",
        "id": 522996063,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1749410852
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25792\">#25792</a> is the PR linking different ideal and absolute discriminant.</p>",
        "id": 523775393,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1749740114
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/116395-maths/topic/Ramification.20Index.20equal.20to.20the.20card.20of.20inertia.20group/near/523775393\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25792\">#25792</a> is the PR linking different ideal and absolute discriminant.</p>\n</blockquote>\n<p>Do you have a followup with \"ramify iff divides discriminant\" or should I make that myself? (I haven't checked, but I assume it's pretty quick from the merged PRs?)</p>",
        "id": 524101437,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1749957833
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/116395-maths/topic/Ramification.20Index.20equal.20to.20the.20card.20of.20inertia.20group/near/522986137\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25591\">#25591</a>: residue field not separable implies divides different.</p>\n</blockquote>\n<p>It is pending this PR. (Because unramified is defined to be e=1 and residue field separable in mathlib)</p>",
        "id": 524102263,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1749959263
    },
    {
        "content": "<p>Thanks to the swift reviews of Riccardo, <br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/25936\">#25936</a>: <code>¬ P ∣ differentIdeal A B ↔ Algebra.IsUnramifiedAt A P</code> is now dependency free.</p>",
        "id": 524155197,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1750021349
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/116395-maths/topic/Ramification.20Index.20equal.20to.20the.20card.20of.20inertia.20group/near/502733027\">said</a>:</p>\n<blockquote>\n<p>I have a formalized proof of this, and the proof goes through</p>\n<ol>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>G</mi><mi mathvariant=\"normal\">/</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">g = |G/D|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span></span></span></span> by orbit-stabilizer (and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.IsInvariant.exists_smul_of_under_eq#doc\">docs#Algebra.IsInvariant.exists_smul_of_under_eq</a>)</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">/</mi><mi>I</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">f = |D/I|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">∣</span></span></span></span> by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.Quotient.stabilizerHom_surjective#doc\">docs#Ideal.Quotient.stabilizerHom_surjective</a></li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>f</mi><mi>g</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>G</mi><mi mathvariant=\"normal\">∣</mi><mo>=</mo><mi mathvariant=\"normal\">∣</mi><mi>I</mi><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"normal\">∣</mi><mi>D</mi><mi mathvariant=\"normal\">/</mi><mi>I</mi><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"normal\">∣</mi><mi>G</mi><mi mathvariant=\"normal\">/</mi><mi>D</mi><mi mathvariant=\"normal\">∣</mi></mrow><annotation encoding=\"application/x-tex\">efg = |G| = |I||D/I||G/D|</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">∣</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">∣∣</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord\">∣∣</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\">∣</span></span></span></span> by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.ncard_primesOver_mul_ramificationIdxIn_mul_inertiaDegIn#doc\">docs#Ideal.ncard_primesOver_mul_ramificationIdxIn_mul_inertiaDegIn</a></li>\n</ol>\n<p>Hopefully everything will go public in a week so that I can actually point you to some lean code.</p>\n</blockquote>\n<p>Is this proof available on Mathlib now? Or is the result available anywhere yet?</p>",
        "id": 524635775,
        "sender_full_name": "Junjie Bai",
        "timestamp": 1750227415
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> To add to that, do you have a definition of inertia subgroup at this point? I've been experimenting with the following definition that takes in <code>G</code> rather than <code>K</code> and <code>L</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Q</span><span class=\"bp\">.</span><span class=\"n\">LiesOver</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MulSemiringAction</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SMulCommClass</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">inertiaSubgroup</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">stabilizerHom</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">ker</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">MulAction</span><span class=\"bp\">.</span><span class=\"n\">stabilizer</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">subtype</span>\n</code></pre></div>",
        "id": 524714874,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1750255224
    },
    {
        "content": "<p>I've been using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AddSubgroup.inertia#doc\">docs#AddSubgroup.inertia</a>.</p>",
        "id": 524715106,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1750255279
    },
    {
        "content": "<p>Oh, nice. That's probably equivalent?</p>",
        "id": 524715554,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1750255400
    },
    {
        "content": "<p>They should be. And <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AddSubgroup.inertia#doc\">docs#AddSubgroup.inertia</a> has better defeqs because there's <code>map</code> in your definition (otherwise I like yours more).</p>",
        "id": 524716527,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1750255632
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"683723\">Junjie Bai</span> <a href=\"#narrow/channel/116395-maths/topic/Ramification.20Index.20equal.20to.20the.20card.20of.20inertia.20group/near/524635775\">said</a>:</p>\n<blockquote>\n<p>Is this proof available on Mathlib now? Or is the result available anywhere yet?</p>\n</blockquote>\n<p>I am slowly PRing it (sorry I forgot that people needed it <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>). But in the mean time it is <a href=\"https://github.com/leanprover-community/mathlib4/blob/0aaa73fbf982736ed441b55a3a067383b184e342/Mathlib/NumberTheory/KroneckerWeber/IsInvariant.lean#L501\">here</a></p>",
        "id": 524716758,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1750255694
    },
    {
        "content": "<p>Well, the big advantage of your definition seems to be that it doesn't require specifying the base ring.</p>",
        "id": 524716765,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1750255698
    },
    {
        "content": "<p>Also, I'm realizing now that I'm duplicating some of your results exactly. E.g., <a href=\"https://github.com/leanprover-community/mathlib4/pull/26049\">#26049</a> is just <a href=\"https://github.com/leanprover-community/mathlib4/blob/0aaa73fbf982736ed441b55a3a067383b184e342/Mathlib/NumberTheory/KroneckerWeber/IsInvariant.lean#L226C7-L226C27\">https://github.com/leanprover-community/mathlib4/blob/0aaa73fbf982736ed441b55a3a067383b184e342/Mathlib/NumberTheory/KroneckerWeber/IsInvariant.lean#L226C7-L226C27</a></p>",
        "id": 524716987,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1750255757
    },
    {
        "content": "<p>It's probably my fault for not PRing my things sooner. What else do you have? Duplicated lemmas are easy to fix but if we have some different definitions we should probably try to unify them first.</p>",
        "id": 524717836,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1750255971
    },
    {
        "content": "<p>I don't have that much really (<a href=\"https://github.com/leanprover-community/mathlib4/pull/25726\">#25726</a>). Just a definition of the inertia subgroup and an attempt at computing it's cardinality where I realized that I would need the cardinality lemma in <a href=\"https://github.com/leanprover-community/mathlib4/pull/26056\">#26056</a> and the fact that <code>(A/P)/(B/Q)</code> is Galois which it looks like you also have.</p>",
        "id": 524718677,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1750256199
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/116395-maths/topic/Ramification.20Index.20equal.20to.20the.20card.20of.20inertia.20group/near/524716758\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"683723\">Junjie Bai</span> <a href=\"#narrow/channel/116395-maths/topic/Ramification.20Index.20equal.20to.20the.20card.20of.20inertia.20group/near/524635775\">said</a>:</p>\n<blockquote>\n<p>Is this proof available on Mathlib now? Or is the result available anywhere yet?</p>\n</blockquote>\n<p>I am slowly PRing it (sorry I forgot that people needed it <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>). But in the mean time it is <a href=\"https://github.com/leanprover-community/mathlib4/blob/0aaa73fbf982736ed441b55a3a067383b184e342/Mathlib/NumberTheory/KroneckerWeber/IsInvariant.lean#L501\">here</a></p>\n</blockquote>\n<p>That will be very helpful, thank you!</p>",
        "id": 524722022,
        "sender_full_name": "Junjie Bai",
        "timestamp": 1750257175
    },
    {
        "content": "<p>The fact that <code>(A/P)/(B/Q)</code> is Galois is in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25616\">#25616</a></p>",
        "id": 524729999,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1750259450
    }
]