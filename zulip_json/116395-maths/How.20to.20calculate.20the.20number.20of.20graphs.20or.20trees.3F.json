[
    {
        "content": "<p>Hello! I want to use Fintype.card to count the number of trees in given condition. But I found I have to add the condition of dec_adj so that it makes <a href=\"http://T.degree\">T.degree</a> hold and prove the  instance of <code>Fintype tree</code>  first. Can this work? Or maybe there exists other methods to formalize it ?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">tree</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SimpleGraph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">is_tree</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">IsTree</span>\n<span class=\"w\">  </span><span class=\"n\">dec_adj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DecidableRel</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">Adj</span>\n<span class=\"w\">  </span><span class=\"n\">deg_T</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tree</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">tree</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 543710096,
        "sender_full_name": "Brisal",
        "timestamp": 1759918936
    },
    {
        "content": "<p>there's no point using Fintype here because none of this is computable, so you should prove a Finite instance, for which you would want to prove that <code>tree.T</code> is injective, and then use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Fintype/EquivFin.html#Finite.of_injective\">Finite.of_injective</a></p>",
        "id": 543710719,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759919155
    },
    {
        "content": "<p>if you want the Fintype anyway you can afterwards do <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Fintype/EquivFin.html#Fintype.ofFinite\">Fintype.ofFinite</a></p>",
        "id": 543710814,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759919187
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/116395-maths/topic/How.20to.20calculate.20the.20number.20of.20graphs.20or.20trees.3F/near/543710719\">said</a>:</p>\n<blockquote>\n<p>there's no point using Fintype here because none of this is computable</p>\n</blockquote>\n<p>really</p>",
        "id": 543711132,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919298
    },
    {
        "content": "<p>what do you mean by that</p>",
        "id": 543711163,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919307
    },
    {
        "content": "<p>ah, sorry, the map to SimpleGraph has noncomputable image, but if you add the dec_adj then it is computable</p>",
        "id": 543711304,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759919361
    },
    {
        "content": "<p>I don't think <code>SimpleGraph</code> carries any data</p>",
        "id": 543711391,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919392
    },
    {
        "content": "<p>so instead of using just the injection <code>tree.T</code>, combine it with <code>tree.dec_adj</code></p>",
        "id": 543711431,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759919404
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/116395-maths/topic/How.20to.20calculate.20the.20number.20of.20graphs.20or.20trees.3F/near/543711391\">said</a>:</p>\n<blockquote>\n<p>I don't think <code>SimpleGraph</code> carries any data</p>\n</blockquote>\n<p>I mean, I'm just saying that <code>Set Unit</code> has no decidable equality, essentially</p>",
        "id": 543711630,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759919468
    }
]