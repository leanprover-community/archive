[
    {
        "content": "<p>I could not find this on mathlib. Is there work on distributive law of monads off mathlib that can be PRd? Otherwise, I'm happy to work on it, as I need the distributivity of the bag monad over the list monad.</p>",
        "id": 455590008,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722501260
    },
    {
        "content": "<p>I had vague plans to formalise them (a friend and I last summer figured out a way to create many distributive laws between two specific monads), but they never concretised. I would love if you worked on that!</p>",
        "id": 455590299,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1722501352
    },
    {
        "content": "<p>I can start with a minimal PR today. You are very welcome to help. :)</p>",
        "id": 455593184,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722502371
    },
    {
        "content": "<p>I am afraid I am still 5 refactors deep into the todo list <span aria-label=\"sweat\" class=\"emoji emoji-1f613\" role=\"img\" title=\"sweat\">:sweat:</span></p>",
        "id": 455593453,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1722502471
    },
    {
        "content": "<p>no worries. </p>\n<p>btw, I can also imagine there can be some design choices in terms of the level generality. Street's formal theory of monads for example is an abstract but elegant way of dealing with the distributivity law, but it is 2-categorical.</p>",
        "id": 455593504,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722502496
    },
    {
        "content": "<p><a href=\"https://ncatlab.org/nlab/show/monad#BicategoryOfMonads\">https://ncatlab.org/nlab/show/monad#BicategoryOfMonads</a></p>",
        "id": 455593953,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722502641
    },
    {
        "content": "<p>I am interested in helping, my level of Lean permitting.</p>\n<p>In theory, it would be interesting to start with morphism in <code>Endo(Cat)</code>, which is a sub-2category of <code>Cat//Cat</code>.</p>\n<p><code>Cat//Cat</code> is the 2-category whose morphism are lax-squares of <code>Cat</code> (otherwise called <code>Quintet(Cat)</code>). Objects are functors, arrow are triple of a functor joining the domains, a functor joining the codomains, and a natural transformation between them. There are obvious 2-functors <code>dom</code> and <code>cod</code> to <code>Cat</code>, and it is a really a span in <code>2-Cat</code></p>\n<p><code>Endo(Cat)</code> is the sub-2-category whose objects are <em>endo</em>functors and whose morphisms are a pair a single functor for the domains and codomains and a natural transformation</p>\n<p><code>Mon(Cat)</code> is the sub-2-category of <code>Endo(Cat)</code> verifying the additional monad morphisms conditions</p>\n<p>This whole machinery works for 2-categories other than <code>Cat</code> obviously.<br>\nSo it would be best to describe that 2-categorically for some 2-Cat <code>K</code></p>",
        "id": 455600812,
        "sender_full_name": "Nicolas Rolland",
        "timestamp": 1722504750
    },
    {
        "content": "<p>I feel Street's machinery is along the same lines but for any 2-category/bicategory <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"fraktur\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\frak{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6914em;\"></span><span class=\"mord mathfrak\">K</span></span></span></span>. My inclination for now is to formalize the distributive law just for categories and monads of categories and do the Street's 2-categorical construction separately maybe in the bicategory library. I wonder what maintainers think about this.</p>",
        "id": 455605549,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722506205
    },
    {
        "content": "<p>Not a maintainer but this sounds like a reasonable (and usable!) approach</p>",
        "id": 455613209,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1722508519
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"420917\">@Sina H ð“ƒµ</span>  For 2-categorical approch, I have this draft PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/14889\">#14889</a>, which formalize the bicategory of comonads. I'm not sure I can open this PR in the near future, I think it has some thing to do with you way.</p>",
        "id": 455626763,
        "sender_full_name": "Yuma Mizuno",
        "timestamp": 1722513190
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"438192\">@Yuma Mizuno</span> Thanks, I'll have a look.</p>",
        "id": 455627219,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722513353
    },
    {
        "content": "<p>I don't have enough lean experience to know how much more complex (or simple, that's what good abstractions are about ! ) it can be in Lean.</p>\n<p>That said, I imagine that having a formalisation in Cat should only help the 2-categorical approach : only primitive notions are involved, so they can be unplugged later for more general K.</p>",
        "id": 455751366,
        "sender_full_name": "Nicolas Rolland",
        "timestamp": 1722544029
    },
    {
        "content": "<p>sure, that seems a good test case. If you think doing it in Cat is significantly easier than directly doing it in a bicategory, then I think it might be good to start there and later abstracted away to bicategories. But note that at the end the bicategory one should go to mathlib since there are interesting examples of monads which are not functors: for instance a monad in the bicategory of spans is an internal category.</p>",
        "id": 455877591,
        "sender_full_name": "Sina Hazratpour ð“ƒµ",
        "timestamp": 1722589618
    },
    {
        "content": "<p>No doubt monads in bicategory are interesting.</p>\n<p>What I was hinting at is that expliciting the intermediate structures K//K, Endo(K), Mnd(K) is useful, as interesting phenomenas happen at those levels.  For instance, it helps to rephrase the comparison functor of  G |- F as the 2-cell  G -(G,id)-&gt; GF  left adjoint (in K//K !!) to the trivial 2-cell GF - (F,id)&gt; G.</p>",
        "id": 457373232,
        "sender_full_name": "Nicolas Rolland",
        "timestamp": 1723124229
    }
]