[
    {
        "content": "<p>My student <span class=\"user-mention\" data-user-id=\"697518\">@Hannah Scholz</span> is working on CW-complexes and wants to define <a href=\"https://en.wikipedia.org/wiki/Compactly_generated_space\">compactly generated spaces</a>. In Mathlib we have a very similar notion <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCompactlyGenerated#doc\">docs#IsCompactlyGenerated</a> for complete lattices that are compactly generated.<br>\nAm I correct that the current Mathlib notion does <em>not</em> allow us to define compactly generated spaces, since <code>IsCompactlyGenerated (Opens X)</code> would state that all opens are generated by <em>compact open</em> sets?</p>\n<p>Does this mean we should generalize the concepts <code>IsCompactlyGenerated</code> and <code>CompleteLattice.IsCompactElement</code> to be \"these elements are compact(ly generated) w.r.t. to this sublattice. If we do that, we can say that <code>K : Set X</code> is compact iff it is an compact element w.r.t. to the sublattice of open sets, and <code>X</code> is a compactly generated space iff all the opens are sups of compact elements.</p>\n<p>Or should we just define a separate notion of compactly generated spaces?</p>",
        "id": 452024044,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1721212323
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/116395-maths/topic/Compactly.20generated.20spaces/near/452024044\">said</a>:</p>\n<blockquote>\n<p>Does this mean we should generalize the concepts <code>IsCompactlyGenerated</code> and <code>CompleteLattice.IsCompactElement</code> to be \"these elements are compact(ly generated) w.r.t. to this sublattice</p>\n</blockquote>\n<p>Yes, this seems like the most reasonable option</p>",
        "id": 452035481,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721215360
    },
    {
        "content": "<p>I am a bit worried that this will make existing use cases jump through unnecessary hoops.</p>",
        "id": 452266048,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1721286787
    },
    {
        "content": "<p>There are not that many existing use cases, right?</p>",
        "id": 452266286,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721286884
    },
    {
        "content": "<p>I didn't check. But I know it's used for the lattice of submodules in some places.</p>",
        "id": 452266425,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1721286942
    },
    {
        "content": "<p>Actually, is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCompactlyGenerated#doc\">docs#IsCompactlyGenerated</a> even related to the topological notion of compactly generated spaces / K-spaces? Every set is already a sup of compact sets in any topological space, by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=isCompact_singleton#doc\">docs#isCompact_singleton</a></p>",
        "id": 452283031,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1721291090
    },
    {
        "content": "<p>In this context, I always think of \"compact\" as meaning \"compact and closure of an open set\" (or sometimes as \"open set that has compact closure\").  This is more related to pre-compact, than compact, I think.</p>",
        "id": 452283719,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1721291276
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/116395-maths/topic/Compactly.20generated.20spaces/near/452283031\">said</a>:</p>\n<blockquote>\n<p>Actually, is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCompactlyGenerated#doc\">docs#IsCompactlyGenerated</a> even related to the topological notion of compactly generated spaces / K-spaces? Every set is already a sup of compact sets in any topological space, by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=isCompact_singleton#doc\">docs#isCompact_singleton</a></p>\n</blockquote>\n<p>Reading the wikipedia page about compactly generated spaces, it seems like it's completely different actually</p>",
        "id": 452284098,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721291358
    },
    {
        "content": "<p>I must say \"compactly generated\" is a weird name for the topological notion. I would rather have expected something like \"compactly specified\"</p>",
        "id": 452284224,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721291401
    },
    {
        "content": "<p>I would point out that one shouldn't assume Hausdorffness, so that one can separately have CGWH (i.e. with weak Hausdorffness) or CGH spaces. So the topology is generated by a maps from a family compact Hausdorff spaces, not from a collection of compact subsets.</p>",
        "id": 452469862,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1721354251
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span>  you may want to see <a href=\"https://github.com/leanprover-community/mathlib4/pull/14514\">#14514</a></p>",
        "id": 452472138,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1721355852
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"268315\">@Anatole Dedecker</span> was going to investigate which of the three definitions we should formalize first.</p>",
        "id": 452472530,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721356147
    },
    {
        "content": "<p>Some can be easily formalized using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RestrictGenTopology#doc\">docs#RestrictGenTopology</a>, the one in <a href=\"https://github.com/leanprover-community/mathlib4/pull/14514\">#14514</a> is a different one.</p>",
        "id": 452472743,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721356319
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"468051\">@Steven Clontz</span> What do you think about this? If we want to start with one of the definitions and add other definitions later as needed, which one should we first?</p>",
        "id": 452472862,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721356394
    },
    {
        "content": "<p>Maybe I should add that the PR I mention above depends on this one which defines compactly generated spaces: <a href=\"https://github.com/leanprover-community/mathlib4/pull/14508\">#14508</a><br>\nAll this (great!) work was done by <span class=\"user-mention\" data-user-id=\"519559\">@Dagur Asgeirsson</span> .</p>",
        "id": 452473040,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1721356518
    },
    {
        "content": "<p>The definition in <a href=\"https://github.com/leanprover-community/mathlib4/pull/14508\">#14508</a> is really designed to make the proof in <a href=\"https://github.com/leanprover-community/mathlib4/pull/14514\">#14514</a> that it's a full subcategory of condensed sets easy. I'm not sure it should be the \"official definition\", at least one should develop some API to characterize open/closed sets etc. </p>\n<p>I should also mention that the analogous result for light condensed sets and sequential spaces (defined using the existing mathlib notion) went really smoothly using the existing API. See <a href=\"https://github.com/leanprover-community/mathlib4/pull/14618\">#14618</a></p>",
        "id": 452511820,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1721376071
    },
    {
        "content": "<p>In the literature, authors frequently define k-space uncritically, and I think it may actually have been Wikipedia editors that first carefully sussed out the three different notions, which pi-Base adopted: <a href=\"https://topology.pi-base.org/properties/P000142\">CG3</a> implies <a href=\"https://topology.pi-base.org/properties/P000141\">CG2</a> implies <a href=\"https://topology.pi-base.org/properties/P000140\">CG1</a>. There are corresponding separation axioms known as k-Hausdorff that I have a <a href=\"https://arxiv.org/abs/2312.08328\">preprint</a> teasing out: $T_2$ implies <a href=\"https://topology.pi-base.org/properties/P000170\">k1H</a> implies (two other weak Hausdorff properties from the literature, which imply) <a href=\"https://topology.pi-base.org/properties/P000171\">k2H</a> implies (another weak Hausdorff property implies) $T_1$. (k3H is something you can define, but doesn't even imply $T_0$ so it's not a great \"separation axiom\").</p>\n<p>Under $T_2$ all the CGs are equivalent (hence the uncareful treatment in the literature). <a href=\"https://topology.pi-base.org/spaces?q=Weak+Hausdorff%2BGenerated+by+compact+subspaces%2B%7EGenerated+by+compact+Hausdorff+subspaces\">The square of the one-point compactification of the rationals</a> is <a href=\"https://topology.pi-base.org/properties/P000143\">weak Hausdorff</a> but and CG1, but not CG3. But under the weak Hausdorff property, or even just k2H, CG2 and CG3 are <a href=\"https://topology.pi-base.org/spaces?q=weak+hausdorff%2BGenerated+by+maps+from+compact+subspaces%2B%7EGenerated+by+compact+Hausdorff+subspaces\">equivalent</a>.</p>",
        "id": 452562594,
        "sender_full_name": "Steven Clontz",
        "timestamp": 1721393050
    },
    {
        "content": "<p>I should puzzle out whether <a href=\"https://topology.pi-base.org/spaces?q=k1h%2BGenerated+from+compact+subspaces%2B%7EGenerated+by+compact+Hausdorff+subspaces\">k1H</a> or <a href=\"https://topology.pi-base.org/spaces?q=kc%2BGenerated+from+compact+subspaces%2B%7EGenerated+by+compact+Hausdorff+subspaces\">KC</a> (compacts are closed) is sufficient to get all CGs to be equivalent, rather than needing all of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>T</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">T_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>. (EDIT: hm, well, it's pretty immediate that k1H is sufficient for all CGs to be equivalent - it literally means that all compacts are Hausdorff.)</p>",
        "id": 452562913,
        "sender_full_name": "Steven Clontz",
        "timestamp": 1721393155
    },
    {
        "content": "<p>my gut instinct is that CG2 is the place to start, with a theorem that it is implied by CG3. I think CG1 is mostly just used when Hausdorff is taken for granted anyway.</p>",
        "id": 452563333,
        "sender_full_name": "Steven Clontz",
        "timestamp": 1721393311
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/14508\">#14508</a> is ready for review. I'd be happy to change the name to something like <code>UCompactlyGenerated</code>, since there is some emphasis on size here (e.g. the category which embeds fully faithfully in condensed sets is that of <code>u</code>-compactly generated topological spaces of size <code>u+1</code> (i.e. those <code>X : TopCat.{u+1}</code> such that continuity can be tested by precomposing with maps from <code>S : CompHaus.{u}</code>)).</p>\n<p>There are also some TODOs in the file, the last one being the most important (that all first countable spaces are <code>u</code>-compactly generated for every <code>u</code>) since it shows that there is a large class of examples. I will work on that soon, but it might require developing some API for transporting topologies via <code>ULift</code>, which I think we don't have much of in mathlib?</p>",
        "id": 452676757,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1721429133
    },
    {
        "content": "<p>The fully faithful embedding of compactly generated spaces in condensed sets (<a href=\"https://github.com/leanprover-community/mathlib4/pull/14514\">#14514</a>) and sequential spaces in light condensed sets (<a href=\"https://github.com/leanprover-community/mathlib4/pull/14618\">#14618</a>) are now independent and both ready for review</p>",
        "id": 453046568,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1721601166
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/stream/116395-maths/topic/Compactly.20generated.20spaces/near/452676757\">said</a>:</p>\n<blockquote>\n<p>might require developing some API for transporting topologies via <code>ULift</code></p>\n</blockquote>\n<p>I'm wondering whether it is actually easier to use <code>α × PUnit</code> instead of <code>ULift α</code>, since the API for products and terminal objects is better developed (although I have noticed with a student that Lean sometimes needs universe-annotations for the former)</p>",
        "id": 453180857,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1721656259
    },
    {
        "content": "<p>I hadn’t thought of that, sounds like a good idea</p>",
        "id": 453187804,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1721658135
    },
    {
        "content": "<p>Hi! I would be happy to take part in developing an API for compactly generated spaces, on the topological side (rather than the categorical one). I managed to \"prove\" SequentialSpace =&gt; CompactlyGeneratedSpace, but I have a problem.<br>\nI followed the proof given <a href=\"https://ncatlab.org/nlab/files/StricklandCGHWSpaces.pdf\">here</a> (Proposition 1.6). It uses the one-point compactification of <code>Nat</code>, so I proved a few lemmas about that (I found almost nothing about it in Mathlib), but at the end, <code>ENat</code> has type <code>Type</code> so my theorem only works for <code>X : Type</code>, rather thant <code>X : Type*</code>. I don't really know how to manipulate universes and I've never done category theory in Lean, so I have no idea if this is a serious issue or can be easily fixed, or maybe there's a much better proof than mine. My code is messy atm but you can find it here : <a href=\"https://github.com/leanprover-community/mathlib4/pull/15066\">#15066</a>.</p>",
        "id": 453672650,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721822098
    },
    {
        "content": "<p>The solution is usually to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ULift#doc\">docs#ULift</a></p>",
        "id": 453673126,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721822223
    },
    {
        "content": "<p>Thanks, I managed it!</p>",
        "id": 453682421,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721824507
    },
    {
        "content": "<p>Ok I think it's in good shape but I still have some troubles with universes. I proved Sequential =&gt; CompactlyGenerated without any hypotheses on universes, and I proved WeaklyLocallyCompact + T2 =&gt; CompactlyGenerated, but this times with restriction on universes.<br>\nThen to check that it works I wanted to use it for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WeaklyLocallyCompactSpace.isProperMap_iff_isCompact_preimage#doc\">docs#WeaklyLocallyCompactSpace.isProperMap_iff_isCompact_preimage</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SequentialSpace.isProperMap_iff_isCompact_preimage#doc\">docs#SequentialSpace.isProperMap_iff_isCompact_preimage</a>, which were work-around waiting for compactly generated spaces to be defined.<br>\nThe first one works fine, but I have an error about the universes for the second one which I don't understand. The error disappear if I set everything to the same universe in Sequential =&gt; CompactlyGenerated, but this bothers me because it makes the statement less general. The attempt is <a href=\"https://github.com/leanprover-community/mathlib4/pull/15066\">#15066</a>. Does anyone have a suggestion?</p>",
        "id": 453933067,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721910310
    },
    {
        "content": "<p>Looking at this PR, I'm confused by the definition of <code>CompactlyGeneratedSpace</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">CompactlyGeneratedSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The topology of `X` is finer than the compactly generated topology. -/</span>\n<span class=\"w\">  </span><span class=\"n\">le_compactlyGenerated</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">compactlyGenerated</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">X</span>\n</code></pre></div>\n<p>We have X of type w, but allow compact Hausdorff spaces from universe u. Is there ever any situation where you want w != u? (Maybe this is explained above, I didn't read the whole thread carefully -- in fact looking at <a href=\"https://github.com/leanprover-community/mathlib4/pull/14508\">#14508</a> this seems to have been deliberate). I am assuming that the usual mathematical concept is w = u, and you will get weird answers for at least one of the situations u &lt; w or u &gt; w. For example I would imagine that if u &lt; w and X is compact, the topology would maybe not in general be compactly generated for that choice of u?</p>\n<p>The error is saying \"Lean cannot guess universe u_6 from what you're telling it\" so you can just fix it by adding <code>universe w</code> and then telling Lean to use it explicitly:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">SequentialSpace</span><span class=\"bp\">.</span><span class=\"n\">isProperMap_iff_isCompact_preimage</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">T2Space</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SequentialSpace</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">IsProperMap</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">⦃</span><span class=\"n\">K</span><span class=\"o\">⦄,</span><span class=\"w\"> </span><span class=\"n\">IsCompact</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">IsCompact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">⁻¹'</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">isProperMap_iff_isCompact_preimage</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>Whether or not this is a good idea is not something I'm clear on.</p>",
        "id": 453944073,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1721912767
    },
    {
        "content": "<p>This is deliberate and it's designed to always use at least the parameter <code>u</code> explicitly. It's because <code>u</code>-compactly generated topological spaces of size <code>w := u+1</code> embed fully faithfully in condensed sets (see <a href=\"https://github.com/leanprover-community/mathlib4/pull/14514\">#14514</a>). </p>\n<p>I agree that this might be confusing so I would be happy with renaming this <code>UCompactlyGeneratedSpace</code> or something like that and make an abbrev <code>CompactlyGeneratedSpace</code> which is <code>UCompactlyGeneratedSpace.{u, u}</code></p>",
        "id": 453957506,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1721915968
    },
    {
        "content": "<p>The note </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">should</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">used</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">explicit</span><span class=\"w\"> </span><span class=\"kn\">universe</span><span class=\"w\"> </span><span class=\"n\">parameter</span><span class=\"w\"> </span><span class=\"ss\">`u</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span>\n<span class=\"n\">compact</span><span class=\"w\"> </span><span class=\"n\">Hausdorff</span><span class=\"w\"> </span><span class=\"n\">spaces</span><span class=\"w\"> </span><span class=\"n\">mapping</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"ss\">`X</span><span class=\"bp\">`.</span>\n</code></pre></div>\n<p>in the docstring of <code>TopologicalSpace.compactlygenerated</code> also applies to <code>CompactlyGeneratedSpace</code> and should be added to the docstring there. I don't have any time today, so please feel free to PR this</p>",
        "id": 453958229,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1721916152
    },
    {
        "content": "<p>Well I don't think having to specify a universe to use a theorem is something we want (when doing topology I mean). Now I don't know enough about universes, but can putting everything in the same universe cause some trouble when dealing with topology only (like instances or theorems which do not apply because of universes issues?) If not I'll just put everything with the same universe.</p>",
        "id": 453958859,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721916316
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/stream/116395-maths/topic/Compactly.20generated.20spaces/near/453958229\">said</a>:</p>\n<blockquote>\n<p>please feel free to PR this</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15132\">#15132</a></p>",
        "id": 453963763,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721917381
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/stream/116395-maths/topic/Compactly.20generated.20spaces/near/453957506\">said</a>:</p>\n<blockquote>\n<p>I would be happy with renaming this <code>UCompactlyGeneratedSpace</code> or something like that and make an abbrev <code>CompactlyGeneratedSpace</code> which is <code>UCompactlyGeneratedSpace.{u, u}</code></p>\n</blockquote>\n<p>If I understand correctly, this is what we would need for topological purposes.</p>",
        "id": 453964375,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721917556
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"519559\">@Dagur Asgeirsson</span> If you’re ok with it, I can do the renaming.</p>",
        "id": 454172690,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1721972915
    },
    {
        "content": "<p>Yes, that's fine. It would also make sense to make the definition independent of the category <code>CompHaus</code>. I just wrote whatever API gave me the quickest proof of the result that compactly generated spaces embed fully faithfully in condensed sets, and it's maybe not completely in line with the \"mathlib philosophy\"</p>",
        "id": 454307182,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1722003115
    },
    {
        "content": "<p>I encountered a new issue. I created a new file <code>Mathlib.Topology.Compactness.CompactlyGeneratedSpace</code>, which imports <code>Mathlib.Topology.Category.CompactlyGenerated</code>. However I need  compactly generated spaces for another file (<code>Mathlib.Topology.Maps.Proper.Basic</code>), and here I encounter an import issue, because this file has a line <code>assert_not_exists StoneCech</code>, while <code>Mathlib.Topology.StoneCech</code> is imported by <code>Mathlib.Topology.Category.CompHaus.Basic</code> which is imported by <code>Mathlib.Topology.Category.CompactlyGenerated</code>.</p>\n<p>What is the way to solve this? I can't remove the <code>assert_not_exists StoneCech</code>, because it is also in different files imported by <code>Mathlib.Topology.Maps.Proper.Basic</code> and I don't think I should edit all of them. Do I have to redefine compactly generated space from scratch instead of using an abbrev? The code is here: <a href=\"https://github.com/leanprover-community/mathlib4/pull/15066\">#15066</a>.</p>",
        "id": 454473712,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1722088005
    },
    {
        "content": "<p>I added that <code>assert_not_exists StoneCech</code> recently. You should try removing the <code>Topology.StoneCech → Topology.Category.CompHaus.Basic</code> import, probably by splitting the latter file</p>",
        "id": 454473836,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722088099
    },
    {
        "content": "<p>Also, why do you need to import <code>Topology.Compactness.CompactlyGeneratedSpace</code> in <code>Topology.Maps.Proper.Basic</code>?</p>",
        "id": 454473874,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722088164
    },
    {
        "content": "<p>Ok I'll try this.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/116395-maths/topic/Compactly.20generated.20spaces/near/454473874\">said</a>:</p>\n<blockquote>\n<p>why do you need to import <code>Topology.Compactness.CompactlyGeneratedSpace</code> in <code>Topology.Maps.Proper.Basic</code>?</p>\n</blockquote>\n<p>If <code>f : X \\to Y</code> is continuous and <code>Y</code> is compactly generated and T2, then to prove that <code>f</code> is proper it is enough to show that preimages of compact sets are compact.</p>",
        "id": 454474345,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1722088521
    },
    {
        "content": "<p>Sounds like this could go in a new file <code>Topology.Maps.Proper.CompactlyGenerated</code></p>",
        "id": 454474379,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722088552
    },
    {
        "content": "<p>I can do that. Should I still split <code>Topology.Category.CompHaus.Basic</code>?</p>",
        "id": 454474790,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1722088891
    },
    {
        "content": "<p>Feel free to</p>",
        "id": 454475461,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722089435
    },
    {
        "content": "<p>The renaming is done in <a href=\"https://github.com/leanprover-community/mathlib4/pull/15201\">#15201</a> and compactly generated spaces are defined in <a href=\"https://github.com/leanprover-community/mathlib4/pull/15203\">#15203</a>.</p>",
        "id": 454491782,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1722097161
    }
]