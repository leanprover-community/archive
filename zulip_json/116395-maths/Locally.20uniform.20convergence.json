[
    {
        "content": "<p>What is the motivation for Mathlib's definition of  \"locally uniform convergence\"?</p>\n<p>If X is a top. space, Y a metric space, and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> a sequence of functions <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi><mo>→</mo><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">X \\to Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>, I would expect \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> converges locally uniformly to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>\" to mean that for every <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">x \\in X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>, there is a neighbourhood <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> upon which <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> converges uniformly to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> -- i.e., the quantifiers go <br>\n\"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∀</mi><mi>x</mi><mo>∈</mo><mi>X</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∃</mi><mi>U</mi><mo>∈</mo><mi mathvariant=\"script\">N</mi><mi>x</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∀</mi><mi>ϵ</mi><mo>&gt;</mo><mn>0</mn><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∃</mi><mi>N</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∀</mi><mi>n</mi><mo>≥</mo><mi>N</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∀</mi><mi>y</mi><mo>∈</mo><mi>U</mi><mo separator=\"true\">,</mo><mi>d</mi><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\forall x \\in X,\\ \\exists U \\in \\mathcal{N} x,\\ \\forall \\epsilon &gt; 0,\\ \\exists N,\\, \\forall n \\ge N,\\, \\forall y \\in U, d(f_n(y), f(y)) &lt; \\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\"> </span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.14736em;\">N</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\"> </span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">ϵ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\"> </span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">))</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span>\".</p>\n<p>But Mathlib's definition, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TendstoLocallyUniformly#doc\">docs#TendstoLocallyUniformly</a>, is different: it has the quantifiers in a different order, so the condition is<br>\n\"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∀</mi><mi>x</mi><mo>∈</mo><mi>X</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∀</mi><mi>ϵ</mi><mo>&gt;</mo><mn>0</mn><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∃</mi><mi>U</mi><mo>∈</mo><mi mathvariant=\"script\">N</mi><mi>x</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∃</mi><mi>N</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∀</mi><mi>n</mi><mo>≥</mo><mi>N</mi><mo separator=\"true\">,</mo><mtext> </mtext><mi mathvariant=\"normal\">∀</mi><mi>y</mi><mo>∈</mo><mi>U</mi><mo separator=\"true\">,</mo><mi>d</mi><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>&lt;</mo><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\forall x \\in X,\\ \\forall \\epsilon &gt; 0,\\ \\exists U \\in \\mathcal{N} x,\\ \\exists N,\\, \\forall n \\ge N,\\, \\forall y \\in U, d(f_n(y), f(y)) &lt; \\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\"> </span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">ϵ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\"> </span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathcal\" style=\"margin-right:0.14736em;\">N</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\"> </span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">))</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span>\".<br>\nSo this version allows U to depend on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span>, while my version above requires that it be independent of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">ϵ</span></span></span></span>. Hence the second version is a priori weaker, although equivalent if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> is locally compact.</p>\n<p>I'm pretty sure the definition I gave is the standard one for \"locally uniform convergence\", conforming to the general principle that \"locally P\" for absolutely any property of topological spaces means \"each point has a neighbourhood such that P\". I've not seen any sources which use Mathlib's interpretation. For instance, this paper <a href=\"https://www.jstage.jst.go.jp/article/pjab1945/36/3/36_3_102/_pdf/-char/en\">https://www.jstage.jst.go.jp/article/pjab1945/36/3/36_3_102/_pdf/-char/en</a> considers both notions, but uses the name \"locally uniform convergence\" for the first (stronger) condition above, and uses a different name (\"uniform convergence at each point\") for the second (weaker) condition. </p>\n<p>(See also this MathOverflow question : <a href=\"https://mathoverflow.net/questions/187193/between-compact-and-locally-uniform-what-is-the-name-of-this-convergence\">https://mathoverflow.net/questions/187193/between-compact-and-locally-uniform-what-is-the-name-of-this-convergence</a>, which again considers both topologies, but agrees with me about which should be called \"locally uniform convergence\")</p>\n<p>So why is Mathlib using non-standard terminology here?</p>",
        "id": 513946853,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745435562
    },
    {
        "content": "<p>(Tagging <span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span> who is credited as the original author of the mathlib file in which this definition appears.)</p>",
        "id": 513947044,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745435645
    },
    {
        "content": "<p>To me, the second definition looks mathematically more useful, which is why I went for this one (without checking any reference): it is weaker than the first one (so easier to check), but sufficient for the main property I expect of locally uniform convergence, i.e., a locally uniform limit of continuous functions is continuous. If you have examples of theorems for which the right assumption is the first one, then we could definitely switch (or keep both with two different names).</p>",
        "id": 513951019,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745437161
    },
    {
        "content": "<p>I tried to think (no more than 5 minutes, and without success) whether your second definition corresponds to a general topological/uniform structure. In general, it seems important that “locally something” really means that it is the local version of “something”. (And this could be automatized.)</p>",
        "id": 514048966,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745483404
    },
    {
        "content": "<p>I think Sebastien makes a very persuasive point, that the weaker condition is sufficient for the main application (proving continuity of the limit). I don't have an example of a theorem that's substantially easier to prove with the other condition; my only concern, like Antoine, is the risk of surprise / puzzlement to users who naturally expect that \"locally P\" means \"every point has a neighbourhood such that P\".</p>\n<p>Perhaps the way forward is to stick with the definition we currently have, but add a really clear and prominent explanation in the docs about the two versions and how they differ, and a lemma showing that the \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∃</mi><mi>U</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∀</mi><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\exists U, \\forall \\epsilon</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">ϵ</span></span></span></span>\" version implies the \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∀</mi><mi>ϵ</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∃</mi><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">\\forall \\epsilon, \\exists U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">∀</span><span class=\"mord mathnormal\">ϵ</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∃</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span>\" version (which we don't currently have, AFAIK, although we do have the equivalence of the two notions for locally-compact spaces).</p>",
        "id": 514080172,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745490021
    },
    {
        "content": "<p>You're not tempted to change the current definition to <code>TendstoPointwiseUniformly</code> or something, and add the natural proposed definition as well? Maybe this makes everyone happy?  And you can have an explanation of the difference in both docstrings plus references from each to the other.</p>",
        "id": 514088745,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745492657
    },
    {
        "content": "<p>Kevin's suggestion would certainly be option, but the lack of a good well-established name for this concept is a problem; calling it \"TendstoPointwiseUniformly\" might lead a lot of users to think \"but isn't pointwise the opposite of uniformly?\". Also, as Sebastian points out, there don't seem to be any natural examples of theorems for which the former hypothesis suffices but the latter doesn't.</p>",
        "id": 514097221,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745494450
    },
    {
        "content": "<p>OK then maybe \"warning in docstring\" is the way to go, at least for now.</p>",
        "id": 514097469,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745494527
    },
    {
        "content": "<p>I don't agree. It can only bring more confusion at later stages. I believe “Locally…” should be this, and Sébastien's definition an easy theorem.</p>",
        "id": 514101036,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745495574
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span> If we don't include Sebastien's definition as a definition, how would we formulate the theorem (already in Mathlib) that Sebastien's weaker definition is sufficient to imply that the limit <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> is continuous if each <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>f</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is?</p>",
        "id": 514101730,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745495790
    },
    {
        "content": "<p>I believe that Sébastien's definition should be included (eg as <code>TendstoPointwiseUniformly</code>), the initial theorem of Sébastien renamed using the new terminology, a new theorem defined saying that locally uniform convergence implies this property, and another one about preservation of continuity (possibly building on Sébastien's), as well as the equivalence between the two definitions when the space is locally compact. (Is it enough that its topology be compactly generated?)</p>",
        "id": 514102327,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745495961
    },
    {
        "content": "<p>Now, this requires an hour or two of work, and I agree that it could be left to another day, by somebody else than you, and that for now a “TODO” and a warning in the docstringcould be enough.</p>",
        "id": 514102592,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745496022
    },
    {
        "content": "<p>OK, I suggest the following. For now I will make a PR which splits the file <code>UniformSpace/UniformConvergence.lean</code> into 3 pieces, with one piece on locally uniform convergence, and make a clear explanation in the docstring of that file about how the two notions of locally-uniform convergence differ. Then Antoine, or anyone else, is welcome to return to this in future so we have both notions implemented and the relation between them; but I will not do it for now.</p>",
        "id": 514103829,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745496314
    },
    {
        "content": "<p>I agree that we should not add the usual definition until it becomes necessary. Note that the MathOverflow question you linked in the OP has an answer that makes a very persuasive argument that Mathlib's definition is really <del>the</del> a natural one.</p>",
        "id": 514117293,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1745499157
    },
    {
        "content": "<p>Simon Henry says that this notion of convergence “does not come from a topology”, and it is shown to be well behaved only on continuous functions, two points that I interpret as being an argument against the idea that this definition is natural.</p>",
        "id": 514128522,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745501869
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"481963\">David Loeffler</span> <a href=\"#narrow/channel/116395-maths/topic/Locally.20uniform.20convergence/near/514103829\">said</a>:</p>\n<blockquote>\n<p>OK, I suggest the following. For now I will make a PR which splits the file <code>UniformSpace/UniformConvergence.lean</code> into 3 pieces, with one piece on locally uniform convergence, and make a clear explanation in the docstring of that file about how the two notions of locally-uniform convergence differ.</p>\n</blockquote>\n<p>PR up at <a href=\"https://github.com/leanprover-community/mathlib4/pull/24342\">#24342</a>. (The only thing that is actually new in this PR is the module docstring of <code>LocallyUniformConvergence.lean</code>.)</p>",
        "id": 514132579,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745502891
    },
    {
        "content": "<p>Outside of Mathlib, the first time I encountered this notion is in \"Champs continus d'espaces hilbertiens et de C*-algèbres\" by Dixmier and Douady, where they indeed claim that this is not necessarily topologizable. In fact, even though they don't state it in these terms, the fourth axiom in their definition of \"continuous field of Banach space\" is that the space of continuous sections is closed under this weak notion of locally uniform limits (with the extra twist that they have dependent spaces of course).</p>",
        "id": 514156659,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1745508102
    },
    {
        "content": "<p>I would argue that this notion (and the more general <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TenstoUniformlyOnFilter#doc\">docs#TenstoUniformlyOnFilter</a>) are definitely useful. As <span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> reminded me, we proved a version of Dini's theorem for this notion (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Monotone.tendstoLocallyUniformly_of_forall_tendsto#doc\">docs#Monotone.tendstoLocallyUniformly_of_forall_tendsto</a>), which I think isn't true for the stronger version.</p>",
        "id": 514159361,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1745508776
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"481963\">David Loeffler</span> <a href=\"#narrow/channel/116395-maths/topic/Locally.20uniform.20convergence/near/514103829\">said</a>:</p>\n<blockquote>\n<p>OK, I suggest the following. For now I will make a PR which splits the file <code>UniformSpace/UniformConvergence.lean</code> into 3 pieces [...]</p>\n</blockquote>\n<blockquote>\n<p>PR up at <a href=\"https://github.com/leanprover-community/mathlib4/pull/24342\">#24342</a>. (The only thing that is actually new in this PR is the module docstring of <code>LocallyUniformConvergence.lean</code>.)</p>\n</blockquote>\n<p><span aria-label=\"ping pong\" class=\"emoji emoji-1f3d3\" role=\"img\" title=\"ping pong\">:ping_pong:</span></p>",
        "id": 514736024,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745824024
    },
    {
        "content": "<p>Thanks for the ping: <img alt=\":bors:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/dce2c3bb.png\" title=\"bors\"></p>",
        "id": 514737017,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1745824410
    },
    {
        "content": "<p>Thanks Johan!</p>",
        "id": 514737232,
        "sender_full_name": "David Loeffler",
        "timestamp": 1745824502
    }
]