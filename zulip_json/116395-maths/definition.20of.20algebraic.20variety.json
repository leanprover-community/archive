[
    {
        "content": "<p>This is a mess. At some point we certainly need to be able to start talking about algebraic varieties. But we need a definition and ideally we need to ensure that nobody will come along later and say \"aargh why did you put in that hypothesis?\"</p>\n<p>I've done a brief literature search and of course the results are \"different people have different definitions\". Right now I'm envisaging some full subcategory of <code>Over (Spec k))</code> where k is a...field. Here are some questions.</p>\n<p>1) Should k be assumed to be algebraically closed? (my opinion: no)<br>\n2) Should k even be assumed to be a field, would a commutative ring be OK? (my opinion: unsure; we didn't do this with elliptic curves, we went with comm rings plus a warning)</p>\n<p>Now we want to list the properties of the morphism. <br>\n3) Separated? (surely)<br>\n4) Integral (my opinion: not sure: this is reduced + irreducible, and I think some people like reducible varieties? But maybe reduced?)<br>\n5) finite type (surely, that's what makes them varieties, except that if we want an arbitrary base ring then actually we want finite presentation, except that finite presentation sounds stupid if the base is a field, the difference only kicks in if k is a non-Noetherian ring)</p>\n<p>Hartshorne basically has \"all of the above\". I just looked in Qing Liu's book (p55/56) and their definition (to my surprise) is scheme of finite type over a field! (no separatedness, no reduced, no irreducible).</p>\n<p>Yael is sitting here next to me with a formalized definition and these are the questions which arose.</p>",
        "id": 500943862,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740075878
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/definition.20of.20algebraic.20variety/near/500943862\">said</a>:</p>\n<blockquote>\n<p>1) Should k be assumed to be algebraically closed? (my opinion: no)</p>\n</blockquote>\n<p>Certainly not! You'd toss out aithmetic geometry from the start...</p>",
        "id": 500944868,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1740076226
    },
    {
        "content": "<p>I would go with \"integral separated scheme of finite type over a field\".</p>",
        "id": 500946733,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740076914
    },
    {
        "content": "<p>I view the fact that Hartshorne adds \"algebraically closed\" a mistake.</p>",
        "id": 500946850,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740076941
    },
    {
        "content": "<p>Everything else is a scheme.</p>",
        "id": 500946895,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740076958
    },
    {
        "content": "<p>Several people do not include the irreducible (but almost always include reduced).  I personally prefer varieties to be irreducible (and also reduced, hence intergral).</p>",
        "id": 500947160,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740077047
    },
    {
        "content": "<p>For context, <a href=\"https://github.com/YaelDillies/Toric/blob/master/Toric/Variety.lean\">we have a first definition in Toric</a></p>",
        "id": 500947812,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1740077262
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/channel/287929-mathlib4/topic/definition.20of.20algebraic.20variety/near/500946733\">said</a>:</p>\n<blockquote>\n<p>I would go with \"integral separated scheme of finite type over a field\".</p>\n</blockquote>\n<p>\"integral\" or \"geometically integral\", if we're dropping \"algebraically closed\"?</p>",
        "id": 500948601,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740077516
    },
    {
        "content": "<p>Integral certainly!</p>",
        "id": 500948674,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740077530
    },
    {
        "content": "<p>I mean, geometrically integral implies integral, so I agree they need to be integral, I'm asking whether x^2=2 defines a variety over Q, because, after all, Q[x]/(x^2-2) is an integral domain...</p>",
        "id": 500948807,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740077577
    },
    {
        "content": "<p>In particular, being a variety is <em>not</em> stable under base-change.</p>",
        "id": 500948831,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740077584
    },
    {
        "content": "<p>Oh OK so you really mean \"integral and not necessarily geometrically integral\".</p>",
        "id": 500948908,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740077615
    },
    {
        "content": "<p>Yes, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">x ^ 2 = 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span> is a variety over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>, but not over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"false\">(</mo><msqrt><mn>2</mn></msqrt><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}(\\sqrt{2})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1572em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Q</span><span class=\"mopen\">(</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9072em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\">2</span></span></span><span style=\"top:-2.8672em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"1.08em\" viewBox=\"0 0 400000 1080\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1328em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>.</p>",
        "id": 500948945,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740077630
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"479359\">@Michael Stoll</span> are you happy with this? Does anyone else have an opinion?</p>",
        "id": 500949053,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740077656
    },
    {
        "content": "<p>Right, so \"Integral certainly\" meant \"Definitely you do not need them to be geometrically integral.  Just integral is enough\".</p>",
        "id": 500949145,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740077696
    },
    {
        "content": "<p>That looks OK to me.<br>\nIn the end it will be as usual: we have to try something, and if it turns out that it is inconvenient, change the definition. But this seems to converge to something that looks like a reasonable starting point.</p>",
        "id": 500949430,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1740077790
    },
    {
        "content": "<p>I also think that quite a few results will be proved about schemes, regardless of which specialization of \"schemes\" we choose for \"variety\".</p>",
        "id": 500949589,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740077849
    },
    {
        "content": "<p>Yeah the point will be to prove anything in full generality.</p>",
        "id": 500954798,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1740079777
    },
    {
        "content": "<p>Anyway for me it is an integral scheme of finite type over a field</p>",
        "id": 500954915,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1740079806
    },
    {
        "content": "<p>Regarding the base being a field, does this actually need to be decided for the definition? I would have assumed that the definition of a variety would take in <code>k</code> with some typeclass assumptions, and theorems about varieties would also take in <code>k</code> with some typeclass assumptions, so the definition of a variety could assume <code>CommRing</code>, and theorems about varieties could assume <code>Field</code> as needed.</p>",
        "id": 500955697,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1740080120
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/definition.20of.20algebraic.20variety/near/500954915\">said</a>:</p>\n<blockquote>\n<p>Anyway for me it is an integral scheme of finite type over a field</p>\n</blockquote>\n<p>So no separated condition??</p>",
        "id": 500957175,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740080716
    },
    {
        "content": "<p>So with elliptic curves we do \"definition works over a ring, all the theorems assume field\". The only issue with allowing a commring is then I feel like \"finite type\" should actually be changed to \"finite presentation\" for a sensible theory, and then in all the applications we'll have this finite presentation proof obligation which will be slightly more annoying than having finite type proof obligations everywhere.</p>",
        "id": 500957444,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740080820
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/definition.20of.20algebraic.20variety/near/500957175\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/definition.20of.20algebraic.20variety/near/500954915\">said</a>:</p>\n<blockquote>\n<p>Anyway for me it is an integral scheme of finite type over a field</p>\n</blockquote>\n<p>So no separated condition??</p>\n</blockquote>\n<p>Sorry, separated.</p>",
        "id": 500958427,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1740081235
    },
    {
        "content": "<p>Imho separated should be included but integral can be relaxed; no opinion on finite type over either a field or a ring</p>",
        "id": 500958816,
        "sender_full_name": "David Ang",
        "timestamp": 1740081381
    },
    {
        "content": "<p>\"finite type\" is almost never right if the base isn't Noetherian. Finite presentation enables you to reduce to the Noetherian case. If we really want to allow rings in the definition (which I am still dubious about) then we should surely have a definition which is <em>useful</em> in the non-Noetherian case as opposed to just \"wrong\".</p>",
        "id": 500961889,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740082641
    },
    {
        "content": "<p>My opinion is that allowing rings simply means \"it's a scheme over an affine scheme\".  I would treat that as a scheme, not as a variety.</p>",
        "id": 500964281,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740083557
    },
    {
        "content": "<p>As a singularity theorist (or something along those lines), I think that nonreduced/reducible algebraic varieties are definitely a thing.</p>",
        "id": 500967162,
        "sender_full_name": "Miguel Marco",
        "timestamp": 1740084782
    },
    {
        "content": "<p>Oh-oh. So what do we do?</p>",
        "id": 500973271,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740087279
    },
    {
        "content": "<p>How about putting off defining variety and working with schemes instead?</p>",
        "id": 500974630,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740087850
    },
    {
        "content": "<p>I think we’re done proving Kevin’s claim that starts this thread. Now we only need to formalize it.</p>",
        "id": 500975505,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1740088230
    },
    {
        "content": "<ol>\n<li>As long as a statement does not talk about the <em>category</em> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-varieties, I think it should <em>never</em> take <code>IsVariety</code> as an assumption and not work with <code>Over X</code>, but instead require <code>(X : Scheme) [X.Over (Spec R)]</code> (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AlgebraicGeometry.Scheme.Over#doc\">docs#AlgebraicGeometry.Scheme.Over</a>) and the necessary assumptions on <code>X ↘ Spec R</code>.</li>\n<li>When you need the category of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-varieties, I suggest developing as much as possible for <code>P.Over ⊤ (Spec R)</code> where <code>P : MorphismProperty Scheme</code> assuming whatever is necessary for <code>P</code> (IMO, then there is no reason to require <code>S = Spec R</code> anymore. Instead, it should be <code>IsAffine S</code> when needed). This discussion clearly shows that there is no consensus on what the <em>category of varieties</em> is.</li>\n</ol>\n<p>Of course for downstream projects, there could very well be an abbreviation <code>IsVariety</code> picking the preferred set of assumptions the author likes.</p>",
        "id": 500985778,
        "sender_full_name": "Christian Merten",
        "timestamp": 1740092400
    },
    {
        "content": "<p>My objection to this had been \"but what about all the complex geometers who don't care about schemes at all but definitely want to talk about smooth projective complex varieties and then want to put manifold structures on the closed points\" but your last sentence is perhaps the answer to what they should be doing in this case.</p>",
        "id": 500986161,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740092525
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/287929-mathlib4/topic/definition.20of.20algebraic.20variety/near/500974630\">said</a>:</p>\n<blockquote>\n<p>How about putting off defining variety and working with schemes instead?</p>\n</blockquote>\n<p>In Toric, we're trying to define toric varieties, and it seemed like defining the category of toric varieties was going to be the easiest route.</p>",
        "id": 500990783,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1740094673
    },
    {
        "content": "<p>Do you really need the <strong>category</strong> of toric varieties?</p>",
        "id": 500997487,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740098168
    },
    {
        "content": "<blockquote>\n<p>but what about all the complex geometers who don't care about schemes at all but definitely want to talk about smooth projective complex varieties and then want to put manifold structures on the closed points</p>\n</blockquote>\n<p>That could be solved by better documentation, giving a list of magic spells that they could just copy-paste.</p>",
        "id": 500997592,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740098246
    },
    {
        "content": "<p>Apparently there are toric schemes too:<br>\n<a href=\"https://www.zora.uzh.ch/id/eprint/40859/1/20111168.pdf\">https://www.zora.uzh.ch/id/eprint/40859/1/20111168.pdf</a><br>\n<a href=\"https://arxiv.org/abs/1107.2713\">https://arxiv.org/abs/1107.2713</a><br>\n<a href=\"https://arxiv.org/abs/1207.0605\">https://arxiv.org/abs/1207.0605</a></p>\n<p>Have you started glueing the affine pieces yet?</p>",
        "id": 501013472,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1740108321
    },
    {
        "content": "<p>Illusie once told me that while everybody knows the definition of a scheme, nobody knows what an algebraic variety is. Certainly they're schemes of finite type over a field, imposing separated doesn't hurt, but whether they need to be integral, or reduced, or geometrically integral or geometrically reduced, is a mere convention.</p>",
        "id": 501023658,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1740115313
    },
    {
        "content": "<p>Regarding toric varieties, there is the question of the ground field (which should not be assumed to be algebraically closed), the normality assumption (sometimes annoying). The question of a base field is also a mess: surely fans define smooth schemes over Z, and it would be a mess not to have them. For me, a toric variety is an equivariant embedding of a torus over some base scheme.</p>",
        "id": 501024104,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1740115626
    },
    {
        "content": "<p>This looks like the module vs vector space discussion.</p>",
        "id": 501051715,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740127806
    },
    {
        "content": "<p>It does doesn't it. And we gave up on <code>VectorSpace</code> in the end, but perhaps this was because lean 3 couldn't handle synonyms so well</p>",
        "id": 501057352,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740129494
    },
    {
        "content": "<p>I was far more pro vector spaces back then because I was far more engaged with trying to get undergraduates on board</p>",
        "id": 501057503,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740129547
    },
    {
        "content": "<p>I think that both vector space and varieties work well to help humans fix on a not-fixed collection of simplifying assumptions that help focus and figure out what is or is not true.  Once that is done, when you formalise your results, you should pick the <em>exact</em> hypotheses that you need and then probably the correct approach is to use \"module+assumptions on the ring\" and \"scheme+assumptions on the base scheme\".</p>",
        "id": 501061839,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740130831
    },
    {
        "content": "<p>So, I view vector spaces and varieties as informally useful concepts that do not really have a formal counterpart.</p>",
        "id": 501061898,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740130854
    },
    {
        "content": "<p>They are unification hints for humans.</p>",
        "id": 501061997,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740130887
    },
    {
        "content": "<p>Can we move this to <a class=\"stream\" data-stream-id=\"116395\" href=\"/#narrow/channel/116395-maths\">#maths</a>?</p>",
        "id": 501143332,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1740155738
    },
    {
        "content": "<p>So is there a definition of an algebraic variety in Lean4 now? Where can I find it?</p>",
        "id": 512541364,
        "sender_full_name": "tsuki",
        "timestamp": 1744806665
    },
    {
        "content": "<p>In mathlib, there is basically everything you could want a variety to be, but no <code>def Variety := ...</code>. Tell us what a variety is to you and we can point you to what you're looking for <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 512546493,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744808176
    },
    {
        "content": "<p>Also note that this other thread exists: <a class=\"stream-topic\" data-stream-id=\"217875\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/.E2.9C.94.20definition.20of.20variety/with/511802975\">#Is there code for X? &gt; ✔ definition of variety</a></p>",
        "id": 512546536,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744808187
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Let</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">subseteq</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">[</span><span class=\"n\">x_1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">ldots</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x_n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">ideal</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">We</span><span class=\"w\"> </span><span class=\"n\">will</span><span class=\"w\"> </span><span class=\"n\">denote</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">mathbf</span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"o\">}(</span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">set</span>\n<span class=\"w\">  </span><span class=\"bp\">\\</span><span class=\"o\">[</span>\n<span class=\"w\">  </span><span class=\"bp\">\\</span><span class=\"n\">mathbf</span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"o\">}(</span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"o\">{(</span><span class=\"n\">a_1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">ldots</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a_n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"bp\">^</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">mid</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">(</span><span class=\"n\">a_1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">ldots</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a_n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">text</span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">all</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"bp\">\\</span><span class=\"o\">}</span><span class=\"bp\">.</span>\n<span class=\"w\">  </span><span class=\"bp\">\\</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 512743346,
        "sender_full_name": "tsuki",
        "timestamp": 1744868878
    },
    {
        "content": "<p>Is that your definition of \"variety\"??</p>",
        "id": 512750022,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744872045
    },
    {
        "content": "<p>Let <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi><mo>⊆</mo><mi>k</mi><mo stretchy=\"false\">[</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\"> I \\subseteq k[x_1, \\ldots, x_n] </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊆</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span> be an ideal. We will denote by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">V</mi><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\"> \\mathbf{V}(I) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbf\" style=\"margin-right:0.01597em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span></span></span></span> the set</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"bold\">V</mi><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>∈</mo><msup><mi>k</mi><mi>n</mi></msup><mo>∣</mo><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mn>0</mn><mtext> for all </mtext><mi>f</mi><mo>∈</mo><mi>I</mi><mo stretchy=\"false\">}</mo><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">  \\mathbf{V}(I) = \\{(a_1, \\ldots, a_n) \\in k^n \\mid f(a_1, \\ldots, a_n) = 0 \\text{ for all } f \\in I\\}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbf\" style=\"margin-right:0.01597em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{(</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7144em;\"><span style=\"top:-3.113em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∣</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mord text\"><span class=\"mord\"> for all </span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">}</span><span class=\"mord\">.</span></span></span></span></span></p>\n<p><span aria-label=\"sparkles\" class=\"emoji emoji-2728\" role=\"img\" title=\"sparkles\">:sparkles:</span></p>",
        "id": 512773169,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744880072
    },
    {
        "content": "<p>now i can read it</p>",
        "id": 512773323,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744880121
    },
    {
        "content": "<p>That's an affine algebraic set and possibly an affine variety depending on whose definition you read.</p>",
        "id": 512773623,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744880207
    },
    {
        "content": "<p>Importantly:</p>\n<ul>\n<li>this definition exists in the context of classical algebraic geometry (which afaik is not in mathlib because schemes supersede it)</li>\n<li>this is not the definition of a variety even in classical AG</li>\n<li>defining a variety in classical AG suffers from the same problems as defining a variety as a scheme (do we want irreducibility?)</li>\n</ul>",
        "id": 512805335,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1744890052
    },
    {
        "content": "<p>I slightly dissent. This definition definitely exists in the context of schemes. Then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">V</mi><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbf V(I)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbf\" style=\"margin-right:0.01597em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span></span></span></span> is a subscheme of the affine space <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"bold\">A</mi><mi>k</mi><mi>n</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbf A^n_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9692em;vertical-align:-0.2831em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4169em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2831em;\"><span></span></span></span></span></span></span></span></span></span>, and what you wrote is its set of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>-points, aka <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"bold\">V</mi><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbf V(I)(k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbf\" style=\"margin-right:0.01597em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span>.</p>",
        "id": 512825764,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744896148
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> <a href=\"#narrow/channel/116395-maths/topic/definition.20of.20algebraic.20variety/near/512825764\">said</a>:</p>\n<blockquote>\n<p>I slightly dissent. This definition definitely exists in the context of schemes. Then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">V(I)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span></span></span></span> is a subscheme of the affine space <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi>A</mi><mi>k</mi><mi>n</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">A^n_k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9664em;vertical-align:-0.2831em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.4169em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2831em;\"><span></span></span></span></span></span></span></span></span></span>, and what you wrote is its set of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>-points, aka <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><mo stretchy=\"false\">(</mo><mi>I</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">V(I)(k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span>.</p>\n</blockquote>\n<p>What I meant is that this isn't the definition of a variety in the context of schemes in any reasonable sense of the word definition.</p>",
        "id": 512829305,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1744897098
    }
]