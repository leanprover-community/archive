[
    {
        "content": "<p>Hi all, I've formalized <a href=\"https://en.wikipedia.org/wiki/Jung%27s_theorem\">Jung's theorem</a> <a href=\"https://github.com/michelsol/bounding-sphere-math/blob/master/BoundingSphere/\">here</a> over the last few weeks. It is in the 1000's theorems unformalized list, so I'm assuming it would be of interest to mathlib.  <br>\nAs I've never contributed to mathlib, I would be happy to have some general feedback about my code, to adress any major issues before thinking of making PR's to mathlib.  </p>\n<p>Note that after some restructuring and simplifications, I ended up creating a few API's such as:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">supEDist</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">EDist</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">sSup</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">edist</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">supDist</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">supEDist</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toReal</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">BoundingSphere</span><span class=\"bp\">.</span><span class=\"n\">radius</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">sInf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">supDist</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>I couldn't find any preexisting work about those, but please let me know if I'm reinventing the wheel.<br>\nMost of the proof lies in a BoundingSphere namespace, where I develop some basic theory about minimal bounding spheres. Most properties are expressed on the <code>radius</code> and <code>center</code> of a minimal bounding sphere. (Again I did not find anything in mathlib about this but let me know if I'm wrong).</p>\n<p>Jung's theorem is at the bottom and expressed as an inequality on the radius.<br>\nMy formalization is based on this <a href=\"https://matthewhr.wordpress.com/2013/03/14/hellys-theorem-and-applications-ii-jungs-theorem/\">blog post</a><br>\nAny feedback appreciated!</p>",
        "id": 562262458,
        "sender_full_name": "Julien Michel",
        "timestamp": 1765051185
    },
    {
        "content": "<p>I realized there is already EMetric.infEdist and Metric.infDist in this <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/MetricSpace/HausdorffDistance.html#EMetric.infEdist\">mathlib file</a>.<br>\nI suppose I will first imitate that file and define EMetric.supEdist and Metric.supDist in a similar way, and then will start submitting PR's.</p>\n<p>Could a maintainer tell me if adding to mathlib the theory of <a href=\"https://en.wikipedia.org/wiki/Bounding_sphere\">minimal bounding spheres</a> in euclidean spaces seems reasonable ?</p>\n<p>I am not aware of more general settings but I suppose that the existence or uniqueness of the sphere wouldn't be always granted, so a euclidean space seems like a simpler setting where one can directly talk about the center and radius of such spheres. </p>\n<p>Note that I'm not an expert on the topic, but since I got familiar with it while working on Jung's theorem,  I'm definitely interested in contributing to that. </p>\n<p>Thanks for comments or suggestions!</p>",
        "id": 562341383,
        "sender_full_name": "Julien Michel",
        "timestamp": 1765140774
    },
    {
        "content": "<p>Aren't they <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Metric.diam#doc\">docs#Metric.diam</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EMetric.diam%3F#doc\">docs#EMetric.diam?</a> (btw the latter name is terrible because infinite diameter sets are a thing even in metric spaces)</p>",
        "id": 562343230,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1765141203
    },
    {
        "content": "<p>I don't think so. diam is the sup distance between any two points in a set. I want the sup distance between a fixed point and the set</p>",
        "id": 562343789,
        "sender_full_name": "Julien Michel",
        "timestamp": 1765141343
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/116395-maths/topic/Formalizing.20Jung's.20theorem.20and.20minimal.20bounding.20spheres/near/562343230\">said</a>:</p>\n<blockquote>\n<p>(btw the latter name is terrible because infinite diameter sets are a thing even in metric spaces)</p>\n</blockquote>\n<p>Should that be something like <code>Metric.ediam</code>? And I feel like <code>Metric.diam</code> wouldn't not be useful in emetric spaces too.</p>",
        "id": 562343987,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1765141401
    },
    {
        "content": "<p>Yes, exactly. I personally think that the <code>EMetric</code> namespace should be used only for concepts that bear no relevance outside of extended metric spaces</p>",
        "id": 562347883,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1765142341
    },
    {
        "content": "<p>Hi all, here are some updates. This week, I’ve worked on improving the code quality and bringing it closer to Mathlib’s standards and conventions. I’ve split it into three files:</p>\n<p><a href=\"https://github.com/michelsol/bounding-sphere-math/blob/master/BoundingSphere/SupDistance.lean\">SupDistance.lean</a> containing sup distance theory in pseudo (e)metric spaces.<br>\n<a href=\"https://github.com/michelsol/bounding-sphere-math/blob/master/BoundingSphere/Basic.lean\">Basic.lean</a> containing minimal bounding sphere theory in a Euclidean affine space.<br>\n<a href=\"https://github.com/michelsol/bounding-sphere-math/blob/master/BoundingSphere/Jung.lean\">Jung.lean</a> containg Jung’s theorem in a Euclidean space.<br>\nI think SupDistance.lean is mostly ready for PR’s so I might start doing that next week.</p>\n<p>A few questions:<br>\n1)<br>\nTo model a Euclidean affine space setting in Basic.lean I’m using the following typeclasses:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">P</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MetricSpace</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddTorsor</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Where V represents the vector type, and P represents the point type.<br>\nI’d like to confirm: Is this a valid way to represent Euclidean affine spaces?<br>\n2)<br>\nIn Jung.lean, I ended up working in a Euclidean space instead</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>The reason for this less general approach is that I need to define and use a lemma on convex hulls which appear to be only available in a regular vector space. Is there anything like convexHull in an affine space setting?<br>\nThanks!</p>",
        "id": 563693220,
        "sender_full_name": "Julien Michel",
        "timestamp": 1765723068
    }
]