[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span> Is it intentional that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.IsSuccLimit#doc\">docs#Order.IsSuccLimit</a> allows <code>bot</code> while <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.IsLimit#doc\">docs#Ordinal.IsLimit</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.IsLimit#doc\">docs#Cardinal.IsLimit</a> don't?</p>",
        "id": 379008053,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1690435413
    },
    {
        "content": "<p>Should we change <code>IsSuccLimit</code> to assume <code>¬IsMin a</code> (or <code>¬IsBot a</code>?)</p>",
        "id": 379009008,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1690435731
    },
    {
        "content": "<p>CC <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span></p>",
        "id": 379015182,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1690437665
    },
    {
        "content": "<p>This was already discussed at length in <a href=\"https://github.com/leanprover-community/mathlib/pull/15005\">!3#15005</a>. Upshot is that <code>is_succ_limit</code> is the useful predicate in general, but the literature is divided on whether <code>0</code> is a limit ordinal. Eg my Logic &amp; Set Theory lectures this year claim it is, but <a href=\"https://en.m.wikipedia.org/wiki/Limit_ordinal\">Wikipedia</a> claims the opposite.</p>",
        "id": 379019039,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1690438840
    },
    {
        "content": "<p>Personally I'm in favour of changing <code>cardinal.is_limit</code> to allow <code>0</code>, or maybe to rename <code>is_succ_limit</code> to <code>is_succ_prelimit</code> and define a new <code>is_succ_limit</code> that matches <code>cardinal.is_limit</code>.</p>",
        "id": 379019433,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1690438955
    },
    {
        "content": "<p>I wouldn't trust \"random lecturer who doesn't really care about the question\" any more.</p>",
        "id": 379023626,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1690440091
    },
    {
        "content": "<p>However I think I agree with your random lecturer!</p>",
        "id": 379023720,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1690440123
    },
    {
        "content": "<p>I've got nothing new to say here but I might as well say hi</p>",
        "id": 379023948,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1690440188
    },
    {
        "content": "<p>Long time no see</p>",
        "id": 379023965,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1690440191
    },
    {
        "content": "<p>From topology point of view, <code>{0}</code> is an open set while all other <code>{c}</code>, <code>IsSuccLimit c</code> are.</p>",
        "id": 379030885,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1690441832
    },
    {
        "content": "<p>I will think about the <code>IsSuccPrelimit</code> option.</p>",
        "id": 379032756,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1690442239
    },
    {
        "content": "<p>I'm definitely with the topology camp on this one, and since <code>0</code> is isolated, it is <strong>not</strong> a limit. Nor obviously a successor.</p>",
        "id": 379290554,
        "sender_full_name": "Pedro Sánchez Terraf",
        "timestamp": 1690488480
    },
    {
        "content": "<p>From the order point of view, 0 is the sup of the ordinals strictly less than it, so it's a limit ordinal. But maybe it's like 1 not being a prime despite it satisfying many of the criteria for and properties of primality.</p>",
        "id": 379290854,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1690488555
    },
    {
        "content": "<p>You just have proved that a sup need not be a limit <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 379291216,
        "sender_full_name": "Pedro Sánchez Terraf",
        "timestamp": 1690488659
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/116395-maths/topic/IsSuccLimit/near/379008053\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> Is it intentional that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.IsSuccLimit#doc\">docs#Order.IsSuccLimit</a> allows <code>bot</code> while <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.IsLimit#doc\">docs#Ordinal.IsLimit</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.IsLimit#doc\">docs#Cardinal.IsLimit</a> don't?</p>\n</blockquote>\n<p>Wrt cardinals, <em>limit</em> is only used for infinite ones.</p>",
        "id": 379291532,
        "sender_full_name": "Pedro Sánchez Terraf",
        "timestamp": 1690488750
    },
    {
        "content": "<p>I was thinking about this again. I think there's reasonable arguments towards both sides of <code>0</code> being a limit ordinal or not. Another argument in favor is that <code>ω | 0</code>, and in fact <code>IsSuccLimit o ↔ ω | o</code>. An argument against is that a normal function evaluated at <code>0</code> need not be the supremum of itself evaluated at values less than <code>0</code>, i.e. <code>f 0 ≠ 0</code> in general.</p>",
        "id": 463306739,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724044685
    },
    {
        "content": "<p>From a strictly practical perspective, I do think it's bad that we have two nearly identical definitions with a lot of shared results. Most of the basic results about <code>Ordinal.IsLimit</code>, like <code>a &lt; o → succ a &lt; o</code> or <code>o ≤ a ↔ ∀ x &lt; o, x ≤ a</code>, are still true for <code>o = 0</code>.</p>",
        "id": 463307607,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724045095
    },
    {
        "content": "<p>It's in our spirit as mathematicians to prove things in their greatest generality, right? With that mindset, I think it makes a lot of sense to prove stuff about <code>IsSuccLimit o</code>, and tack on the <code>o ≠ 0</code> assumption only when it's needed.</p>",
        "id": 463308154,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724045416
    },
    {
        "content": "<p>I think the name <code>IsSuccLimit</code> is already enough of a compromise. These aren't <em>really</em> limit ordinals, depending on who you're talking to, but it's just more convenient to set things up in terms of a common definition like that one.</p>",
        "id": 463308944,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724045917
    },
    {
        "content": "<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Prime#doc\">docs#Prime</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Preprime#doc\">docs#Preprime</a> (edit: apparently we don't!)</p>",
        "id": 463476917,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1724091686
    },
    {
        "content": "<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsPreconnected#doc\">docs#IsPreconnected</a></p>",
        "id": 463583415,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1724126873
    },
    {
        "content": "<p>I guess another possibility is to keep both definitions, but define them in the same file. That way the APIs never diverge much.</p>",
        "id": 463619295,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724139496
    },
    {
        "content": "<p>That seems to be what's happening with <code>IsPreconnected</code></p>",
        "id": 463619313,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724139506
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> Thinking about this again. What do you think about turning <code>IsSuccLimit</code> into <code>IsSuccPrelimit</code> and defining <code>IsSuccLimit x ↔ IsSuccPrelimit x ∧ ¬ IsMin x</code>?</p>",
        "id": 467279242,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725375311
    },
    {
        "content": "<p>I think that's a fine approach</p>",
        "id": 467291434,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725377167
    },
    {
        "content": "<p>Is the name fine? I feel very iffy about outright replacing a definition by a non-equivalent one, but at the same time, I don't think it's proper to just call the new definition something like <code>IsSuccLimit'</code></p>",
        "id": 467307343,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725380959
    },
    {
        "content": "<p>Please mention the rename in the new docstring.</p>",
        "id": 467314001,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1725382676
    },
    {
        "content": "<p>I'm finding this change to be quite destructive. There's a lot of theorem names involving <code>IsSuccLimit</code> that have to be completely removed since they're now just false when stated like that.</p>",
        "id": 467944924,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725560622
    },
    {
        "content": "<p>The diff is 700+ lines and it doesn't even build yet. Admittedly it can be compressed a bit if I wait until a later PR to introduce the new induction principles, but still, a lot of this is just renaming and deprecating.</p>",
        "id": 467945562,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725560784
    },
    {
        "content": "<p>I'm thinking, maybe we could go about this in stages? First introduce the new definition using some temporary alias like <code>IsSuccLimit'</code>, with a docstring explaining the future rename. Then redefine <code>Cardinal.IsLimit</code> and <code>Ordinal.IsLimit</code> using it. Finally, perform the switch <code>IsSuccLimit' → IsSuccLimit</code> and <code>IsSuccLimit → IsSuccPrelimit</code> at once.</p>",
        "id": 467945806,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725560839
    },
    {
        "content": "<p>The initial PR that introduces the new definition should really not be touching any other files. That's scope creep in my view.</p>",
        "id": 467946180,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725560925
    },
    {
        "content": "<p>Or you can start with renaming the old definition.</p>",
        "id": 467953999,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1725562627
    },
    {
        "content": "<p>Ah, that's much cleaner. I'll make the PR for that soon.</p>",
        "id": 467971820,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725566652
    },
    {
        "content": "<p>Initial renaming PR: <a href=\"https://github.com/leanprover-community/mathlib4/pull/16518\">#16518</a></p>",
        "id": 468068112,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725599361
    },
    {
        "content": "<p>Somewhat on a related note, I'm having a lot of trouble doing the <code>succ x → x + 1</code> replacement on ordinals.</p>",
        "id": 468450082,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725731712
    },
    {
        "content": "<p>The main issue is that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.IsLimit#doc\">docs#Ordinal.IsLimit</a> is stated in terms of <code>succ</code>. So anything tangentially related to limit ordinals uses <code>succ</code> all over the place.</p>",
        "id": 468450384,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725731754
    },
    {
        "content": "<p>I could redefine <code>IsLimit</code>, but that's a wasted effort if we do it before <code>IsSuccLimit</code> drops</p>",
        "id": 468450571,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725731779
    },
    {
        "content": "<p>You can add <code>IsSuccLimit</code> first, if it's more convenient.</p>",
        "id": 468464965,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1725737458
    },
    {
        "content": "<p>Yeah, that's the idea. I am sort of expecting it to take a while for <code>IsSuccLimit</code> to be up and running though.</p>",
        "id": 468483195,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725749682
    },
    {
        "content": "<p>Never mind! That was quick</p>",
        "id": 469589536,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726128002
    },
    {
        "content": "<p>Now, here's a question. What's the design principle for <code>IsSuccLimit</code> and <code>IsSuccPrelimit</code>?</p>",
        "id": 469589634,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726128018
    },
    {
        "content": "<p>Do we duplicate all lemmas where either is applicable? Or do we only use the one that yields the strongest conclusion?</p>",
        "id": 469589710,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726128035
    },
    {
        "content": "<p>For instance, do we want both <code>IsSuccPrelimit ℵ₀</code> and <code>IsSuccLimit ℵ₀</code>?</p>",
        "id": 469589766,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726128050
    },
    {
        "content": "<p>I think the stronger one is enough</p>",
        "id": 469592035,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1726128520
    }
]