[
    {
        "content": "<p>Is the notion of a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>C</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(C_1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> field in Mathlib? I looked but didn't spot it (though I've overlooked other things!!)</p>\n<p>I believe the defn should read something like:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsC1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">},</span>\n<span class=\"w\">  </span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">IsHomogeneous</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>(see e.g. [Serre, \"Galois Cohomology\", II.3.2]) though of course I'm interested in phrasing suggestions... (assuming it isn't already available!) E.g. is it better to use <code>Fintype</code>s instead of <code>Fin n</code> for the <code>MvPolynomial</code>s?</p>",
        "id": 533016141,
        "sender_full_name": "George McNinch",
        "timestamp": 1754449202
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"486215\">George McNinch</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533016141\">said</a>:</p>\n<blockquote>\n<p>is it better to use <code>Fintype</code>s instead of <code>Fin n</code> for the <code>MvPolynomial</code>s?</p>\n</blockquote>\n<p>It's (probably) better to use <code>Fin n</code> in the definition, and subsequently <em>prove</em> that this implies the arbitrary fintype version</p>",
        "id": 533029415,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754459833
    },
    {
        "content": "<p>Btw I am pretty sure we do not have C1 fields, looks like a good contribution to mathlib <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 533029465,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754459871
    },
    {
        "content": "<blockquote>\n<p>It's (probably) better to use <code>Fin n</code> in the definition, and subsequently <em>prove</em> that this implies the arbitrary fintype version</p>\n</blockquote>\n<p>Aha - that definitely makes sense; thanks!</p>",
        "id": 533144064,
        "sender_full_name": "George McNinch",
        "timestamp": 1754498700
    },
    {
        "content": "<p>Perhaps defining Cr for general r would be potentially helpful.</p>",
        "id": 533190487,
        "sender_full_name": "Scott Carnahan",
        "timestamp": 1754521482
    },
    {
        "content": "<p>A possible reference is chapter 27 of Lorenz's Algebra II: <a href=\"https://link.springer.com/chapter/10.1007/978-0-387-72488-1_8\">https://link.springer.com/chapter/10.1007/978-0-387-72488-1_8</a><br>\n<a href=\"/user_uploads/3121/P0cw3-52wmH91rj0GpTl_xB7/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/P0cw3-52wmH91rj0GpTl_xB7/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1151x934\" src=\"/user_uploads/thumbnail/3121/P0cw3-52wmH91rj0GpTl_xB7/image.png/840x560.webp\"></a></div>",
        "id": 533640012,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1754819581
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533640012\">said</a>:</p>\n<blockquote>\n<p>A possible reference is chapter 27 of Lorenz's Algebra II </p>\n</blockquote>\n<p>Right; thanks.</p>\n<p>I think the largest question is \"what should be included\". Here is a surely-too-long list of results about C1 that would be nice to have formalized.</p>\n<p>First, results about \"which fields are C1\":</p>\n<ul>\n<li>algebraically closed fields are C1 (!)</li>\n<li>finite extension of C1 fields are C1</li>\n<li>finite fields are C1 (\"Chevalley-Warning\")</li>\n<li>the field of rational functions k(T) is C1 when k is alg. closed (\"Tsen's Theorem\")</li>\n<li>If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>n</mi><mi>r</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{nr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is \"the\" maximal unramified extension of a field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> which is complete under a discrete valuation with perfect residue field, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>K</mi><mrow><mi>n</mi><mi>r</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">K_{nr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is C1 (a result of Lang).</li>\n</ul>\n<p>I know monograph/text-book references for the first 4. The only references I know for the fifth are Lang's original paper, and a Bourbaki seminar report (Jaffard 1954). I haven't actually read the proof. So probably this fifth point is just aspirational for now.<br>\nI'm also not sure whether this fifth point is one of those results where one can get away with \"Henselian\" rather than requiring \"complete\".</p>\n<p>Second, applications of C1 should (?!) include:</p>\n<ul>\n<li>any Central Simple Algebra over a C1 field K is split (i.e. is isomorphic as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-algebra to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi mathvariant=\"normal\">Mat</mi><mo>⁡</mo></mrow><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>K</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\operatorname{Mat}_n(K)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mop\"><span class=\"mord mathrm\">Mat</span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mclose\">)</span></span></span></span> for some <code>n : PNat</code>)</li>\n<li>a quadratic form on a vector space of dimension <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≥</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">\\ge 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719em;vertical-align:-0.136em;\"></span><span class=\"mrel\">≥</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> over a C1 field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is isotropic</li>\n</ul>\n<p>I worry (?) a bit about the first one because (as far as I can tell) the \"reduced norm\" for a CSA isn't really developed yet. So that'll need to be done first.</p>\n<p>And all this so far avoids mention of Galois cohomology, where one should really prove</p>\n<ul>\n<li>if K is C1, then K has cohomological dimension &lt;=1.</li>\n</ul>\n<p>(This last bit sounds very complicated as a formalization task to me, so I'm just writing it down here to glare at...)</p>",
        "id": 533674104,
        "sender_full_name": "George McNinch",
        "timestamp": 1754857014
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"486215\">George McNinch</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533016141\">said</a>:</p>\n<blockquote>\n<p>I believe the defn should read something like:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsC1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">},</span>\n<span class=\"w\">  </span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">IsHomogeneous</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>So, I'd be happier to not \"fix a basis\" in giving this definition -- i.e. I believe I'd rather work with forms found in <code>SymmetricAlgebra k V</code>. Something like:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsCr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"o\">:</span><span class=\"kt\">Type</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">finRank</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SymmetricAlgebra</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">},</span>\n<span class=\"w\">  </span><span class=\"n\">SymmetricAlgebra</span><span class=\"bp\">.</span><span class=\"n\">IsHomogeneous</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"bp\">^</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>But it looks like there is currently no grading on <code>SymmetricAlgebra k V</code> -- i.e. <br>\n<code>SymmetricAlgebra.IsHomogeneous f d</code>. Isn't defined yet.</p>\n<p>I think (?) I saw a recent thread about more-or-less exactly this (i.e. grading on <code>SymmetricAlgebera</code>). Is someone working on this? Is there some reason to avoid this point-of-view?</p>\n<p>(added: really, I guess I'd be happiest working with forms in what I'd write on the blackboard as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo stretchy=\"false\">[</mo><mi>V</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">k[V]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mclose\">]</span></span></span></span>  by which I mean the synmmetric algebra of the dual of <code>V</code> -- i.e. on <code>V→ₗ[k] k</code>.)</p>\n<p>(added, again): Arguably my suggested redefinition goes against the spirit of the advice of <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span>, <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533029415\">here</a>, so maybe I'm mistaken about changing the definition. It just seems to me that the main things to which one wants to apply the C1 condition are typically given as \"forms on vector spaces\" (quadratic forms, reduced norms,...) and converting them to <code>MvPolynomials</code> to apply the condition seems clumsy (?).</p>\n<p>But at any rate, the question about homogeneous elements of <code>SymmetricAlgebra</code> seems significant whichever way the definition is given.</p>",
        "id": 533675388,
        "sender_full_name": "George McNinch",
        "timestamp": 1754858540
    },
    {
        "content": "<p>Great list of tasks/ideas! Would you mind revording these in a github issue on the mathlib4 repo? Because this zulip thread will be much harder to find + update compated to a checklist on github.</p>",
        "id": 533694489,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1754881133
    },
    {
        "content": "<p>I also wanted the symmetric algebra for some work in Lie theory, but ended up working with mvpoly.</p>",
        "id": 533694552,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1754881186
    },
    {
        "content": "<p>As far as I know the question of existence of a C_{3/2} field that is not C_1 is open, but perhaps we should allow fractional values of r.</p>",
        "id": 533700397,
        "sender_full_name": "Scott Carnahan",
        "timestamp": 1754886278
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"486215\">George McNinch</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533675388\">said</a>:</p>\n<blockquote>\n<p>the main things to which one wants to apply the C1 condition are typically given as \"forms on vector spaces\" (quadratic forms, reduced norms,...) and converting them to <code>MvPolynomials</code> to apply the condition seems clumsy (?).</p>\n</blockquote>\n<p>The point is that <code> ∀ (V:Type), [AddCommGroup V] → [Module k V] → [FiniteDimensional k V], ...</code> doesn't mean \"for all finite-dimensional <code>k</code>-vector space <code>V</code>, ...\" but \"for all <em>small</em> finite-dimensional <code>k</code>-vector space <code>V</code>, ...\". As it happens, all finite-dimensional <code>k</code>-vector space <code>V</code> are small, but that's something you can <em>prove</em> rather than something that comes out of the definition</p>",
        "id": 533707362,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754891669
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> is the canonical person to ask about grading</p>",
        "id": 533707404,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754891689
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> were you thinking about grading on symmetric algebra?</p>",
        "id": 533716916,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1754896123
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"486215\">@George McNinch</span> the grading on symmetric algebra will come via either of the two pathways:</p>\n<ol>\n<li>define symmetric tensor power (<a href=\"https://github.com/leanprover-community/mathlib4/pull/26192\">#26192</a>), and then map each to the symmetric algebra</li>\n<li>define homogeneous relation (<a href=\"https://github.com/leanprover-community/mathlib4/pull/27307\">#27307</a>), and show that the relation that is the kernel of TensorAlgebra -&gt; SymmetricAlgebra is homogeneous</li>\n</ol>",
        "id": 533720924,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754897548
    },
    {
        "content": "<p>Btw, a book that I really liked about these topics is <a href=\"https://catalogue.nla.gov.au/catalog/2482884\">Lectures on forms in many variables</a> by Marvin Greenberg.</p>\n<p>I read it well before being interested in formalization, but, at the time, I thought that it was great.</p>",
        "id": 533742740,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1754903903
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"630477\">Scott Carnahan</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533700397\">said</a>:</p>\n<blockquote>\n<p>As far as I know the question of existence of a C_{3/2} field that is not C_1 is open, but perhaps we should allow fractional values of r.</p>\n</blockquote>\n<p>So perhaps something like this (?):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsCr'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"bp\">≥</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">},</span>\n<span class=\"w\">  </span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">IsHomogeneous</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"o\">:</span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"o\">:</span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"o\">:</span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>(Or is there a smoother way to say \"non-negative rational\"?)</p>",
        "id": 533816319,
        "sender_full_name": "George McNinch",
        "timestamp": 1754925528
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533694489\">said</a>:</p>\n<blockquote>\n<p>Would you mind revording these in a github issue on the mathlib4 repo? Because this zulip thread will be much harder to find + update compated to a checklist on github.</p>\n</blockquote>\n<p>I will do that (later today I hope). Seems like a good suggestion.</p>",
        "id": 533816704,
        "sender_full_name": "George McNinch",
        "timestamp": 1754925663
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533707362\">said</a>:</p>\n<blockquote>\n<p>The point is that <code> ∀ (V:Type), [AddCommGroup V] → [Module k V] → [FiniteDimensional k V], ...</code> doesn't mean \"for all finite-dimensional <code>k</code>-vector space <code>V</code>, ...\" but \"for all <em>small</em> finite-dimensional <code>k</code>-vector space <code>V</code>, ...\". As it happens, all finite-dimensional <code>k</code>-vector space <code>V</code> are small, but that's something you can <em>prove</em> rather than something that comes out of the definition</p>\n</blockquote>\n<p>I see - by \"small\" one means something like \"in a fixed universe\"? </p>\n<p>(I see that I haven't been careful to write e.g. <code>(V : Type u)</code>...)</p>",
        "id": 533818818,
        "sender_full_name": "George McNinch",
        "timestamp": 1754926383
    },
    {
        "content": "<p>yes, that's what small means</p>",
        "id": 533818876,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754926407
    },
    {
        "content": "<p>I haven't read all of the context, but if you're quantifying over \"all fg modules\" or something like that then you need to be careful about universes</p>",
        "id": 533819013,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754926450
    },
    {
        "content": "<p>typically the constructor will quantify over Type u (same universe), and then there will be a theorem afterwards proving the same theorem for all Type v (different universe)</p>",
        "id": 533819079,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754926475
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533720924\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"486215\">George McNinch</span> the grading on symmetric algebra will come via either of the two pathways:</p>\n<ol>\n<li>define symmetric tensor power (<a href=\"https://github.com/leanprover-community/mathlib4/pull/26192\">#26192</a>), and then map each to the symmetric algebra</li>\n<li>define homogeneous relation (<a href=\"https://github.com/leanprover-community/mathlib4/pull/27307\">#27307</a>), and show that the relation that is the kernel of TensorAlgebra -&gt; SymmetricAlgebra is homogeneous</li>\n</ol>\n</blockquote>\n<p>RIght - that was the sense that I remember from the earlier thread. <br>\nI feel like 2. is important. More generally there should be a notion of \"homogeneous relation\" on \"graded rings\" for which the quotient is also \"graded\" and I don't quite see how to get that from the approach in 1.</p>\n<p>Which is not to diminish the importance of 1...</p>\n<p>I'm realizing I haven't looked at what is done for the exterior algebra, and that I should look more <br>\ncarefully at the PRs you indicate.</p>",
        "id": 533820664,
        "sender_full_name": "George McNinch",
        "timestamp": 1754927041
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"486215\">George McNinch</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533816704\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533694489\">said</a>:</p>\n<blockquote>\n<p>Would you mind revording these in a github issue on the mathlib4 repo? Because this zulip thread will be much harder to find + update compated to a checklist on github.</p>\n</blockquote>\n<p>I will do that (later today I hope). Seems like a good suggestion.</p>\n</blockquote>\n<p>Finally got this done. <a href=\"https://github.com/leanprover-community/mathlib4/issues/28320\"># C_r fields #28320</a></p>\n<p>(Hopefully I got the tone OK...)</p>",
        "id": 534078295,
        "sender_full_name": "George McNinch",
        "timestamp": 1755050267
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533029415\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"486215\">George McNinch</span> <a href=\"#narrow/channel/116395-maths/topic/C1.20fields.3F/near/533016141\">said</a>:</p>\n<blockquote>\n<p>is it better to use <code>Fintype</code>s instead of <code>Fin n</code> for the <code>MvPolynomial</code>s?</p>\n</blockquote>\n<p>It's (probably) better to use <code>Fin n</code> in the definition, and subsequently <em>prove</em> that this implies the arbitrary fintype version</p>\n</blockquote>\n<p>I agree with this entirely, but to add some more detail: It's often much more convenient to index everything in terms of <code>Fintype</code>s rather than <code>Fin n</code>, since <code>Fin n</code> comes with an additional ordering which is usually not relevant (eg in your context), all that matters is that it's indexed by some finite structure, and <code>{1,...,n}</code> is convenient informal shorthand for this. But there are exceptions, notably: </p>\n<ul>\n<li>if the <code>Fin n</code> structure actually is relevant (eg if you'll later do arithmetic with the indices), then you can't nicely use Fintype</li>\n<li>if you are quantifying over types, since this can introduce universe weirdness<br>\nIn your situation, the second exception applies, and Yaël's comment about the subsequent proof restores the <code>Fintype</code> version, so you get the benefits of that too</li>\n</ul>",
        "id": 534309196,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1755121692
    },
    {
        "content": "<p>one benefit of Fin n as we were just discussing at <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Tactic.20for.20polynomial.2Falgebra/with/534302226\">#mathlib4 &gt; Tactic for polynomial/algebra</a> is that you can write notation <code>name_poly_vars R[x,y,z]</code> so that you can use <code>x</code>, <code>y</code>, and <code>z</code> to refer to the indeterminates</p>",
        "id": 534309463,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755121839
    }
]