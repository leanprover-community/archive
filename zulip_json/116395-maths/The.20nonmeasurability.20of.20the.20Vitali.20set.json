[
    {
        "content": "<p>As as exercise in Lean, I formalized the definition of the Vitali set and proved that it is not (Lebesgue) measurable:</p>\n<p><a href=\"https://github.com/ctchou/my_lean/blob/main/MyLean/NonMeasurable.lean\">https://github.com/ctchou/my_lean/blob/main/MyLean/NonMeasurable.lean</a></p>\n<p>I'd appreciate any comments on my code.  The proof is basically the one in Wikipedia:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Vitali_set#Construction_and_proof\">https://en.wikipedia.org/wiki/Vitali_set#Construction_and_proof</a></p>\n<p>I am grateful to all who answered by questions; in particular:</p>\n<p><a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/A.20question.20about.20measure.20theory\">#new members &gt; A question about measure theory</a> <br>\n<a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/A.20question.20about.20ENNReal\">#new members &gt; A question about ENNReal</a></p>",
        "id": 489101788,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734284706
    },
    {
        "content": "<p>This is great! FYI the <code>at</code> clause can take multiple targets (including the goal) when rewriting / simplifying... so for example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_Icc</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_x1</span>\n<span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_Icc</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_y1</span>\n<span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_Icc</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>can be reduced to a single line:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_Icc</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_x1</span><span class=\"w\"> </span><span class=\"n\">h_y1</span><span class=\"w\"> </span><span class=\"bp\">‚ä¢</span>\n</code></pre></div>",
        "id": 489113254,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734295319
    },
    {
        "content": "<p>Thanks!  I didn't know about that syntax.  My file has been updated accordingly.</p>",
        "id": 489114941,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734296943
    },
    {
        "content": "<p>One other trivial comment: <code>vS_vT_surj</code> isn't strictly necessary, as you can use <code>Quotient.out</code> and <code>Quotient.out_eq</code> to define <code>vRep</code> and <code>vRep_spec</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">vRep</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">vT</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">out</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">vRep_spec</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">vT</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚ü¶</span><span class=\"n\">vRep</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">‚üß</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">out_eq</span>\n</code></pre></div>",
        "id": 489115370,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734297308
    },
    {
        "content": "<p>Thanks!  I didn't know about Quotient.out.  I think I'll keep Classical.choose to make the use of the axiom of choice manifest.</p>",
        "id": 489116949,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734298702
    },
    {
        "content": "<p>Your conclusion, <code> ¬¨ MeasurableSet vitali_set</code> only means that <code>vitali_set</code> is not Borel measurable, right? You would need <code>¬¨ NullMeasurableSet vitali_set</code> to state that it's not Lebesgue measurable.</p>",
        "id": 489212000,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1734348794
    },
    {
        "content": "<p>Note: we would usually spell <code>vitali_set</code> as <code>vitaliSet</code>.</p>",
        "id": 489212039,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1734348807
    },
    {
        "content": "<p>Thanks for pointing out this distinction which I was not aware of.  I've modified the comment to reflect your comment.  I've also changed <code>vitali_{set, union}</code> to <code>Vitali{Set,Union}</code> in the code.</p>\n<p>I need to look into how to prove <code>¬¨ NullMeasurableSet vitaliSet</code>.  In principle, the proof depends only on the monotonicity, translation invariance, and countable additivity of the measure.  So it should work for Lebesgue measure as well.  But whether it is easy to do so given the results currently in Mathlib is of course a different question.</p>",
        "id": 489348836,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734385218
    },
    {
        "content": "<p>Question:  The following page states:</p>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Measure/NullMeasurable.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Measure/NullMeasurable.html</a></p>\n<blockquote>\n<p>A set s : Set Œ± is called null measurable (MeasureTheory.NullMeasurableSet) if it satisfies any of the following equivalent conditions:<br>\n[...]<br>\nthere exists a measurable subset t ‚äÜ s such that t =·µê[Œº] s (in this case the latter equality means that Œº (s \\ t) = 0);</p>\n</blockquote>\n<p>Is there a theorem in Mathlib corresponding to the above statement directly?  I can't find one.</p>",
        "id": 489409592,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734413590
    },
    {
        "content": "<p>You can get there using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.NullMeasurableSet.exists_measurable_subset_ae_eq#doc\">docs#MeasureTheory.NullMeasurableSet.exists_measurable_subset_ae_eq</a> for the forward direction and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.NullMeasurableSet.congr#doc\">docs#MeasureTheory.NullMeasurableSet.congr</a> + <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasurableSet.nullMeasurableSet#doc\">docs#MeasurableSet.nullMeasurableSet</a> for the backward direction</p>",
        "id": 489415356,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1734417410
    },
    {
        "content": "<p>Thanks!  I was able to prove it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">nullmeasurable_measurable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NullMeasurableSet</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">volume</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚äÜ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">MeasurableSet</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">volume</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t_sub_s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t_m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t_eq_s</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">NullMeasurableSet</span><span class=\"bp\">.</span><span class=\"n\">exists_measurable_subset_ae_eq</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t_sub_s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t_m</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">ae_le_set</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">EventuallyEq</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">EventuallyEq</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"n\">t_eq_s</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>Lean's <code>apply?</code> mechanism is really helpful.</p>",
        "id": 489586256,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734476326
    },
    {
        "content": "<p>Nice! This reminds me of the \"Division Paradox\" of Mycielski and Sierpi≈Ñski, that if you lose the Axiom of Choice and assume that every set of reals is measurable, then the cardinality of the Vitali set <em>exceeds</em> (!?!) the cardinality of the Reals. There's a nice writeup of Taylor and Wagon in the Monthly from a few years ago: <a href=\"https://stanwagon.com/public/TheDivisionParadoxTaylorWagon.pdf\">https://stanwagon.com/public/TheDivisionParadoxTaylorWagon.pdf</a>... (Could be fun to formalize that too?)</p>",
        "id": 489771050,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1734532600
    },
    {
        "content": "<p>Hmm, is that <code>id</code> in the last code fragment by <span class=\"user-mention\" data-user-id=\"110637\">@Ching-Tsun Chou</span> what I think it is?<br>\nIf yes, then it can be removed. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> </p>\n<p>Sometimes automatic hints contain unnecessary <code>id</code>, I believe.</p>",
        "id": 489777510,
        "sender_full_name": "IlmƒÅrs Cƒ´rulis",
        "timestamp": 1734534392
    },
    {
        "content": "<p>Apologies for interrupting / jumping in, probably unnecessary <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 489777701,
        "sender_full_name": "IlmƒÅrs Cƒ´rulis",
        "timestamp": 1734534448
    },
    {
        "content": "<p>No, you're correct. Last line should probably be written as <code>t_eq_s.symm.le</code></p>",
        "id": 489780003,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734535027
    },
    {
        "content": "<p>Thanks!  <code>t_eq_s.symm.le</code> doesn't quite work, but <code>exact t_eq_s.symm.le</code> does.</p>",
        "id": 489820232,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734547356
    },
    {
        "content": "<p>BTW, I think I know how to prove <code>¬¨ (NullMeasurableSet vitaliSet volume)</code>, from which<code>¬¨ (MeasurableSet vitaliSet)</code> follows.  I'm working on it.</p>",
        "id": 489820477,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734547469
    },
    {
        "content": "<p>I have enhanced the proof to prove <code>¬¨ (NullMeasurableSet vitaliSet volume)</code>:</p>\n<p><a href=\"https://github.com/ctchou/my_lean/blob/main/MyLean/NonMeasurable.lean\">https://github.com/ctchou/my_lean/blob/main/MyLean/NonMeasurable.lean</a></p>",
        "id": 489871004,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734572112
    },
    {
        "content": "<p>Regarding the comment by <span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> above: Is it even possible to reason meaningfully in Lean from  an assumption that contradicts the axiom of choice (AC), which is an axiom in Lean?  After all, ex falso quodlibet.  It does not seem easy to keep track of whether a Lean proof ever uses AC.</p>",
        "id": 489872699,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734573427
    },
    {
        "content": "<p>It is easy with <code>#print axioms</code>, but yeah, this doesn't seem like a well-supported path to go down</p>",
        "id": 489893396,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734588957
    },
    {
        "content": "<p>In particular because of the fact that the law of excluded middle is proved with AC</p>",
        "id": 489900531,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1734593032
    },
    {
        "content": "<p>I just checked: <a href=\"http://Real.mk\">Real.mk</a> depends on Classical.choice.  So, to do without AC, a lot of the theories will need to be redone even before one can start talking about measures.</p>",
        "id": 489901164,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734593398
    },
    {
        "content": "<p>I think that if you want to do mathematics without AC, but if  you do want to assume LEM, then Lean+mathlib is a currently a poor choice for a foundational system to do this. We assume LEM everywhere, and LEM is proved via AC, so already AC is basically impossible to extract the moment you're thinking about the real numbers.</p>",
        "id": 489967942,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734615903
    },
    {
        "content": "<p>I updated my proof:</p>\n<p><a href=\"https://github.com/ctchou/my_lean/blob/main/MyLean/NonMeasurable.lean\">https://github.com/ctchou/my_lean/blob/main/MyLean/NonMeasurable.lean</a></p>\n<p>The previous version was a bit clumsy and did not take full advantage of the results already in mathlib.  The new version does a better job.</p>\n<p>As far as I am concerned, this is the end of this exercise.</p>",
        "id": 490269117,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1734759115
    },
    {
        "content": "<p>I just saw that this in part of the 1000+ theorems list. Could/should this go into the Archive, for example? (Of course, it would have to be polished a bit to make it there.)</p>",
        "id": 493137957,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1736640125
    },
    {
        "content": "<p>Sorry, I have not been following the 1000+ theorem discussion closely and I do not know what \"Archive\" is.  Could you give me some pointers?</p>",
        "id": 493138910,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1736641061
    },
    {
        "content": "<p>Sorry for being unclear. The mathlib archive is a part of the mathlib repository (namely, the <code>Archive</code> directory). It is suitable for results which don't contribute to general theory, but are nicely polished (and are meant to show mathlib and its tools).</p>\n<p>The 1000+ project is pretty new (and a bit experimental). See e.g. <a href=\"https://leanprover-community.github.io/1000.html\">this webpage</a> or <a href=\"#narrow/channel/113488-general/topic/1000-plus.20theorems.20project\">this zulip thread</a>.</p>",
        "id": 493139470,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1736641582
    },
    {
        "content": "<p>Thanks for the explanation! Is there an example PR for Archive that I can follow?</p>",
        "id": 493139887,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1736642030
    },
    {
        "content": "<p>I don't have a clear distinction, but I also think that it can go under <a href=\"https://github.com/leanprover-community/mathlib4/tree/master/Counterexamples\">Counterexamples</a> (prove negation of \"all sets are measurable\").</p>",
        "id": 493140628,
        "sender_full_name": "Seewoo Lee",
        "timestamp": 1736642737
    },
    {
        "content": "<p>It seems to me that <code>mathlib4/Counterexamples</code> is more appropriate.  I'll ask for write-access to non-master branches and start working on a PR.</p>",
        "id": 493459759,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1736806096
    },
    {
        "content": "<p>PR: <a href=\"https://github.com/leanprover-community/mathlib4/pull/20722\">https://github.com/leanprover-community/mathlib4/pull/20722</a></p>",
        "id": 493482206,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1736815098
    },
    {
        "content": "<p>I've left a bunch of comments. I think there's lots of potential improvement in terms of both style and line count.</p>",
        "id": 494688789,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737327344
    },
    {
        "content": "<p>Thanks!  I'll take a look and make the appropriate fixes.</p>",
        "id": 494709537,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737342808
    },
    {
        "content": "<p>I have a general comment: It seems that most of the comments I received stem from the fact that I enumerated the measure theoretic results needed in the proof at the beginning.  As I explained in a comment in the code, I did so because I want to make it crystal-clear what measure theoretic results are actually used.  The measure theory part of mathlib is huge and contains many advanced results.  But the non-measurability of the Vitali set rely on only a small number of the properties of measurability and the volume measure.  I think this deserves to be called out.  This way even a reader who is not familiar with mathlib's measure theory can understand the proof. I think it is worth something to know exactly which properties of measurability and measure \"cause\" the Vitali set to be non-measurable.</p>",
        "id": 494711186,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737344092
    },
    {
        "content": "<p>It is very unusual to show non-dependencies the way you do in the PR.  Can you maybe use <code>assert_not_exists</code> to ensure that certain declarations are not present?  That would be more idiomatic.</p>",
        "id": 494744397,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1737361054
    },
    {
        "content": "<p>I agree with the other reviewers that re-stating just the results you use is brittle: you don't have a guarantee that only these are used, and somebody else might come and delete them again. However, I think there's a better way to accomplish the same.</p>\n<p>I would prove a slightly more general result first: for any measure which is translation-invariant (and whatever particular properties of <code>volume</code>, i.e. the Lebesgue measure, you're using), there is a non-nullmeasurable set (namely the Vitali set). Then, you can apply this to the Lebesgue measure. What do you think?</p>",
        "id": 494774379,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1737369369
    },
    {
        "content": "<p>I think focusing on \"does this use abstract results\" is misleading. Asking \"does this use any special properties of the Lebesgue measure\" is reasonable to ask - proving a more general theorem is one way to make sure the answer is \"only these ones\".</p>",
        "id": 494774608,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1737369445
    },
    {
        "content": "<p>I checked: as far as I can see, your result should work for all translation-invariant measures on the circle, right?</p>",
        "id": 494776418,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1737369954
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110637\">@Ching-Tsun Chou</span> the point of the Archive and Counterexamples folders is to demonstrate the power of mathlib (see <a class=\"message-link\" href=\"/#narrow/channel/116395-maths/topic/The.20nonmeasurability.20of.20the.20Vitali.20set/near/493139470\">#maths &gt; The nonmeasurability of the Vitali set @ üí¨</a>  for example), not to show how few results we can get away with. If your vision of how to present this result is different then maybe the Counterexamples folder is not a good fit for your vision and you would be better off hosting the result in your own repository?</p>",
        "id": 494826527,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1737383821
    },
    {
        "content": "<p>I started this proof to learn Lean and to have some fun.  I did not originally intend to include my proof in mathlib.  Someone suggested above that I add the proof to mathlib, which is why I created the PR.  Now it looks like it will take more efforts to pass the PR review process than I want to spend.  I think the best thing for me to do is to create a stand-alone repo containing my proof and add it to <a href=\"https://reservoir.lean-lang.org\">Reservoir</a>.  What do you think?</p>",
        "id": 495170740,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737505493
    },
    {
        "content": "<p>You can also label your PR with the \"help-wanted\" or \"please-adopt\" labels, then somebody might come along and finish your PR. If that's something you are comfortable with!</p>",
        "id": 495256021,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1737544177
    },
    {
        "content": "<p>I could certainly imagine spending some time polishing it.</p>",
        "id": 495256052,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1737544187
    },
    {
        "content": "<p>I added the label \"please-adopt\".  Feel free to work on it.  Personally I want to spend my \"Lean time\" on learning about Lean and formalization in Lean right now.</p>",
        "id": 495378834,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737582120
    },
    {
        "content": "<p>I'll gladly take this over. I think there's a lot of improvements left on the table.</p>",
        "id": 495380589,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737582853
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hern√°ndez</span> I picked some of the lower-hanging fruit - but I'm done for today, so feel free to continue!</p>",
        "id": 495385106,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1737584883
    },
    {
        "content": "<p>Question. A null-measurable set is just a measurable set in the completion of a measure space, right? Do the measures on both measure spaces coincide?</p>",
        "id": 495417950,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737603756
    },
    {
        "content": "<p>I'm no expert in measure theory, but I think so.</p>",
        "id": 495418101,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737603867
    },
    {
        "content": "<p>Do we have this result? It should give a much simpler proof of <code>biUnion_volume</code>.</p>",
        "id": 495418162,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737603922
    },
    {
        "content": "<p>I'm not sure that is the source of the complexity of the proof of biUnion_volume.  Note that the proof already uses the same measure <code>volume</code> throughout.  The \"meat\" of the proof is to lift the mathlib theorem measure_biUnion from using MeasurableSet to using NullMeasurableSet in its antecedents.</p>",
        "id": 495420220,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737605344
    },
    {
        "content": "<p>Let <code>volume'</code> be the measure in the null-measurable space. Then we already know that the <code>volume'</code> of the countable union of pairwise disjoint null-measurable sets is the sum of the <code>volume'</code>s. If <code>volume = volume'</code> then we're immediately done.</p>",
        "id": 495420404,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737605479
    },
    {
        "content": "<p>I'm not sure the following statement is an existing theorem in mathlib:<br>\n \"the¬†<code>volume'</code>¬†of the countable union of pairwise disjoint null-measurable sets is the sum of the¬†<code>volume'</code>\"</p>",
        "id": 495420794,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737605762
    },
    {
        "content": "<p>Said statement is just <code>measure_iUnion</code> on the corresponding measure.</p>",
        "id": 495422196,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737606689
    },
    {
        "content": "<p><code>measure_iUnion</code> uses <code>MeasurableSet</code>, not <code>NullMeasurableSet</code>, in its statement.</p>",
        "id": 495425451,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737609061
    },
    {
        "content": "<p>The whole point of the lemma biUnion_volume is to replace the former with the latter.</p>",
        "id": 495425517,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737609115
    },
    {
        "content": "<p>Otherwise you can't prove that vitaliSet is not a NullMeasurableSet.  You can only prove that it is not a MeasurableSet.</p>",
        "id": 495425645,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737609187
    },
    {
        "content": "<p>The point I'm making is that <code>NullMeasurableSet</code> is just a special case of <code>MeasurableSet</code>, namely, for the completion of the original measure space.</p>",
        "id": 495426818,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737610001
    },
    {
        "content": "<p>I understand that.  All I can say is that I could not find in mathlib a version of <code>measure_biUnion</code> that uses NullMeasurableSet instead of MeasurableSet in its statement.</p>",
        "id": 495429124,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737611574
    },
    {
        "content": "<p>Without such a result, I can't prove anything about NullMeasurableSet.</p>",
        "id": 495429159,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737611609
    },
    {
        "content": "<p>There is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Measure/NullMeasurable.html#MeasureTheory.measure_iUnion%E2%82%80\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Measure/NullMeasurable.html#MeasureTheory.measure_iUnion%E2%82%80</a></p>",
        "id": 495431539,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1737613154
    },
    {
        "content": "<p>I missed that.  It should make the proof of the lemma biUnion_volume much simpler.</p>",
        "id": 495433649,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737614435
    },
    {
        "content": "<p>One thing I struggled with is to choose between iUnion and biUnion in the definitions.  I opted for the latter for reasons I can't remember now.  That may or may not have been a mistake.</p>",
        "id": 495433878,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737614581
    },
    {
        "content": "<p>I think <code>biUnion</code> is preferred when you're dealing with sets. I find <code>iUnion</code> more comfortable, but that's mostly up to preference as well.</p>",
        "id": 495434011,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737614643
    },
    {
        "content": "<p>(particularly, <code>biUnion</code> is badly behaved if you don't have a complete lattice)</p>",
        "id": 495434048,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737614670
    },
    {
        "content": "<p>Another math question. Do measurable embeddings preserve null-measurable sets?</p>",
        "id": 495435083,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737615291
    },
    {
        "content": "<p>i.e. is there a null-measurable version of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasurableEmbedding.measurableSet_image#doc\">docs#MeasurableEmbedding.measurableSet_image</a> ?</p>",
        "id": 495435112,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737615315
    },
    {
        "content": "<p>I don't know enough measure theory to know that.  Time to consult a real expert.</p>",
        "id": 495438800,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737617189
    },
    {
        "content": "<p><a href=\"https://mathoverflow.net/questions/298220/measurable-functions-with-non-measurable-image\">This mathoverflow question</a> seems relevant.</p>",
        "id": 495439135,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1737617329
    },
    {
        "content": "<p>I'm asking because I'm interested in seeing if there's a simpler way of proving that null-measurable sets are translation-invariant</p>",
        "id": 495439367,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737617411
    },
    {
        "content": "<p>If a measure is translation invariant then translation preserves the measure of any set</p>",
        "id": 495444350,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1737619577
    },
    {
        "content": "<p>I think <code>MeasurableEquiv</code>s should map null-measurable sets to null-measurable sets. Any null-measurable set <code>s</code> can be bounded by two measurable sets <code>t</code> and <code>u</code> of the same measure. Which means <code>f '' s</code> is bounded by <code>f '' t</code> and <code>f '' u</code>, also with the same measure. So it's null-measurable.</p>",
        "id": 495531788,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737647623
    },
    {
        "content": "<p>This should give a simpler proof of the fact the translation of a Lebesgue measurable set is Lebesgue measurable.</p>",
        "id": 495531981,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737647672
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/116395-maths/topic/The.20nonmeasurability.20of.20the.20Vitali.20set/near/495531788\">said</a>:</p>\n<blockquote>\n<p><code>MeasurableEquiv</code>s should map null-measurable sets to null-measurable sets</p>\n</blockquote>\n<p>How so? <code>MeasurableEquiv</code> preserves the œÉ-algebra, but says nothing about the measures.</p>",
        "id": 495568770,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1737659387
    },
    {
        "content": "<p>I think there may be some miscommunication here.  I don't think <span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hern√°ndez</span> was not asking whether the the volume measure is invariant under translation (it is, without any preconditions, as stated in the lemma shift_volume in my proof).  I think Violeta was asking whether there is a simpler proof that a NullMeasurableSet is still a NullMeasurableSet after translation, which is lemma shift_nullmeasurable in my proof, whose proof is not long but not trivial either.</p>",
        "id": 495576892,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1737662659
    },
    {
        "content": "<p>Yeah, I'm basically trying to find the appropriate generalization instead, so that <code>shift_volume</code> can be made into a one-liner special case of it.</p>",
        "id": 495581484,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1737664732
    },
    {
        "content": "<p>Have some free time again. I'll try to prove the <code>MeasurableEquiv</code> result I mention and PR it (if it's even true as I expect!)</p>",
        "id": 499356374,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739407878
    },
    {
        "content": "<p>Stuck on an auxiliary lemma I'm not sure is true. If <code>f : Œ± ‚âÉ·µê Œ±</code> and <code>s =·∂†[ae Œº] t</code>, does it follow that <code>f '' s =·∂†[ae Œº] f '' t</code>?</p>",
        "id": 499386826,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739427318
    },
    {
        "content": "<p>Oh wait, a <code>MeasurableEquiv</code> doesn't actually have to preserve measures, does it? I'm pretty confused.</p>",
        "id": 499387165,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739427518
    },
    {
        "content": "<p>For context this is what I'm trying to prove</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MeasurableSpace</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œº</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ·µê</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NullMeasurableSet</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">Œº</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NullMeasurableSet</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Œº</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>This is of course true when <code>f</code> is a translation in <code>‚Ñù‚Åø</code>, but I'm trying to generalize it to whatever the appropriate generality is.</p>",
        "id": 499387369,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739427636
    },
    {
        "content": "<p>What is <code>Œ± ‚âÉ·µê Œ±</code>?</p>",
        "id": 499391151,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1739429766
    },
    {
        "content": "<p>Writing the image as the preimage of the inverse and using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.NullMeasurable#doc\">docs#MeasureTheory.NullMeasurable</a> you should get there easily.</p>",
        "id": 499400328,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1739433579
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110637\">Ching-Tsun Chou</span> <a href=\"#narrow/channel/116395-maths/topic/The.20nonmeasurability.20of.20the.20Vitali.20set/near/499391151\">said</a>:</p>\n<blockquote>\n<p>What is <code>Œ± ‚âÉ·µê Œ±</code>?</p>\n</blockquote>\n<p>It is the type of measurable equivalences between <code>Œ±</code> and itself, see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasurableEquiv#doc\">docs#MeasurableEquiv</a></p>",
        "id": 499401886,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1739433986
    },
    {
        "content": "<p>I see.  Thanks!</p>",
        "id": 499411291,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1739436489
    },
    {
        "content": "<p>Etienne, I am pretty sure the theorem is false</p>",
        "id": 499411335,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1739436505
    },
    {
        "content": "<p>I don't have time to write a counterexample, but basically find a measure <code>mu</code> and a measurable automorphism <code>f</code> such that <code>mu comp f</code> isn't absolutely continuous wrt <code>mu</code></p>",
        "id": 499411830,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1739436633
    },
    {
        "content": "<p>This has to exist</p>",
        "id": 499411868,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1739436646
    },
    {
        "content": "<p>What about the statement \"functions that preserve measure preserve null-measurable sets\". Is that true? Do we have some nice way of writing that down?</p>",
        "id": 499412273,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739436762
    },
    {
        "content": "<p>Yes, definitely true</p>",
        "id": 499412479,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1739436813
    },
    {
        "content": "<p>Even if the theorem is true, I'm not sure how it can be used in the proof.  The fact that translation preserves the measure is critical in the proof, because the contradiction in the proof boils down to the fact that there is not an r ‚àà ENNReal such that countably infinitely many  r's can sum to a finite positive real.  If your function f can change the measure, then you can't make this argument.  (For example, your f may scale the measure so that the infinite sum converges to a positive real.)</p>",
        "id": 499413919,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1739437167
    },
    {
        "content": "<p>I'm just trying to generalize one of the auxiliary lemmas</p>",
        "id": 499414608,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739437318
    },
    {
        "content": "<p>I thought it'd be a much more general result but it seems I was slightly wrong</p>",
        "id": 499414737,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739437340
    },
    {
        "content": "<p>Ah my bad I thought <code>NullMeasurable</code> meant preimages of null measurable was null measurable, but it is only for measurable sets.</p>",
        "id": 499415067,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1739437420
    },
    {
        "content": "<p>I managed to prove this</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MeasurableSpace</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œº</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">nullMeasurableSet_image_of_measure_eq</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MeasurableEmbedding</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Œº</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œº</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NullMeasurableSet</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">Œº</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">NullMeasurableSet</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Œº</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hts</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hts'</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"bp\">.</span><span class=\"n\">exists_measurable_subset_ae_eq</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">union_diff_cancel</span><span class=\"w\"> </span><span class=\"n\">hts</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">image_union</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"bp\">.</span><span class=\"n\">measurableSet_image'</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">nullMeasurableSet</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of_null</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">rwa</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">union_ae_eq_right</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_eq_self_of_subset_right</span><span class=\"w\"> </span><span class=\"n\">hts</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ae_eq_comm</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 499585731,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739481519
    },
    {
        "content": "<p>I imagine this proof can be golfed down a bit by someone more familiar with the API.</p>",
        "id": 499585758,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739481531
    },
    {
        "content": "<p>I have a few questions:</p>\n<ul>\n<li>Is there some other \"more canonical\" way to write down condition <code>H</code>?</li>\n<li>Can this be made into an iff? </li>\n<li>Does this work with the preimage too? (I don't think so, but just checking)</li>\n</ul>",
        "id": 499588354,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739482470
    },
    {
        "content": "<p>(Also, a better name for this theorem would be nice)</p>",
        "id": 499589118,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739482713
    },
    {
        "content": "<p>Nitpick: The variable <code>s</code> is not declared in the theorem.</p>",
        "id": 499597089,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1739485616
    },
    {
        "content": "<p>whoops, fixed my mwe</p>",
        "id": 499598236,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1739486076
    }
]