[
    {
        "content": "<p>When <code>R</code> is a ring, <code>IsCancelMulZero R</code> is equivalent to<code>NoZeroDivisors R</code> (<a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Ring/Basic.html#isCancelMulZero_iff_noZeroDivisors\">isCancelMulZero_iff_noZeroDivisors</a>). But when <code>R</code> is only a semiring, <code>NoZeroDivisors R</code> is implied by <code>IsCancelMulZero R</code><br>\n  (although I guess this is not typeclass inferrable, see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsLeftCancelMulZero.to_noZeroDivisors#doc\">docs#IsLeftCancelMulZero.to_noZeroDivisors</a>).</p>\n<p>But I'm not aware of a proof that <code>IsCancelMulZero R</code> is implied by <code>NoZeroDivisors R</code> when R is just a semiring, or a counterexample that shows this is not true in general - does anyone know of a proof either way?</p>",
        "id": 562327698,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1765134257
    },
    {
        "content": "<p>here's a counterexample:<br>\nRing with three elements <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo separator=\"true\">,</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">0, 1, 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.1944em;\"></span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span></span></span></span>, addition is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>min</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\min(a+b,2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">min</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">)</span></span></span></span> and multiplication is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>min</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mi>b</mi><mo separator=\"true\">,</mo><mn>2</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\min(ab,2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">min</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">ab</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">2</span><span class=\"mclose\">)</span></span></span></span>, this is a semiring with no zero divisors but does not have cancellative multiplication by nonzero elements.</p>",
        "id": 562330119,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1765136416
    },
    {
        "content": "<p>Here's an example with cancellative addition: ℕ × ℕ with componentwise addition, and multiplication defined by (a,b)(c,d)=(ac+bd,ad+bc). You can think of this as a subsemiring of ℤ[X]⧸⟨X²-1⟩. ac+bd=ad+bc=0 only has solutions with a=b=0 or c=d=0 in ℕ, so this semiring has no zero divisors, but (1,1)(1,0)=(1,1)(0,1)=(1,1).</p>",
        "id": 562331497,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1765138172
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/116395-maths/topic/IsCancelMulZero.20and.20NoZeroDivisors.20for.20semirings/near/562331497\">said</a>:</p>\n<blockquote>\n<p>ac+bd=ad+bc=0 has only the solution a=b=c=d=0 in ℕ</p>\n</blockquote>\n<p>Surely it has the solution a=1, b=c=d=0?</p>",
        "id": 562333254,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1765138891
    },
    {
        "content": "<p>well of course that doesn't give you anything</p>",
        "id": 562333704,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1765138993
    },
    {
        "content": "<p>surely instead what we wanted is ac+bd=ad+bc=0 has only the two classes of solutions a=b=0 and c=d=0 in ℕ</p>",
        "id": 562333830,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1765139026
    },
    {
        "content": "<p>Thanks, corrected. The easiest way to prove this is by noticing (a+b)(c+d)=(ac+bd)+(ad+bc).</p>",
        "id": 562335830,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1765139505
    }
]