[
    {
        "content": "<p>What is the correct generality to talk about unramified extensions of fields?</p>\n<p>Here are some uses which I could imagine.</p>\n<p>A common usage of the word mathematically: if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi mathvariant=\"normal\">/</mi><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">L/K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is an extension of number fields then we talk about <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mi mathvariant=\"normal\">/</mi><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">L/K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> being unramified at a maximal ideal of the integers of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">L</span></span></span></span>, and also of an extension being unramified at a maximal ideal of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> (meaning it is unramified at every maximal ideal of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">L</span></span></span></span> lying above it). One could of course also do the same thing for general global fields (although now perhaps there are two ways to think about it -- one is unramified at a place of the field, which is perhaps an equivalence class of valuations, but one could also use the AKLB set-up where A is a \"ring of integers\" so you throw away finitely many valuations, and now you have to prove that the concept of being unramified at a place is independent of the choices, and you also have to prove some kind of Ostrowski's theorem to show that this even makes sense).</p>\n<p>Then there's the correpsonding local story, and here I'm not entirely sure what generality one should work in. Does K have to be discretely valued? Does the residue field have to be perfect? For a nonarch local field there's a unique unramified extension of degree n for n any positive integer. In what generality is it true that there's an equivalence of categories \"unramified extensions of K = arbitrary/separable extensions of k\" where k is the residue field of K? </p>\n<p>Right now it seems that mathlib only has stuff like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.IsUnramifiedAt#doc\">docs#Algebra.IsUnramifiedAt</a> which doesn't apply to anything above because it only works at the integer ring level. The thing about number fields and local fields is that they all have \"canonical integer rings\" in them (as opposed to char p global fields where we seem to have a choice depending on which valuation we decree is infinity).</p>\n<p>Presumably one way to treat all of this is via Witt vectors. IIRC Fontaine spent his life thinking about precisely this generality: k is an arbitrary perfect field of char p, and K is (isomorphic to) a finite extension of Frac(W(k)). Is this the correct generality for an \"unramified\" theory in the local case? </p>\n<p>Do we have that if k is a perfect field of char p and A is an Artin local ring with residue field k then there's a unique local ring hom W(k)-&gt;A inducing the identity on residue fields?</p>",
        "id": 523376647,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749592403
    },
    {
        "content": "<p>Adding an <code>Algebra (FractionRing R) (FractionRing A)</code> in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25684\">#25684</a>, which would help with a L/K -&gt; Frac(W(L))/Frac(W(K)) situation.</p>",
        "id": 523399729,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749607289
    },
    {
        "content": "<p>Eric pointed out that we also have a somewhat overlapping definition of this in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25611\">#25611</a>, which also has the FiniteDimensional result.</p>",
        "id": 523402349,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749609277
    },
    {
        "content": "<p>Probably one could extend that to make a statement about <code>Module.finrank</code></p>",
        "id": 523402421,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749609335
    },
    {
        "content": "<p><code>&lt;nitpicking&gt;</code>a field has only one maximal ideal, and it is not that thing you have in mind<code>&lt;/nitpicking&gt;</code></p>",
        "id": 523494635,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749626341
    },
    {
        "content": "<p>There is a definition of ramification for any extension of valued fields. The value group (the correct one) doesn't change. For finite extensions, the index of value groups is finite and is the ramification index.</p>",
        "id": 523494826,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749626413
    },
    {
        "content": "<p>The other definition is “ramification of a morphism of schemes (or rings)”, which — in your case — will require to introduce the rings of integers, where you can choose between “<a href=\"https://stacks.math.columbia.edu/tag/00UT\">formally unramified</a>” and  “<a href=\"https://stacks.math.columbia.edu/tag/00UT\">(G)-ramified</a>” depending whether you wish to add a finite type/finite presentation hypothesis.</p>",
        "id": 523495596,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749626702
    },
    {
        "content": "<p>For function fields <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>, there is no ring of integers, but there is a base field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> (the algebraic closure of the prime field in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>) and a scheme <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> (the unique proper regular <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>-curve with function field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>). In your case, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> will be finite and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> will be smooth and geometrically integral over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>.</p>",
        "id": 523496029,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749626861
    },
    {
        "content": "<p>So if we stick to finite extensions of valued fields what is the classification of unramified extensions in this setting? Presumably it doesn't exist because you didn't even assume completeness? I think my question has become \"I want to prove that for a finite extension of Qp, finite unramified extensions of it are the same as finite extensions of the residue field. What theorem would bourbaki prove such that this is a corollary?\"</p>",
        "id": 523550128,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749644967
    },
    {
        "content": "<p>Or perhaps \"for what valued fields is it the case that the category of finite unramified extensions is naturally equivalent to the category of finite or perhaps finite separable extensions of the residue field?\"</p>",
        "id": 523550524,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749645074
    },
    {
        "content": "<p>If you want an analogous classification (assuming the residue field is perfect) then you would need to assume Henselianity of the valuation of the base.</p>",
        "id": 523555519,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749646642
    },
    {
        "content": "<p>Math question: does this statement parse: \"Any unramified extension of Q^unr_p is isomorphic to Q^unr_p\"?</p>",
        "id": 523555584,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749646661
    },
    {
        "content": "<p>Yes I think so, and an even stronger statement is probably true: any finite (or even algebraic) unramified extension has degree 1. I am unclear about whether transcendental extensions can/should be unramified or whether it's a predicate on algebraic extensions</p>",
        "id": 523555874,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749646753
    },
    {
        "content": "<p>OK, at least then that answers the \"do we have to assume completeness\" question -- in the negative, extrapolating to posing the same question about Q_p bar.</p>",
        "id": 523555975,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749646788
    },
    {
        "content": "<p>Yeah, Henselianity is sufficient. Then there's the question of inseparable extensions of the residue field.</p>",
        "id": 523556069,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749646812
    },
    {
        "content": "<p>For example: take some prolongation of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic valuation to <span class=\"tex-error\">$$\\bar\\mathbb{Q}$$</span>, consider its decomposition group in the absolute Galois group of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>, take the invariant field of this decomposition group, call it <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>, and consider the restriction of this valuation to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>. This will be Henselian, and you get exactly the same classification of unramified extensions over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> as you would for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>.</p>",
        "id": 523556504,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749646923
    },
    {
        "content": "<p>(In Mathlib, nothing imports Mathlib.RingTheory.Henselian currently)</p>",
        "id": 523556730,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749646984
    },
    {
        "content": "<p>If Q^unr_p is the uncompleted extension then I guess it's still (strictly) Henselian (it being a union of complete rank 1 extensions) even though it's not complete</p>",
        "id": 523556849,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749647015
    },
    {
        "content": "<p><del>It's not strictly Henselian (in the sense that its ring of integers is not a strictly Henselian local ring) since the residue field is not separably closed but it is Henselian.</del></p>",
        "id": 523557064,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749647072
    },
    {
        "content": "<p><del>Or maybe you have a different definition of \"strict Henselian\"?</del></p>",
        "id": 523557133,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749647090
    },
    {
        "content": "<p>We're abusing notation here a little bit, right? We should be discussing O[K] instead when talking about Henselian, right?</p>",
        "id": 523557164,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749647098
    },
    {
        "content": "<p>oh wait, the maximal unramified extension, yes, its strict henselian</p>",
        "id": 523557368,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749647149
    },
    {
        "content": "<p>sorry</p>",
        "id": 523557370,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749647150
    },
    {
        "content": "<p>Some nice TODOs from Johan from 4 years ago: <a href=\"https://gist.github.com/jcommelin/47d94e4af092641017a97f7f02bf9598\">https://gist.github.com/jcommelin/47d94e4af092641017a97f7f02bf9598</a></p>",
        "id": 523557542,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1749647196
    },
    {
        "content": "<p>Yeah I think we've established that we should be developing a theory for valued fields and so we always have the valuation subring, and it seems (cf Antoine's nit) that mathematicians are very good at applying predicates to the field when they really mean the ring</p>",
        "id": 523557608,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749647210
    },
    {
        "content": "<p>The book \"Valued Fields\" is a pretty good source: <a href=\"https://link.springer.com/book/10.1007/3-540-30035-X\">https://link.springer.com/book/10.1007/3-540-30035-X</a></p>",
        "id": 523557964,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749647304
    },
    {
        "content": "<p>and it's short!</p>",
        "id": 523558045,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749647324
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/116395-maths/topic/what.20is.20an.20unramified.20extension.3F/near/523555584\">said</a>:</p>\n<blockquote>\n<p>Math question: does this statement parse: \"Any unramified extension of Q^unr_p is isomorphic to Q^unr_p\"?</p>\n</blockquote>\n<p>But I think <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi><mrow><mi mathvariant=\"normal\">u</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">r</mi></mrow></msubsup><mo>⫋</mo><msubsup><mover accent=\"true\"><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"true\">^</mo></mover><mi>p</mi><mrow><mi mathvariant=\"normal\">u</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">r</mi></mrow></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p^{\\mathrm{unr}}\\subsetneqq\\widehat{\\mathbb{Q}}_p^{\\mathrm{unr}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1769em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathrm mtight\">unr</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel amsrm\">⫋</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.312em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9289em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathbb\">Q</span></span><span class=\"svg-align\" style=\"width:calc(100% - 0.1667em);margin-left:0.1667em;top:-3.6889em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"0.24em\" viewBox=\"0 0 1062 239\" preserveAspectRatio=\"none\"><path d=\"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1667em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathrm mtight\">unr</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mover accent=\"true\"><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"true\">^</mo></mover><mi>p</mi><mrow><mi mathvariant=\"normal\">u</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">r</mi></mrow></msubsup></mrow><annotation encoding=\"application/x-tex\">\\widehat{\\mathbb{Q}}_p^{\\mathrm{unr}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.312em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord accent\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9289em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mathbb\">Q</span></span><span class=\"svg-align\" style=\"width:calc(100% - 0.1667em);margin-left:0.1667em;top:-3.6889em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span style=\"height:0.24em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"0.24em\" viewBox=\"0 0 1062 239\" preserveAspectRatio=\"none\"><path d=\"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1667em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathrm mtight\">unr</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span> is an unramified (transcendental) extension of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi><mrow><mi mathvariant=\"normal\">u</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">r</mi></mrow></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p^{\\mathrm{unr}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathrm mtight\">unr</span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span>, right?</p>\n<p>But what do \"isomorphic\" mean, isomorphic as abstract fields? They could still be isomorphic as abstract fields, as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mover accent=\"true\"><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"true\">‾</mo></mover><mi>p</mi></msub><mo>⫋</mo><msub><mi mathvariant=\"double-struck\">C</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\overline{\\mathbb{Q}}_p\\subsetneqq\\mathbb{C}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2414em;vertical-align:-0.3525em;\"></span><span class=\"mord\"><span class=\"mord overline\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8889em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span></span></span><span style=\"top:-3.8089em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line\" style=\"border-bottom-width:0.04em;\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1667em;\"><span></span></span></span></span></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.085em;\"><span style=\"top:-2.4836em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3525em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel amsrm\">⫋</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> but both of them are isomorphic to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">C</span></span></span></span> as abstract fields, since they are all algebraically closed and has same transcendental degree over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>.</p>",
        "id": 523601384,
        "sender_full_name": "Jz Pan",
        "timestamp": 1749660355
    },
    {
        "content": "<p>the completion of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi><mrow><mi>u</mi><mi>n</mi><mi>r</mi></mrow></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p^{unr}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.072em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">u</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span> is an <strong>immediate</strong> extension of the uncompleted version (immediate means that it has the same value group and same residue field).</p>",
        "id": 523603978,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749661408
    },
    {
        "content": "<p>And indeed this is not algebraic. The statement about them being isomorphic should be restricted to algebraic extensions.</p>",
        "id": 523604068,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1749661438
    },
    {
        "content": "<p>Moreover, there are complete valued fields (eg <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold\">C</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbf C_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9722em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> !) which have immediate extensions. (Those who haven't are called <em>spherically complete</em>.)</p>",
        "id": 523604932,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749661818
    },
    {
        "content": "<p>Back to your question, <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>, about how Bourbaki would classify unramified finite extensions of a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic field, this is not that clear. If one follows that general path, one should probably need </p>\n<ul>\n<li>The equality <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∑</mo><msub><mi>e</mi><mi>i</mi></msub><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\"> \\sum e_i f_i = n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">e</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> that Bourbaki proves in <em>Commutative Algebra</em>, chapter 6, §8, for extensions of discretely valued fields, provided the integral closure is finitely generated.</li>\n<li>In the complete case, you only have one extension of the valuation, so the preceding equality becomes <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mi>f</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">ef=n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>. </li>\n<li>The finiteness of the integral closure in the complete case is Nagata's theorem; see <em>Commutative Algebra</em>, chapter 9, §4.</li>\n</ul>\n<p>Since you assume <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">e=1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>, this gives you <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>=</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">f=n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>. </p>\n<ul>\n<li>One also needs to construct the unramified extension. In your case, the residue field is finite, hence perfect, so Witt vectors suffice. (Otherwise, you would need the theory of Cohen rings, and “gonflement”…)</li>\n</ul>\n<p>The conclusion is that doing number theory through commutative algebra is tough, but this is probably the way higher arithmetic geometry will scale.</p>",
        "id": 523608056,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749662979
    }
]