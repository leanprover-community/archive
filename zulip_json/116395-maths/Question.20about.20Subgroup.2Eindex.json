[
    {
        "content": "<p>The index of a subgroup H of a group G is defined to be the cardinality of the quotient G/H:</p>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/GroupTheory/Index.html#Subgroup.index\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/GroupTheory/Index.html#Subgroup.index</a></p>\n<p>But isn't it the case that the quotient group is well-defined only if H is a normal subgroup of G?  The definition above does not seem to require that H be a normal subgroup.</p>",
        "id": 483387576,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1732065210
    },
    {
        "content": "<p>In general it's the type of left cosets of the subgroup. See <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/GroupTheory/Coset/Defs.html#QuotientGroup.instHasQuotientSubgroup\">QuotientGroup.instHasQuotientSubgroup</a>.</p>",
        "id": 483402799,
        "sender_full_name": "Ben Eltschig",
        "timestamp": 1732075860
    },
    {
        "content": "<p>As for how you could have found this yourself, aside from just knowing what definition to search for - if you type</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">}</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">H</span>\n</code></pre></div>\n<p>in a file with the right imports, and hover over <code>G ⧸ H</code> in the infoview on the right, it will tell you that the term elaborated to <br>\n<code>@HasQuotient.Quotient G (Subgroup G) QuotientGroup.instHasQuotientSubgroup H</code>. I don't know what's the best way to look stuff like this up, but at least personally I've found using <code>#check</code> and then hovering over stuff in the infoview quite useful.</p>",
        "id": 483403700,
        "sender_full_name": "Ben Eltschig",
        "timestamp": 1732076604
    },
    {
        "content": "<p>So G/H is defined by any subgroup H of any group G but it is a group only when H is a normal subgroup of G.  Thanks for the tip for how to find the definition!</p>",
        "id": 483407529,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1732079362
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"646363\">Ben Eltschig</span> <a href=\"#narrow/channel/116395-maths/topic/Question.20about.20Subgroup.2Eindex/near/483402799\">said</a>:</p>\n<blockquote>\n<p>In general it's the type of left cosets of the subgroup. See <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/GroupTheory/Coset/Defs.html#QuotientGroup.instHasQuotientSubgroup\">QuotientGroup.instHasQuotientSubgroup</a>.</p>\n</blockquote>\n<p>This is not quite true, it is the quotient type associated to the relevant action of the subgroup. It is isomorphic to the type of left cosets, but that is not how it is defined.</p>",
        "id": 483462806,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1732102379
    },
    {
        "content": "<p>Alas, I have a more basic question: Why does Lean say it can't synthesize the type of G/H in the following example?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">GroupTheory</span><span class=\"bp\">.</span><span class=\"n\">Index</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Delaborators</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 483558602,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1732131498
    },
    {
        "content": "<p>The error msg is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">synthesize</span>\n<span class=\"w\">  </span><span class=\"n\">HDiv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"m\">429</span>\n</code></pre></div>",
        "id": 483558813,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1732131584
    },
    {
        "content": "<p>The division symbol needs to be a fancy unicode \\quot rather than just /</p>",
        "id": 483558831,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1732131593
    },
    {
        "content": "<p>Ah, I see.  Thanks!</p>",
        "id": 483558914,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1732131618
    }
]