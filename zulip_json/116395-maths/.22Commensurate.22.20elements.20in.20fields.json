[
    {
        "content": "<p>I'm interested in the following notion in a linearly ordered field: two elements <code>x</code> and <code>y</code> are commensurate when there exists <code>q : ℚ</code> such that <code>x ≤ q * y</code> and <code>y ≤ q * x</code>.</p>",
        "id": 530920896,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753522416
    },
    {
        "content": "<p>This notion ends up being quite important to the study of surreal numbers (the ω-map is defined so that <code>ω^x</code> is the simplest in its equivalence class of commensurability), but it can be defined for any other linearly ordered field and satisfies the same basic properties.</p>",
        "id": 530921010,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753522491
    },
    {
        "content": "<p>I'm wondering whether we have something like this in Mathlib, and whether it'd be worth to PR it.</p>",
        "id": 530921041,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753522513
    },
    {
        "content": "<p>Have you seen <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ArchimedeanClass#doc\">docs#ArchimedeanClass</a> ?</p>",
        "id": 530921071,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753522532
    },
    {
        "content": "<p>That was quick! Yeah that's basically what I'm talking about</p>",
        "id": 530921258,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753522640
    },
    {
        "content": "<p>Note that you said <code>∃ q : ℚ, x ≤ q * y ∧ y ≤ q * x</code>, but it's equivalent to <code>(∃ n : ℕ, x ≤ n * y) ∧ ∃ n : ℕ, y ≤ n * x</code> which makes the link to archimedeanness clearer</p>",
        "id": 530921273,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753522652
    },
    {
        "content": "<p>It's not quite equivalent, actually! Under my definition -1 and -2 are commensurate, but under yours they're not!</p>",
        "id": 530921345,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753522688
    },
    {
        "content": "<p>That being said I only really care about commensurability with positive elements, so it doesn't matter</p>",
        "id": 530921383,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753522712
    },
    {
        "content": "<p>take n=0</p>",
        "id": 530929295,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753527269
    },
    {
        "content": "<p>Oh, so under the Mathlib definition, any two negative numbers are commesurable?</p>",
        "id": 530929373,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753527311
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Order/Archimedean/Class.html#ArchimedeanClass.mk_eq_mk\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Order/Archimedean/Class.html#ArchimedeanClass.mk_eq_mk</a></p>\n<p>mk a = mk b ↔ (∃ (m : ℕ), |b| ≤ m • |a|) ∧ ∃ (n : ℕ), |a| ≤ n • |b|</p>",
        "id": 530931928,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753528620
    },
    {
        "content": "<p>they use absolutes</p>",
        "id": 530932026,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753528666
    },
    {
        "content": "<p>Oh that makes sense</p>",
        "id": 530932083,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753528697
    },
    {
        "content": "<p>I added it recently as part of proving Hahn embedding theorem (for group). Ordered field isn't in my scope (yet?), but it would be great if we added more convenient equivalent criteria for field.</p>",
        "id": 530943440,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1753534656
    },
    {
        "content": "<p>What's the equivalent for a field?</p>",
        "id": 530945485,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753535730
    },
    {
        "content": "<p>I think it would be the same?</p>",
        "id": 530945501,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753535737
    },
    {
        "content": "<p>I am not sure what I had in mind... perhaps just a few trivial ones that turns smul into mul</p>",
        "id": 530946510,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1753536219
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> Out of curiosity, what's the reason for making <code>ArchimedeanClass.mk</code> <em>antitone</em> on positive elements, rather than monotone?</p>",
        "id": 533552053,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754712659
    },
    {
        "content": "<p>So that I don't need to put an order dual in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25970\">#25970</a><br>\nThough I can see how there are arguments for either way. For literatures I have seen related to Hahn embedding theorem, the antitone ordering seems more common</p>",
        "id": 533552183,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754712867
    },
    {
        "content": "<p>I'm no expert on Hahn series, so I'll take your word for it.</p>",
        "id": 533552212,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754712921
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> On the topic of <code>ArchimedeanClass</code>. I wonder if we could define an addition and multiplication on it, so that <code>a + b = min a b</code>, and <code>mk a * mk b = mk (a * b)</code>. This would then make <code>mk</code> addition and product preserving, modulo shenanigans with zero and negative elements.</p>",
        "id": 533639232,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754818763
    },
    {
        "content": "<p>Well, perhaps addition isn't needed as a separate operation, but multiplication would be nice.</p>",
        "id": 533641121,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754820640
    },
    {
        "content": "<p>In fact, if <code>ArchimedeanClass.mk</code> is somewhat of a generalized logarithm, I wonder if it'd make sense to define <code>mk (a * b) = mk a + mk b</code>.</p>",
        "id": 533642762,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754822391
    },
    {
        "content": "<p>Yeah, this works:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Archimedean</span><span class=\"bp\">.</span><span class=\"n\">Class</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">ArchimedeanClass</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsStrictOrderedRing</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mk_mul_le_of_le</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"n\">y₁</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"n\">y₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">y₁</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">y₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hm</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hn</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hy</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"w\">  </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">mul_le_mul</span><span class=\"w\"> </span><span class=\"n\">hm</span><span class=\"w\"> </span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">abs_nonneg</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nsmul_nonneg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">abs_nonneg</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">simp_rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ArchimedeanOrder</span><span class=\"bp\">.</span><span class=\"n\">val_of</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">abs_mul</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">ring</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Add</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ArchimedeanClass</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">lift₂</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"bp\">↦</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">mk_mul_le_of_le</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">antisymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mk_mul_le_of_le</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"n\">ge</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"bp\">.</span><span class=\"n\">ge</span><span class=\"o\">)</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mk_mul</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">ArchimedeanClass</span>\n</code></pre></div>",
        "id": 533642987,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754822580
    },
    {
        "content": "<p>I've opened a PR at <a href=\"https://github.com/leanprover-community/mathlib4/pull/28179\">#28179</a>.</p>",
        "id": 533643982,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754823737
    },
    {
        "content": "<p>Unrelated to all this, but the whole reason I'm dealing with Archimedean classes is because I want to prove surreal numbers are equivalent to Hahn series over themselves. So I think I'll end up using a lot of the API you're currently developing!</p>",
        "id": 533644201,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754823974
    },
    {
        "content": "<p>I realize we can also define a zero element as <code>mk 1</code>. This makes <code>ArchimedeanClass M</code> into a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearOrderedAddCommMonoidWithTop#doc\">docs#LinearOrderedAddCommMonoidWithTop</a>.</p>",
        "id": 533645689,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754825723
    },
    {
        "content": "<p>This feels sort of like tropical arithmetic</p>",
        "id": 533645840,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754825936
    },
    {
        "content": "<p>Yeah, I was thinking the same thing.</p>",
        "id": 533645860,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754825960
    },
    {
        "content": "<p>You don't quite have <code>mk (a + b) = min (mk a) (mk b)</code> in general though, negative elements up with that. You only have the ≥ direction (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ArchimedeanClass.min_le_mk_add#doc\">docs#ArchimedeanClass.min_le_mk_add</a>).</p>",
        "id": 533646116,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826203
    },
    {
        "content": "<p>Restrict to positive elements then</p>",
        "id": 533646191,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754826288
    },
    {
        "content": "<p>Sure, I think that does give you a tropical ring.</p>",
        "id": 533646216,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826311
    },
    {
        "content": "<p>Does that mean that the <code>mk (a * b)</code> operation should be a product?</p>",
        "id": 533646238,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826330
    },
    {
        "content": "<p>An important disadvantage is that there doesn't seem to be a multiplicative version of <code>LinearOrderedAddCommMonoidWithTop</code> (though presumably we could create one?)</p>",
        "id": 533646305,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826412
    },
    {
        "content": "<p>Didn't we unbundle ordered algebra?</p>",
        "id": 533646348,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754826453
    },
    {
        "content": "<p>wdym?</p>",
        "id": 533646357,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826467
    },
    {
        "content": "<p>We have the <code>IsOrderedAddMonoid</code> stuff now</p>",
        "id": 533646929,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754826755
    },
    {
        "content": "<p>Well the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearOrderedAddCommMonoidWithTop#doc\">docs#LinearOrderedAddCommMonoidWithTop</a> typeclass seems pretty bundled to me</p>",
        "id": 533646970,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826795
    },
    {
        "content": "<p>Though that file is kind of weird in other regards</p>",
        "id": 533647037,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826879
    },
    {
        "content": "<p>What's going on with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithTop.LinearOrderedAddCommGroup.sub#doc\">docs#WithTop.LinearOrderedAddCommGroup.sub</a> ?</p>",
        "id": 533647042,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826885
    },
    {
        "content": "<blockquote>\n<p>This definition is only registered as an instance on linearly ordered additive commutative groups</p>\n</blockquote>\n<p>No, no it isn't.</p>",
        "id": 533647062,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826901
    },
    {
        "content": "<p>Oh it's the valuations</p>",
        "id": 533647081,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754826921
    },
    {
        "content": "<p>wdym?</p>",
        "id": 533647125,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754826962
    },
    {
        "content": "<p>The type is for valuations</p>",
        "id": 533647148,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754826985
    },
    {
        "content": "<p>Well, I just constructed another type satisfying the same assumptions</p>",
        "id": 533647170,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827010
    },
    {
        "content": "<p>Does that mean anything?</p>",
        "id": 533647178,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827014
    },
    {
        "content": "<p>Oh I meant the typeclass</p>",
        "id": 533647215,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754827050
    },
    {
        "content": "<p>Yeah</p>",
        "id": 533647225,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827065
    },
    {
        "content": "<p>The linear ordered add comm monoid with top</p>",
        "id": 533647226,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754827068
    },
    {
        "content": "<p>Is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ArchimedeanClass.mk#doc\">docs#ArchimedeanClass.mk</a> a valuation? Should we think of it as a valuation?</p>",
        "id": 533647235,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827082
    },
    {
        "content": "<p>That's my question</p>",
        "id": 533647238,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827084
    },
    {
        "content": "<p>Does it satisfy the axioms</p>",
        "id": 533647261,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754827113
    },
    {
        "content": "<p>I have a local branch doing the same haha.. and yes it can be made into an AddValuation</p>",
        "id": 533647269,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754827124
    },
    {
        "content": "<p>Awesome!</p>",
        "id": 533647284,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827139
    },
    {
        "content": "<p>I take it that addition is the correct operation to use here</p>",
        "id": 533647296,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827152
    },
    {
        "content": "<p><a href=\"https://github.com/wwylele/mathlib4/blob/wwylele-arch-ring/Mathlib/Algebra/Order/Ring/Archimedean.lean\">https://github.com/wwylele/mathlib4/blob/wwylele-arch-ring/Mathlib/Algebra/Order/Ring/Archimedean.lean</a> this is what I have got</p>",
        "id": 533647470,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754827287
    },
    {
        "content": "<p>Nice!</p>",
        "id": 533647576,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827348
    },
    {
        "content": "<p>Mind if I merge that into my PR?</p>",
        "id": 533647582,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827354
    },
    {
        "content": "<p>Go ahead</p>",
        "id": 533647621,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754827385
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/116395-maths/topic/.22Commensurate.22.20elements.20in.20fields/near/533646305\">said</a>:</p>\n<blockquote>\n<p>An important disadvantage is that there doesn't seem to be a multiplicative version of <code>LinearOrderedAddCommMonoidWithTop</code> (though presumably we could create one?)</p>\n</blockquote>\n<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearOrderedCommMonoidWithZero#doc\">docs#LinearOrderedCommMonoidWithZero</a></p>",
        "id": 533647664,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1754827438
    },
    {
        "content": "<p>Huh</p>",
        "id": 533647701,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754827483
    },
    {
        "content": "<p>And these don't work with solely the unbundled tyoeclasses because of the additional axiom of how the point at infinity behaves wrt the binary op</p>",
        "id": 533647717,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1754827494
    },
    {
        "content": "<p>And the fact that it is at infinity. The multiplicative version has zero as bot. The additive has top. Valuations use max, additive valuations use min.</p>",
        "id": 533647806,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1754827580
    },
    {
        "content": "<p>Why would you like to turn multiplication into addition so early? If you keep it multiplication and define addition as <code>min</code> as you <a href=\"#narrow/channel/116395-maths/topic/.22Commensurate.22.20elements.20in.20fields/near/533639232\">originally suggested</a> I think you get a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IdemCommSemiring#doc\">docs#IdemCommSemiring</a> like the <a href=\"https://en.wikipedia.org/wiki/Tropical_semiring\">tropical semiring</a>.</p>",
        "id": 533648295,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1754828078
    },
    {
        "content": "<p>Wait, now I'm confused. Is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MulArchimedeanClass.min_le_mk_mul#doc\">docs#MulArchimedeanClass.min_le_mk_mul</a> an equality, or just an inequality?</p>",
        "id": 533648457,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754828256
    },
    {
        "content": "<p>If it is an equality then I do agree the structure of a tropical ring is more appropriate.</p>",
        "id": 533648473,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754828267
    },
    {
        "content": "<p>It is an inequality in general, because towo commensurate numbers can cancel out</p>",
        "id": 533648524,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754828332
    },
    {
        "content": "<p>Oh, that's right. You do need to restrict to positive elements.</p>",
        "id": 533648548,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754828356
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/116395-maths/topic/.22Commensurate.22.20elements.20in.20fields/near/533647470\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/wwylele/mathlib4/blob/wwylele-arch-ring/Mathlib/Algebra/Order/Ring/Archimedean.lean\">https://github.com/wwylele/mathlib4/blob/wwylele-arch-ring/Mathlib/Algebra/Order/Ring/Archimedean.lean</a> this is what I have got</p>\n</blockquote>\n<p>I've merged the <code>LinearOrderedAddCommGroupWithTop</code> instance into my PR and added you as a coauthor.</p>",
        "id": 533650030,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754830261
    },
    {
        "content": "<p>Nice. I will take a look soon</p>",
        "id": 533650071,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754830309
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> Just pushed some lemmas on <code>NatCast</code> / <code>IntCast</code> / <code>RatCast</code> onto the branch, hope you don't mind</p>",
        "id": 533655412,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754836160
    },
    {
        "content": "<p>No problem<br>\nAbout <code>ArchimedeanClassₒ</code>, the name was introduced in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25970\">#25970</a> and it might be renamed soon following the review. To avoid churn, could you change it to the newly suggested <code>FiniteArchimedeanClass</code> or just remove it?</p>",
        "id": 533655623,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754836399
    },
    {
        "content": "<p>Sure, I've replaced the name in the docstring.</p>",
        "id": 533655730,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754836505
    },
    {
        "content": "<p>I opened a dependent PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/28187\">#28187</a> adding some other lemmas I needed about archimedean classes and rational numbers.</p>",
        "id": 533661158,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754842984
    },
    {
        "content": "<p>In particular I prove that in an archimedean field the only two classes are <code>0</code> and <code>⊤</code>.</p>",
        "id": 533661719,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754843481
    },
    {
        "content": "<blockquote>\n<p>The intended use of <code>mk_map_of_archimedean</code> is to prove that the cast <code>f : Real → Surreal</code> satisfies <code>mk (f x) = 0</code> for <code>x ≠ 0</code>.</p>\n</blockquote>\n<p>I wonder if there is a better way. The proof sketch I have in mind is</p>\n<ul>\n<li>assuming you already have a <code>f : Real →+o Surreal</code></li>\n<li><code>g := ArchimedeanClass.orderHom f : ArchimedeanClass Real → ArchimedeanClass Surreal</code></li>\n<li><code>mk (f x) = g (mk x) = g 0 = 0</code></li>\n</ul>",
        "id": 533661861,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754843615
    },
    {
        "content": "<p>Oh, that's nice. So basically I should prove that <code>mk x = 0</code> on archimedean fields, and then the result I want follows.</p>",
        "id": 533661998,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754843754
    },
    {
        "content": "<p>There is also <code>ArchimedeanClass.mk_eq_mk_of_archimedean</code> that says there are only ⊤ and the other unnamed class. You just need to prove the unnamed class is 0</p>",
        "id": 533662003,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754843757
    },
    {
        "content": "<p>I didn't notice we had that already!</p>",
        "id": 533662040,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754843795
    },
    {
        "content": "<p>Yeah, your idea is way better. Just golfed out like half the PR!</p>",
        "id": 533663344,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754845074
    },
    {
        "content": "<p>In fact, these proofs of <code>mk_intCast</code> and <code>mk_ratCast</code> are way simpler than what I had before. I'll just remove those from the other PR and move them to the new one.</p>",
        "id": 533663377,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754845105
    },
    {
        "content": "<p>I just found <a href=\"https://www.cambridge.org/core/services/aop-cambridge-core/content/view/1D31A460F9C12D6B6C038A8094255B17/S1446788700006200a.pdf/archimedean_property_in_an_ordered_semigroup.pdf\">this paper</a>, which in Theorem 3.1 states that for an ordered semigroup, the Archimedean classes are an idempotent semigroup.</p>",
        "id": 533664928,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754846465
    },
    {
        "content": "<p>So clearly we're going against the grain by defining <code>mk (x * y) = mk x + mk y</code></p>",
        "id": 533664943,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754846486
    },
    {
        "content": "<p>On the other hand, we can't even <em>state</em> that archimedean classes of a semigroup are a semigroup, because the typeclass assumptions on the <code>Preorder</code> instance of <code>ArchimedeanOrder</code> are too strong.</p>",
        "id": 533665404,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754846902
    },
    {
        "content": "<p>I remember investigating the definition in this paper. It turned out the \"archimedean class\" on a semigroup is actually a different thing: positive and negative elements belong to different classes there</p>",
        "id": 533665571,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754847056
    },
    {
        "content": "<p>Yeah, that's definitely not what I want.</p>",
        "id": 533665708,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754847180
    },
    {
        "content": "<p>I do really think using addition instead of multiplication is the most convenient option, especially for what we want to do with Hahn series.</p>",
        "id": 533666055,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754847571
    },
    {
        "content": "<p>Hopefully we can convince the maintainers of that...</p>",
        "id": 533666057,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754847577
    },
    {
        "content": "<p>If there are good reasons, I won't mind making it multiplicative, and even reversing the order to match LinearOrderedCommGroupWithZero. I just need to refactor a bit of my ongoing code. The bottom line is mathlib should have enough tool to convert between these</p>",
        "id": 533666181,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754847727
    },
    {
        "content": "<p>Admittedly it would make my code a bit more readable if the order was inverted.</p>",
        "id": 533666216,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754847762
    },
    {
        "content": "<p>And thinking about it a bit more, I wouldn't really have to change my code that much if we made the structure multiplicative.</p>",
        "id": 533666289,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754847823
    },
    {
        "content": "<p>btw I said too fast about \"I remember investigating the definition in this paper\". What I meant was I remember investigating a definition presented elsewhere but similar to the one shown in the front page of the paper, but the paper also goes into depth of better definitions, so I could be wrong there</p>",
        "id": 533666349,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754847892
    },
    {
        "content": "<p>The result <code>ArchimedeanClass.mk (a + b) = min (ArchimedeanClass.mk a) (ArchimedeanClass.mk b)</code> is true when <code>0 ≤ a, b</code>, right?</p>",
        "id": 533666638,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848217
    },
    {
        "content": "<p>That should be true</p>",
        "id": 533666663,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754848251
    },
    {
        "content": "<p>Actually, isn't the result <code>ArchimedeanClass.mk (a + a) = ArchimedeanClass.mk a</code> true in general?</p>",
        "id": 533666671,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848263
    },
    {
        "content": "<p>Yeah</p>",
        "id": 533666697,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754848295
    },
    {
        "content": "<p>We do definitely have an idempotent <em>something</em></p>",
        "id": 533666700,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848302
    },
    {
        "content": "<p>Not quite a tropical semiring but pretty close</p>",
        "id": 533666706,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848321
    },
    {
        "content": "<p><a href=\"https://en.wikipedia.org/wiki/Tropical_semiring#Valued_fields\">https://en.wikipedia.org/wiki/Tropical_semiring#Valued_fields</a><br>\n\"Therefore the valuation <em>v</em> is almost a semiring homomorphism from <em>K</em> to the tropical semiring,...\"</p>",
        "id": 533666841,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754848467
    },
    {
        "content": "<p>But the exception they mention doesn't apply here!</p>",
        "id": 533666880,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848526
    },
    {
        "content": "<p>Wait</p>",
        "id": 533666884,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848533
    },
    {
        "content": "<p>So if we redefine <code>ArchimedeanClass</code> so that</p>\n<ul>\n<li>the ordering is the other way around</li>\n<li><code>mk a + mk b = max (mk a) (mk b)</code></li>\n<li><code>mk (a * b) = mk a * mk b</code></li>\n</ul>\n<p>do we actually just get a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IdemSemiring#doc\">docs#IdemSemiring</a> ?</p>",
        "id": 533667011,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848675
    },
    {
        "content": "<p>I think it only works on the positive cone of the field</p>",
        "id": 533667061,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754848741
    },
    {
        "content": "<p>... maybe? I haven't thought it thoroughly yet</p>",
        "id": 533667087,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754848774
    },
    {
        "content": "<p>The only axioms I'm not sure about are distributivity</p>",
        "id": 533667127,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848805
    },
    {
        "content": "<p>Though they definitely feel like they should work</p>",
        "id": 533667166,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848844
    },
    {
        "content": "<p>Oh wait yeah this totally works</p>",
        "id": 533667272,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848934
    },
    {
        "content": "<p>I think the confusion stems from the fact <code>mk a + mk b</code> is not always equal to <code>mk (a + b)</code></p>",
        "id": 533667282,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848944
    },
    {
        "content": "<p>But if we directly define addition on <code>ArchimedeanClass</code> as the maximum, then that's not an issue</p>",
        "id": 533667308,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754848968
    },
    {
        "content": "<p>Yeah I think I understand how it works. But the next question is whether <code>mk a + mk b</code> defined this way is useful</p>",
        "id": 533667335,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754848988
    },
    {
        "content": "<p>Well, it allows us to state results such as the one on the paper</p>",
        "id": 533667376,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754849031
    },
    {
        "content": "<p>Except that instead of \"the archimedean classes of a semigroup form an idempotent semigroup\" it's \"the archimedean classes of a ring form an idempotent ring\"</p>",
        "id": 533667412,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754849073
    },
    {
        "content": "<p>But I could also define <code>mk (a * b) = mk a + mk b</code>, then use <code>Tropical (ArchimedeanClass M)</code> if I want the idempotent ring, right?</p>",
        "id": 533667523,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754849205
    },
    {
        "content": "<p>(well, maybe after reversing the order)</p>",
        "id": 533667567,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754849237
    },
    {
        "content": "<p>Yeah, it'd be <code>Tropical (ArchimedeanClass M)ᵒᵈ</code></p>",
        "id": 533667610,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754849300
    },
    {
        "content": "<p>Actually, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Tropical/Basic.html#Tropical.instAdd\">tropical add</a> is defined in terms of min, so no order dual needed</p>",
        "id": 533667661,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754849343
    },
    {
        "content": "<p>huh, so a tropical semiring isn't an idempotent semiring?</p>",
        "id": 533667696,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754849390
    },
    {
        "content": "<p>Indeed, Yakov and I intended to change that at some point, but it was never high priority enough</p>",
        "id": 533667734,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754849436
    },
    {
        "content": "<p>Well, of course it's still idempotent</p>",
        "id": 533667817,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754849526
    },
    {
        "content": "<p>My current feeling is that the definition <code>mk a + mk b = max (mk a) (mk b)</code> is \"uninteresting\" as it is just <code>x + y = max x y</code> composed with <code>mk</code>, so such composition should be delegated to <code>Tropical</code>. If anything, this is an argument for defining <code>mk a + mk b = mk (a * b)</code> &amp; preserving the current order because <code>Tropical</code> currently accepts <code>LinearOrderedAddCommMonoidWithTop</code></p>",
        "id": 533668080,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754849825
    },
    {
        "content": "<p>I think you're right. Not even distributivity is particularly interesting, since <code>mk a * (max (mk b) (mk c)) = max (mk a * mk b) (mk a * mk c)</code> is just a weird restatement of \"multiplication by <code>|a|</code> is monotone\"</p>",
        "id": 533668361,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754850177
    },
    {
        "content": "<p>is there a paper that we're following? i don't want to reinvent the wheel here</p>",
        "id": 533668450,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754850277
    },
    {
        "content": "<p>I'm following Conway's On Numbers And Games, but he only mentions archimedean classes (calling them commensurability classes) in passing so it's not very helpful.</p>",
        "id": 533668604,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754850445
    },
    {
        "content": "<p>For completeness, the recommended ordering on archimedean classes can be seen <a href=\"https://www.jstor.org/stable/2032549?origin=crossref\">here</a> and <a href=\"https://www.ams.org/journals/proc/1952-003-06/S0002-9939-1952-0052045-1/\">here</a>, but I don't know anywhere where addition/multiplication is defined</p>",
        "id": 533668687,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754850554
    },
    {
        "content": "<p>Actually, <a href=\"https://www.researchgate.net/publication/325019391_Hahn%27s_Uber\">here (page 186)</a> is one where the multiplicative notation is used on archimedean classes, though it is also just mentioned in passing so it might just be notation</p>",
        "id": 533669042,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754850991
    },
    {
        "content": "<p>(but again, to express the Embedding Theorem on the same page, one will need to plug the archimedean class into HahnSeries, where the additive notion is simpler)</p>",
        "id": 533669152,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754851150
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/116395-maths/topic/.22Commensurate.22.20elements.20in.20fields/near/533667734\">said</a>:</p>\n<blockquote>\n<p>Indeed, Yakov and I intended to change that at some point, but it was never high priority enough</p>\n</blockquote>\n<p>Yeah, the literature is split on whether it should be via min or max. Different approaches have different easier applications.</p>",
        "id": 533669734,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1754851727
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> thanks for finding the papers. is there a paper that mentions  both + and * at the same time?</p>",
        "id": 533671819,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754854161
    },
    {
        "content": "<p>I couldn't find one yet (rant: this is hard to search for because the word \"archimedean\" means many related things)</p>",
        "id": 533672145,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754854613
    },
    {
        "content": "<p>I said this earlier but it might be worth repeating. My motivation for the additive notation is the fact that on surreals <code>ArchimedeanClass.mk (ω^ x)</code> is a bijection between surreals and non-top classes, which suggests that <code>mk</code> acts like a logarithm.</p>",
        "id": 533672202,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754854680
    },
    {
        "content": "<p><a href=\"http://www.ilirias.com/jaca/repository/docs/JACA6-1-1.pdf\">http://www.ilirias.com/jaca/repository/docs/JACA6-1-1.pdf</a> oh, here is one that talks about using ArchimedeanClass as a valuation and uses additive notion</p>",
        "id": 533672484,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754855026
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/116395-maths/topic/.22Commensurate.22.20elements.20in.20fields/near/533672202\">said</a>:</p>\n<blockquote>\n<p>I said this earlier but it might be worth repeating. My motivation for the additive notation is the fact that on surreals <code>ArchimedeanClass.mk (ω^ x)</code> is a bijection between surreals and non-top classes, which suggests that <code>mk</code> acts like a logarithm.</p>\n</blockquote>\n<p>if you want additive notation, then you can't have the tropical addition i suppose?</p>",
        "id": 533672613,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754855167
    },
    {
        "content": "<p><code>Tropical (ArchimedeanClass M)</code> would have the tropical addition if you need it</p>",
        "id": 533672654,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754855224
    },
    {
        "content": "<p>right, so it would be a good idea to discuss what the \"canonical\" instances on ArchimedeanClass itself would be</p>",
        "id": 533672672,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754855252
    },
    {
        "content": "<p>Here is what I have so far</p>\n<ul>\n<li>the tropical add on ArchimedeanClass is only interesting when we restrict it to non-negative sub-semigroup, where we have <code>mk a + mk b := min (mk a) (mk b) = mk (a + b)</code>. The second equality breaks when we start considering negative elements, and this becomes a generic \"define tropical add as min\" which isn't a property specific to ArchimedeanClass. </li>\n<li>The operation <code>mk a♢mk b := mk (a * b)</code> is interesting for the entire ring/field and can be made into a valuation (and certainly it is used in some papers). Asking whether this is an addition or multiplication is similar to asking whether to use <code>AddValuation</code> or <code>Valuation</code>. There are mixed uses in literature, but within the context of mathlib, <code>AddValuation</code> has a closely related example <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/HahnSeries/Valuation.html#HahnSeries.addVal\">HahnSeries.addVal</a> (This can be proven to be equivalent to <code>ArchimedeanClass.addValuation (Lex (HahnSeries G V))</code></li>\n</ul>",
        "id": 533673743,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754856538
    },
    {
        "content": "<p>I would hope that we have enough API to make any jump between Additive and Multiplicative as smooth as possible</p>",
        "id": 533673827,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754856631
    },
    {
        "content": "<p>I believe there are enough tools here, which is why I don't mind that much. <code>AddValuation</code> itself is defined as <code>Valuation R (Multiplicative Γ₀ᵒᵈ)</code>, so clearly there are sufficient tools to translate between them</p>",
        "id": 533673996,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1754856873
    }
]