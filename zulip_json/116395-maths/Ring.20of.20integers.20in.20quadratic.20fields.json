[
    {
        "content": "<p>Now that we have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=QuadraticAlgebra#doc\">docs#QuadraticAlgebra</a>, the computation of the ring of integers in a quadratic field should be pretty doable. This has come up yesterday <a href=\"#narrow/channel/113489-new-members/topic/Splitting.20of.20primes.20in.20rings.20of.20integers/with/553576345\">here</a> and <a href=\"#narrow/channel/113488-general/topic/How.20can.20I.20make.20meaningful.20contributions.20with.20Lean.3F/near/553661377\">here</a>.</p>\n<p>In December there is <a href=\"https://pitmonticone.github.io/ItaLean2025/\">ItaLean2025</a> and I would like to give this as project, so please let me know if someone is already working on it.</p>\n<p><span class=\"user-mention\" data-user-id=\"300547\">@Barinder S Banwait</span> <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> <span class=\"user-mention\" data-user-id=\"985790\">@Cameron Rampell</span></p>",
        "id": 553873095,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1762353419
    },
    {
        "content": "<p>This is a great project. I'll bear it in mind that you've \"claimed\" it! There is plenty to do here -- for example IIRC there are exercises in Marcus to do the same sort of thing for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"false\">(</mo><msup><mi>n</mi><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>3</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}(n^{1/3})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.138em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Q</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.888em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1/3</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> (which we can do using <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mo stretchy=\"false\">(</mo><msup><mi>X</mi><mn>3</mn></msup><mo>−</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\Z[X]/(X^3-n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Z</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span> or other things when it's not this).</p>",
        "id": 553875565,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762353987
    },
    {
        "content": "<p>I'm excited to get this into Mathlib finally! We did do this computation in ancient Lean 3 times but it never got merged into Mathlib. See: <a href=\"https://github.com/lean-forward/class-group-and-mordell-equation/blob/main/src/number_theory/quad_ring/basic.lean#L1560\">Q(√4m + 1)</a> and <a href=\"https://github.com/lean-forward/class-group-and-mordell-equation/blob/main/src/number_theory/quad_ring/basic.lean#L1180\">Q(√4m + {2, 3})</a></p>",
        "id": 553889680,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1762356899
    },
    {
        "content": "<p>I too would welcome rings of integers of quadratic number fields in Mathlib! <span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span>  Vai pure!</p>",
        "id": 554016084,
        "sender_full_name": "Barinder S Banwait",
        "timestamp": 1762412335
    },
    {
        "content": "<p>Also that other thread on how to make meaningful contributions to Lean you linked to was super interesting. Reflecting on the supportive answers given to <span class=\"user-mention\" data-user-id=\"985790\">@Cameron Rampell</span> , it prompts me to give more context for my question two days ago.</p>",
        "id": 554016120,
        "sender_full_name": "Barinder S Banwait",
        "timestamp": 1762412355
    },
    {
        "content": "<p>A few years ago, after having gone through <em>Mathematics in Lean</em>, I felt that I really needed a project to work on; as <span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span>  noted on the other thread, such projects are \"one of the best ways to learn Lean\".</p>",
        "id": 554016188,
        "sender_full_name": "Barinder S Banwait",
        "timestamp": 1762412396
    },
    {
        "content": "<p>I decided to give myself the goal of formalizing the proof of the <a href=\"https://en.wikipedia.org/wiki/Ramanujan%E2%80%93Nagell_equation\">Ramanujan--Nagell theorem</a>. This is an exponential diophantine equation, fully accessible by an undergraduate student studying a first course in Algebraic number theory. You work in the ring of integers of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"false\">(</mo><msqrt><mrow><mo>−</mo><mn>7</mn></mrow></msqrt><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}(\\sqrt{-7})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1156em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Q</span><span class=\"mopen\">(</span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8656em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\">−</span><span class=\"mord\">7</span></span></span><span style=\"top:-2.8256em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"1.08em\" viewBox=\"0 0 400000 1080\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1744em;\"><span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>, factorise the equation, deduce each factor is a power of 2 (outside of some easily-dealt-with corner cases), eliminate <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>, and deduce congruence conditions on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> that via elementary methods yield the result. It was one of my favourite results from Stewart and Tall's book <em>Algebraic number theory and Fermat's Last Theorem</em> (whose proof I was trying to formalise). Probably because Pell equations (another class of diophantine equations dealt with via ANT) had recently been put into Lean (which <span class=\"user-mention\" data-user-id=\"479359\">@Michael Stoll</span>  worked on), I thought this would be a modest, toy project to cut my teeth on.</p>",
        "id": 554016320,
        "sender_full_name": "Barinder S Banwait",
        "timestamp": 1762412452
    },
    {
        "content": "<p>I started out, got to the point where I needed to factorise 2 (as in my question the other day), and got stuck. I got busy with other non-Lean math projects and didn't return to it until about two months ago when I met <span class=\"user-mention\" data-user-id=\"406490\">@María Inés de Frutos Fernández</span> at Oberwolfach, who helped me bring it up to latest mathlib. FWIW <a href=\"https://github.com/BarinderBanwait/ramanujan_nagell/blob/bfe0e9d1eb84dad092bd104c8d71bdd7a039064d/RamanujanNagell/Basic.lean#L99\">here's</a> the current state.</p>",
        "id": 554016675,
        "sender_full_name": "Barinder S Banwait",
        "timestamp": 1762412642
    },
    {
        "content": "<p>I'm now motivated to continue working on and finishing this project. <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span>  mentioned that \"many people here (including myself) would be very happy to guide you through your first formalisation project so long as the topic bears some relevance to research mathematics\". So if anyone else is interested in this project and able to help guide it, I'd very much appreciate that!</p>",
        "id": 554016738,
        "sender_full_name": "Barinder S Banwait",
        "timestamp": 1762412680
    },
    {
        "content": "<p>(<code>two_pow_min_seven_odd</code> is false BTW)</p>",
        "id": 554190538,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762463531
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> ! After adding the condition <code>n ≠ 0</code>, two_pow_min_seven_odd can be verified. Just create a pull request. Very happy to discuss with Barinder <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 561358848,
        "sender_full_name": "Li, Xinze (Moqian)",
        "timestamp": 1764667029
    }
]