[
    {
        "content": "<p>I want to do algebra in Lean for formulating some simple new mathematical theorems. But I don't yet know the syntax and commands of Lean.</p>\n<p>How can I define variables of the meanings below in Lean?</p>\n<p>I'm working at <a href=\"https://live.lean-lang.org\">https://live.lean-lang.org</a>.</p>\n<p>Until now, I have only<br>\nimport Mathlib<br>\nvariable (K : Type*)<br>\nwithout an error comment by Lean.</p>\n<p>\"variable (K : Type*) [field K]\" gives the error comment \"invalid binder annotation, type is not a class instance<br>\n  ?m.12\"</p>\n<p>In the literature, I found: \"To define a field extension in Lean, we write:<br>\n(F E : Type*) [field F] [field E] [algebra F E]\"<br>\nBut how can I formulate the whole thing in Lean?</p>\n<p>the fields <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi><mo separator=\"true\">,</mo><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}, \\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8833em;vertical-align:-0.1944em;\"></span><span class=\"mord mathbb\">Q</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathbb\">C</span></span></span></span><br>\na field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span><br>\nthe field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi><mo stretchy=\"false\">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>X</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}(X_1,...,X_n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">K</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">...</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><br>\nthe algebraic closure of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi><mo stretchy=\"false\">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>X</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}(X_1,...,X_n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">K</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">...</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><br>\nan element of the algebraic closure of  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi><mo stretchy=\"false\">(</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">,</mo><msub><mi>X</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}(X_1,...,X_n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">K</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">...</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span><br>\nthe set of all  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span>-algebraic complex functions<br>\nthe set of all complex exponential functions with base <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span><br>\nthe set of all complex logarithm functions with base <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span><br>\nthe set of all compositions of finite numbers of complex exponential functions with base <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span>, complex logarithm functions with base <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">e</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">e</span></span></span></span> and/or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span>-algebraic complex functions<br>\nthe inverse relation of a function<br>\nthe set of all branches of a correspondence (multivariate function)<br>\nthe set of all branches of the inverse relation of a function<br>\na polynomial over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span> without a univariate factor  over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span><br>\na <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span>-algebraic equation</p>",
        "id": 485478192,
        "sender_full_name": "Justus Willbad",
        "timestamp": 1733056711
    },
    {
        "content": "<p>That's a lot all at once. The real and complex numbers are typed as \\R and \\C respectively</p>",
        "id": 485478831,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1733057368
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"784448\">@Justus Willbad</span>, how about you post some code showing what point you've got up to. People will be much happier to help you with \"the next step\" than to try to respond to a giant list. These things are all doable in Lean. :-)</p>",
        "id": 485482830,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733060832
    },
    {
        "content": "<p>Mathematically speaking it’s also unclear what you mean by “the field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">K</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{K}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">K</span></span></span></span>.”</p>",
        "id": 485486033,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1733063027
    },
    {
        "content": "<p>A few things:</p>\n<ul>\n<li>you can wrap your code block in triple-backticks; zulip will then render it as code correctly.</li>\n<li>the field typeclass is called <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Field/Defs.html#Field\">Field</a>, with an uppercase F. Generally, the convention in lean 4 is to start typeclasses like <code>Field</code> with capital letters - the literature you looked at is probably for lean 3.</li>\n<li>when trying to find things in mathlib the <a href=\"https://leanprover-community.github.io/mathlib4_docs/\">mathlib docs</a>, external search tools like <a href=\"https://moogle.ai\">moogle.ai</a> and the chat history here on zulip are I think your best bets. You can for example find definitions of algebras and the algebraic closure of a field with those; I don't know of any material on multivariate functions and/or branch cuts though, maybe someone else knows more on that.</li>\n</ul>",
        "id": 485534193,
        "sender_full_name": "Ben Eltschig",
        "timestamp": 1733106154
    },
    {
        "content": "<p>Also, the reason that <code>variable (K : Type*) [field K]</code> gave you that weird error message is that lean assumed <code>field</code> to be some variable you meant to implicitly introduce, and then failed to make sense of <code>field K</code>. You can disable that behaviour by writing <code>set_option autoImplicit false</code> near the top of your file, then things like <code>field K</code> will give much more sensible error messages like <code>unknown identifier 'field'</code> instead.</p>",
        "id": 485534780,
        "sender_full_name": "Ben Eltschig",
        "timestamp": 1733106541
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"784448\">Justus Willbad</span> <a href=\"#narrow/channel/116395-maths/topic/How.20to.20define.20the.20set.20of.20all.20K-algebraic.20functions.20in.20Lean.3F/near/485478192\">said</a>:</p>\n<blockquote>\n<p>the field <code>K(X1​,...,Xn​)</code></p>\n</blockquote>\n<p>Unfortunately, we don't have this directly yet, you need to say \"the fraction field of <code>K[X1,...,Xn]</code>\"</p>",
        "id": 485553273,
        "sender_full_name": "Jz Pan",
        "timestamp": 1733120794
    },
    {
        "content": "<p>\"Field\" instead of \"field\" works fine.</p>\n<p>To build the set of all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>-algebraic functions, I need the set of all polynomials over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span> of arbitrary numbers of variables.  How can I get this and how can I define a countably infinite number of variables <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>X</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">X_1,X_2,...</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">...</span></span></span></span>?</p>",
        "id": 485674388,
        "sender_full_name": "Justus Willbad",
        "timestamp": 1733160322
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MvPolynomial#doc\">docs#MvPolynomial</a> and use <code>Nat</code> as the type that indexes your variables.</p>",
        "id": 485676305,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1733160924
    },
    {
        "content": "<p>That was my idea then. But how can I create an indexed variable or generate a set of a countably infinite number of unnamed variables?</p>",
        "id": 485677545,
        "sender_full_name": "Justus Willbad",
        "timestamp": 1733161369
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"784448\">Justus Willbad</span> <a href=\"#narrow/channel/116395-maths/topic/How.20to.20define.20the.20set.20of.20all.20K-algebraic.20functions.20in.20Lean.3F/near/485677545\">said</a>:</p>\n<blockquote>\n<p>That was my idea. But how can I create an indexed variable?</p>\n</blockquote>\n<p>In Lean, <code>MvPolynomial σ R</code> means <code>R[X_i | i ∈ σ]</code> written in paper. Is this clear?</p>",
        "id": 485679394,
        "sender_full_name": "Jz Pan",
        "timestamp": 1733162081
    },
    {
        "content": "<p>The variables are docs#<a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/MvPolynomial/Basic.html#MvPolynomial.X\">MvPolynomial.X</a>.</p>",
        "id": 485681607,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1733162796
    },
    {
        "content": "<p>How can I create a variable R that is the fraction field of the set P of the polynomials over the field K?<br>\nAnd how the algebraic closure of R over K?<br>\n<code>variable (K : Type*) [Field K]</code><br>\n<code>variable (P : MvPolynomial σ K)</code></p>\n<p>mathlib3 documentation: \"is_fraction_ring R K states K is the field of fractions of an integral domain R.\"<br>\nDocumentation: \"IsFractionRing R K states K is the ring of fractions of a commutative ring R.\"</p>\n<p><code>variable (P : Type*) [CommRing P] {R : Type*} [CommRing R] [Algebra P R] [IsFractionRing P R]</code><br>\nHow can I substitute P?</p>\n<p>I think it would help if there is a Lean command IsFractionField.</p>",
        "id": 485716307,
        "sender_full_name": "Justus Willbad",
        "timestamp": 1733177044
    },
    {
        "content": "<p>Why are you looking at mathlib3 documentation?</p>",
        "id": 485718061,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1733177832
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FractionRing#doc\">docs#FractionRing</a></p>",
        "id": 485720301,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733178887
    },
    {
        "content": "<p>That's what you're looking for.</p>",
        "id": 485720367,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733178928
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">}</span>\n\n<span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"KXYs\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">FractionRing</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span><span class=\"w\"> </span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">KXYs</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">synth</span><span class=\"w\"> </span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">AlgebraicClosure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">KXYs</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 485721959,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1733179820
    },
    {
        "content": "<p>I cannot find where the command #synth is described:<br>\n<a href=\"https://lean-lang.org/lean4/doc/syntax.html?search=#synth\">https://lean-lang.org/lean4/doc/syntax.html?search=#synth</a></p>",
        "id": 485944398,
        "sender_full_name": "Justus Willbad",
        "timestamp": 1733257025
    },
    {
        "content": "<p>It just means \"check that the typeclass inference system (the square bracket system) can find the instance of the structure\". So in the first case it means \"check that the system knows that <code>KXYs</code> is a field\"</p>",
        "id": 485963955,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733263963
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"784448\">@Justus Willbad</span> it is described in the Language Reference:</p>\n<p><a href=\"https://lean-lang.org/doc/reference/latest//The-Lean-Language/Type-Classes/#instance-synth\">https://lean-lang.org/doc/reference/latest//The-Lean-Language/Type-Classes/#instance-synth</a></p>",
        "id": 485968500,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733265799
    }
]