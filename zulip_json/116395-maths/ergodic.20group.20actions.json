[
    {
        "content": "<p>Am I right that we have ergodic function but we don't have ergodic actions? Tagging his majesty <span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span> , the author of <a href=\"https://tqft.net/mathlib4files/Dynamics/Ergodic/Ergodic\">file#Dynamics/Ergodic/Ergodic</a></p>",
        "id": 449733911,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720394450
    },
    {
        "content": "<p>Also, what's the right definition:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">MeasurableSet</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⁻¹'</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=ᵐ</span><span class=\"o\">[</span><span class=\"n\">μ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=ᵐ</span><span class=\"o\">[</span><span class=\"n\">μ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∅</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=ᵐ</span><span class=\"o\">[</span><span class=\"n\">μ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>or</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">MeasurableSet</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⁻¹'</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=ᵐ</span><span class=\"o\">[</span><span class=\"n\">μ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∅</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=ᵐ</span><span class=\"o\">[</span><span class=\"n\">μ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>For a single map these are equivalent due to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.Measure.QuasiMeasurePreserving.exists_preimage_eq_of_preimage_ae#doc\">docs#MeasureTheory.Measure.QuasiMeasurePreserving.exists_preimage_eq_of_preimage_ae</a> but for an uncountable group, I'm not sure (I ignored this difference up until today).</p>",
        "id": 449738002,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720396334
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span></p>",
        "id": 449738219,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720396549
    },
    {
        "content": "<p>We do not have ergodic group actions.</p>",
        "id": 449805000,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1720426763
    },
    {
        "content": "<p>Also, I believe the \"right\" definition is the first one which requires <code>(g • ·) ⁻¹' s =ᵐ[μ] s</code> rather than strict equality. Moreover I would advocate changing <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PreErgodic#doc\">docs#PreErgodic</a> to require this stronger hypothesis.</p>",
        "id": 449805336,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1720426889
    },
    {
        "content": "<p>Oh one other thing, if we do change <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PreErgodic#doc\">docs#PreErgodic</a> then for (quasi-) measure-preserving maps, I think we should provide an alternate constructor demanding only the property for strictly invariant sets.</p>",
        "id": 449807334,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1720427475
    },
    {
        "content": "<p>And likewise for the group action case: there should be an alternate constructor demanding a proof only for strictly-invariant sets when the action is qmp and the group is sufficiently well-behaved (e.g., countable, but presumably there are much weaker hypotheses).</p>",
        "id": 449807903,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1720427590
    },
    {
        "content": "<p>I should emphasise that I barely know anything about ergodicity though, so let's wait for an expert, hopefully Sebastien :-)</p>",
        "id": 449808283,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1720427663
    },
    {
        "content": "<p>I think I discussed this in PM with <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span>, who argued that the current definition was best? I disagreed at the time though</p>",
        "id": 449828512,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720433929
    },
    {
        "content": "<p>For a single quasi measure preserving map, these definitions are equivalent. I don't know if people use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PreErgodic#doc\">docs#PreErgodic</a>.</p>",
        "id": 449864712,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720444226
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> I went through our DM history and found no traces of this discussion.</p>",
        "id": 449865065,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720444328
    },
    {
        "content": "<p>Hmm, maybe it was with Sébastien instead</p>",
        "id": 449869317,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720445136
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/116395-maths/topic/ergodic.20group.20actions/near/449864712\">said</a>:</p>\n<blockquote>\n<p>For a single quasi measure preserving map, these definitions are equivalent. I don't know if people use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PreErgodic#doc\">docs#PreErgodic</a>.</p>\n</blockquote>\n<p>I have not worked with ergodicity in lean, but in my circles \"Ergodic\" means <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PreErgodic#doc\">docs#PreErgodic</a></p>",
        "id": 451038059,
        "sender_full_name": "Felix Weilacher",
        "timestamp": 1720806375
    },
    {
        "content": "<p>I am also confused by some of the above discussion. For a countable group the two definitions are equivalent whether or not your action is quasi mp.</p>",
        "id": 451038189,
        "sender_full_name": "Felix Weilacher",
        "timestamp": 1720806426
    },
    {
        "content": "<p>I've never seen \"ergodic\" used for uncountable group actions so I guess I'm not completely sure about the original question. I have advocated before for defining ergodicity in terms of equivalence relations rather than group actions, and taking this perspective probably supports the second definition.</p>",
        "id": 451038840,
        "sender_full_name": "Felix Weilacher",
        "timestamp": 1720806689
    },
    {
        "content": "<p>A litmus test could be: Should transitive actions be ergodic? Because there are transitive actions of uncountable groups that fail the first definition.</p>",
        "id": 451039776,
        "sender_full_name": "Felix Weilacher",
        "timestamp": 1720807117
    },
    {
        "content": "<p>Measure-preserving actions of uncountable groups are definitely important (Lie group actions, for instance, but not only). I have just checked one of the standard references on advanced ergodic theory (Aaronson's \"An introduction to infinite ergodic theory\") and he defines ergodic actions of uncountable groups as follows: if a measurable set A satisfies <code>gA =[\\mu] A</code> for all <code>g</code>, then <code>\\mu A = 0</code> or <code>\\mu A^c = 0</code>.</p>",
        "id": 451042294,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1720807837
    },
    {
        "content": "<p>So, they use the first definition.</p>",
        "id": 451094274,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720826799
    },
    {
        "content": "<p>BTW, I have a PR (<a href=\"https://github.com/leanprover-community/mathlib4/pull/14596\">#14596</a> with dependencies) proving that the left action is ergodic in this sense. Next in line: use it and <a href=\"https://github.com/leanprover-community/mathlib4/pull/14500\">#14500</a> to prove that a set invariant under a dense set of left shifts is null or a.e. all.</p>",
        "id": 451094745,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1720827112
    },
    {
        "content": "<p>One more question: should we care about monoid actions in this context?</p>",
        "id": 451931124,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721191007
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/14952\">#14952</a> defines ergodic monoid/group actions. It depends on <a href=\"https://github.com/leanprover-community/mathlib4/pull/14891\">#14891</a> which defines <code>IterateMulAct</code> wrapper that helps relate our <code>MulAction</code> typeclasses to predicates about functions.</p>",
        "id": 453000959,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721577458
    }
]