[
    {
        "content": "<p>In version 4.20.0 and above, simp could create lemmas named e.g. <code>_proof_4</code>. Is there a way to tell if a constant is created this way?</p>\n<p>e.g. this is a proof partially created by <code>simp</code>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">of_eq_true</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"n\">proof_4</span><span class=\"bp\">‚úù</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">of_eq_true</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">eq_true_of_decide</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)))</span>\n</code></pre></div>",
        "id": 524500423,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1750182053
    },
    {
        "content": "<p>I don't think there's a way to know if a lemmas was created by simp itself.</p>\n<p>I'm pretty sure simp has always created aux lemmas, and what changed is primarily the name of the lemma, along with a couple of details of how these lemmas are abstracted.</p>\n<p>Could you say what your goal is here in knowing whether one of these auxiliary lemmas was made by simp?</p>",
        "id": 524500853,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1750182228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Detect.20whether.20a.20lemma.20is.20generated.20by.20simp/near/524500853\">said</a>:</p>\n<blockquote>\n<p>I don't think there's a way to know if a lemmas was created by simp itself.</p>\n<p>I'm pretty sure simp has always created aux lemmas, and what changed is primarily the name of the lemma, along with a couple of details of how these lemmas are abstracted.</p>\n<p>Could you say what your goal is here in knowing whether one of these auxiliary lemmas was made by simp?</p>\n</blockquote>\n<p>My goal is to unfold the definition of simp lemmas so I can see what the whole proof looks like. to do this I need to know which lemmas are created by simp. Currently my solution is to detect whether there's hygenic macro scopes in the name of these lemmas.</p>",
        "id": 524500957,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1750182271
    },
    {
        "content": "<p>Is it unfolding definitions of simp-produced lemmas, or unfolding definitions of <em>auxiliary</em> lemmas that tactics might produce?</p>",
        "id": 524501022,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1750182292
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Detect.20whether.20a.20lemma.20is.20generated.20by.20simp/near/524501022\">said</a>:</p>\n<blockquote>\n<p>Is it unfolding definitions of simp-produced lemmas, or unfolding definitions of <em>auxiliary</em> lemmas that tactics might produce?</p>\n</blockquote>\n<p>The latter. I want to unfold all auxiliary lemmas</p>",
        "id": 524501076,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1750182315
    },
    {
        "content": "<p>Thanks for clarifying, it's an important distinction.</p>",
        "id": 524501116,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1750182329
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Meta.unfoldAuxLemmas#doc\">docs#Lean.Meta.unfoldAuxLemmas</a></p>",
        "id": 524501216,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1750182369
    },
    {
        "content": "<p>See for example <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ToAdditive.declUnfoldAuxLemmas#doc\">docs#ToAdditive.declUnfoldAuxLemmas</a></p>",
        "id": 524501249,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1750182383
    },
    {
        "content": "<p>I see. so its the same solution as before</p>",
        "id": 524501265,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1750182398
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599027\">Leni Aniva</span> has marked this topic as resolved.</p>",
        "id": 524501388,
        "sender_full_name": "Notification Bot",
        "timestamp": 1750182447
    }
]