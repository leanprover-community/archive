[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Test</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">non_prop</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n<span class=\"w\">  </span><span class=\"n\">prop</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span>\n</code></pre></div>\n<p>In this code snippet, <code>non_prop</code> is considered a projection function by the environment and <code>prop</code> is not. I understand that this is because these fields are compiled out. However, I would still like to know the name of the structure type and the field index of these fields. Is there a way to do this?</p>",
        "id": 504446492,
        "sender_full_name": "Chase Norman",
        "timestamp": 1741565859
    },
    {
        "content": "<p>What do you mean?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Test</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">non_prop</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n<span class=\"w\">  </span><span class=\"n\">prop</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">info: true</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"n\">run_elab</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">isProjectionFn</span><span class=\"w\"> </span><span class=\"ss\">``Test.non_prop</span>\n<span class=\"w\">  </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">println</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">info: true</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"n\">run_elab</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">isProjectionFn</span><span class=\"w\"> </span><span class=\"ss\">``Test.prop</span>\n<span class=\"w\">  </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">println</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>",
        "id": 504447386,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741566516
    },
    {
        "content": "<p>Ah, thank you very much, I see my mistake. I was first checking that the symbol was a definition before checking if it was a projection. In this case, the symbol is a theorem, not a definition. </p>\n<p>Adding to my embarrassment, may I ask how you are seeing the output of IO.println? Running <code>lake build</code> I don't see anything in my terminal, output, or debug console. I even tried using dbg_trace to see something in the infoview, but to no avail.</p>",
        "id": 504448342,
        "sender_full_name": "Chase Norman",
        "timestamp": 1741567281
    },
    {
        "content": "<p>I was using the web server</p>",
        "id": 504450700,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741568824
    },
    {
        "content": "<p>Also, <code>#guard_msgs</code> is suppressing the messages.</p>",
        "id": 504450744,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741568857
    }
]