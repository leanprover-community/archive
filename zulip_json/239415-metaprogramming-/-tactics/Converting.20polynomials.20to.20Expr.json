[
    {
        "content": "<p>Hi, everyone!<br>\nI'm trying to represent polynomials as  <code>Expr</code>, but I'm not sure how they would be represented. Would they appear as a function application? Since polynomials like these don't exactly \"return\" a value, I'm struggling to understand how to map them into the <code>Expr</code> world.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mexample</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Any insights on how to convert a polynomial like this example would be apreciated!<br>\nThanks in advance</p>",
        "id": 493119393,
        "sender_full_name": "Sarah Azevedo Pereira",
        "timestamp": 1736621965
    },
    {
        "content": "<p>I’m afraid this question is too vague to get a good answer. Maybe you could try to tell us what you want to do with this Expr?</p>",
        "id": 493119977,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1736622319
    },
    {
        "content": "<p>It would be for ideal membership proof automation. The idea is to have a set of polynomials and use some rules to manipulate and combine them to verify if a given polynomial belongs to the ideal generated by the set.</p>",
        "id": 493120345,
        "sender_full_name": "Sarah Azevedo Pereira",
        "timestamp": 1736622587
    },
    {
        "content": "<p>For this, I was thinking of representing the polynomials as <code>Expr</code> to leverage Lean's metaprogramming tools...<br>\nThe theorem that should be proven would look like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">thrm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">tgt</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">span</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"k\">by</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">...</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>where G is the set of polynomials, and the list of rules to be applied may contain polynomials that aren't in G, so i couldn't get them from the local context</p>",
        "id": 493120352,
        "sender_full_name": "Sarah Azevedo Pereira",
        "timestamp": 1736622593
    }
]