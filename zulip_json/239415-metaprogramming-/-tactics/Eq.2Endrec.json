[
    {
        "content": "<p>Why is <code>Eq.ndrec</code> not a recursor? Is it possible to construct a <code>RecursorInfo</code> corresponding to <code>Eq.ndrec</code>?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">rn</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">mkRecursorInfo</span><span class=\"w\"> </span><span class=\"ss\">``Eq.ndrec</span>\n<span class=\"w\">  </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">println</span><span class=\"w\"> </span><span class=\"n\">s!</span><span class=\"s2\">\"{rn.majorPos}\"</span>\n</code></pre></div>",
        "id": 533190907,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1754521791
    },
    {
        "content": "<p>It's defined in terms of <code>Eq.rec</code></p>",
        "id": 533191299,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754522070
    },
    {
        "content": "<p><del>I don't think you'll be able to write a <code>RecursorInfo</code> corresponding to <code>Eq.ndrec</code> that the kernel accepts</del> misunderstood the question</p>",
        "id": 533191355,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1754522116
    },
    {
        "content": "<p>(I think Leni's question is why is it not registered as a recursor. The <code>casesOn</code> definitions work, yet they're defined in terms of <code>rec</code>)</p>",
        "id": 533191356,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1754522116
    },
    {
        "content": "<p>For unregistered recursors, at least you can specify the major position, like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">mkRecursorInfo</span><span class=\"w\"> </span><span class=\"ss\">``Eq.ndrec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 533191462,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1754522225
    },
    {
        "content": "<p>I guess someone could add <code>recursor 5</code> to the attributes for <code>Eq.ndrec</code>, but it looks like there are no other uses of this attribute in all of core.</p>",
        "id": 533191562,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1754522301
    },
    {
        "content": "<p>I don't know what you're up to, but you could consider unfolding <code>Eq.ndrec</code> first, since that exposes <code>Eq.rec</code>, which is already a recursor.</p>",
        "id": 533191638,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1754522377
    }
]