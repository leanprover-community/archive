[
    {
        "content": "<p>Hi, I am writing a bit of code for a automatic theorem solver, when using the next bit of code on the theorem of form <code>¬a</code> I get this suggestion</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">~</span><span class=\"n\">q</span><span class=\"o\">(</span><span class=\"bp\">¬$</span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">newGoal</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">goal</span><span class=\"bp\">.</span><span class=\"n\">intro1P</span>\n<span class=\"w\">  </span><span class=\"n\">addTermSuggestion</span><span class=\"w\"> </span><span class=\"n\">ref</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"ss\">`intro</span><span class=\"w\"> </span><span class=\"o\">[])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"ss\">`x</span><span class=\"w\"> </span><span class=\"o\">[]))</span>\n<span class=\"w\">  </span><span class=\"n\">replaceMainGoal</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">newGoal</span><span class=\"o\">]</span>\n</code></pre></div>\n<p><code>Try this: _root_.intro _root_.x</code>, how do I 'remove' these <code>_root_</code> prefixes so the suggestion works?</p>\n<p>same thing happens in another piece of code suggesting sorry (on the fail case) why is this happening and how do I prevent it from happening again?</p>",
        "id": 528048679,
        "sender_full_name": "Francisco Lima",
        "timestamp": 1752143233
    },
    {
        "content": "<p>Do you have a namespace open? Are <code>intro</code> and <code>x</code> from that namespace? If they are, they you should use</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">.</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"ss\">``intro</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n</code></pre></div>\n<p>instead so they can be namespaced.</p>",
        "id": 528082157,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1752154075
    },
    {
        "content": "<p>You probably meant to do:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Meta</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Tactic</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">testMe</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ref</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Syntax</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">goal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MVarId</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TacticM</span><span class=\"w\"> </span><span class=\"n\">Unit</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">newGoal</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">goal</span><span class=\"bp\">.</span><span class=\"n\">intro1P</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"o\">(</span><span class=\"n\">mkIdent</span><span class=\"w\"> </span><span class=\"ss\">`x</span><span class=\"o\">):</span><span class=\"n\">ident</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">TryThis</span><span class=\"bp\">.</span><span class=\"n\">addSuggestion</span><span class=\"w\"> </span><span class=\"n\">ref</span><span class=\"w\"> </span><span class=\"n\">stx</span>\n<span class=\"w\">  </span><span class=\"n\">replaceMainGoal</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">newGoal</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 528085822,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1752155100
    },
    {
        "content": "<p>oh that makes more sense</p>",
        "id": 528086137,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1752155180
    },
    {
        "content": "<p>I thought <code>intro x</code> was supposed to be a term suggestion</p>",
        "id": 528086193,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1752155194
    },
    {
        "content": "<p>Thanks</p>",
        "id": 528297429,
        "sender_full_name": "Francisco Lima",
        "timestamp": 1752225769
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"936530\">Francisco Lima</span> has marked this topic as resolved.</p>",
        "id": 528297435,
        "sender_full_name": "Notification Bot",
        "timestamp": 1752225771
    }
]