[
    {
        "content": "<p>How can I programmatically construct a  <code>TSyntax </code>Lean.Parser.Command.docComment`?</p>\n<p>Is the only option to use <code>Parser.runParserCategory</code>?</p>",
        "id": 530033438,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1753163532
    },
    {
        "content": "<p>I remember seeing this defined in a package:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">mkDocComment</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">mkNode</span><span class=\"w\"> </span><span class=\"ss\">``Parser.Command.docComment</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">mkAtom</span><span class=\"w\"> </span><span class=\"s2\">\"/--\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mkAtom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"s2\">\"-/\"</span><span class=\"o\">)]</span>\n\n<span class=\"c\">/-</span><span class=\"cm\"> Lean.mkDocComment \"some text\" : Lean.TSyntax `Lean.Parser.Command.docComment -/</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">mkDocComment</span><span class=\"w\"> </span><span class=\"s2\">\"some text\"</span>\n</code></pre></div>",
        "id": 530077054,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1753165972
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"228466\">Chris Bailey</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Constructing.20.60docComment.60/near/530077054\">said</a>:</p>\n<blockquote>\n<p>I remember seeing this defined in a package:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">mkDocComment</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">mkNode</span><span class=\"w\"> </span><span class=\"ss\">``Parser.Command.docComment</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">mkAtom</span><span class=\"w\"> </span><span class=\"s2\">\"/--\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mkAtom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"s2\">\"-/\"</span><span class=\"o\">)]</span>\n\n<span class=\"c\">/-</span><span class=\"cm\"> Lean.mkDocComment \"some text\" : Lean.TSyntax `Lean.Parser.Command.docComment -/</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">mkDocComment</span><span class=\"w\"> </span><span class=\"s2\">\"some text\"</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>This seems to work well! Thanks!</p>",
        "id": 530434846,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1753305519
    }
]