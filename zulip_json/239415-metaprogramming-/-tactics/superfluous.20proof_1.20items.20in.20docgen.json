[
    {
        "content": "<p>There are many \"blah.proof_1\" items in the mathlib doc, such as <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/GroupTheory/Congruence/Defs.html#addConGen.proof_1\">this one</a>.  I believe they are generated by <code>to_additive</code>.  I consider this a bug since apparently these come from <code>conGen.proof_1</code> during the <code>to_additive</code> translation process, but <code>conGen.proof_1</code> itself is hidden in the docs.  Can someone fix it?</p>",
        "id": 476943731,
        "sender_full_name": "Tony Beta Lambda",
        "timestamp": 1728984011
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> I think this would be fixed by using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Name.isBlackListed#doc\">docs#Lean.Name.isBlackListed</a> instead of <code>DocGen4.Process.DocInfo.isBlackListed</code>.</p>",
        "id": 476951567,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1728986425
    },
    {
        "content": "<p>(or by running <code>Lean.Name.isBlackListed</code> after a successful <code>findDeclarationRanges?</code> if that's also something you need to test for)</p>",
        "id": 476952722,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1728986762
    },
    {
        "content": "<p>I could also independently avoid giving these auxiliary declarations declaration ranges, if you think that's better. Presumably that is how <code>conGen.proof_1</code> is filtered out?</p>",
        "id": 476956368,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1728987967
    },
    {
        "content": "<p>The implementations of those two functions look almost the same?</p>",
        "id": 476963702,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1728990706
    },
    {
        "content": "<p>given that they were both copied from the LSP that is to be expected</p>",
        "id": 476963725,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1728990719
    },
    {
        "content": "<p>Yeah I don't see how using that function would fix anything. Besides the fact that its in mathlib so it would have to be copied over yet again.</p>",
        "id": 476964025,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1728990813
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/239415-metaprogramming-.2F-tactics/topic/superfluous.20proof_1.20items.20in.20docgen/near/476956368\">said</a>:</p>\n<blockquote>\n<p>I could also independently avoid giving these auxiliary declarations declaration ranges, if you think that's better. Presumably that is how <code>conGen.proof_1</code> is filtered out?</p>\n</blockquote>\n<p>Yes, I think that's how they are filtered out.  It might make sense to set the declaration range of translated declarations to <code>none</code> whenever the original declaration has none?</p>",
        "id": 477126843,
        "sender_full_name": "Tony Beta Lambda",
        "timestamp": 1729057757
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"395550\">Henrik Böving</span> <a href=\"#narrow/stream/239415-metaprogramming-.2F-tactics/topic/superfluous.20proof_1.20items.20in.20docgen/near/476963702\">said</a>:</p>\n<blockquote>\n<p>The implementations of those two functions look almost the same?</p>\n</blockquote>\n<p><code>Lean.Name.isBlackListed</code> uses <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Name.isInternalDetail#doc\">docs#Lean.Name.isInternalDetail</a> which precisely filters out the proofs we're talking about here. The latter is in core, so maybe you can just modify your version to include that check?</p>",
        "id": 477200979,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729081070
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"652127\">Tony Beta Lambda</span> <a href=\"#narrow/stream/239415-metaprogramming-.2F-tactics/topic/superfluous.20proof_1.20items.20in.20docgen/near/477126843\">said</a>:</p>\n<blockquote>\n<p>Yes, I think that's how they are filtered out.  It might make sense to set the declaration range of translated declarations to <code>none</code> whenever the original declaration has none?</p>\n</blockquote>\n<p>I have to double check whether declaration ranges are added before attribute application. If so, that should be easy to do.</p>",
        "id": 477201155,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729081123
    },
    {
        "content": "<p>Fixed</p>",
        "id": 477205088,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1729082321
    }
]