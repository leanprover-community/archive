[
    {
        "content": "<p>Is it possible to write a <code>syntax</code> and elaborator which matches a sequence of <code>'</code> or <code>,</code>? For example,</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">f''</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,,</span>\n</code></pre></div>\n<p>Using the <code>*</code> combinator doesn't work.</p>",
        "id": 568548310,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1768613913
    },
    {
        "content": "<p>yes it's probably possible</p>",
        "id": 568549255,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768615031
    },
    {
        "content": "<p>can you give more details</p>",
        "id": 568549267,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768615044
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Parser.20matching.20.60'.60.20or.20.60.2C.60/near/568549255\">said</a>:</p>\n<blockquote>\n<p>yes it's probably possible</p>\n</blockquote>\n<p>I want to match <code>identifier ,* '*</code> e.g. <code>a123'''</code></p>",
        "id": 568549300,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1768615071
    },
    {
        "content": "<p>note that <code>a123'''</code> is a valid identifier</p>",
        "id": 568549372,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768615160
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599027\">Leni Aniva</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Parser.20matching.20.60'.60.20or.20.60.2C.60/near/568548310\">said</a>:</p>\n<blockquote>\n<p>Using the <code>*</code> combinator doesn't work.</p>\n</blockquote>\n<p>what did you try</p>",
        "id": 568549522,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768615274
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Parser.20matching.20.60'.60.20or.20.60.2C.60/near/568549522\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"599027\">Leni Aniva</span> <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Parser.20matching.20.60'.60.20or.20.60.2C.60/near/568548310\">said</a>:</p>\n<blockquote>\n<p>Using the <code>*</code> combinator doesn't work.</p>\n</blockquote>\n<p>what did you try</p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">declare_syntax_cat</span><span class=\"w\"> </span><span class=\"n\">mystery</span>\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">mystery1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\",\"</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">mystery</span>\n</code></pre></div>\n<p>This part is easy, but then when I write the macro matching the syntax using <code>(mystery|$x:ident $occ:\",\"*)</code> doesn't work.</p>",
        "id": 568549697,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1768615441
    },
    {
        "content": "<p>this works <code>(mystery| $x:ident $[,%$occ]*)</code></p>",
        "id": 568550338,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768616124
    }
]