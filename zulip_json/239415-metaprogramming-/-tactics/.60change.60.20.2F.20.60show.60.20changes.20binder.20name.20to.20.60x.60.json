[
    {
        "content": "<p>I used this to change implicit to explicit:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>but now <code>n</code> became <code>x</code>. Is there any way to keep the name <code>n</code>?</p>",
        "id": 505959834,
        "sender_full_name": "llllvvuu",
        "timestamp": 1742133409
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>\n<p>works, if that helps.</p>",
        "id": 505960716,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742133973
    },
    {
        "content": "<p>Yeah, if you want to keep the name, you need to reiterate the name.</p>\n<p><code>change forall n, _</code> should work too.</p>\n<p>Not too long ago, it was preserving the name, but at the cost of <em>not</em> being able to update binders.</p>\n<p>Is there a use case for preserving the name without providing the name?</p>",
        "id": 505998969,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1742161035
    },
    {
        "content": "<p>I've found that random binder changes aren't good when teaching, especially when they actually clobber variables which you've been using in e.g. a mathematical argument going on in the comments:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"c1\">-- ⊢ ∀ (x : Nat) {x_1 : Nat}, x ≤ x_1</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Lean didn't just change w to x, it changed x to x_1, so now x means something else.</p>",
        "id": 506002896,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742163921
    },
    {
        "content": "<p>The first <code>_</code> in <code>change forall _, _</code> is a different kind of placeholder from the second one. The second one is an unnamed metavariable, but the first one is using <code>_</code> for a variable name, which Lean replaces with a fresh name based on <code>x</code>. There's no such thing as a binder name metavariable.</p>\n<p>My question is \"Why are we not writing <code>change forall n, _</code> here? Is this to support some specific use case?\" For example, this is the metaprogramming channel, so perhaps there is some tactic that llllvvuu is writing.</p>",
        "id": 506003461,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1742164377
    },
    {
        "content": "<p>I was working on a tactic, but I found another way to do what I wanted. Thanks for the explanation</p>",
        "id": 506003969,
        "sender_full_name": "llllvvuu",
        "timestamp": 1742164842
    },
    {
        "content": "<p>In my case I can't remember the context but I don't think it was a <code>change</code>, it might have been a <code>rw</code> so it was harder to fix.</p>",
        "id": 506010401,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742166951
    }
]