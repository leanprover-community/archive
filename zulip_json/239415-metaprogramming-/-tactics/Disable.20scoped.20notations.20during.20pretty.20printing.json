[
    {
        "content": "<p>Is there any way to enable global notations but disable scoped/local notations while pretty-printing something?</p>\n<p><a href=\"https://en.wikipedia.org/wiki/XY_problem\">#xy</a>: I am working on a <a href=\"https://github.com/hanwenzhu/premise-selection\">premise selector</a>, which uses a language model to find candidate lemmas given a goal state. This means that the way goal states are printed should align with the way lemmas are printed (I can't have a goal state stating something about <code>ùìù 0</code> while all lemmas are about <code>nhds 0</code>). I can either have:</p>\n<ul>\n<li>Both lemmas and goal states printed with <code>pp.notation false</code> i.e. no notations at all. This is what I am currently doing, but creates rather awkward expressions like <code>Eq (HAdd.hAdd a b) (HAdd.hAdd b a)</code> instead of <code>a + b = b + a</code>, making the premise selector unusable beyond inside a tactic.</li>\n<li>Both lemmas and goal states printed with global notations but not scoped notations. I can do this on the lemma printing side, but I need the <code>Meta.ppGoal</code> inside a tactic to also print with global notations but not scoped notations for consistency. This is what I am asking for.</li>\n<li>Both lemmas and goal states printed with all notations. For this I think I need to wait for RFC <a href=\"https://github.com/leanprover/lean4/pull/6050\">lean#6050</a> to land (or hack a version of it), and then use scoped notations everywhere.</li>\n</ul>",
        "id": 527108763,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1751606242
    }
]