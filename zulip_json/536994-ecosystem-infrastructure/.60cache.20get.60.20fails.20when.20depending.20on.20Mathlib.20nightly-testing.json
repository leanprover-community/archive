[
    {
        "content": "<p>This problem was initially reported as <a href=\"https://github.com/leanprover-community/mathlib4/pull/28594\">#28594</a>, but now Cslib has run into it as well.</p>",
        "id": 544872254,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760501151
    },
    {
        "content": "<p>The proposed fix in <a href=\"https://github.com/leanprover-community/mathlib4/pull/29935\">#29935</a> doesn't seem right: if we're using Mathlib from the <code>mathlib4-nightly-testing</code> fork we need to retrieve oleans from there as well.</p>",
        "id": 544872705,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760501446
    },
    {
        "content": "<p>As far as I can tell, <a href=\"https://github.com/leanprover-community/mathlib4/pull/30571\">#30571</a> is simpler and more correct: if we've decided that the Mathlib dependency we're looking at belongs at <code>leanprover-community/mathlib4-nightly-testing</code>, just use that, without caring about what git remotes the user has configured (or certainly doesn't have configured if Mathlib is managed under <code>.lake</code>).</p>",
        "id": 544873922,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760502504
    },
    {
        "content": "<p>If anyone is available to have a think about this (perhaps <span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span>?) that would be greatly appreciated.</p>\n<p>(My fault that this has become last minute, but I would love to get this sorted <em>before</em> I cut <code>v4.25.0-rc1</code>, as I'm promising to bump Cslib to the new toolchain. :-)</p>",
        "id": 544874016,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760502573
    },
    {
        "content": "<p>I think we need to write some behavior tests, probably against the \"important\" repos/branches. My memory is that the git states were too varied to be captured by the existing logic.</p>",
        "id": 544961957,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1760533169
    },
    {
        "content": "<p>I'll merge <a href=\"https://github.com/leanprover-community/mathlib4/pull/30571\">#30571</a> now -- I agree we should have tests, but let's unblock our downstream users first.</p>",
        "id": 545161549,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1760586040
    }
]