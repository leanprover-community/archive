[
    {
        "content": "<p>I am trying to implement a differentially private algorithm and prove something about the statistical properties of its output. Long story short, it takes a pseudo-random number generator, some other inputs and returns an output based on these two.</p>\n<p>If I was trying to prove something about this on paper, I would call the pseudorandom number generator a random variable and it would \"infect\" everything it touches with randomness, ultimately giving me my output as a random variable about which I could prove things. But from the point of view of lean, my PRNG is just another function that deterministically spits out bits based upon the updated state I feed to it when it advances. There's nothing random about it.</p>\n<p>Intuitively, I want to define a PDF as the limit behavior of a function which accepts a PRNG and then prove something about the PDF of my output.</p>\n<p>I'm wondering if others have experience dealing with this and how they approached the problem.</p>",
        "id": 505782698,
        "sender_full_name": "Alex Zani",
        "timestamp": 1741994559
    },
    {
        "content": "<p>You could use a monad.</p>",
        "id": 505784159,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741995413
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113488-general/topic/Proving.20things.20about.20functions.20using.20a.20PRNG.2E/near/505784159\">said</a>:</p>\n<blockquote>\n<p>You could use a monad.</p>\n</blockquote>\n<p>I do plan to wrap my generator in a monad in my implementation, but I don't think that really solves my problem. The monad will still be wrapping a generator and some values, so I still can't treat it as a random variable.</p>",
        "id": 505856915,
        "sender_full_name": "Alex Zani",
        "timestamp": 1742051609
    },
    {
        "content": "<p>Don't wrap a concrete generator, wrap an abstract generator.</p>",
        "id": 505857032,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1742051681
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/stream/113488-general/topic/Proving.20things.20about.20functions.20using.20a.20PRNG.2E/near/505857032\">said</a>:</p>\n<blockquote>\n<p>Don't wrap a concrete generator, wrap an abstract generator.</p>\n</blockquote>\n<p>Like a Generator class?</p>",
        "id": 505857122,
        "sender_full_name": "Alex Zani",
        "timestamp": 1742051755
    },
    {
        "content": "<p>(It doesn't relate directly to your question, but just on the off chance you haven't already seen it, there's <a href=\"https://github.com/leanprover/SampCert/\">https://github.com/leanprover/SampCert/</a> for some differential privacy primitives I think)</p>",
        "id": 505857700,
        "sender_full_name": "Julian Berman",
        "timestamp": 1742052194
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/stream/113488-general/topic/Proving.20things.20about.20functions.20using.20a.20PRNG.2E/near/505857700\">said</a>:</p>\n<blockquote>\n<p>(It doesn't relate directly to your question, but just on the off chance you haven't already seen it, there's <a href=\"https://github.com/leanprover/SampCert/\">https://github.com/leanprover/SampCert/</a> for some differential privacy primitives I think)</p>\n</blockquote>\n<p>Oh thanks, that should be very helpful.</p>",
        "id": 505857846,
        "sender_full_name": "Alex Zani",
        "timestamp": 1742052282
    }
]