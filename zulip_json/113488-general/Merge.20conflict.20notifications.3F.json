[
    {
        "content": "<p>What do people here do to know about new merge conflicts in their PR's asap? I looked it up and it seems there isn't a setting on github to be notified about it, and since I don't check my branches every day I end up having trivial conflicts blocking a PR for days.</p>",
        "id": 472682268,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727266552
    },
    {
        "content": "<p>I just look at the list of my PRs every few days to see if there are merge conflicts</p>",
        "id": 472683817,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727267043
    },
    {
        "content": "<p>I check <a href=\"https://github.com/leanprover-community/mathlib4/pulls/YaelDillies\">my PRs</a></p>",
        "id": 472683851,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1727267050
    },
    {
        "content": "<p>If GitHub can't notify you, you can write a script that does it for you on a daily basis:</p>\n<ul>\n<li>Update your <code>main</code> branch</li>\n<li>For each of your personal branch <code>b</code>:<br>\n    * Create a copy <code>b-copy</code><br>\n    * Try to rebase <code>b-copy</code> unto <code>main</code></li>\n<li>Delete all copied branches</li>\n</ul>\n<p>If there's a conflict, the corresponding rebase won't succeed automatically</p>",
        "id": 472684207,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1727267165
    },
    {
        "content": "<p>I usually check <a href=\"https://github.com/leanprover-community/mathlib4/branches/yours\">my branches</a> (though labels are not as easily visible as in the PR list)</p>",
        "id": 472693205,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1727269665
    },
    {
        "content": "<p>Here's how to do it with the GitHub GraphQL API / GH CLI if you want to just run it occasionally:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>gh<span class=\"w\"> </span>api<span class=\"w\"> </span>graphql<span class=\"w\"> </span>--paginate<span class=\"w\"> </span>-F<span class=\"w\"> </span><span class=\"nv\">owner</span><span class=\"o\">=</span>leanprover-community<span class=\"w\"> </span>-F<span class=\"w\"> </span><span class=\"nv\">name</span><span class=\"o\">=</span>mathlib4<span class=\"w\"> </span>-f<span class=\"w\"> </span><span class=\"nv\">query</span><span class=\"o\">=</span><span class=\"err\">'</span>\n<span class=\"go\">query($endCursor: String, $name: String!, $owner: String!) {</span>\n<span class=\"go\">  repository(owner: $owner, name: $name) {</span>\n<span class=\"go\">    pullRequests(first: 100, states: OPEN, after: $endCursor) {</span>\n<span class=\"go\">      edges {</span>\n<span class=\"go\">        node {</span>\n<span class=\"go\">          title</span>\n<span class=\"go\">          number</span>\n<span class=\"go\">          url</span>\n<span class=\"go\">          author { login }</span>\n<span class=\"go\">          mergeable</span>\n<span class=\"go\">          state</span>\n<span class=\"go\">        }</span>\n<span class=\"go\">      }</span>\n<span class=\"go\">    }</span>\n<span class=\"go\">  }</span>\n<span class=\"go\">}' | jq -r '.data.repository.pullRequests.edges[] | select(.node.mergeable != \"MERGEABLE\") | select(.node.author.login == \"grunweg\") | [.node.author.login, .node.title, .node.url]'</span>\n<span class=\"go\">[</span>\n<span class=\"go\">  \"grunweg\",</span>\n<span class=\"go\">  \"feat: define measure zero subsets of a manifold\",</span>\n<span class=\"go\">  \"https://github.com/leanprover-community/mathlib4/pull/7076\"</span>\n<span class=\"go\">]</span>\n</code></pre></div>\n<p>Replace <code>grunweg</code> with <code>Ynirpaz</code> obviously.</p>",
        "id": 472693214,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727269668
    },
    {
        "content": "<p>Thanks! I'll make a python script that runs this and emails me when there's a new conflict</p>",
        "id": 472743093,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727284746
    }
]