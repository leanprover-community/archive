[
    {
        "content": "<p>Hi Leak Folks, Pleased to announce the release of a library I've been working on for a DSL to construct LaTeX beamer presentations from Lean.</p>\n<p>available at: <a href=\"https://github.com/kiranandcode/LeanTeX\">https://github.com/kiranandcode/LeanTeX</a></p>\n<h1>LeanTeX - LaTeX presentations in Lean 4</h1>\n<p>Want to make cool presentations in LaTeX? Want macros and<br>\nextensibility without having to learn TeX?</p>\n<p>Presenting:<br>\n![Demo](<a href=\"https://raw.githubusercontent.com/kiranandcode/leantex/main/demo.jpg\">https://raw.githubusercontent.com/kiranandcode/leantex/main/demo.jpg</a>)</p>\n<div class=\"message_inline_image\"><a href=\"https://raw.githubusercontent.com/kiranandcode/leantex/main/demo.jpg\"><img src=\"https://uploads.zulipusercontent.net/679589c1abf4701023ea672dea901a222e4ca4c4/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f6b6972616e616e64636f64652f6c65616e7465782f6d61696e2f64656d6f2e6a7067\"></a></div><h2>Usage</h2>\n<p>LeanTeX is made as easy as possible to use!</p>\n<p>Create a new Lean project requiring <code>LeanTeX</code> in your <code>lakefile</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- lakefile.lean</span>\n<span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">MyPresentation</span>\n<span class=\"c1\">-- This is your presentation root</span>\n<span class=\"n\">lean_lib</span><span class=\"w\"> </span><span class=\"n\">MyPresentation</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"c1\">-- Require LeanTex!</span>\n<span class=\"n\">require</span><span class=\"w\"> </span><span class=\"n\">LeanTeX</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/kiranandcode/leantex\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"main\"</span>\n</code></pre></div>\n<p>In your Lean project, you can import <code>LeanTeX</code> use its DSL to write LaTex directly from Lean:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- MyPresentation.lean</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">LeanTeX</span>\n\n<span class=\"bp\">#</span><span class=\"n\">usepackage</span><span class=\"w\"> </span><span class=\"n\">bera</span>\n<span class=\"bp\">#</span><span class=\"n\">usepackage</span><span class=\"w\"> </span><span class=\"n\">hyper</span>\n\n<span class=\"bp\">#</span><span class=\"n\">latex_slide</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">     </span><span class=\"n\">latex</span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">titlepage</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Finally, to build the presentation, run <code>lake exec GenerateSlides</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$<span class=\"w\"> </span>lake<span class=\"w\"> </span><span class=\"nb\">exec</span><span class=\"w\"> </span>GenerateSlides\n...\n\nOutput<span class=\"w\"> </span>written<span class=\"w\"> </span>on<span class=\"w\"> </span>slides.pdf<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"m\">5</span><span class=\"w\"> </span>pages,<span class=\"w\"> </span><span class=\"m\">33772</span><span class=\"w\"> </span>bytes<span class=\"o\">)</span>.\nTranscript<span class=\"w\"> </span>written<span class=\"w\"> </span>on<span class=\"w\"> </span>slides.log.\n</code></pre></div>\n<p>The resulting presentation PDF will be placed in <code>build/slides.pdf</code></p>\n<h2>Features</h2>\n<ul>\n<li>\n<p><em>Escape hatch</em> - <code>latex![| |]</code> acts as an escape hatch for inserting<br>\n  arbitrary text into the generated file. <br>\n<code>lean\n  latex![| \\author{[|fontsize (size:=18) \"Kiran (She/Her)\" |]} |]\n  </code></p>\n<p>The macro itself is an interpolated string, but unlike Lean's<br>\ndefault string interpolation, we use <code>[| |]</code> to break out back into<br>\nLean. <code>@{}</code> also is allowed to escape back into Lean.</p>\n</li>\n<li>\n<p><em>DSL for Slides</em> - LeanTex comes with a built in DSL for simplifying<br>\n  some LaTeX constructions within Lean:<br>\n<code>\n  slide \"Example Slide\" do\n     \\begin{itemize}\n        \\item{\"Writing LaTeX-like code within Lean\"}\n        \\item{\"Looks like LaTeX\"}\n        \\item{\"is actually Lean~\"}\n     \\end{itemize}\n  </code></p>\n</li>\n<li>\n<p><em>Animations</em> - the <code>with steps</code> macro allows named steps for your<br>\n  animations, avoiding the issue with hard to grasp numeric animation indices</p>\n</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"w\">  </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">steps</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">step1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">step2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">step3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">step4</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">     </span><span class=\"n\">latex</span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"bp\">|</span>\n<span class=\"w\">       </span><span class=\"bp\">\\</span><span class=\"kd\">begin</span><span class=\"o\">{</span><span class=\"n\">tikzpicture</span><span class=\"o\">}</span>\n<span class=\"w\">          </span><span class=\"bp\">\\</span><span class=\"n\">draw</span><span class=\"bp\">&lt;@</span><span class=\"o\">{</span><span class=\"n\">step1</span><span class=\"o\">}</span><span class=\"bp\">-&gt;</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">rectangle</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">;</span>\n<span class=\"w\">          </span><span class=\"bp\">\\</span><span class=\"n\">draw</span><span class=\"bp\">&lt;@</span><span class=\"o\">{</span><span class=\"n\">step2</span><span class=\"o\">}</span><span class=\"bp\">-&gt;</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">rectangle</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">;</span>\n<span class=\"w\">          </span><span class=\"bp\">\\</span><span class=\"n\">draw</span><span class=\"bp\">&lt;@</span><span class=\"o\">{</span><span class=\"n\">step3</span><span class=\"o\">}</span><span class=\"bp\">-&gt;</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">rectangle</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">;</span>\n<span class=\"w\">          </span><span class=\"bp\">\\</span><span class=\"n\">draw</span><span class=\"bp\">&lt;@</span><span class=\"o\">{</span><span class=\"n\">step4</span><span class=\"o\">}</span><span class=\"bp\">-&gt;</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">rectangle</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">;</span>\n<span class=\"w\">       </span><span class=\"bp\">\\</span><span class=\"kd\">end</span><span class=\"o\">{</span><span class=\"n\">tikzpicture</span><span class=\"o\">}</span>\n<span class=\"w\">     </span><span class=\"bp\">|</span><span class=\"o\">]</span>\n</code></pre></div>\n<ul>\n<li><em>Static files</em> - If you create a directory <code>static</code> you can place<br>\n  files that should be copied into the build directory</li>\n</ul>\n<p>See <code>example</code> for an example of a LeanTeX project.</p>\n<p>My personal job talk is also constructed using LeanTeX: <a href=\"https://github.com/kiranandcode/job-talk\">https://github.com/kiranandcode/job-talk</a></p>",
        "id": 533189504,
        "sender_full_name": "Kiran",
        "timestamp": 1754520743
    },
    {
        "content": "<p>It’s a cool project but the name clash with <a href=\"https://github.com/kmill/LeanTeX\">https://github.com/kmill/LeanTeX</a> is a bit unfortunate.</p>",
        "id": 533534258,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1754690867
    },
    {
        "content": "<p>ah yes yes I sadly made this in a vacuum and it was only when I came to publish it I realised the name was already in use</p>\n<p>I suppose I can probably change my packages' name to LeanBeamer or something, though for now I'm the only user so it's a low priority task</p>",
        "id": 533534423,
        "sender_full_name": "Kiran",
        "timestamp": 1754690999
    },
    {
        "content": "<p>Are you aware of <span class=\"user-mention\" data-user-id=\"303675\">@Anand Rao Tadipatri</span>'s <a href=\"https://github.com/0art0/lean-slides\"><code>lean-slides</code></a> ? It is seems very related to your project</p>",
        "id": 533556445,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754718211
    },
    {
        "content": "<p>Also your github username is currently indicated as <code>gopiandcode</code> on your Zulip profile, which doesn't seem to exist on github. Maybe you typoed?</p>",
        "id": 533556487,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754718279
    },
    {
        "content": "<p>ah, thanks for the pointer, I'd neglected to update it on my profile! My github username is kiranandcode!</p>",
        "id": 533811177,
        "sender_full_name": "Kiran",
        "timestamp": 1754923899
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/113488-general/topic/LeanTeX.20-.20LaTeX.20presentations.20from.20Lean/near/533556445\">said</a>:</p>\n<blockquote>\n<p>Are you aware of <span class=\"user-mention silent\" data-user-id=\"303675\">Anand Rao Tadipatri</span>'s <a href=\"https://github.com/0art0/lean-slides\"><code>lean-slides</code></a> ? It is seems very related to your project</p>\n</blockquote>\n<p>Ah, yes, I think I had stumbled upon that before. It's a very useful project, though I believe it's targeted more at quick off the shelf presentations, than more custom professional designs suited for, for example, a job talk.</p>\n<p>For example, the following slide from my own is built using LeanTex:<br>\n<a href=\"/user_uploads/3121/R_IKJpnOnguD_la6HFEgwyOd/Screenshot-2025-08-11-at-9.53.17AM.png\">Screenshot 2025-08-11 at 9.53.17 AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/R_IKJpnOnguD_la6HFEgwyOd/Screenshot-2025-08-11-at-9.53.17AM.png\" title=\"Screenshot 2025-08-11 at 9.53.17 AM.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"587x332\" src=\"/user_uploads/thumbnail/3121/R_IKJpnOnguD_la6HFEgwyOd/Screenshot-2025-08-11-at-9.53.17AM.png/840x560.webp\"></a></div>",
        "id": 533811877,
        "sender_full_name": "Kiran",
        "timestamp": 1754924136
    },
    {
        "content": "<p>I agree, <code>LeanSlides</code> was meant more for quick presentations that can be generated entirely from Markdown text, and has limited customisability of style and layout. I think the kind of deep embedding of syntax that <code>LeanTeX</code> provides is fantastic!</p>",
        "id": 533812626,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1754924393
    }
]