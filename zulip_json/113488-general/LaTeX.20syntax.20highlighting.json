[
    {
        "content": "<p>I have my own syntax highlighting setup for Lean back from when Bhavik I wrote this paper about SzemerÃ©di's regularity lemma in 2022, but I know things have moved and I thought I would get up to date.</p>",
        "id": 514629665,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747209
    },
    {
        "content": "<p>I therefore tried following the instructions for minted here: <a href=\"https://lean-lang.org/documentation/latex-syntax-highlighting/\">https://lean-lang.org/documentation/latex-syntax-highlighting/</a></p>",
        "id": 514629686,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747226
    },
    {
        "content": "<p>The very first line says:</p>\n<blockquote>\n<p>FirstÂ <a href=\"https://pygments.org/download/\">install Pygments</a>Â (version 2.18 or newer). Then save the following sample LaTeX fileÂ <code>test.tex</code>Â into the same directory:</p>\n</blockquote>\n<p>I do not know how you are supposed to install pygments, but when I did (using <code>pip install Pygments</code>), I was not told what folder it was installed in. I believe it is in fact a global install and I do not need to install it once per directory. So \"save the following sample LaTeX fileÂ <code>test.tex</code>Â into the same directory\" seems nonsensical. Is this interpretation correct?</p>",
        "id": 514629869,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747383
    },
    {
        "content": "<p>Then I ran <code>xelatex --shell-escape test.tex</code> in the correct folder. Of course I didn't have FreeMono installed, and I find installing fonts a really confusing process (fonts are not executables, but you can still \"install\" them??), but anyway I solved that, so I went onto a new error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- Lots of classic latex gibberish</span>\n<span class=\"bp\">!</span><span class=\"w\"> </span><span class=\"n\">Package</span><span class=\"w\"> </span><span class=\"n\">minted</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">You</span><span class=\"w\"> </span><span class=\"n\">must</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"ss\">`pygmentize'</span><span class=\"w\"> </span><span class=\"n\">installed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">packag</span>\n<span class=\"n\">e</span><span class=\"bp\">.</span>\n<span class=\"c1\">-- a bit more latex gibberish</span>\n</code></pre></div>",
        "id": 514630066,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747540
    },
    {
        "content": "<p>Scrutinising <a href=\"https://lean-lang.org/documentation/latex-syntax-highlighting/\">https://lean-lang.org/documentation/latex-syntax-highlighting/</a>, <code>pygmentize</code> is mentioned exactly once, here:</p>\n<blockquote>\n<ul>\n<li><code>--shell-escape</code>Â is needed to allowÂ <code>xelatex</code>Â to executeÂ <code>pygmentize</code>Â in a shell.</li>\n</ul>\n</blockquote>",
        "id": 514630124,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747595
    },
    {
        "content": "<p>So I do not know what <code>pygmentize</code> is, how I installed it or failed to do so, and I am stuck.</p>",
        "id": 514630168,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747640
    },
    {
        "content": "<p>If that's relevant, I am on Windows 10, and I believe I installed Pygments back in 2022, although I have no clue how to actually check the version I have</p>",
        "id": 514630253,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745747691
    },
    {
        "content": "<p>Maybe you can search on Internet \"Windows LaTeX how to use minted package\"</p>",
        "id": 514661809,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745771477
    },
    {
        "content": "<p>It's working for me, but I didn't remember how it was installed.</p>",
        "id": 514661822,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745771494
    },
    {
        "content": "<p><a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/LaTeX.20beamer/near/474677364\">#general &gt; LaTeX beamer @ ðŸ’¬</a></p>",
        "id": 514661991,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745771602
    },
    {
        "content": "<p>Just to answer part of the original question -- <code>pygmentize</code> is an executable installed with <code>pygments</code>, and <code>xetex</code> seems like it's looking for that executable and not finding it.</p>",
        "id": 514666511,
        "sender_full_name": "Julian Berman",
        "timestamp": 1745774988
    },
    {
        "content": "<p>If you ran <code>pip install stuff</code> it got installed globally typically yes, and I've seen that Windows' Python installer's behavior is still very odd, specifically I saw students not have that directory added to their PATH by default, which might be your case as well -- so you might have a global install of pygmentize which nothing can run without knowing it's in your Python installation's script folder.</p>",
        "id": 514666646,
        "sender_full_name": "Julian Berman",
        "timestamp": 1745775076
    },
    {
        "content": "<p>If you have <code>pipx</code> installed you could have done <code>pipx install pygments</code> probably, or <code>uv tool install pygments</code> which is the newer way -- or if you just want to know where what you have ended up, you can run <code>python -m sysconfig | rg scripts</code> or thereabouts and it'll tell you what directory it was installed to, and then you can add that to your PATH in the Windows menus somewhere.</p>",
        "id": 514666787,
        "sender_full_name": "Julian Berman",
        "timestamp": 1745775180
    },
    {
        "content": "<p>The PATH question is asked when you install Python for the first time via the windows installer, but I'm not sure what the default is.</p>",
        "id": 514666792,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745775182
    },
    {
        "content": "<p>Yeah empirically I'm betting it's still not turned on by default because 90% of students I saw have issues with it. Which is weird because I remember some hubbub about it like 5 - 10 years ago even. (EDIT: though the truth is I have not run a Python installer in ~10 years so possibly the default is the same on macOS even though I doubt it as I had no students asking me to help there.)</p>",
        "id": 514666827,
        "sender_full_name": "Julian Berman",
        "timestamp": 1745775223
    },
    {
        "content": "<p>Probably rerunning the python installer is a good option too, since I think it will offer that choice without changing the rest of your installation</p>",
        "id": 514666855,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745775242
    },
    {
        "content": "<p>(add / remove programs on Windows might tell you where your installer is)</p>",
        "id": 514666894,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745775269
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113488-general/topic/LaTeX.20syntax.20highlighting/near/514666646\">said</a>:</p>\n<blockquote>\n<p>If you ran <code>pip install stuff</code> it got installed globally typically yes, and I've seen that Windows' Python installer's behavior is still very odd, specifically I saw students not have that directory added to their PATH by default, which might be your case as well -- so you might have a global install of pygmentize which nothing can run without knowing it's in your Python installation's script folder.</p>\n</blockquote>\n<p>I am now almost sure that this is the case. I could not see Python on my PATH and I see <a href=\"/user_uploads/3121/IVXRMb03XZ9FaOhnw7IA5y3P/image.png\">this default option</a> when running the 3.13 Python installer.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/IVXRMb03XZ9FaOhnw7IA5y3P/image.png\" title=\"this default option\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"341x38\" src=\"/user_uploads/thumbnail/3121/IVXRMb03XZ9FaOhnw7IA5y3P/image.png/840x560.webp\"></a></div>",
        "id": 514692859,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745794888
    },
    {
        "content": "<p>You can manually edit PATH on Control Panel. There should be tutorials on the Internet.</p>",
        "id": 514754396,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745829692
    },
    {
        "content": "<p>On Windows 10 it should be in (sort of) All Settings -&gt; System -&gt; About -&gt; Advanced System Settings (you need permission) -&gt; Advanced -&gt; Environment Variable</p>",
        "id": 514754821,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745829799
    },
    {
        "content": "<p>It's enough to only add it to your personal account's environment variable. Add <code>C:\\path\\to\\your\\python_directory</code> and <code>C:\\path\\to\\your\\python_directory\\Scripts</code> to <code>PATH</code> and set <code>PYTHON</code> environment variable to <code>C:\\path\\to\\your\\python_directory\\python.exe</code>.</p>",
        "id": 514755521,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745829989
    },
    {
        "content": "<p>I have now fixed it all, but I now remember that xelatex isn't accepted on arxiv, so maybe I'll stick to lstlistings <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 514756753,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1745830354
    },
    {
        "content": "<p>I've heard that <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> has a hack for this. I had a word with the ArXiv people about the fact that the software stack is decades out of date but right now it turns out that they are mainly worried about other things.</p>",
        "id": 514758994,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745830975
    },
    {
        "content": "<p>It's really not encouraged but you can still use xelatex on arxiv.</p>",
        "id": 514759301,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1745831048
    },
    {
        "content": "<p>Jireh told me that you can just ask nicely and they'll let you upload stuff using other texes</p>",
        "id": 514780975,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745837510
    },
    {
        "content": "<p>(no need for the hack to thwart their detection)</p>",
        "id": 514781074,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745837536
    },
    {
        "content": "<p>When I tested those instructions two weeks ago, I used a Python virtualenv to set up everything. I think this thread is a sign that the page needs to be more specific, but I actually don't know enough about multi-platform Python to give the right advice.</p>\n<p>Is there a standard resource to link to that describes how to get Python tools set up on various platforms? It seems silly to duplicate these things ourselves, and at that point it'd take less time to just set up a little Verso-based tool :)</p>",
        "id": 514895128,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1745870878
    },
    {
        "content": "<p>I think using a virtualenv is good advice (probably using <code>uv</code> instead of <code>pip</code>, these days).</p>",
        "id": 514910573,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745877355
    },
    {
        "content": "<p>(It does have some barrier to entry, but it is much more error-proof...)</p>",
        "id": 514910650,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745877372
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/113488-general/topic/LaTeX.20syntax.20highlighting/near/514756753\">said</a>:</p>\n<blockquote>\n<p>I have now fixed it all, but I now remember that xelatex isn't accepted on arxiv, so maybe I'll stick to lstlistings <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>\n</blockquote>\n<p>PSA: <a href=\"https://blog.arxiv.org/2025/11/05/attention-authors-updates-for-bib-file-processing-and-tex-in-arxiv-submissions/\">arXiv now supports XeLaTeX</a></p>",
        "id": 554872888,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1762854330
    }
]