[
    {
        "content": "<p>Is there a way to tell lean to always unfold definitions in an instance? Say I have something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">myCat</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">somecomplicatedTermInAStruct</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n<p>If I later see <code>id X</code> in some other context, it is not automatically unfolding. Doing <code>unfold myCat.id</code> gives me an error. What's the right way to unfold <code>id X</code> (preferably automatically)? <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOB2SIApgM5hIDGxcAwisQObQCeAKqsa3hGMfnQbMoLQTCasOXEXABiAV3yUY0OAGVgjEEjgB5MJFLBxcACLBSlKMRMAhYJSHcci4ADdiUUjXmBAgjhu/vKAQQQBwXhuSFDASFjoNADetHAAXHBsLHxwfgC+cADa9OLCLAB0CYF5tAC6eAC0dXAAxOrEIMB15uToSCzEACZwABQqMEjocI7wHl7AEPgAlAREZBTUre1dYD19/TiUPaSkZhbbvQPDsql0cIBJhOmZPsELcADunNY4cOkQY+hF1yKEhkQ0AxcBwACScAANHJIUtvmAoBAAFYAfW0YGugAAiOAJKEAKUBeQSAA1rlcISSAJoUuAEnKwoYaLRIUogADWkLg5MAb+TqTTadlconUl73IZQ/kEhFwJGotHAQZpXH44nDclpSkLaFfb5y5HozHDQCsG4BN/eGLKFnO5pIWLwAvHBzZC9fL0ZQIOAcXjCXAANLqsl0ql42la+kkgBadP9OT13yGADNrla2TaoXyBazhfS4GLhoxU4L0yL83B+Wnc4GozqEwaFcbk3BANZEcEYjobRqQWJTbfdGJ77bwKBg0Sw8hM+WA+FIYyUxGqJ26536pTYv3GRRwo/Hk5o+SM4CXWx2A1KA+Np9XF8NisG192t4VnvAESiMTiiSuaQACt55H6CAk0UZRVCGAAZCBHHQdAWC6KwbBoWhACVcQA1XBeIpyjcYJYRCHJ4xwfpiBTDc/lSJ002GECBChB0AD45FKCAsBRYYoJguCEOscRcyGXh4XtPA5ygeRlHkaw4AACS9DVyzSKjk0UbkGKYli2Mg6Dxi4ixEN4m1+KxCF7XtN4PmIPUsCQbxrlJUoAEYK3zBy9STbBPFs0oACYnKGWR2SHKzvGYsBShUDiFmY1jnK8ncYDHbB9wKI8wCXGSQFKIKaHS0o3KwTxhOIZQ5nwHBImiWJ4jxHQsGLVlqOUujGP89T2K02D4N0njiD4gTjPteMAAF8mIAAPeAhmAJMUxSJ0k3GbwFlqeIQG0aSvVKMaJpTIs0nSuAapeIZUCTRh/DSJNMusmgnUYK7FvrY7TtCC7cvcqA4Fut78o+ttiAARw3fanrOuBAA7SOAoCTdBTIuz72wouAsBYPVHG8Y4kwAbkma7jkYVH5kYKA9X6FKDvgE6zr1KBXgKQAEwkmeZ0QBoGvUVaa0U4f64DRHnIeh4ZKf8CGoZh2pvhSnR5jggoWYgdK0WsaHYSVNFX1S7IjHwItKfCHAZznJAFzgABxZE0ABNIgRKS0Swa2jPuaqKNI47TOssbreqMkyXneTwaD1fbZvWkA9SVHlEYSesssRl07Ps+s8o84O/ICsAIUGQAL8gE+PAEvySKZzcUoeyxOyfPjb51bxXneajPIdsj6PrsRy6Y7bO6ssT96W++jy21T41W+ukKwogCK0/bXvfse/zMVoL0sQ74feFHji4CH4KV/C6CC/wIuS7gKNvLgCu4FVquEhq+vEeR+stvrAB2uAUsf5/QCxfJZ57efwHvRXNFQDARUe80Ql1hGoBKyhSjREYIAgAqvgYw0A0RywhKQCAsIGYADkUBsCgEbUgpRCAwAkuMYwLBQFHGguLRmv9w6XyRtfYOt99RwHvqwp+L8OFv29J/NOP8wB/3iEmIBhdQEGEwXIUCKgoBpzVgvSh6DKDgMgTAUowiYAIKQVAFBgMIBoIgDQ6ySj14I1QDfFGrD2H6k4e/V+ZN8jYNwfg2cRCUCkMwDAChxjoKwi/mAARijoL/1gaIkBYD1CqOLlQygMQZG6I3AY2o+tZzznWGbX45i0iPguEpB2qkWrRU0pxd2ekeoGT6iZMy/s9RkS3CgRGGSLYoDdHeQePdO6IjvOHTUToWH6kUEmCA6BBhNNQFhJU9YuFdnkd6ZhogUpAA\">Here</a> is my actual example.</p>",
        "id": 515795799,
        "sender_full_name": "Fernando Chu",
        "timestamp": 1746218928
    },
    {
        "content": "<p>I think it's</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">myCat_id_def</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">somecomplicatedTermInAStruct</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>and then rewrite using that.</p>",
        "id": 515796310,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746219123
    },
    {
        "content": "<p>right, I guess this works, thanks; still wondering if there's something like an attribute that gives me this for free</p>",
        "id": 515796534,
        "sender_full_name": "Fernando Chu",
        "timestamp": 1746219204
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">simps</span><span class=\"kd\">]</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">myCat</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n</code></pre></div>\n<p>should do, assuming <code>simps</code> is configured correctly</p>",
        "id": 515796755,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1746219309
    },
    {
        "content": "<p>This works, great, thank you!</p>",
        "id": 515797070,
        "sender_full_name": "Fernando Chu",
        "timestamp": 1746219437
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"587858\">Fernando Chu</span> has marked this topic as resolved.</p>",
        "id": 515797077,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746219441
    }
]