[
    {
        "content": "<p>vscode: 1.84.2<br>\nLean: 4.9.0<br>\nmwe: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">specialize</span><span class=\"kd\">]</span>\n<span class=\"n\">unsafe</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Monad</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">sz</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">USize</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">NonScalar</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">PNonScalar</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">sz</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\">    </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"bp\">.</span><span class=\"n\">uget</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">lcProof</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\">    </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"bp\">.</span><span class=\"n\">uset</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"w\"> </span><span class=\"n\">lcProof</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">vNew</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unsafeCast</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\">         </span><span class=\"c1\">-- edit `v` in this line</span>\n<span class=\"w\">    </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">sz</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"bp\">.</span><span class=\"n\">uset</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unsafeCast</span><span class=\"w\"> </span><span class=\"n\">vNew</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">lcProof</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">else</span>\n<span class=\"w\">    </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unsafeCast</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span>\n\n\n<span class=\"kd\">@[</span><span class=\"n\">inline</span><span class=\"kd\">]</span>\n<span class=\"n\">unsafe</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mapMUnsafe</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Monad</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">sz</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">USize</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"bp\">.</span><span class=\"n\">size</span>\n<span class=\"w\">  </span><span class=\"n\">unsafeCast</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">sz</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">unsafeCast</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"o\">)</span>\n\n<span class=\"n\">unsafe</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">arr</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">mapMUnsafe</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"n\">arr</span>\n</code></pre></div>\n<p>Steps to reproduce:</p>\n<ol>\n<li>Copy to vscode or online editor <a href=\"https://live.lean-lang.org\">https://live.lean-lang.org</a></li>\n<li>Edit the <code>v</code> variable in the comment line above: <ol>\n<li>Put the cursor behind <code>v</code>, and press <code>Backspace</code> to delete <code>v</code>.</li>\n<li>Press <code>(</code>, and vscode auto insert the right bracket <code>)</code>.</li>\n</ol>\n</li>\n<li>Server has crashed. Continue to input  a <code>v</code> (now the expression is <code>(v)</code>) or undo cannot make server work well again. The file or server must be restarted.</li>\n</ol>\n<p>Note that if I remove one of the attributes or last two definitions, there's no problem.</p>",
        "id": 450106460,
        "sender_full_name": "fonqL",
        "timestamp": 1720515937
    },
    {
        "content": "<p>Also crashes on 4.10.0-rc1. I interpreted the instructions as \"put the cursor to the left of the v, and then press the \"Delete\" button on my keyboard (which deletes the character to the right of the cursor)\", but it also crashes if I put my cursor to the right of the v and press the \"Backspace\" button (which deletes the character to the left of the cursor).</p>",
        "id": 450156727,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720527820
    },
    {
        "content": "<p>Please open an issue!</p>",
        "id": 450177903,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720532936
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span>)</p>",
        "id": 450177927,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720532943
    },
    {
        "content": "<p>I don't think this is a language server issue. <code>lake build</code> also crashes with error code 139 on the input with brackets and gdb produces the following stacktrace when the language server crashes:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"mi\">0</span><span class=\"n\">x00007f8d62c38d90</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean_inc_ref_cold</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"o\">(</span><span class=\"n\">gdb</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">bt</span>\n<span class=\"bp\">#</span><span class=\"mi\">0</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62c38d90</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean_inc_ref_cold</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">1</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b3a181</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">lift_loose_bvars</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">2</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b3a1dd</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">lift_loose_bvars</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">3</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b40ec4</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">std</span><span class=\"bp\">::__</span><span class=\"mi\">1</span><span class=\"bp\">::__</span><span class=\"n\">function</span><span class=\"bp\">::__</span><span class=\"n\">func</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">instantiate_rev</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"bp\">::$_</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">std</span><span class=\"bp\">::__</span><span class=\"mi\">1</span><span class=\"bp\">::</span><span class=\"n\">allocator</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">instantiate_rev</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"bp\">::$_</span><span class=\"mi\">1</span><span class=\"bp\">&gt;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">optional</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">)</span><span class=\"bp\">&gt;::</span><span class=\"n\">operator</span><span class=\"o\">()(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"bp\">&amp;&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">4</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b3d947</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">replace_rec_fn</span><span class=\"bp\">::</span><span class=\"n\">apply</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">5</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b3db09</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">replace_rec_fn</span><span class=\"bp\">::</span><span class=\"n\">apply</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">6</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b3d6a0</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">replace</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">std</span><span class=\"bp\">::__</span><span class=\"mi\">1</span><span class=\"bp\">::</span><span class=\"n\">function</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">optional</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">)</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">7</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62b3f510</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">instantiate_rev</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">8</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc58ec</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">9</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bca691</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">reduce_cases_cnstr</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">buffer</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"n\">ul</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">inductive_val</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc64ba</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_cases</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">11</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc2ff2</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">12</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc01b2</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">13</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc2bb5</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_let</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">14</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc014f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">15</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc5a11</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce_cont</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">16</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc594f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">17</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc5754</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">18</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc9a22</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">try_inline</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc3452</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">20</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc8ef9</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">merge_app_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">21</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc31a7</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">22</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc01b2</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">23</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bccb1a</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">apply_at</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">24</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc7b9f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">float_cases_on_core</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">25</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc30fa</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">26</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc01b2</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">27</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc5bf0</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce_cont</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">28</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc594f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unsigned</span><span class=\"w\"> </span><span class=\"n\">int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">*</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">29</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc5754</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">beta_reduce</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">30</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc3085</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">31</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc01b2</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">32</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc2bb5</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_let</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">33</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bc014f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">34</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bbf4b8</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_lambda</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">35</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bbe788</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_fn</span><span class=\"bp\">::</span><span class=\"n\">operator</span><span class=\"o\">()(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">36</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bbe11d</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_core</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">local_ctx</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bool</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_cfg</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">37</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bf7ed3</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">mk_new_decl</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">pair_ref</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">name</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">buffer</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"n\">ul</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">buffer</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"n\">ul</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">spec_ctx</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">38</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bf0d40</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">specialize</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">buffer</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"n\">ul</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">spec_ctx</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">39</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bef53a</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_app</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">40</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bef175</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">41</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62befe21</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_let</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bef1e8</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">43</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62befa0f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">visit_lambda</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">44</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bef1a6</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">visit</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">45</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bee86f</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize_fn</span><span class=\"bp\">::</span><span class=\"n\">operator</span><span class=\"o\">()(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">pair_ref</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">name</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">46</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62bedc0e</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">specialize</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">environment</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">list_ref</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">pair_ref</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">name</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">expr</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">csimp_cfg</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n<span class=\"bp\">#</span><span class=\"mi\">47</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x00007f8d62ba4558</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">compile</span><span class=\"o\">(</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">options</span><span class=\"w\"> </span><span class=\"n\">const</span><span class=\"bp\">&amp;</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">list_ref</span><span class=\"bp\">&lt;</span><span class=\"n\">lean</span><span class=\"bp\">::</span><span class=\"n\">name</span><span class=\"bp\">&gt;</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">()</span>\n<span class=\"w\">   </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mhuisi</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc1/lib/lean/libleanshared.so</span>\n</code></pre></div>",
        "id": 450181752,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1720533788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"658953\">@fonqL</span>, would you be able to open an issue for this? Given Marc's investigation, it would be best to describe what happens when you run <code>lean</code> on this file, leaving out <code>live.lean-lang.org</code> and the editing instructions.</p>",
        "id": 450190114,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720536150
    },
    {
        "content": "<p>Sorry for my late reply.<br>\n<a href=\"https://github.com/leanprover/lean4/issues/4703\">4703</a></p>",
        "id": 450197289,
        "sender_full_name": "fonqL",
        "timestamp": 1720538118
    },
    {
        "content": "<p>No worries, thanks very much for reporting!</p>",
        "id": 450233064,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720545333
    }
]