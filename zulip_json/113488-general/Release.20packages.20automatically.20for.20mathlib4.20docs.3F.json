[
    {
        "content": "<p>Is it possible to make the CI of mathlib4 docs <a href=\"https://github.com/leanprover-community/mathlib4_docs\">https://github.com/leanprover-community/mathlib4_docs</a> uploads a package of compressed mathlib4 docs pages to the Release page <a href=\"https://github.com/leanprover-community/mathlib4_docs/releases\">https://github.com/leanprover-community/mathlib4_docs/releases</a> ? I think this can be done by adding extra steps before/after <code>Upload artifact</code> step in <a href=\"https://github.com/leanprover-community/mathlib4_docs/blob/main/.github/workflows/docs.yaml\">https://github.com/leanprover-community/mathlib4_docs/blob/main/.github/workflows/docs.yaml</a> .</p>\n<p>It's best to have this as a source of offline mathlib4 docs for my TryLean4 Windows bundle as I don't need to compile it by myself, which takes several hours on the Windows CI machine.</p>\n<p>Currently it can only be downloaded in the Actions tab (for example <a href=\"https://github.com/leanprover-community/mathlib4_docs/actions/runs/13783192013\">https://github.com/leanprover-community/mathlib4_docs/actions/runs/13783192013</a>). The file format also seems a little bit weird: it's a <code>zip</code> file, but after unpacking it's a <code>tar</code> file (anyways my build script can still handle such files).</p>",
        "id": 504895758,
        "sender_full_name": "Jz Pan",
        "timestamp": 1741710699
    },
    {
        "content": "<p>The problem here is that there is no notion of releases for mathlib4_docs. If we could sort that out (e.g. I've proposed elsewhere that Mathlib should just create <code>master-YYYY-MM-DD</code> tags once per day), I'd be happy to see a PR adding a CI step uploading such a bundle.</p>",
        "id": 505267898,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1741819604
    },
    {
        "content": "<p>I think even having a tarball for every release for the existing tags would be handy</p>",
        "id": 505268017,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741819658
    },
    {
        "content": "<p>For trylean, I would guess we want to pin to major versions to avoid situations where two people in the same class download versions a day or two apart</p>",
        "id": 505268162,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741819711
    },
    {
        "content": "<p>I think for the mathlib docs, release for each stable tags, plus \"nightly\" is enough. After all the online version of mathlib docs only have \"nightly\" version.</p>",
        "id": 505323091,
        "sender_full_name": "Jz Pan",
        "timestamp": 1741843898
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/113488-general/topic/Release.20packages.20automatically.20for.20mathlib4.20docs.3F/near/505268162\">said</a>:</p>\n<blockquote>\n<p>For trylean, I would guess we want to pin to major versions to avoid situations where two people in the same class download versions a day or two apart</p>\n</blockquote>\n<p>That's a TODO in my build script, but I haven't add code to actually handle it yet.</p>\n<p>FYI, the trylean bundle is discussed here <a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/trylean.20bundle.20for.20lean4/near/503048480\">#general &gt; trylean bundle for lean4 @ ðŸ’¬</a></p>",
        "id": 505323567,
        "sender_full_name": "Jz Pan",
        "timestamp": 1741844107
    }
]