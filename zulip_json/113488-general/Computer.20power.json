[
    {
        "content": "<p>[soft question]<br>\nHow much does computational power of one's computer influence their productivity in interactive theorem proving?</p>\n<p>I think I've been underestimating this issue over the past year.<br>\nIf, on average, I have to wait 10 seconds after writing every line of proof, having a stronger computer that would do it in 5 seconds on average would probably boost my productivity a lot! Maybe by 20 % or so.</p>\n<p>What do you think?</p>",
        "id": 339541900,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677931522
    },
    {
        "content": "<p>That five seconds is still a lot! I believe I recall that you lose your train of thought when the lag is more than about a hundred milliseconds. That's pretty unlikely for complex proofs, though</p>",
        "id": 339543685,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1677932029
    },
    {
        "content": "<p>I will not get it under 200 ms. Among realistic options, how much should I care about what computer I use?</p>",
        "id": 339544012,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677932135
    },
    {
        "content": "<p>Many serious Lean users have rather strong computers for that purpose.</p>",
        "id": 339545720,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1677932740
    },
    {
        "content": "<p>Any serious Lean user willing to share their computer specs?</p>",
        "id": 339545890,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677932802
    },
    {
        "content": "<p>Searching on Zulip will answer that question.</p>",
        "id": 339546898,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1677933169
    },
    {
        "content": "<p>Maybe search for Ryzen for instance</p>",
        "id": 339546958,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1677933188
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339541900\">said</a>:</p>\n<blockquote>\n<p>[soft question]<br>\nHow much does computational power of one's computer influence their productivity in interactive theorem proving?</p>\n<p>I think I've been underestimating this issue over the past year.<br>\nIf, on average, I have to wait 10 seconds after writing every line of proof, having a stronger computer that would do it in 5 seconds on average would probably boost my productivity a lot! Maybe by 20 % or so.</p>\n<p>What do you think?</p>\n</blockquote>\n<p>What's your setup?</p>",
        "id": 339547354,
        "sender_full_name": "Rémi Bottinelli",
        "timestamp": 1677933335
    },
    {
        "content": "<p>In short: 6x 3.6 GHz, 16 GB RAM</p>\n<p>Details:<br>\nASROCK X370 Killer SLI<br>\nAMD RYZEN 5 2600X<br>\nADATA 16GB KIT DDR4 2400MHz CL17<br>\nWD Black NVMe SSD 500GB<br>\nASUS PHOENIX GeForce GTX 1050TI 4G</p>",
        "id": 339547896,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677933529
    },
    {
        "content": "<p>Anything reasonable with 16 gigs ram should be fine</p>",
        "id": 339548019,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1677933588
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339548019\">said</a>:</p>\n<blockquote>\n<p>Anything reasonable with 16 gigs ram should be fine</p>\n</blockquote>\n<p>Are you suggesting that I cannot get significantly better performance than I currently have?</p>",
        "id": 339549401,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677934126
    },
    {
        "content": "<p>Shouldn't the computer power scale both short and long proofs?</p>",
        "id": 339555408,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677936327
    },
    {
        "content": "<p>In lean3 the delay you experience when editing is linear in the length of the proof</p>",
        "id": 339556530,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677936735
    },
    {
        "content": "<p>Let me split this thread into two. We are discussing two topics where each can help with the waiting times on its own.</p>",
        "id": 339556893,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677936896
    },
    {
        "content": "<p>A message was moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/Computer.20power\">#general &gt; Computer power</a> by <span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span>.</p>",
        "id": 339557023,
        "sender_full_name": "Notification Bot",
        "timestamp": 1677936962
    },
    {
        "content": "<p>10 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/Computer.20power\">#general &gt; Computer power</a> by <span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span>.</p>",
        "id": 339557091,
        "sender_full_name": "Notification Bot",
        "timestamp": 1677936980
    },
    {
        "content": "<p>A message was moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/Tips.20how.20to.20speed.20up.20elaboration\">#general &gt; Tips how to speed up elaboration</a> by <span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span>.</p>",
        "id": 339557146,
        "sender_full_name": "Notification Bot",
        "timestamp": 1677937016
    },
    {
        "content": "<p>5 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/Tips.20how.20to.20speed.20up.20elaboration\">#general &gt; Tips how to speed up elaboration</a> by <span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span>.</p>",
        "id": 339557241,
        "sender_full_name": "Notification Bot",
        "timestamp": 1677937060
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339556530\">said</a>:</p>\n<blockquote>\n<p>In lean3 the delay you experience when editing is linear in the length of the proof</p>\n</blockquote>\n<p>At the same time, the delay should be reciprocal of the computational power, right?</p>",
        "id": 339557597,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677937189
    },
    {
        "content": "<p>I don't think lean usually parallelizes with a tactic block</p>",
        "id": 339557903,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677937294
    },
    {
        "content": "<p>Unless you use <a href=\"https://leanprover-community.github.io/mathlib_docs/tactics.html#async\">tactic#async</a></p>",
        "id": 339557914,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677937303
    },
    {
        "content": "<p>What kind of parallelization/hardware acceleration are theoretically possible, I'm wondering?</p>",
        "id": 339557970,
        "sender_full_name": "Rémi Bottinelli",
        "timestamp": 1677937322
    },
    {
        "content": "<p>Lean 3 does not parallelize tactic-proof elaboration.</p>",
        "id": 339558010,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677937329
    },
    {
        "content": "<p>... except with <code>async</code>, then it does</p>",
        "id": 339558076,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677937357
    },
    {
        "content": "<p>The delay should be reciprocal of the single-thread computer speed, right?</p>",
        "id": 339558090,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677937365
    },
    {
        "content": "<p>Plausibly. Of course, longer proofs have more things in the context, so there's sometimes a quadratic term too.</p>",
        "id": 339558180,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677937404
    },
    {
        "content": "<p>The question stays: Can I get significantly better performance (of Lean elaborator on the same code) if I upgrade my PC?</p>",
        "id": 339569465,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677941594
    },
    {
        "content": "<p>You can try building mathlib4 on different AWS or Azure machines before actually spending money on a new PC</p>",
        "id": 339570150,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1677941876
    },
    {
        "content": "<p>Or, if you SSH via VS Code you can experiment theorem proving on different machines. That would be a better experiment than just building mathlib4</p>",
        "id": 339570520,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1677942040
    },
    {
        "content": "<p>Wait. I can SSH via VS Code? I thought I would have to use something like remote desktop and run VS Code on the remote machine.</p>",
        "id": 339571167,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677942319
    },
    {
        "content": "<p>Ah, wait, when I tried it the infoview didn't work. So I doubt you would be able to see orange bars :/</p>",
        "id": 339573126,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1677943000
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339569465\">said</a>:</p>\n<blockquote>\n<p>The question stays: Can I get significantly better performance (of Lean elaborator on the same code) if I upgrade my PC?</p>\n</blockquote>\n<p>I think the answer is simply \"no\" unless you can get a CPU that's significantly faster than your 3.6 GHz.</p>",
        "id": 339575639,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1677944048
    },
    {
        "content": "<p>Ah! Is my CPU the bottleneck?</p>",
        "id": 339575751,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677944123
    },
    {
        "content": "<p>That's already a very fast CPU. I think I only have access to ones with 2.4 GHz myself. I have &gt;= 32 GB of RAM, but that's mostly useful for having way too many VS Code instances open.</p>",
        "id": 339575801,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1677944156
    },
    {
        "content": "<p>I’ve certainly used lean on a remote server via vs-code’s official ssh plugin (there is a similar plugin for Docker and Kubernetes as well).  It is just like using it on my local machine.  If I recall, you have to install the lean plugin again (through vs code) on the remote machine (after you have sshed in via vs code).</p>",
        "id": 339575912,
        "sender_full_name": "Jason Rute",
        "timestamp": 1677944201
    },
    {
        "content": "<p>Is it better to run IDE on your computer and outsource only the backend execution to the remote server? The alternative is to run IDE with everything on the remote server and connect via some kind of remote desktop. I have experience with neither.</p>",
        "id": 339598405,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677954764
    },
    {
        "content": "<p>I do all my lean development on gitpod</p>",
        "id": 339604846,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677958467
    },
    {
        "content": "<p>I would recommend against using a remote desktop for vscode</p>",
        "id": 339604885,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677958480
    },
    {
        "content": "<p>Why send a whole screen over when you can just send over text data through vscode?</p>",
        "id": 339604937,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677958524
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339604846\">said</a>:</p>\n<blockquote>\n<p>I do all my lean development on gitpod</p>\n</blockquote>\n<p>Would you recommend it to others? Why is it good?</p>",
        "id": 339606903,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677959948
    },
    {
        "content": "<p>I never use it. It's good if the default machine at the end of it is better than the machine you are using to connect to it.</p>",
        "id": 339606942,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1677959991
    },
    {
        "content": "<p>When I am away from my home including at the office I use an iPad. For mobile safari, I've found no sufficient incarnation of VS Code in the browser or app. This herded me toward using (neo)vim over ssh to my home machine.</p>",
        "id": 339607115,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1677960117
    },
    {
        "content": "<p>For low intensity things, I set up Codespaces (and to a lesser extent GitPod) for my students. The limitations of this can quickly become clear.</p>",
        "id": 339607357,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1677960285
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339607357\">said</a>:</p>\n<blockquote>\n<p>For low intensity things, I set up Codespaces (and to a lesser extent GitPod) for my students. The limitations of this can quickly become clear.</p>\n</blockquote>\n<p>I am also interested in this topic, but that's a separate issue. I continue here:<br>\n<a href=\"#narrow/stream/187764-Lean-for-teaching/topic/codespaces\">https://leanprover.zulipchat.com/#narrow/stream/187764-Lean-for-teaching/topic/codespaces</a></p>",
        "id": 339607725,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677960529
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339606942\">said</a>:</p>\n<blockquote>\n<p>I never use it. It's good if the default machine at the end of it is better than the machine you are using to connect to it.</p>\n</blockquote>\n<p>Is there a chance that GitPod will provide me with a better machine than I have?</p>",
        "id": 339608072,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677960813
    },
    {
        "content": "<p>It does for me. 8 core 2.2GHz + 16GB on gitpod, 4 core 2.2Ghz + 8GB locally</p>",
        "id": 339608604,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677961207
    },
    {
        "content": "<p>Plus the 8GB locally is also doing things like running Zulip and Chrome and the vscode UI</p>",
        "id": 339608619,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677961221
    },
    {
        "content": "<p>So even if the gitpod machine is the same as yours there can be still be an advantage</p>",
        "id": 339608627,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677961237
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339608604\">said</a>:</p>\n<blockquote>\n<p>It does for me. 8 core 2.2GHz + 16GB on gitpod, 4 core 2.2Ghz + 8GB locally</p>\n</blockquote>\n<p>But it could be the case for you but not the case for Martin, due to a linguistic feature of the word \"me\" known as <a href=\"https://en.wikipedia.org/wiki/Indexicality\">indexicality</a></p>",
        "id": 339608707,
        "sender_full_name": "Reid Barton",
        "timestamp": 1677961320
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339608627\">said</a>:</p>\n<blockquote>\n<p>So even if the gitpod machine is the same as yours there can be still be an advantage</p>\n</blockquote>\n<p>One such advantage is that you can have two open at the same time without them sharing resources</p>",
        "id": 339610085,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677962279
    },
    {
        "content": "<p>Of course you'll hit the quota limits pretty quickly that way unless you pay them money or ask nicely</p>",
        "id": 339610161,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677962307
    },
    {
        "content": "<p>And if you pay them money, will they give you a stronger machine (in addition to being allowed to use it longer)?</p>",
        "id": 339611120,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1677963025
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339598405\">said</a>:</p>\n<blockquote>\n<p>Is it better to run IDE on your computer and outsource only the backend execution to the remote server? The alternative is to run IDE with everything on the remote server and connect via some kind of remote desktop. I have experience with neither.</p>\n</blockquote>\n<p>I got a powerful server at work that I run all my Coq stuff on remotely by telling proof general in emacs to execute the coq stuff on that other machine.  And it works quite well.</p>\n<p>Then again I only have the server because it would be doing nothing otherwise and our IT doesnt want Coq and all its libraries direclty on my work laptop :)</p>",
        "id": 339615441,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1677966763
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> forgive my naive question.  Is emacs running on the server or on your computer?  If the server are you using emacs through the ssh terminal, or some xwindow sort of thing?</p>",
        "id": 339629113,
        "sender_full_name": "Jason Rute",
        "timestamp": 1677978038
    },
    {
        "content": "<p>I don't use Emacs for Lean right now, but I think it has a system called TRAMP which let's you run Emacs on your computer and edit files on other computers. I'd imagine running programs like Coq through it would require special support so I don't know if that's what Henrik Böving does.</p>",
        "id": 339639611,
        "sender_full_name": "Niels Voss",
        "timestamp": 1677987968
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"115715\">Jason Rute</span> <a href=\"#narrow/stream/113488-general/topic/Computer.20power/near/339629113\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"395550\">Henrik Böving</span> forgive my naive question.  Is emacs running on the server or on your computer?  If the server are you using emacs through the ssh terminal, or some xwindow sort of thing?</p>\n</blockquote>\n<p>What Niels is explaining is also a thing but not the way this proof general stuff works. So basically both the source file of the project and emacs are on my laptop and emacs sends the text file to the remote machine for proof checking/proof search. In coq behavior like this is rather easy to implement since their editor integration is based upon their REPL which they just pipe text into. So if I tell my thing to run \"ssh tonks coqtop\" instead of just \"coqtop\" I'm on a remote machine.</p>",
        "id": 339653586,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1678000771
    },
    {
        "content": "<p>Does that mean you are editing a local file, but all its dependencies are on the remote server?</p>",
        "id": 339653696,
        "sender_full_name": "Reid Barton",
        "timestamp": 1678000841
    },
    {
        "content": "<p>Correct</p>",
        "id": 339653737,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1678000898
    },
    {
        "content": "<p>I only have a checkout of our research project on my machine, all the funky libraries that we use are on the remote machine.</p>",
        "id": 339653827,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1678000958
    },
    {
        "content": "<p>For most Lean tasks, I use my decade old, 4 core, 2.5 Ghz machine, 16gb ram and it's plenty fast enough. Waiting 10 seconds for a proof is abominably slow, and it usually (admittedly not always) indicates there is something wrong with the proof or the lead up to it.</p>\n<p>When I need more compute (e.g., I want to compile a significant portion of mathlib locally) then I ssh into my work machine (12 cores) with VS Code. It's nearly indistinguishable in usability and interface except for the extra power. On my work machine I can compile all of mathlib in about 3.5 hours</p>",
        "id": 340012310,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1678160111
    }
]