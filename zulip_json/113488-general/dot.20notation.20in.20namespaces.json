[
    {
        "content": "<p>Hello,<br>\ni have a few different approaches to function of a type. So i wanted to put them into different namespaces, but realized because the function now isn't directly under the type i can no longer use the syntactic sugar where  i don't need to write the type, when calling the function on a value.<br>\nIs there any way to achieve a short notation here? Or could this behavior perhaps be changed as long as the namespace is open?<br>\nThank you in advance for you time and answers. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">N</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n<span class=\"c1\">-- Error no Nat.foo only N.Nat.foo</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">N</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n</code></pre></div>",
        "id": 516549455,
        "sender_full_name": "suiluj",
        "timestamp": 1746574548
    },
    {
        "content": "<p>You can <code>export</code> it</p>",
        "id": 516552791,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746576657
    },
    {
        "content": "<p>Thank you for your answer. <br>\nI wasn't able to produce the answer i want with export. (It shortly worked but it just was a bug, that didn't work after restarting the file).<br>\nI want to be able to use the shortcut inside of the namespace but self exports don't seem to be possible and even outside i can get <a href=\"http://Nat.foo\">Nat.foo</a> to be defined but it still has the type <a href=\"http://N.Nat.foo\">N.Nat.foo</a> and therefore the . notation doesn't work.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">N</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"c1\">-- doesn't seem to make a difference</span>\n<span class=\"kn\">export</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c1\">-- invalid 'export', self export</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n<span class=\"c1\">-- Error no Nat.foo only N.Nat.foo</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">N</span>\n\n<span class=\"kn\">export</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"c1\">-- N.Nat.foo</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n<span class=\"c1\">-- invalid field notation, function 'N.Nat.foo' does not have argument with type (N.Nat ...) that can be used, it must be explicit or implicit with a unique name</span>\n</code></pre></div>",
        "id": 516562984,
        "sender_full_name": "suiluj",
        "timestamp": 1746583210
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"909038\">suiluj</span> has marked this topic as resolved.</p>",
        "id": 516563124,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746583270
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"909038\">suiluj</span> has marked this topic as unresolved.</p>",
        "id": 516564442,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746584093
    },
    {
        "content": "<p>There are also the options to use <code>section N</code> instead of <code>namespace N</code> or to add <code>_root_.</code> to the theorem name like <code>def _root_.Nat.foo</code> which will name the theorem <code>Nat.foo</code>. Just in case you're not aware of them.</p>\n<p>Do you want your statement to be duplicated as <code>N.Nat.foo</code> AND <code>Nat.foo</code> or just the latter?</p>",
        "id": 516612534,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1746607224
    },
    {
        "content": "<p>Thank you for your answer. My goal is code like this, with different definitions of the helper function <a href=\"http://Nat.foo\">Nat.foo</a> in different Namespaces. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">N</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">N</span>\n\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">M</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">M</span>\n</code></pre></div>",
        "id": 516718357,
        "sender_full_name": "suiluj",
        "timestamp": 1746634478
    },
    {
        "content": "<p>My current solution is to just use different names, but i feel like using namespaces or something similar would make it cleaner and reduce the risk of typing errors.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">fooN</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">valN</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">fooN</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">fooM</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">id</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">valM</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">fooM</span>\n</code></pre></div>",
        "id": 516719328,
        "sender_full_name": "suiluj",
        "timestamp": 1746634768
    }
]