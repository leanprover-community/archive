[
    {
        "content": "<p>In <span class=\"user-mention\" data-user-id=\"674314\">@Igor Khavkine</span>'s PR  <a href=\"https://github.com/leanprover-community/mathlib4/pull/26300\">#26300</a> a reviewer wrote with regard to a particular statement</p>\n<blockquote>\n<p>Instead of using two points <code>x₁</code> and <code>x₂</code>, could you use a single point <code>x</code> in <code>E₁ × E₂</code>, with <code>x.1</code> and <code>x.2</code>? This is strictly more general, as otherwise your statement wouldn't apply directly to a point which is not written as a pair <code>(x₁, x₂)</code>.</p>\n</blockquote>\n<p>I wondered what this meant as, in a simple invocation like the one below, such a statement does indeed apply directly to a point <code>x</code> in <code>E₁ × E₂</code>. Is some other context in which it wouldn't?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Normed</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Constructions</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E₁</span><span class=\"w\"> </span><span class=\"n\">E₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E₁</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E₂</span><span class=\"o\">]</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">obvs</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E₁</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"o\">(</span><span class=\"n\">x₁</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">)</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"o\">(</span><span class=\"n\">x₁</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"o\">)</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E₁</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">E₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">x</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">obvs</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>",
        "id": 544416190,
        "sender_full_name": "A.",
        "timestamp": 1760289439
    },
    {
        "content": "<p>Huh, really?</p>",
        "id": 544417462,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760290725
    },
    {
        "content": "<p>While it isn't more general (<code>x = (x.1, x.2)</code> is defeq in Lean 4), sometimes having both versions helps Lean unify the theorem with the goal/hypotheses.</p>",
        "id": 544424072,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1760297987
    },
    {
        "content": "<p>Thanks! I guess that comes under the heading \"other contexts\". (But I don't think the review suggestion was to provide both versions?)</p>",
        "id": 544493370,
        "sender_full_name": "A.",
        "timestamp": 1760344986
    },
    {
        "content": "<p>I kind of feel like the <code>x.1</code>, <code>x.2</code> version is more idiomatic? But this might be because I'm old enough to remember Lean 3, where <code>x = (x.1, x.2)</code> was not <code>rfl</code> but <code>(a,b).1=a</code> was, and so the suggested version really was more general.</p>",
        "id": 544541456,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1760358996
    }
]