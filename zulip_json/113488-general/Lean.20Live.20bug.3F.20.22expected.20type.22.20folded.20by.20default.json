[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">37</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">57</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Open the above code in Lean Live, and put your cursor before 57, and notice that the \"Expected Type\" info is folded by default:</p>\n<p><a href=\"/user_uploads/3121/aEjrCGfiNDFjaoyD_YOaZDbs/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/aEjrCGfiNDFjaoyD_YOaZDbs/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"270x171\" src=\"/user_uploads/thumbnail/3121/aEjrCGfiNDFjaoyD_YOaZDbs/image.png/840x560.webp\"></a></div><p>Is this intended?</p>",
        "id": 526290422,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751226030
    },
    {
        "content": "<p>I don't like it, but I saw some discussion before and my impression is that it's intended</p>",
        "id": 526290556,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751226144
    },
    {
        "content": "<p>That’s 100% intended. Kenny, there is a tension here because Lean4web has several incompatible use cases. </p>\n<p>One extreme case is people who want to take a look at Lean without installing <em>anything</em> on their computer. Those are total beginners, they may even feel that installing git is complicated (see another thread in this channel). For them, the expected type panel is extremely confusing.</p>\n<p>The other extreme is expert users who come here on Zulip to help people. They follow the link from code blocks and land in live-lean where they want to see all the complexity to debug problems.</p>\n<p>Now Lean4web needs to choose a default value and the answer is pretty obvious: we pick the beginner friendly value.</p>",
        "id": 526332864,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751267496
    },
    {
        "content": "<p>However this is not the end of the story. If you want to help, you can expose a setting to do that. There are two levels: the settings dialog you get in the Lean4web menu and the url scheme. This simply need some work. If the current situation bothers you enough, you can contribute this.</p>",
        "id": 526333065,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751267581
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/lean4web/commit/8b3e3c8dde9397be59db4ec203b00f514e91119d\">https://github.com/leanprover-community/lean4web/commit/8b3e3c8dde9397be59db4ec203b00f514e91119d</a> is an example exposing a setting to the menu.</p>",
        "id": 526333165,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751267623
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/lean4web/commit/8c690f4c89fd83b08d1dda9a35b9f8253c64523f\">https://github.com/leanprover-community/lean4web/commit/8c690f4c89fd83b08d1dda9a35b9f8253c64523f</a> is an example allowing to set something through the url.</p>",
        "id": 526333271,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751267663
    },
    {
        "content": "<p>The first option (adding a settings to the settings dialog) seems really easy, and then you can tell your browser to remember your settings (there is a setting for this!).</p>",
        "id": 526333671,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751267822
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/113488-general/topic/Lean.20Live.20bug.3F.20.22expected.20type.22.20folded.20by.20default/near/526332864\">said</a>:</p>\n<blockquote>\n<p>That’s 100% intended. Kenny, there is a tension here because Lean4web has several incompatible use cases. </p>\n<p>...</p>\n<p>Now Lean4web needs to choose a default value and the answer is pretty obvious: we pick the beginner friendly value.</p>\n</blockquote>\n<p>I think it is weird that lean4web and the default lean installation have different opinions about what the beginner friendly value is</p>",
        "id": 526377954,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751282731
    },
    {
        "content": "<p>I agree with Mario here: Why is hiding the expected type beginner-friendly?</p>",
        "id": 526378880,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1751283054
    },
    {
        "content": "<p>I'm not even disagreeing with this point, I'm just saying it's some kind of dysfunction that different parts of the intial experience are disagreeing about what the ideal initial experience is</p>",
        "id": 526379325,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751283239
    },
    {
        "content": "<p>maybe there is a case to be made for hiding the expected type, but I would like that case to be made upstream on the extension</p>",
        "id": 526379469,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751283292
    }
]