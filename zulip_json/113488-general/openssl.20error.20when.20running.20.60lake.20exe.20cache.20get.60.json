[
    {
        "content": "<p>I am trying to start a lean project in a computing cluster, and I get the following error when running <code>lake exe cache get</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Attempting</span> <span class=\"n\">to</span> <span class=\"n\">download</span> <span class=\"mi\">4014</span> <span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">OpenSSL</span><span class=\"bp\">/</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">.</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span><span class=\"mi\">16000069</span><span class=\"o\">:</span><span class=\"n\">STORE</span> <span class=\"n\">routines</span><span class=\"o\">::</span><span class=\"n\">unregistered</span> <span class=\"n\">scheme</span>\n<span class=\"n\">Downloaded</span><span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">attempted</span> <span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4014</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"bp\">%</span><span class=\"o\">],</span> <span class=\"mi\">1</span> <span class=\"n\">failedOpenSSL</span><span class=\"bp\">/</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">.</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span><span class=\"mi\">16000069</span><span class=\"o\">:</span><span class=\"n\">STORE</span> <span class=\"n\">routines</span><span class=\"o\">::</span><span class=\"n\">unregistered</span> <span class=\"n\">scheme</span>\n<span class=\"n\">Downloaded</span><span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">attempted</span> <span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">4014</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"bp\">%</span><span class=\"o\">],</span> <span class=\"mi\">2</span> <span class=\"n\">failedOpenSSL</span><span class=\"bp\">/</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">.</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span><span class=\"mi\">16000069</span><span class=\"o\">:</span><span class=\"n\">STORE</span> <span class=\"n\">routines</span><span class=\"o\">::</span><span class=\"n\">unregistered</span> <span class=\"n\">scheme</span>\n<span class=\"n\">Downloaded</span><span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">attempted</span> <span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">4014</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"bp\">%</span><span class=\"o\">],</span> <span class=\"mi\">3</span> <span class=\"n\">failedOpenSSL</span><span class=\"bp\">/</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">.</span><span class=\"mi\">8</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span><span class=\"mi\">16000069</span><span class=\"o\">:</span><span class=\"n\">STORE</span> <span class=\"n\">routines</span><span class=\"o\">::</span><span class=\"n\">unregistered</span> <span class=\"n\">scheme</span>\n<span class=\"bp\">...</span>\n</code></pre></div>\n<p>Any idea of what could be the problem?</p>",
        "id": 407716344,
        "sender_full_name": "Miguel Marco",
        "timestamp": 1702470807
    },
    {
        "content": "<p>does it work to call <code>curl</code> directly to download a file?</p>",
        "id": 407717406,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1702471180
    },
    {
        "content": "<p>e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">curl</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">lakecache.blob.core.windows.net</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">/</span><span class=\"n\">f</span><span class=\"bp\">/</span><span class=\"mi\">7</span><span class=\"n\">d56bc4bb976be8d.ltar</span> <span class=\"c1\">--output out.ltar</span>\n</code></pre></div>",
        "id": 407717613,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1702471236
    },
    {
        "content": "<p>also try adding <code>-v</code> and show the error message</p>",
        "id": 407717913,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1702471338
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>what I get</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>curl<span class=\"w\"> </span>https://lakecache.blob.core.windows.net/mathlib4/f/7d56bc4bb976be8d.ltar<span class=\"w\"> </span>--output<span class=\"w\"> </span>out.ltar<span class=\"w\"> </span>-v\n<span class=\"gp\">  % </span>Total<span class=\"w\">    </span>%<span class=\"w\"> </span>Received<span class=\"w\"> </span>%<span class=\"w\"> </span>Xferd<span class=\"w\">  </span>Average<span class=\"w\"> </span>Speed<span class=\"w\">   </span>Time<span class=\"w\">    </span>Time<span class=\"w\">     </span>Time<span class=\"w\">  </span>Current\n<span class=\"go\">                                 Dload  Upload   Total   Spent    Left  Speed</span>\n<span class=\"go\">  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 20.150.95.196:443...</span>\n<span class=\"go\">* Connected to lakecache.blob.core.windows.net (20.150.95.196) port 443 (#0)</span>\n<span class=\"go\">* ALPN, offering h2</span>\n<span class=\"go\">* ALPN, offering http/1.1</span>\n<span class=\"go\">*  CAfile: /etc/ssl/certs/ca-certificates.crt</span>\n<span class=\"go\">*  CApath: /etc/ssl/certs</span>\n<span class=\"go\">* TLSv1.0 (OUT), TLS header, Certificate Status (22):</span>\n<span class=\"go\">} [5 bytes data]</span>\n<span class=\"go\">* TLSv1.3 (OUT), TLS handshake, Client hello (1):</span>\n<span class=\"go\">} [512 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS header, Certificate Status (22):</span>\n<span class=\"go\">{ [5 bytes data]</span>\n<span class=\"go\">  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* TLSv1.3 (IN), TLS handshake, Server hello (2):</span>\n<span class=\"go\">{ [85 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS handshake, Certificate (11):</span>\n<span class=\"go\">{ [5254 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS handshake, Server key exchange (12):</span>\n<span class=\"go\">{ [365 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS handshake, Server finished (14):</span>\n<span class=\"go\">{ [4 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS header, Certificate Status (22):</span>\n<span class=\"go\">} [5 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):</span>\n<span class=\"go\">} [102 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS header, Finished (20):</span>\n<span class=\"go\">} [5 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):</span>\n<span class=\"go\">} [1 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS header, Certificate Status (22):</span>\n<span class=\"go\">} [5 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS handshake, Finished (20):</span>\n<span class=\"go\">} [16 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS header, Finished (20):</span>\n<span class=\"go\">{ [5 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS header, Certificate Status (22):</span>\n<span class=\"go\">{ [5 bytes data]</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS handshake, Finished (20):</span>\n<span class=\"go\">{ [16 bytes data]</span>\n<span class=\"go\">* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384</span>\n<span class=\"go\">* ALPN, server did not agree to a protocol</span>\n<span class=\"go\">* Server certificate:</span>\n<span class=\"go\">*  subject: C=US; ST=WA; L=Redmond; O=Microsoft Corporation; CN=*.blob.core.windows.net</span>\n<span class=\"go\">*  start date: Nov 20 00:42:40 2023 GMT</span>\n<span class=\"go\">*  expire date: Jun 27 23:59:59 2024 GMT</span>\n<span class=\"go\">*  subjectAltName: host \"lakecache.blob.core.windows.net\" matched cert's \"*.blob.core.windows.net\"</span>\n<span class=\"go\">*  issuer: C=US; O=Microsoft Corporation; CN=Microsoft Azure TLS Issuing CA 01</span>\n<span class=\"go\">*  SSL certificate verify ok.</span>\n<span class=\"go\">* TLSv1.2 (OUT), TLS header, Supplemental data (23):</span>\n<span class=\"go\">} [5 bytes data]</span>\n<span class=\"go\">&gt; GET /mathlib4/f/7d56bc4bb976be8d.ltar HTTP/1.1</span>\n<span class=\"go\">&gt; Host: lakecache.blob.core.windows.net</span>\n<span class=\"go\">&gt; User-Agent: curl/7.81.0</span>\n<span class=\"go\">&gt; Accept: */*</span>\n<span class=\"go\">&gt;</span>\n<span class=\"go\">* TLSv1.2 (IN), TLS header, Supplemental data (23):</span>\n<span class=\"go\">{ [5 bytes data]</span>\n<span class=\"go\">* Mark bundle as not supporting multiuse</span>\n<span class=\"go\">&lt; HTTP/1.1 200 OK</span>\n<span class=\"go\">&lt; Content-Length: 3415</span>\n<span class=\"go\">&lt; Content-Type: application/octet-stream</span>\n<span class=\"go\">&lt; Content-MD5: 4hT1W1Edt739hfMG5CG7oA==</span>\n<span class=\"go\">&lt; Last-Modified: Fri, 17 Nov 2023 11:48:53 GMT</span>\n<span class=\"go\">&lt; ETag: 0x8DBE7632C53A08E</span>\n<span class=\"go\">&lt; Server: Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0</span>\n<span class=\"go\">&lt; x-ms-request-id: c506cae5-601e-002b-1ac1-2d4477000000</span>\n<span class=\"go\">&lt; x-ms-version: 2009-09-19</span>\n<span class=\"go\">&lt; x-ms-lease-status: unlocked</span>\n<span class=\"go\">&lt; x-ms-blob-type: BlockBlob</span>\n<span class=\"go\">&lt; Date: Wed, 13 Dec 2023 12:42:02 GMT</span>\n<span class=\"go\">&lt;</span>\n<span class=\"go\">{ [3415 bytes data]</span>\n<span class=\"go\">100  3415  100  3415    0     0   4454      0 --:--:-- --:--:-- --:--:--  4452</span>\n<span class=\"go\">* Connection #0 to host lakecache.blob.core.windows.net left intact</span>\n</code></pre></div>\n</div></div>",
        "id": 407718132,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1702471426
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>I get this</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>[mmarco@gauss test]$ curl <a href=\"https://lakecache.blob.core.windows.net/mathlib4/f/7d56bc4bb976be8d.ltar\">https://lakecache.blob.core.windows.net/mathlib4/f/7d56bc4bb976be8d.ltar</a> --output out.ltar -v<br>\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current<br>\n                                 Dload  Upload   Total   Spent    Left  Speed<br>\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 20.150.95.196...<br>\n* TCP_NODELAY set<br>\n* Connected to <a href=\"http://lakecache.blob.core.windows.net\">lakecache.blob.core.windows.net</a> (20.150.95.196) port 443 (<a href=\"https://github.com/leanprover-community/mathlib4/pull/0\">#0</a>)<br>\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* ALPN, offering h2<br>\n* ALPN, offering http/1.1<br>\n* successfully set certificate verify locations:<br>\n*   CAfile: /etc/pki/tls/certs/ca-bundle.crt<br>\n  CApath: none<br>\n} [5 bytes data]<br>\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):<br>\n} [512 bytes data]<br>\n* TLSv1.3 (IN), TLS handshake, Server hello (2):<br>\n{ [85 bytes data]<br>\n* TLSv1.2 (IN), TLS handshake, Certificate (11):<br>\n{ [5254 bytes data]<br>\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):<br>\n{ [365 bytes data]<br>\n* TLSv1.2 (IN), TLS handshake, Server finished (14):<br>\n{ [4 bytes data]<br>\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):<br>\n} [102 bytes data]<br>\n* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):<br>\n} [1 bytes data]<br>\n* TLSv1.2 (OUT), TLS handshake, Finished (20):<br>\n} [16 bytes data]<br>\n* TLSv1.2 (IN), TLS handshake, Finished (20):<br>\n{ [16 bytes data]<br>\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384<br>\n* ALPN, server did not agree to a protocol<br>\n* Server certificate:<br>\n*  subject: C=US; ST=WA; L=Redmond; O=Microsoft Corporation; CN=*.blob.core.windows.net<br>\n*  start date: Nov 20 00:42:40 2023 GMT<br>\n*  expire date: Jun 27 23:59:59 2024 GMT<br>\n*  subjectAltName: host \"<a href=\"http://lakecache.blob.core.windows.net\">lakecache.blob.core.windows.net</a>\" matched cert's \"*.blob.core.windows.net\"<br>\n*  issuer: C=US; O=Microsoft Corporation; CN=Microsoft Azure TLS Issuing CA 01<br>\n*  SSL certificate verify ok.<br>\n} [5 bytes data]</p>\n<blockquote>\n<p>GET /mathlib4/f/7d56bc4bb976be8d.ltar HTTP/1.1<br>\nHost: <a href=\"http://lakecache.blob.core.windows.net\">lakecache.blob.core.windows.net</a><br>\nUser-Agent: curl/7.61.1<br>\nAccept: <em>/</em></p>\n<p>{ [5 bytes data]<br>\n&lt; HTTP/1.1 200 OK<br>\n&lt; Content-Length: 3415<br>\n&lt; Content-Type: application/octet-stream<br>\n&lt; Content-MD5: 4hT1W1Edt739hfMG5CG7oA==<br>\n&lt; Last-Modified: Fri, 17 Nov 2023 11:48:53 GMT<br>\n&lt; ETag: 0x8DBE7632C53A08E<br>\n&lt; Server: Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0<br>\n&lt; x-ms-request-id: dfa43897-501e-0023-75ce-2d5f04000000<br>\n&lt; x-ms-version: 2009-09-19<br>\n&lt; x-ms-lease-status: unlocked<br>\n&lt; x-ms-blob-type: BlockBlob<br>\n&lt; Date: Wed, 13 Dec 2023 14:16:04 GMT<br>\n&lt; <br>\n{ [3415 bytes data]<br>\n100  3415  100  3415    0     0   4949      0 --:--:-- --:--:-- --:--:--  4942<br>\n* Connection <a href=\"https://github.com/leanprover-community/mathlib4/pull/0\">#0</a> to host <a href=\"http://lakecache.blob.core.windows.net\">lakecache.blob.core.windows.net</a> left intact</p>\n</blockquote>\n</div></div>",
        "id": 407736198,
        "sender_full_name": "Miguel Marco",
        "timestamp": 1702476937
    }
]