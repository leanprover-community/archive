[
    {
        "content": "<p>I have noticed recently that users (perhaps only Windows users?) are posting code with spaces between every line and also with funny characters instead of spaces. The first two examples I saw were with (competent) users posting code directly to me in DMs but now I've seen an example <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20solve.20m.20*.20.28m.20-.201.29.20.2B.20m.20*.202.20.3D.20m.20.2B.20m.20.5E.202.20for.20Nat/near/486046718\">in the wild here</a>. If I \"Copy code\" and then paste into a local VS code then I get the following mess:</p>\n<p><a href=\"/user_uploads/3121/yFOFb-AbOakXq1yZ89d-92Ex/spacing.png\">spacing.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/yFOFb-AbOakXq1yZ89d-92Ex/spacing.png\" title=\"spacing.png\"><img data-original-dimensions=\"822x382\" src=\"/user_uploads/thumbnail/3121/yFOFb-AbOakXq1yZ89d-92Ex/spacing.png/840x560.webp\"></a></div><p>Can anyone diagnose what's going on?</p>",
        "id": 486059906,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733308383
    },
    {
        "content": "<p>Maybe Zulip's relative new pasting with formatting is to blame? I've also seen the extra blank lines when pasting into Obsidian, for example.</p>",
        "id": 486060793,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1733308623
    },
    {
        "content": "<p>The yellow boxes are non-breaking spaces (UTF-8 c2 a0), and the double newlines are just line feeds (0a 0a). An internet search turns up <a href=\"https://github.com/microsoft/vscode/issues/88178\">https://github.com/microsoft/vscode/issues/88178</a>, but I'm not sure if that's the same problem.</p>",
        "id": 486062011,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1733308996
    },
    {
        "content": "<p>Usually this happens when people post code outside of ``````. Is this the case for you here?</p>",
        "id": 486062304,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1733309087
    },
    {
        "content": "<p>The comment \"In recent releases, I'm finding single spaces are copied as spaces, but double spaces are copied as a non-breaking space and a space.\" from the linked issue definitely matches what we're observing.</p>",
        "id": 486062348,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1733309098
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/113488-general/topic/Users.20posting.20spaced-out.20code.20with.20funny.20characters.20in/near/486062304\">said</a>:</p>\n<blockquote>\n<p>Usually this happens when people post code outside of ``````. Is this the case for you here?</p>\n</blockquote>\n<p>Clicking on \"View original message\" in the example I linked to shows that the user correctly used <code> ``` </code>s.</p>",
        "id": 486062560,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733309165
    },
    {
        "content": "<p>I would guess this is also related to a Zulip change; as I understand it the clipboard can contain multiple versions of the copied data (e.g. rich and plain text), and perhaps Zulip is using the former more often now.</p>",
        "id": 486064918,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733309993
    }
]