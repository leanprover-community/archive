[
    {
        "content": "<p>I understand with a regular match expression, I can use a discriminant proof term:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">proofV</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- In here there's a proof the vector is not empty inside proofV</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- In here there's a proof the vector is empty inside proofV</span>\n</code></pre></div>\n<p>Separately, function definition allows us to pattern match right away on the arguments:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">myFun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">myVec</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- In here there's a proof the vector is not empty inside proofV?</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- In here there's a proof the vector is empty inside proofV?</span>\n</code></pre></div>\n<p>How would I access the pattern matching discriminant inside these cases?<br>\nAKA: Where can I get the equivalent <code>proofV</code> term from?</p>",
        "id": 493438993,
        "sender_full_name": "AZMCode",
        "timestamp": 1736799176
    },
    {
        "content": "<p>The only syntax with these proof terms is <code>match</code>.</p>\n<p>Note that internally Lean converts equation form (your second example) almost immediately into <code>match</code> form. The only reason to prefer equation form is aesthetics.</p>",
        "id": 493475439,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1736811891
    },
    {
        "content": "<p>Actually, let me contradict myself. The pattern variable notation lets you define an equation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">myListFun</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">xs</span><span class=\"bp\">@</span><span class=\"n\">h</span><span class=\"o\">:(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">ys</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>",
        "id": 493475807,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1736812074
    },
    {
        "content": "<p>Thanks. I'll use that maybe. In any case, I suppose an extra match statement isn't that bad.</p>",
        "id": 493482870,
        "sender_full_name": "AZMCode",
        "timestamp": 1736815463
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"819695\">AZMCode</span> has marked this topic as resolved.</p>",
        "id": 493482876,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736815466
    }
]