[
    {
        "content": "<p>hi, i have a question about feasibility/utility of extracting a hypergraph data structure from Lean; does anyone more familiar with Lean have the time/inclination for a dm/call?</p>",
        "id": 563835891,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765808416
    },
    {
        "content": "<p>What exactly do you mean with \"extracting a hypergraph\"?</p>",
        "id": 563837560,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765808807
    },
    {
        "content": "<p>I mean i'm envisioning a directed hypergraph where the theorem being proven is the sink, and the source vertices are the pieces needed to prove it</p>",
        "id": 563841546,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765809719
    },
    {
        "content": "<p>this defines a directed hyperedge, and then assembling all of them together yields a graph</p>",
        "id": 563841676,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765809741
    },
    {
        "content": "<p>i'm wondering if there's any additional utility conveyed by this data structure over just the dependency graph</p>",
        "id": 563842120,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765809847
    },
    {
        "content": "<p>As for utility I think there isn't much, unless you're doing it for a single file only.<br>\nFor comparison here's the DAG of imports in Mathlib: <a href=\"https://leanprover-community.github.io/mathlib4_docs/mathlib.html\">https://leanprover-community.github.io/mathlib4_docs/mathlib.html</a><br>\nI find it hard to extract information from such a big graph</p>",
        "id": 563843524,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765810155
    },
    {
        "content": "<p>interesting, can you explain a bit more why there's not much? I'm envisioning that a bunch of for example graph search algorithms could be applied to this sort of structure, and might yield interesting results</p>",
        "id": 563844614,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765810401
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1006317\">Ning Bao</span> <a href=\"#narrow/channel/113488-general/topic/Hypergraph.20structure/near/563844614\">said</a>:</p>\n<blockquote>\n<p>interesting, can you explain a bit more why there's not much?</p>\n</blockquote>\n<p>I explained in the message above, I don't think there's more to add</p>",
        "id": 563846058,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765810711
    },
    {
        "content": "<p>Basically I find the graph big and useless, but I find it cool - I'd print the Mathlib import graph and hang it somewhere.<br>\nThe import graph can be used to optimize Mathlib's build time though.</p>",
        "id": 563846562,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765810819
    },
    {
        "content": "<p>So you think there's nothing to be learned by running graph algorithms on it?</p>",
        "id": 563846871,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765810862
    },
    {
        "content": "<p>I don't know, what do you have in mind? The question is pretty vague, if you have a cool idea I'd love to hear</p>",
        "id": 563847162,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765810915
    },
    {
        "content": "<p>I was wondering if you could say take a set of sources and determine which sinks are reachable</p>",
        "id": 563847348,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765810952
    },
    {
        "content": "<p>or use the graph to determine bottleneck results between fields</p>",
        "id": 563847425,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765810966
    },
    {
        "content": "<p>or use it as a proof conjecture generator, where it can help suggest which sets of lemmas form a minimal likely useful set for proving a targeted result</p>",
        "id": 563847674,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811020
    },
    {
        "content": "<p>\"which sinks are reachable\" sounds like \"find which theorems follow from a set of theorems\", which is an undecidable problem</p>",
        "id": 563847751,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811036
    },
    {
        "content": "<p>or djikstra style search for finding shorter proof pathways</p>",
        "id": 563847785,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811044
    },
    {
        "content": "<p>that problem is only undecidable if you have the full representation of all math</p>",
        "id": 563847890,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811066
    },
    {
        "content": "<p>But in general I think any huge graph can be made useful by adding some way to search it, e.g.<br>\n<a href=\"https://leanprover-community.github.io/queueboard/dependency_dashboard.html\">https://leanprover-community.github.io/queueboard/dependency_dashboard.html</a></p>",
        "id": 563847930,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811075
    },
    {
        "content": "<p>it's certainly decideable if you have a finite number of theorems</p>",
        "id": 563847958,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811081
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1006317\">Ning Bao</span> <a href=\"#narrow/channel/113488-general/topic/Hypergraph.20structure/near/563847890\">said</a>:</p>\n<blockquote>\n<p>that problem is only undecidable if you have the full representation of all math</p>\n</blockquote>\n<p>I don't understand what you mean</p>",
        "id": 563847979,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811086
    },
    {
        "content": "<p>mathlib has a finite number of theorems</p>",
        "id": 563848046,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1006317\">Ning Bao</span> <a href=\"#narrow/channel/113488-general/topic/Hypergraph.20structure/near/563847958\">said</a>:</p>\n<blockquote>\n<p>it's certainly decideable if you have a finite number of theorems</p>\n</blockquote>\n<p>It is not</p>",
        "id": 563848065,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811105
    },
    {
        "content": "<p>really? if i only have 2 theorems, one of which implies the other</p>",
        "id": 563848164,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811131
    },
    {
        "content": "<p>then the problem i posed is certainly decideable</p>",
        "id": 563848269,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811155
    },
    {
        "content": "<p>As long as proofs can be arbitrarily long, and you're asking for a proof search rather than checking what theorems are used in the existing proof, then it's undecidable</p>",
        "id": 563848284,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811159
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1006317\">Ning Bao</span> <a href=\"#narrow/channel/113488-general/topic/Hypergraph.20structure/near/563848269\">said</a>:</p>\n<blockquote>\n<p>then the problem i posed is certainly decideable</p>\n</blockquote>\n<p>It isn't unless I'm misunderstanding the problem statement (which I think I am)</p>",
        "id": 563848480,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811197
    },
    {
        "content": "<p>i'm just imagining doing a reachability analysis on a directed hypergraph where i have a set of marked vertices and i ask what vertices are reachable</p>",
        "id": 563848672,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811231
    },
    {
        "content": "<p>i'm not trying to violate godel</p>",
        "id": 563848767,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811249
    },
    {
        "content": "<p>Oh so you're asking about the existing proofs and not which theorems can prove others.<br>\nOkay, then I have no idea what you mean by:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"1006317\">Ning Bao</span> <a href=\"#narrow/channel/113488-general/topic/Hypergraph.20structure/near/563847674\">said</a>:</p>\n<blockquote>\n<p>or use it as a proof conjecture generator, where it can help suggest which sets of lemmas form a minimal likely useful set for proving a targeted result</p>\n</blockquote>",
        "id": 563849239,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811339
    },
    {
        "content": "<p>yeah so here it would be asking what additional vertex/vertices with which connectivity would allow a new result to be proven</p>",
        "id": 563849560,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811396
    },
    {
        "content": "<p>e.g. maybe theorem A is reachable from vertices X and Y and theorem B is reachable from X, Y, and Z</p>",
        "id": 563849786,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811435
    },
    {
        "content": "<p>As long as you're talking about a \"new result\", your question becomes undecidable.</p>",
        "id": 563849790,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811436
    },
    {
        "content": "<p>well i don't think the hypergraph gives you the proof, it doesn't have enough type structure to do that</p>",
        "id": 563849931,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811460
    },
    {
        "content": "<p>but it could give you a sense of what types of results to attempt to prove</p>",
        "id": 563850009,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811474
    },
    {
        "content": "<p>I don't understand what you mean, can you provide a concrete example?</p>",
        "id": 563851891,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765811821
    },
    {
        "content": "<p>yeah, i'm not sure i can. it's hard for me to visualize what would or wouldn't be feasible with this data structure without building it and trying, so it's possible that this particular direction doesn't make sense</p>",
        "id": 563852322,
        "sender_full_name": "Ning Bao",
        "timestamp": 1765811922
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"239415\" href=\"/#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Theorem-level.20dependency.20graph/with/564103011\">#metaprogramming / tactics &gt; Theorem-level dependency graph</a></p>",
        "id": 564114518,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765912053
    }
]