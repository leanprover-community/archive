[
    {
        "content": "<p>Upcoming semester, I am teaching a Lean course, and I would like to use verso for this. Is there a way to make a (simple) table? The usual Markdown syntax does not seem to work.</p>",
        "id": 507232037,
        "sender_full_name": "Peter Pfaffelhuber",
        "timestamp": 1742550307
    },
    {
        "content": "<p>CC <span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span></p>",
        "id": 507232404,
        "sender_full_name": "Henrik BÃ¶ving",
        "timestamp": 1742550424
    },
    {
        "content": "<p>There is a table at <a href=\"https://lean-lang.org/doc/reference/latest/Basic-Types/Tuples/#tuples\">https://lean-lang.org/doc/reference/latest/Basic-Types/Tuples/#tuples</a>, the source of which is at <a href=\"https://github.com/leanprover/reference-manual/blob/4854c14961cf421aa5d8c4b91e1a2241afe0e39d/Manual/BasicTypes/Products.lean#L31\">https://github.com/leanprover/reference-manual/blob/4854c14961cf421aa5d8c4b91e1a2241afe0e39d/Manual/BasicTypes/Products.lean#L31</a></p>",
        "id": 507233704,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1742550843
    },
    {
        "content": "<p>Verso doesn't have a built-in table syntax, but rather relies on the extensibility mechanism to let users define them as a library. <span class=\"user-mention\" data-user-id=\"260921\">@Markus Himmel</span> linked to an example of that - is it enough to help you get done what you need?</p>",
        "id": 507240173,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1742552903
    },
    {
        "content": "<p>Thanks for the answers and the hint! I will try to make this work using the ref.</p>",
        "id": 507240299,
        "sender_full_name": "Peter Pfaffelhuber",
        "timestamp": 1742552950
    },
    {
        "content": "<p>Please feel free to ping me any time if you get stuck - there's not yet enough guidance on how to use this thing.</p>",
        "id": 507240620,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1742553036
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"354934\">David Thrane Christiansen</span> <a href=\"#narrow/channel/113488-general/topic/Tables.20in.20verso/near/507240620\">schrieb</a>:</p>\n<blockquote>\n<p>Please feel free to ping me any time if you get stuck - there's not yet enough guidance on how to use this thing.</p>\n</blockquote>\n<p>Now my tables work, thanks for pointing me in the right direction... A quick follow-up question: Is there a way to force a newline (&lt;br&gt;) within a cell in a table?</p>",
        "id": 507352687,
        "sender_full_name": "Peter Pfaffelhuber",
        "timestamp": 1742585555
    },
    {
        "content": "<p>Great to hear it!</p>\n<p>The markup language doesn't include an equivalent of <code>&lt;br&gt;</code> by default, but you can implement one. Assuming you're in the manual genre, you can make something like <code>{br}[]</code> work.</p>\n<p>Try sticking this at the start of the file:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Inline</span><span class=\"bp\">.</span><span class=\"n\">br</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Manual</span><span class=\"bp\">.</span><span class=\"n\">Inline</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"ss\">`My.Namespace.br</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">My</span><span class=\"bp\">.</span><span class=\"n\">Namespace</span><span class=\"bp\">.</span><span class=\"n\">br</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Doc</span><span class=\"bp\">.</span><span class=\"n\">Inline</span><span class=\"w\"> </span><span class=\"n\">Manual</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Doc</span><span class=\"bp\">.</span><span class=\"n\">Inline</span><span class=\"w\"> </span><span class=\"n\">Manual</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"n\">Inline</span><span class=\"bp\">.</span><span class=\"n\">br</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[]</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Output</span><span class=\"bp\">.</span><span class=\"n\">Html</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">@[</span><span class=\"n\">inline_extension</span><span class=\"w\"> </span><span class=\"n\">My</span><span class=\"bp\">.</span><span class=\"n\">Namespace</span><span class=\"bp\">.</span><span class=\"n\">br</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">My</span><span class=\"bp\">.</span><span class=\"n\">Namespace</span><span class=\"bp\">.</span><span class=\"n\">br</span><span class=\"bp\">.</span><span class=\"n\">descr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InlineDescr</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">traverse</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"n\">none</span>\n<span class=\"w\">  </span><span class=\"n\">toHtml</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"o\">{{</span><span class=\"bp\">&lt;</span><span class=\"n\">br</span><span class=\"bp\">/&gt;</span><span class=\"o\">}}</span>\n<span class=\"w\">  </span><span class=\"n\">toTeX</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">none</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">My</span><span class=\"bp\">.</span><span class=\"n\">Namespace</span>\n</code></pre></div>\n<p>Then you can write <code>Here's some text{br}[]with a new line.</code></p>",
        "id": 507373976,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1742594041
    },
    {
        "content": "<p>(adjust namespaces and place in imported module as you see fit)</p>",
        "id": 507374033,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1742594059
    },
    {
        "content": "<p>Wow, it works! Marvelous, many thanks!!</p>",
        "id": 507375706,
        "sender_full_name": "Peter Pfaffelhuber",
        "timestamp": 1742594848
    },
    {
        "content": "<p>Thanks for being patient and figuring out how this all works :)</p>",
        "id": 507376597,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1742595281
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span> My project <code>leancourse</code> is progressing well. However, I discovered the following unintuitive behavior: When I run <code>lake exe leancourse --output _out --verbose</code>, the content of <code>_out/html-single</code> is almost identical to <code>_out/html-multi</code>, i.e. <code>html-multi</code> is not what I thought it would be since it is a single page. It works well when I run <code>lake exe leancourse --output _out --verbose --depth 2</code>, i.e. when adding the <code>--depth 2</code>. Not sure if this is intended.</p>",
        "id": 510021640,
        "sender_full_name": "Peter Pfaffelhuber",
        "timestamp": 1743708557
    },
    {
        "content": "<p>It is intended, but it may not be what is best - the default HTML splitting depth should probably be 2, rather than 0. I'll change it - thanks!</p>",
        "id": 510086562,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1743742872
    }
]