[
    {
        "content": "<p>Can I change the color settings of Lean Infoview in VS Code?</p>\n<p>I would like to change the color of items in the local context to the same color as variables in code.</p>",
        "id": 386632201,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1692716886
    },
    {
        "content": "<p>You can use the <code>lean4.infoview.style</code> setting to set custom colours</p>",
        "id": 386632888,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1692717069
    },
    {
        "content": "<p>More explicitly: if you change that setting to <code> .goal-hyp {color: #ffffff !important; }</code> your hypothesis names will become completely white.<br>\nThe other settings you may want to change and their defaults (in dark mode I guess) are</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">.</span><span class=\"n\">goal</span><span class=\"bp\">-</span><span class=\"n\">goals</span> <span class=\"o\">{</span> <span class=\"n\">color</span><span class=\"o\">:</span> <span class=\"bp\">#</span><span class=\"mi\">569</span><span class=\"n\">cd6</span><span class=\"bp\">;</span> <span class=\"o\">}</span>\n<span class=\"bp\">.</span><span class=\"n\">goal</span><span class=\"bp\">-</span><span class=\"n\">vdash</span> <span class=\"o\">{</span> <span class=\"n\">color</span><span class=\"o\">:</span> <span class=\"bp\">#</span><span class=\"mi\">569</span><span class=\"n\">cd6</span><span class=\"bp\">;</span> <span class=\"o\">}</span>\n<span class=\"bp\">.</span><span class=\"n\">goal</span><span class=\"bp\">-</span><span class=\"n\">case</span> <span class=\"o\">{</span> <span class=\"n\">color</span><span class=\"o\">:</span> <span class=\"bp\">#</span><span class=\"n\">a1df90</span><span class=\"bp\">;</span> <span class=\"o\">}</span>\n<span class=\"bp\">.</span><span class=\"n\">goal</span><span class=\"bp\">-</span><span class=\"n\">hyp</span> <span class=\"o\">{</span> <span class=\"n\">color</span><span class=\"o\">:</span> <span class=\"bp\">#</span><span class=\"n\">ffcc00</span><span class=\"bp\">;</span> <span class=\"o\">}</span>\n<span class=\"bp\">.</span><span class=\"n\">goal</span><span class=\"bp\">-</span><span class=\"n\">inaccessible</span> <span class=\"o\">{</span>\n    <span class=\"n\">color</span><span class=\"o\">:</span> <span class=\"n\">var</span><span class=\"o\">(</span><span class=\"c1\">--vscode-editor-foreground);</span>\n    <span class=\"n\">opacity</span><span class=\"o\">:</span> <span class=\"mi\">0</span><span class=\"bp\">.</span><span class=\"mi\">7</span><span class=\"bp\">;</span>\n    <span class=\"n\">font</span><span class=\"bp\">-</span><span class=\"n\">style</span><span class=\"o\">:</span> <span class=\"n\">italic</span><span class=\"bp\">;</span>\n    <span class=\"n\">font</span><span class=\"bp\">-</span><span class=\"n\">weight</span><span class=\"o\">:</span> <span class=\"n\">normal</span><span class=\"bp\">;</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n<p>I found all this with the vscode \"Toggle developer tools\" from the help menu</p>",
        "id": 386635214,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1692717699
    },
    {
        "content": "<p>I wonder how hard it would be to add true semantic highlighting to the info view. I never looked at how the infoview works, but I‚Äôm guessing it‚Äôs not a normal text editor in vscode, so you‚Äôd have to do something really wonky?</p>",
        "id": 386685592,
        "sender_full_name": "Max Nowak üêâ",
        "timestamp": 1692735160
    },
    {
        "content": "<p>Essentially you'd have to change <a href=\"https://github.com/leanprover/lean4/blob/83556a11206c74cf08291c74614126ce9e57da76/src/Lean/Widget/InteractiveCode.lean#L44\"><code>CodeWithInfos</code></a> to <code>TaggedText (SubexprInfo | SemanticToken)</code> and then produce the right semantic token markers in <code>ppExprTagged</code>.</p>",
        "id": 386691284,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1692737899
    },
    {
        "content": "<p>I tried to add the following to my <code>settings.json</code> somewhere in the middle:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>    <span class=\"s2\">\"lean4.infoview.style\"</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n        <span class=\"s2\">\"goal-vdash\"</span><span class=\"o\">:</span> <span class=\"s2\">\"#33ff00\"</span>\n    <span class=\"o\">},</span>\n</code></pre></div>\n<p>Unfortunately, I get the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Incorrect</span> <span class=\"n\">type.</span> <span class=\"n\">Expected</span> <span class=\"s2\">\"string\"</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>Apparently, I don't know the right syntax. Can somebody please tell me what the correct syntax is?</p>",
        "id": 386853998,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1692792990
    },
    {
        "content": "<p>It should be a string with pure css Like<code>\"lean4.infoview.style\": \".goal-vdash {color: #e8e8e2 !important;}\"</code> I think</p>",
        "id": 386854615,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1692793208
    },
    {
        "content": "<p>Thank you very much! It works!</p>\n<p>Now I will be able to change everything to the colors I use in the code.</p>\n<p>I just hoped that <code>lean4.infoview.style</code> would work similarly to:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>    <span class=\"s2\">\"editor.tokenColorCustomizations\"</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n        <span class=\"s2\">\"comments\"</span><span class=\"o\">:</span> <span class=\"s2\">\"#999999\"</span><span class=\"o\">,</span>\n        <span class=\"s2\">\"keywords\"</span><span class=\"o\">:</span> <span class=\"s2\">\"#e8e8e2\"</span><span class=\"o\">,</span>\n    <span class=\"o\">},</span>\n</code></pre></div>\n<p>Unfortunately, it doesn't.</p>",
        "id": 386855045,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1692793359
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvo≈ô√°k</span> has marked this topic as resolved.</p>",
        "id": 386870474,
        "sender_full_name": "Notification Bot",
        "timestamp": 1692797732
    }
]