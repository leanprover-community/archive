[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">d</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"c1\">-- f 0 1 2 : Nat</span>\n</code></pre></div>\n<p>It's a bit strange.<br>\nMy expected behavior is <code>f 0</code> or <code>f 0 1 2 3</code>.</p>",
        "id": 453425483,
        "sender_full_name": "fonqL",
        "timestamp": 1721743937
    },
    {
        "content": "<p>That does seem strange, I think that would be a small <code>Repr</code> bug? And probably worth filing on the Lean 4 repo.</p>",
        "id": 453431822,
        "sender_full_name": "Julian Berman",
        "timestamp": 1721745864
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/issues/4812\">4812</a></p>",
        "id": 453445071,
        "sender_full_name": "fonqL",
        "timestamp": 1721748326
    },
    {
        "content": "<p>You can type <code>lean4#4812</code> and Zulip will display it as <a href=\"https://github.com/leanprover/lean4/pull/4812\">lean4#4812</a></p>",
        "id": 453448445,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721749272
    },
    {
        "content": "<p>Or just <a href=\"https://github.com/leanprover/lean4/pull/4812\">lean#4812</a></p>",
        "id": 453448784,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1721749378
    },
    {
        "content": "<p>Oh thanks. I used to think that <code>lean4#num</code> was pointing to a PR and I just find that issues and PRs share the same serial number. <span aria-label=\"exploding head\" class=\"emoji emoji-1f92f\" role=\"img\" title=\"exploding head\">:exploding_head:</span></p>",
        "id": 453454350,
        "sender_full_name": "fonqL",
        "timestamp": 1721750671
    },
    {
        "content": "<p>Thanks for reporting it. It's a known (but until-now unreported) issue, where the algorithm for pretty printing optional arguments only considers omitting the last optional argument <a href=\"https://github.com/leanprover/lean4/blob/master/src/Lean/PrettyPrinter/Delaborator/Builtins.lean#L433-L435\">here</a>.</p>\n<p>Fixing this is low-priority, but getting <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span>'s on that issue could help motivate putting effort into improving the pretty printing.</p>",
        "id": 453465541,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721753212
    },
    {
        "content": "<p>(By the way <span class=\"user-mention\" data-user-id=\"321696\">@Julian Berman</span>, the <code>Repr</code> typeclass is not used for expression pretty printing, like what <code>#check</code> does — one way you can tell the difference is whether expressions in the output have hovering information. <code>Repr</code> is used by <code>#eval</code> though.)</p>",
        "id": 453465790,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721753303
    },
    {
        "content": "<p>Aha, interesting, thanks for the correction.</p>",
        "id": 453466126,
        "sender_full_name": "Julian Berman",
        "timestamp": 1721753429
    }
]