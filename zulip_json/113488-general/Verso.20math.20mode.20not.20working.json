[
    {
        "content": "<p>I was fiddling around with Verso by getting it to generate a simple website. One page is generated with the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">VersoBlog</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"w\"> </span><span class=\"n\">Genre</span><span class=\"w\"> </span><span class=\"n\">Blog</span>\n\n<span class=\"bp\">#</span><span class=\"n\">doc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Page</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"A Test Site\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n\n<span class=\"n\">This</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">page</span>\n<span class=\"bp\">$$</span><span class=\"n\">x</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"bp\">$$</span>\n</code></pre></div>\n<p>but this shows up as<br>\n<a href=\"/user_uploads/3121/UZ4qAHeyPqlNoVENiFbmGm_b/image.png\">image.png</a><br>\nSingle dollar signs have a similar problem. How can I get math mode to be displayed properly?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/UZ4qAHeyPqlNoVENiFbmGm_b/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"399x156\" src=\"/user_uploads/thumbnail/3121/UZ4qAHeyPqlNoVENiFbmGm_b/image.png/840x560.webp\"></a></div><p>I downloaded the Verso documentation as a html bundle, and it says this about math mode:<br>\n<a href=\"/user_uploads/3121/MdFm7v1cdQlGnqXnDa9Jys4E/image.png\">image.png</a><br>\nso presumably the Verso manual itself has the same problem.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/MdFm7v1cdQlGnqXnDa9Jys4E/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1021x101\" src=\"/user_uploads/thumbnail/3121/MdFm7v1cdQlGnqXnDa9Jys4E/image.png/840x560.webp\"></a></div>",
        "id": 510347650,
        "sender_full_name": "Niels Voss",
        "timestamp": 1743840573
    },
    {
        "content": "<p>Here's the generated HTML in case it's relevant:</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Header</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"cp\">&lt;!DOCTYPE html&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">meta</span> <span class=\"na\">charset</span><span class=\"o\">=</span><span class=\"s\">\"UTF-8\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>A Test Site — Verso <span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;&lt;</span><span class=\"nt\">link</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"static/style.css\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n\n<span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"s2\">\"DOMContentLoaded\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">=&gt;</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">m</span><span class=\"w\"> </span><span class=\"k\">of</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s2\">\".math.inline\"</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">katex</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">.</span><span class=\"nx\">textContent</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">m</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nx\">throwOnError</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">displayMode</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">});</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">m</span><span class=\"w\"> </span><span class=\"k\">of</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s2\">\".math.display\"</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nx\">katex</span><span class=\"p\">.</span><span class=\"nx\">render</span><span class=\"p\">(</span><span class=\"nx\">m</span><span class=\"p\">.</span><span class=\"nx\">textContent</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">m</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"nx\">throwOnError</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">displayMode</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">});</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">});</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n\n<span class=\"p\">&lt;</span><span class=\"nt\">link</span> <span class=\"na\">rel</span><span class=\"o\">=</span><span class=\"s\">\"stylesheet\"</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css\"</span> <span class=\"na\">integrity</span><span class=\"o\">=</span><span class=\"s\">\"sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV\"</span> <span class=\"na\">crossorigin</span><span class=\"o\">=</span><span class=\"s\">\"anonymous\"</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">defer</span><span class=\"o\">=</span><span class=\"s\">\"defer\"</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js\"</span> <span class=\"na\">integrity</span><span class=\"o\">=</span><span class=\"s\">\"sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8\"</span> <span class=\"na\">crossorigin</span><span class=\"o\">=</span><span class=\"s\">\"anonymous\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">script</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js\"</span> <span class=\"na\">integrity</span><span class=\"o\">=</span><span class=\"s\">\"sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te\"</span> <span class=\"na\">crossorigin</span><span class=\"o\">=</span><span class=\"s\">\"anonymous\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">header</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"inner-wrap\"</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">a</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"logo\"</span> <span class=\"na\">href</span><span class=\"o\">=</span><span class=\"s\">\"\"</span><span class=\"p\">&gt;&lt;</span><span class=\"nt\">img</span> <span class=\"na\">src</span><span class=\"o\">=</span><span class=\"s\">\"static/logo.png\"</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">a</span><span class=\"p\">&gt;&lt;</span><span class=\"nt\">nav</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"top\"</span> <span class=\"na\">role</span><span class=\"o\">=</span><span class=\"s\">\"navigation\"</span><span class=\"p\">&gt;</span>\n          <span class=\"p\">&lt;</span><span class=\"nt\">ol</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">ol</span><span class=\"p\">&gt;</span>\n          <span class=\"p\">&lt;/</span><span class=\"nt\">nav</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;/</span><span class=\"nt\">header</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"main\"</span> <span class=\"na\">role</span><span class=\"o\">=</span><span class=\"s\">\"main\"</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"wrap\"</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"frontpage\"</span><span class=\"p\">&gt;</span>\n          <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n            A Test Site<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n          <span class=\"p\">&lt;</span><span class=\"nt\">p</span><span class=\"p\">&gt;</span>\n            This is a test page\n$$x^2 = y^2$$\n<span class=\"p\">&lt;/</span><span class=\"nt\">p</span><span class=\"p\">&gt;</span>\n          <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n      <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;/</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n</code></pre></div>\n</div></div>\n<p>And here's the main file in which the blog is defined (it was copied from one of the Verso examples):</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Header</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Doc.Front</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">VersoBlog</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"w\"> </span><span class=\"n\">Genre</span><span class=\"w\"> </span><span class=\"n\">Blog</span><span class=\"w\"> </span><span class=\"n\">Site</span><span class=\"w\"> </span><span class=\"n\">Syntax</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Output</span><span class=\"w\"> </span><span class=\"n\">Html</span><span class=\"w\"> </span><span class=\"n\">Template</span><span class=\"w\"> </span><span class=\"n\">Theme</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">theme</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Theme</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">Theme.default</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"n\">primaryTemplate</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">postList</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">      </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">param</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"s2\">\"posts\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">none</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Html.empty</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">html</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">h2</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"s2\">\"Posts\"</span><span class=\"w\"> </span><span class=\"bp\">&lt;/</span><span class=\"n\">h2</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"o\">}}</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">html</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">catList</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">      </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">param</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Post.Categories</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"categories\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">none</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Html.empty</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">cats</span><span class=\"o\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{{</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;</span><span class=\"n\">div</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"bp\">=</span><span class=\"s2\">\"category-directory\"</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;</span><span class=\"n\">h2</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"s2\">\"Categories\"</span><span class=\"w\"> </span><span class=\"bp\">&lt;/</span><span class=\"n\">h2</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;</span><span class=\"n\">ul</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"n\">cats.map</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">target</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">              </span><span class=\"o\">{{</span><span class=\"bp\">&lt;</span><span class=\"n\">li</span><span class=\"bp\">&gt;&lt;</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">href</span><span class=\"bp\">=</span><span class=\"o\">{{</span><span class=\"n\">target</span><span class=\"o\">}}</span><span class=\"bp\">&gt;</span><span class=\"o\">{{</span><span class=\"n\">Post.Category.name</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"o\">}}</span><span class=\"bp\">&lt;/</span><span class=\"n\">a</span><span class=\"bp\">&gt;&lt;/</span><span class=\"n\">li</span><span class=\"bp\">&gt;</span><span class=\"o\">}}</span>\n<span class=\"w\">            </span><span class=\"o\">}}</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;/</span><span class=\"n\">ul</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;/</span><span class=\"n\">div</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">        </span><span class=\"o\">}}</span>\n<span class=\"w\">    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"o\">{{</span>\n<span class=\"w\">      </span><span class=\"bp\">&lt;</span><span class=\"n\">html</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">        </span><span class=\"bp\">&lt;</span><span class=\"n\">head</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;</span><span class=\"kd\">meta</span><span class=\"w\"> </span><span class=\"n\">charset</span><span class=\"bp\">=</span><span class=\"s2\">\"UTF-8\"</span><span class=\"bp\">/&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;</span><span class=\"n\">title</span><span class=\"bp\">&gt;</span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"title\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}}</span><span class=\"w\"> </span><span class=\"s2\">\" — Verso \"</span><span class=\"bp\">&lt;/</span><span class=\"n\">title</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;</span><span class=\"n\">link</span><span class=\"w\"> </span><span class=\"n\">rel</span><span class=\"bp\">=</span><span class=\"s2\">\"stylesheet\"</span><span class=\"w\"> </span><span class=\"n\">href</span><span class=\"bp\">=</span><span class=\"s2\">\"/static/style.css\"</span><span class=\"bp\">/&gt;</span>\n<span class=\"w\">          </span><span class=\"o\">{{</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">builtinHeader</span><span class=\"w\"> </span><span class=\"o\">}}</span>\n<span class=\"w\">        </span><span class=\"bp\">&lt;/</span><span class=\"n\">head</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">        </span><span class=\"bp\">&lt;</span><span class=\"n\">body</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;</span><span class=\"n\">header</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;</span><span class=\"n\">div</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"bp\">=</span><span class=\"s2\">\"inner-wrap\"</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"bp\">=</span><span class=\"s2\">\"logo\"</span><span class=\"w\"> </span><span class=\"n\">href</span><span class=\"bp\">=</span><span class=\"s2\">\"/\"</span><span class=\"bp\">&gt;&lt;</span><span class=\"n\">img</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"bp\">=</span><span class=\"s2\">\"/static/logo.png\"</span><span class=\"bp\">/&gt;&lt;/</span><span class=\"n\">a</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">topNav</span><span class=\"w\"> </span><span class=\"o\">}}</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;/</span><span class=\"n\">div</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;/</span><span class=\"n\">header</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;</span><span class=\"n\">div</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"bp\">=</span><span class=\"s2\">\"main\"</span><span class=\"w\"> </span><span class=\"n\">role</span><span class=\"bp\">=</span><span class=\"s2\">\"main\"</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;</span><span class=\"n\">div</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"bp\">=</span><span class=\"s2\">\"wrap\"</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">              </span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"s2\">\"content\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}}</span>\n<span class=\"w\">              </span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"n\">postList</span><span class=\"w\"> </span><span class=\"o\">}}</span>\n<span class=\"w\">              </span><span class=\"o\">{{</span><span class=\"w\"> </span><span class=\"n\">catList</span><span class=\"w\"> </span><span class=\"o\">}}</span>\n<span class=\"w\">            </span><span class=\"bp\">&lt;/</span><span class=\"n\">div</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">          </span><span class=\"bp\">&lt;/</span><span class=\"n\">div</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">        </span><span class=\"bp\">&lt;/</span><span class=\"n\">body</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">      </span><span class=\"bp\">&lt;/</span><span class=\"n\">html</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">    </span><span class=\"o\">}}</span>\n<span class=\"w\">  </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"bp\">|&gt;.</span><span class=\"n\">override</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"k\">do</span><span class=\"w\"> </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"o\">{{</span><span class=\"bp\">&lt;</span><span class=\"n\">div</span><span class=\"w\"> </span><span class=\"kd\">class</span><span class=\"bp\">=</span><span class=\"s2\">\"frontpage\"</span><span class=\"bp\">&gt;&lt;</span><span class=\"n\">h1</span><span class=\"bp\">&gt;</span><span class=\"o\">{{</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"s2\">\"title\"</span><span class=\"o\">}}</span><span class=\"bp\">&lt;/</span><span class=\"n\">h1</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"o\">{{</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"s2\">\"content\"</span><span class=\"o\">}}</span><span class=\"bp\">&lt;/</span><span class=\"n\">div</span><span class=\"bp\">&gt;</span><span class=\"o\">}},</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"o\">⟩</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">mySite</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Site</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">site</span><span class=\"w\"> </span><span class=\"n\">Doc.Front</span><span class=\"w\"> </span><span class=\"bp\">/</span>\n<span class=\"w\">  </span><span class=\"n\">static</span><span class=\"w\"> </span><span class=\"s2\">\"static\"</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"s2\">\"doc/static_files\"</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"n\">UInt32</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">blogMain</span><span class=\"w\"> </span><span class=\"n\">theme</span><span class=\"w\"> </span><span class=\"n\">mySite</span>\n</code></pre></div>\n</div></div>\n<p>so it seems that adding the dollar signs does result in <a href=\"http://jsdelivr.net\">jsdelivr.net</a> scripts being loaded in.</p>",
        "id": 510347795,
        "sender_full_name": "Niels Voss",
        "timestamp": 1743840700
    },
    {
        "content": "<p>As a side question: If Verso-generated websites load in external scripts from <a href=\"http://jsdelivr.net\">jsdelivr.net</a>, does this mean that if <a href=\"http://jsdelivr.net\">jsdelivr.net</a> goes down, the documentation stops working? And what if someone downloads the HTML website locally and then later opens it without an internet connection?</p>",
        "id": 510348015,
        "sender_full_name": "Niels Voss",
        "timestamp": 1743840848
    },
    {
        "content": "<p>I think the syntax for math in verso is <code> $`x^2 + y^2` </code></p>",
        "id": 510364882,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743853503
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"521331\">Niels Voss</span> <a href=\"#narrow/stream/113488-general/topic/Verso.20math.20mode.20not.20working/near/510348015\">said</a>:</p>\n<blockquote>\n<p>As a side question: If Verso-generated websites load in external scripts from <a href=\"http://jsdelivr.net\">jsdelivr.net</a>, does this mean that if <a href=\"http://jsdelivr.net\">jsdelivr.net</a> goes down, the documentation stops working? And what if someone downloads the HTML website locally and then later opens it without an internet connection?</p>\n</blockquote>\n<p>jsdelivr surely requests aggressive client-side caching, so there is a good chance your browser uses a previously downloaded version if you already have one.</p>",
        "id": 510365055,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743853585
    },
    {
        "content": "<p>Ohh, I guess I didn't read the syntax close enough and just assumed that latex's syntax would work. Now my code works. It still doesn't explain why the Verso manual has broken formatting, but that's not super important right now.</p>",
        "id": 510395199,
        "sender_full_name": "Niels Voss",
        "timestamp": 1743875146
    }
]