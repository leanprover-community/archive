[
    {
        "content": "<p>When running lean code (on linux, if that matters) with a panic, with <code>buildType := BuildType.debug</code> in my  <code>lakefile.lean</code> (which I speculatively added without being certain that was necessary) I notice that a panic produces an error message with a nicely formatted lean symbol and a line number, e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">PANIC</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Genre</span><span class=\"bp\">.</span><span class=\"n\">Manual</span><span class=\"bp\">.</span><span class=\"n\">instGenreTeXReaderTExtensionImplsIO</span><span class=\"w\"> </span><span class=\"n\">VersoManual</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"o\">:</span><span class=\"mi\">1205</span><span class=\"o\">:</span><span class=\"mi\">8</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Inline</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Genre</span><span class=\"bp\">.</span><span class=\"n\">Manual</span><span class=\"bp\">.</span><span class=\"n\">Inline</span><span class=\"bp\">.</span><span class=\"n\">margin</span><span class=\"w\"> </span><span class=\"n\">doesn't</span><span class=\"w\"> </span><span class=\"n\">support</span><span class=\"w\"> </span><span class=\"n\">TeX</span>\n</code></pre></div>\n<p>but the remainder of the backtrace is internally-generated symbols presumably at the C++ level, e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">code</span><span class=\"bp\">/</span><span class=\"n\">verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">demotextbook</span><span class=\"o\">(</span><span class=\"n\">l_Array_mapMUnsafe_map___at___Verso_Doc_Inline_toTeX___at___Verso_Doc_Block_toTeX___at___Verso_Genre_Manual_emitTeX_spec__0_spec__0_spec__0</span><span class=\"bp\">+</span><span class=\"mi\">0</span><span class=\"n\">xc9</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"n\">x56fbf43e5bc9</span><span class=\"o\">]</span>\n<span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">code</span><span class=\"bp\">/</span><span class=\"n\">verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">demotextbook</span><span class=\"o\">(</span><span class=\"n\">l_Verso_Doc_Block_toTeX___at___Verso_Genre_Manual_emitTeX_spec__0</span><span class=\"bp\">+</span><span class=\"mi\">0</span><span class=\"n\">x774</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"n\">x56fbf43e8e24</span><span class=\"o\">]</span>\n<span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">code</span><span class=\"bp\">/</span><span class=\"n\">verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">demotextbook</span><span class=\"o\">(</span><span class=\"n\">l_Array_mapMUnsafe_map___at___Verso_Doc_Part_toTeX___at___Verso_Genre_Manual_emitTeX_spec__9_spec__12</span><span class=\"bp\">+</span><span class=\"mi\">0</span><span class=\"n\">x107</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"n\">x56fbf43ed207</span><span class=\"o\">]</span>\n<span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">code</span><span class=\"bp\">/</span><span class=\"n\">verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">demotextbook</span><span class=\"o\">(</span><span class=\"n\">l_Verso_Doc_Part_toTeX___at___Verso_Genr</span>\n</code></pre></div>\n<p>My question is: does there exist a way to get the symbols unmangled back to Lean line numbers? If not, no problem, I'll be content to know that I can stop looking for how to get it <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 532138168,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753985165
    },
    {
        "content": "<p>(In this case the mangled symbols are still a nontrivial help in understanding the trace)</p>",
        "id": 532138301,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753985209
    },
    {
        "content": "<p>No that is currently not possible</p>",
        "id": 532138761,
        "sender_full_name": "Henrik BÃ¶ving",
        "timestamp": 1753985367
    },
    {
        "content": "<p>Thanks, good to know!</p>",
        "id": 532138800,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753985379
    }
]