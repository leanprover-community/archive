[
    {
        "content": "<p>This is one of those \"I know it is a bad idea but\" questions...</p>\n<p>When it is too difficult to avoid <code>HEq</code> in a final stage of a complicated proof, is it feasible to embrace the <code>HEq</code> and finish the proof with some <code>HEq</code> manipulations? Has anybody ever had success doing that?</p>\n<p>MWE not included (for the better of everybody's sanity),</p>",
        "id": 526999283,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1751549967
    },
    {
        "content": "<p>I do this all the time</p>",
        "id": 526999420,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550000
    },
    {
        "content": "<p>It works great</p>",
        "id": 526999453,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550008
    },
    {
        "content": "<p>To get rid of a cast you switch to HEq and then once the cast is gone you switch back to Eq</p>",
        "id": 526999526,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550026
    },
    {
        "content": "<p>Please please please can you show me some examples of it working great?</p>",
        "id": 526999917,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1751550137
    },
    {
        "content": "<p>It's not like I save them</p>",
        "id": 526999990,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550159
    },
    {
        "content": "<p>Maybe you have an example?</p>",
        "id": 527000017,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550166
    },
    {
        "content": "<p>I mean, do you have a repo with a proof where you used the aforementioned technique?</p>",
        "id": 527000199,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1751550220
    },
    {
        "content": "<p>no, it was all helping other people on Zulip</p>",
        "id": 527000787,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550381
    },
    {
        "content": "<p>Maybe I can help you too, do you have a version I can put into the web editor?</p>",
        "id": 527002168,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751550732
    },
    {
        "content": "<p>Lemme try to minimize it a bit. Currently the proof is 2900 lines long.</p>",
        "id": 527003814,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1751551156
    },
    {
        "content": "<p>After searching through my own messages a bit, I found <a class=\"message-link\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/Mapping.20functions.20over.20equality.20of.20functor.20compositions/near/521868737\">#Is there code for X? &gt; Mapping functions over equality of functor compositions @ ðŸ’¬</a>, <a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/.E2.9C.94.20Reducing.20Casts.20and.20Subtypes/near/510514961\">#general &gt; âœ” Reducing Casts and Subtypes @ ðŸ’¬</a>, <a class=\"message-link\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/Lifting.20dependent.20functions.20to.20quotient.20map/near/518370829\">#Is there code for X? &gt; Lifting dependent functions to quotient map @ ðŸ’¬</a>, and <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/.E2.9C.94.20How.20to.20prove.20List.2EVector.2Eappend.20nil.20xs.20.3D.20xs/near/497185545\">#mathlib4 &gt; âœ” How to prove List.Vector.append nil xs = xs @ ðŸ’¬</a>.</p>",
        "id": 527006272,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751551707
    },
    {
        "content": "<p>FYI, I managed to solve the problem.<br>\nBTW, why is the following not in the standard library?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">congr_heqâ‚‚</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Î±</span><span class=\"w\"> </span><span class=\"n\">Î±'</span><span class=\"w\"> </span><span class=\"n\">Î²</span><span class=\"w\"> </span><span class=\"n\">Î²'</span><span class=\"w\"> </span><span class=\"n\">Î³</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Î±'</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Î³</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î²</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Î²'</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Î³</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î±'</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î²</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î²'</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hfg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HEq</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hxy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HEq</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">huv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HEq</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">huv</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">hxy</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">hfg</span>\n<span class=\"w\">  </span><span class=\"n\">rfl</span>\n</code></pre></div>",
        "id": 527165633,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1751629886
    },
    {
        "content": "<p>I've found gaps in the HEq lemma coverage before, would not be surprised if this was just another.</p>",
        "id": 531527132,
        "sender_full_name": "Violeta HernÃ¡ndez",
        "timestamp": 1753771938
    }
]