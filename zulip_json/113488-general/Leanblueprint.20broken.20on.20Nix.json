[
    {
        "content": "<p>Hi all, I packaged  leanblueprint <a href=\"https://github.com/NixOS/nixpkgs/pull/328918\">to nixpkgs</a>, but as pointed out by <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> its plasTeX integration is broken, sorry about that. I'm working on a fix but won't promise that I get it done any time soon. Here are some more details about the problem if someone wants to help with the task:</p>\n<ul>\n<li>When creating a web version of the blueprint, plasTeX tries to use the leanblueprint python module, which it cannot find as it was built without leanblueprint as a dependency. This error is seen in the output</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">plasTeX</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">3.1</span>\n<span class=\"bp\">..</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Loading</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"s2\">\"report\"</span><span class=\"w\"> </span><span class=\"n\">raised</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"w\"> </span><span class=\"n\">ModuleNotFoundError</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">No</span>\n<span class=\"w\">   </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">leanblueprint'</span>\n</code></pre></div>\n<ul>\n<li>Adding leanblueprint as a dependency to plasTeX would cause a cyclic dependency resulting in \"error: infinite recursion encoutered\".</li>\n</ul>\n<p>Some possible solutions I have considered:</p>\n<ul>\n<li>Rewriting leanblueprint to use plasTeX as a python module rather than call it from a subprocess</li>\n<li>Create a wrapper for plasTeX which has leanblueprint in its PYTHONPATH</li>\n<li>Creating a package which bundles leanblueprint and plastex into one</li>\n</ul>\n<p>As far as I know there is no way to get leanblueprint to work on Nix right now. Please correct me if I'm wrong.</p>",
        "id": 493016224,
        "sender_full_name": "Niklas Halonen",
        "timestamp": 1736538783
    },
    {
        "content": "<p>I'm setting the python path in the command line, then it works.</p>",
        "id": 493040506,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1736551531
    },
    {
        "content": "<p>You can just create a wrapper around the lean blueprint command that sets the python path environment variable. On the phone, so can't give more details right now.</p>",
        "id": 493040619,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1736551599
    }
]