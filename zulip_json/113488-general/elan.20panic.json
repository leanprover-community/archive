[
    {
        "content": "<p>I just encountered an unexpected <code>elan</code> panic: running <code>lake exe cache get</code> yielded</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">main'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">utils</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">utils</span><span class=\"bp\">.</span><span class=\"n\">rs</span><span class=\"o\">:</span><span class=\"mi\">472</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span>\n<span class=\"n\">called</span><span class=\"w\"> </span><span class=\"ss\">`Result</span><span class=\"bp\">::</span><span class=\"n\">unwrap</span><span class=\"o\">()</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"ss\">`Err</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">value</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">description</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Couldn't resolve host name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">extra</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"o\">(</span><span class=\"s2\">\"Could not resolve host: github.com\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"ss\">`RUST_BACKTRACE</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>\n</code></pre></div>\n<p>CC <span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span> You may be interested.</p>\n<p>Detail to reproduce/relevant facts.</p>\n<ul>\n<li>Run on current mathlib master (revision <code>61161724286</code>)</li>\n<li>I didn't have Lean 4.15 or 4.16.0-rc1 downloaded yet; this is what the cache is downloading right now</li>\n<li>this was when switching wifi connections from one network to another, this might have caused some race condition</li>\n<li>I use Debian/Linux (stable)</li>\n</ul>",
        "id": 492288753,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1736248027
    },
    {
        "content": "<p>“Could not resolve hostname” sounds like a simple network issue. Did it work when you tried again once you have switched to another network?</p>",
        "id": 492289615,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1736248333
    },
    {
        "content": "<p>Yes, then it worked again.</p>",
        "id": 492298977,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1736252370
    },
    {
        "content": "<p>To clarify: elan being unable to download Lean when there's no network is to to be expected :-) elan panicking is not; <em>that</em> is the bug I mean to report.</p>",
        "id": 492299149,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1736252425
    },
    {
        "content": "<p>I see, so a UX issue. Feel free to report an issue at <a href=\"https://github.com/leanprover/elan/issues\">https://github.com/leanprover/elan/issues</a>, not sure how pressing it will be, though.</p>",
        "id": 492301935,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1736253585
    },
    {
        "content": "<p>Before creating an issue, it would be good to confirm that the issue still occurs with <a href=\"https://github.com/leanprover/elan/releases/tag/eager-resolution-v9\">https://github.com/leanprover/elan/releases/tag/eager-resolution-v9</a>.</p>",
        "id": 492304892,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1736254700
    },
    {
        "content": "<p>You should be able to run the <code>elan-init.exe</code> from the command line to install the eager toolchain resolution Elan version.</p>",
        "id": 492305062,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1736254772
    }
]