[
    {
        "content": "<p><a href=\"/user_uploads/3121/EuVH_j4r8ThJpKzuXrUMLFgI/Screenshot-from-2024-10-08-10-58-32.png\">Screenshot from 2024-10-08 10-58-32.png</a><br>\nPlease open a pull request with this improvement! <a href=\"https://github.com/dwrensha/compfiles/pulls\">https://github.com/dwrensha/compfiles/pulls</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/EuVH_j4r8ThJpKzuXrUMLFgI/Screenshot-from-2024-10-08-10-58-32.png\" title=\"Screenshot from 2024-10-08 10-58-32.png\"><img data-original-dimensions=\"1260x636\" src=\"/user_uploads/thumbnail/3121/EuVH_j4r8ThJpKzuXrUMLFgI/Screenshot-from-2024-10-08-10-58-32.png/840x560.webp\"></a></div>",
        "id": 475587930,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728399562
    },
    {
        "content": "<p>(<a href=\"#narrow/stream/113486-announce/topic/ImProver/near/475586451\">ImProver announcement</a>)</p>",
        "id": 475588178,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728399616
    },
    {
        "content": "<p>ImProver is a <em>great</em> name for this tool by the way!</p>",
        "id": 475597950,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1728401684
    },
    {
        "content": "<p>(me deliberately misreading it)<br>\nit <em>roves</em> over the <em>imp</em>lications!</p>",
        "id": 475600014,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728402134
    },
    {
        "content": "<p>Reminds me of Noam Elkies referring to google as \"go ogle\" back in the day</p>",
        "id": 475606751,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1728403913
    },
    {
        "content": "<blockquote>\n<p>By varying the metric, we can perform tasks such as shortening proofs, making them more readable, or even automated proving. We consider 3 metrics: </p>\n<ul>\n<li><strong>Length Metric:</strong> The length metric measures the number of tactic invocations in the tactic proof ...</li>\n<li><strong>Readability Metric:</strong> .... the ratio of number of explicitly typed have tactics to total number of tactic invocations. </li>\n<li><strong>Completion Metric:</strong> .... This is a trivial metric which measures the number of errors present.</li>\n</ul>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"642696\">@Riyaz Ahuja</span> I'd love to see some optimization using my favourite metric: number of <strong>lemmas</strong> invoked <em>by name</em> in the proof.</p>",
        "id": 475613723,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1728405373
    },
    {
        "content": "<p>The idea being that the more lemmas people have to learn by name, the worse their life is? And if instead we could do everything with tactics then we're making life easier for both humans and machines, presumably?</p>",
        "id": 475614407,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1728405549
    },
    {
        "content": "<p>Yup!  This is the metric I mentally adhere to when writing for beginners, like in <em>Mechanics of Proof</em>.</p>",
        "id": 475614792,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1728405646
    },
    {
        "content": "<p>This is a good idea - on a previous commit, ff9eb30a1ab5ed90d3ec96cf4292c65b84596a28 I believe, I added support for extracting dependency data from proofs along with the states. It was originally meant for adding better context for optimizing theorems that use a lot of definitions and lemmas that the model might have trouble finding, but it could easily be used to make a metric that counts the number of explicit lemmas that are used.</p>",
        "id": 475663731,
        "sender_full_name": "Riyaz Ahuja",
        "timestamp": 1728418876
    },
    {
        "content": "<p>Only thing is that this extraction was incredibly slow, so I decided to not put it in the paper. However, a lot of our current goals involve making ImProver a lot more efficient and usable as a general-purpose tool, so as we restructure the architecture of the project, I think this metric would be really interesting to test and use.</p>",
        "id": 475664285,
        "sender_full_name": "Riyaz Ahuja",
        "timestamp": 1728419035
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243791\">David Renshaw</span> <a href=\"#narrow/stream/113488-general/topic/ImProver.20discussion/near/475587930\">said</a>:</p>\n<blockquote>\n<p><a href=\"/user_uploads/3121/EuVH_j4r8ThJpKzuXrUMLFgI/Screenshot-from-2024-10-08-10-58-32.png\">Screenshot from 2024-10-08 10-58-32.png</a><br>\nPlease open a pull request with this improvement! <a href=\"https://github.com/dwrensha/compfiles/pulls\">https://github.com/dwrensha/compfiles/pulls</a></p>\n</blockquote>\n<p>PR Submitted!</p>",
        "id": 475900460,
        "sender_full_name": "Riyaz Ahuja",
        "timestamp": 1728488312
    },
    {
        "content": "<p>On a freshly cloned copy of the repo and fresh python3.12 virtual environment , running <code>pip install -r requirements.txt; python3 scripts/build.py --config configs/config.json</code> (the default mathlib:v4.9.0-only config file in the repo), the scripts builds a cache, but looking at the .json it generates, it’s only made of error messages and the <code>tactics</code> and <code>proofTrees</code> objects are empty. I don’t think this is normal behaviour. What am I doing wrong here?</p>",
        "id": 476517358,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1728732477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"286014\">Robin Carlier</span> <a href=\"#narrow/stream/113488-general/topic/ImProver.20discussion/near/476517358\">said</a>:</p>\n<blockquote>\n<p>messages</p>\n</blockquote>\n<p>I installed 3.12 with a fresh clone on a new machine and was unable to reproduce the error (i.e. cache was built normally), can you DM me the error messages you're getting and if you're getting the full 4436 build jobs?</p>",
        "id": 476550533,
        "sender_full_name": "Riyaz Ahuja",
        "timestamp": 1728764880
    },
    {
        "content": "<p>It would be interesting to incorporate ImProver into a CI workflow to provide feedback on PRs</p>",
        "id": 476868461,
        "sender_full_name": "Austin Letson",
        "timestamp": 1728951233
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"642696\">@Riyaz Ahuja</span> Would incorporating ImProver into a Lean development workflow be feasible?</p>",
        "id": 476869373,
        "sender_full_name": "Austin Letson",
        "timestamp": 1728951979
    },
    {
        "content": "<p>This is 100% the goal. In its current state, integrating ImProver to standard workflows is feasible and also quite flexible (i.e. for mathlib, define your metrics to optimize for satisfying the mathlib style/formatting requirements, etc.).</p>\n<p>The main limitation is the requirement of LLM API keys for users to use ImProver, as well as the time cost for large PR's - both of which hurt the usability for regular users to have ImProver fully integrated in their workflow. However, with some more grad students joining our team as well as access to more compute power, we've started on building our own model distilled from the more expensive GPT-4o to be far cheaper and faster. With that, integration into workflows will be far more usable and user-friendly.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"699684\">Austin Letson</span> <a href=\"#narrow/stream/113488-general/topic/ImProver.20discussion/near/476869373\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"642696\">Riyaz Ahuja</span> Would incorporating ImProver into a Lean development workflow be feasible?</p>\n</blockquote>",
        "id": 476871547,
        "sender_full_name": "Riyaz Ahuja",
        "timestamp": 1728953796
    },
    {
        "content": "<p>Thanks for providing the context. I am excited to try this out!</p>",
        "id": 477084522,
        "sender_full_name": "Austin Letson",
        "timestamp": 1729033469
    }
]