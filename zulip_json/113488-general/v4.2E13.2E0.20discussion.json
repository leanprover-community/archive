[
    {
        "content": "<p>Discussion of the v4.13.0 release can go here!</p>",
        "id": 481016328,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730935053
    },
    {
        "content": "<p>blog post coming soon?</p>",
        "id": 481046024,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1730955965
    },
    {
        "content": "<p>No blog post this month, please enjoy the release notes instead. :-)</p>",
        "id": 481046418,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730956323
    },
    {
        "content": "<p>In lie of a proper release announcement with highlight, here is a feature that I had a highlight prepared for</p>\n<hr>\n<p>The simplifier is now able to discharge side-goals that, after simplification, are of the form <code>∀ …, a = b</code>, where <code>a</code> and <code>b</code> are definitionally equal. Usually these side-goals are solved by simplification using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=eq_self#doc\">docs#eq_self</a>, but that does not work when there are metavariables involved. This allows rewrite rules like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">attach_map'</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">attach</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">g</span>\n</code></pre></div>\n<p>to work, where the parameter <code>g</code> does not appear on the rules’ left-hand-side, but will become known once the side-condition <code>hf</code> is discharged by <code>simp</code>.</p>\n<p>This change allows the simplifier to clean up idioms related to functions like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.attach#doc\">docs#List.attach</a>, which are sometimes needed for nested recursion.</p>",
        "id": 481070468,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1730969408
    },
    {
        "content": "<p>Ugh, what happened to the v4.13.0 tag in mathlib? EulerProducts seems to have been updated to it in <a href=\"https://github.com/MichaelStollBayreuth/EulerProducts/commit/51a29f3dfcc57cbd802bfc100a381b4d83136fa4\">https://github.com/MichaelStollBayreuth/EulerProducts/commit/51a29f3dfcc57cbd802bfc100a381b4d83136fa4</a> but it now resolves to a newer incompatible commit</p>",
        "id": 481070804,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730969531
    },
    {
        "content": "<p>Apologies, the Mathlib tag was moved, see <a href=\"#narrow/channel/287929-mathlib4/topic/cache.20and.20proofwidgets/near/480118432\">https://leanprover.zulipchat.com/#narrow/channel/287929-mathlib4/topic/cache.20and.20proofwidgets/near/480118432</a></p>",
        "id": 481071400,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730969740
    },
    {
        "content": "<p>Unfortunately EulerProducts has already moved ahead, so there seems to be no good way to get a version of it that works with the new tag :/</p>",
        "id": 481072497,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730970109
    },
    {
        "content": "<p>I guess this is on PNT+ for trying to stick to the tags while depending on a project that moves faster</p>",
        "id": 481072810,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730970229
    },
    {
        "content": "<p>Apologies for moving faster...</p>",
        "id": 481074336,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1730970738
    },
    {
        "content": "<p>No worries, just an annoying confluence of events</p>",
        "id": 481074704,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730970883
    },
    {
        "content": "<p>something fun that has dropped in batteries is the <code>#help note</code> command, which finally gives an easy way to read the mathlib library notes!<br>\ntest it in the <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQODEqApumHAHYQxFwBEtQA\">playground</a>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"bp\">#</span><span class=\"n\">help</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span>\n</code></pre></div>",
        "id": 481075432,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1730971141
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/113488-general/topic/v4.2E13.2E0.20discussion/near/481072497\">said</a>:</p>\n<blockquote>\n<p>Unfortunately EulerProducts has already moved ahead, so there seems to be no good way to get a version of it that works with the new tag :/</p>\n</blockquote>\n<p>The right thing to do here would be to make a branch in EulerProducts using the corrected mathlib tag, and update the EulerProducts tag to point there. It doesn't matter that the commit in question wouldn't be in the main branch.</p>",
        "id": 481076672,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1730971552
    }
]