[
    {
        "content": "<p>I have set up the lean server and am running locally on my laptop. This is with WSL. Everything is working nicely (including adding new projects) except that the red squiggly underlines are missing where there are errors. If I go to the place with the error the error shows up in the infoview.</p>\n<p><span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span> Do you know what could be causing this. In case it helps, I opened a Javascript console in the browser and found the following messages (this was even when the code had no errors):</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"err\">@</span><span class=\"nx\">leanprover</span><span class=\"o\">/</span><span class=\"nx\">infoview</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"/infoview/index.production.min.js\"</span><span class=\"nx\">react</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"/infoview/react.production.min.js\"</span><span class=\"nx\">react</span><span class=\"o\">-</span><span class=\"nx\">dom</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"/infoview/react-dom.production.min.js\"</span><span class=\"nx\">react</span><span class=\"o\">/</span><span class=\"nx\">jsx</span><span class=\"o\">-</span><span class=\"nx\">runtime</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"/infoview/react-jsx-runtime.production.min.js\"</span><span class=\"p\">[[</span><span class=\"nx\">Prototype</span><span class=\"p\">]]</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">Objectconstructor</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nb\">Object</span><span class=\"p\">()</span><span class=\"nx\">hasOwnProperty</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">hasOwnProperty</span><span class=\"p\">()</span><span class=\"nx\">isPrototypeOf</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">isPrototypeOf</span><span class=\"p\">()</span><span class=\"nx\">propertyIsEnumerable</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">propertyIsEnumerable</span><span class=\"p\">()</span><span class=\"nx\">toLocaleString</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">toLocaleString</span><span class=\"p\">()</span><span class=\"nx\">toString</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">toString</span><span class=\"p\">()</span><span class=\"nx\">valueOf</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">valueOf</span><span class=\"p\">()</span><span class=\"nx\">__defineGetter__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">__defineGetter__</span><span class=\"p\">()</span><span class=\"nx\">__defineSetter__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">__defineSetter__</span><span class=\"p\">()</span><span class=\"nx\">__lookupGetter__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">__lookupGetter__</span><span class=\"p\">()</span><span class=\"nx\">__lookupSetter__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">__lookupSetter__</span><span class=\"p\">()</span><span class=\"nx\">__proto__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"p\">(...)</span><span class=\"nx\">get</span><span class=\"w\"> </span><span class=\"nx\">__proto__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">__proto__</span><span class=\"p\">()</span><span class=\"nx\">set</span><span class=\"w\"> </span><span class=\"nx\">__proto__</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">ƒ</span><span class=\"w\"> </span><span class=\"nx\">__proto__</span><span class=\"p\">()</span>\n<span class=\"nx\">webview</span><span class=\"p\">.</span><span class=\"nx\">js</span><span class=\"o\">:</span><span class=\"mf\">1</span><span class=\"w\"> </span><span class=\"nx\">TODO</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">catch</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"w\"> </span><span class=\"nx\">failure</span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"ne\">SyntaxError</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"nx\">Unexpected</span><span class=\"w\"> </span><span class=\"nx\">token</span><span class=\"w\"> </span><span class=\"s1\">'e'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"esms,true,\"</span><span class=\"p\">...</span><span class=\"w\"> </span><span class=\"nx\">is</span><span class=\"w\"> </span><span class=\"nx\">not</span><span class=\"w\"> </span><span class=\"nx\">valid</span><span class=\"w\"> </span><span class=\"nb\">JSON</span>\n<span class=\"w\">    </span><span class=\"nx\">at</span><span class=\"w\"> </span><span class=\"nb\">JSON</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">&lt;</span><span class=\"nx\">anonymous</span><span class=\"o\">&gt;</span><span class=\"p\">)</span>\n<span class=\"w\">    </span><span class=\"nx\">at</span><span class=\"w\"> </span><span class=\"nx\">webview</span><span class=\"p\">.</span><span class=\"nx\">js</span><span class=\"o\">:</span><span class=\"mf\">1</span><span class=\"o\">:</span><span class=\"mf\">39063</span>\n</code></pre></div>",
        "id": 514713156,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1745810782
    },
    {
        "content": "<p>I just saw that if I run with <code>npm start</code> instead of <code>npm run production</code> I get the correct error messages.</p>",
        "id": 514718815,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1745814612
    },
    {
        "content": "<p>Interesting.Could you add an issue at the gitumhub repo, so I can look at it at a later point, please? Also, of you ise <code>npm production</code> could you check if bubblewrap is installed and if it's being used (you'd see \"running without bubblewrap\" in the server shell otherwise). Add that to the github issue, I'll try to look at it later this week :)</p>\n<p>Pretty sure the \"unexpected token e\" error is a red hering, that's always there even in a functioning version.</p>",
        "id": 514795465,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1745841736
    },
    {
        "content": "<p>I have made an <a href=\"https://github.com/leanprover-community/lean4web/issues/62\">issue</a>. Thanks.</p>",
        "id": 514803374,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1745844058
    }
]