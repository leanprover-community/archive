[
    {
        "content": "<p>This is a thread to discuss <a href=\"https://github.com/leanprover-community/lean/issues/200\" title=\"https://github.com/leanprover-community/lean/issues/200\">lean#200</a>, which proposes linting the core library. I think it's a good idea. Should we have some guidelines for linting PRs? Also, any ideas for a good CI setup? <span class=\"user-mention\" data-user-id=\"110043\">@Gabriel Ebner</span></p>",
        "id": 195738547,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1588178820
    },
    {
        "content": "<p>We definitely should lint core, but it's a little tricky I think. Ideally it would be part of core CI. But do we want to move the linter framework and definitions to core?</p>",
        "id": 195738706,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1588178888
    },
    {
        "content": "<p>I'm not sure that's a good idea.</p>",
        "id": 195738729,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1588178903
    },
    {
        "content": "<p>We could expand mathlib CI to also lint core, but then new errors don't show up until the version upgrade PRs to mathlib.</p>",
        "id": 195738798,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1588178945
    },
    {
        "content": "<p>What do you mean by guidelines for linting PRs? There's nothing of the kind in mathlib afaik, and the <a href=\"https://leanprover-community.github.io/mathlib_stats/nolints.png\" title=\"https://leanprover-community.github.io/mathlib_stats/nolints.png\">graph</a> shows we're doing a reasonable job of cleaning things up anyway.</p>\n<div class=\"message_inline_image\"><a href=\"https://leanprover-community.github.io/mathlib_stats/nolints.png\" title=\"graph\"><img src=\"https://leanprover-community.github.io/mathlib_stats/nolints.png\"></a></div>",
        "id": 195738979,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1588179046
    },
    {
        "content": "<p>Yeah, I guess I'm not sure what such guidelines would look like. Maybe just some suggestions on which linting errors to prioritize?</p>",
        "id": 195739295,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1588179232
    },
    {
        "content": "<p>I think the easy change is just making mathlib CI also lint core. It's low effort and seems uncontroversial.</p>",
        "id": 195739917,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1588179515
    },
    {
        "content": "<p>For graphing purposes I'd rather keep the mathlib and core nolints files separate, but that's completely an aesthetic thing...</p>",
        "id": 195740007,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1588179552
    }
]