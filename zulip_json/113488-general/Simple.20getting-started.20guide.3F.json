[
    {
        "content": "<p>I'm teaching a Lean mini-course at a workshop in a week's time, so I'm going to need to guide a bunch of people through getting started with Lean and Mathlib – firstly, installing it on their computers. </p>\n<p>I was a bit startled to realise that if I follow, verbatim, the instructions under \"Creating a Lean project\" <a href=\"https://leanprover-community.github.io/install/project.html#creating-a-lean-project\">here</a>, things don't quite work. </p>\n<p>Firstly, it tells you to <code>mkdir MyProject</code> when the previous step has already created a <code>MyProject</code> folder. This is a minor glitch. But, much more seriously, when you go on to the next step – creating a file <code>MyProject/Test.lean</code> in VSCode, and importing some of mathlib in it – it starts recompiling mathlib from scratch!</p>\n<p>This is clearly going to make for a terrible experience for first-time users of Lean. How can I fix this? Where can I find a set of simple, easily-followable instructions (ideally with the minimum of obscure command-line runes to type) which will get first-time users set up so they can do some simple examples using mathlib?</p>",
        "id": 492081194,
        "sender_full_name": "David Loeffler",
        "timestamp": 1736160978
    },
    {
        "content": "<p>This may be related to the discussion <a href=\"#narrow/channel/113488-general/topic/Updating.20to.204.2E15.2E0/near/492023150\">here</a>.</p>",
        "id": 492081876,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736161224
    },
    {
        "content": "<p>When I've been in this situation I've made a repo and told everyone to clone it, and also given instructions on how to actually not even clone it and just use gitpod/codespaces. For example <a href=\"https://github.com/ImperialCollegeLondon/formalising-mathematics-2024\">here</a>. I agree that right now this is super-painful.</p>",
        "id": 492081898,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736161232
    },
    {
        "content": "<p>The modern recommended way of installing Lean and creating a project is via the VS Code extension using the instructions at <a href=\"https://lean-lang.org/lean4/doc/quickstart.html\">https://lean-lang.org/lean4/doc/quickstart.html</a> and the instructions inside VS Code. It is no longer necessary to use the terminal at all to create a Lean project (including mathlib).</p>",
        "id": 492081964,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1736161262
    },
    {
        "content": "<p>The two most common problems in my experience are: Windows users with firewalls which need to be turned off / taught that Lean is not a virus, and some mathematicians just generally being completely incompetent and having already-borked systems. Like Markus I would heavily recommend not using a terminal at all (one issue with terminals is that some Windows users have random terminals and random stuff doesn't work in them, e.g. I think the default Windows command line is not great when it comes to getting Lean working)</p>",
        "id": 492082283,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736161387
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260921\">Markus Himmel</span> <a href=\"#narrow/channel/113488-general/topic/Simple.20getting-started.20guide.3F/near/492081964\">said</a>:</p>\n<blockquote>\n<p>The modern recommended way of installing Lean and creating a project is via the VS Code extension using the instructions at <a href=\"https://lean-lang.org/lean4/doc/quickstart.html\">https://lean-lang.org/lean4/doc/quickstart.html</a> and the instructions inside VS Code. It is no longer necessary to use the terminal at all to create a Lean project (including mathlib).</p>\n</blockquote>\n<p>Then I can't help feeling it should be a <strong>rather urgent priority</strong> to remove the outdated instructions from the prominent place they currently enjoy on the Lean community website.</p>",
        "id": 492082625,
        "sender_full_name": "David Loeffler",
        "timestamp": 1736161540
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260921\">Markus Himmel</span> <a href=\"#narrow/channel/113488-general/topic/Simple.20getting-started.20guide.3F/near/492081964\">said</a>:</p>\n<blockquote>\n<p>The modern recommended way of installing Lean and creating a project is via the VS Code extension using the instructions at <a href=\"https://lean-lang.org/lean4/doc/quickstart.html\">https://lean-lang.org/lean4/doc/quickstart.html</a> and the instructions inside VS Code. It is no longer necessary to use the terminal at all to create a Lean project (including mathlib).</p>\n</blockquote>\n<p>Following the \"modern recommended way\" also seems to result in mathlib being compiled from scratch.</p>",
        "id": 492083799,
        "sender_full_name": "David Loeffler",
        "timestamp": 1736161993
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"481963\">David Loeffler</span> <a href=\"#narrow/channel/113488-general/topic/Simple.20getting-started.20guide.3F/near/492083799\">said</a>:</p>\n<blockquote>\n<p>Following the \"modern recommended way\" also seems to result in mathlib being compiled from scratch.</p>\n</blockquote>\n<p>Thank you for reporting this. I can reproduce the problem. The extension runs <code>lake exe cache get</code> which finishes successfully, but there seems to be a problem with the cache (<code>lake build</code> also rebuilds mathlib).</p>",
        "id": 492085062,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1736162507
    },
    {
        "content": "<p>This is being discussed in <a href=\"#narrow/channel/113488-general/topic/Updating.20to.204.2E15.2E0\">https://leanprover.zulipchat.com/#narrow/channel/113488-general/topic/Updating.20to.204.2E15.2E0</a> -- it's a bug in Lean v4.16.0-rc1 which affects projects depending on mathlib (but not mathlib itself), and which will probably require a new Lean release to be fixed.</p>",
        "id": 492086112,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1736162862
    }
]