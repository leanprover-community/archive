[
    {
        "content": "<p>I've been having trouble with <a href=\"http://leansearch.net\">leansearch.net</a> recently --- and I'm getting suspicious that it <em>never</em> returns results from the standard library!</p>\n<p>e.g.</p>\n<p><a href=\"https://leansearch.net/?q=If%20two%20lists%20are%20permutations%20of%20each%20other%2C%20the%20counts%20of%20each%20term%20in%20those%20lists%20are%20equal\">https://leansearch.net/?q=If%20two%20lists%20are%20permutations%20of%20each%20other%2C%20the%20counts%20of%20each%20term%20in%20those%20lists%20are%20equal</a>.</p>\n<p>should surely show <code>List.perm_iff_count</code>, but everything it mentions is from Mathlib, nothing from the standard library!</p>\n<p><span class=\"user-mention\" data-user-id=\"611077\">@Jiang Jiedong</span>?</p>",
        "id": 511959011,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744591572
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>  Thank you for your feedback! The standard library isn't currently included in the database.</p>\n<p>I've been discussing this issue with the current maintainer <span class=\"user-mention\" data-user-id=\"652127\">@Tony Beta Lambda</span> of LeanSearch, as there are varying user needs:</p>\n<ul>\n<li>Some want Mathlib-only searches (more presicely, mathematical declarations only, excluding things like tactic parsers)</li>\n<li>Others want broader searches including metaprogramming and other libraries</li>\n</ul>\n<p>Our current consideration is to:</p>\n<ol>\n<li>Expand the database coverage (but a simple expansion may affect the searching quality)</li>\n<li>Add configurable toggles for showing different declaration groups in searching results (these declaration groups could be: metaprogramming-related, Batteries library, instances, etc.)</li>\n</ol>\n<p>We'd greatly appreciate any suggestions on:</p>\n<ul>\n<li>What toggles would be most useful</li>\n<li>Any alternative solutions beyond toggles</li>\n</ul>\n<p>Thanks for bringing this up!</p>",
        "id": 512131081,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1744649953
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"480079\">@Evgenia Karunus</span> also discussed some related ideas with me.</p>",
        "id": 512132154,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1744650241
    },
    {
        "content": "<p>If you want to exclude things like tactic parsers / metaprogramming, then probably dropping (or rather, filtering) things in the <code>Lean</code> namespace is a reasonable approximation. Dropping based on which folder things are in probably isn't a good heuristic.</p>",
        "id": 512132490,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744650293
    },
    {
        "content": "<p>Yes, you <em>certainly</em> want to index and return everything from <code>Init.Data</code> and <code>Std.Data</code>!</p>",
        "id": 512187574,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744671268
    },
    {
        "content": "<p>As a concrete example, for \"If n is less than or equal to m, then $n+1$ is less than or equal to $m+1$\" the result <code>Nat.succ_le_succ</code> does not show up and is the result I usually want. This is in the Lean core.</p>",
        "id": 512201451,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744679491
    },
    {
        "content": "<p>(Well, you want <code>by omega</code>, but sure. :-)</p>",
        "id": 512201530,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744679526
    },
    {
        "content": "<p>Well, _I_ as a user want Std and Batteries to be searched.</p>",
        "id": 512204197,
        "sender_full_name": "Alok Singh",
        "timestamp": 1744681128
    },
    {
        "content": "<p>LeanSearch is down.</p>",
        "id": 512238793,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744699697
    },
    {
        "content": "<p>I think it's also safe to say that any <em>proposition</em> no matter where it comes from should be indexed.</p>",
        "id": 512362901,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1744733865
    },
    {
        "content": "<p>Really? What about the lemmas internal to eg <code>linarith</code>?</p>",
        "id": 512363086,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1744733919
    },
    {
        "content": "<p>It is apparent that everyone has different needs, so instead of deciding it for everyone, how about we discuss and find out what set of filter options should be available to the user?  Right now I can figure: packages to include, namespace, kind (tactic/prop/def).</p>",
        "id": 512732074,
        "sender_full_name": "Tony Beta Lambda",
        "timestamp": 1744862850
    },
    {
        "content": "<p>I don't think there's that much variation asked for above.</p>\n<p>Everyone wants everything that isn't internal to a tactic, or internal to Lean. (e.g. filter just by having <code>.Tactic.</code> in the namespace, or <code>Lean.</code>) </p>\n<p>No one wants \"auxiliary declarations\", e.g. things starting with <code>_</code>.</p>\n<p>I think just a single \"metaprogramming\" filter, and including the repositories upstream of Mathlib, would get most of the way.</p>",
        "id": 512732454,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744863033
    }
]