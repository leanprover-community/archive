[
    {
        "content": "<p>I find this lint for bundled structures counter-intuitive:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Batteries</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">iff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">P</span>\n\n<span class=\"sd\">/-- info: Foo.iff (self : Foo) : self.P ↔ self.P -/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"bp\">.</span><span class=\"n\">iff</span>\n\n<span class=\"c1\">-- complains about `self` being explicit</span>\n<span class=\"bp\">#</span><span class=\"n\">lint</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"n\">explicitVarsOfIff</span>\n</code></pre></div>\n<p>Any <code>Iff</code> that references the structure on both sides will have this issue. Maybe a potential improvement to the linter?</p>",
        "id": 547082708,
        "sender_full_name": "Chris Henson",
        "timestamp": 1761426426
    },
    {
        "content": "<p>This more looks like a feature request (for Lean itself) to allow overriding the argument explicitness of <code>self</code> in fields</p>",
        "id": 547085632,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761430346
    },
    {
        "content": "<p>That makes sense, related to <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/RFC.3A.20adjust.20argument.20explicitness.20on.20typeclass.20projections/with/526235227\">#lean4 &gt; RFC: adjust argument explicitness on typeclass projections</a>  I guess?</p>",
        "id": 547091165,
        "sender_full_name": "Chris Henson",
        "timestamp": 1761438097
    }
]