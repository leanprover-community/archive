[
    {
        "content": "<p>As I learn Lean, I've found this tactic cheatsheet very helpful: <a href=\"https://raw.githubusercontent.com/fpvandoorn/LeanCourse24/master/lean-tactics.pdf\">https://raw.githubusercontent.com/fpvandoorn/LeanCourse24/master/lean-tactics.pdf</a></p>\n<p>However it would be super useful if there were a single document ( in contrast to spread out over the standard intro texts) which showed the use of each of these tactics in an example.  Does such a thing exist already (or similar)?</p>",
        "id": 542108347,
        "sender_full_name": "Mark Ettinger",
        "timestamp": 1759169507
    },
    {
        "content": "<p>The course notes for Imperial's Lean course <a href=\"https://b-mehta.github.io/formalising-mathematics-notes/Part_2/Part_2.html\">https://b-mehta.github.io/formalising-mathematics-notes/Part_2/Part_2.html</a> have tactic documentation written for mathematician beginners.</p>",
        "id": 542110268,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1759170105
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"248101\">Mark Ettinger</span> <a href=\"#narrow/channel/113488-general/topic/tactic.20cheat.20sheet.20examples/near/542108347\">said</a>:</p>\n<blockquote>\n<p>As I learn Lean, I've found this tactic cheatsheet very helpful: <a href=\"https://raw.githubusercontent.com/fpvandoorn/LeanCourse24/master/lean-tactics.pdf\">https://raw.githubusercontent.com/fpvandoorn/LeanCourse24/master/lean-tactics.pdf</a></p>\n</blockquote>\n<p>By the way, I think the canonical URL for that cheatsheet is <a href=\"https://leanprover-community.github.io/papers/lean-tactics.pdf\">https://leanprover-community.github.io/papers/lean-tactics.pdf</a> which is slightly more up-to-date.</p>",
        "id": 542126231,
        "sender_full_name": "Anthony Wang",
        "timestamp": 1759174931
    },
    {
        "content": "<p>I am fascinated by how many versions this document has!</p>",
        "id": 542126879,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1759175124
    },
    {
        "content": "<p>Maybe an entry on <code>grw</code> should be added :)</p>",
        "id": 542155737,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1759187539
    },
    {
        "content": "<p>How about <a href=\"https://lean-ja.github.io/lean-by-example/\">https://lean-ja.github.io/lean-by-example/</a> ? (Japanese only)</p>",
        "id": 542164029,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1759193123
    },
    {
        "content": "<p>unfortunately not everyone knows Japanese</p>",
        "id": 542164193,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759193230
    },
    {
        "content": "<p>This seems like a whole book not just a tactic cheat sheet</p>",
        "id": 542164279,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759193292
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/113488-general/topic/tactic.20cheat.20sheet.20examples/near/542155737\">said</a>:</p>\n<blockquote>\n<p>Maybe an entry on <code>grw</code> should be added :)</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/692\">leanprover-community/leanprover-community.github.io#692</a></p>",
        "id": 542280384,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1759239898
    },
    {
        "content": "<p>Should <code>push_neg</code> be entirely removed from the list?</p>\n<p>Relatedly, should <code>push_neg</code> be deprecated from Mathlib in favor of <code>push ¬ _</code>?</p>",
        "id": 542284464,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1759240814
    },
    {
        "content": "<p>I don't want the cheat sheet to be comprehensive (that would be too much), so I'm happy to leave it off. And I think knowing about <code>push</code>/<code>pull</code> is much nicer for new(ish) people to Lean, especially once we have tagged a whole lot more <code>push</code>-lemmas.</p>",
        "id": 542285765,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1759241092
    },
    {
        "content": "<p>I don't have a strong opinion of deprecating <code>push_neg</code> from Mathlib. Maybe not now, but maybe later, once <code>push</code>/<code>pull</code> is widely used for other operations?</p>",
        "id": 542285897,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1759241118
    },
    {
        "content": "<p>I’m in favor of not having many ways of doing the same thing. If <code>push ¬</code> is equivalent (or better) than <code>push_neg</code> then we can deprecate <code>push_neg</code> in Mathlib (especially if we can do that without triggering deprecation warning in projects depending on Mathlib).</p>",
        "id": 542290797,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1759242265
    },
    {
        "content": "<p>The current syntax is <code>push ¬ _</code> or <code>push Not</code> (and these are equivalent to <code>push_neg</code>). Do you think it would be good to have a macro to allow writing <code>push ¬</code>?</p>",
        "id": 542300723,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1759244581
    },
    {
        "content": "<p>Sorry, that was a typo. <code>push Not</code> is fine.</p>",
        "id": 542306651,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1759246058
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/113488-general/topic/tactic.20cheat.20sheet.20examples/near/542155737\">said</a>:</p>\n<blockquote>\n<p>Maybe an entry on <code>grw</code> should be added :)</p>\n</blockquote>\n<p>Also, maybe an entry on <code>suffices</code> and <code>wlog</code>  can be added?</p>",
        "id": 542370749,
        "sender_full_name": "Sorrachai Yingchareonthawornchai",
        "timestamp": 1759267735
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> Thanks for these notes.  I feel they fill an important gap in the ramp-up docs, especially the tactics section but also the tips section.</p>",
        "id": 542382570,
        "sender_full_name": "Mark Ettinger",
        "timestamp": 1759274692
    },
    {
        "content": "<p>Should <code>tauto</code> be removed from the cheat sheet now that <code>grind</code> supersedes it?</p>",
        "id": 545359132,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1760626652
    },
    {
        "content": "<p>Also I was surprised that the sheet contains <code>pick_goal n</code> but not <code>on_goal n =&gt;</code>. Isn't <code>on_goal</code> is the preferred form?</p>",
        "id": 545360371,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1760626836
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/113488-general/topic/tactic.20cheat.20sheet.20examples/near/545359132\">said</a>:</p>\n<blockquote>\n<p>Should <code>tauto</code> be removed from the cheat sheet now that <code>grind</code> supersedes it?</p>\n</blockquote>\n<p>If <code>grind</code> is now preferred, I'm happy to remove <code>tauto</code></p>\n<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/113488-general/topic/tactic.20cheat.20sheet.20examples/near/545360371\">said</a>:</p>\n<blockquote>\n<p>Also I was surprised that the sheet contains <code>pick_goal n</code> but not <code>on_goal n =&gt;</code>. Isn't <code>on_goal</code> is the preferred form?</p>\n</blockquote>\n<p>I'm happy to change this!</p>\n<p>Please PR fixes.</p>",
        "id": 545377414,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1760629511
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/channel/113488-general/topic/tactic.20cheat.20sheet.20examples/near/545377414\">said</a>:</p>\n<blockquote>\n<p>If <code>grind</code> is now preferred, I'm happy to remove <code>tauto</code></p>\n</blockquote>\n<p>No, there are many places where <code>tauto</code> can not be replaced with <code>grind</code> (yet? :-). Perhaps you are thinking of <code>cc</code>.</p>",
        "id": 545451016,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760652458
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30619\">#30619</a> adds the (off by default) linters:</p>\n<ul>\n<li><code>linter.tacticAnalysis.tautoToGrind</code> which reports all uses of <code>tauto</code> that can be replaced by <code>grind</code></li>\n<li><code>linter.tacticAnalysis.regressions.tautoToGrind</code> which reports all uses of <code>tauto</code> that <em>can not</em> be replaced by <code>grind</code></li>\n</ul>",
        "id": 545451836,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760653000
    },
    {
        "content": "<p>(tauto, or rather its constituent parts, e.g. <code>assumption</code>, <code>contradiction</code>, <code>solve_by_elim</code>, <code>rfl</code>, and <code>constructorMatching</code> is much more willing to unfold definitions than <code>grind</code> is)</p>",
        "id": 545452085,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760653178
    },
    {
        "content": "<p>I also noticed that <code>contrapose</code>/<code>contrapose!</code> isn't on the cheat sheet. (nor is <code>absurd</code>, which can be used together with <code>exfalso</code> to emulate <code>contrapose</code>)</p>",
        "id": 548143797,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1761913505
    },
    {
        "content": "<p>It is hard to be comprehensive, and to select representative tactics... this is my attempt<br>\n<a href=\"https://git.olsak.net/mirek/lean-teaching/src/branch/master/LeanTeaching/Lecture4_TacticZoo.lean\">https://git.olsak.net/mirek/lean-teaching/src/branch/master/LeanTeaching/Lecture4_TacticZoo.lean</a></p>",
        "id": 548154320,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761916495
    },
    {
        "content": "<p>If we could make the list of tactics produced by this meta-code hoverable, it would be nice! I have not yet figured out if it is possible to give <code>MessageData</code> a custom hover, or I need to fit into the Lean data categories (maybe <code>DocElabInfo</code>?)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Batteries</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Meta</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Tactic</span><span class=\"w\"> </span><span class=\"n\">Command</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">listStx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommandElabM</span><span class=\"w\"> </span><span class=\"n\">Unit</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">parserExtension</span><span class=\"bp\">.</span><span class=\"n\">getState</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">getEnv</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">categories</span><span class=\"bp\">.</span><span class=\"n\">find!</span><span class=\"w\"> </span><span class=\"n\">stx</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">getEnv</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">mut</span><span class=\"w\"> </span><span class=\"n\">tactics</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[]</span>\n<span class=\"w\">  </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"bp\">.</span><span class=\"n\">kinds</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"n\">Batteries</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">getHeadTk</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">find?</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">value?</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"bp\">.</span><span class=\"n\">trim</span>\n<span class=\"w\">      </span><span class=\"n\">tactics</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">tactics</span><span class=\"bp\">.</span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"n\">tk</span>\n<span class=\"w\">  </span><span class=\"n\">tactics</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">tactics</span><span class=\"bp\">.</span><span class=\"n\">qsort</span>\n<span class=\"w\">  </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span><span class=\"bp\">.</span><span class=\"n\">intercalate</span><span class=\"w\"> </span><span class=\"n\">tactics</span><span class=\"bp\">.</span><span class=\"n\">toList</span>\n\n<span class=\"n\">run_cmd</span><span class=\"w\"> </span><span class=\"n\">listStx</span><span class=\"w\"> </span><span class=\"ss\">`tactic</span>\n</code></pre></div>",
        "id": 548201464,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761928360
    },
    {
        "content": "<p>It seems like <code>#help tactic</code> could be useful.</p>",
        "id": 548204990,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761929430
    },
    {
        "content": "<p>I know <code>#help tactic</code> but that is extremely messy. I want only the list, but see what the tactic does once I hover over it.</p>",
        "id": 548206431,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761929879
    },
    {
        "content": "<p>Ideally with correctly displayed markdown... <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> am I asking too much?</p>",
        "id": 548207608,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761930225
    },
    {
        "content": "<p>If you are happy to hover over the parser name, you can get the ConstantInfo from the environment, but instead of the value, extract the <code>name</code>.  Then <code>MessageData.ofConstName</code> will print the parser name with the hover.</p>",
        "id": 548207904,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761930326
    },
    {
        "content": "<p>Actually, you are right -- <code>#help tactic</code> has the syntax element hoverable... so it might be possible to replace the string inside</p>",
        "id": 548207984,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761930352
    },
    {
        "content": "<p>I would prefer if it was clean -- without parser names (users do not care about them).</p>",
        "id": 548208315,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761930452
    },
    {
        "content": "<p>But thanks, I have another direction to investigate...</p>",
        "id": 548208491,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761930507
    },
    {
        "content": "<p>Here we go <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOAmApgGZwDKM+AdAGLQgpVSFjpIDGhFUwAdgOZwAFMRDwAXOUq16KAJTCAzjChxJ3PvwXrpdKAwkBeOAfao4o+AHdgaHHDgAfOFRiEAHvAD6cQwD4XN084ZSh7JxdeQmU4PiJeeFJ/SOj4OMIE4WImFjZODQEQlTlw5yokMDAM/DgkOCxfAPLK6uEkHNYOLhVNIqgFXAcy/igIAFcwOEEsQlQkADdgaEaXEfHJoX4OvO6eQtCB2YWlsKHApEFeCxXXC7grkW2ugsED0rgfZMs8CCqrgBlCEgrnwCCR7kgQIQEIpBEJFGopHstMIrpJAcCqAA5SGEbRwDG8KgIaKKC6EAAiKDq4kM4XQhHghDUxhAAGsAMIQXgxXjhKgQYj/JAALwAnuEHCIxld2DB3AB+Fb4CCShxwBlpXjECAIyR6AwAdVsqAAktrdXBAAmEJhQZjgcsVcBsdnVboiVF43OZyTAY2YcEAiYQiWTwIQwCAvEJyEru9VlRQQKEO+UrSpcnkwHFQ41oc06hGO+5qhyakywlmIUnkqkwdqCg0oXNmi0IwAX5HwC1RLE98j19gAaWKtqid3WAS/IS3BmDB/VcKWLeJDgOwqOzy1o1dKriAi8k+MpgTBgChoQA1JBQRRcgO71PMxx+KgARioc0UZEXaEZK7I0CgYolDgvwZASQJXCSdZwAAomwDQACocMe7BwFyIAMLwNSgmAPDzKecBEKQmDKBQ7hKKmkjZniahqmhGH4LBSBYAgcAAKq8LYlYqvSjImGM8BEOw6B6lI1Dwcw0IVB80nsEmYCXsytJwAA3gAvjx8DsCglZCAACpeiiEFAVDyVeRnQZ4GSKEsRL8IyFD4UINp2TA0G8PMMZUFpbj8NAwDRN2cQAIRFO4GlwBk8zWlMjJufM4Q6qoQhskOXgKHwDqMGycQItxbrAERvGJsmMBslxEBwAAQigbg8AFiFyiuVAuQAEkC+DwWVTnCDakWBZhSpsnIVB4egYyEAqCjfnycZlqVlala4PAgFOgnCVxhBCYoo48kZ8DzUIQhrdtLkUnA80AMQANoALrDX6ijmEN4UgPxG6ViSihknZtbtBx6AJcsQhLlCQ5soo6VXMdBGqm6iVwGVGXgzDU4gBWSlo4IADUWMQlCMKXLiCNwDjcAAEQADq8GT9IQPw+YVZjeAALTM3AIUAJrjDF+2oMyxHwIKtToOg51ISuCJ8wGQU4FAMpeOwIA1ALpFwAABnWjXsDgQA\">List tactics</a></p>",
        "id": 548230426,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761938447
    },
    {
        "content": "<p>The <code>#help</code> command suite could use some sprucing up: PRs welcome!</p>",
        "id": 548246574,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1761945246
    },
    {
        "content": "<p>To make it a library version, I would be happy to remove the <code>Lean.ParserDescr</code> header, but I am not sure if it is feasible...</p>",
        "id": 548253904,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1761950038
    },
    {
        "content": "<p>you may want  <a href=\"https://seasawher.github.io/mathlib4-help/\">https://seasawher.github.io/mathlib4-help/</a> ?</p>",
        "id": 548256927,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1761952241
    }
]