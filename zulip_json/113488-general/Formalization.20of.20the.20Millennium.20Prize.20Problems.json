[
    {
        "content": "<p>Hey everyone! I am excited to release a work that I have been working on. The goal of this project is to formalize the Millennium Problems in the Lean. As many of you know the Millennium Problems are seven problems in mathematics that were stated by the Clay Mathematics Institute in 2000. A correct solution to any of these problems results in a one million dollar prize.</p>\n<p>The github link is under the LeanDojo organization: <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems\">https://github.com/lean-dojo/LeanMillenniumPrizeProblems</a></p>\n<p>Also I have included detailed comments in all the files/plus relevant simplified explanations according to me: )!</p>\n<p><strong>Note:</strong>¬†I tried to formalize the problems as accurately as possible. However, I am not a mathematician, so there may be inaccuracies in the formalizations. If you find any inaccuracies, please let me know or even open up a PR! The formalizations are complete in the sense that I use definitions (That are important to define the conjectures) that have sorries in them, and I do not prove all definitions/theorems that are needed to formalize the problems. I hope that this project can be a starting point for a bigger project where we can formalize all the definitions and theorems needed to fully say the formalization of the conjectures is complete from the ground up, like the Poincar√© Conjecture formalization, which is already in Mathlib.</p>\n<p>Also the Readme as the full details of all the status of the problems formalized! As of now the NS Unbounded domain, Riemann Hypothesis, and Poincare are fully formalized! PvsNP is almost done, just have to prove one more sorry: ) if someone wants to help prove that it would be great, similarly for the NS on the Torus (they are equivalent formulations as shown in this doc: <a href=\"https://www.claymath.org/wp-content/uploads/2022/06/navierstokes.pdf\">https://www.claymath.org/wp-content/uploads/2022/06/navierstokes.pdf</a>)</p>\n<p>The hardest ones were the Hodge, YangMills and Birch which I had to take time to understand myself and come up with some basic definitions! So we will definitely need more domain experts to come and help formalize many parts of the definitions.</p>\n<p>Lastly, I hope that we can make this a bigger formalization project with more domain experts! Also regarding the PDE part: ) more updates on that soon for another project! Maybe there should be an eight Millennium prize for the full formalization with proofs (assuming all of them are solved) of almost all of math in lean but one can hope:)!</p>",
        "id": 506048924,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742191467
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"736145\">@Robert Joseph</span>, can you please state really prominently (bold, scrolling marquee, I don't care :-) in the README that this project is about the <em>statements</em> not the <em>proofs</em>. I know this, and one would hope everyone knows this, but ... better safe than sorry.</p>",
        "id": 506065923,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742197310
    },
    {
        "content": "<p>I think there are some problems. e.g. in <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/NavierStokes/MillenniumRDomain.lean\">https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/NavierStokes/MillenniumRDomain.lean</a>, the final statement is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblemStatement</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblem</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">ExistenceOfSmoothSolution</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"bp\">‚à®</span><span class=\"w\"> </span><span class=\"n\">BreakdownOfSmoothSolution</span><span class=\"w\"> </span><span class=\"n\">problem</span>\n</code></pre></div>\n<p>but <code>problem</code> contains the initial conditions! The dichotomy needs to say that either for all initial conditions, there is a smooth solution or that for some initial condition, there is no smooth solution.</p>\n<p>Currently what you've written doesn't do this.</p>",
        "id": 506067760,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742197864
    },
    {
        "content": "<p>Also, I don't think the default value of <code>nse</code> in <code>MilleniumProblem</code> can possibly be what you mean...</p>",
        "id": 506068025,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742197936
    },
    {
        "content": "<p>Writing something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">SmoothProjectiveVariety</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The underlying scheme -/</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Scheme</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is defined over the field K -/</span>\n<span class=\"w\">  </span><span class=\"n\">base_field</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is smooth -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_smooth</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is projective -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_projective</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>is fundamentally wrong. Maybe you can write <code>is_smooth : sorry</code>, but writing <code>is_smooth : Prop</code> allows someone to create a variety using <code>{ ..., is_smooth := 1 + 1 = 3, ...}</code>.</p>",
        "id": 506069135,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742198268
    },
    {
        "content": "<p>(The work you've done on Navier-Stokes looks like it has some good stuff. But given how far we are from even stating BSD or Hodge, I would suggest that this work would be better as a more focussed repository that just treats NS.)</p>",
        "id": 506069421,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742198350
    },
    {
        "content": "<p>I think maybe it's not hard to prove that the Hasse-Weil L-function for an elliptic curve over Q converges on certain right half plane. So maybe you can state a cheat version of BSD that</p>\n<blockquote>\n<p>if there exists an entire function which agrees with Hasse-Weil L-function on certain right half plane, then its order of zeroes at 1 is equal to the Mordell-Weil rank</p>\n</blockquote>",
        "id": 506075557,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742199977
    },
    {
        "content": "<p>Or you can state BSD alongside with modularity that</p>\n<blockquote>\n<p>there exists an entire function which agrees with Hasse-Weil L-function on certain right half plane, and its order of zeroes at 1 is equal to the Mordell-Weil rank</p>\n</blockquote>",
        "id": 506075752,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742200031
    },
    {
        "content": "<p>Or, since the proof of Mordell-Weil theorem is not in mathlib yet, you can state Mordell-Weil + modularity + rank part of BSD</p>",
        "id": 506076253,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742200164
    },
    {
        "content": "<p>Parts of the Yang-Mills part would make a good contribution to PhysLean, where there is already some material which would help fill in the sorries and we would eventually want a formal definitions of Yang-mills theory and gauge fields.  However, it would be nice if things like <code>GaugeField</code> were done more properly and generally using principal bundles (see <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/A.20First.20Stab.20at.20a.20Principal.20Fibre.20Bundle\">here</a>).</p>",
        "id": 506079849,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1742201019
    },
    {
        "content": "<p>My understanding from a talk of Hales is that it is not possible to formalise Yang-Mills and that the problem is not actually well-defined, it is more along the lines of \"we'll know a solution when we see it\". I've had students work on BSD before, and Mordell-Weil; it doesn't matter that we don't have a proof of Mordell-Weil because we're not going to have a proof that the L-function has analytic continuation for years (my work will give meromorphic continuation which is enough for the statement, but this will take years), you just assume the result as part of the statement. Strong BSD only makes sense if the Tate-Shaferevich group is finite and this is still not known in general so even the informal statement of strong BSD is of the form \"assume some stuff that isn't known. Then...\"</p>",
        "id": 506082635,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742201707
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506067760\">said</a>:</p>\n<blockquote>\n<p>The dichotomy needs to say that either for all initial conditions, there is a smooth solution or that for some initial condition, there is no smooth solution.</p>\n</blockquote>\n<p>Unless there are some more definitional subtleties here, isn't this trivial by LEM?</p>",
        "id": 506116302,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742209505
    },
    {
        "content": "<p>Yes. The point is that you have to pick one in order to win the prize.</p>",
        "id": 506127004,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742212166
    },
    {
        "content": "<p>What was your reason <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/NavierStokes/Definitions.lean#L16-L17\">for using</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- General space of dimension n -/</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Euc</span><span class=\"w\"> </span><span class=\"n\">ùïú</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ùïú</span>\n</code></pre></div>\n<p>instead of <code>EuclideanSpace</code> which comes with the right inner product structure already? Your <code>standardBasis</code> is then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EuclideanSpace.single#doc\">docs#EuclideanSpace.single</a>, your <code>euc_proj</code> is then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EuclideanSpace.proj#doc\">docs#EuclideanSpace.proj</a>, etc</p>",
        "id": 506150341,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1742217826
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506127004\">said</a>:</p>\n<blockquote>\n<p>Yes. The point is that you have to pick one in order to win the prize.</p>\n</blockquote>\n<p>I think that with BSD you even have to pick the one they wanted you to pick? Someone once told me that if you disprove BSD with an argument of the form \"consider <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>Y</mi><mn>2</mn></msup><mo>=</mo><msup><mi>X</mi><mn>3</mn></msup><mo>+</mo><mn>37</mn><mi>X</mi><mo>+</mo><mn>12345</mn></mrow><annotation encoding=\"application/x-tex\">Y^2=X^3+37X+12345</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">37</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">12345</span></span></span></span>; the computer says that the algebraic rank is 0 and the analytic rank is 2 so it wasn't true after all\" doesn't give you a million bucks.</p>",
        "id": 506176040,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742223295
    },
    {
        "content": "<p>I think that BSD is not the only such problem, where the Millenium prize is awarded for an \"intended solution\", but a disproof would only receive a prize subject to some further approval.</p>\n<p>E.g. a disproof of the Poincar√© conjecture <em>may</em> not have awarded a prize, just like a disproof of the Riemann Hypothesis may not.</p>",
        "id": 506183093,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1742224790
    },
    {
        "content": "<p>Just for my own curiosity, the rules seem to be <a href=\"https://www.claymath.org/wp-content/uploads/2022/03/millennium_prize_rules_0.pdf\">here</a> and say:</p>\n<blockquote>\n<p>If, in the opinion of CMI, the counterexample effectively resolves the Problem, then CMI may recommend the award of a Prize.<br>\nIf, alternatively, the counterexample shows that the original Problem survives after reformulation or elimination of some special case, then CMI may recommend that a small prize, of an amount to be determined by CMI in its sole discretion, be awarded to the author.</p>\n</blockquote>",
        "id": 506185021,
        "sender_full_name": "Julian Berman",
        "timestamp": 1742225177
    },
    {
        "content": "<p>Yang-Mills is a bit 'open-ended' in the sense that are several reasonable formulations in terms of different axioms for a QFT. (\"Axiom\" here in the sense that we talk about \"the group axioms\", not Lean axioms.) I think people _generally_ sort of expect that these are mostly equivalent, but, no one's holding their breath. Seeing any of these formalized would be pretty satisfactory as a formalization problem, I think.</p>\n<p>But (in my entirely personal opinion, and given my current estimate of the work necessary) the act of fully formalizing in Lean a statement of the Yang-Mills existence and mass gap problem would be enough of an undertaking, with enough new mathematical decisions and physical subtleties to consider, that it would be a project pretty much worthy of a PhD. Like, if a student did this as their main project+paper for a physics PhD, that would be enough to merit getting the degree. So take that as a warning before embarking!</p>",
        "id": 506186603,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1742225461
    },
    {
        "content": "<p>It is possible that I'm wildly off-base with this and formalizing the problem is much easier than I think. But that's my impression from the talks I've seen.</p>\n<p>Regardless, very cool project. :)</p>",
        "id": 506187078,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1742225550
    },
    {
        "content": "<p>A fully impractical but fun situation I've considered is if a bidirectional implication were found between two problems. Would it count because you would <em>eventually</em> (assuming one of the problems is solved in the future...) have a proof? Maybe they would let you negotiate to get an early payment in case it takes longer than your lifetime <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
        "id": 506208583,
        "sender_full_name": "Chris Henson",
        "timestamp": 1742230117
    },
    {
        "content": "<p>Bhargava proved that 60% of elliptic curves satisfied BSD but the committee did not award him 600K</p>",
        "id": 506214585,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742231616
    },
    {
        "content": "<p>To point out a few of the issues in <code>YangMills</code>:</p>\n<ul>\n<li><code>LieAlgebra</code> is already in Mathlib, I would recommend using that. Similarly, <code>IsNormalSubgroup</code> and <code>IsConnected</code> are unneeded. You can use e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LieAlgebra.IsSimple#doc\">docs#LieAlgebra.IsSimple</a> .</li>\n<li>You're trying to talk about Riemannian manifolds (and their metrics), but in fact you're just using plain old manifolds. A lot of it is <code>sorry</code>ed out at the moment so it's a bit tricky to tell, but I think you're missing some statements about the compatibility of the smooth structure.</li>\n<li>Your <code>LinearOperator</code> is just defined as <code>H ‚Üí H</code> - so it's a function, with no requirement for linearity at all! While Mathlib has linear operators of course, QFTs are not finite dimensional, and you need more than just linearity. Typically something like bounded operators, and you only trace against trace-class operators. Trace-class operators are not in Mathlib, and need to be constructed separately ... there's a prototype floating around somewhere on GitHub</li>\n<li>Your definition of <code>hilbertSpace</code> misses the topological aspect of Hilbert spaces, also you wrote it as a real vector space instead of a complex space. You can see the \"canonical\" spelling of Hilbert spaces, as used in Mathlib, at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrthonormalBasis.toHilbertBasis#doc\">docs#OrthonormalBasis.toHilbertBasis</a> for instance. (There <code>E</code> is a Hilbert space over <code>ùïú</code>; you want <code>‚ÑÇ</code>.)</li>\n<li>In general, given that spacetime is infinite, you really don't want to take the Hamiltonian as just some operator on your Hilbert space. If you take a finite energy-density field across all of space, then you'd end up with an infinite expectation value of your energy - implying that the Hamiltonian isn't a bounded operator! Which makes it very difficult to handle correctly. What you want is a Hamiltonian _density_ that you integrate across space. Then you have some appropriately tempered average energies you can talk about.</li>\n<li>But really, no one would want to specify Yang-Mills in terms of the Hamiltonian (unless they're, say, building a time-stepping simulator or something...) because this kind of ruins the minkowski symmetry. It's much better to use a Lagrangian here. This is the typical Yang-Mills action that one would encounter in a textbook.</li>\n<li>The \"existence\" part of the problem statement might need some theory of the renormalization group to be a well-defined question. Nonabelian Yang-Mills has a trivial UV fixed point, so really specifying it directly in this way directly (a microscopic Lagrangian) might be a dead end -- I think you may need to start with an effective theory with a cutoff, and say that it UV completes under RG towards a microscopic Lagrangian consistent with Yang-Mills. Or something like that. I'm not an expert here enough to say for sure ... but it doesn't look like how I'm used to thinking about things.</li>\n</ul>",
        "id": 506223585,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1742234047
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506065923\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span>, can you please state really prominently (bold, scrolling marquee, I don't care :-) in the README that this project is about the <em>statements</em> not the <em>proofs</em>. I know this, and one would hope everyone knows this, but ... better safe than sorry.</p>\n</blockquote>\n<p>Thanks, I just did that!</p>",
        "id": 506325210,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742274208
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506067760\">said</a>:</p>\n<blockquote>\n<p>I think there are some problems. e.g. in <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/NavierStokes/MillenniumRDomain.lean\">https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/NavierStokes/MillenniumRDomain.lean</a>, the final statement is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblemStatement</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblem</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">ExistenceOfSmoothSolution</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"bp\">‚à®</span><span class=\"w\"> </span><span class=\"n\">BreakdownOfSmoothSolution</span><span class=\"w\"> </span><span class=\"n\">problem</span>\n</code></pre></div>\n<p>but <code>problem</code> contains the initial conditions! The dichotomy needs to say that either for all initial conditions, there is a smooth solution or that for some initial condition, there is no smooth solution.</p>\n<p>Currently what you've written doesn't do this.</p>\n</blockquote>\n<p>Oh that is a good catch: ) I see the issue, so a potential fix that I can see, where now I have quantified over the problems which is the following setup? or does this not work</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">Either</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">ALL</span><span class=\"w\"> </span><span class=\"n\">valid</span><span class=\"w\"> </span><span class=\"n\">initial</span><span class=\"w\"> </span><span class=\"n\">conditions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">smooth</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">divergence</span><span class=\"bp\">-</span><span class=\"n\">free</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">finite</span><span class=\"w\"> </span><span class=\"n\">energy</span><span class=\"o\">),</span>\n<span class=\"w\">     </span><span class=\"n\">smooth</span><span class=\"w\"> </span><span class=\"n\">solutions</span><span class=\"w\"> </span><span class=\"n\">exist</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">all</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">global</span><span class=\"w\"> </span><span class=\"n\">existence</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">OR</span><span class=\"w\"> </span><span class=\"n\">there</span><span class=\"w\"> </span><span class=\"n\">EXISTS</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">least</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">valid</span><span class=\"w\"> </span><span class=\"n\">initial</span><span class=\"w\"> </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">which</span>\n<span class=\"w\">     </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">smooth</span><span class=\"w\"> </span><span class=\"n\">solution</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">exist</span><span class=\"w\"> </span><span class=\"n\">beyond</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">finite</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">finite</span><span class=\"bp\">-</span><span class=\"n\">time</span><span class=\"w\"> </span><span class=\"n\">blowup</span><span class=\"o\">)</span>\n<span class=\"bp\">-/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblemStatement</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblem</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ExistenceOfSmoothSolution</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚à®</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MillenniumProblem</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BreakdownOfSmoothSolution</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 506326324,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742274897
    },
    {
        "content": "<p>Yes, with the meta-caveat that the proof term <em>MUST</em>(!!!) start with <code>Or.inl</code> or <code>Or.inr</code>.</p>",
        "id": 506326519,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1742275015
    },
    {
        "content": "<p>Because otherwise it is trivial to prove this using LEM, as Mario pointed out above.</p>",
        "id": 506326540,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1742275035
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506068025\">said</a>:</p>\n<blockquote>\n<p>Also, I don't think the default value of <code>nse</code> in <code>MilleniumProblem</code> can possibly be what you mean...</p>\n</blockquote>\n<p>sorry what do you mean by this? I can see an error that nu = 1 should not be set to assume WLOG, and so it should be any positive constant correct like in the problem? also I see that I set the force to be 0, let me update that and just keep it to be any general force but with the caveat that it follows this rule, ill make an update to formalize that soon!<br>\n<a href=\"/user_uploads/3121/wudouV_9NaFpKzXZi2ZOBdHQ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/wudouV_9NaFpKzXZi2ZOBdHQ/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"621x177\" src=\"/user_uploads/thumbnail/3121/wudouV_9NaFpKzXZi2ZOBdHQ/image.png/840x560.webp\"></a></div>",
        "id": 506326685,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275135
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506069135\">said</a>:</p>\n<blockquote>\n<p>Writing something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">SmoothProjectiveVariety</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The underlying scheme -/</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Scheme</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is defined over the field K -/</span>\n<span class=\"w\">  </span><span class=\"n\">base_field</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is smooth -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_smooth</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is projective -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_projective</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>is fundamentally wrong. Maybe you can write <code>is_smooth : sorry</code>, but writing <code>is_smooth : Prop</code> allows someone to create a variety using <code>{ ..., is_smooth := 1 + 1 = 3, ...}</code>.</p>\n</blockquote>\n<p>Aah I see, thank you for letting me know that! I can make a change to that then: )!</p>",
        "id": 506326740,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275178
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506069421\">said</a>:</p>\n<blockquote>\n<p>(The work you've done on Navier-Stokes looks like it has some good stuff. But given how far we are from even stating BSD or Hodge, I would suggest that this work would be better as a more focussed repository that just treats NS.)</p>\n</blockquote>\n<p>Thanks: )! Yeah that sounds good, I can just expand on the NS one more, but can keep some of the others as just placeholders if anyone wants to contribute to that! Thanks for your comments.</p>",
        "id": 506326843,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275224
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506075557\">said</a>:</p>\n<blockquote>\n<p>I think maybe it's not hard to prove that the Hasse-Weil L-function for an elliptic curve over Q converges on certain right half plane. So maybe you can state a cheat version of BSD that</p>\n<blockquote>\n<p>if there exists an entire function which agrees with Hasse-Weil L-function on certain right half plane, then its order of zeroes at 1 is equal to the Mordell-Weil rank</p>\n</blockquote>\n</blockquote>\n<p>Interesting, let me think about it as well as if you have some references on this cheat version for me to read upon?</p>",
        "id": 506326927,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275296
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"653351\">Joseph Tooby-Smith</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506079849\">said</a>:</p>\n<blockquote>\n<p>Parts of the Yang-Mills part would make a good contribution to PhysLean, where there is already some material which would help fill in the sorries and we would eventually want a formal definitions of Yang-mills theory and gauge fields.  However, it would be nice if things like <code>GaugeField</code> were done more properly and generally using principal bundles (see <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/A.20First.20Stab.20at.20a.20Principal.20Fibre.20Bundle\">here</a>).</p>\n</blockquote>\n<p>Thanks! Yeah I did check out PhysLean: ) it has some good stuff there, however I am not a physicist so wasn't really familiar with many of the concepts. Intuitively what does principal bundles mean? I can definitely take a look and yeah it would be great if you want to contribute or start parts of the yang mill formalized with your team!</p>",
        "id": 506327659,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275412
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506150341\">said</a>:</p>\n<blockquote>\n<p>What was your reason <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/NavierStokes/Definitions.lean#L16-L17\">for using</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- General space of dimension n -/</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Euc</span><span class=\"w\"> </span><span class=\"n\">ùïú</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ùïú</span>\n</code></pre></div>\n<p>instead of <code>EuclideanSpace</code> which comes with the right inner product structure already? Your <code>standardBasis</code> is then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EuclideanSpace.single#doc\">docs#EuclideanSpace.single</a>, your <code>euc_proj</code> is then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EuclideanSpace.proj#doc\">docs#EuclideanSpace.proj</a>, etc</p>\n</blockquote>\n<p>That is a good and very valid point: ) So let me give you a bit more context, when me and the postdoc initially started working on the evans textbook formalization, we went ahead with doing everything from scratch to understand the concepts and wanted to do it by ourselves so we have full control of how we create the theorems (might not have been the optimal way but it did get us to where we wanted and helped us pick up the pace by learning it well) (also to be honest both of us didn't realize <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/InnerProductSpace/PiL2.html#EuclideanSpace.single\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/InnerProductSpace/PiL2.html#EuclideanSpace.single</a> this was there ) </p>\n<p>Recently we spoke to Floris Van Doorn and he was of great help to us! He did tell us about this to use, and this was like 2 weeks ago, but I didn't make the codebase change but now we are planning on replacing Euc k n by the euclidean space to make it easier when we release the PDE repo! I will keep this in mind and also try to make the edits to this repo as soon as I can: )</p>",
        "id": 506336697,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275774
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326519\">said</a>:</p>\n<blockquote>\n<p>Yes, with the meta-caveat that the proof term <em>MUST</em>(!!!) start with <code>Or.inl</code> or <code>Or.inr</code>.</p>\n</blockquote>\n<p>Thank you: ) Ill make the push!</p>",
        "id": 506337095,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742275789
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326685\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506068025\">said</a>:</p>\n<blockquote>\n<p>Also, I don't think the default value of <code>nse</code> in <code>MilleniumProblem</code> can possibly be what you mean...</p>\n</blockquote>\n<p>sorry what do you mean by this? I can see an error that nu = 1 should not be set to assume WLOG, and so it should be any positive constant correct like in the problem? also I see that I set the force to be 0, let me update that and just keep it to be any general force but with the caveat that it follows this rule, ill make an update to formalize that soon!<br>\n<a href=\"/user_uploads/3121/wudouV_9NaFpKzXZi2ZOBdHQ/image.png\">image.png</a></p>\n</blockquote>\n<p>A default value is precisely that. It allows someone to override it with anything they want.</p>",
        "id": 506345409,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1742276119
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506186603\">said</a>:</p>\n<blockquote>\n<p>Yang-Mills is a bit 'open-ended' in the sense that are several reasonable formulations in terms of different axioms for a QFT. (\"Axiom\" here in the sense that we talk about \"the group axioms\", not Lean axioms.) I think people _generally_ sort of expect that these are mostly equivalent, but, no one's holding their breath. Seeing any of these formalized would be pretty satisfactory as a formalization problem, I think.</p>\n<p>But (in my entirely personal opinion, and given my current estimate of the work necessary) the act of fully formalizing in Lean a statement of the Yang-Mills existence and mass gap problem would be enough of an undertaking, with enough new mathematical decisions and physical subtleties to consider, that it would be a project pretty much worthy of a PhD. Like, if a student did this as their main project+paper for a physics PhD, that would be enough to merit getting the degree. So take that as a warning before embarking!</p>\n</blockquote>\n<p>That is so valid! Thanks for your explanation and comments Alex. Again definitely not an expert in this field, and that is so cool! Hope some PhD student comes up with a good formalization of it or someone who has good background can atleats check the codebase to see if the definitions even if they have worries are reasonable and other structures defined. It was just my taking, but I'm very open to disucssion/PR's if there are mistakes to fix: ) Also do you have any good references for understanding the problem better?</p>\n<p>Thanks, I hoped that this could start discussion on these problems and their formalizations.</p>",
        "id": 506347535,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742276197
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506345409\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326685\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506068025\">said</a>:</p>\n<blockquote>\n<p>Also, I don't think the default value of <code>nse</code> in <code>MilleniumProblem</code> can possibly be what you mean...</p>\n</blockquote>\n<p>sorry what do you mean by this? I can see an error that nu = 1 should not be set to assume WLOG, and so it should be any positive constant correct like in the problem? also I see that I set the force to be 0, let me update that and just keep it to be any general force but with the caveat that it follows this rule, ill make an update to formalize that soon!<br>\n<a href=\"/user_uploads/3121/wudouV_9NaFpKzXZi2ZOBdHQ/image.png\">image.png</a></p>\n</blockquote>\n<p>A default value is precisely that. It allows someone to override it with anything they want.</p>\n</blockquote>\n<p>thanks Kim!  Ill make the change and push it soon: )!</p>",
        "id": 506349011,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742276261
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506223585\">said</a>:</p>\n<blockquote>\n<p>To point out a few of the issues in <code>YangMills</code>:</p>\n<ul>\n<li><code>LieAlgebra</code> is already in Mathlib, I would recommend using that. Similarly, <code>IsNormalSubgroup</code> and <code>IsConnected</code> are unneeded. You can use e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LieAlgebra.IsSimple#doc\">docs#LieAlgebra.IsSimple</a> .</li>\n<li>You're trying to talk about Riemannian manifolds (and their metrics), but in fact you're just using plain old manifolds. A lot of it is <code>sorry</code>ed out at the moment so it's a bit tricky to tell, but I think you're missing some statements about the compatibility of the smooth structure.</li>\n<li>Your <code>LinearOperator</code> is just defined as <code>H ‚Üí H</code> - so it's a function, with no requirement for linearity at all! While Mathlib has linear operators of course, QFTs are not finite dimensional, and you need more than just linearity. Typically something like bounded operators, and you only trace against trace-class operators. Trace-class operators are not in Mathlib, and need to be constructed separately ... there's a prototype floating around somewhere on GitHub</li>\n<li>Your definition of <code>hilbertSpace</code> misses the topological aspect of Hilbert spaces, also you wrote it as a real vector space instead of a complex space. You can see the \"canonical\" spelling of Hilbert spaces, as used in Mathlib, at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrthonormalBasis.toHilbertBasis#doc\">docs#OrthonormalBasis.toHilbertBasis</a> for instance. (There <code>E</code> is a Hilbert space over <code>ùïú</code>; you want <code>‚ÑÇ</code>.)</li>\n<li>In general, given that spacetime is infinite, you really don't want to take the Hamiltonian as just some operator on your Hilbert space. If you take a finite energy-density field across all of space, then you'd end up with an infinite expectation value of your energy - implying that the Hamiltonian isn't a bounded operator! Which makes it very difficult to handle correctly. What you want is a Hamiltonian _density_ that you integrate across space. Then you have some appropriately tempered average energies you can talk about.</li>\n<li>But really, no one would want to specify Yang-Mills in terms of the Hamiltonian (unless they're, say, building a time-stepping simulator or something...) because this kind of ruins the minkowski symmetry. It's much better to use a Lagrangian here. This is the typical Yang-Mills action that one would encounter in a textbook.</li>\n<li>The \"existence\" part of the problem statement might need some theory of the renormalization group to be a well-defined question. Nonabelian Yang-Mills has a trivial UV fixed point, so really specifying it directly in this way directly (a microscopic Lagrangian) might be a dead end -- I think you may need to start with an effective theory with a cutoff, and say that it UV completes under RG towards a microscopic Lagrangian consistent with Yang-Mills. Or something like that. I'm not an expert here enough to say for sure ... but it doesn't look like how I'm used to thinking about things.</li>\n</ul>\n</blockquote>\n<p>Thank you so much for the detailed comments! I didn't see it until my previous response haha so sorry for asking more details on the other message.</p>\n<p>Let me try to answer them point by point</p>\n<ol>\n<li>oh I can make that change! Let me try to fix that then: )</li>\n<li>Oh that's because manifolds is already there in Lean correct so I just tried to use some parts of it: ) Yeah I was trying to get smooth manifolds, as you can see in some of the definitions I commented it out by worries, is cause I wasn't able to properly define the manifold without borders</li>\n<li>This is such a valid point, I completely forgot about the linearity, I will make that fix soon and oh yeah we need boundedness. I will try to find those trace class operators prototype. Thanks</li>\n<li>\n<p>Aah my bad, my friend who is a mathematical physicist had mentioned this and I was going to make this change but completely forgot about this. I will do that!<br>\n5 and 6. Interesting I will try to reformulate it then in regards to these points.</p>\n</li>\n<li>\n<p>Yeah this I'm not sure, I can read more about it and ask clarifying questions here.</p>\n</li>\n</ol>",
        "id": 506363075,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742276816
    },
    {
        "content": "<p>Thank you everyone for your interest and comments! They really were helpful : ) Also I would be happy if people could comment on the other problems especially if you find mistakes for the RH, PvsNP etc!</p>",
        "id": 506365422,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742276914
    },
    {
        "content": "<p>Also I will be at the <a href=\"https://simons.berkeley.edu/workshops/simons-institute-theory-computing-slmath-joint-workshop-ai-mathematics-theoretical/schedule\">https://simons.berkeley.edu/workshops/simons-institute-theory-computing-slmath-joint-workshop-ai-mathematics-theoretical/schedule</a> workshop from April 7th to 11th! So if you would like to discuss this, I would be happy to in person.</p>",
        "id": 506387636,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742277849
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/stream/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326740\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506069135\">said</a>:</p>\n<blockquote>\n<p>Writing something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">SmoothProjectiveVariety</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The underlying scheme -/</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Scheme</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is defined over the field K -/</span>\n<span class=\"w\">  </span><span class=\"n\">base_field</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is smooth -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_smooth</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is projective -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_projective</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>is fundamentally wrong. Maybe you can write <code>is_smooth : sorry</code>, but writing <code>is_smooth : Prop</code> allows someone to create a variety using <code>{ ..., is_smooth := 1 + 1 = 3, ...}</code>.</p>\n</blockquote>\n<p>Aah I see, thank you for letting me know that! I can make a change to that then: )!</p>\n</blockquote>\n<p>This issue is with NSE too, for example</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">domain</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Euc</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>so you can claim $1M by setting <code>domain</code> to an empty set.</p>\n<p>You are using structure fields with default values as let bindings. They work differently!</p>",
        "id": 506417494,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1742287561
    },
    {
        "content": "<p>Also</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">nse</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NavierStokesEquations</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">    </span><span class=\"n\">nu</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">nu</span><span class=\"o\">,</span><span class=\"w\">                            </span><span class=\"c1\">-- Kinematic viscosity (from parameter)</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\">                              </span><span class=\"c1\">-- External force field</span>\n<span class=\"w\">    </span><span class=\"n\">nu_pos</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">nu_pos</span><span class=\"o\">,</span><span class=\"w\">                    </span><span class=\"c1\">-- Proof that viscosity is positive</span>\n<span class=\"w\">    </span><span class=\"n\">initialVelocity</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">initialVelocity</span><span class=\"o\">,</span><span class=\"w\">  </span><span class=\"c1\">-- Initial velocity field</span>\n<span class=\"w\">    </span><span class=\"n\">initialDivergenceFree</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">initialVelocity_div_free</span><span class=\"w\">  </span><span class=\"c1\">-- Proof of incompressibility</span>\n<span class=\"w\">  </span><span class=\"o\">}</span>\n</code></pre></div>",
        "id": 506417827,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1742287654
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506347535\">said</a>:</p>\n<blockquote>\n<p>Also do you have any good references for understanding the problem better?</p>\n</blockquote>\n<p>I'm afraid not. Or rather, the good references I could think of would essentially amount to learning QFT. Which is a fun and enlightening activity! But I think most people in this server can relate to having more things they'd enjoy learning than they have time for.</p>\n<p>If you wanted a reference anyway, I think Srednicki's book on QFT does a good job of introducing the field, and does so in a way that doesn't go so deep into the \"practical\" physics of e.g. electrons, pions, or calculating tons of scattering amplitudes (none of which is so relevant here). <a href=\"https://web.physics.ucsb.edu/~mark/qft.html\">It's free online.</a></p>\n<p>Nonabelian Gauge Theory (which the Yang-Mills millenium problem is about) is covered in chapters 69-73. The chapters are short; those 4 constitute only 28 pages. But of course the mathematical prereqs stretch way back.</p>",
        "id": 506581516,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1742332226
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506065923\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span>, can you please state really prominently (bold, scrolling marquee, I don't care :-) in the README that this project is about the <em>statements</em> not the <em>proofs</em>. I know this, and one would hope everyone knows this, but ... better safe than sorry.</p>\n</blockquote>\n<p>I disagree because it was already clear enough that the claim here is to correctly state the proofs. I'm left unsure if this promise, already clear enough, will be left defocused.</p>",
        "id": 506595369,
        "sender_full_name": "Dean Young",
        "timestamp": 1742338271
    },
    {
        "content": "<p>But we don't know the proofs?</p>",
        "id": 506595563,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742338374
    },
    {
        "content": "<p>My concern is about casting doubt on peoples' ability to state things correctly. </p>\n<p>And yes I agree we don't know the proofs.</p>",
        "id": 506596222,
        "sender_full_name": "Dean Young",
        "timestamp": 1742338677
    },
    {
        "content": "<p>I think Kim's main concern is that people that claim to have solved a millenium prize problem are a dime a dozen and you do <em>not</em> want to be confused for one</p>",
        "id": 506596570,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742338822
    },
    {
        "content": "<p>In particular, the topic title here is definitely ambiguous about whether it is a formalization of the statement or the proof. If I said \"I have formalized the classification of finite simple groups\" most people would interpret that as me having formally proved the theorem</p>",
        "id": 506596890,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742338959
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> ok, thanks for your clarity here.</p>",
        "id": 506598075,
        "sender_full_name": "Dean Young",
        "timestamp": 1742339560
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"346070\">Tomas Skrivan</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506417494\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/stream/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326740\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506069135\">said</a>:</p>\n<blockquote>\n<p>Writing something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">SmoothProjectiveVariety</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The underlying scheme -/</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Scheme</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is defined over the field K -/</span>\n<span class=\"w\">  </span><span class=\"n\">base_field</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is smooth -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_smooth</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The scheme is projective -/</span>\n<span class=\"w\">  </span><span class=\"n\">is_projective</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>is fundamentally wrong. Maybe you can write <code>is_smooth : sorry</code>, but writing <code>is_smooth : Prop</code> allows someone to create a variety using <code>{ ..., is_smooth := 1 + 1 = 3, ...}</code>.</p>\n</blockquote>\n<p>Aah I see, thank you for letting me know that! I can make a change to that then: )!</p>\n</blockquote>\n<p>This issue is with NSE too, for example</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">domain</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Euc</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>so you can claim $1M by setting <code>domain</code> to an empty set.</p>\n<p>You are using structure fields with default values as let bindings. They work differently!</p>\n</blockquote>\n<p>Oh I see, so what would be the best way to go about doing this?</p>",
        "id": 506600293,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742340598
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506581516\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506347535\">said</a>:</p>\n<blockquote>\n<p>Also do you have any good references for understanding the problem better?</p>\n</blockquote>\n<p>I'm afraid not. Or rather, the good references I could think of would essentially amount to learning QFT. Which is a fun and enlightening activity! But I think most people in this server can relate to having more things they'd enjoy learning than they have time for.</p>\n<p>If you wanted a reference anyway, I think Srednicki's book on QFT does a good job of introducing the field, and does so in a way that doesn't go so deep into the \"practical\" physics of e.g. electrons, pions, or calculating tons of scattering amplitudes (none of which is so relevant here). <a href=\"https://web.physics.ucsb.edu/~mark/qft.html\">It's free online.</a></p>\n<p>Nonabelian Gauge Theory (which the Yang-Mills millenium problem is about) is covered in chapters 69-73. The chapters are short; those 4 constitute only 28 pages. But of course the mathematical prereqs stretch way back.</p>\n</blockquote>\n<p>Aah I see thank you for some of the references: )I can check them out when I have the time haha!</p>",
        "id": 506600387,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742340633
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"448405\">@Alex Meiburg</span> is it actually free online? I don't see a link to the book itself at that page, just a link to amazon</p>",
        "id": 506600662,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742340798
    },
    {
        "content": "<p>oh nvm there is a draft version <a href=\"https://web.physics.ucsb.edu/~mark/ms-qft-DRAFT.pdf\">here</a></p>",
        "id": 506600708,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742340836
    },
    {
        "content": "<p>I had a look at the Riemann hypothesis file in this project <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/RiemannHypothesis/Millennium.lean\">here</a>. Note that we already have a statement of RH in Mathlib itself ‚Äì¬†<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RiemannHypothesis#doc\">docs#RiemannHypothesis</a> ‚Äì so I was curious what this file added on top of that. </p>\n<p>One thing that jumped out at me from this file is the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- # A stronger form of the Riemann Hypothesis states that all zeros of the Riemann zeta function in the critical strip are simple zeros (i.e., have multiplicity 1).</span>\n\n<span class=\"sd\">    This means that each zero is a single root, not a multiple root, which would</span>\n<span class=\"sd\">    influence how certain related functions behave near these zeros. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">SimpleZerosHypothesis</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">CriticalStrip</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">riemannZeta</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">Œµ</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">‚Äñ</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">Œµ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">riemannZeta</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>This is not a stronger form of RH; it is an easy theorem, because the formalisation is not saying that the zeroes are <em>simple</em> (or anything about them being on the critical line!) but just that they are <em>isolated</em>. The zeroes of holomorphic functions are always isolated (as long as the domain is connected and the function not identically 0, conditions which are trivially satisfied here), by various elementary theorems of complex analysis which you can easily find in Mathlib. </p>\n<p>Moreover, the restriction to s in the critical strip is not needed anyway, since the zeroes outside the critical strip are well-understood. Using the properties of zeta that are formalised in mathlib, it would be an easy exercise to show that all zeroes outside the critical strip are simple. (Then you don't even need to bother defining <code>CriticalStrip</code> since it is not used anywhere else in the file; and that actually also applies to several of the other declarations here, such as <code>primeCountingFunction</code>.)</p>",
        "id": 506654819,
        "sender_full_name": "David Loeffler",
        "timestamp": 1742370232
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"481963\">David Loeffler</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506654819\">said</a>:</p>\n<blockquote>\n<p>I had a look at the Riemann hypothesis file in this project <a href=\"https://github.com/lean-dojo/LeanMillenniumPrizeProblems/blob/main/Problems/RiemannHypothesis/Millennium.lean\">here</a>. Note that we already have a statement of RH in Mathlib itself ‚Äì¬†<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RiemannHypothesis#doc\">docs#RiemannHypothesis</a> ‚Äì so I was curious what this file added on top of that. </p>\n<p>One thing that jumped out at me from this file is the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- # A stronger form of the Riemann Hypothesis states that all zeros of the Riemann zeta function in the critical strip are simple zeros (i.e., have multiplicity 1).</span>\n\n<span class=\"sd\">    This means that each zero is a single root, not a multiple root, which would</span>\n<span class=\"sd\">    influence how certain related functions behave near these zeros. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">SimpleZerosHypothesis</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">CriticalStrip</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">riemannZeta</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">Œµ</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">‚Äñ</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">Œµ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">riemannZeta</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>This is not a stronger form of RH; it is an easy theorem, because the formalisation is not saying that the zeroes are <em>simple</em> (or anything about them being on the critical line!) but just that they are <em>isolated</em>. The zeroes of holomorphic functions are always isolated (as long as the domain is connected and the function not identically 0, conditions which are trivially satisfied here), by various elementary theorems of complex analysis which you can easily find in Mathlib. </p>\n<p>Moreover, the restriction to s in the critical strip is not needed anyway, since the zeroes outside the critical strip are well-understood. Using the properties of zeta that are formalised in mathlib, it would be an easy exercise to show that all zeroes outside the critical strip are simple. (Then you don't even need to bother defining <code>CriticalStrip</code> since it is not used anywhere else in the file; and that actually also applies to several of the other declarations here, such as <code>primeCountingFunction</code>.)</p>\n</blockquote>\n<p>Thanks for your comment David! I do apologize for not including the comment that the doc already does have the RH formalized like I did for the Poincare conjecture. Oh my bad, I shouldn't have written it that way: ) I will do all the modifications that you mentioned and I included the definition the critical strip because I want people to understand basic definitions needed to define the RH prop.</p>",
        "id": 507384316,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742599825
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326927\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506075557\">said</a>:</p>\n<blockquote>\n<p>I think maybe it's not hard to prove that the Hasse-Weil L-function for an elliptic curve over Q converges on certain right half plane. So maybe you can state a cheat version of BSD that</p>\n<blockquote>\n<p>if there exists an entire function which agrees with Hasse-Weil L-function on certain right half plane, then its order of zeroes at 1 is equal to the Mordell-Weil rank</p>\n</blockquote>\n</blockquote>\n<p>Interesting, let me think about it as well as if you have some references on this cheat version for me to read upon?</p>\n</blockquote>\n<p>Not yet. Maybe I'll try to write it down...</p>",
        "id": 507529612,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742708227
    },
    {
        "content": "<p>[EDIT] make things mathematically correct as many as possible</p>\n<p>Here we go:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.AlgebraicGeometry.EllipticCurve.Group</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Analysis.Analytic.Order</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Analysis.SpecialFunctions.Pow.Complex</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Topology.Algebra.InfiniteSum.Defs</span>\n\n<span class=\"kd\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Cardinal</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">CommRing</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- The number of rational points of a Weierstrass curve `W` over a ring `R`.</span>\n<span class=\"sd\">It is zero if there are infinitely many such points. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">numPoints</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Cardinal.toNat</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">W.toAffine.Point</span>\n\n<span class=\"sd\">/-- The trace of Frobenius isogeny of a Weierstrass curve `W` over a ring `R`.</span>\n<span class=\"sd\">This definition is mathematically correct if `R` is a finite field. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">frobeniusTrace</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Cardinal.toNat</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">W.numPoints</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">scoped</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"sd\">/-- The **local Euler factor** `f` of a Weierstrass curve `W` over a ring `R`,</span>\n<span class=\"sd\">as a polynomial over `‚Ñ§`. This definition is mathematically correct if `R` is a finite field.</span>\n<span class=\"sd\">The corresponding term in the L-function is `f(q‚ÅªÀ¢)‚Åª¬π` where `q` is the cardinality of `R`. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">localEulerFactor</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">W.IsElliptic</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">W.frobeniusTrace</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">Cardinal.toNat</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"k\">else</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">W.frobeniusTrace</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">X</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">CommRing</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">Field</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- A `Prop` which asserts that the abelian group of rational points of a Weierstrass curve `W`</span>\n<span class=\"sd\">over a field `F` is finitely generated. Mathematically, this is true if `W` is an elliptic curve</span>\n<span class=\"sd\">and `F` is a global field. -/</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">MordellWeil</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Module.Finite</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"n\">W.toAffine.Point</span>\n\n<span class=\"sd\">/-- The **Mordell-Weil rank** of a Weierstrass curve `W` over a field `F`, defined to be the</span>\n<span class=\"sd\">`Module.finrank` of the abelian group its rational points. This definition is mathematically correct</span>\n<span class=\"sd\">if such group is finitely generated. -/</span>\n<span class=\"kn\">protected</span><span class=\"w\"> </span><span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Module.finrank</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"n\">W.toAffine.Point</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">Field</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">Int</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- The *fake* **Hasse-Weil L-function** of a Weierstrass curve over `‚Ñ§`.</span>\n<span class=\"sd\">Since the Weierstrass curve is not necessarily a global minimal model, it misses finitely many</span>\n<span class=\"sd\">Euler factors compared to the mathematically correct one, namely, it is `L(E,s) * ‚àè p, f‚Çö(p‚ÅªÀ¢)`</span>\n<span class=\"sd\">for some finitely many `p`. Since `f‚Çö(p‚ÅªÀ¢)` is entire, this function is also entire.</span>\n<span class=\"sd\">Since `f‚Çö(p‚ÅªÀ¢)` has no zeros on reals, the order of zeroes of this function on reals is the same</span>\n<span class=\"sd\">as the actual L-function. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">fakeHasseWeil</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚àè'</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat.Primes</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">aeval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W.baseChange</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ZMod</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">localEulerFactor</span><span class=\"o\">)</span><span class=\"bp\">‚Åª¬π</span>\n\n<span class=\"sd\">/-- The **rank part of the Birch and Swinnerton-Dyer conjecture** for elliptic curves over `‚Ñö`.</span>\n<span class=\"sd\">It is stated as that for any Weierstrass curve over `‚Ñ§` with non-zero discriminant, the</span>\n<span class=\"sd\">Mordell-Weil group of the corresponding elliptic curve over `‚Ñö` is finitely generated,</span>\n<span class=\"sd\">and its *fake* L-function has an analytic continuation to the whole complex plane,</span>\n<span class=\"sd\">whose order of zeroes at `1` is equal to the Mordell-Weil rank. -/</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">BSD</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">W.Œî</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W.baseChange</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">MordellWeil</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÉ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">han</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AnalyticAt</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">),</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s.re</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">œÉ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">W.fakeHasseWeil</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">han</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">order</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W.baseChange</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">rank</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">Int</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span>\n</code></pre></div>",
        "id": 507557425,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742730356
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/507529612\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"736145\">Robert Joseph</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506326927\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/506075557\">said</a>:</p>\n<blockquote>\n<p>I think maybe it's not hard to prove that the Hasse-Weil L-function for an elliptic curve over Q converges on certain right half plane. So maybe you can state a cheat version of BSD that</p>\n<blockquote>\n<p>if there exists an entire function which agrees with Hasse-Weil L-function on certain right half plane, then its order of zeroes at 1 is equal to the Mordell-Weil rank</p>\n</blockquote>\n</blockquote>\n<p>Interesting, let me think about it as well as if you have some references on this cheat version for me to read upon?</p>\n</blockquote>\n<p>Not yet. Maybe I'll try to write it down...</p>\n</blockquote>\n<p>Thank you: )!</p>",
        "id": 507662859,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742798378
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/113488-general/topic/Formalization.20of.20the.20Millennium.20Prize.20Problems/near/507557425\">said</a>:</p>\n<blockquote>\n<p>[EDIT] make things mathematically correct as many as possible</p>\n<p>Here we go:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.AlgebraicGeometry.EllipticCurve.Group</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Analysis.Analytic.Order</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Analysis.SpecialFunctions.Pow.Complex</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Topology.Algebra.InfiniteSum.Defs</span>\n\n<span class=\"kd\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Cardinal</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">CommRing</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- The number of rational points of a Weierstrass curve `W` over a ring `R`.</span>\n<span class=\"sd\">It is zero if there are infinitely many such points. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">numPoints</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Cardinal.toNat</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">W.toAffine.Point</span>\n\n<span class=\"sd\">/-- The trace of Frobenius isogeny of a Weierstrass curve `W` over a ring `R`.</span>\n<span class=\"sd\">This definition is mathematically correct if `R` is a finite field. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">frobeniusTrace</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Cardinal.toNat</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">W.numPoints</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">scoped</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"sd\">/-- The **local Euler factor** `f` of a Weierstrass curve `W` over a ring `R`,</span>\n<span class=\"sd\">as a polynomial over `‚Ñ§`. This definition is mathematically correct if `R` is a finite field.</span>\n<span class=\"sd\">The corresponding term in the L-function is `f(q‚ÅªÀ¢)‚Åª¬π` where `q` is the cardinality of `R`. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">localEulerFactor</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">W.IsElliptic</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">W.frobeniusTrace</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">Cardinal.toNat</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"k\">else</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">W.frobeniusTrace</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">X</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">CommRing</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">Field</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- A `Prop` which asserts that the abelian group of rational points of a Weierstrass curve `W`</span>\n<span class=\"sd\">over a field `F` is finitely generated. Mathematically, this is true if `W` is an elliptic curve</span>\n<span class=\"sd\">and `F` is a global field. -/</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">MordellWeil</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Module.Finite</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"n\">W.toAffine.Point</span>\n\n<span class=\"sd\">/-- The **Mordell-Weil rank** of a Weierstrass curve `W` over a field `F`, defined to be the</span>\n<span class=\"sd\">`Module.finrank` of the abelian group its rational points. This definition is mathematically correct</span>\n<span class=\"sd\">if such group is finitely generated. -/</span>\n<span class=\"kn\">protected</span><span class=\"w\"> </span><span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Module.finrank</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"n\">W.toAffine.Point</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">Field</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">Int</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- The *fake* **Hasse-Weil L-function** of a Weierstrass curve over `‚Ñ§`.</span>\n<span class=\"sd\">Since the Weierstrass curve is not necessarily a global minimal model, it misses finitely many</span>\n<span class=\"sd\">Euler factors compared to the mathematically correct one, namely, it is `L(E,s) * ‚àè p, f‚Çö(p‚ÅªÀ¢)`</span>\n<span class=\"sd\">for some finitely many `p`. Since `f‚Çö(p‚ÅªÀ¢)` is entire, this function is also entire.</span>\n<span class=\"sd\">Since `f‚Çö(p‚ÅªÀ¢)` has no zeros on reals, the order of zeroes of this function on reals is the same</span>\n<span class=\"sd\">as the actual L-function. -/</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">fakeHasseWeil</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚àè'</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat.Primes</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">aeval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W.baseChange</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ZMod</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">localEulerFactor</span><span class=\"o\">)</span><span class=\"bp\">‚Åª¬π</span>\n\n<span class=\"sd\">/-- The **rank part of the Birch and Swinnerton-Dyer conjecture** for elliptic curves over `‚Ñö`.</span>\n<span class=\"sd\">It is stated as that for any Weierstrass curve over `‚Ñ§` with non-zero discriminant, the</span>\n<span class=\"sd\">Mordell-Weil group of the corresponding elliptic curve over `‚Ñö` is finitely generated,</span>\n<span class=\"sd\">and its *fake* L-function has an analytic continuation to the whole complex plane,</span>\n<span class=\"sd\">whose order of zeroes at `1` is equal to the Mordell-Weil rank. -/</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">BSD</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">W</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">W.Œî</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W.baseChange</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">MordellWeil</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÉ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">han</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AnalyticAt</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">),</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚ÑÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s.re</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">œÉ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">W.fakeHasseWeil</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">han</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">order</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">W.baseChange</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">rank</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">Int</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">WeierstrassCurve</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>oh wow thank you so much! I will take a look at it and if I have questions I will ask you and then make a change then: ) and Ill give you credit for it!</p>",
        "id": 507662991,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1742798441
    },
    {
        "content": "<p>You're welcome. I think this needs to be double checked by other experts...</p>",
        "id": 507663773,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742798815
    }
]