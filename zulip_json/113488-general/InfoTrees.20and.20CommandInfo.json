[
    {
        "content": "<p>Quick question: is it guarunteed that every <code>Lean.Elab.InfoTree</code> (as extracted by something like <code>CompileModule module</code>) has exactly one <code>CommandInfo</code> node, or is it possible to have multiple in one infotree? If so, what kind of situation would cause that to happen?</p>\n<p>For some context, I'm trying to split a file into its constituent theorems, and I was wondering if it is robust enough to just split on the infotrees generated by compiling the module. It seems like it from the little tests I've done, but I want to make sure there's no weird edge cases before committing to it.</p>",
        "id": 493482221,
        "sender_full_name": "Riyaz Ahuja",
        "timestamp": 1736815110
    },
    {
        "content": "<p>Would something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">run_cmd</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">cmd1</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"bp\">|#</span><span class=\"n\">exit</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">cmd2</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"bp\">|</span><span class=\"kn\">end</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>have more than one <code>CommandInfo</code> node?</p>",
        "id": 493527521,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736840410
    },
    {
        "content": "<p>I would also look into <code>mutual</code> blocks for sources of potential multiple <code>CommandInfo</code>s.</p>",
        "id": 493527612,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736840455
    }
]