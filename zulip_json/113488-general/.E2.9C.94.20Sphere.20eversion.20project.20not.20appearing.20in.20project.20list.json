[
    {
        "content": "<p>Am I wrong or the project does not appear in the <a href=\"https://leanprover-community.github.io/lean_projects.html\">dedicated page</a> on the community website?</p>",
        "id": 311173634,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1668970412
    },
    {
        "content": "<p>No it does not. That was reported a few weeks ago already.</p>",
        "id": 311173668,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668970439
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-contrib/leanprover-contrib/actions/runs/3175159229/jobs/5172851813\">https://github.com/leanprover-contrib/leanprover-contrib/actions/runs/3175159229/jobs/5172851813</a> <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 311182495,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668976398
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-contrib/leanprover-contrib/actions\">https://github.com/leanprover-contrib/leanprover-contrib/actions</a> suggests there is a real problem and it's not new</p>",
        "id": 311182534,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1668976433
    },
    {
        "content": "<p>Wait, the workflow broke precisely when Floris added sphere-eversion to the list of projects.</p>",
        "id": 311183486,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1668977126
    },
    {
        "content": "<p>Annoyingly I now get an email every time that job fails!</p>",
        "id": 311188751,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668981085
    },
    {
        "content": "<p>I would guess that we need to split the CI up into one job per project</p>",
        "id": 311188816,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668981136
    },
    {
        "content": "<p>From the github docs:</p>\n<blockquote>\n<ul>\n<li>Job execution time - Each job in a workflow can run for up to 6 hours of execution time. If a job reaches this limit, the job is terminated and fails to complete.</li>\n<li>Workflow run time - Each workflow run is limited to 35 days. If a workflow run reaches this limit, the workflow run is cancelled. This period includes execution duration, and time spent on waiting and approval.</li>\n</ul>\n</blockquote>\n<p>So we have plenty of headroom if we can distribute the work</p>",
        "id": 311188970,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668981263
    },
    {
        "content": "<p>Oh, I think the problem here is that the CI is incremental</p>",
        "id": 311188982,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668981288
    },
    {
        "content": "<p>I'll see if I can parallelize the different lean versions</p>",
        "id": 311193794,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668985362
    },
    {
        "content": "<p>Attempted in <a href=\"https://github.com/eric-wieser/leanprover-contrib/actions/runs/3510677680\">https://github.com/eric-wieser/leanprover-contrib/actions/runs/3510677680</a></p>",
        "id": 311202854,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1668994147
    },
    {
        "content": "<p>Building the project took only 5-20 minutes before I added the two new projects. Why does it suddenly need 6 hours?</p>",
        "id": 311235885,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1669019489
    },
    {
        "content": "<p>Because it had to build it for every lean version</p>",
        "id": 311236209,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1669019649
    },
    {
        "content": "<p>Splitting the build did the trick, I'll try to clean up the mess I've made of the script</p>",
        "id": 311240284,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1669021279
    },
    {
        "content": "<p>I see. And once it succeeds, it will just use the cache next time?</p>",
        "id": 311292180,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1669040423
    },
    {
        "content": "<p>Yes</p>",
        "id": 311409392,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1669045137
    },
    {
        "content": "<p>But every time a new lean version or a new project was added, it would previously get overloaded</p>",
        "id": 311409463,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1669045156
    },
    {
        "content": "<p>PR at <a href=\"https://github.com/leanprover-contrib/leanprover-contrib/pull/22\">https://github.com/leanprover-contrib/leanprover-contrib/pull/22</a></p>",
        "id": 311494851,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1669074415
    },
    {
        "content": "<p>18 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"116395\" href=\"/#narrow/stream/116395-maths/topic/Sphere.20eversion.20project\">#maths &gt; Sphere eversion project</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 311784480,
        "sender_full_name": "Notification Bot",
        "timestamp": 1669195779
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> has marked this topic as resolved.</p>",
        "id": 311784589,
        "sender_full_name": "Notification Bot",
        "timestamp": 1669195807
    },
    {
        "content": "<p>(didn't want to dilute Patrick's announcement in the other thread with boring CI discussion)</p>",
        "id": 311784758,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1669195856
    }
]