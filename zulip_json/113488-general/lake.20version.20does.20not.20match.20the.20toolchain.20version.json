[
    {
        "content": "<p>After doing <code>lake update</code> in a <a href=\"https://github.com/leanprover-community/flt-regular/\">project</a> I get the warning</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>info:<span class=\"w\"> </span>mathlib:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'df27cff57fa72144f1d69257b0619c7390ab7b9a'</span>\ninfo:<span class=\"w\"> </span>toolchain<span class=\"w\"> </span>not<span class=\"w\"> </span>updated<span class=\"p\">;</span><span class=\"w\"> </span>already<span class=\"w\"> </span>up-to-date\ninfo:<span class=\"w\"> </span>batteries:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'c029ceb9956ef9d567fc034e5403ec829f8d0d87'</span>\ninfo:<span class=\"w\"> </span>mathlib:<span class=\"w\"> </span>running<span class=\"w\"> </span>post-update<span class=\"w\"> </span>hooks\nNot<span class=\"w\"> </span>running<span class=\"w\"> </span><span class=\"sb\">`</span>lake<span class=\"w\"> </span>exe<span class=\"w\"> </span>cache<span class=\"w\"> </span>get<span class=\"sb\">`</span><span class=\"w\"> </span>yet,<span class=\"w\"> </span>as<span class=\"w\"> </span>the<span class=\"w\"> </span><span class=\"sb\">`</span>lake<span class=\"sb\">`</span><span class=\"w\"> </span>version<span class=\"w\"> </span>does<span class=\"w\"> </span>not<span class=\"w\"> </span>match<span class=\"w\"> </span>the<span class=\"w\"> </span>toolchain<span class=\"w\"> </span>version<span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span>the<span class=\"w\"> </span>project.\nYou<span class=\"w\"> </span>should<span class=\"w\"> </span>run<span class=\"w\"> </span><span class=\"sb\">`</span>lake<span class=\"w\"> </span>exe<span class=\"w\"> </span>cache<span class=\"w\"> </span>get<span class=\"sb\">`</span><span class=\"w\"> </span>manually.\n</code></pre></div>\n<p>It's a not a big deal since <code>lake exe cache get</code> works as expected, but what should I do to fix it?</p>",
        "id": 547900936,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1761820760
    },
    {
        "content": "<p>My take is that there is nothing to fix and you only need to follow it by running lake exe cache get once?</p>",
        "id": 547924997,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761828194
    },
    {
        "content": "<p>(I also got this for every project I upgraded )</p>",
        "id": 547925084,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761828222
    },
    {
        "content": "<p>I did it, but it happened again</p>",
        "id": 547925591,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1761828363
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span>, this project doesn't have a <code>lean-toolchain</code>, so basically all bets are off for any Lean tooling behaving sanely. :-) Please fix that first.</p>",
        "id": 548067581,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1761879402
    },
    {
        "content": "<p>Not sure I understand this comment, there is a <code>lean-toolchain</code> file.</p>",
        "id": 548141382,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1761912833
    },
    {
        "content": "<p>I think I have got the same issue when I tried updating it again today. I also have <code>lean-toolchain</code> file with content</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">25</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc2</span>\n</code></pre></div>\n<p>as for lake version</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">5.0</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">src</span><span class=\"bp\">+</span><span class=\"mi\">744</span><span class=\"n\">f980</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.25</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc2</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 553522181,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1762227663
    },
    {
        "content": "<p>The error is reporting the state in the middle of the update, not after</p>",
        "id": 553567041,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1762249592
    },
    {
        "content": "<p>I got a same warning</p>",
        "id": 553735347,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1762299196
    },
    {
        "content": "<p>Hopefully <a href=\"https://github.com/leanprover-community/mathlib4/pull/31523\">#31523</a> will resolve this problem.</p>",
        "id": 555004361,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1762900838
    },
    {
        "content": "<p>Thanks a lot!</p>",
        "id": 555005010,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1762901299
    },
    {
        "content": "<p>To be clear though - it isn't actually an issue for now?</p>",
        "id": 555074475,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1762941353
    },
    {
        "content": "<p>What happens for me is that I have to run <code>lake exe cache get</code> manually, so it's not a big deal, but it would be nice to have this working.</p>",
        "id": 555074712,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1762941424
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/113488-general/topic/lake.20version.20does.20not.20match.20the.20toolchain.20version/near/555074475\">said</a>:</p>\n<blockquote>\n<p>To be clear though - it isn't actually an issue for now?</p>\n</blockquote>\n<p>Yesterday I was still seeing the issue when running <code>lake update</code> in <code>flt-regular</code>.</p>",
        "id": 555212766,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1762977807
    }
]