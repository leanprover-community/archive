[
    {
        "content": "<p>I'm trying to write a function which takes a proof that ((x :: xs).length &gt; n) to get a proof that xs.length &gt; n) but I can't figure out how to do induction. If I try to do induction on xs, the base case is the empty list. However, xs.length &gt; n+1 precludes xs.length=0. So how do I do this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">recnth</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">xs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ok</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">xs</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">xs</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 490938464,
        "sender_full_name": "Alex Zani",
        "timestamp": 1735266836
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 490940475,
        "sender_full_name": "Alex Zani",
        "timestamp": 1735268622
    },
    {
        "content": "<p>Since 0-1=0 for natural numbers in Lean, you can try replacing <code>n</code> by <code>n+1</code> throughout.</p>",
        "id": 490941641,
        "sender_full_name": "Bjørn Kjos-Hanssen",
        "timestamp": 1735269739
    },
    {
        "content": "<p>A problem is that this is not true. For xs = [] and n=0, we get (x::xs).length &gt; n but xs.length &gt; n - 1 is false for n: Nat because 0-1=0 for Nat 0</p>",
        "id": 490941693,
        "sender_full_name": "Richard Kiss",
        "timestamp": 1735269795
    },
    {
        "content": "<p>use n+1 and n instead</p>",
        "id": 490941707,
        "sender_full_name": "Richard Kiss",
        "timestamp": 1735269813
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"686420\">@Richard Kiss</span> Thanks, but that doesn't solve the problem I'm having because it's still not true since [].length &gt; n is not true for any value of Nat. I think I need to think more about what my preconditions are...</p>",
        "id": 490943585,
        "sender_full_name": "Alex Zani",
        "timestamp": 1735271318
    },
    {
        "content": "<p>maybe <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.le_induction#doc\">docs#Nat.le_induction</a> could help?</p>",
        "id": 490946463,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1735273834
    },
    {
        "content": "<p>Do you really need this? I mean, we have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.length_cons#doc\">docs#List.length_cons</a>.</p>",
        "id": 490947782,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1735275171
    },
    {
        "content": "<p>(If you do you can take <code>(x :: xs).length &gt; n</code>, or <code>(x :: xs).length ≥ n + 1</code> as a hypothesis and prove <code>x.length ≥ n</code>.)</p>",
        "id": 490947885,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1735275250
    },
    {
        "content": "<p>I’m on mobile so can’t try much atm but I’d recommend using <code>xs.length ≥ n</code>instead of <code>&gt;</code>. Or at least tell us what variation of your original post you’re willing to accept a proof for since we can’t prove the false one. Maybe add <code>n&gt;0</code> ?</p>",
        "id": 490949404,
        "sender_full_name": "Richard Kiss",
        "timestamp": 1735276477
    }
]