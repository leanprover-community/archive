[
    {
        "content": "<p>This thread can be used for discussion of the new <code>v4.23.0-rc2</code> release.</p>",
        "id": 534639187,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1755258151
    },
    {
        "content": "<p>From <a class=\"message-link\" href=\"/#narrow/channel/113486-announce/topic/v4.2E23.2E0-rc2/near/534639069\">#announce &gt; v4.23.0-rc2 @ ðŸ’¬</a></p>",
        "id": 534640495,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755258907
    },
    {
        "content": "<p>nit: <a href=\"https://github.com/leanprover/lean4/pull/9106\">lean4#9106</a> was backported, so perhaps belongs in the 4.22.0 release notes and not these ones</p>",
        "id": 534640919,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755259167
    },
    {
        "content": "<p>Does <code>@[unbox]</code> work yet, or is that planned for a later release? When I last asked (a good while ago) it was waiting on the new code generator, but now thatâ€™s in.</p>",
        "id": 534643821,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1755260615
    },
    {
        "content": "<p><code>grind</code> regression: the following proof works in v4.22.0 and not in v4.23.0-rc2. (increasing the <code>splits</code> threshold does not help`)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hkâ‚€</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">â‰¤</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hâ‚…â‚€</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">âˆ€</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">â‰¤</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">grind</span>\n</code></pre></div>\n<p>edit: <a href=\"#narrow/channel/116290-rss/topic/Recent.20Commits.20to.20lean4.3Amaster/near/534680993\">fixed</a> apparently</p>",
        "id": 534646557,
        "sender_full_name": "David Renshaw",
        "timestamp": 1755261841
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"514145\">Geoffrey Irving</span> <a href=\"#narrow/channel/113488-general/topic/v4.2E23.2E0/near/534643821\">said</a>:</p>\n<blockquote>\n<p>Does <code>@[unbox]</code> work yet, or is that planned for a later release? When I last asked (a good while ago) it was waiting on the new code generator, but now thatâ€™s in.</p>\n</blockquote>\n<p>It doesn't work yet</p>",
        "id": 534648887,
        "sender_full_name": "Henrik BÃ¶ving",
        "timestamp": 1755262881
    },
    {
        "content": "<p>Is it expected that the release notes contain what seems to be the first line of a code snippet, but not the rest? <br>\n<a href=\"/user_uploads/3121/3y6JDBezOhxk261Kv9ruQDQl/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/3y6JDBezOhxk261Kv9ruQDQl/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"865x308\" src=\"/user_uploads/thumbnail/3121/3y6JDBezOhxk261Kv9ruQDQl/image.png/840x560.webp\"></a></div>",
        "id": 534663960,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1755268660
    },
    {
        "content": "<p>In fact, there are many many such truncated code snippets. I suspect there's something wrong with the PR description extraction</p>",
        "id": 534664587,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1755268906
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113486-announce/topic/v4.2E23.2E0-rc2/near/534639069\">said</a>:</p>\n<blockquote>\n<p>We'd like to highlight the benchmarking results for the commit that moved Mathlib to <code>v4.23.0-rc2</code>, which is a <a href=\"https://speed.lean-lang.org/mathlib4/run-detail/4455f29b-dcba-4f5c-80c1-d4dbb008d1f5\">sea of green</a> (including a 15% instruction count reduction overall).</p>\n</blockquote>\n<p>Do we have any idea which changes to core are primarily responsible for this speed-up?</p>",
        "id": 534685749,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1755277980
    },
    {
        "content": "<p>It looks we know which changes to core made <em>core</em> faster, and one could extrapolate that the same changes might be the ones that sped mathlib up. But we can't know for sure since each individual change wasn't benchmarked against mathlib</p>",
        "id": 534686130,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1755278213
    },
    {
        "content": "<p>Sure, I understand we can't know for sure, I'm just looking for suspected culprits.</p>",
        "id": 534686207,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1755278253
    },
    {
        "content": "<p>Someone needs to check that the commit after wasn't a sea of red :-) The speedcenter has been very noisy over the last couple of months.</p>",
        "id": 534994410,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1755538593
    },
    {
        "content": "<p>It's normal, I checked. The speedcenter has been noisy, but not 15% noisy across Mathlib.</p>",
        "id": 535001165,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1755541551
    },
    {
        "content": "<p>Thank you to whoever made it so that jump to definition on typeclass functions also shows the instance's definition. Super helpful.</p>",
        "id": 535047470,
        "sender_full_name": "Michael MacLeod",
        "timestamp": 1755572498
    },
    {
        "content": "<p>That's <span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span> to thank! It's pretty lovely, isn't it?</p>",
        "id": 535052548,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1755577407
    }
]