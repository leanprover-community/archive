[
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Grind.NatModule.nsmul#doc\">docs#Lean.Grind.NatModule.nsmul</a> is registered as an instance of <code>HMul ℕ M M</code> instead of <code>SMul ℕ M</code>, which means that you can end up writing an expression for which there is no API!</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommMonoid</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_nsmul</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- definitely abusing defeq</span>\n</code></pre></div>",
        "id": 536166915,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1756189315
    },
    {
        "content": "<p>Would core be happy to change this to <code>SMul</code>?</p>",
        "id": 536166967,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1756189337
    },
    {
        "content": "<p>It's already done.</p>",
        "id": 536170373,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1756191097
    },
    {
        "content": "<p>Is it? I see <a href=\"https://github.com/leanprover/lean4/blob/master/src/Init/Grind/Module/Basic.lean#L58\">the same on master</a></p>",
        "id": 536170542,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1756191178
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/10095\">lean4#10095</a></p>",
        "id": 536170647,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1756191227
    }
]