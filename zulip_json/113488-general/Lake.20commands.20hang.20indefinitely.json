[
    {
        "content": "<p>Right now on my machine, commands like <code>lake env</code> hang indefinitely.</p>\n<p>A while ago I fixed an error like this by closing a VS Code instance running a LEAN LSP, which makes me think there's some kind of lock issue. Any tips on how to debug this further? </p>\n<p>I killed all of the other lean/lake processes on my machine to see if that would help, but it didn't. Does lean or lake use file-based locks?</p>\n<p>For now I'll just restart my computer, but it would be nice to find the root cause of this issue.</p>",
        "id": 568538452,
        "sender_full_name": "J. Simon Richard",
        "timestamp": 1768605411
    },
    {
        "content": "<p>What OS? What repo? What Lean version?</p>",
        "id": 568538684,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1768605589
    },
    {
        "content": "<p>Arch Linux; the repo is private, but all lake commands (in any project) hang indefinitely (or they did until I restarted my machine); </p>\n<p>I'm using different lean versions in different projects. The project I was working on when (I think) the bug started is 4.19.0-rc2, and my lake version is 5.0.0-fafd381.</p>\n<p>The default lean version (<code>lean --version</code> in $HOME) is 4.26.0</p>",
        "id": 568539894,
        "sender_full_name": "J. Simon Richard",
        "timestamp": 1768606571
    },
    {
        "content": "<p>On Linux perhaps try stracing running your <code>lake</code> command, which should at least tell you what it's waiting on or doing.</p>",
        "id": 568542856,
        "sender_full_name": "Julian Berman",
        "timestamp": 1768609001
    },
    {
        "content": "<p>Yeah, I'll do that the next time I run into this issue</p>",
        "id": 568543868,
        "sender_full_name": "J. Simon Richard",
        "timestamp": 1768609872
    }
]