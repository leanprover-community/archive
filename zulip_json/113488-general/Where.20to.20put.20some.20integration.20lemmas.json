[
    {
        "content": "<p>I have some lemmas about integration by substitution over infinite intervals: things like making the change <code>u = x^2</code> in an integral over <code>x in Ioi 0</code>. I'd like to make a PR to add this to the library, but I'm not sure what file this stuff should go in -- can I ask for some suggestions?</p>\n<p>(The motivation here is evaluating the Gamma function at 1/2, reducing it to the computation of the Gaussian integral <code>exp(-x^2)</code> that <span class=\"user-mention\" data-user-id=\"110050\">@Sebastien Gouezel</span> has added.)</p>",
        "id": 309766663,
        "sender_full_name": "David Loeffler",
        "timestamp": 1668442291
    },
    {
        "content": "<p>Could you post the list of imports you need?</p>",
        "id": 310154146,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1668502357
    },
    {
        "content": "<p>We have the folowing python script (I think by <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> )</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">networkx</span> <span class=\"k\">as</span> <span class=\"nn\">nx</span>\n<span class=\"kn\">import</span> <span class=\"nn\">requests</span>\n<span class=\"kn\">import</span> <span class=\"nn\">io</span>\n<span class=\"kn\">import</span> <span class=\"nn\">operator</span>\n<span class=\"kn\">from</span> <span class=\"nn\">functools</span> <span class=\"kn\">import</span> <span class=\"n\">reduce</span>\n\n<span class=\"k\">with</span> <span class=\"n\">requests</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">\"https://leanprover-community.github.io/mathlib_docs/import.gexf\"</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">r</span><span class=\"p\">:</span>\n    <span class=\"n\">g</span> <span class=\"o\">=</span> <span class=\"n\">nx</span><span class=\"o\">.</span><span class=\"n\">read_gexf</span><span class=\"p\">(</span><span class=\"n\">io</span><span class=\"o\">.</span><span class=\"n\">StringIO</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">text</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># where you need the lemma, and which files it needs</span>\n<span class=\"n\">needed_in</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">'mathlib:algebra.gcd_monoid.basic'</span><span class=\"p\">,)</span>\n<span class=\"n\">needs</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">'mathlib:algebra.gcd_monoid.basic'</span><span class=\"p\">,</span> <span class=\"s1\">'mathlib:ring_theory.coprime.basic'</span><span class=\"p\">)</span>\n\n<span class=\"n\">ok</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">reduce</span><span class=\"p\">(</span><span class=\"n\">operator</span><span class=\"o\">.</span><span class=\"n\">and_</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">nx</span><span class=\"o\">.</span><span class=\"n\">ancestors</span><span class=\"p\">(</span><span class=\"n\">g</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">n</span> <span class=\"ow\">in</span> <span class=\"n\">needs</span><span class=\"p\">])</span> <span class=\"o\">&amp;</span>\n      <span class=\"n\">reduce</span><span class=\"p\">(</span><span class=\"n\">operator</span><span class=\"o\">.</span><span class=\"n\">and_</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">nx</span><span class=\"o\">.</span><span class=\"n\">descendants</span><span class=\"p\">(</span><span class=\"n\">g</span><span class=\"p\">,</span> <span class=\"n\">n</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">n</span> <span class=\"ow\">in</span> <span class=\"n\">needed_in</span><span class=\"p\">]))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">ok</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>to find where to place lemmas (of course it doesn't know anything about the mathematics, it just looks at the imports).</p>",
        "id": 310155658,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1668502872
    },
    {
        "content": "<p>Hi guys,  sorry I missed your reply until now (I should probably set up notifications in zulip or something). I guess I was more asking \"where is the morally / aesthetically right place to put X\", rather than \"where can I get away with putting X without creating circular imports\". I ended up putting the lemmas in two batches, first <a href=\"https://github.com/leanprover-community/mathlib/pull/17540\">#17540</a> (now merged) and second <a href=\"https://github.com/leanprover-community/mathlib/pull/17542\">#17542</a> (awaiting review).</p>",
        "id": 311170805,
        "sender_full_name": "David Loeffler",
        "timestamp": 1668968721
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"481963\">@David Loeffler</span> , can I ask where these lemma exists? Are they available in the mathlib library?  <br>\nKind regards, Sonia</p>",
        "id": 339616891,
        "sender_full_name": "rtertr (Sonia)",
        "timestamp": 1677967939
    },
    {
        "content": "<p>If you look at the PR's on github (linked in my last message) you can see where the lemmas ended up. The one about substituting <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi><mo>=</mo><msup><mi>x</mi><mi>p</mi></msup></mrow><annotation encoding=\"application/x-tex\">u = x^p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span></span></span></span></span></span></span></span> integrals over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∞</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(0, \\infty)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">∞</span><span class=\"mclose\">)</span></span></span></span> is now <a href=\"https://leanprover-community.github.io/mathlib_docs/measure_theory/integral/integral_eq_improper.html#measure_theory.integral_comp_rpow_Ioi\">measure_theory.integral_comp_rpow_Ioi</a>.</p>",
        "id": 339671729,
        "sender_full_name": "David Loeffler",
        "timestamp": 1678012270
    }
]