[
    {
        "content": "<p>What am I doing wrong? See that <code>my</code> function is working as expected. Once I pass it to <code>walkDir</code>, I got an empty array, but at least one file in this folder, the <code>12.raw</code> should have been returned.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">my</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">System</span><span class=\"bp\">.</span><span class=\"n\">FilePath</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">fileName</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">none</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">nm</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nm</span><span class=\"bp\">.</span><span class=\"n\">startsWith</span><span class=\"w\"> </span><span class=\"s2\">\"12\"</span><span class=\"w\"> </span><span class=\"bp\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">nm</span><span class=\"bp\">.</span><span class=\"n\">endsWith</span><span class=\"w\"> </span><span class=\"s2\">\"raw\"</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">my</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">System</span><span class=\"bp\">.</span><span class=\"n\">FilePath</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"s2\">\"lixo/12.raw\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c1\">-- true</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">System</span><span class=\"bp\">.</span><span class=\"n\">FilePath</span><span class=\"bp\">.</span><span class=\"n\">walkDir</span><span class=\"w\"> </span><span class=\"s2\">\"lixo\"</span><span class=\"w\"> </span><span class=\"c1\">-- #[FilePath.mk \"lixo/12.raw\"]</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">System</span><span class=\"bp\">.</span><span class=\"n\">FilePath</span><span class=\"bp\">.</span><span class=\"n\">walkDir</span><span class=\"w\"> </span><span class=\"s2\">\"lixo\"</span><span class=\"w\"> </span><span class=\"n\">my</span><span class=\"w\"> </span><span class=\"c1\">-- #[]</span>\n</code></pre></div>",
        "id": 462398457,
        "sender_full_name": "Alexandre Rademaker",
        "timestamp": 1723660379
    },
    {
        "content": "<p>I presume <code>12.raw</code> is a file, not a directory</p>",
        "id": 462399576,
        "sender_full_name": "Julian Berman",
        "timestamp": 1723660904
    },
    {
        "content": "<p>The second arg to <code>walkDir</code> applies to which directories to enter, it's not a general filter on what files are returned</p>",
        "id": 462399693,
        "sender_full_name": "Julian Berman",
        "timestamp": 1723660947
    },
    {
        "content": "<p>Oh, my bad! thank you. So I need to filter the return of Walk... I see.</p>",
        "id": 462401582,
        "sender_full_name": "Alexandre Rademaker",
        "timestamp": 1723661813
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"121542\">Alexandre Rademaker</span> has marked this topic as resolved.</p>",
        "id": 462401589,
        "sender_full_name": "Notification Bot",
        "timestamp": 1723661816
    }
]