[
    {
        "content": "<p>Hello everyone,</p>\n<p>I've been working on a formalization in Lean 4 proving that no non-trivial cycle exists in the Collatz iteration, <strong>conditional on three explicit hypotheses</strong> (encoded as structure parameters, not axioms).</p>\n<p>Repository:   <a href=\"https://github.com/ericmerle3789/collatz-nocycle-lean4\">https://github.com/ericmerle3789/collatz-nocycle-lean4</a><br>\n<a href=\"https://github.com/ericmerle3789/collatz-nocycle-lean4\">https://github.com/ericmerle3789/collatz-nocycle-lean4</a></p>\n<p>The main theorem is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">no_nontrivial_cycle_phase59</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">baker</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BakerSeparation</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">barina</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BarinaVerification</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">cf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContinuedFractionSeparation</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hcyc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOddCycle</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span>\n</code></pre></div>\n<p><strong>What this proves</strong>: Under Baker's theorem on linear forms in logarithms (1966), Barina's computational verification up to 2^71 (2025), and a continued fraction separation hypothesis derived from Baker + CF theory of log₂3, no odd integer n &gt; 1 can be periodic under the Syracuse map.</p>\n<p><strong>What this does NOT prove</strong>: This is not a proof of the full Collatz conjecture. It does not address divergence. The three hypotheses are not formalized from first principles — they are explicit parameters.</p>\n<p><strong>Build</strong>: 36 Lean files, 0 axioms, 0 sorry, Lean 4.27.0 + Mathlib 4.27.0. Some <code>native_decide</code> proofs require ~16 GB RAM (CF gap verifications involving 3^190537, a number with ~90K digits).</p>\n<p><strong>What I'd appreciate feedback on</strong>:</p>\n<ol>\n<li>Is the <code>IsOddCycle</code> definition correct and standard? (<code>n &gt; 1 ∧ n % 2 = 1 ∧ k ≥ 1 ∧ nSeq n k = n</code>)</li>\n<li>Are the hypothesis structures (Baker, Barina, CF) faithful to the published results? Details in <code>HYPOTHESES.md</code>.</li>\n<li>Is there anything in Mathlib that could replace or strengthen parts of this? For instance, continued fraction infrastructure that could eliminate the third hypothesis.</li>\n<li>Any structural issues, naming problems, or bad patterns?</li>\n</ol>\n<p>This was developed with AI assistance (Claude, Anthropic) as part of a larger research project. I'm not a professional mathematician — I'm an independent researcher learning Lean through this project. Any guidance from the community would be very valuable.</p>\n<p>Thank you for your time.<br>\nEric.</p>",
        "id": 575169106,
        "sender_full_name": "Eric Merle",
        "timestamp": 1771773795
    },
    {
        "content": "<p>Not sure if this helps but I have some related AI-formalized log(3) continued fraction lemmas in <a href=\"https://github.com/rwst/lean-code/blob/main/CRoz.lean\">https://github.com/rwst/lean-code/blob/main/CRoz.lean</a></p>",
        "id": 575171750,
        "sender_full_name": "Ralf Stephan",
        "timestamp": 1771776257
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1024096\">Eric Merle</span> <a href=\"#narrow/channel/113488-general/topic/Conditional.20no-cycle.20proof.20for.20Collatz.20.E2.80.94.20feedback.20welcome/near/575169106\">said</a>:</p>\n<blockquote>\n<ol start=\"2\">\n<li>Are the hypothesis structures (Baker, Barina, CF) faithful to the published results?</li>\n</ol>\n</blockquote>\n<p>The assumption CF doesn't seem to be faithful to the published results. You should point to the precise statement in Simons &amp; de Weger that would give this as I haven't found it there.</p>",
        "id": 575171900,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1771776400
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span>  Thank you — you are right.</p>\n<p><code>ContinuedFractionSeparation</code> was our own derivation, not a faithful encoding of any single published result. While auditing this, we found a second issue: <code>SimonsDeWegerBound</code> (<code>k ≤ 982</code>) was also misattributed — the number 982 comes from our Product Bound, not from Simons–de Weger. We also had an m/k confusion: SdW bounds <em>m</em> (local minima), not <em>k</em> (odd steps).</p>\n<p>Both are now fixed in <a href=\"https://github.com/ericmerle3789/collatz-nocycle-lean4/commit/d2fa81a\"><code>d2fa81a</code></a>:</p>\n<ul>\n<li><code>SimonsDeWegerBound</code> → <code>ProductBoundThreshold</code></li>\n<li><code>ContinuedFractionSeparation</code> → <code>DerivedLargeKBound</code></li>\n<li>Added <a href=\"https://github.com/ericmerle3789/collatz-nocycle-lean4/blob/claude/phase57/HYPOTHESES.md\"><code>HYPOTHESES.md</code></a> separating published results from our derivations</li>\n<li>Build: 0 sorry, 0 axioms</li>\n</ul>\n<p>On a related note — the part of this project we find most compelling is actually the anti-divergence side (Porte 1), where the core question reduces to a drift problem: the accelerated Collatz map gives E[v₂] = 2 per odd step, yielding an expected log-ratio of log(4/3) &gt; 0 per step. We have formalized this and verified descent certificates for 524,288 residue classes mod 2²⁰. The gap we cannot close is the passage from average drift to almost-sure convergence — whether trajectory bits can conspire indefinitely against the drift. Given your work on entropy and drift in hyperbolic groups, we would welcome any insight on whether concentration arguments could apply in this non-i.i.d. setting.</p>\n<p>Thank you for the careful reading — it made the formalization significantly better.</p>",
        "id": 575179804,
        "sender_full_name": "Eric Merle",
        "timestamp": 1771783605
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"707242\">@Ralf Stephan</span> Thank you — this looks relevant. Our <code>DerivedLargeKBound</code> relies on continued fraction convergents of log₂(3), so formalized CF lemmas for log(3) could be directly useful. I will look into your CRoz.lean and see if there is overlap with what we need. Our repo is at <a href=\"https://github.com/ericmerle3789/collatz-nocycle-lean4\">https://github.com/ericmerle3789/collatz-nocycle-lean4</a> (branch claude/phase57) if you want to compare approaches.</p>",
        "id": 575180231,
        "sender_full_name": "Eric Merle",
        "timestamp": 1771784011
    },
    {
        "content": "<p>Your current assumption H3 (DerivedLargeKBound) is still not reasonable, as I don't think it would follow from any published result in the literature (and I don't think anyone would know how to prove it). You can have assumptions if you like, but they should correspond word for word to results in the literature, and then everything in your project should only depend on these. This is not the case in the current formalization.</p>",
        "id": 575193854,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1771795966
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span> </p>\n<p>Thank you, Sébastien — your feedback has been invaluable and we are grateful for your careful reading.</p>\n<p>You are right, and we have not yet corrected this — here is our concrete plan.</p>\n<p><code>DerivedLargeKBound</code> will be removed. The cleaned result will rest on two hypotheses only, each anchored in published literature: Baker (1966 / Matveev 2000) for linear forms in logarithms, and Barina (2025) for computational verification up to 2⁷¹. Under these two hypotheses alone, we aim to establish: no non-trivial cycle with k ≤ 1322 odd steps. This is weaker than our previous claim, but honest.</p>\n<p>For k &gt; 1322, we are considering encoding the best approximation theorem for log₂3 (Hardy &amp; Wright, Theorem 184) as a third hypothesis. Before doing so, do you have a view on its formalizability in Lean, or on a published result that would be more directly suitable?</p>",
        "id": 575374205,
        "sender_full_name": "Eric Merle",
        "timestamp": 1771872496
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1024096\">Eric Merle</span> <a href=\"#narrow/channel/113488-general/topic/Conditional.20no-cycle.20proof.20for.20Collatz.20.E2.80.94.20feedback.20welcome/near/575374205\">said</a>:</p>\n<blockquote>\n<p>For k &gt; 1322, we are considering encoding the best approximation theorem for log₂3 (Hardy &amp; Wright, Theorem 184) as a third hypothesis. Before doing so, do you have a view on its formalizability in Lean, or on a published result that would be more directly suitable?</p>\n</blockquote>\n<p>No idea. I don't know anything about this field, I just wanted to emphasize good practice (for formalized mathematics, but also in general): if you use a result of the litterature, give a precise reference to this result, and only use it in the form stated by the authors.</p>",
        "id": 575861385,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1772050354
    }
]