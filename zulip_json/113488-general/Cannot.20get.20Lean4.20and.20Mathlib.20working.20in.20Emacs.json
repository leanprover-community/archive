[
    {
        "content": "<p>So, I'm trying to learn lean. I've got a basic testing repo set up via  by running <code>lake +leanprover-community/mathlib4:lean-toolchain new Testing math</code> I have also installed the Lean4-mode for Emacs following the directions in the corresponding github repo.</p>\n<p>I then created a file called <code>Primes.lean</code> in the <code>Test</code> folder (made by lake). It has a single line in it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span>\n</code></pre></div>\n<p>The <em>lean goals</em> window now shows this error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span>\n<span class=\"bp\">`/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">sophia</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.10.0-rc2/bin/lake setup-file /home/sophia/lean/MathInLean/MathInLean/Primes.lean Init Mathlib.Data.Nat.Prime` failed:</span>\n\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Running</span><span class=\"w\"> </span><span class=\"n\">imports</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">sophia</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">MathInLean</span><span class=\"bp\">/</span><span class=\"n\">MathInLean</span><span class=\"bp\">/</span><span class=\"n\">Primes</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">sophia</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">MathInLean</span><span class=\"bp\">/</span><span class=\"n\">MathInLean</span><span class=\"bp\">/</span><span class=\"n\">Primes</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">bad</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime'</span>\n<span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Running</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">/././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Nat</span><span class=\"bp\">/</span><span class=\"n\">Prime</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">builds</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">imports</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">sophia</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">MathInLean</span><span class=\"bp\">/</span><span class=\"n\">MathInLean</span><span class=\"bp\">/</span><span class=\"n\">Primes</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">)</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n</code></pre></div>",
        "id": 451842454,
        "sender_full_name": "Sophia C",
        "timestamp": 1721157995
    },
    {
        "content": "<p>The project structure looks like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">├──</span><span class=\"w\"> </span><span class=\"n\">lakefile</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"bp\">├──</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">manifest</span><span class=\"bp\">.</span><span class=\"n\">json</span>\n<span class=\"bp\">├──</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span>\n<span class=\"bp\">├──</span><span class=\"w\"> </span><span class=\"n\">MathInLean</span>\n<span class=\"bp\">│</span><span class=\"w\">   </span><span class=\"bp\">├──</span><span class=\"w\"> </span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"bp\">│</span><span class=\"w\">   </span><span class=\"bp\">└──</span><span class=\"w\"> </span><span class=\"n\">Primes</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"bp\">├──</span><span class=\"w\"> </span><span class=\"n\">MathInLean</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"bp\">└──</span><span class=\"w\"> </span><span class=\"n\">README</span><span class=\"bp\">.</span><span class=\"n\">md</span>\n</code></pre></div>\n<p>The only thing I've changed from the initial template that was generated is adding the <code>Primes.lean</code> file.</p>",
        "id": 451842939,
        "sender_full_name": "Sophia C",
        "timestamp": 1721158098
    },
    {
        "content": "<p>It appears to me that this changed to <code>Mathlib.Data.Nat.Prime.Basic</code></p>",
        "id": 451843165,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1721158143
    },
    {
        "content": "<p>That has in fact resolved my issues! Thanks!</p>",
        "id": 451844146,
        "sender_full_name": "Sophia C",
        "timestamp": 1721158380
    },
    {
        "content": "<p>We should probably change that template? Who controls this? Lake? CC <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span></p>",
        "id": 451844262,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1721158412
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> Lake does control the template. I am confused as to what change you are suggesting, though? The error here just seems like a mispelled import -- unless I am missing something?</p>",
        "id": 451844833,
        "sender_full_name": "Mac Malone",
        "timestamp": 1721158586
    },
    {
        "content": "<p>Oh, it sounded to me like the import was auto generated by the template</p>",
        "id": 451844910,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1721158618
    },
    {
        "content": "<p>if that's not the case we can't do anything of course</p>",
        "id": 451844918,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1721158623
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> No. The default template includes everything <em>except</em> the file <code>Primes.lean</code>, which I added myself.<br>\nMy issue is that I'm trying to follow along with Mathematics In Lean, and I found this file, which uses an incorrect import: <a href=\"https://github.com/leanprover-community/mathematics_in_lean/blob/master/MIL/C05_Elementary_Number_Theory/S03_Infinitely_Many_Primes.lean\">https://github.com/leanprover-community/mathematics_in_lean/blob/master/MIL/C05_Elementary_Number_Theory/S03_Infinitely_Many_Primes.lean</a></p>",
        "id": 451845573,
        "sender_full_name": "Sophia C",
        "timestamp": 1721158805
    },
    {
        "content": "<p>Yeah, the file was renamed very recently. I'm sure <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> wouldn't mind if you opened a PR/issue to the MIL repo</p>",
        "id": 451845754,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721158851
    },
    {
        "content": "<p>I don't seem to be able to submit github issues to that particular github repo, and I don't really want to go through all the effort required to make a PR right now.</p>",
        "id": 451846064,
        "sender_full_name": "Sophia C",
        "timestamp": 1721158940
    },
    {
        "content": "<p>I will soon update MIL to a more recent version of Lean and Mathlib so I am bound to hit this issue.</p>",
        "id": 451846469,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1721159062
    },
    {
        "content": "<p><del>Let's wait for Patrick</del> <span aria-label=\"racecar\" class=\"emoji emoji-1f3ce\" role=\"img\" title=\"racecar\">:racecar:</span></p>",
        "id": 451846479,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721159064
    },
    {
        "content": "<p>Yaël, I think encouraging beginners to open bumping PRs to MIL is not super wise. Of course PRs fixing typos or clarifying explanations are good for beginners.</p>",
        "id": 451846629,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1721159122
    },
    {
        "content": "<p>More generally there is a very common theme where very early beginners see something in MIL or another book and try to copy-paste it into a new project (or <a href=\"http://live.lean-lang.org\">live.lean-lang.org</a>) and I very confused to see it does not work because of some version mismatch. I don’t know what to do about that. People are used to much more stable environments when learning programming languages or general software. They simply don’t expect that kind of issue.</p>",
        "id": 451847040,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1721159251
    }
]