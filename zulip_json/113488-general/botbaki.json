[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"266253\">Joseph Myers</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/571899627\">said</a>:</p>\n<blockquote>\n<p>There should be lots of ways for AI to accelerate stating things other than building a sloplib. For example, AI could probably help with many of the more mechanical parts of PR review for mathlib (that aren't mechanical enough to turn into linters) and so reduce the amount of time maintainers need to spend on those when doing reviews for mathlib. People have written extremely detailed instructions to AIs on <a href=\"https://github.com/masoncl/review-prompts\">Linux kernel patch review</a>, why shouldn't we have similarly detailed instructions on reviewing mathlib changes and a service that does such reviews on PRs (automatically, or when requested)?</p>\n</blockquote>\n<p>Oh, and we have this too! See <a href=\"https://github.com/kim-em/botbaki\">https://github.com/kim-em/botbaki</a>. You can actually use it today on mathlib, try <code>@botbaki review</code> on a PR to request a review, and then <code>@botbaki feedback ...</code> (or just emojis) to tell it whether the review was any good. There's a backend process to incorporate the feedback into a revised review prompt. </p>\n<p>The prompting currently is very simplistic, but I think it would be a great project to improve it.</p>",
        "id": 571909499,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770211903
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/571909499\">said</a>:</p>\n<blockquote>\n<p>Oh, and we have this too! See <a href=\"https://github.com/kim-em/botbaki\">https://github.com/kim-em/botbaki</a>. You can actually use it today on mathlib, try <code>@botbaki review</code> on a PR to request a review, and then <code>@botbaki feedback ...</code> (or just emojis) to tell it whether the review was any good. There's a backend process to incorporate the feedback into a revised review prompt. </p>\n</blockquote>\n<p>Are you saying it's currently active on Mathlib? I've just tried to trigger it on <a href=\"https://github.com/leanprover-community/mathlib4/pull/34559\">#34559</a> out of curiosity, but it doesn't look like anything is happening.</p>",
        "id": 571912438,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1770212580
    },
    {
        "content": "<p>Now that botbaki has reviewed <a href=\"https://github.com/leanprover-community/mathlib4/pull/34559\">#34559</a>, I see it's suggesting <code>omega</code> (to be avoided nowadays) and changing a terminal <code>simp</code> (for a subgoal) to <code>simp only</code> (also typically discouraged).</p>",
        "id": 572033765,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1770249376
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/571912438\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/571909499\">said</a>:</p>\n<blockquote>\n<p>Oh, and we have this too! See <a href=\"https://github.com/kim-em/botbaki\">https://github.com/kim-em/botbaki</a>. You can actually use it today on mathlib, try <code>@botbaki review</code> on a PR to request a review, and then <code>@botbaki feedback ...</code> (or just emojis) to tell it whether the review was any good. There's a backend process to incorporate the feedback into a revised review prompt. </p>\n</blockquote>\n<p>Are you saying it's currently active on Mathlib? I've just tried to trigger it on <a href=\"https://github.com/leanprover-community/mathlib4/pull/34559\">#34559</a> out of curiosity, but it doesn't look like anything is happening.</p>\n</blockquote>\n<p>I restarted the listener and it has now responded.</p>",
        "id": 572039114,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770252386
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"266253\">Joseph Myers</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/572033765\">said</a>:</p>\n<blockquote>\n<p>Now that botbaki has reviewed <a href=\"https://github.com/leanprover-community/mathlib4/pull/34559\">#34559</a>, I see it's suggesting <code>omega</code> (to be avoided nowadays) and changing a terminal <code>simp</code> (for a subgoal) to <code>simp only</code> (also typically discouraged).</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"266253\">@Joseph Myers</span>, maybe you would like to reply to those comments with <code>@botbaki feedback ...</code>, and I will then see what prompting updates we get.</p>\n<p>Or just giving +1 / -1 emoji reactions to its comments should work as well.</p>",
        "id": 572039209,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770252452
    },
    {
        "content": "<p>The result is quite nice: it caught two real mistakes (repeated scope opening, misnamed lemma) and gave two bad suggestions (unhappy with a <code>grind [StrictMonoOn]</code> proof, wanted to turn a terminal <code>simp</code> into a <code>simp only</code>). Will it improve if we train it on a few PRs and give feedback? If so, I think it's definitely worth investigating.</p>",
        "id": 572115643,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1770288909
    }
]