[
    {
        "content": "<p>The topic of maintaining style guidelines (and of an auto-formatter) frequently comes up.  There is already a linter that tries to enforce that the pretty-printed syntax matches what has been typed.  However, complying with it is not actually reasonable.</p>",
        "id": 500442071,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739896030
    },
    {
        "content": "<p>Still, for some parts of the code, I find that this linter could be useful.  For instance, formatting the statement of a theorem (or maybe even just everything that comes before the <code>:</code>).</p>",
        "id": 500442085,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739896034
    },
    {
        "content": "<p>Would this be desirable?</p>",
        "id": 500442155,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739896057
    },
    {
        "content": "<p>(<a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/Mathlib.20community.20meetings/near/499861275\">#general &gt; Mathlib community meetings @ ðŸ’¬</a> is the immediate previous discussion that triggered this thread.)</p>",
        "id": 500442327,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739896105
    },
    {
        "content": "<p>The main place I see this failing would be anything involving casts, where typically the pretty-printed syntax doesn't even typecheck. Would there be some sort of special casing for that?</p>",
        "id": 500548135,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739931124
    },
    {
        "content": "<p>Never mind, I see that someone had the same question in the linked thread. (For others coming here: casts are delaboration, not pretty-printing, so casts would be preserved in the same way as written.)</p>",
        "id": 500548328,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739931265
    },
    {
        "content": "<p>I think I've seen a round-tripping failure for Syntax -&gt; String relating to overloaded <code>[]</code> notation, but I can't find the thread</p>",
        "id": 500550784,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739932781
    },
    {
        "content": "<p>Ok, I'll try to make it parse a small initial fragment of each declaration and I'll look at the output.</p>",
        "id": 500586585,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739952394
    },
    {
        "content": "<p>Even just pretty printing declarations up to <code>:=</code> produces over 6k exceptions, we'll see how much extra special casing will be needed.</p>",
        "id": 500586852,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739952477
    }
]