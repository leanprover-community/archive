[
    {
        "content": "<p>Is there a type for the types such as the following?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Char</span>\n<span class=\"bp\">...</span>\n</code></pre></div>\n<p>Is there also such a type for sums of arbitrary length?</p>",
        "id": 478931583,
        "sender_full_name": "nrs",
        "timestamp": 1729866876
    },
    {
        "content": "<p>There is no n-ary product type in lean. Products are simply right associated</p>",
        "id": 478936763,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729868537
    },
    {
        "content": "<p>The core type former here is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Prod#doc\">docs#Prod</a></p>",
        "id": 478936794,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729868548
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/113488-general/topic/What.20is.20the.20type.20of.20products.20of.20arbitrary.20length.3F/near/478936763\">said</a>:</p>\n<blockquote>\n<p>There is no n-ary product type in lean. Products are simply right associated</p>\n</blockquote>\n<p>oh I see, thanks for the answer! would you happen to know if there's a type theory where such a type could be expressed?</p>",
        "id": 478936909,
        "sender_full_name": "nrs",
        "timestamp": 1729868589
    },
    {
        "content": "<p>If you have a family of types <code>A i</code> for some index type <code>i : I</code> and wish to express the product over all of them, that's the dependent pi type, written <code>∀ i : I, A i</code> or <code>(i : I) → A i</code></p>",
        "id": 478937151,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729868665
    },
    {
        "content": "<p>You can also define a function which directly constructs iterated <code>Prod</code> types</p>",
        "id": 478937248,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729868697
    },
    {
        "content": "<p>I see! thank you very much for your answers!!</p>",
        "id": 478937326,
        "sender_full_name": "nrs",
        "timestamp": 1729868722
    },
    {
        "content": "<p>You can reuse standard list functions to do it too</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IteratedProd</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">xs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">foldr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Unit</span><span class=\"w\"> </span><span class=\"n\">xs</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IteratedProd</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Bool</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Char</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">false</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">ᾰ'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">())</span>\n</code></pre></div>",
        "id": 478938155,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729868974
    },
    {
        "content": "<p>If you need products of all lengths, you could use Mario's example and write it as a sigma type over all lists</p>",
        "id": 478961982,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729877691
    },
    {
        "content": "<p>There are two tools you can use to answer your first question <span class=\"user-mention\" data-user-id=\"749978\">@nrs</span>. The first is hovering over these products in the Infoview and seeing that they are iterated <code>Prod</code>s. The second is to set a pretty printer option to make notations not pretty print. The more general one is setting <code>pp.all</code> to <code>true</code>. Another that works here is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">pp</span><span class=\"bp\">.</span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"c1\">-- Prod Bool Nat : Type</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span>\n<span class=\"c1\">-- Prod Bool (Prod Nat Bool) : Type</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Char</span>\n<span class=\"c1\">-- Prod Bool (Prod Nat (Prod Bool Char)) : Type</span>\n</code></pre></div>",
        "id": 478962358,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729877851
    },
    {
        "content": "<p>These comments are extremely useful, thank you very much!</p>",
        "id": 478962533,
        "sender_full_name": "nrs",
        "timestamp": 1729877904
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/113488-general/topic/What.20is.20the.20type.20of.20products.20of.20arbitrary.20length.3F/near/478937248\">said</a>:</p>\n<blockquote>\n<p>You can also define a function which directly constructs iterated <code>Prod</code> types</p>\n</blockquote>\n<p>Is this an example of something that systems with uniform parameters can express as an inductive type?</p>",
        "id": 478962582,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729877942
    },
    {
        "content": "<p>A variant of <code>IteratedProd</code> is in Mathlib, namely <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.TProd#doc\">docs#List.TProd</a>. However, this should not be used in Mathlib if <code>_ × _ × _</code> or  <code>∀ i : I, A i</code> works in your use case.</p>",
        "id": 478962609,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729877960
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/113488-general/topic/What.20is.20the.20type.20of.20products.20of.20arbitrary.20length.3F/near/478962582\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/113488-general/topic/What.20is.20the.20type.20of.20products.20of.20arbitrary.20length.3F/near/478937248\">said</a>:</p>\n<blockquote>\n<p>You can also define a function which directly constructs iterated <code>Prod</code> types</p>\n</blockquote>\n<p>Is this an example of something that systems with uniform parameters can express as an inductive type?</p>\n</blockquote>\n<p>Yes, I suppose it is, although I suspect it would be more annoying to work with the inductive type even if it was accepted</p>",
        "id": 478965791,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729879339
    }
]