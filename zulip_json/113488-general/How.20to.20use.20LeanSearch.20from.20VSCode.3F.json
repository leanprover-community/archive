[
    {
        "content": "<p><a href=\"http://LeanSearchClient\">https://github.com/leanprover-community/LeanSearchClient?tab=readme-ov-file</a> shows examples like <code>#search \"If a natural number n is less than m, then the successor of n is less than the successor of m.\"</code><br>\nwhen I put it in my VSCode, I get <code>unexpected token '#'; expected command</code>. When I use <code>leansearch</code> instead of <code>search</code>, I get <code>Could not contact LeanSearch server</code>.</p>",
        "id": 511525932,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1744327313
    },
    {
        "content": "<p>I've got the same problem, I keep getting the <code>could not contact LeanSearch server</code> error. Edit: although <a href=\"https://loogle.lean-lang.org/\">#loogle</a> does work.</p>",
        "id": 511613542,
        "sender_full_name": "Chris Birkbeck",
        "timestamp": 1744366593
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"bp\">#</span><span class=\"n\">search</span><span class=\"w\"> </span><span class=\"s2\">\"If a natural number n is less than m, then the successor of n is less than the successor of m.\"</span>\n</code></pre></div>\n<p>says \"Could not contact LeanSearch server\". Maybe #search needs more imports?</p>",
        "id": 511615359,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744367189
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"389019\">@Chris Birkbeck</span> and <span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span>  does <code>#leansearch</code> work but not <code>#search</code> at the same time? Otherwise it is likely to be just the LeanSearch server having gone down, or at least its API (I tested just now and got the same error).</p>\n<p><span class=\"user-mention\" data-user-id=\"414458\">@Vasily Ilin</span> You may have an older Mathlib, so an older version of LeanSearchClient.</p>",
        "id": 511632792,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744372779
    },
    {
        "content": "<p>I should check though if LeanSearch has changed its API.</p>",
        "id": 511632858,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744372797
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">leansearch</span><span class=\"w\"> </span><span class=\"s2\">\"If a natural number n is less than m, then the successor of n is less than the successor of m.\"</span>\n</code></pre></div>\n<p>also gives me the same error</p>",
        "id": 511633069,
        "sender_full_name": "Chris Birkbeck",
        "timestamp": 1744372843
    },
    {
        "content": "<p>Sorry I forgot to say I was testing in the web editor.</p>",
        "id": 511637133,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744373929
    },
    {
        "content": "<p>Looks like they changed the API, so my announcement was unfortunately timed. Testing now to fix.</p>",
        "id": 511658055,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744379638
    },
    {
        "content": "<p>It seems that the changes are quite a bit. I will fix the LeanSearchClient but it is getting late here, so it will have to wait till the morning.</p>",
        "id": 511689332,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744388091
    },
    {
        "content": "<p>The fix has been pushed, but will take some time to make it to Mathlib (and not 4.18.0 unfortunately). I will also test it better before updating.</p>",
        "id": 511777874,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744434994
    },
    {
        "content": "<p>Thank you! I'll try it tomorrow</p>",
        "id": 511778349,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1744435461
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266304\">@Siddhartha Gadgil</span> I'm currently see two problems with <code>#search</code>. On current Mathlib master, typing:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">search</span><span class=\"w\"> </span><span class=\"s2\">\"Lemmas about the counts of elements in lists under permutation.\"</span>\n</code></pre></div>\n<p>I get two info messages --- one of which is the raw JSON returned. This needs to be turned off!</p>\n<p>But secondly, in the infoview, I get</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Suggestions</span>\n<span class=\"n\">LeanSearch</span><span class=\"w\"> </span><span class=\"n\">Search</span><span class=\"w\"> </span><span class=\"n\">Results</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">subperm_iff_count</span><span class=\"w\"> </span><span class=\"c1\">-- ∀ {α : Type u_1} {l₁ l₂ : List α} [inst : DecidableEq α], l₁.Subperm l₂ ↔ ∀ (a : α), List.count a l₁ ≤ List.count a l₂</span>\n<span class=\"n\">See</span><span class=\"w\"> </span><span class=\"n\">also</span><span class=\"w\"> </span><span class=\"ss\">`List.subperm_ext_iff</span><span class=\"bp\">`.</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">perm_replicate_append_replicate</span><span class=\"w\"> </span><span class=\"c1\">-- ∀ {α : Type u_1} [inst : DecidableEq α] {l : List α} {a b : α} {m n : ℕ},</span>\n<span class=\"w\">  </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">Perm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">replicate</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">replicate</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">count</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">count</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">])</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">length_permsOfList</span><span class=\"w\"> </span><span class=\"c1\">-- ∀ {α : Type u_1} [inst : DecidableEq α] (l : List α), (permsOfList l).length = l.length.factorial</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Multiset</span><span class=\"bp\">.</span><span class=\"n\">powersetCardAux_perm</span><span class=\"w\"> </span><span class=\"c1\">-- ∀ {α : Type u_1} {n : ℕ} {l₁ l₂ : List α},</span>\n<span class=\"w\">  </span><span class=\"n\">l₁</span><span class=\"bp\">.</span><span class=\"n\">Perm</span><span class=\"w\"> </span><span class=\"n\">l₂</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Multiset</span><span class=\"bp\">.</span><span class=\"n\">powersetCardAux</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">l₁</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">Perm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Multiset</span><span class=\"bp\">.</span><span class=\"n\">powersetCardAux</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">l₂</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">length_permutations</span><span class=\"w\"> </span><span class=\"c1\">-- ∀ {α : Type u_1} (l : List α), l.permutations.length = l.length.factorial</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">count_permutations'Aux_self</span><span class=\"w\"> </span><span class=\"c1\">-- ∀ {α : Type u_1} [inst : DecidableEq α] (l : List α) (x : α),</span>\n<span class=\"w\">  </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">count</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">permutations'Aux</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">takeWhile</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>while in the \"Problems\" tab I just see</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">LeanSearch</span><span class=\"w\"> </span><span class=\"n\">Search</span><span class=\"w\"> </span><span class=\"n\">Results</span>\n<span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">subperm_iff_count</span>\n<span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">perm_replicate_append_replicate</span>\n<span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">length_permsOfList</span>\n<span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Multiset</span><span class=\"bp\">.</span><span class=\"n\">powersetCardAux_perm</span>\n<span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">length_permutations</span>\n<span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">count_permutations'Aux_self</span>\n</code></pre></div>\n<p>It would be really great if the comments could <em>also</em> appear in the problems tab --- I've been experimenting with getting AI agents (e.g. cursor) to use <code>#search</code> when they need help finding theorems, and such agents can be instructed to read the problems view (it helps to call it \"linter output\", even though that's not normal Lean nomenclature!), but they can't read the InfoView.</p>",
        "id": 511957043,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744590074
    },
    {
        "content": "<p>I will work on both these</p>",
        "id": 511958556,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744591231
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> , will you share the results of your experiments with the agents? I think it would be very valuable. E.g. what is the setup, what is the prompt, what kind of results you get? Thank you!</p>",
        "id": 511970124,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1744599052
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/How.20to.20use.20LeanSearch.20from.20VSCode.3F/near/511957043\">said</a>:</p>\n<blockquote>\n<p>I've been experimenting with getting AI agents (e.g. cursor) to use <code>#search</code> when they need help finding theorems, and such agents can be instructed to read the problems view (it helps to call it \"linter output\", even though that's not normal Lean nomenclature!), but they can't read the InfoView.</p>\n</blockquote>\n<p>If you are not opposed to using an MCP, I have added a tool to make leansearch available to an agent in <a href=\"https://github.com/oOo0oOo/lean-lsp-mcp\">lean-lsp-mcp</a> (via the API). Interestingly I found that the raw response can be well interpreted by the agent.</p>\n<p>If used in VSCode you can additionally toggle which tools the agent is allowed to use. However, in Cursor this is not feasible yet, so the agent will automatically get access to all other tools in the MCP beside leansearch as well.</p>",
        "id": 512006282,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1744616665
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"802311\">@Oliver Dressler</span> how essential is the python in your setup? (I have an aversion to investing time in tools which couldn't be used widely by the Mathlib community, because ... that's my job. :-)</p>",
        "id": 512039727,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744625446
    },
    {
        "content": "<p>Yes, I understand! The Python in this setup is currently used in:</p>\n<ul>\n<li>The MCP server (based on the <a href=\"https://github.com/modelcontextprotocol/python-sdk\">python-sdk</a>). This could also be implemented in another language. The MCP server communicates with the agent using JSON-RPC 2.0 via stdio or HTTP. In Lean, the built-in language server already uses this communication protocol. E.g. The above mentioned <a href=\"https://github.com/oOo0oOo/lean-lsp-mcp/blob/main/src/lean_lsp_mcp/server.py#L435\">leansearch functionality</a> could easily be translated to another language.</li>\n<li>The package manager (uv) allows for easy installation of the MCP server in an IDE. This functionality is not essential, so could be left out.</li>\n<li>Many tools in this MCP are based on the LSP; E.g. getting goals, term goals or hover information at a specific position. Here I use <a href=\"https://github.com/oOo0oOo/leanclient\">leanclient</a>, which is Python-based. Replacing this part with another language would require a Lean LSP integration or implementation in Lean.</li>\n</ul>\n<p>Overall none of these are exclusive to Python, but they are convenient.<br>\nAn MCP based on a VSCode extension could be a viable alternative, as it provides all above mentioned functionality.</p>",
        "id": 512044868,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1744627263
    },
    {
        "content": "<p>Wouldn't that make it harder to use it in headless mode? Or in conjunction with nvim?</p>",
        "id": 512047134,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744628016
    },
    {
        "content": "<p>A pure Lean program would work everywhere. The main barrier I find personally is a lack of an http server and client (for the client we can just use curl in practice).</p>",
        "id": 512047936,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744628274
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/How.20to.20use.20LeanSearch.20from.20VSCode.3F/near/512047134\">said</a>:</p>\n<blockquote>\n<p>Wouldn't that make it harder to use it in headless mode? Or in conjunction with nvim?</p>\n</blockquote>\n<p>Yes an implementation as a VS Code extension would become exclusive to VS Code and Cursor (based on VS Code).</p>",
        "id": 512048168,
        "sender_full_name": "Oliver Dressler",
        "timestamp": 1744628345
    },
    {
        "content": "<p>It would be great when/if someone implements a lean SDK for MCP. Meanwhile, MCP's lack of Lean support shouldn't be a barrier... <br>\nBesides LeanSearch, many Lean features can be very useful to the AI agent, and exposing the functionality as MCP servers makes it available in a wide range of settings. In that sense, implementing a MCP server using one of its existing SDK languages is no different than when you need to write some javascript to implement a VS Code extension. </p>\n<p>From the users' point of view, my hope is that apps that are serious about MCP adoption will soon ship prepackaged with the python and typescript SDKs for MCP, so that users wouldn't have to install python manually.</p>",
        "id": 512154320,
        "sender_full_name": "GasStationManager",
        "timestamp": 1744657672
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"414458\">Vasily Ilin</span> <a href=\"#narrow/channel/113488-general/topic/How.20to.20use.20LeanSearch.20from.20VSCode.3F/near/511970124\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> , will you share the results of your experiments with the agents? I think it would be very valuable. E.g. what is the setup, what is the prompt, what kind of results you get? Thank you!</p>\n</blockquote>\n<p>I was interested to see what can be done \"out of the box\", i.e. with no additional software installed. First, I needed a hack, to convert all info and warning messages into errors, as otherwise Cursor can't see them <a href=\"https://forum.cursor.com/t/agent-cant-access-linter-diagnostics-in-certain-languages/73327\">[1]</a>. With that out the way, the following prompt</p>\n<blockquote>\n<p>You can use <code>#moogle \"infinitely many primes\"</code> to query for relevant lemmas using a natural langauge query. The results will be returned as linter messages. Write this at the end of the source code of this file, and then read the resulting linter messages. This will suggest some lemma names. You can then write <code>#check lemma_name</code> for any interesting ones, and again read the linter messages. Finally, tell me the most relevant theorem, and what it says.</p>\n</blockquote>\n<p>successfully induces the cursor agent to try running</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">moogle</span><span class=\"w\"> </span><span class=\"s2\">\"infinitely many primes\"</span>\n</code></pre></div>\n<p>then retry with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">moogle</span><span class=\"w\"> </span><span class=\"s2\">\"infinitely many primes.\"</span>\n</code></pre></div>\n<p>then read the results and write</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">moogle</span><span class=\"w\"> </span><span class=\"s2\">\"infinitely many primes.\"</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Primes</span><span class=\"bp\">.</span><span class=\"n\">infinite</span>\n</code></pre></div>\n<p>before finally telling me:</p>\n<blockquote>\n<p>Based on the linter messages, the most relevant theorem is Nat.Primes.infinite, which states that the set of prime numbers is infinite. This is a fundamental result in number theory, often attributed to Euclid, which proves that there are infinitely many prime numbers.</p>\n<p>The theorem is stated in Lean as Nat.Primes.infinite : Infinite Nat.Primes, where Nat.Primes represents the set of prime numbers and Infinite is a type class that indicates the set has infinitely many elements.</p>\n<p>This is one of the most important theorems in mathematics, and it's interesting to see it formalized in Lean. The theorem is particularly significant because:</p>\n<ol>\n<li>It's one of the oldest known mathematical proofs</li>\n<li>It's a fundamental result in number theory</li>\n<li>It has many important consequences in mathematics</li>\n<li>It's a great example of a proof by contradiction</li>\n</ol>\n<p>Would you like me to explore any of the other related theorems that were found in the search, such as Nat.exists_infinite_primes or Nat.infinite_setOf_prime_modEq_one?</p>\n</blockquote>\n<p>That seems essentially perfect?</p>",
        "id": 512240654,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744700286
    },
    {
        "content": "<p>(except, I guess, its editorializing \"one of the most important theorems in mathematics\" ... :-)</p>",
        "id": 512240849,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744700354
    },
    {
        "content": "<p>It's seems fairly reliable, e.g. </p>\n<blockquote>\n<p>Next, use the same technique to try to locate the statement that for metric spaces, sequential compactness and compactness are equivalent.</p>\n</blockquote>\n<p>reports back</p>\n<blockquote>\n<p>UniformSpace.isCompact_iff_isSeqCompact.{u_1} {X : Type u_1} [UniformSpace X] {s : Set X}<br>\n  [(uniformity X).IsCountablyGenerated] : IsCompact s ↔ IsSeqCompact s</p>\n</blockquote>",
        "id": 512241823,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744700682
    },
    {
        "content": "<p>Not exactly what I asked for, I guess.</p>",
        "id": 512241932,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744700723
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266304\">@Siddhartha Gadgil</span> , the error I experienced is still there.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">exp</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">exp</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"bp\">#</span><span class=\"n\">leansearch</span><span class=\"w\"> </span><span class=\"s2\">\"log.\"</span>\n</code></pre></div>\n<p>gives <code>Could not contact LeanSearch server</code>.<br>\nThis is on 4.18.0. Should I be trying on a different version? Which one?</p>",
        "id": 512978638,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1744956787
    },
    {
        "content": "<p>The upgrade will take effect on 4.19.0-rc3</p>",
        "id": 512981974,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1744958872
    }
]