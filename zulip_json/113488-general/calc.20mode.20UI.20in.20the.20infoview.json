[
    {
        "content": "<p>In the infoview there a way to interact with a calc-mode proof by clicking on a part of the goal and using that to introduce the next step in the calc mode proof.  I have seen folks demonstrate this \"thing\" but I cannot remember the details of how to use it or find infor about it by googling.    Does anyone know of the name of this \"thing\" and where it is documented.  (Apologies if this is not clear -- happy to try to elaborate) - thank you!</p>",
        "id": 547288909,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1761574803
    },
    {
        "content": "<p>Found it -- \"calc widget\" <a href=\"https://www.imo.universite-paris-saclay.fr/~patrick.massot/calc_widget.webm\">https://www.imo.universite-paris-saclay.fr/~patrick.massot/calc_widget.webm</a></p>\n<div class=\"message_inline_image message_inline_video\"><a href=\"https://www.imo.universite-paris-saclay.fr/~patrick.massot/calc_widget.webm\"><video preload=\"metadata\" src=\"https://uploads.zulipusercontent.net/3b5366c7ffd958fd150bb2a01ce464c5daeed5ed/68747470733a2f2f7777772e696d6f2e756e69766572736974652d70617269732d7361636c61792e66722f7e7061747269636b2e6d6173736f742f63616c635f7769646765742e7765626d\"></video></a></div>",
        "id": 547292044,
        "sender_full_name": "Nehal Patel",
        "timestamp": 1761575512
    },
    {
        "content": "<p>Wow! That's news to me! <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> how does one set this up? <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span>, any chance this point and click functionality (and <code>conv?</code>) could be implemented in the game server??</p>",
        "id": 547363584,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1761595990
    },
    {
        "content": "<p>Oh I see, there's nothing to set up; it already works. Amazing! (Learn something new every day...) My question for Jon remains... :)</p>",
        "id": 547364241,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1761596250
    },
    {
        "content": "<p>Yes, these are both provided via ProofWidgets. There is also one for <code>gcongr?</code>.</p>",
        "id": 547364541,
        "sender_full_name": "Chris Henson",
        "timestamp": 1761596382
    },
    {
        "content": "<p>And you start using it by typing <code>calc?</code>.</p>",
        "id": 547366275,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761597070
    },
    {
        "content": "<p>Speaking of cool widgets: you know about <code>rw??</code>, right?</p>",
        "id": 547366331,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761597091
    },
    {
        "content": "<p>Can we have a place to document all of these widgets? I didn't consciously know about <code>conv?</code>until now :-)</p>",
        "id": 547366382,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761597114
    },
    {
        "content": "<p>deleted</p>",
        "id": 547398263,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1761616468
    },
    {
        "content": "<p>I have to admit I'm not that interested in getting <code>calc</code> mode working for games. It seems <code>calc</code> is fundamentally incompatible with the unstructured, single-line, step-by-step tactic proofs which are taught in lean4game.</p>\n<p>Therefore it seems like it would require either a lot of hacky setup or a fundamentally different approach to get <code>calc</code> working in a usable way...</p>\n<p>Ensuring that \"Try this\" links (rsp ProofWidgets) like the ones above are displayed clickable in the game's infoview should be comparatively easy. If they aren't already, that probably just broke at some point and needs to be fixed again.</p>",
        "id": 547422145,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1761635185
    },
    {
        "content": "<p>This calc widget have been there forever. I created it before the port from Lean 3 was completed. But I know itâ€™s easy to miss. I know itâ€™s explained in GlimpseOfLean but I donâ€™t even think we mention it in MIL. We have a lot to do on MIL in Lean anyway, there are too many powerful tactics that were created in the last two years and didnâ€™t make it to MIL.</p>",
        "id": 547449276,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761645119
    },
    {
        "content": "<p>By the way, I'm working on some improvements to <code>rw??</code>. In particular I'm parallellizing the computation and making the widget show the results when some of the suggestions are available and others are still being computed. See also <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Widget.20that.20reacts.20to.20Lean/with/547672235\">#general &gt; Widget that reacts to Lean</a></p>",
        "id": 547682776,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1761734718
    },
    {
        "content": "<p>I would love this mechanism to be sufficiently generic that we could also make use of it for <code>try?</code>!</p>",
        "id": 547684083,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1761735052
    },
    {
        "content": "<p>The mechanism depends on a small amount of TypeScript, and I'm planning to make a PR for this to ProofWidgets soon. I'm not sure though how it would work to upstream that into core.</p>",
        "id": 547685161,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1761735362
    },
    {
        "content": "<p>It's possible to create a component directly using JavaScript, and that can be placed in core.</p>",
        "id": 547685543,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1761735487
    },
    {
        "content": "<p>Yes, though there is still the problem that I'm using the type <code>ProofWidgets.Html</code> to represent the widget, which lives in ProofWidgets.</p>",
        "id": 547686865,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1761735866
    },
    {
        "content": "<p>Yes, I just realized -- there's probably no easy way around this then.</p>",
        "id": 547687551,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1761736061
    },
    {
        "content": "<p>I think we can work around the lack of <code>ProofWidgets.Html</code> by creating all of the HTML on the JavaScript side. This would require writing a version of my JavaScript code, specialized to the particular use case. And I think that the <code>try?</code> interface is simple enough where this is reasonable to do.</p>",
        "id": 547689520,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1761736763
    },
    {
        "content": "<p>I would advocate for putting this in ProofWidgets for now. In general, the idea is to prototype features there, and move them up to core when either a) there is no way to implement it out-of-core because some API is missing or b) it is widely used enough that moving it up makes sense.</p>",
        "id": 547829833,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1761780936
    },
    {
        "content": "<p>Sounds good to me. These features are great, but potentially fragile and expensive to maintain. Please (authors and reviewers) do your utmost to write robust, safe, well-documented code. :-)</p>",
        "id": 547832119,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1761782350
    }
]