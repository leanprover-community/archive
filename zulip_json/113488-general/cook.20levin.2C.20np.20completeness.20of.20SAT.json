[
    {
        "content": "<p>Is Cook-Levin, NP-completeness of SAT in MathLib ?</p>\n<p>I found <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Computability/TuringMachine.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Computability/TuringMachine.html</a> for turing machines, but I can't find Cook-Levin / NP-Completeness of SAT.</p>\n<p>I'm curious what the current state of Computational Complexity, with the respect of MathLib, i.e.</p>\n<ol>\n<li>it is formalized, but I'm an idiot and not finding it</li>\n<li>It is not formalized, and not intended to be formalized</li>\n<li>It is not formalized, but there is a road map for it somewhere</li>\n</ol>",
        "id": 560705305,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1764304696
    },
    {
        "content": "<p>In Lean4, is there a easy way to prove, under the \"RAM Model\" of computation, how long a Lean4 function runs?</p>\n<p>Context: To prove a NP-completeness reduction, the typical structure is something like this:</p>\n<ol>\n<li>We know language L1 is NP-complete.</li>\n<li>We want to prove language L2 is complete.</li>\n<li>We devise a <strong>polynomial time</strong> reduction P, s.t. x in L1 &lt;-&gt; P(x) in L2.</li>\n</ol>\n<p>Then we can say: hypothetically, if you could solve L2 in polynomial time via some decision procedure D, then D(P(x)) solves x in L1 in polynomial time, and no one in the world knows how to decide L1 in polynomial time.</p>\n<p>Now, the important part here is that P(x) must run in O(poly(size_of(x)) time. [Otherwise, we can run an exp time procedure to decide x, return one of two trivial elements known to belong / not-belong in L2].</p>\n<p>To do this, we need to be able to argue \"this lean function, under the RAM model, runs in time poly(number_of_bits(input))\". Through both (1) the lean game server and (2) skimming the lean docs, I haven't seen any proofs of runtime of this form.</p>\n<p>I am curious if there are pointers on how to do these \"prove RAM model runtime of function\" proofs in Lean.</p>\n<p>Thanks!</p>",
        "id": 560710569,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1764308719
    },
    {
        "content": "<p>Maybe you can do a lot of metaprogramming to make it work, but it seems impossible to do analyze the complexity of Lean4 pure functions without it due to function extensionality. If you're not talking about pure functions, there is an open PR (<a href=\"https://github.com/leanprover-community/mathlib4/pull/20924\">#20924</a>) for computing the number of \"oracle operations\" of a monadic function. See also this thread: <a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/Formalization.20of.20Runtime.20Complexity.20of.20Sorting.20Algorithms/near/284184450\">#general &gt; Formalization of Runtime Complexity of Sorting Algorithms @ üí¨</a></p>",
        "id": 560785995,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1764336140
    },
    {
        "content": "<ol>\n<li>\n<p>I'm misunderstanding something very obvious. Why is \"pure function\" distinction important? (My interpretation of \"pure function\" is just a function w/o side effffects, i.e. no IO Monad).</p>\n</li>\n<li>\n<p>Would it be correct to say there is currently almost no formalization of CLRS/Intro to Algorithms style running time proofs ? [It seems like most proofs are concerned with correctness / properties of outputs of functions, but not how long functions take.]</p>\n</li>\n</ol>",
        "id": 560850757,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1764361277
    },
    {
        "content": "<p>I am a bit confused by the question as I see two independent ones</p>\n<ol>\n<li>Could we measure computational complexity of Lean functions? For sure not directly, Lean functions should be thought of as mathematical -- not something \"calculating\" a value but rather as something that \"has\" a value for each input. This is deeply embedded into the logic through definitional equality and function extensionality.  What is the computational complexity of <code>sin</code>? That some of them can be compiled into a code is a side-effect which cannot be exactly captured in the logic (unless we use metaprogramming, and look into the structure of the Lean expression rather than just the logical semantic representation). By the way, to my understanding, complexity of functional programming is a bit tricky -- are we counting the number of beta-reductions, or the time of a specific implementation performing them? In which order are we beta-reducing? So I am not really sure if this is a priority...</li>\n<li>What is the status of the theory of computational complexity in Lean? To my understanding, not much of it is developed, I don't even see non-deterministic Turing machines in Mathlib (I can only see non-deterministic finite automata). Perhaps a NP could be defined by giving <code>Turing.TM2.Stmt</code> a hint in one of the stacks but I cannot find such definition. However, I am no expert in this, someone could correct me.</li>\n</ol>",
        "id": 560856942,
        "sender_full_name": "Mirek Ol≈°√°k",
        "timestamp": 1764365944
    },
    {
        "content": "<p>I don't have any answers. I just want to say that <span class=\"user-mention\" data-user-id=\"133339\">@Mirek Ol≈°√°k</span> 's question 1 is a great question that \"crystallizes\" things I've been thinking about, trying to formulate, but could not formulate. Thanks for capturing the \"essence\" of the issue.</p>\n<p>In the spirit of increasing # of questions w/o increasing # of answers, some other hazy thoughts I've been thinking about with regards to NP-Completeness reductions. What do we use to express these NP-Completeness reductions? The three obvious choices seems to be:</p>\n<ol>\n<li>Lean itself. This brings up the above issues of proving runtime of Lean 'functions'</li>\n<li>Have a trivial <a href=\"https://en.wikipedia.org/wiki/MIPS_architecture\">https://en.wikipedia.org/wiki/MIPS_architecture</a> interpreter defined in Lean. Except instead of 32 bit registers, we use log-n bit registers. Then 'reductions' becomes proofs of the form: we have a 3SAT instance encoded in memory; then our reduction (bunch of MIPs instrs) writes to a different part of RAM, with some encoding of Vertex Covering; and the \"proof\" becomes things like:<br>\n2a. The memory encoding 3SAT is a satisfiable 3SAT, iff the memory coding the Vertex cover is a satisfiable Vertex Cover<br>\n2b. We prove the MIPs interpreter runs in poly(n) time.</li>\n</ol>\n<p>The downside of <a href=\"https://github.com/leanprover-community/mathlib4/pull/2\">#2</a>, of course, is that writing NP-completeness reductions in MIPs assembly is not the most pleasant experience in the world. So we might go for something like</p>\n<ol start=\"3\">\n<li>Define a mini-OCaml interpreter in Lean; express the reduction in the mini-OCaml interpreter, and have some way to count the instrs of the mini-OCaml interpreter. Now, of course, \"how do we count instrs\" is annoying -- but not very important in the case of NP-completeness reductions, as we don't really about a poly(n) time here and a poly(n) term there. :-)</li>\n</ol>\n<p>I have previously tried doing something like <a href=\"https://github.com/leanprover-community/mathlib4/pull/2\">#2</a> in Coq; and failed. I have never attempted <a href=\"https://github.com/leanprover-community/mathlib4/pull/3\">#3</a>.</p>",
        "id": 560870432,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1764378104
    },
    {
        "content": "<p>Ad <a href=\"https://github.com/leanprover-community/mathlib4/pull/2\">#2</a>, there is the <code>Turing.TM2.Stmt</code> with a fixed number of possible stacks. Isn't it enough?</p>",
        "id": 560872457,
        "sender_full_name": "Mirek Ol≈°√°k",
        "timestamp": 1764380528
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1001511\">TongKe Xue</span> <a href=\"#narrow/channel/113488-general/topic/cook.20levin.2C.20np.20completeness.20of.20SAT/near/560870432\">said</a>:</p>\n<blockquote>\n<p>I don't have any answers. I just want to say that <span class=\"user-mention silent\" data-user-id=\"133339\">Mirek Ol≈°√°k</span> 's question 1 is a great question that In the spirit of increasing # of questions w/o increasing # of answers, some other hazy thoughts I've been thinking about with regards to NP-Completeness reductions. What do we use to express these NP-Completeness reductions?</p>\n</blockquote>\n<p>I think you're missing the Boole language and <code>Std.Do</code>, you might want to read/ask in <a class=\"stream-topic\" data-stream-id=\"513188\" href=\"/#narrow/channel/513188-CSLib/topic/proofs.20with.20Std.2EDo/with/560417249\">#CSLib &gt; proofs with Std.Do</a> </p>\n<p>I know you're targeting Mathlib, but these are questions the CSLib project is now handling, and it's probably worth joining forces</p>",
        "id": 560875905,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1764384585
    },
    {
        "content": "<p>See also <a class=\"stream-topic\" data-stream-id=\"513188\" href=\"/#narrow/channel/513188-CSLib/topic/Complexity.20Theory.20in.20CSLib/with/560298393\">#CSLib &gt; Complexity Theory in CSLib</a> and <a class=\"stream-topic\" data-stream-id=\"513188\" href=\"/#narrow/channel/513188-CSLib/topic/Proposal.20on.20Time.20Complexity/with/560660585\">#CSLib &gt; Proposal on Time Complexity</a> for similar discussions</p>",
        "id": 560876013,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1764384735
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"933054\">@Snir Broshi</span> : I'm still skimming through these discussions -- but they look like precisely the issue I'm dealing with. Thanks for all the pointers! (I'm new to both zulip &amp; lean, and haven't quite figured out how 'search' works yet.) Thanks!</p>",
        "id": 560877281,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1764386340
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1001511\">TongKe Xue</span> <a href=\"#narrow/channel/113488-general/topic/cook.20levin.2C.20np.20completeness.20of.20SAT/near/560870432\">said</a>:</p>\n<blockquote>\n<p>What do we use to express these NP-Completeness reductions? </p>\n</blockquote>\n<p>I wish to propose a <a href=\"https://github.com/leanprover-community/mathlib4/pull/5\">#5</a> approach. I believe it is the most tractable one, at least from the mathematical perspective, on formalizing the computational complexity theory.</p>\n<p>What I wish to argue is defining complexity classes based on <a href=\"https://en.wikipedia.org/wiki/Implicit_computational_complexity\">implicit computational complexity</a> (as I mentioned in <a class=\"stream-topic\" data-stream-id=\"116395\" href=\"/#narrow/channel/116395-maths/topic/Formalise.20the.20proposition.20P.20.E2.89.A0NP/with/556970628\">#maths &gt; Formalise the proposition P ‚â†NP</a> ).</p>\n<p>For example, the class of polynomial-time functions can be defined as follows.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Matrix</span>\n\n<span class=\"c1\">-- Usually we assume that Œ± is fintype, or Œ± = Bool</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">]</span>\n\n<span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">tail</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">tail</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">normal_proj</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">safe_proj</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">cond</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">head?</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">safe_comp</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n‚ÇÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s‚ÇÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n‚ÇÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s‚ÇÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hh</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">safe_rec</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">vecHead</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">vecTail</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">vecCons</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">vecTail</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">vecCons</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">)</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">PolyTimeComputable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">SafeFunction</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">v</span>\n</code></pre></div>\n<p>Concepts such as the P vs. NP problem and NP-completeness, etc. can also be defined straightforwardly.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ±</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ClassP</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PolyTimeComputable</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">‚Üî</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">[]}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ClassNP</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PolyTimeComputable</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">‚Üî</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">[]}</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">PneNP</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ClassP</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"n\">ClassNP</span><span class=\"w\"> </span><span class=\"n\">Bool</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsKarpReducible</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PolyTimeComputable</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üî</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">B</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsNPComplete</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">ClassNP</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsKarpReducible</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div>\n<p>This follows the same style as the definitions of <code>Primrec</code>, <code>Partrec</code> and <code>Computable</code> in Mathlib. That is, we define them using function algebras, rather than relying on TM or other models of computation.</p>",
        "id": 560892862,
        "sender_full_name": "Palalansouk√Æ",
        "timestamp": 1764402703
    },
    {
        "content": "<p>Cook-Levin's theorem can likely be proven by similar work to constructing a universal Turing machine. That is, doing a proof like the one in <a href=\"https://leanprover-community.github.io/mathlib4_docs//Mathlib/Computability/PartrecCode.html\">https://leanprover-community.github.io/mathlib4_docs//Mathlib/Computability/PartrecCode.html</a> for <code>PolyTimeComputable</code> that takes a polynomial-sized certificate.</p>",
        "id": 560894109,
        "sender_full_name": "Palalansouk√Æ",
        "timestamp": 1764403731
    },
    {
        "content": "<p>This looks interesting -- but I don't think I have enough fundamentals to understand it. My background is CS Theory. I've written a few compilers + bytecode interpreters in Rust/OCaml/Haskell. I don't recognize this <code>SafeFunction</code> \"inductive/enum\" that you have defined.</p>\n<p>Is this (1) a well known theory, or (2) something you designed ? If (1), can you point me at the theory? If (2), can you motivate the \"arms\" of the inductive/enum? They look half-lisp-ish, half-continuation-ish; and I don't know what's going on / theory behind it.</p>\n<p>Thanks!</p>",
        "id": 560894559,
        "sender_full_name": "TongKe Xue",
        "timestamp": 1764404181
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1001511\">TongKe Xue</span> <a href=\"#narrow/channel/113488-general/topic/cook.20levin.2C.20np.20completeness.20of.20SAT/near/560894559\">said</a>:</p>\n<blockquote>\n<p>Is this (1) a well known theory, or (2) something you designed ? If (1), can you point me at the theory? If (2), can you motivate the \"arms\" of the inductive/enum? They look half-lisp-ish, half-continuation-ish; and I don't know what's going on / theory behind it.</p>\n</blockquote>\n<p>Of course (1)! I think it's well-known among mathematicians specializing in bounded arithmetic or finite model theory. see <a href=\"https://en.wikipedia.org/wiki/Implicit_computational_complexity\">wikipedia article</a> or <a href=\"https://bioinformatics.bc.edu/clotelab/pub/cloteHandbookRecTheory.pdf\">Clote's comprehensive paper</a>.</p>",
        "id": 560895003,
        "sender_full_name": "Palalansouk√Æ",
        "timestamp": 1764404649
    },
    {
        "content": "<p>My definition is actually a slight extension of the original Bellantoni‚ÄìCook definition. However, it coincides when <code>Œ± = Bool</code>, and even when it doesn't, it should be the same under appropriate coding if <code>Œ±</code> is finite.</p>",
        "id": 560895241,
        "sender_full_name": "Palalansouk√Æ",
        "timestamp": 1764404857
    },
    {
        "content": "<p>I think formalizing Cook-Levin will be a huge undertaking but worth the effort.<br>\nIMHO the best material to follow is:<br>\n<a href=\"https://www.isa-afp.org/browser_info/current/AFP/Cook_Levin/document.pdf\">https://www.isa-afp.org/browser_info/current/AFP/Cook_Levin/document.pdf</a></p>",
        "id": 560908873,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1764417090
    },
    {
        "content": "<p>Recovering this old thread, I have recently defended my master thesis which was about my search for a method to certify complexity class of a program. Most of the research lead to nowhere, including the (initially, very promising) field of Implicit Complexity Theory, but then I saw that we can go quite far in this direction by formalizing bounded arithmetic. I am currently working on it (doing some proofs in my formalization of Cook and Nguyen's V0 theory capturing AC0 functions). Don't have much time though, because I have a fulltime work now. Attaching my thesis, maybe it will add some value to this discussion. This summer I had a chance to academically visit Yannick Forster at INRIA Paris who is involved in a large related project but in the Rocq community (Coq library for undecidability proofs) :)</p>\n<p><a href=\"https://github.com/ruplet/oracles/blob/main/balawender-master-languages-for-complexity-classes.pdf\">https://github.com/ruplet/oracles/blob/main/balawender-master-languages-for-complexity-classes.pdf</a></p>",
        "id": 570909195,
        "sender_full_name": "Pawe≈Ç Balawender",
        "timestamp": 1769726412
    },
    {
        "content": "<p>There's a formalization of Cook-Levin in Rocq. <a href=\"https://doi.org/10.4230/LIPIcs.ITP.2021.20\">https://doi.org/10.4230/LIPIcs.ITP.2021.20</a><br>\nI was thinking about doing the same approach in Lean at some point.</p>",
        "id": 570914802,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1769729505
    },
    {
        "content": "<p>I prefer the approach of Frank Balbach in Isabelle.</p>",
        "id": 570961575,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1769759808
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvo≈ô√°k</span> <a href=\"#narrow/channel/113488-general/topic/cook.20levin.2C.20np.20completeness.20of.20SAT/near/570961575\">said</a>:</p>\n<blockquote>\n<p>I prefer the approach of Frank Balbach in Isabelle.</p>\n</blockquote>\n<p>I only skimmed through that paper for now. It looks to me like Frank Balbach's approach is more straightforward and easier way to proving Cook-Levin. But I think that the approach I linked from Rocq might give nicer framework for proving other computability and complexity results. But I'll try reading the paper in more detail later.</p>",
        "id": 571004691,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1769772991
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"870257\">Jakub Nowak</span> <a href=\"#narrow/channel/113488-general/topic/cook.20levin.2C.20np.20completeness.20of.20SAT/near/571004691\">said</a>:</p>\n<blockquote>\n<p>But I think that the approach I linked from Rocq might give nicer framework for proving other computability and complexity results. </p>\n</blockquote>\n<p>I am not sure (after a very superficial look). The rocq paper has a nonstandard approach that would repell many people. The standard one looks like an excellent excuse to mature basix complexity notions (I don't know what is the current status in cslib).</p>",
        "id": 571015732,
        "sender_full_name": "Marcin Pilipczuk",
        "timestamp": 1769776342
    },
    {
        "content": "<p>Currently complexity theory is almost non-existent in CSLib. We have Turing machines in mathlib. But without quite a bit of extra machinery, we can't meaningfully hope to formalise cook-levin. </p>\n<p>Fwiw, the PL community has been exploring call-by-push-value lambda calculus for a few years. I am not sure it has caught on anywhere outside yet (which is sad). It's the same story as  the theory of algorithms and data structures for functional programming. We are at the risk of having two parallel worlds of algorithms and complexity.</p>\n<p>The isabelle approach follows the conventional textbook proof, but I think it suffers from the \"let's sledgehammer it\" effect.</p>",
        "id": 571023743,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1769778545
    },
    {
        "content": "<p>Hello, I am currently converting Isabelle Universal Turing Machine in Lean 4 if you are interested. I already converted a 40% of it</p>",
        "id": 571065399,
        "sender_full_name": "Dennj Osele",
        "timestamp": 1769788546
    }
]