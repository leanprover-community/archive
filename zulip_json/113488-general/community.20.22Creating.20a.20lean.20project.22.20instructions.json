[
    {
        "content": "<p>The instructions for creating a lean project on the community website <a href=\"https://leanprover-community.github.io/install/project.html#creating-a-lean-project\">here</a> always struck me as weird, because they tell you to install something from April 2024 and have this line about how you shouldn't worry about it all. I recently created a new Lean project following the instructions on <a href=\"http://lean-lang.org\">lean-lang.org</a> and I never had to use the command line at all, or ever mention April 2024. Should the community pages just be directing users to lean-lang for installing projects nowadays? I know that some people would prefer command line instructions, but conversely I know many that wouldn't (including essentially all Windows users, who might only have a very dismal command line installed by default) and many find their way to the community via the community pages rather than the lean-lang ones. IIRC the community pages were written when there was no GUI-only way to create a new project but things have since moved on.</p>",
        "id": 512998528,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744966935
    },
    {
        "content": "<p>My proposal:<br>\n1) the community pages should have as first option for creating a new project a GUI-only version and a link to lean-lang.<br>\n2) We should also keep the command-line-only installation instructions for the hardcore, but the reference to April 2024 (which will only get weirder and weirder as time goes on) should be replaced with something like:</p>\n<p>a) check your elan is up to date with <code>elan self update</code><br>\nb) check your default lean is sensible e.g. with <code>elan default leanprover/lean4:stable</code><br>\nc) create a new project with <code>lake new my_project math</code></p>\n<p>Would a PR to the community website implementing this be welcome?</p>",
        "id": 512999090,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744967251
    },
    {
        "content": "<p>steps a and b can be skipped for those that have just installed lean for the first time</p>",
        "id": 513000153,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744967780
    },
    {
        "content": "<p>ideally we would only have step c, but this has not always been the case</p>",
        "id": 513000242,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744967841
    },
    {
        "content": "<p>if you were to get the latest now and then run step c in a year without a/b first it will work</p>",
        "id": 513000354,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744967888
    },
    {
        "content": "<p>Yes, it would be really nice to clean up this mess. But whenever we try to do that we hit a new lake weirdness.</p>",
        "id": 513000374,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1744967899
    },
    {
        "content": "<p>In fact, I see that now <a href=\"https://leanprover-community.github.io/get_started.html\">https://leanprover-community.github.io/get_started.html</a> starts with a pointer to the official lean instructions. My proposal is that we should highlight this more clearly, and also start <a href=\"https://leanprover-community.github.io/install/project.html\">https://leanprover-community.github.io/install/project.html</a> with a similar pointer.</p>",
        "id": 513000377,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744967901
    },
    {
        "content": "<p>I think the point is that the community instructions currently have more weirdness than current lake stable</p>",
        "id": 513000481,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744967956
    },
    {
        "content": "<p>The april 2024 reference was supposed to be updated whenever anything affecting lake new changed</p>",
        "id": 513000607,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968023
    },
    {
        "content": "<p>I don't think we can be trusted to track this</p>",
        "id": 513000649,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968058
    },
    {
        "content": "<p>It seems to me that the big problem with lake is/was that it is (presumably) written in Lean and that lean has been moving so fast in the last couple of years that anyone with an old version of lean is kind of doomed to have problems. This is the source of many lake problems (e.g, Yael and me both complaining to Mac yesterday that lake is still creating projects with lakefile.lean instead of lakefile.toml and this is just because our default toolchains were old). But we might optimistically hope that such problems are in the past now (certainly there are far far fewer complaints about lake on this forum than a year ago, indeed there is very little lake chat nowadays) and so maybe it's time to make a \"once and for all\" change to the community website which now pushes users to the lean-lang website rather than telling them to use a command line, which I am convinced that most of our mathematician users probably don't want to do. There is now a pain-free way to make a new lean project involving just point and click and this way is clearly explained on the official website. That was most definitely not always the case, and the community website helped an entire generation of new users, but things have moved on now.</p>",
        "id": 513000956,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744968239
    },
    {
        "content": "<p>I think we should keep hosting setup instructions, because we want to be able to adapt to lake weirdness</p>",
        "id": 513001132,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968326
    },
    {
        "content": "<p>but that only works if we keep our setup instructions up to date</p>",
        "id": 513001181,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968361
    },
    {
        "content": "<p>I completely agree that we need to do something here.</p>",
        "id": 513001264,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1744968395
    },
    {
        "content": "<p>Feel free to open a PR to the community website!</p>",
        "id": 513001279,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1744968409
    },
    {
        "content": "<p>right now you can use either CLI or non CLI options</p>",
        "id": 513001281,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968410
    },
    {
        "content": "<p>and I think we should document both</p>",
        "id": 513001313,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968426
    },
    {
        "content": "<p>The setup instructions have this:</p>\n<blockquote>\n<ul>\n<li>Go inside the my_project folder and type lake update.<ul>\n<li>Windows users seeing a <code>curl: (35) schannel: next InitializeSecurityContext failed</code> error should read this note.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>It is notes like that which make me think that it is worthwhile to maintain community instructions. The lean-lang quickstart has no such notes, and I think they would be very unlikely to add one because they don't want lean to look bad</p>",
        "id": 513002108,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968780
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/113488-general/topic/community.20.22Creating.20a.20lean.20project.22.20instructions/near/513002108\">said</a>:</p>\n<blockquote>\n<p>and I think they would be very unlikely to add one because they don't want lean to look bad</p>\n</blockquote>\n<p>This is documented in the setup guide in the \"Troubleshooting\" entry.</p>",
        "id": 513002267,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744968844
    },
    {
        "content": "<p>it's not on the website</p>",
        "id": 513002349,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968890
    },
    {
        "content": "<p>... But the website directs users to the setup guide?</p>",
        "id": 513002448,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744968949
    },
    {
        "content": "<p>it seems the quickstart is not self contained at all, it's deferring to the in-vscode guide</p>",
        "id": 513002455,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968951
    },
    {
        "content": "<p>what if I want to read it on a webpage and/or I'm not using vscode?</p>",
        "id": 513002545,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744968973
    },
    {
        "content": "<p>it's certainly nice to have a vscode setup guide but I want a website setup guide too</p>",
        "id": 513002628,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744969007
    },
    {
        "content": "<p>they can even have the same text</p>",
        "id": 513002641,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744969014
    },
    {
        "content": "<p>Improvements to our website in this regard are coming soon-ish :-)</p>",
        "id": 513002687,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744969042
    },
    {
        "content": "<p>In any case, the claim you made that we don't document this in the quickstart guide (which is intended as an easy setup for most users) and that we would be very unlikely to add it is demonstrably false. If you want to provide an \"easy path\" towards getting a Lean project set up on the community website, then this shouldn't have to be a concern for you.</p>",
        "id": 513003151,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744969258
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span> what is the \"setup guide\"? I see two different links</p>\n<p><a href=\"https://docs.lean-lang.org/lean4/doc/quickstart.html\">https://docs.lean-lang.org/lean4/doc/quickstart.html</a><br>\n<a href=\"https://lean-lang.org/documentation/setup/\">https://lean-lang.org/documentation/setup/</a></p>\n<p>I'm making a PR to the community website. What exactly should I be pointing people to?</p>",
        "id": 513003898,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744969577
    },
    {
        "content": "<p>The setup guide is the platform-specific guide in VS Code that step 3 of the quickstart guide points to.</p>",
        "id": 513003983,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744969624
    },
    {
        "content": "<p>Is the second link I post above now deprecated? I've just also found<br>\n<a href=\"https://docs.lean-lang.org/lean4/doc/setup.html\">https://docs.lean-lang.org/lean4/doc/setup.html</a> which looks very similar to the second link but it doesn't have broken links.</p>",
        "id": 513004166,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744969708
    },
    {
        "content": "<p>I'd say that the latter is preferred to the former, I think it was just copied over carelessly. I'll ping the responsible people about it.</p>",
        "id": 513004377,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744969803
    },
    {
        "content": "<p>I created a thread in <a class=\"stream\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4\">#lean4</a> when I was being confused about this half an hour ago</p>",
        "id": 513004592,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744969909
    },
    {
        "content": "<p>is it possible to <em>link</em> to the vscode setup guide? Like some kind of <code>vscode://</code> link that actually opens the page?</p>",
        "id": 513005349,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744970227
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/113488-general/topic/community.20.22Creating.20a.20lean.20project.22.20instructions/near/513005349\">said</a>:</p>\n<blockquote>\n<p>is it possible to <em>link</em> to the vscode setup guide? Like some kind of <code>vscode://</code> link that actually opens the page?</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/vscode-lean4/pull/596\">vscode-lean4#596</a></p>",
        "id": 513005515,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744970294
    },
    {
        "content": "<p>Does this work: vscode://leanprover.lean4/setup-guide</p>",
        "id": 513008019,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744971411
    },
    {
        "content": "<p>PR to the community guide which now more aggressively points users to the lean-lang instructions: <br>\n<a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/621\">https://github.com/leanprover-community/leanprover-community.github.io/pull/621</a></p>",
        "id": 513008072,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744971444
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113488-general/topic/community.20.22Creating.20a.20lean.20project.22.20instructions/near/513008019\">said</a>:</p>\n<blockquote>\n<p>Does this work: vscode://leanprover.lean4/setup-guide</p>\n</blockquote>\n<p>Zulip's linkifier doesn't appear to like the URI, but you can also just paste it into your browser address bar to test it</p>",
        "id": 513008976,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1744971831
    },
    {
        "content": "<p>[vscode://leanprover.lean4/setup-guide](vscode://leanprover.lean4/setup-guide)</p>",
        "id": 513013094,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744973837
    },
    {
        "content": "<p>I just noticed that <a href=\"https://github.com/leanprover-community/mathlib4/wiki/Using-mathlib4-as-a-dependency\">https://github.com/leanprover-community/mathlib4/wiki/Using-mathlib4-as-a-dependency</a> may also want to be \"upgraded\" to refer to the Setup Guid/extension menu first, before the cmdline instructions</p>",
        "id": 514043194,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1745481936
    }
]