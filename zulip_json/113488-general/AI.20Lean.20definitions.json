[
    {
        "content": "<p>This thread spins out the discussion of how well AI can write definitions in Lean 4, i.e., how well it can autoformalize things.</p>\n<p>This arose out of discussion for a potential <code>sloplib</code>:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/572224048\">said</a>:</p>\n<blockquote>\n<p>2) Michael's comment made me realise that I know full well one of the problems here -- some definitions are hard. I think this is worth splitting out into a new thread; independent of the discussion here one could ask if AI tools could make definitions and I think we have a couple of interesting candidates.</p>\n</blockquote>",
        "id": 572226311,
        "sender_full_name": "Justin Asher",
        "timestamp": 1770317615
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"780541\">Justin Asher</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/572156565\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113488-general/topic/sloplib/near/572027989\">said</a>:</p>\n<blockquote>\n<p>What's the easiest way to ask an AI to formalize the definition of a connected reductive group over a field?</p>\n</blockquote>\n<p>I tried this using a Claude Code setup I have on my computer, which utilizes the LeanExplore MCP tooling.</p>\n<p>I got the following file:</p>\n<p><a href=\"https://live.lean-lang.org/#codez=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\">Formalization of the definition of a reductive group over a field</a></p>\n<p>It seems like there is (natural) difficulty. How does this look? Any clear problems with the way Claude approached this? Would this be fixable via better prompting or self-improvement loops?</p>\n</blockquote>\n<p>Will repost this here.</p>",
        "id": 572226583,
        "sender_full_name": "Justin Asher",
        "timestamp": 1770317719
    },
    {
        "content": "<p>So here's a brain dump on reductive algebraic groups.</p>\n<p>The first two things to note are: (1) these things are not groups and (2) we should definitely have them in mathlib. What we really want is reductive group schemes and perhaps the definitive foundational work on this stuff is Conrad's notes <a href=\"https://math.stanford.edu/~conrad/papers/luminysga3.pdf\">https://math.stanford.edu/~conrad/papers/luminysga3.pdf</a> , but if you look at the definition (Definition 3.1.1, p81) of a reductive group over a base scheme you see that one of the conditions is that the geometric fibres are reductive groups over a (algebraically closed) field, so it's best to focus first on the definition of a reductive group over a field; we'll need it for schemes.</p>\n<p>The first design decision to make is whether to make the definition over an algebraically closed field or over a field. My instinct is to make the definition over a field, because in Langlands you want connected reductive groups over a global field (and these are not algebraically closed) and it seems a bit OTT to have to use schemes here. So I think that the first goal should be a definition of a reductive group over a field.</p>\n<p>However some global fields are not perfect (and have characteristic p&gt;0), so one has to be careful. For example the definition \"has a completely reducible representation with finite kernel\" doesn't work over imperfect fields (this is I think the definition of a pseudo-reductive group, which is more general and not what we want here I don't think). I asked Conrad and he said that he thought the best definition for a general field was the one in Borel's book \"Linear algebraic groups\" -- G is a smooth affine group scheme of finite type over k and the unipotent radical of G_{kbar} is trivial, where kbar is a random algebraic closure of k.</p>\n<p>This means that one has to define unipotent radicals for smooth affine group varieties over an algebraically closed field. The definition in Conrad's notes is</p>\n<p><a href=\"/user_uploads/3121/h_Trvdzj3NYlvvjLi-4-K_Ot/Screenshot-2026-02-05-at-19.52.19.png\">Screenshot 2026-02-05 at 19.52.19.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/h_Trvdzj3NYlvvjLi-4-K_Ot/Screenshot-2026-02-05-at-19.52.19.png\" title=\"Screenshot 2026-02-05 at 19.52.19.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1846x392\" src=\"/user_uploads/thumbnail/3121/h_Trvdzj3NYlvvjLi-4-K_Ot/Screenshot-2026-02-05-at-19.52.19.png/840x560.webp\"></a></div><p>(p10 of the linked pdf above) and this will need a notion of dimension. The definition of unipotent is Def 1.1.5 (p8) with explanation of g_s and g_u above that.</p>",
        "id": 572237923,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770321522
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"780541\">Justin Asher</span> <a href=\"#narrow/channel/113488-general/topic/AI.20Lean.20definitions/near/572226583\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>I got the following file:</p>\n<p><a href=\"https://live.lean-lang.org/#codez=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\">Formalization of the definition of a reductive group over a field</a></p>\n</blockquote>\n</blockquote>\n<p>This definition is no good because if I understood it correctly it's not correct in characteristic <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>, and we need a good definition in characteristic <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> for the Langlands conjectures.</p>",
        "id": 572269366,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770335348
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>, I just gave Claude a copy of Conrad's notes, and your post above, and prompted it with:</p>\n<blockquote>\n<p>I would like you to attempt to sketch a preliminary definition of reductive algebraic groups for Mathlib. It's okay if this is incomplete for now: this project will definitely require human review and assistance, but I want you to get as far as you can confidently.</p>\n<p>I've given you some notes in references/kevin.md, containing Kevin Buzzard's brain dump about how we should approach making these definitions.</p>\n<p>It's fine to take your time to read the relevant parts of the Conrad notes, or indeed to do online research, or to stop to ask me questions. Of course you should also explore Mathlib to see what is available, and what we have to build or stub out before we can even write down approximate definitions.</p>\n</blockquote>\n<p>The resulting (draft, experimental, never to be merged!) PR is at <a href=\"https://github.com/leanprover-community/mathlib4/pull/34897\">#34897</a>. </p>\n<p>Here's the full <a href=\"https://github.com/kim-em/mathlib4/blob/38f72e3f92c887ccfc6fec007b37c2ca61dac056/references/log1.md\">conversation log</a>, although it's pretty painful to read; I'm posting this so you know there are no tricks! :-) </p>\n<p>I would love to hear what you think of the result!</p>",
        "id": 572270940,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770336214
    },
    {
        "content": "<p>Actually, this version is pretty clearly wrong in some ways that even I can tell. :-) I don't want to spoil the experiment by actually trying to say anything myself, but I have just said to Claude \"Can you please get a second opinion on this PR?\" which it knows (via a <code>second_opinion/SKILL.md</code> file) means that it has to go ask Codex for a review.</p>\n<p>Codex came back with (as summarized by Claude!)</p>\n<blockquote>\n<ol>\n<li>\n<p>k-points definition is fundamentally wrong: GroupLike k A gives group-like elements (satisfying Δ(g) =  <br>\n  g⊗g), which form a commutative group for commutative Hopf algebras. This means G(k) would be abelian even  <br>\n  for GL_n. The correct k-points are A →ₐ[k] k (algebra homomorphisms) with convolution group structure.     </p>\n</li>\n<li>\n<p>IsUnipotent definition is vacuous: Since AffineAlgGroup assumes A is geometrically reduced (hence       <br>\n  reduced), any nilpotent element is zero. So (g - 1) nilpotent forces g = 1. This makes every group         <br>\n  reductive, defeating the entire purpose.                                                                   </p>\n</li>\n<li>\n<p>unipotentRadical is at wrong level: Should be a subgroup scheme (Hopf ideal/subalgebra), not a Subgroup <br>\n  of points. The current definition has no scheme-level content.                                             </p>\n</li>\n<li>\n<p>IsConnected is too strong: IsDomain is strictly stronger than connectedness and not stable under base   <br>\n  change. Should use \"no nontrivial idempotents\" instead.                                                    </p>\n</li>\n<li>\n<p>Base change instances may already exist: Mathlib/RingTheory/HopfAlgebra/TensorProduct.lean provides Hopf<br>\n   algebra structure on tensor products.    </p>\n</li>\n</ol>\n</blockquote>\n<p>and I told it \"Please make a plan for thoroughly addressing these criticisms.\" I'll update the PR with whatever that produces.</p>",
        "id": 572271568,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770336563
    },
    {
        "content": "<p>Okay, Claude has pushed a new version after it finished its conversation with Codex. I also had them write a <a href=\"https://github.com/kim-em/mathlib4/blob/9017aed9c5c15555443ee7987f7b7268e90865b2/Mathlib/Algebra/AlgebraicGroup/PLAN.md\">PLAN.md</a> for future work.</p>\n<p>The current state is in <a href=\"https://github.com/leanprover-community/mathlib4/pull/34897\">#34897</a>. </p>\n<p>Here's the updated <a href=\"https://github.com/kim-em/mathlib4/blob/9017aed9c5c15555443ee7987f7b7268e90865b2/references/log2.md\">conversation log</a> (just for verification that I contributed nothing interesting!)</p>",
        "id": 572274691,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770338714
    },
    {
        "content": "<p>Oh, it occurs to me that we could ask Claude to learn how to use <code>blueprint</code>, and convert PLAN.md into one.</p>",
        "id": 572274805,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770338791
    },
    {
        "content": "<p>Here is the updated Lean file using Kevin's feedback:</p>\n<p><a href=\"https://tinyurl.com/3uj7t42d\">Formalization of the definition of a reductive group over a field pt. 2</a></p>",
        "id": 572296303,
        "sender_full_name": "Justin Asher",
        "timestamp": 1770354952
    },
    {
        "content": "<p>Using Kevin's feedback means that there is now a human expert in the loop.<br>\nI think it is important in Kim's approach that they avoid this.</p>",
        "id": 572308438,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1770362668
    },
    {
        "content": "<p>(I'm offline for 48 hours, sorry I won't be able to respond on this thread until then.)</p>",
        "id": 572312201,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770364396
    },
    {
        "content": "<p>My expert comments on <a href=\"https://github.com/leanprover-community/mathlib4/pull/34897\">#34897</a> are that after ploughing through the 12000 lines PRed so far I found</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">ReductiveGroup</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">AffineAlgGroup</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"c1\">-- (nothing here at all)</span>\n\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">SemisimpleGroup</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">ReductiveGroup</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">radical_trivial</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span>\n</code></pre></div>\n<p>which doesn't bode well.</p>\n<p>My expert comments on <a href=\"https://tinyurl.com/3uj7t42d\">Formalization of the definition of a reductive group over a field pt. 2</a> is that when I click on the link nothing happens.</p>",
        "id": 572352352,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770377154
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113488-general/topic/AI.20Lean.20definitions/near/572352352\">said</a>:</p>\n<blockquote>\n<p>My expert comments on <a href=\"https://github.com/leanprover-community/mathlib4/pull/34897\">#34897</a> are that after ploughing through the 12000 lines PRed so far I found</p>\n</blockquote>\n<p>It's 750 lines?</p>",
        "id": 572353631,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770377559
    },
    {
        "content": "<p>Yeah, most of the PR is not Lean code :-)</p>",
        "id": 572353682,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770377578
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/AI.20Lean.20definitions/near/572308438\">said</a>:</p>\n<blockquote>\n<p>Using Kevin's feedback means that there is now a human expert in the loop.<br>\nI think it is important in Kim's approach that they avoid this.</p>\n</blockquote>\n<p>I had it develop the relevant Lean code according to the references and path that Kevin provided, similar to a blueprint.</p>\n<p>While having a human expert in the loop slows things down, it (hopefully) would still be noticeably faster than writing everything by hand.</p>",
        "id": 572366451,
        "sender_full_name": "Justin Asher",
        "timestamp": 1770381621
    },
    {
        "content": "<p>There are four separate modes here depending whether you want it one-shot or not and whether you are supplying tests or not. There is no way you are getting something useful without tests. With tests, then I’d still doubt a one shot but could be surprised. Really you need an extensive plan mode interview if you aren’t supplying some scaffolding. And Claude should come back to plan mode when things appear complicated. I would just hook codex up via mcp if you want to off load natural language math planning.</p>",
        "id": 572371313,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770383071
    },
    {
        "content": "<p>There is one domain expert that I can think of that might be more indefatigable than claude, making for a great interview subject</p>",
        "id": 572372484,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770383411
    },
    {
        "content": "<p>Here's a hack: instead of saying \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>G</mi><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">‾</mo></mover></msub></mrow><annotation encoding=\"application/x-tex\">G_{\\overline{k}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9961em;vertical-align:-0.3128em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.6872em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord overline mtight\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9394em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span><span style=\"top:-3.8414em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line mtight\" style=\"border-bottom-width:0.049em;\"></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3128em;\"><span></span></span></span></span></span></span></span></span></span> has trivial unipotent radical\" (which forces you to define the unipotent radical, which might be some work) it suffices to say \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>G</mi><mover accent=\"true\"><mi>k</mi><mo stretchy=\"true\">‾</mo></mover></msub></mrow><annotation encoding=\"application/x-tex\">G_{\\overline{k}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9961em;vertical-align:-0.3128em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.6872em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord overline mtight\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9394em;\"><span style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span><span style=\"top:-3.8414em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"overline-line mtight\" style=\"border-bottom-width:0.049em;\"></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3128em;\"><span></span></span></span></span></span></span></span></span></span> has no nontrivial smooth connected unpotent normal <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>-subgroup\" which is probably easier.</p>",
        "id": 572389303,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770387789
    },
    {
        "content": "<p>More to point: Kevin, what do you want it to prove to show it has the right implementation?</p>",
        "id": 572389732,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770387892
    },
    {
        "content": "<p>Classification over an algebraically closed field, i.e. connected reductive groups are the same thing as based root data.</p>",
        "id": 572389969,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770387953
    },
    {
        "content": "<p>What things on the way to that?</p>",
        "id": 572390098,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770387986
    },
    {
        "content": "<p>That certainly would be a lot of work?</p>",
        "id": 572390143,
        "sender_full_name": "Justin Asher",
        "timestamp": 1770387996
    },
    {
        "content": "<p>For a given natural language notion, what is the set of natural language API that convinces you \"this is the right thing\"? From those tools, you should feel confident you can build most else you need.</p>",
        "id": 572390825,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770388151
    },
    {
        "content": "<p>Right, so this experiment is really shedding light on the kind of questions that there are here.</p>\n<p>My answer to the question \"why formalise mathematics\" has changed hugely over time, and continues to evolve. In 2017 it was \"it's no more pointless than proving theorems in the Langlands program and I did that for 25 years; in fact my instinct is that it's probably a lot less pointless even though right now we're still proving Sylow's theorems\". In 2019 it was \"formalizing mathematics is digitising mathematics and thus has the potential to revolutionise the area just like Spotify revolutionised music (but I cannot give any specific and realistic examples of how it might really turn research mathematics on its head because we only just proved the fundamental theorem of Galois theory)\". By 2021 it was \"oh look Lean can check a proof which Scholze claimed would not fit into his head properly, even though it took us 6 months\" and by this point the mathematical community were beginning to think that the answers were actually becoming respectable. In 2026 part of my answer is \"maybe Lean can help humans (a) check old proofs and (b) find new proofs\", but if we actually want this to be happening in Langlands rather than in Erdos problems then we'd better define the main objects of study in Lean, which are automorphic representations for connected reductive groups over global fields. We are many thousands of lines of code away from this definition, and currently I am trying to think of ways of using (a) humans and (b) AI to get us there. Right now there seem to be serious problems with making either approach happen <em>quickly</em> and I am a very impatient person. We absolutely need a correct definition. Whether it should be powered by slop or by carefully-curated code is the question I raised in the sloplib thread, and this thread is experimenting with an AI approach. But I am still none the wiser about how we should be approaching this and even if I had a massive bag of money to throw at this question (which I don't) it is still not at all clear to me in which direction to throw it.</p>",
        "id": 572393974,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770388951
    },
    {
        "content": "<p>It's not an either-or. You need humans that know what they are doing and can use the AI tools productively. More manager and less direct developer. But the person has to quickly and deeply understand the goals and the outputs. Otherwise, you just lose too much time in the cycles to really make it productive.</p>",
        "id": 572395823,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770389411
    },
    {
        "content": "<p>So the person we are looking for is expert in (1) Langlands (2) Lean and (3) AI as well as (4) not already snapped up by a tech company. Should we be looking to create these people? I don't have time to train anyone right now, I am already juggling two big projects. What is a practical vision for accelerating mathlib here?</p>",
        "id": 572418940,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770395460
    },
    {
        "content": "<p>Hire one postdoc that knows the math and another that knows lean, give them lots of Claude code credits and let them have at it <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 572419705,
        "sender_full_name": "Chris Birkbeck",
        "timestamp": 1770395646
    },
    {
        "content": "<p>I don't have a better practical answer that. Picking up facility with the tools will take less time than the other two but it still takes some time. Getting everyone in one place physically to start with some people having experience with the tools and conversant in lean and math will lower the activation energy.</p>",
        "id": 572421580,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1770396157
    },
    {
        "content": "<p>How useful is <a href=\"https://github.com/kim-em/mathlib4/blob/9017aed9c5c15555443ee7987f7b7268e90865b2/Mathlib/Algebra/AlgebraicGroup/PLAN.md\">PLAN.md</a>?</p>\n<p>If it's really true that we don't have that the Hopf antipode is an anti-homomorphism, and that is on the critical path, we should be getting someone on that. :-)</p>\n<p>(I thought I proved this already, but perhaps only for Hopf algebra objects in an arbitrary category, not the concrete version. <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span>)</p>",
        "id": 572474981,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770418476
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>, this fact is proved in Toric. Upstreaming is currently blocked on <a href=\"https://github.com/leanprover-community/mathlib4/pull/32245\">#32245</a>. Maybe you can get someone to review that? <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 572508563,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1770451033
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/AI.20Lean.20definitions/near/572474981\">said</a>:</p>\n<blockquote>\n<p>How useful is <a href=\"https://github.com/kim-em/mathlib4/blob/9017aed9c5c15555443ee7987f7b7268e90865b2/Mathlib/Algebra/AlgebraicGroup/PLAN.md\">PLAN.md</a>?</p>\n</blockquote>\n<p>I've read the first paragraph</p>\n<blockquote>\n<p><strong>We work with affine group schemes that are:</strong></p>\n<ul>\n<li><strong>Affine</strong>: Represented by a commutative Hopf algebra A over a field k</li>\n<li><strong>Finite type</strong>: A is finitely generated as a k-algebra</li>\n<li><strong>Smooth</strong>: A is geometrically reduced (equivalently, A ⊗ k̄ is reduced)<br>\n</li>\n</ul>\n</blockquote>\n<p>and I don't think that's the definition of smooth: e.g. <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mo stretchy=\"false\">(</mo><mi>X</mi><mi>Y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{C}[X,Y]/(XY)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">C</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span></span></span></span> is reduced but the corresponding variety over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">C</span></span></span></span> is the union of the lines <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">X=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">Y=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> so is not reduced. Although perhaps for group schemes the notions are equivalent? But I would imagine that by now we have the definition of a smooth morphism of rings in mathlib, so probably we should stick to this?</p>\n<p>Missing infrastructure: my memory was that people were working on functor of points associated to a Hopf algebra. <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> is this true?</p>",
        "id": 572545867,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770480096
    },
    {
        "content": "<p>Yeah, we have this in Toric</p>",
        "id": 572551910,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1770484477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/AI.20Lean.20definitions/near/572474981\">said</a>:</p>\n<blockquote>\n<p>How useful is <a href=\"https://github.com/kim-em/mathlib4/blob/9017aed9c5c15555443ee7987f7b7268e90865b2/Mathlib/Algebra/AlgebraicGroup/PLAN.md\">PLAN.md</a>?</p>\n</blockquote>\n<p>I've had a proper look at it now, and it looks to me like a coherent plan. Parts of it (e.g. \"we could do this instead which is right in char 0\" or \"we could just do GL_n, SL_n, tori first\") I would just delete, because \"it kind of works but it's not the right generality\" is not something we want in mathlib.</p>",
        "id": 572627999,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1770563591
    }
]