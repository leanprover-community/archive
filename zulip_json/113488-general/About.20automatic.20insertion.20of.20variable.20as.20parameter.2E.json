[
    {
        "content": "<p>I often use the variable inside the section.  And if you define something after declaration of variable, the variables are automatically inserted as parameter for such definition.  </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">test_fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">A</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"n\">z</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"c1\">-- t has type {T : Type} → T → T → T → T × T × T</span>\n<span class=\"bp\">#</span><span class=\"n\">check_failure</span><span class=\"w\"> </span><span class=\"n\">test_fun</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">test_fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div>\n<p>I fully understand that it must work in this way if I use <code>t</code> outside the section <code>A</code>.  But why I always need to add additional parameter even in the same section? I want to use <code>t</code> as <code>(x,y,z)</code>. </p>\n<p>In the other proof assistant like Rocq, it is possible to use <code>t</code> as type <code>T</code> in the same section it's defined. The parameters are automatically filled as definition without any hint from the context.  I expect the similar behavior in Lean. </p>\n<p>Is there other method to make it work as what I expect? </p>\n<p>Here's the list of possible answer I find and the reason why it's not enough. </p>\n<ol>\n<li>Making the variable implicit =&gt; It doesn't allow me to use <code>t</code> as <code>(x,y,z)</code>.  It just make type of <code>t</code> as <code>{T : Type} → {x y z : T} → T × T × T</code>, which makes the situation worse. Parameters couldn't be infereed in the most of case.  </li>\n<li>Using Notation instead of definition =&gt; I think it's not a good idea in the sense of engineering. It make the code difficult to maintain or develop further.</li>\n</ol>",
        "id": 572197982,
        "sender_full_name": "Hyunwoo Lee",
        "timestamp": 1770309276
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"768428\">Hyunwoo Lee</span> <a href=\"#narrow/channel/113488-general/topic/About.20automatic.20insertion.20of.20variable.20as.20parameter.2E/near/572197982\">said</a>:</p>\n<blockquote>\n<ol>\n<li>I think it's not a good idea in the sense of engineering. It make the code difficult to maintain or develop further.</li>\n</ol>\n</blockquote>\n<p>Essentially, we have decided in Lean that providing something like Rocq's parameters would also fall under this category.</p>",
        "id": 572265860,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770333102
    },
    {
        "content": "<p>Would a top-level <code>let</code> (like <code>variable</code>) be a good idea for this sort of thing? It seems that this would fit with Lean’s approach to variable management (i.e. it fundamentally works by modifying the context, and, like <code>variable</code>, could be reverted in each actual definition to produce a self-contained type/term at the end of the day).</p>\n<p>(I’m not familiar with Rocq’s parameters, so I don’t know if this would be essentially the same thing or not.)</p>",
        "id": 572266290,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1770333364
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Is.20it.20possible.20to.20have.20genuine.20abbreviations.3F/with/536665584\">#new members &gt; Is it possible to have genuine abbreviations?</a></p>",
        "id": 572266739,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770333652
    }
]