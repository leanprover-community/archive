[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/113488-general/topic/Updating.20to.204.2E15.2E0/near/491911829\">said</a>:</p>\n<blockquote>\n<p>Actually, maybe this is really a question for <span class=\"user-mention silent\" data-user-id=\"699684\">Austin Letson</span> --- could we change the default for <code>lean-action</code> to fail if there are warning during the build?</p>\n</blockquote>\n<p>I moved this from the \"Updating to 4.15.0\" thread to avoid introducing extra noise.</p>\n<p>While this is definitely an option, it seems to me there are some downsides to making <code>lean-action</code> fail on warnings. The fact that <code>lean-action</code> is a thin wrapper around <code>lake build</code> and inherits the default configuration of <code>lake build</code> comes with some advantages:</p>\n<ul>\n<li>it is easier to replicate CI locally</li>\n<li>changes to Lake flow down to <code>lean-action</code> more seamlessly</li>\n</ul>\n<p>Furthermore, this change would have a backward compatibility impact in settings where warnings are acceptable.</p>\n<p>Alternatively, could we change the default configuration of <code>lean-action</code> included with a <code>lake new</code> to include <code>uses: build-args: \"--wfail\"</code> instead of changing the default behavior for <code>lean-action</code>?</p>",
        "id": 491975199,
        "sender_full_name": "Austin Letson",
        "timestamp": 1736090686
    },
    {
        "content": "<p>I think so too. Instead of changing the default behavior of lean action, the behavior of lake new should be modified.</p>\n<p>I think default arguments should be \"--log-level=warning --fail-level=warning\". The reason is that there are few cases where you would want to check info-level logs in CI.</p>",
        "id": 494393791,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1737130422
    }
]