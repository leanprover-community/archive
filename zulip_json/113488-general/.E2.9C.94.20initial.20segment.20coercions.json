[
    {
        "content": "<p>There are currently a lot of coercions in the initial segment API. There's a coercion from principal segments to initial segments, a coercion from initial segments to relation embeddings, and a coercion from principal segments to relation embeddings.</p>",
        "id": 289613848,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1657815459
    },
    {
        "content": "<p>These don't sit quite right with me - I don't think we use casts in this way elsewhere in mathlib. We don't even have more obvious coercions, like order isomorphisms to relation isomorphisms.</p>",
        "id": 289614046,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1657815545
    },
    {
        "content": "<p>And we don't tend to have compositions of coercions as coercions, do we?</p>",
        "id": 289614101,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1657815579
    },
    {
        "content": "<p>Should I refactor these out in favor of explicit functions?</p>",
        "id": 289614134,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1657815595
    },
    {
        "content": "<p>I think we're moving in the direction of having more coercions between morphism types, so my default stance is to oppose this change.</p>",
        "id": 289614714,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1657815859
    },
    {
        "content": "<p>Actually, I was wrong - we do use casts in this way elsewhere: <a href=\"https://leanprover-community.github.io/mathlib_docs/find/rel_iso.rel_embedding.has_coe\">docs#rel_iso.rel_embedding.has_coe</a></p>",
        "id": 289614797,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1657815906
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/113488-general/topic/initial.20segment.20coercions/near/289614101\">said</a>:</p>\n<blockquote>\n<p>And we don't tend to have compositions of coercions as coercions, do we?</p>\n</blockquote>\n<p>Unless I misunderstand the question, <a href=\"https://leanprover-community.github.io/mathlib_docs/find/coe_trans\">docs#coe_trans</a> has been in core Lean for a long time...</p>",
        "id": 289614820,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1657815920
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/stream/113488-general/topic/initial.20segment.20coercions/near/289614714\">said</a>:</p>\n<blockquote>\n<p>I think we're moving in the direction of having more coercions between morphism types, so my default stance is to oppose this change.</p>\n</blockquote>\n<p>For example, going to ring homs is now intended to be done with <a href=\"https://leanprover-community.github.io/mathlib_docs/find/ring_hom.has_coe_t\">docs#ring_hom.has_coe_t</a> rather than an explicit function like <a href=\"https://leanprover-community.github.io/mathlib_docs/find/alg_hom.to_ring_hom\">docs#alg_hom.to_ring_hom</a></p>",
        "id": 289614975,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1657816000
    },
    {
        "content": "<p>Oh, I see. I wasn't aware of these design choices. The coercions aren't a problem, then.</p>",
        "id": 289615194,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1657816102
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> has marked this topic as resolved.</p>",
        "id": 289615197,
        "sender_full_name": "Notification Bot",
        "timestamp": 1657816105
    }
]