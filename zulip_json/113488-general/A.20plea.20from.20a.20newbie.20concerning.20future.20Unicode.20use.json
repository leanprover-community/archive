[
    {
        "content": "<p>Background: <a href=\"https://lean-lang.org/lean4/doc/lean3changes.html#sugar-for-simple-functions\">This page</a> explains how to use <code>·</code> to create prefix functions from operators, e.g. <code>(· + ·)</code>.  </p>\n<p>Though I see Unicode use in Lean as very valuable to make mathematical proofs easier to read, defining general-purpose operations like this one using Unicode characters that are easily mistaken for other characters seems error-prone and liable to create frustration.  Why not use ASCII for general functionality?  Or at least Unicode that's not visually ambiguous?  I'm not asking for changes now, obviously, but proposing a shift in policy for future versions.</p>\n<p>(In the case of <code>(· + ·)</code>, I saw the examples, and thought, \"Oh, let me try typing LaTeX's \"\\cdot\" (in nvim).  That worked! Except that it didn't because that's not the right character, and using <code>\\cdot</code> produce errors, of course.  So what is the character?  That documentation page doesn't tell me.  So I have to identify the character as u00b7, but now I still don't now an easy way to type it.  This seems like an unnecessary waste of time.  It's the kind of thing that can turn off people who might find Lean valuable.)</p>",
        "id": 468608845,
        "sender_full_name": "mars0i",
        "timestamp": 1725819197
    },
    {
        "content": "<p>if you hover the symbol in vscode it will say how you can type it</p>",
        "id": 468608986,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1725819285
    },
    {
        "content": "<p><a href=\"#narrow/stream/113489-new-members/topic/Unicode.20abbreviations.20in.20vim.2Fnvim/near/468607392\">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/Unicode.20abbreviations.20in.20vim.2Fnvim/near/468607392</a> there's no need to double post, people do see your message in new members as well^^</p>",
        "id": 468609029,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1725819320
    },
    {
        "content": "<p>fwiw, i believe you can just use <code>.</code> too...</p>",
        "id": 468609085,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725819343
    },
    {
        "content": "<p>all I can say regarding your plea is that that ship has sailed, lean no longer has ascii equivalents for many things</p>",
        "id": 468609199,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1725819404
    },
    {
        "content": "<p>i'd like to note that out of all characters, this replacement (<code>.</code> vs <code>·</code>) is likely the most useless imo</p>",
        "id": 468609262,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725819463
    },
    {
        "content": "<p>In nvim the default keybinding to show how to type a character is <code>&lt;Leader&gt;\\\\</code>. This is what you are meant to use every time you see a unicode character in Lean that you don’t know how to type. In case you see on a web-page, you can use copy-pasting first. This is not perfect but a comprise that allowed hundred of new users to benefit from the readability gain coming from unicode.</p>",
        "id": 468619680,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1725825330
    },
    {
        "content": "<p>I think the solution here is to add a unicode tool tip to the doc website with a very visible option to enable it. In verso based blogs you already have tooltips for most things that vscode has them for</p>",
        "id": 468622439,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725826699
    },
    {
        "content": "<p>Thanks for the help on the other question, <span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span>.   I didn't double-post, though.  I wanted help with my immediate issue, which you helpfully provided in the other thread.  I also wanted to suggest something for future development.  I didn't want to mix them up in one thread, and I thought that the suggestion made more sense here.   I should have waited a day to post the suggestion here, though, to avoid people viewing it as a request for help.  I could have said in a post a day later that my immediate problem had been solved, and that this was a followup.</p>\n<p>However, thanks very much <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> for the additional help on how to view the keys to generate a character.  Your suggestion and <span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span>'s in the other thread are exactly what I needed for that question.</p>\n<p>And thank you <span class=\"user-mention\" data-user-id=\"684366\">@Edward van de Meent</span>!  That's also what I wanted: a way to accomplish sectioning without Unicode.</p>",
        "id": 468629772,
        "sender_full_name": "mars0i",
        "timestamp": 1725830342
    },
    {
        "content": "<p>Coming back to the specific content of my post here:</p>\n<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span>, OK.  I think it would be absurd to try to create ASCII equivalents for every mathematical symbol that's used in proofs.  I wonder though whether there could be a long-run goal of having ASCII equivalents for functions that have general application outside of the general goal of mathematical proofs.  Lean already has a lot of that.  </p>\n<p>And maybe thought could be given to whether the benefits of using a particular symbol outweigh confusion with other symbols in relevant contexts?  (One of course should choose a good font for Lean--that's fine.  Probably no font is perfect, though.)</p>\n<p>I'm not suggesting undoing previous decisions, only considering costs and benefits and ways to mitigate downsides of certain symbols.   The FRO and community doesn't have to do that, and maybe it's an option that's already been rejected.</p>\n<p>I love <span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span>'s suggestion.   It's a nice way to organize information about special characters.  Maybe a lot of work to implement, though?  The tool tips could include ASCII equivalents or links to information about them where that's appropriate.  (Links because e.g. with Sigma pairs, we have ASCII <code>Sigma</code> and <code>Sigma.mk</code>, but they're not syntactically equivalent to Unicode names for the same constructions.)</p>",
        "id": 468633230,
        "sender_full_name": "mars0i",
        "timestamp": 1725831679
    },
    {
        "content": "<p>Maybe it would help to explain that my current goal is not proofs.  I'm writing biological simulations.  There will be some proofs included, I expect, but if I can avoid Unicode (and if the non-unicode symbols have documentation that's easy to find), then I think that people outside of the Lean community will have an easier time seeing what my code is doing.</p>",
        "id": 468633467,
        "sender_full_name": "mars0i",
        "timestamp": 1725831889
    },
    {
        "content": "<p>I think what you might be asking for is \"documentation for notation\" (or more generally, for <code>syntax</code>), which exists in hovers in vscode already, but is not shown in the webpage produced by doc-gen.</p>",
        "id": 468633912,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725832302
    },
    {
        "content": "<p>I would be surprised if this is not already on <span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span>'s radar, but I would also not be surprised if it is low priority</p>",
        "id": 468633982,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725832355
    },
    {
        "content": "<p>If someone wants to implement a nice doc-gen display for <code>ParserDescr</code> feel free to go ahead, I'd review it^^</p>",
        "id": 468634027,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1725832411
    },
    {
        "content": "<p>Here the lean manual was quoted and I am surprised it isn't verso-fied</p>",
        "id": 468634443,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725832789
    },
    {
        "content": "<p>There is work underway to provide verso based documentation.</p>",
        "id": 468634577,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1725832830
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468633912\">said</a>:</p>\n<blockquote>\n<p>I think what you might be asking for is \"documentation for notation\" (or more generally, for <code>syntax</code>), which exists in hovers in vscode already, but is not shown in the webpage produced by doc-gen.</p>\n</blockquote>\n<p>Yes, documentation for notation on the websites would be wonderful, and now I know how to get the information from nvim. But my suggestions went further.</p>\n<p>(Amazing IDE interface in nvim compared to other languages I've used.  The Lean VSCode IDE must be at least as good.)</p>",
        "id": 468637092,
        "sender_full_name": "mars0i",
        "timestamp": 1725834915
    },
    {
        "content": "<p>I think as Mario suggests that the use of unicode is something too deeply embedded to change such things now.</p>",
        "id": 468637247,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725835075
    },
    {
        "content": "<p>We can document it. We can provide tooltips in the editor and docpages. There is the symbol list tabled in the vscode extension's doc viewer and so on. But changing the way unicode symbols are used is much much harder</p>",
        "id": 468637461,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725835265
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span>.  If you mean that existing symbols won't be changed, I understand.  I wouldn't expect that.  Even if I wouldn't have chosen <code>·</code> for any common purpose because of its similarity to <code>⬝ </code>, I certainly recognize that it would be a mistake to change that now.</p>\n<p>So maybe, apart from documentation, my suggestions boil down to:</p>\n<ol>\n<li>Consider providing ASCII equivalents for common programming functionality.</li>\n<li>Don't arbitrarily use Unicode where a reasonable ASCII alternative is available.</li>\n<li>For new operations, maybe it would be good to think about things like visual ambiguity.</li>\n</ol>\n<p>It may be, though, that you and <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> are saying that the culture surrounding Lean means that these are not things that anyone will take up. If so, thanks for explaining.  That's helpful.</p>\n<p>My sense is that Lean is already much better at least on 1 and 2 than Agda, so I thought that these might be already part of the culture, and I was just putting in my two cents for more of that.  (When I first wrote, I didn't realize that <code>.</code> was an alternative to <code>· </code>.)</p>\n<p>(For illustration of what I mean by 2, in Agda, it's possible to get the first element of a sigma pair using <code>fst</code>--I think this is the Haskell source name--but you need an additional import.  The normal function for this purpose is <code>proj₁</code>.  But <code>fst</code> is a perfectly good name for this, and if one wants a name that means \"projection\", why not <code>proj1</code>?  Why make people type three characters \"\\_1\" where one would be perfectly good?  That's my feeling, anyway.)</p>",
        "id": 468647849,
        "sender_full_name": "mars0i",
        "timestamp": 1725843740
    },
    {
        "content": "<blockquote>\n<p>Why not use ASCII for general functionality?</p>\n</blockquote>\n<p>Just as a fun fact, out of the ten most spoken languages, the only one that can be entirely written using ASCII is English itself!</p>",
        "id": 468651028,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725846131
    },
    {
        "content": "<p>I think that we, in the year 2024, should be embracing Unicode fully.</p>",
        "id": 468651067,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725846172
    },
    {
        "content": "<p>Especially when there's built-in support to type these characters on any keyboard</p>",
        "id": 468651095,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725846199
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span> for pointing that out.  I have sympathy for that view in lots of contexts.  I think that if some parts of Unicode became widely used in programming, that would be OK.  So I kind of agree with you, but obviously I disagree about something.  If anyone's interested, here is my reasoning.</p>\n<p>I think that at this point, a computer language that uses a lot of Unicode for regular programming tasks is going to seem unfriendly to many programmers--even those who routinely use non-ASCII characters to type in a natural language.  Maybe I'm wrong about that last comment--I don't know.  At the very least, for a language with Unicode, every user has to learn new key combinations for new characters--unless they already write in a natural language with the same characters.  Even someone whose native language isn't based on a variant of the Latin alphabet will probably have learned to program using an ASCII-based programming language, and much of the Unicode in Lean will be different from the characters in their language.  In the long run, maybe a new physical or electronic interface will replace our keyboards, and we won't have to worry about learning new multi-keystroke combinations.</p>\n<p>I want to emphasize though that I think  using Unicode for the math parts of Lean makes it more friendly to people who are used to reading math.  I fully support using Unicode in Lean for mathematical expressions.  I think it's great.  The cost of learning to type new Unicode characters is outweighed by the value of being able to read math easily.  (Maybe it would be ideal if every Unicode math character could be entered using a standard LaTeX expression, though.  I mentioned above that I originally tried typing LaTeX<code>\\cdot</code> for <code>·</code>, but that made the wrong character.)</p>\n<p>One thing that I feel that doesn't depend on whether and in what ways we should embrace Unicode, is that I don't like making source code depend on characters that look similar--even with carefully chosen fonts--but that are different characters.  To me this feels like that is a place where bugs can arise.  There is a parallel in the printed math world. No mathematical text would make the meaning of an expression depend on whether it used <code>·</code> vs. <code>⬝</code>, or <code>○︎</code> vs. <code>⚬︎</code>, unless the font the document was printed with made those characters clearly distinguishable.</p>",
        "id": 468657100,
        "sender_full_name": "mars0i",
        "timestamp": 1725850251
    },
    {
        "content": "<p>I think it would be helpful to ground this discussion in actual examples of confusing unicode <span class=\"user-mention\" data-user-id=\"617444\">@mars0i</span>. I don't believe there are any cases in Lean itself of different similar-looking Unicode codepoints having surprisingly different meanings. The only <code>·</code> is <code>·</code> itself.</p>\n<p>Mathlib does use some similar-looking unicode in some circumstances, but I don't believe there is example where there is a subtle difference between the meanings. Swapping one for the other likely won't work, or will clearly lead to errors soon enough. An egregious one is <code>Π</code> (for pi types) vs <code>∏</code> (for computing products), but it's hard to imagine this leading to any harm (in fact, <code>(∏ i : ι, card (α i)) = card (Π i : ι, α i)</code>, so it's relatively harmless).</p>",
        "id": 468658362,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725851057
    },
    {
        "content": "<p>In my opinion, the much bigger thing to worry about, true no matter what restrictions you make on allowable subsets of codepoints, is that parsing of syntax can be different from what you expect. You can't solve this by sticking with ASCII. I can't remember an example in mathlib of confusing Unicode codepoints needing to be fixed, but I can think of theorems needing to be fixed because of unexpected parses.</p>",
        "id": 468658365,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725851057
    },
    {
        "content": "<p>(This is from the perspective of math — I know earlier you were talking about programming. Again, I'd suggest grounding the discussion in concrete examples rather than generalities.)</p>",
        "id": 468658813,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725851333
    },
    {
        "content": "<p>There's also <code>∑</code> and <code>Σ</code>. I agree that it isn't that harmful once you're used to it, but it can be confusing when you first learn it</p>",
        "id": 468659019,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1725851453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span>, you're right, I don't have examples of bugs that would arise in Lean.  So that's good to know.  </p>\n<p>I do think that when you're first learning a language, errors can be mysterious, and you might not understand that you've used the wrong character.  That happened to me with Agda when I didn't understand that its absolute value bar <code>∣</code> was not the ASCII bar <code>|</code>, which Agda uses for a different purpose.  I didn't know why I was getting a huge mysterious error message, and nothing would compile.  This is kind of a bug, but it's a bug in the learning process or in reading someone else's source code.</p>",
        "id": 468659205,
        "sender_full_name": "mars0i",
        "timestamp": 1725851558
    },
    {
        "content": "<p>(I asked a question here but later decided it was irrelevant--I figured out the answer.  I don't see how to delete the post though.)</p>",
        "id": 468659385,
        "sender_full_name": "mars0i",
        "timestamp": 1725851689
    },
    {
        "content": "<p>I'm grounding this in general principles and intuitions based on a lot of experience with other (ASCII) languages.  But I accept your point: I don't have any examples of bugs in code due to similarity of characters.  That this is so may be the result of thoughtful design by Lean's language and library designers and maintainers, or maybe it's just not the sort of thing that would be an issue no matter what.  But character similarity still seems a hurdle for new users and readers of code, I feel.  I am often a new user of a language, so maybe this kind of thing matters to me more than others.  I think a lot about code maintainability, too, in part because of commercial work I used to do, and in part because when I come back to my own code, sometimes I don't understand what I wrote. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>  So I think about things that might make code confusing.</p>",
        "id": 468659915,
        "sender_full_name": "mars0i",
        "timestamp": 1725851862
    },
    {
        "content": "<p>I'm not going to change Lean as it is now, and I'm not trying to.  So that's not what this is about.  I'm not attacking Lean. I'm frustrated about some things because I like it.</p>",
        "id": 468660201,
        "sender_full_name": "mars0i",
        "timestamp": 1725851927
    },
    {
        "content": "<p>As a datapoint: A very frequent confusion for Chinese beginners in any programming language (purely ASCII ones!) is the confusion of parentheses () for the non-ascii ones （）. So the best you can do is to only use one of them and stick with it, and it will not completely resolve the confusion even if it is ascii.</p>",
        "id": 468665003,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1725854123
    },
    {
        "content": "<p>While I am all for unicode, it took me a long time to realize that <code>\\dot</code> should be used in certain places (like focus) and not <code>\\cdot</code>. My suggestion is that when hovering on a <code>\\cdot</code> the message should include a warning that the user may have meant to use <code>\\dot</code>.</p>\n<p>I have similar issues with the double french brackets. I have to remember where they are used, search for this and hover to figure out how to type them. Again, I would suggest this information is given on hovering on, for example the single french bracket. Alternatively, there can be some way to see the important unicode symbols in VS codes in a group easily (operators, dots, brackets).</p>\n<p>This is refining <span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span>'s suggestion.</p>",
        "id": 468668871,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1725855484
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"617444\">mars0i</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468659385\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> do you mean that because the user puts in the wrong character, and entire expression is parsed differently because the syntaxes of the two characters are different?</p>\n</blockquote>\n<p>No, not individual character changes. In my experience, it's usually issues with precedence not being what you expect it to be. In my <code>∏</code> example above, I added some parentheses reflexively because of this — I'm <em>pretty</em> sure it's been fixed since a year or two ago, but at some point the <code>=</code> would have been \"under\" the product. (I see you deleted the question while I wrote this, but you might think this is interesting anyway.)</p>\n<blockquote>\n<p>I'm grounding this in general principles and intuitions based on a lot of experience with other (ASCII) languages</p>\n</blockquote>\n<p>The FRO is interested in feedback, but it's receptive to \"here is a concrete example that causes concrete problems\". I don't want to speak on behalf of the FRO here (disclosure: I work for it part time), but I'd say it's a long-standing principle that Lean embraces Unicode. Notice, though, that it uses it in a much lighter way than a language like Agda. I do understand that not knowing how to type certain characters is an impediment to learning, but I do think that overall Lean's use of non-ASCII is net positive.</p>\n<p>I'd also like to mention that ASCII does not mean \"typeable\". Many \"ASCII\" languages are designed on a US keyboard, so use only characters that are available on that keyboard. Our French and German colleagues need to learn how to type <code>~</code> for example. I suppose as a trade, the escape character for names in Lean are guillemets (<code>«foo»</code>).</p>\n<blockquote>\n<p>That happened to me with Agda when I didn't understand that its absolute value bar <code>∣</code> was not the ASCII bar <code>|</code></p>\n</blockquote>\n<p>Mathlib uses plain vertical bar for absolute value, but it comes with its own challenges, since it requires it to be <code>|x|</code> with no whitespace to be unambiguous. It uses a different character for divisibility <code>a ∣ b</code>, since <code>|</code> can't reliably work here. It's not all sunshine, but you get used to it. The parse errors from mistakes in using <code>|</code> for divisibility are much worse.</p>",
        "id": 468669578,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725855822
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"266304\">@Siddhartha Gadgil</span> A Mathematica-style character palette for VS Code would be interesting. Bonus if it could be dynamic based on imported syntax. A difficulty I face is when there's a concept I know, but the only way to figure out what to type is to find a relevant bit of Mathlib that uses the symbol and then hover over it to find the way to type it.</p>",
        "id": 468669681,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725855859
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468669681\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"266304\">Siddhartha Gadgil</span> A Mathematica-style character palette for VS Code would be interesting. Bonus if it could be dynamic based on imported syntax. A difficulty I face is when there's a concept I know, but the only way to figure out what to type is to find a relevant bit of Mathlib that uses the symbol and then hover over it to find the way to type it.</p>\n</blockquote>\n<p>Exactly. For me (and I suppose beginers) it begins with even notation for focus (the <code>\\dot</code>) and escaping (the double french bracket).</p>",
        "id": 468670424,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1725856159
    },
    {
        "content": "<p>Maybe this can be shown (optionally) in the infoview with a widget.</p>",
        "id": 468670758,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1725856222
    },
    {
        "content": "<p>(<code>\\.</code> works for the focus dot by the way. Something I only learned recently, even though it's right in the hover, is that <code>\\f&lt;&lt;&gt;&gt;</code> gives you the closing one at the same time.)</p>",
        "id": 468671208,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725856362
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468671208\">said</a>:</p>\n<blockquote>\n<p>(<code>\\.</code> works for the focus dot by the way. Something I only learned recently, even though it's right in the hover, is that <code>\\f&lt;&lt;&gt;&gt;</code> gives you the closing one at the same time.)</p>\n</blockquote>\n<p>I believe this trick works for most (if not all) bracket styles...</p>",
        "id": 468682056,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725860467
    },
    {
        "content": "<p>i.e. things like <code>\\[]</code> and <code>\\&lt;&gt;</code> give both left and right versions</p>",
        "id": 468682281,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725860553
    },
    {
        "content": "<p>Appreciating all of the comments.  <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span> thanks for all of the details, especially the comparison with Agda.  That accords with my experience, but I wasn't sure given my lack of experience with Lean.  (Not that I have a lot of experience with Agda.)</p>",
        "id": 468684573,
        "sender_full_name": "mars0i",
        "timestamp": 1725861430
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468671208\">said</a>:</p>\n<blockquote>\n<p>Something I only learned recently, even though it's right in the hover</p>\n</blockquote>\n<p>It has only been in the hover for a couple of months :-)</p>",
        "id": 468699122,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1725865850
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468634443\">said</a>:</p>\n<blockquote>\n<p>Here the lean manual was quoted and I am surprised it isn't verso-fied</p>\n</blockquote>\n<p>I'm in the process of writing a new manual in Verso - stay tuned!</p>",
        "id": 468704176,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1725867251
    },
    {
        "content": "<p>I wonder whether <a href=\"#narrow/stream/113489-new-members/topic/Unicode.20abbreviations.20in.20vim.2Fnvim/near/468803618\">these remarks</a> in another thread that I started at the same time might provide a case in which confusion between similar characters is possible. I don't know, and I'm not  trying to argue that there is such a case.</p>\n<p>(I tried to keep the topics of the two threads separate, but helpful remarks in both turn out to relevant to each, it seems.)</p>",
        "id": 468876560,
        "sender_full_name": "mars0i",
        "timestamp": 1725905082
    },
    {
        "content": "<p>It seems as if there are a number of characters used in Lean that are similar.  Maybe in practice it's easy to detect mistakes using them, and maybe in practice people reading code won't usually be confused.  I accept that Lean is going to use all of these characters, in any event.  I wonder whether the following might be useful for Lean, or for Unicode use in general in some other contexts.</p>\n<p>In many fonts, zero is clearly distinguished from capital O, and some fonts clearly distinguish a small L from the numeral 1 (not very many!).  Some pieces of software go further and render numbers and letters in different colors.  This is very helpful in password managers.</p>\n<p>I wonder whether it might be useful to displaying similar Unicode characters in different colors.  This might be  a pain to implement, and it would interfere with other syntax coloring.  Or maybe display similar characters in bold vs. normal, or italic vs. regular?  I don't know. Just something that occurred to me.  No idea whether it would be worth the trouble.</p>",
        "id": 468881984,
        "sender_full_name": "mars0i",
        "timestamp": 1725906739
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/468659019\">said</a>:</p>\n<blockquote>\n<p>There's also <code>∑</code> and <code>Σ</code>. I agree that it isn't that harmful once you're used to it, but it can be confusing when you first learn it</p>\n</blockquote>\n<p>Similarly <code>∣</code> and <code>|</code> are also confusing to beginners</p>",
        "id": 469029451,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1725957716
    },
    {
        "content": "<p>The reason people aren't easily confused is that the wrong operator denotes the wrong construct which usually results in a warning or error. In the worst case, one control clicks the operator and is taken to the definition of that notation. </p>\n<p>That being said, I wish there was a bit of bi-directional documentation. Hovering over a piece of notation should tell you what function is being called and there ought to be a \"did you mean?\" Tooltip on infoview message where one can find similar lookimg alternatives. Then clicking on them or applying a quick fix. </p>\n<p>Finally, I find the suggestion to have ASCII alternatives for many or all unicode characters to be a dead end due to the effort involved and the fact that the symbol space of useful symbols quickly gets unusable without priority manipulation</p>",
        "id": 469036264,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725959456
    },
    {
        "content": "<p>On a tangential note,  sometimes it's also worth to revisit similar characters and see if they are still needed (for technical reasons) or if one could use the same unicode character.</p>\n<p>For example in <a href=\"https://github.com/leanprover-community/mathlib4/pull/6475\">#6475</a> I've once experimented with using only one of the two dots <code>∙</code> and <code>•</code> (<code>Submodule.span</code> and scalar multiplication). I've never really polished it, but the test looked like it could work in practice. Some of these almost identical characters might come from past Lean parsing problems which there may or may not be a valid workaround.</p>",
        "id": 469037562,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725959780
    },
    {
        "content": "<p>Perhaps worth noting that this just trades one problem for another. Having every unicode character be visually unambiguous isn't terribly helpful if the underlying notation is resolved more ambiguously to make up for it.</p>",
        "id": 469041897,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725960785
    },
    {
        "content": "<p>That is: the thing you really care about when reading lean is not \"what unicode character is this\" but \"what does this notation mean\"</p>",
        "id": 469041990,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725960818
    },
    {
        "content": "<p>I propose the following : an attribute for notation/notation3/syntax that links it to a definition. Then when docstrings are compiled, the notation as well as the definition gets a docstring that corresponds to the def + a note about that notation and how to type and what other similar symbols are like. Ofc this docstring shouldn't override any syntax or notation's existing docstring. This way tactic docstrings remain intact.</p>\n<p>This way the tool tip for notation and the docstrings are integrated where possible</p>",
        "id": 469057212,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725965444
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span> is this roughly doing what you would want?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"sd\">/-- Docstring of `something`. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">something</span>\n<span class=\"c1\">-- hover text:</span>\n<span class=\"c1\">--   Docstring of something.</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">inherit_doc</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"kd\">]</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">myNotation</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"s2\">\"⬝⬝\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"n\">extend_docs</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"w\"> </span><span class=\"n\">after</span><span class=\"w\"> </span><span class=\"s2\">\"`n ⬝⬝` is a notation for this.\"</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">something</span>\n<span class=\"c1\">-- hover text:</span>\n<span class=\"c1\">--   Docstring of something.</span>\n<span class=\"c1\">--   n ⬝⬝ is a notation for this.</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"bp\">⬝⬝</span>\n<span class=\"c1\">-- hover text:</span>\n<span class=\"c1\">--   Docstring of something.</span>\n<span class=\"c1\">--   Type ⬝ using \\tr or \\dot or \\con or \\cdot</span>\n</code></pre></div>",
        "id": 469083676,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725973119
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469083676\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> is this roughly doing what you would want?</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"sd\">/-- Docstring of `something`. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">something</span>\n<span class=\"c1\">-- hover text:</span>\n<span class=\"c1\">--   Docstring of something.</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">inherit_doc</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"kd\">]</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">myNotation</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"s2\">\"⬝⬝\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"n\">extend_docs</span><span class=\"w\"> </span><span class=\"n\">something</span><span class=\"w\"> </span><span class=\"n\">after</span><span class=\"w\"> </span><span class=\"s2\">\"`n ⬝⬝` is a notation for this.\"</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">something</span>\n<span class=\"c1\">-- hover text:</span>\n<span class=\"c1\">--   Docstring of something.</span>\n<span class=\"c1\">--   n ⬝⬝ is a notation for this.</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"bp\">⬝⬝</span>\n<span class=\"c1\">-- hover text:</span>\n<span class=\"c1\">--   Docstring of something.</span>\n<span class=\"c1\">--   Type ⬝ using \\tr or \\dot or \\con or \\cdot</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Close enough. I would just add a couple of other things. The ascii shortcut for the unicode notation. Having two different tooltips is confusing and trying to trigger one over the other requires some acrobatics.</p>",
        "id": 469084351,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973254
    },
    {
        "content": "<p>and a link to similar notation</p>",
        "id": 469084435,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973276
    },
    {
        "content": "<p>I think including the shortcut in the docstring is a mistake, because then it can be wrong.</p>",
        "id": 469084513,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725973296
    },
    {
        "content": "<p>Actually maybe the second one is too much to ask since someone has to compile all these similar notations</p>",
        "id": 469084569,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973305
    },
    {
        "content": "<p>So just the first one</p>",
        "id": 469084592,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973311
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469084435\">said</a>:</p>\n<blockquote>\n<p>and a link to similar notation</p>\n</blockquote>\n<p>but that certainly has to be written (and kept updated) manually, right?</p>",
        "id": 469084899,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725973374
    },
    {
        "content": "<p>Yeah, let's scratch that similar notation part for now. That's more complex.</p>",
        "id": 469085016,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973400
    },
    {
        "content": "<p>Ideally if there is a warning or error on notation, a \"did you mean the following: &lt;list&gt; &lt;item&gt; &lt;notation&gt; - definition&lt;/item&gt; &lt;item&gt;.....&lt;/list&gt; would be better</p>",
        "id": 469085319,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973470
    },
    {
        "content": "<p>But that can be separate from this inherit docs thing</p>",
        "id": 469085346,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973478
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469084513\">said</a>:</p>\n<blockquote>\n<p>I think including the shortcut in the docstring is a mistake, because then it can be wrong.</p>\n</blockquote>\n<p>I'm not sure to which message this is an answer to, so just to be explicit: The \"Type ⬝ using \\tr or \\dot or \\con or \\cdot\" above is the auto-generated text the Lean extension creates when hovering over a unicode character. And it's indeed a bad idea to write this manually anywhere, and probably there is also no need to.</p>",
        "id": 469085968,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725973623
    },
    {
        "content": "<p>I am just suggesting to automatically fuse it with the notation's docstring which is made identical to the docstring of the declaration</p>",
        "id": 469086886,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973808
    },
    {
        "content": "<p>so if someone hovers the mouse over notation, they get both things: the docstring and the ascii shortcut text.</p>",
        "id": 469087277,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725973906
    },
    {
        "content": "<p>The reason I am suggesting this is that currently the simplest way to trace back what a notation denotes is to ctrl + click it and then hover the mouse over the declaration to get its docstring. Two steps where one ought to suffice.</p>",
        "id": 469162170,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725989205
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469036264\">said</a>:</p>\n<blockquote>\n<p>The reason people aren't easily confused is that the wrong operator denotes the wrong construct which usually results in a warning or error. In the worst case, one control clicks the operator and is taken to the definition of that notation. </p>\n</blockquote>\n<p>This is a cute argument but unfortunately it's empirically not true in practice - this example is the notational problem I've seen confuse beginners more than any other!</p>",
        "id": 469177895,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1725992849
    },
    {
        "content": "<p>I complained about this exact thing in early late 2022 or early 2023, and I was told that lean is not meant to be used with a text editor without extensive support like the extension. I have learnt since then that this is true.</p>",
        "id": 469178389,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725993007
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469084899\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469084435\">said</a>:</p>\n<blockquote>\n<p>and a link to similar notation</p>\n</blockquote>\n<p>but that certainly has to be written (and kept updated) manually, right?</p>\n</blockquote>\n<p>What about a crowdsourced list of similar characters on github or somewhere else public, that could be pulled from.  I don't know enough about docstring, etc. generation to know whether that makes sense.</p>",
        "id": 469191991,
        "sender_full_name": "mars0i",
        "timestamp": 1725996441
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/469178389\">said</a>:</p>\n<blockquote>\n<p>I complained about this exact thing in early late 2022 or early 2023, and I was told that lean is not meant to be used with a text editor without extensive support like the extension. I have learnt since then that this is true.</p>\n</blockquote>\n<p>I am learning that this is the right way to use Lean, and I accept it, and am not trying to change it.  (I have learned from this thread.)  But ... note that this sounds like: notation in source code is sometimes is not sufficiently clear to be read on its own, so one ought to read it with the help of software that adds additional notation on demand.  That's not so different from the request that source code (in any language) include comments, though maybe there's an additional hurdle in the case of Lean notation.  I assume the tradeoff is well worth it.  (I'm thinking here about reading and understanding source code rather than writing it.  Writing is different because then you're already interacting with Lean--one of the great things about it--and you're likely to get feedback if you do the wrong thing.)</p>",
        "id": 469194285,
        "sender_full_name": "mars0i",
        "timestamp": 1725997223
    },
    {
        "content": "<p>It's much more challenging to try to learn Lean from a book due to the use of unicode, because there's not really a way to \"reverse lookup\" a unicode symbol. In fact, many unicode symbols shown in PDF are composed of multiple glyphs, and won't even copy correctly.</p>",
        "id": 486537286,
        "sender_full_name": "R Dong",
        "timestamp": 1733498523
    },
    {
        "content": "<p>Yeah recognizing and typing unicode letters is challenging. For the first purpose some tips like copying the glyphs and then using language like python to get the code point of it may be helpful like <code>hex(ord('∀'))</code> results in '0x2200' in python. In this way it may help distinguishing different ambiguous unicodes. For typing unicode I am considering to start writing an input method schema dedicated to Lean using <a href=\"https://github.com/rime/librime\">rime</a>, which is an input method mainly used for typing Chinese characters that contains thousands of different unicodes. The situation maybe similar but I don’t know if <a href=\"https://en.m.wikipedia.org/wiki/Input_method\">input method</a> is globally used or just in some regions.</p>",
        "id": 486542171,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1733500032
    },
    {
        "content": "<p>As I mentioned, copying unicode doesn't always work. This, for instance: <br>\n<a href=\"/user_uploads/3121/EV3K0rtcn2iuzL882HnNLnng/image.png\">image.png</a>, copies to a right arrow.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/EV3K0rtcn2iuzL882HnNLnng/image.png\" title=\"image.png\"><img data-original-dimensions=\"52x32\" src=\"/user_uploads/thumbnail/3121/EV3K0rtcn2iuzL882HnNLnng/image.png/840x560.webp\"></a></div><p>Input methods are language specific. Most Chinese IM, for instance, won't have a way to typeset all these symbols. If I can't find a character in vscode lean extension or the latex input plugin, I am kind of screwed.</p>",
        "id": 486550886,
        "sender_full_name": "R Dong",
        "timestamp": 1733502454
    },
    {
        "content": "<p>In the ∀ menu in VSCode, click on \"Documentation...\" and then on the last entry. This gives you a list of all Unicode abbreviations. (E.g., <code>↦</code> is available as \"\\mapsto\" or a unique prefix of that like \"\\map\").</p>",
        "id": 486551631,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1733502659
    },
    {
        "content": "<p>I didn't find it the first time I read it, because I was doing a reverse lookup from the unicode symbol I see in the Hitchhiker's guide.</p>",
        "id": 486552387,
        "sender_full_name": "R Dong",
        "timestamp": 1733502878
    },
    {
        "content": "<blockquote>\n<p>If I can't find a character in vscode lean extension or the latex input plugin, I am kind of screwed.</p>\n</blockquote>\n<p>Can you say a bit more here on what you mean? All the characters you see used in Lean (really Mathlib) should be typeable via the VSCode Lean extension -- every so often this doesn't turn out to be the case but it's not common. Was there a specific example you couldn't type?</p>",
        "id": 486553832,
        "sender_full_name": "Julian Berman",
        "timestamp": 1733503341
    },
    {
        "content": "<p>Yeah, all of them can be typed, but sometimes it's difficult to find because printed work and PDFs can use a different way (or typeface?) to represent the same symbol. Like the <code>|-&gt;</code> symbol above.</p>",
        "id": 486554169,
        "sender_full_name": "R Dong",
        "timestamp": 1733503446
    },
    {
        "content": "<p>For most symbols, the usual LaTeX macro works (like in the example above).</p>",
        "id": 486554320,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1733503504
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766585\">R Dong</span> <a href=\"#narrow/channel/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/486554169\">said</a>:</p>\n<blockquote>\n<p>Yeah, all of them can be typed, but sometimes it's difficult to find because printed work and PDFs can use a different way (or typeface?) to represent the same symbol. Like the <code>|-&gt;</code> symbol above.</p>\n</blockquote>\n<p>Got it, OK, I think \"Lean is hard to learn or read via static reading mediums\" is definitely reasonable sounding (though I think the general long term solution is 'mostly have dynamic reading mediums').</p>",
        "id": 486554447,
        "sender_full_name": "Julian Berman",
        "timestamp": 1733503547
    },
    {
        "content": "<p>That's not really possible. Books will exist.</p>",
        "id": 486554730,
        "sender_full_name": "R Dong",
        "timestamp": 1733503626
    },
    {
        "content": "<p>In fact, since Lean is so heavily academics, I would assume many would publish papers. Papers are usually typeset differently as well.</p>",
        "id": 486555000,
        "sender_full_name": "R Dong",
        "timestamp": 1733503696
    },
    {
        "content": "<p>Well it's certainly possible, I didn't say they wouldn't exist -- I think the general feeling is that Lean has to be used with an infoview. Not knowing how to type symbols is not as big of an issue as not being able to see the state of the world at all.</p>",
        "id": 486555179,
        "sender_full_name": "Julian Berman",
        "timestamp": 1733503754
    },
    {
        "content": "<p>As Mario explained before, that ship has sailed</p>",
        "id": 486555334,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1733503802
    },
    {
        "content": "<p>But arguably this issue of PDF math also applies to LaTeX, so it is not unique to lean</p>",
        "id": 486559266,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1733504938
    },
    {
        "content": "<p>In the near future Verso will finish making this conversation completely pointless since it brings so much that a pdf or printed web page will never give.</p>",
        "id": 486562811,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1733506090
    },
    {
        "content": "<p>PDFs are valuable electronic documents, for me, because they're easy to annotate with tools that I already know, and a PDF makes it easy to have an entire book available when I have to be offline.  </p>\n<p>It's important to me to be able to annotate in the way that I want--highlighting with colors and underlines, adding notes, arrows, etc. This is how I read/think/learn.</p>\n<p>There are tools available for annotating web pages, and I've started to investigate them--because of Lean's documentation--but they are new and have drawbacks, whereas PDF is an old technology with tools that I trust.</p>\n<p>(Will Verso will allow annotation by readers?  I didn't think that's one of the goals.  If it will, that's great!  But that's a lot to ask for; Verso already has a high standard it's trying to meet.)</p>\n<p>fwiw <span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span> said in another thread a while ago that producing nice PDFs was one goal for Verso.  The current PDFs are not a great substitute for the online version, because there's no navigation--not even a text table of contents--but that will change, I'm sure.</p>",
        "id": 486571236,
        "sender_full_name": "mars0i",
        "timestamp": 1733509254
    },
    {
        "content": "<p>About printed books, this is another \"user interface\" that I like.  Make it very easy to flip back and forth between different pages, and to sit and read in a thoughtful way, maybe with the help of a pad of paper.  Also: annotation is easy, and allows all possible mathematical notations, arrows, etc., using a pencil. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> </p>\n<p>If a textbook is designed to be printed, then the author has a responsibility to provide tips about how to type less-common characters.  The Agda language also uses a lot of Unicode, and there are printed textbooks, but they usually provide character-typing tips.  One still needs to be able to look up input strings for other characters that you find online, but editor extensions let you do that.</p>",
        "id": 486572712,
        "sender_full_name": "mars0i",
        "timestamp": 1733509832
    },
    {
        "content": "<p>(I started this thread a while ago, and though I still have a few concerns concerning Lean's use of Unicode, I don't object in the way that I did earlier.)</p>",
        "id": 486573210,
        "sender_full_name": "mars0i",
        "timestamp": 1733510006
    },
    {
        "content": "<p>Agda tutorials all have little sections that summarize the unicode symbols used in each chapter, which are intended for printed medium. I would argue learning any programming language from a printed medium is a mistake, but ymmv.</p>",
        "id": 486573793,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1733510263
    },
    {
        "content": "<p>Ah it's already mentioned above</p>",
        "id": 486573940,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1733510318
    },
    {
        "content": "<p>are the sections human written? Do you have an example?</p>",
        "id": 486574476,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733510512
    },
    {
        "content": "<p>Some of my original negativity about Unicode in Lean was based on experience with Agda.  So far, my experience with Lean is that its use of Unicode is not as bothersome as Agda, but the difference has to do with subtleties that would require a bit of thought to spell out.  Probably not worth the effort.</p>",
        "id": 486574496,
        "sender_full_name": "mars0i",
        "timestamp": 1733510521
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span>: Human written.  Here's one: <a href=\"https://plfa.github.io/Naturals/#unicode\">https://plfa.github.io/Naturals/#unicode</a></p>",
        "id": 486574739,
        "sender_full_name": "mars0i",
        "timestamp": 1733510621
    },
    {
        "content": "<p>That does look nice -- but also seemingly easy to autogenerate (presumably by Verso) by just reflecting on the characters in the current document? Even if they had to occasionally have some actual hand-written addendum explaining a specific confusion (like disambiguating a portion of the category theory library was using one arrow glyph or another or something)</p>",
        "id": 486575303,
        "sender_full_name": "Julian Berman",
        "timestamp": 1733510797
    },
    {
        "content": "<p>Or look at PDF page 62 in the sample version of Maguire's <a href=\"https://leanpub.com/certainty-by-construction\">Certainty By Construction</a>.</p>",
        "id": 486575315,
        "sender_full_name": "mars0i",
        "timestamp": 1733510801
    },
    {
        "content": "<p>Stump's  <em>Verified Functional Programming in Agda</em> has this kind of thing as well.</p>",
        "id": 486575469,
        "sender_full_name": "mars0i",
        "timestamp": 1733510877
    },
    {
        "content": "<p>I haven't used Agda.</p>\n<p>As I say, it's not possible to get around PDF and printed material. People will publish to journals. No amount of electronic documentation or dynamic content will replace them, because printed material is archival, and dynamic document is not. I'm not talking just about learning material for the language, but research papers. </p>\n<p>The difficulty I encountered today was that I went straight into a chapter in the middle, encountered a notation, then I couldn't find if such a table exist in any chapter, because single Unicode symbols are not searchable in the PDF, in search engine, in the documentation site, or in browser Ctrl-F. However, if there's a better way to reverse-lookup Unicode symbols, the issue I have may be alleviated. Perhaps a textbook should also include a lookup table connecting the typeface used in text, the corresponding Unicode symbol, and how to type it. Research paper that introduces new notation would also probably have this.</p>\n<p>Theory-related tools seem to really like Unicode, which as a programmer I am very not used to seeing. In most general purpose languages, even if Unicode identifiers are supported, they are not recommended.</p>",
        "id": 486578857,
        "sender_full_name": "R Dong",
        "timestamp": 1733512191
    },
    {
        "content": "<p>Good PDF and EPUB support is a goal of Verso, but not a short-term one. For now, Verso is being developed precisely in the ways that support the new language reference.</p>\n<p>I personally use a print stylesheet and my Remarkable for proofreading, but it's not what I'd call a \"good PDF\". Only Chrome seems capable of even this - Firefox doesn't rewrite internal links to PDF page references, which makes the ToC not so useful because CSS has no way of generating page number references, and Chromium crashes when I try to print anything over a couple hundred pages to PDF.</p>\n<p>Doing better would be great, but it's lower priority than actually writing docs at the moment. There are lots of nice things we can do to make the experience of reading a PDF better for Lean, like automatically generating a table of notation used, and these things will also benefit online readers. It's just a matter of priorities at this point.</p>",
        "id": 486584177,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1733514577
    },
    {
        "content": "<p>I also like learning programming languages from printed books - a good book in the woods with a thermos of tea, bracketed by a bike ride, is a great way to prepare for a focused session of experimentation! I wouldn't want a printed reference work, but didactic materials can be very good in that format.</p>",
        "id": 486584404,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1733514657
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766585\">R Dong</span> <a href=\"#narrow/channel/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/486578857\">said</a>:</p>\n<blockquote>\n<p>The difficulty I encountered today was that I went straight into a chapter in the middle, encountered a notation, then I couldn't find if such a table exist in any chapter, because single Unicode symbols are not searchable in the PDF, in search engine, in the documentation site, or in browser Ctrl-F.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span> has indicated in the past that improving the Verso search is one goal.  It's definitely frustrating sometimes.  Here is a recent comment: <a href=\"#narrow/channel/113488-general/topic/Discussion.20thread.20for.20Lean.20Language.20Reference/near/478105522\">https://leanprover.zulipchat.com/#narrow/channel/113488-general/topic/Discussion.20thread.20for.20Lean.20Language.20Reference/near/478105522</a>  Sounds like you're working from a PDF, though.  </p>\n<p>I've had success with searching for Unicode characters using Ctrl-F in MacOS Firefox in Verso documents such as FPIL, but that only works if you already are already on the relevant page.  </p>\n<p>Copying code into an editor from the browser and then using a lookup function there is how I find out how to type a character.  Not ideal but it works.  I haven't tried that from a PDF, though.  At present, I treat PDFs of Verso as backup plan.  A browser is better.</p>",
        "id": 486594084,
        "sender_full_name": "mars0i",
        "timestamp": 1733518977
    },
    {
        "content": "<p>I'm able to successfully search for some Unicode in a Verso-derived PDF using Skim in MacOS, MacOS Acrobat Reader, and iAnnotate in iOS.  Maybe it only works with some characters?</p>",
        "id": 486596082,
        "sender_full_name": "mars0i",
        "timestamp": 1733519879
    },
    {
        "content": "<p>This is not the most useful format, but has helped me find a number of Unicode characters I needed in mathlib: (see Kyle's link below)</p>",
        "id": 486608981,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1733527023
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"416472\">@Winston Yin (尹維晨)</span> That's accessible from within VS Code:<br>\n<span class=\"user-mention silent\" data-user-id=\"479359\">Michael Stoll</span> <a href=\"#narrow/channel/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/486551631\">said</a>:</p>\n<blockquote>\n<p>In the ∀ menu in VSCode, click on \"Documentation...\" and then on the last entry. This gives you a list of all Unicode abbreviations. (E.g., <code>↦</code> is available as \"\\mapsto\" or a unique prefix of that like \"\\map\").</p>\n</blockquote>\n<p>It's also in the command menu under <code>&gt; Lean 4: Docs: Show unicode input abbreviations</code>. For me it shows up with just <code>&gt;unicode</code>.</p>",
        "id": 486609927,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1733527664
    },
    {
        "content": "<p>Big warning, your link is for the Lean <em>3</em> extension. I think this is the one for Lean 4: <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/lean4-unicode-input/src/abbreviations.json\">https://github.com/leanprover/vscode-lean4/blob/master/lean4-unicode-input/src/abbreviations.json</a></p>",
        "id": 486610039,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1733527718
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766585\">R Dong</span> <a href=\"#narrow/stream/113488-general/topic/A.20plea.20from.20a.20newbie.20concerning.20future.20Unicode.20use/near/486554169\">said</a>:</p>\n<blockquote>\n<p>PDFs can use a different way (or typeface?) to represent the same symbol.</p>\n</blockquote>\n<p>If a PDF is not encoding its Lean code as copyable Unicode, then this is arguably the fault of the pdf author or publisher</p>",
        "id": 486625575,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733539989
    },
    {
        "content": "<p>(it is very unfortunate that even arXiv does everything it can to force the author to do this wrong)</p>",
        "id": 486626263,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733540550
    },
    {
        "content": "<p>If there is a LaTeX setup that works with arXiv and produces correct copyable Unicode, then I think that we should promote it somewhere on the website.</p>",
        "id": 486626958,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1733541000
    },
    {
        "content": "<p>I know of one, but it involves defeating a mechanism that arXiv has in place to prevent uploading PDFs without pdfLaTeX source</p>",
        "id": 486630410,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733544165
    },
    {
        "content": "<p>And so the act of promoting it might result in it not working any more</p>",
        "id": 486630438,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733544186
    },
    {
        "content": "<p>So, their version of <code>pdflatex</code> can't produce correct PDF files?</p>",
        "id": 486630572,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1733544311
    },
    {
        "content": "<p>I think pdfLaTeX doesn't produce Unicode text layers at all, but maybe I'm misremembering and you can make it do so with great pain using <code>accsupp</code> (edit: this only works in very few PDF readers)</p>",
        "id": 486630697,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733544411
    }
]