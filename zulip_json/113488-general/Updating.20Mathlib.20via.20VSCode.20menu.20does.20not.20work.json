[
    {
        "content": "<p>I just had the following experience. In a <a href=\"https://github.com/MichaelStollBayreuth/Heights\">project depending on Mathlib</a>, I had updated Mathlib to v4.22.0-rc2. Now I wanted to update to the latest version (after a PR of mine was merged, so that I can use the new material it contains). So I commented out the <code>rev = \"v4.22.0-rc2</code> line in <code>lakefile.toml</code> and went to \"Project actions/Update dependency\". But I got a pop-up window saying that the dependency didn't need updating (even though another pop-up informed me that the extension had noticed that the configuration had changed).</p>\n<p>Typing \"lake update mathlib\" in the terminal did work, though.</p>\n<p>This is with v0.0.206 of the VSCode extension. After updating to 0.0.209, I don't even get the \"Project actions\" menu any more...?</p>\n<p><span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span></p>",
        "id": 526969295,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1751540068
    },
    {
        "content": "<p>After changing the toml, did you restart code?</p>",
        "id": 526972964,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1751541336
    },
    {
        "content": "<p>No. As far as I can remember, that hasn't been necessary (and I would think it bad UI design if it were).</p>\n<p>After leaving and restarting code, the menu entry is still not there.</p>",
        "id": 526973225,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1751541438
    },
    {
        "content": "<p>OK; the menu item appears when I'm on a Lean file, but not on lakefile.toml (maybe this can be changed?).</p>",
        "id": 526978979,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1751543576
    },
    {
        "content": "<p>Hm. It does appear again after I make an edit to lakefile.toml...</p>",
        "id": 526979188,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1751543651
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"479359\">@Michael Stoll</span> <br>\n<a href=\"https://github.com/leanprover-community/vscode-lean4/pull/637\">vscode-lean4#637</a> ensures that the Lean-specific features of the VS Code extension activate when opening non-Lean files in a Lean project as well.</p>\n<p><a href=\"https://github.com/leanprover-community/vscode-lean4/pull/638\">vscode-lean4#638</a> mitigates the specific 'Update Dependency' issue you ran into above (see the PR description for details).</p>",
        "id": 530335836,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1753274745
    }
]