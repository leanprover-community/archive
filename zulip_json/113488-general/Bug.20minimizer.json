[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"241007\">@Jason Gross</span> made a very useful bug minimizer for Rocq: <a href=\"https://coqpl.cs.washington.edu/wp-content/uploads/2014/12/bug-minimizer.pdf\">https://coqpl.cs.washington.edu/wp-content/uploads/2014/12/bug-minimizer.pdf</a><br>\n<a href=\"https://github.com/JasonGross/coq-tools\">https://github.com/JasonGross/coq-tools</a></p>\n<p>One of the features it has, is given a theorem, it collects it's minimal set of definition/lemma dependencies all in one file. This is great for debugging/ reporting bugs.<br>\nDoes there exist a similar tool for Lean ?</p>",
        "id": 563212649,
        "sender_full_name": "Bas Spitters",
        "timestamp": 1765466108
    },
    {
        "content": "<p>I would find this very useful, but I don't know of one that exists yet</p>",
        "id": 563230013,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1765469792
    },
    {
        "content": "<p>The trickiest part of the bug minimizer in Rocq is figuring out how to deal with naming and imports in Rocq, especially in the presence of global flags and diamond dependencies.  I'm less familiar with the intricacies of Lean; what would go wrong with the following strategy? <br>\nTopologically sort the dependencies, wrap each file in section...end, strip out all import statements, concatenate together into a single file.</p>",
        "id": 563237860,
        "sender_full_name": "Jason Gross",
        "timestamp": 1765471798
    },
    {
        "content": "<p>Claude is doing this for me right now! Unclear how well...</p>",
        "id": 563238200,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1765471891
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"241007\">Jason Gross</span> <a href=\"#narrow/channel/113488-general/topic/Bug.20minimizer/near/563237860\">said</a>:</p>\n<blockquote>\n<p>The trickiest part of the bug minimizer in Rocq is figuring out how to deal with naming and imports in Rocq, especially in the presence of global flags and diamond dependencies.  I'm less familiar with the intricacies of Lean; what would go wrong with the following strategy? <br>\nTopologically sort the dependencies, wrap each file in section...end, strip out all import statements, concatenate together into a single file.</p>\n</blockquote>\n<p>That with arbitrary meta programming it is quite non trivial to figure out what you even want to import to begin with.</p>",
        "id": 563246695,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1765474232
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> You mentioned you had a prototype for this, right? Is this something you can already usefully share?</p>",
        "id": 563247798,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765474525
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"758109\">@Christian Kalhauge</span> has been working on this for Lean as well. <span class=\"user-mention\" data-user-id=\"259452\">@Bas Spitters</span> you're both in Denmark (-;</p>",
        "id": 563255892,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765477056
    },
    {
        "content": "<p>And I think <span class=\"user-mention\" data-user-id=\"110154\">@Emilio Jesús Gallego Arias</span> is also (starting to) working on that repo?</p>",
        "id": 563256014,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765477095
    },
    {
        "content": "<blockquote>\n<p>The task is unsolvable given constraints: preserve theorem unchanged + reach zero Mathlib imports.</p>\n</blockquote>",
        "id": 563259883,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1765478495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"259452\">Bas Spitters</span> <a href=\"#narrow/channel/113488-general/topic/Bug.20minimizer/near/563212649\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://coqpl.cs.washington.edu/wp-content/uploads/2014/12/bug-minimizer.pdf\">https://coqpl.cs.washington.edu/wp-content/uploads/2014/12/bug-minimizer.pdf</a><br>\n<a href=\"https://github.com/JasonGross/coq-tools\">https://github.com/JasonGross/coq-tools</a></p>\n</blockquote>\n<p>Btw, there's a more recent <a href=\"https://drops.dagstuhl.de/entities/document/10.4230/LIPIcs.ITP.2022.18\">publication</a> on this, from 2022</p>",
        "id": 563269940,
        "sender_full_name": "Jason Gross",
        "timestamp": 1765482088
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"259452\">@Bas Spitters</span> and <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> Just saying hi :). Yes I have been working on a reducer as part of a larger research project. I'll love to talk about it, if you are interested :)</p>",
        "id": 563598831,
        "sender_full_name": "Christian Kalhauge",
        "timestamp": 1765608399
    },
    {
        "content": "<p>Yes, please tell us more!</p>",
        "id": 563708593,
        "sender_full_name": "Bas Spitters",
        "timestamp": 1765741739
    },
    {
        "content": "<p>Sorry the delays in coms. I have been facilitating exams the last couple of weeks. </p>\n<p>I'm working on a new way of writing reducers, which instead of using the syntax driven approach (like ddmin) or the list based approach (like quick checks shrink) uses an approach closer to fuzzing. I.e., reduction is seen as using a string of bits to produce smaller programs. <br>\nUsing this formulation (in contrast to the others), we can reduce programs with dynamic syntax, while keeping the context of the reduction (which is lost when doing list based reduction).</p>\n<p>Anyhow, I did an initial prototype of the idea in a closed repository, but had to divert resources to actually get the idea published (which is still in progress). In the mean time, the prototype has stoped working because it uses some of the compiler internals to do the reduction in stages. I think <span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span> is looking into finding resources to get it up and running again. </p>\n<p>If you are ever in the Copenhagen area, or if you just want to come by and visit us at DTU, please let me know. It could be a lot of fun :).</p>",
        "id": 564123782,
        "sender_full_name": "Christian Kalhauge",
        "timestamp": 1765915448
    }
]