[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/113488-general/topic/Alleged.20Collatz.20Conjecture.20proof/near/528558071\">said</a>:</p>\n<blockquote>\n<p>Annoyingly these users often claim their code does compile, and then you have to explain \"no, <code>lake build</code> didn't build your files because you didn't tell it about them\"</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span>, what would your thoughts be on having <code>lake new</code> default to <code>MyProject.+</code> as the glob, to avoid this class of mistake?</p>",
        "id": 528558099,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752441373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> The goal is generally to encourage users to think about what imports they include in their top-level modules. As with Python libraries, not every import should necessarily be part of the default <code>import &lt;lib-name&gt;</code>, but such a module should usually exist. The new module system will hopefully also encourage more consideration about what imports (and what kind of imports) to include. Globs are often used to do the opposite, hence I would be wary using them in the default template.</p>",
        "id": 528558483,
        "sender_full_name": "Mac Malone",
        "timestamp": 1752441833
    },
    {
        "content": "<p>(Though, technically, it is possible to have well-designed top-level modules and use globs.)</p>",
        "id": 528558717,
        "sender_full_name": "Mac Malone",
        "timestamp": 1752442088
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315577\">Mac Malone</span> <a href=\"#narrow/channel/113488-general/topic/Alleged.20Collatz.20Conjecture.20proof/near/528558483\">said</a>:</p>\n<blockquote>\n<p>not every import should necessarily be part of the default <code>import &lt;lib-name&gt;</code></p>\n</blockquote>\n<p>I agree with this, but I think I claim that <code>lake build</code> should still build all the submodules. Maybe I should have said <code>MyProject.*</code>?</p>",
        "id": 528558974,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752442375
    },
    {
        "content": "<p>If this path were to be taken --  building everything in the directory as the library by default --  I would lean towrards changing the <code>lean_lib</code> default for <code>globs</code> to <code>&lt;lib-name&gt;.*</code> rather than changing the default template.</p>",
        "id": 528559055,
        "sender_full_name": "Mac Malone",
        "timestamp": 1752442450
    },
    {
        "content": "<p>5 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Alleged.20Collatz.20Conjecture.20proof/with/528558071\">#general &gt; Alleged Collatz Conjecture proof</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 528559157,
        "sender_full_name": "Notification Bot",
        "timestamp": 1752442559
    },
    {
        "content": "<p>Maybe there should be <code>lake check</code> in addition to <code>lake build</code>, like there's <code>cargo check</code> in Rust.</p>",
        "id": 528559183,
        "sender_full_name": "suhr",
        "timestamp": 1752442577
    },
    {
        "content": "<p>This particular case could also be solved by having <code>lake build</code> output something like \"Built x files\" (a little bit like the ephemeral output that is already there when you're actually building something)</p>",
        "id": 528650406,
        "sender_full_name": "Pim Otte",
        "timestamp": 1752495968
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519269\">Pim Otte</span> <a href=\"#narrow/channel/113488-general/topic/Changing.20the.20default.20behavior.20of.20.60lake.20build.60/near/528650406\">said</a>:</p>\n<blockquote>\n<p>This particular case could also be solved by having <code>lake build</code> output something like \"Built x files\" (a little bit like the ephemeral output that is already there when you're actually building something)</p>\n</blockquote>\n<p>The output would be too large for even a self-contained formalisation project</p>",
        "id": 528650607,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1752496025
    },
    {
        "content": "<p>To clarify, I don't mean doing printing all of 1/1337 to 1337/1337, but just one final line at the end, reporting the final number, 1337 in this case.</p>",
        "id": 528650931,
        "sender_full_name": "Pim Otte",
        "timestamp": 1752496121
    },
    {
        "content": "<p>or could it do the other way: output the name of .lean files that it didn't build?</p>",
        "id": 528651998,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1752496503
    },
    {
        "content": "<p>What's the situation where you <em>don't</em> want it to build every lean file?</p>",
        "id": 528905296,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752598973
    }
]