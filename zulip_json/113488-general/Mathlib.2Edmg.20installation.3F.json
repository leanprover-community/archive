[
    {
        "content": "<p>We've had a few more experiences at the Simons workshop of mathematicians trying to install Lean+Mathlib locally, and it's still full of paper cuts. If we want <em>lots</em> of mathematicians to work formally (whether to contribute to Mathlib <em>or not</em>!), and to do this on their own, it would really help to be able to download Mathlib the same way I now download Mathematica. I would google \"Mathlib\", find a website called <a href=\"https://mathlib.org\">https://mathlib.org</a> (not \"lean prover dash community dot github io\" etc...), and there would be a big, prominent button right at the top called \"Download Mathlib v4.20.1\" (or whatever). When I click that button, my Mac would download a file called Mathlib.dmg. I double click on that, and I see an app called Mathlib and an arrow for me to drag it into my Applications folder (or maybe there's a longer installation process, but installation is completely managed by some script). I then go to my Applications folder, double click on Mathlib, and the app opens up. Secretly (I don't want to know any of this, I just want it to <em>work</em>!) the app is just a wrapper of VSCode, configured to come with the Lean4 extension installed, and Mathlib downloaded, including the oleans.</p>\n<p>I asked an LLM how this could be implemented, and this was its response (way above my paygrade to tell if it's right, but doesn't seem impossible for someone with some coding chops?):</p>\n<p>Here's a step-by-step approach for creating a Mac installer:</p>\n<h2>Phase 1: Prepare the Bundle</h2>\n<p><strong>Step 1: Set up a clean Lean/Mathlib environment</strong></p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"c1\"># Start fresh</span>\ncurl<span class=\"w\"> </span>-sSf<span class=\"w\"> </span>https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh<span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>sh\nelan<span class=\"w\"> </span>install<span class=\"w\"> </span>leanprover/lean4:stable\nlake<span class=\"w\"> </span>new<span class=\"w\"> </span>mathlib_bundle\n<span class=\"nb\">cd</span><span class=\"w\"> </span>mathlib_bundle\n<span class=\"c1\"># Add mathlib dependency to lakefile.lean</span>\nlake<span class=\"w\"> </span>update\nlake<span class=\"w\"> </span>exe<span class=\"w\"> </span>cache<span class=\"w\"> </span>get<span class=\"w\">  </span><span class=\"c1\"># Download precompiled oleans</span>\n</code></pre></div>\n<p><strong>Step 2: Download and customize VS Code</strong></p>\n<ul>\n<li>Download VS Code for Mac from Microsoft</li>\n<li>Install the Lean 4 extension</li>\n<li>Configure default settings (theme, keybindings, workspace layout)</li>\n<li>Export the configuration files (<code>settings.json</code>, <code>keybindings.json</code>, etc.)</li>\n</ul>\n<h2>Phase 2: Create the Application Bundle</h2>\n<p><strong>Step 3: Build the app structure</strong></p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>mkdir<span class=\"w\"> </span>-p<span class=\"w\"> </span>Mathlib.app/Contents/<span class=\"o\">{</span>MacOS,Resources,Frameworks<span class=\"o\">}</span>\n</code></pre></div>\n<p><strong>Step 4: Copy VS Code into your bundle</strong></p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"c1\"># Extract VS Code and put it in your app</span>\ncp<span class=\"w\"> </span>-r<span class=\"w\"> </span><span class=\"s2\">\"/Applications/Visual Studio Code.app/Contents/\"</span><span class=\"w\"> </span>Mathlib.app/Contents/\n</code></pre></div>\n<p><strong>Step 5: Bundle Lean + Mathlib</strong></p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"c1\"># Copy your prepared Lean environment</span>\ncp<span class=\"w\"> </span>-r<span class=\"w\"> </span>~/.elan<span class=\"w\"> </span>Mathlib.app/Contents/Resources/\ncp<span class=\"w\"> </span>-r<span class=\"w\"> </span>your_mathlib_project<span class=\"w\"> </span>Mathlib.app/Contents/Resources/mathlib_workspace\n</code></pre></div>\n<p><strong>Step 6: Create launch script</strong> Create <code>Mathlib.app/Contents/MacOS/Mathlib</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"ch\">#!/bin/bash</span>\n<span class=\"nb\">export</span><span class=\"w\"> </span><span class=\"nv\">LEAN_PATH</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$PWD</span><span class=\"s2\">/../Resources/.elan\"</span>\n<span class=\"nb\">export</span><span class=\"w\"> </span><span class=\"nv\">PATH</span><span class=\"o\">=</span><span class=\"s2\">\"</span><span class=\"nv\">$PWD</span><span class=\"s2\">/../Resources/.elan/bin:</span><span class=\"nv\">$PATH</span><span class=\"s2\">\"</span>\n<span class=\"nb\">cd</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"nv\">$PWD</span><span class=\"s2\">/../Resources/mathlib_workspace\"</span>\n<span class=\"nb\">exec</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"nv\">$PWD</span><span class=\"s2\">/../MacOS/Electron\"</span><span class=\"w\"> </span>.\n</code></pre></div>\n<p><strong>Step 7: Create Info.plist</strong> Create <code>Mathlib.app/Contents/Info.plist</code> with app metadata.</p>\n<h2>Phase 3: Package as DMG</h2>\n<p><strong>Step 8: Create the DMG</strong></p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>hdiutil<span class=\"w\"> </span>create<span class=\"w\"> </span>-size<span class=\"w\"> </span>2g<span class=\"w\"> </span>-fs<span class=\"w\"> </span>HFS+<span class=\"w\"> </span>-volname<span class=\"w\"> </span><span class=\"s2\">\"Mathlib\"</span><span class=\"w\"> </span>temp.dmg\nhdiutil<span class=\"w\"> </span>attach<span class=\"w\"> </span>temp.dmg\ncp<span class=\"w\"> </span>-r<span class=\"w\"> </span>Mathlib.app<span class=\"w\"> </span>/Volumes/Mathlib/\n<span class=\"c1\"># Add background image, arrange icons nicely</span>\nhdiutil<span class=\"w\"> </span>detach<span class=\"w\"> </span>/Volumes/Mathlib\nhdiutil<span class=\"w\"> </span>convert<span class=\"w\"> </span>temp.dmg<span class=\"w\"> </span>-format<span class=\"w\"> </span>UDZO<span class=\"w\"> </span>-o<span class=\"w\"> </span>Mathlib.dmg\n</code></pre></div>\n<h2>Key files you'll need to customize:</h2>\n<ul>\n<li>Modify the VS Code settings to point to your bundled Lean</li>\n<li>Update the Lean extension configuration to use your workspace</li>\n<li>Set default file associations for <code>.lean</code> files</li>\n</ul>\n<p>The trickiest part is ensuring the bundled Lean installation works with relative paths and doesn't depend on system-wide installations. You might need to patch some configuration files or use environment variables to redirect paths.</p>\n<p>This approach essentially creates a portable VS Code installation with everything pre-configured and bundled.</p>",
        "id": 525530338,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750774857
    },
    {
        "content": "<p>Could you say more about which paper cuts you encountered with the installation? We probably want to fix these regardless.</p>",
        "id": 525531497,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750775168
    },
    {
        "content": "<p>Do you want it to also set up a fresh Lean project that depends on mathlib?</p>",
        "id": 525531931,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750775271
    },
    {
        "content": "<p>Papercut # 1: Where's Waldo (what link to press for installation) on the landing page?<br>\n<a href=\"/user_uploads/3121/5soTfR896x5q0K6udqe0HAz3/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/5soTfR896x5q0K6udqe0HAz3/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2212x1650\" src=\"/user_uploads/thumbnail/3121/5soTfR896x5q0K6udqe0HAz3/image.png/840x560.webp\"></a></div>",
        "id": 525533445,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750775705
    },
    {
        "content": "<p>Papercut # 2: If you find the link to installation (bottom of last image), you land on this page. How quickly do your eyes go to the \"instructions in the official Lean project\"?<br>\n<a href=\"/user_uploads/3121/Vzx0FRxv9nsAN6ea4_2gPgB4/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Vzx0FRxv9nsAN6ea4_2gPgB4/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2194x1640\" src=\"/user_uploads/thumbnail/3121/Vzx0FRxv9nsAN6ea4_2gPgB4/image.png/840x560.webp\"></a></div>",
        "id": 525533948,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750775863
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525533948\">said</a>:</p>\n<blockquote>\n<p>Papercut # 2: If you find the link to installation (bottom of last image), you land on this page. How quickly do your eyes go to the \"instructions in the official Lean project\"?<br>\n<a href=\"/user_uploads/3121/Vzx0FRxv9nsAN6ea4_2gPgB4/image.png\">image.png</a></p>\n</blockquote>\n<p>Very fast, since you put a big red circle around it</p>",
        "id": 525534533,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750776039
    },
    {
        "content": "<p>Papercut # 3: Now I've clicked three links, and the first step in the Quickstart is to... click another link (to download VSCode), and go to another page (which doesn't pop out in a new tab, so I've lost the leanprover page and will need to find it again when VSCode installation is done).<br>\n<a href=\"/user_uploads/3121/n1C-LClICE15lu7dQnfsUZJg/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/n1C-LClICE15lu7dQnfsUZJg/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2612x1496\" src=\"/user_uploads/thumbnail/3121/n1C-LClICE15lu7dQnfsUZJg/image.png/840x560.webp\"></a></div>",
        "id": 525534617,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750776065
    },
    {
        "content": "<p>Papercut # 4 : If I managed to download and install VSCode, and again find the same 3 clicks to get back to the leanprover installation page, the instructions are ... to follow more instructions elsewhere!?!<br>\n<a href=\"/user_uploads/3121/RTt4VXrf7GQWTcaY7U--4yPw/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/RTt4VXrf7GQWTcaY7U--4yPw/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1630x1294\" src=\"/user_uploads/thumbnail/3121/RTt4VXrf7GQWTcaY7U--4yPw/image.png/840x560.webp\"></a></div>",
        "id": 525534992,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750776184
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525533445\">said</a>:</p>\n<blockquote>\n<p>Papercut # 1: Where's Waldo (what link to press for installation) on the landing page?<br>\n<a href=\"/user_uploads/3121/5soTfR896x5q0K6udqe0HAz3/image.png\">image.png</a></p>\n</blockquote>\n<p>There's also an \"installation\" header on the left side bar, which is where I would expect people to look for it.</p>",
        "id": 525543570,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750778710
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"282271\">Bolton Bailey</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525543570\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525533445\">said</a>:</p>\n<blockquote>\n<p>Papercut # 1: Where's Waldo (what link to press for installation) on the landing page?<br>\n<a href=\"/user_uploads/3121/5soTfR896x5q0K6udqe0HAz3/image.png\">image.png</a></p>\n</blockquote>\n<p>There's also an \"installation\" header on the left side bar, which is where I would expect people to look for it.</p>\n</blockquote>\n<p>Yes, but unfortuanately that's off to the side and hidden away if your screen isn't wide enough</p>",
        "id": 525545151,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750779159
    },
    {
        "content": "<p>The three topics under the \"installation\" header are:</p>\n<ul>\n<li>\"Getting Started\" (sounds like it'll be an introduction, not download instructions), </li>\n<li>\"online version\" (great, but now I'm at the point that I actually want to install it on my machine and use it), and </li>\n<li>\"using lake\" (???).</li>\n</ul>",
        "id": 525545191,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750779171
    },
    {
        "content": "<p>One question I immediately have on seeing this dmg idea is : how many vscode copies are people going to install if they unpack this dmg? Everytime users start a project?</p>",
        "id": 525545331,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779216
    },
    {
        "content": "<p>It is a bit <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span> that there is a subheading under \"installation\" that says \"(no installation)\"</p>",
        "id": 525545618,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750779289
    },
    {
        "content": "<p>Also, if this is a workshop, I would say that setting up a sample \"template\" repository on github is the best way to go.</p>",
        "id": 525546063,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779388
    },
    {
        "content": "<p>For instance if you want all the blueprint and CI bells and whistles, go to this link : <a href=\"https://github.com/pitmonticone/LeanProject\">https://github.com/pitmonticone/LeanProject</a></p>",
        "id": 525546156,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779410
    },
    {
        "content": "<p>create your own repository by clicking on \"use this template\"</p>",
        "id": 525546229,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779428
    },
    {
        "content": "<p>and then open your repository in codespaces (the green button just above the code files on the top like so:</p>",
        "id": 525546475,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779492
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/PMRH0bzSJ_qbU-VnkbjbxFfK/Screenshot-from-2025-06-24-17-38-00.png\">Screenshot from 2025-06-24 17-38-00.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/PMRH0bzSJ_qbU-VnkbjbxFfK/Screenshot-from-2025-06-24-17-38-00.png\" title=\"Screenshot from 2025-06-24 17-38-00.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3193x1506\" src=\"/user_uploads/thumbnail/3121/PMRH0bzSJ_qbU-VnkbjbxFfK/Screenshot-from-2025-06-24-17-38-00.png/840x560.webp\"></a></div>",
        "id": 525546501,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779498
    },
    {
        "content": "<p>(CC : <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> : could we have the devcontainers set up to make codespaces work with everything by default on the template)?</p>",
        "id": 525546711,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779564
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525546475\">said</a>:</p>\n<blockquote>\n<p>and then open your repository in codespaces (the green button just above the code files on the top like so:</p>\n</blockquote>\n<p>I don't see the second green button over the file listing when I visit this repository</p>",
        "id": 525546895,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750779620
    },
    {
        "content": "<p>The key limitation is that github will want you to pay for using this service after some point. But this is often much longer than a workshop</p>",
        "id": 525546906,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779621
    },
    {
        "content": "<p>The second green button from the left? the one that gives you the clone link?</p>",
        "id": 525546968,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779647
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/x5KNsaHt1Gdz-QzTY0pZGIr1/Screenshot-2025-06-24-at-11.40.35AM.png\">Screenshot 2025-06-24 at 11.40.35â€¯AM.png</a><br>\nThis is what I see</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/x5KNsaHt1Gdz-QzTY0pZGIr1/Screenshot-2025-06-24-at-11.40.35AM.png\" title=\"Screenshot 2025-06-24 at 11.40.35â€¯AM.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3396x1702\" src=\"/user_uploads/thumbnail/3121/x5KNsaHt1Gdz-QzTY0pZGIr1/Screenshot-2025-06-24-at-11.40.35AM.png/840x560.webp\"></a></div>",
        "id": 525546985,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750779652
    },
    {
        "content": "<p>Ah is it the other tab in the clone button, ok I see that.</p>",
        "id": 525547277,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750779748
    },
    {
        "content": "<p>I thought you were saying the right hand green button was what I needed.</p>",
        "id": 525547369,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750779778
    },
    {
        "content": "<p>I have an extra button on mine. But you also have the green button. <br>\n<a href=\"/user_uploads/3121/qJkRv2CcUBqrkRzxyDOco54r/show.jpg\">show.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/qJkRv2CcUBqrkRzxyDOco54r/show.jpg\" title=\"show.jpg\"><img data-original-content-type=\"image/jpeg\" data-original-dimensions=\"3396x1702\" src=\"/user_uploads/thumbnail/3121/qJkRv2CcUBqrkRzxyDOco54r/show.jpg/840x560.webp\"></a></div>",
        "id": 525547604,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750779848
    },
    {
        "content": "<p>Anyway, this particular repository doesn't appear to be setup to fetch the cache and install the lean extension. But fixing this wouldn't be too difficult.</p>",
        "id": 525548083,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750780001
    },
    {
        "content": "<p>Both the lean and community web pages have issues here. <a href=\"http://lean-lang.org\">lean-lang.org</a> has this entirely-too-big logo<br>\n<a href=\"/user_uploads/3121/XgCKwiLAqzBmc4Vy59OAb1LN/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/XgCKwiLAqzBmc4Vy59OAb1LN/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1919x976\" src=\"/user_uploads/thumbnail/3121/XgCKwiLAqzBmc4Vy59OAb1LN/image.png/840x560.webp\"></a></div><p>Compare with vscode:<br>\n<a href=\"/user_uploads/3121/AnSgMA9u8athEo6eKQlsv92P/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/AnSgMA9u8athEo6eKQlsv92P/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1919x976\" src=\"/user_uploads/thumbnail/3121/AnSgMA9u8athEo6eKQlsv92P/image.png/840x560.webp\"></a></div><p>Front and center is a one click install</p>",
        "id": 525553305,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1750781676
    },
    {
        "content": "<p>I think one reason we are hesitant to put the big press-me button on lean websites is because installation is actually a somewhat subtle business; it depends on whether you want to have vscode bundled with lean or if you already have your own vscode or vscodium or something else. We would need to have a transition path for people who picked the wrong choice at the start</p>",
        "id": 525553960,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1750781900
    },
    {
        "content": "<p>maybe a few options are okay?</p>\n<p>[Lean + Mathlib + VSCode bundle] [Lean + Mathlib, I already have VSCode]<br>\nsubheader mini text: [I use another editor] [Lean only] [detailed instructions]</p>",
        "id": 525554289,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1750782020
    },
    {
        "content": "<p>or maybe it would be better to have a single button to start but then it runs an installer script that gives you more options after it notices e.g. that you already have vscode installed</p>",
        "id": 525554705,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1750782188
    },
    {
        "content": "<p>(<a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/657\">website#657</a>) to address the install-without-installation issue</p>",
        "id": 525555215,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1750782398
    },
    {
        "content": "<p>Related question: what happened with WASM?</p>",
        "id": 525555784,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1750782622
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525555784\">said</a>:</p>\n<blockquote>\n<p>Related question: what happened with WASM?</p>\n</blockquote>\n<p><a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/Pitch.20for.20Webassembly.20support.20.28and.20follow-up.20projects.29/near/524903931\">#general &gt; Pitch for Webassembly support (and follow-up projects) @ ðŸ’¬</a></p>",
        "id": 525559009,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750783830
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525545331\">said</a>:</p>\n<blockquote>\n<p>One question I immediately have on seeing this dmg idea is : how many vscode copies are people going to install if they unpack this dmg? Everytime users start a project?</p>\n</blockquote>\n<p>What I'm proposing is a completely different usage of Lean+Mathlib from what almost everyone on Zulip is doing. The vast majority of the people here are looking to contribute to Mathlib. It is extremely important to have big, beautiful, interconnected libraries on top of which to do mathematics. But some people (in fact probably the vast majority of mathematicians?), if they want to interact with Lean at all, will just want to <em>do math</em> in a formal system, without worrying about doing it in the \"right\" generality or with perfectly written code. And I think we should encourage/support this as well.</p>\n<p>Compare to how I currently use Mathematica: There's a big library of functions that allow quick computations; I open a new file, define new functions, compute something, do whatever I want. Then later I open a new file for some other reason and start over. Maybe I'll import my old file in the new file, if I want to reuse a computation (or just copy-paste). I'm not PRing my work to Mathematica (nevermind that they're not open source), but when I write a paper, I can add a link to a github page storing my Mathematica file, so others can check that I've done what I claimed.</p>\n<p>This discussion is also motivated by this slide in my \"Big Proof\" talk...<br>\n<a href=\"/user_uploads/3121/KHSaVJug-yQ9sX4GbOiYrk7E/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/KHSaVJug-yQ9sX4GbOiYrk7E/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1746x1038\" src=\"/user_uploads/thumbnail/3121/KHSaVJug-yQ9sX4GbOiYrk7E/image.png/840x560.webp\"></a></div>",
        "id": 525568547,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750787826
    },
    {
        "content": "<p>That is, vastly more mathematicians can/should be doing research <em>on top of</em> Mathlib, without necessarily contributing what they do to Mathlib. (This has all kinds of issues. Version tracking, stability across time, etc. Other people can come later, and get whatever was done into Mathlib...)</p>",
        "id": 525569181,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750788056
    },
    {
        "content": "<p>But we have to meet them where they are, not insist that they develop a whole slew of new skills they don't currently have / want...</p>",
        "id": 525569290,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750788099
    },
    {
        "content": "<p>This is maybe asking for something similar to trylean (which existed for Lean 3 and I think doesn't / hasn't for Lean 4 yet) isn't it? C.f. a recent <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/trylean.20bundle.20for.20lean4/with/381420285\">#general &gt; trylean bundle for lean4</a></p>",
        "id": 525569405,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750788137
    },
    {
        "content": "<p>(Random mac software info by the way is that if you don't know how to make a DMG but want to make one anyway to try this / something out, I think <a href=\"https://c-command.com/dropdmg/\">https://c-command.com/dropdmg/</a> is the usual software for doing so if you're not going to figure out how to do it manualy -- though it's not free!)</p>",
        "id": 525569607,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750788231
    },
    {
        "content": "<p>Is trylean similar to just <a href=\"http://live.lean-lang.org\">live.lean-lang.org</a> / codespaces / gitpod? Those are good, but if the internet is going slowly, it gets frustrating. It'd be nice to have something people can quickly download and run locally, even if it's not the \"professional\" workflow...</p>",
        "id": 525569987,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750788332
    },
    {
        "content": "<p>trylean was run locally (at least as far as I know -- I haven't used it I just recall seeing it discussed a few times), so not like the web services like live.lean-lang or gitpod -- to my read it's something sort of exactly what your first message says modulo some details like precisely whether VSCode is fully hidden from the user and called Mathlib or whatever. <span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> I'm sure will have info/opinions on this topic broadly</p>",
        "id": 525570403,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750788482
    },
    {
        "content": "<p>yes you are describing exactly what trylean is supposed to be</p>",
        "id": 525570794,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1750788637
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366779\">@Jz Pan</span> made a Try4Lean bundle</p>",
        "id": 525571512,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1750788916
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/stream/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525568547\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525545331\">said</a>:</p>\n<blockquote>\n<p>One question I immediately have on seeing this dmg idea is : how many vscode copies are people going to install if they unpack this dmg? Everytime users start a project?</p>\n</blockquote>\n<p>What I'm proposing is a completely different usage of Lean+Mathlib from what almost everyone on Zulip is doing. The vast majority of the people here are looking to contribute to Mathlib. It is extremely important to have big, beautiful, interconnected libraries on top of which to do mathematics. </p>\n<p>But some people (in fact probably the vast majority of mathematicians?), if they want to interact with Lean at all, will just want to <em>do math</em> in a formal system, without worrying about doing it in the \"right\" generality or with perfectly written code. And I think we should encourage/support this as well.</p>\n<p>Compare to how I currently use Mathematica: There's a big library of functions that allow quick computations; I open a new file, define new functions, compute something, do whatever I want. Then later I open a new file for some other reason and start over. Maybe I'll import my old file in the new file, if I want to reuse a computation (or just copy-paste). I'm not PRing my work to Mathematica (nevermind that they're not open source), but when I write a paper, I can add a link to a github page storing my Mathematica file, so others can check that I've done what I claimed.</p>\n<p>This discussion is also motivated by this slide in my \"Big Proof\" talk...<br>\n<a href=\"/user_uploads/3121/KHSaVJug-yQ9sX4GbOiYrk7E/image.png\">image.png</a></p>\n</blockquote>\n<p>I am not one of those people who regularly contributes to mathlib. In fact most lean projects I am aware of are in the CS domain and we share the same interests that you mentioned. In some areas of CS it is common to use theorem provers as notebooks or whiteboards. So I relate to this. </p>\n<p>The way I solve this issue currently is to have a math downstream project that I call scratch. It serves as my notebook for every little experiment that I do. The trylean bundle some have suggested here is the closest approach that works offline with less setup time than the scratch project approach.</p>",
        "id": 525572356,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750789268
    },
    {
        "content": "<p>You mentioned dmg. I assume you are on a recent Mac. In that case gitpod desktop might work. I hope they get it working on other OSes</p>",
        "id": 525572647,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750789381
    },
    {
        "content": "<p>I agree with <span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> .  I'll add one more feature of the installation process that I find unsatisfactory.  The Setup Guide asks me to open a terminal and type <code>/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"</code>.  I'm told that this will install something called Homebrew.  Then I'm told to make sure I add <code>brew</code> to my PATH.</p>\n<p>I suspect that the average mathematician who uses a Mac never uses the command line.  They may not know what a terminal is.  The command they are asked to type is complete gibberish.  They are likely to wonder: Is it safe?  If I get it wrong will it completely screw up my computer?  The fact that what is being installed is called \"homebrew\" doesn't instill confidence--it doesn't sound like a reliable, professional piece of software.  And what's a PATH, and what does it mean to add something to it?</p>\n<p>I would guess that many mathematicians would stop at this point and decide that it's not worth it to try to install Lean.</p>",
        "id": 525583057,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1750793740
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525571512\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> made a Try4Lean bundle</p>\n</blockquote>\n<p>It's here <a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/My.20version.20of.20offline.20mathlib.20help.20and.20TryLean4.20Windows/near/520727106\">#general &gt; My version of offline mathlib help and TryLean4 Windows @ ðŸ’¬</a>  it's a complete standalone installation of VSCode+git+elan+lake+lean+mathlib with a demo project importing mathlib, configured with launch script + environment variables so it doesn't write to default user config directory. But currently it only works on Windows.</p>",
        "id": 525583404,
        "sender_full_name": "Jz Pan",
        "timestamp": 1750793895
    },
    {
        "content": "<p>\"complete standalone installation\" means that you can run <code>lake update</code> at the expense that it needs Internet connection. Otherwise it's completely offline.</p>",
        "id": 525583817,
        "sender_full_name": "Jz Pan",
        "timestamp": 1750794073
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"453098\">Dan Velleman</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525583057\">said</a>:</p>\n<blockquote>\n<p>I suspect that the average mathematician who uses a Mac never uses the command line.  They may not know what a terminal is.  The command they are asked to type is complete gibberish.  They are likely to wonder: Is it safe?  If I get it wrong will it completely screw up my computer?  The fact that what is being installed is called \"homebrew\" doesn't instill confidence--it doesn't sound like a reliable, professional piece of software.  And what's a PATH, and what does it mean to add something to it?</p>\n</blockquote>\n<p>As of very recently Homebrew has a <code>.pkg</code> installer. I haven't tried it yet, but probably one of us should, at which point that instruction should go away in favor of \"click this link and then click the pkg installer\" and then there's no terminal. (EDIT: this regardless of the fact that yeah I agree with lots of the other papercut suggestions, I'm sure PRs are welcome.)</p>",
        "id": 525587433,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750795647
    },
    {
        "content": "<p>Another option might be to throw out the use of Homebrew entirely and replace it with Apple Command Line Tools (i.e. <code>xcode-select --install</code>). I'm not a macOS user - my understanding is that Apple Command Line Tools can be significantly out-of-date, but perhaps having a <code>git</code> that's a couple of years old is not a deal-breaker? Are there any other potential caveats that I am missing?</p>\n<p>I'm definitely happy to replace the macOS instructions with something simpler that works similarly well.</p>",
        "id": 525599318,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750801055
    },
    {
        "content": "<p>I think the solution here is to build a cross platform GUI installer that checks everything and allows starting a scratchpad math project in a standard directory (so that people donâ€™t go looking for the vscode icon)</p>",
        "id": 525601223,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750801921
    },
    {
        "content": "<p>Do we actually need homebrew? <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> gives a one-liner you can run in the terminal and I don't see anything in that script that requires it, but perhaps its downstream?</p>",
        "id": 525711638,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1750857629
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> : I must mention that my suggestion is only a band aid. It will get the basic setup installed. A graphical interface is necessarily limited and cannot cover every edge case scenario. In case something goes wrong, there is bound to be some suggestion to \"paste and run the following command in a terminal\". Lean exists and works in an ecosystem of other software and can only hide this to some extent and not reinvent the wheel. I would classify things like using CLI and git as essential (though imperfect) tools of the trade that can be hidden, but only upto a point.</p>",
        "id": 525716243,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1750859044
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"282271\">Bolton Bailey</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525555215\">said</a>:</p>\n<blockquote>\n<p>(<a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/657\">website#657</a>) to address the install-without-installation issue</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/663\">website#663</a> goes further and addresses papercuts 1, 2 more (though probably not perfectly), and removes one click from papercut 3.</p>",
        "id": 525901454,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1750943492
    },
    {
        "content": "<p>Just noting a critical step of preparing \"one click\" installers that has been a hurdle before: whoever makes it also needs to make the CI tests that verify that it still works! Convincingly doing this for one click installers is challenging. But without this, they rot and cause havoc.</p>",
        "id": 525903577,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1750944071
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525711638\">said</a>:</p>\n<blockquote>\n<p>Do we actually need homebrew? <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> gives a one-liner you can run in the terminal and I don't see anything in that script that requires it, but perhaps its downstream?</p>\n</blockquote>\n<p>It's not clear to me whether Git is always installed on macOS. From what I can find, the pre-installed one needs to be activated e.g. by calling <code>git version</code> on the command line once and then choosing to install it, i.e. it is not ready-to-go out of the box? I'd be grateful if a macOS expert could chime in.</p>",
        "id": 525904331,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750944273
    },
    {
        "content": "<p>It's not preinstalled, it's just installed with CLT</p>",
        "id": 525904500,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750944326
    },
    {
        "content": "<p>Thanks :-) Then I assume the linked installation script on the community website is incomplete, too?</p>",
        "id": 525904648,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750944371
    },
    {
        "content": "<p>As for that script -- it's been awhile since I'd looked at it, it certainly used to use homebrew to install CLT then to install both elan and VSCode. I knew that it was changed at some point to no longer use brew to install elan (though I don't recall why). I didn't know it no longer was being used to install VSCode (EDIT: looks like <a href=\"https://github.com/leanprover-community/mathlib4/commit/006e993bcecfe563273d5066c8a4b36f81a6306c\">https://github.com/leanprover-community/mathlib4/commit/006e993bcecfe563273d5066c8a4b36f81a6306c</a> was what did it with the commit message saying explicitly it was to avoid needing homebrew). As a user that makes me uncomfortable but I'm not the target audience, so for the audience Alex was talking about they for sure don't care...</p>",
        "id": 525904683,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750944377
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"221921\">Marc Huisinga</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525904648\">said</a>:</p>\n<blockquote>\n<p>Thanks :-) Then I assume the linked installation script on the community website is incomplete, too?</p>\n</blockquote>\n<p>Possibly, do we not have CI for it, I guess even if we did it's tricky because GH Actions runners have homebrew preinstalled, presumably there's some way of getting something more vanilla...</p>",
        "id": 525904819,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750944415
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/525904500\">said</a>:</p>\n<blockquote>\n<p>It's not preinstalled, it's just installed with CLT</p>\n</blockquote>\n<p>Are there any caveats you can think of for replacing our instructions to install brew and installing Git through it with instructions to install CLT?</p>",
        "id": 525905557,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750944616
    },
    {
        "content": "<p>No that seems reasonable sounding to me I think</p>",
        "id": 525905666,
        "sender_full_name": "Julian Berman",
        "timestamp": 1750944642
    },
    {
        "content": "<p>Thanks. I'll do that after my vacation then. It's probably not a good idea to make significant changes to our installation process in VS Code just before I leave for a couple of weeks.</p>",
        "id": 525905940,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750944709
    },
    {
        "content": "<p>This was certainly another papercut! We had installed VSCode and the lean extension. Then we needed to install Git. But to get Git, we needed to install Homebrew. Argh! Again, many layers of recursion, each a failure point... Ideally the script would check: is Homebrew installed? (If not, install it.) Is Git installed? (If not, install it) etc...</p>",
        "id": 525961155,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1750962651
    },
    {
        "content": "<p>To me, this is the worst papercut of all.  I don't mind asking users to install VSCode themselves.  That installation is easy--it works the way users expect.  It's probably a good thing for new users to understand that, when they are using Lean, the application they will be running is VSCode.  So it makes sense to say to them \"you're going to need VSCode, so install that first.\"  And installing the lean extension is also easy--just click on an \"install\" button and it's done.  It's the rest of the installation that is suddenly much harder and confusing.  If we could just automate that, I'd be happy.</p>",
        "id": 525962109,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1750963019
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"453098\">@Dan Velleman</span> Is it just the dependency step that you find to be difficult, or is installing Elan and setting up a Lean project difficult as well (i.e. the steps after that)?</p>",
        "id": 525962485,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750963183
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span>  For me, the most important thing is that installing the dependencies and Elan should be a single, automated step.  It would be best if users didn't need to open a terminal at all, and if they didn't need to know anything about homebrew, git, and curl.</p>\n<p>Setting up a Lean project could be included in that step too, but I think that's less important.  Different users may want different things--some will want to open an existing project (perhaps a project that comes with the book they are reading) and some will want to create a new project, either depending on Mathlib or not.  We already have the \"New Project\" and \"Open Project\" commands in VSCode.  I haven't played with those much, but if they're user-friendly enough, then perhaps there is no need to include setting up a project in the installation step.  After all, installing Lean and setting up a project are, conceptually, two different things.</p>",
        "id": 525963871,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1750963762
    },
    {
        "content": "<p>Thanks :-)</p>\n<p>I think we could combine those steps on macOS and provide a detailed description on the side of what the combined installation button does for users who like to understand what will be installed by a single button press.<br>\nIt'll be a bit trickier on Windows, since everyone usually uses the Git GUI installer. I suppose we could install Git through winget nowadays, though?<br>\nLinux will be very distro-dependent, but perhaps we could special-case it for a bunch of common distros.</p>\n<p>I'll look into these in a couple of weeks when I'm back from vacation.</p>",
        "id": 525966164,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1750964779
    },
    {
        "content": "<p>I noticed that Lean ships with a <code>leanc</code> program which is just an isolated version of <code>clang</code>. This gave me the idea (and this is just an idea, not a proposal) that we could do the same for <code>git</code>, and make a <code>leangit</code> program available in PATH instead of requiring the user to install their own. The idea is that only <code>lake</code> would use <code>leangit</code>, and if someone wanted to contribute to mathlib they would install their own version of git much later when they aren't being overwhelmed by the installation process for Lean</p>\n<p>Pros:</p>\n<ul>\n<li>Easier installation process, and we don't have to worry about checking whether the user already has git installed. Some users have git installed but not added to PATH, which might be hard to detect.</li>\n<li>leangit goes away when uninstalling Lean. I'm often uncomfortable when programs install their own system dependencies that aren't isolated to the directory of the program I install.</li>\n<li>Users may or may not want to customize the installation settings for git, especially on Windows, and this deprives them of the ability to do so. For example, users might want/not want Unix utilities added to PATH.</li>\n</ul>\n<p>Cons:</p>\n<ul>\n<li>This increases the size of Lean. I just checked, and the portable (aka \"thumbdrive edition\") version of git for windows is 64MB compressed/416 MB uncompressed (probably because it bundles a Unix environment). Lean is about 1.7 GB right now, so this would increase the size of Lean by about 25% (on Windows, probably less on other OSes where git takes up less space). This cost would be per toolchain as well.</li>\n<li>Giving users the ability to configure whether they want Lean to manage the git installation might cause more issues than it solves.</li>\n<li>User who install a newer version of Lean which would manage git but then want to check out a project using an older version of Lean would still need to install git manually.</li>\n<li>There's the question of whether <code>leangit</code> should share the users git config and login credentials.</li>\n</ul>",
        "id": 526229282,
        "sender_full_name": "Niels Voss",
        "timestamp": 1751146036
    },
    {
        "content": "<p>Please let's not have a lean managed git (or vscode for that matter) for all the cons you listed above plus the fact that it doesn't actually save any trouble users might have with git CLI. The standard git installation can at least be updated through the package manager</p>",
        "id": 526229751,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751146804
    },
    {
        "content": "<p>From my understanding, the reason users need to install git is because Lake needs it to download dependencies like Batteries, Aesop, and Mathlib. I would say that many new users to Lean have no idea what git even is. If Lake didn't need git I would say that we shouldn't tell people to install git at all unless they plan on contributing to (not just depending on) mathlib. So, users would not interface with <code>leangit</code> at all directly, the same way they don't interface with <code>leanc</code>.</p>\n<p>Also, I know git is pretty good on backward compatibility, but wouldn't it be more stable if any two users with the same version of lake were also guaranteed to have the same version of git?</p>",
        "id": 526229959,
        "sender_full_name": "Niels Voss",
        "timestamp": 1751147162
    },
    {
        "content": "<p>Actually, does anyone have a rough estimate of what percent of new Lean users need to clone a git repository themselves (e.g. contributing to Mathlib, FLT, or MIL) the moment they install Lean, as opposed to starting a new project for a class or just making some scratch files that depend on Mathlib?</p>",
        "id": 526230296,
        "sender_full_name": "Niels Voss",
        "timestamp": 1751147644
    },
    {
        "content": "<p>I think the problems with a lean managed anything are best exemplified by the Isabelle managed vscodium that is unusable for anything except Isabelle (arguably even for Isabelle). Every year they package a specific version of vscodium. You canâ€™t install any <del>incompatible</del> extensions on it. Even more if you perform manual installation,  as vscode moves ahead roughly one version per month, managing the extension can become difficult.</p>",
        "id": 526231395,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751149212
    },
    {
        "content": "<p>There are plenty of good tooling options for git+github like GitHub desktop for example, that may not work so well or require custom configuration to work with lean git. Git installation is not as hard as it used to be. Just bundling platform specific install scripts behind a GUI would be better.</p>",
        "id": 526231525,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751149434
    },
    {
        "content": "<p>The rest of the conversation is over my head, but I'll just chime in with: Git installation may have been even more difficult in the past, but it's still very difficult now for pure mathematicians who just want to \"prove some theorems\" and are immediately turned off when, after overcoming the VSCode and Lean4 extension instructions, they then have to figure out how to install Homebrew, to install Git...</p>",
        "id": 526233151,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1751152142
    },
    {
        "content": "<p>Yeah I definitely agree Lean should not manage a VSCode install (except maybe in the try Lean bundle). The difference is that <code>leangit</code> would be an implementation detail of <code>lake</code> so it wouldn't need to be updated regularly, whereas a Lean managed VSCode would be bad because it is <em>not</em> an implementation detail</p>",
        "id": 526241237,
        "sender_full_name": "Niels Voss",
        "timestamp": 1751165193
    },
    {
        "content": "<p>If the only thing you are doing is downloading dependencies, lake could plausibly support that without git, by just downloading the source tarball. For creating a new project it needs git though; it could proceed without creating a git project but this sounds like a configuration error in the making</p>",
        "id": 526271103,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751205024
    },
    {
        "content": "<p>What's the problem with making a lake project without git?</p>\n<p>If Lean could operate without depending on git, that might be for the best, although that sounds like a lot of work to make happen and it might not be worth it. (One issue is that lake might current rely on git for downloading private dependencies)</p>",
        "id": 526276475,
        "sender_full_name": "Niels Voss",
        "timestamp": 1751210555
    },
    {
        "content": "<p>But how to download or update mathlib dependencies without git?</p>",
        "id": 526279530,
        "sender_full_name": "Jz Pan",
        "timestamp": 1751213748
    },
    {
        "content": "<p>Maybe we can host weekly releases <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 526279625,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751213849
    },
    {
        "content": "<p>You will end up reinventing a half baked version of git</p>",
        "id": 526282667,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751217427
    },
    {
        "content": "<p>Providing a uniform gui installer solves the installation problem, but the fact remains that git is a tool of this trade and sooner or later basic proficiency in it will become important.</p>",
        "id": 526282723,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751217490
    },
    {
        "content": "<p>For the use case Alex is describing, a trylean bundle or installer is the best bet and it wonâ€™t be foolproof by a long shot.</p>",
        "id": 526282740,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751217525
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/526282723\">said</a>:</p>\n<blockquote>\n<p>the fact remains that git is a tool of this trade and sooner or later basic proficiency in it will become important.</p>\n</blockquote>\n<p>That's fair, but I think the idea is that you should be able to learn Lean first and the learn git later. Plus some people I know only use GitHub desktop and don't ever install a CLI version of git, and I think that's perfectly valid.</p>\n<p>But yeah I agree that there are some problems with the Lean managed git. The universal installer fixes some of them, but I hope that if this is the approach we use, the installer remains transparent about what it is actually installing (a message like \"We will now automatically install git, a program that Lean needs to use Lean libraries like Mathlib\" would suffice) and have a plan to deal with esoteric git installations on windows (for example, one of the options during the Git for Windows install is to not add git to PATH and only make it available in git bash)</p>",
        "id": 526284584,
        "sender_full_name": "Niels Voss",
        "timestamp": 1751219596
    },
    {
        "content": "<p>The obvious-but-hard solution is to ship libgit2 with Lean and have Lake use that instead of running git.exe. Creating libgit2 bindings for Lean  seems like a fun project.</p>",
        "id": 526286411,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1751221581
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/channel/113488-general/topic/Mathlib.2Edmg.20installation.3F/near/526286411\">said</a>:</p>\n<blockquote>\n<p>The obvious-but-hard solution is to ship libgit2 with Lean and have Lake use that instead of running git.exe. Creating libgit2 bindings for Lean  seems like a fun project.</p>\n</blockquote>\n<p>That would be lovely as long as the developer commits to maintain the bindings and keep them compatible with the latest version of libgit2</p>",
        "id": 526437031,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1751299844
    },
    {
        "content": "<p>Have you heard <a href=\"https://www.swig.org/\">SWIG</a>? It is a software which automatically generates bindings of C/C++ library to other languages. Maybe we can add a Lean4 support to it, or reimplement it using Lean.</p>",
        "id": 526442111,
        "sender_full_name": "Jz Pan",
        "timestamp": 1751301518
    }
]