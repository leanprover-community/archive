[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"256311\">Jannis Limperg</span> <a href=\"#narrow/stream/113488-general/topic/.E2.9C.94.20LaTeX.20beamer/near/281279118\">said</a>:</p>\n<blockquote>\n<p>Good ol' <code>fragile</code>. \"Half of our stuff doesn't work until you give this random argument and none of our error messages will even hint at this.\"</p>\n</blockquote>\n<p>Guess who just spent half an hour debugging a <code>\\verb||</code> call <span aria-label=\"sweat\" class=\"emoji emoji-1f613\" role=\"img\" title=\"sweat\">:sweat:</span></p>",
        "id": 413241266,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705440241
    },
    {
        "content": "<p>Why use verb when you can use mintinline?</p>",
        "id": 413245886,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1705442244
    },
    {
        "content": "<p>Because I don't know what it is! Does it come from <code>minted</code>?</p>",
        "id": 413246001,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705442287
    },
    {
        "content": "<p>What's the easiest way to extract Lean code snippets from VSCode for inclusion in Beamer slides? Are <code>listings</code> or <code>minted</code> the recommended methods, as outlined in the Lean manual? Which approach would you suggest?</p>",
        "id": 472529843,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1727194840
    },
    {
        "content": "<p>I think <code>listings</code> is the most commonly used.</p>",
        "id": 472530895,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1727195198
    },
    {
        "content": "<p>Just realized the snippets need to be rather short ... (removing the comments helps).</p>",
        "id": 472533990,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1727196213
    },
    {
        "content": "<p>I'd argue that <code>minted</code> + XeTeX/LuaLatex + fontspec + JuliaMono has the better results</p>",
        "id": 472534887,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727196550
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> Could you please post a preamble for <code>minted</code>+<code>LuaLaTeX</code>?</p>",
        "id": 474651447,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727978195
    },
    {
        "content": "<p>Even better would be to put such a preamble as a wiki page in <code>mathlib</code>.</p>",
        "id": 474659506,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1727980469
    },
    {
        "content": "<p>I'll make an overleaf template (edit: submitted and pending moderation)</p>",
        "id": 474676902,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727987523
    },
    {
        "content": "<p>The basic preamble is</p>\n<div class=\"codehilite\" data-code-language=\"TeX\"><pre><span></span><code><span class=\"k\">\\documentclass</span><span class=\"nb\">{</span>article<span class=\"nb\">}</span>\n<span class=\"k\">\\usepackage</span><span class=\"nb\">{</span>fontspec<span class=\"nb\">}</span>\n<span class=\"k\">\\usepackage</span><span class=\"nb\">{</span>minted<span class=\"nb\">}</span>\n\n<span class=\"c\">% JuliaMono has all the symbols needed for Lean code</span>\n<span class=\"k\">\\setmonofont</span><span class=\"na\">[Scale=MatchLowercase]</span><span class=\"nb\">{</span>JuliaMono<span class=\"nb\">}</span>[\n  Extension=.ttf,\n  UprightFont=*-Regular,\n  BoldFont=*-Bold,\n  ItalicFont=*-RegularItalic,\n  BoldItalicFont=*-BoldItalic,\n  RawFeature=<span class=\"nb\">{</span>-calt<span class=\"nb\">}</span>,\n]\n\n<span class=\"c\">% autogobble lets us indent the lean code to distinguish it from the latex</span>\n<span class=\"k\">\\setminted</span><span class=\"nb\">{</span>frame=single<span class=\"nb\">}</span>\n<span class=\"k\">\\newmintinline</span><span class=\"na\">[lean]</span><span class=\"nb\">{</span>lean<span class=\"nb\">}{</span>breaklines,breakbefore=<span class=\"nb\">{</span>. <span class=\"nb\">}</span>,breakafter=<span class=\"nb\">{_}}</span>\n<span class=\"k\">\\newminted</span><span class=\"na\">[leancode]</span><span class=\"nb\">{</span>lean<span class=\"nb\">}{</span>autogobble<span class=\"nb\">}</span>\n\n<span class=\"c\">% Configure the appearance of minted.</span>\n<span class=\"c\">% We adjust the spacing around minted environments, which stretches badly by default</span>\n<span class=\"k\">\\fvset</span><span class=\"nb\">{</span>listparameters=<span class=\"k\">\\setlength</span><span class=\"nb\">{</span><span class=\"k\">\\topsep</span><span class=\"nb\">}{</span>0pt<span class=\"nb\">}</span><span class=\"k\">\\setlength</span><span class=\"nb\">{</span><span class=\"k\">\\parsep</span><span class=\"nb\">}{</span>0pt<span class=\"nb\">}}</span>\n<span class=\"k\">\\AtBeginEnvironment</span><span class=\"nb\">{</span>minted<span class=\"nb\">}{</span><span class=\"k\">\\vspace</span><span class=\"nb\">{</span>4pt<span class=\"nb\">}}</span>\n<span class=\"k\">\\renewcommand</span><span class=\"nb\">{</span><span class=\"k\">\\floatpagefraction</span><span class=\"nb\">}{</span>.99<span class=\"nb\">}</span>\n<span class=\"k\">\\renewcommand</span><span class=\"nb\">{</span><span class=\"k\">\\bottomfraction</span><span class=\"nb\">}{</span>.7<span class=\"nb\">}</span>\n</code></pre></div>\n<p>along with unzipping the juliamono tarball in an appropriate place</p>",
        "id": 474677364,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727987732
    },
    {
        "content": "<p>This is really just a slightly-opinionated version of <a href=\"https://docs.lean-lang.org/lean4/doc/syntax_highlight_in_latex.html#example-with-minted\">https://docs.lean-lang.org/lean4/doc/syntax_highlight_in_latex.html#example-with-minted</a></p>",
        "id": 474677636,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727987862
    },
    {
        "content": "<p>Publishing was more trouble that it was worth, but I've made a public link at <a href=\"https://www.overleaf.com/read/cgqkbtvqrsdr#4440c9\">https://www.overleaf.com/read/cgqkbtvqrsdr#4440c9</a></p>",
        "id": 476469255,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728686778
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/113488-general/topic/.E2.9C.94.20LaTeX.20beamer/near/476469255\">said</a>:</p>\n<blockquote>\n<p>Publishing was more trouble that it was worth, but I've made a public link at <a href=\"https://www.overleaf.com/read/cgqkbtvqrsdr#4440c9\">https://www.overleaf.com/read/cgqkbtvqrsdr#4440c9</a></p>\n</blockquote>\n<p>Great, this still works if I simply change the documentclass to <code>beamer</code>.</p>",
        "id": 497778805,
        "sender_full_name": "Bjørn Kjos-Hanssen",
        "timestamp": 1738712971
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> has marked this topic as unresolved.</p>",
        "id": 502060591,
        "sender_full_name": "Notification Bot",
        "timestamp": 1740580174
    },
    {
        "content": "<p>I should perhaps point out that the link above is still Lean 3 highlighting, because the pygments release for Lean 4 fell slightly after texlive 2024 was cut (or at least, overleaf did not update it in their docker image). Hopefully it made 2025...</p>",
        "id": 504544281,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741605017
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>  It still works well, I'd say.</p>",
        "id": 504697765,
        "sender_full_name": "Bjørn Kjos-Hanssen",
        "timestamp": 1741644928
    }
]