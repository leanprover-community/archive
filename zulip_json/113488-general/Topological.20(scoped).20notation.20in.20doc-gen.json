[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/blob/8fc0483a875e84b83c6cdb6f5c124bcbb3530370/Mathlib/Topology/Defs/Basic.lean#L189\">https://github.com/leanprover-community/mathlib4/blob/8fc0483a875e84b83c6cdb6f5c124bcbb3530370/Mathlib/Topology/Defs/Basic.lean#L189</a> one finds the definition of open/closed/etc... with respect to non-standard topologies, so that one can write <code>IsOpen[T] (U : Set X)</code>, for instance, to mean that a set <code>U</code> is open wrt to the topology <code>T</code> rather than wrt any other topology that might be synthesized on <code>X</code>. This I find very convenient, but it does not show up in the doc-gen so that, for example, while reading <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearMap.mem_span_iff_continuous_of_finite#doc\">docs#LinearMap.mem_span_iff_continuous_of_finite</a> online one has no clue of the topology on <code>E</code> with respect to which <code>φ</code> would be continuous — whereas <a href=\"https://github.com/leanprover-community/mathlib4/blob/8fc0483a875e84b83c6cdb6f5c124bcbb3530370/Mathlib/Analysis/LocallyConvex/WeakDual.lean#L103-L116\">in the source</a> this is very clear.</p>\n<p>I wonder whether</p>\n<ol>\n<li>is there anything that can be done to force the website to contain more notation;</li>\n<li>we should embrace the policy of forcing all declarations using this notation to contain a  <code>docComment</code> in the form<code>/-- ... -/</code> (rather than just a <code>/- ... -/</code> comment) so that this will show up in the website.</li>\n</ol>",
        "id": 565193294,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1766511998
    },
    {
        "content": "<p>My preference would be for n°1, by writing a custom delaborator checking for canonicity of instances. This will also be very useful in measure theory land, for the same reasons.</p>",
        "id": 565193439,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1766512071
    },
    {
        "content": "<p>I completely agree, but I cannot assess how hard this would be.</p>",
        "id": 565193491,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1766512097
    },
    {
        "content": "<p>It should be relatively easy. Maybe open a <code>good-first-issue</code> on the mathlib repo?</p>",
        "id": 565193591,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1766512151
    },
    {
        "content": "<p>Off the top of your head, does this involve synthesizing instances during prettyprinting? If so I’ll revive my bugfix PR to core for an issue related to that. :)</p>",
        "id": 565193795,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1766512243
    },
    {
        "content": "<p><del>I'm not entirely sure this has to do with prettyprinting, but <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> will certainly know better.</del></p>",
        "id": 565194041,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1766512364
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/113488-general/topic/Topological.20.28scoped.29.20notation.20in.20doc-gen/near/565193591\">said</a>:</p>\n<blockquote>\n<p>It should be relatively easy. Maybe open a <code>good-first-issue</code> on the mathlib repo?</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/issues/33238\">https://github.com/leanprover-community/mathlib4/issues/33238</a></p>",
        "id": 565194267,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1766512495
    },
    {
        "content": "<p>It is about pretty-printing indeed (doc-gen is a glorified pretty printer after all). There's a cheap way to write this delaborator for the most common cases (check whether there are two <code>TopologicalSpace Foo</code> hypotheses in context), but the proper solution would indeed involve synthesizing instances.</p>",
        "id": 565194306,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1766512515
    },
    {
        "content": "<p>Also to my knowledge, scoped notations appearing in documentation is still blocked by <a href=\"https://github.com/leanprover/lean4/pull/6050\">lean4#6050</a>. The comments link to a previous Zulip thread. (Please upvote if like myself you find this important!)</p>",
        "id": 565195845,
        "sender_full_name": "Chris Henson",
        "timestamp": 1766513299
    },
    {
        "content": "<p>linking <a href=\"#narrow/channel/239415-metaprogramming-.2F-tactics/topic/Delaborators.20for.20.60IsOpen.5Bt.5D.60.20etc\">#metaprogramming / tactics &gt; Delaborators for &#96;IsOpen&#91;t&#93;&#96; etc</a>  here</p>",
        "id": 565209299,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1766521886
    },
    {
        "content": "<p>Right, there is already a (open?) PR for what Yael describes</p>",
        "id": 565214853,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1766525587
    },
    {
        "content": "<p>But if the notation is scoped it doesn't help</p>",
        "id": 565214866,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1766525596
    }
]