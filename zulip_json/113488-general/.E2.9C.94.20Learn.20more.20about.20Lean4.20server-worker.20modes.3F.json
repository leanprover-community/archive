[
    {
        "content": "<p>We are using Lean4 in an agentic workflow and need to communicate with Lean4 server from within Python code. What are good resources to learn about how to accomplish this? Thanks!</p>",
        "id": 492411293,
        "sender_full_name": "Arvind Arasu",
        "timestamp": 1736295288
    },
    {
        "content": "<p>I think <a href=\"https://github.com/leanprover-community/repl\">https://github.com/leanprover-community/repl</a> might be useful for you</p>",
        "id": 492436282,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736313288
    },
    {
        "content": "<p>(I think <span class=\"user-mention\" data-user-id=\"708769\">@Arvind Arasu</span> specifically means they want to talk to the LSP server? But it's unclear, and perhaps the REPL is the right answer.)</p>",
        "id": 492444764,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736319736
    },
    {
        "content": "<p>Thanks Johan and Kim for the suggestions and the discussion.</p>\n<p>We need to programmatically start off lean with some libraries and incrementally add new definitions, validate proofs, and typecheck terms. The programmatic part arises since these inputs come from an LLM.</p>\n<p>We could use the REPL than Johan suggests and call it from within python code; LSP server should also work and that is probably the right thing to use long term but some of the features of LSP should not be relevant to our use case. </p>\n<p>I am planning to look at the REPL code and also the lean-vscode source code. Any other resources and pointers we should look at? Thanks!</p>",
        "id": 492548951,
        "sender_full_name": "Arvind Arasu",
        "timestamp": 1736356051
    },
    {
        "content": "<p>I think those two resources are the most relevant.</p>",
        "id": 492550103,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736356355
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"219941\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Pantograph\">#Machine Learning for Theorem Proving &gt; Pantograph</a> is a newer REPL by <span class=\"user-mention\" data-user-id=\"599027\">@Leni Aniva</span> et al</p>",
        "id": 492550470,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1736356470
    },
    {
        "content": "<p>Aah of course, sorry for blanking on that one</p>",
        "id": 492550556,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736356498
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"708769\">Arvind Arasu</span> has marked this topic as resolved.</p>",
        "id": 492571104,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736364642
    },
    {
        "content": "<blockquote>\n<p>LSP server should also work and that is probably the right thing to use long term but some of the features of LSP should not be relevant to our use case.</p>\n</blockquote>\n<p>If you are not implementing an editor plugin, then LSP is almost certainly the wrong protocol to use. It is optimized for human interaction, not machine interaction. You'd quickly find that LSP also doesn't expose a lot of the information that you'd like to access, given that it is a programming language independent protocol.</p>",
        "id": 492663834,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1736412052
    }
]