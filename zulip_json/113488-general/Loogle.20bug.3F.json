[
    {
        "content": "<p><a href=\"https://loogle.lean-lang.org/?q=%22%E2%84%95%22\">\"ℕ\"</a> fails to find <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Notation.html\">termℕ</a>, which <a href=\"https://loogle.lean-lang.org/?q=%22term%E2%84%95%22\">\"termℕ\"</a> succeeds in for some reason</p>",
        "id": 547066401,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761407457
    },
    {
        "content": "<p>(cc <span class=\"user-mention\" data-user-id=\"470149\">@Joachim Breitner</span>)</p>",
        "id": 547066403,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761407461
    },
    {
        "content": "<p>oh I remember this</p>",
        "id": 547066461,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761407531
    },
    {
        "content": "<p>looks like loogle doesn't find a declaration when you search for its last \"letter\" (whatever that means) and you only search by name fragments</p>",
        "id": 547067751,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409046
    },
    {
        "content": "<p>interesting</p>",
        "id": 547067773,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409072
    },
    {
        "content": "<p>oh I figured it out</p>",
        "id": 547067835,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409165
    },
    {
        "content": "<p>this is really stupid</p>",
        "id": 547067841,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409174
    },
    {
        "content": "<p><a href=\"https://github.com/nomeata/loogle/blob/ad0d2bbd507ac28ef353c4421533192eda3c5555/Loogle/Find.lean#L196\">https://github.com/nomeata/loogle/blob/ad0d2bbd507ac28ef353c4421533192eda3c5555/Loogle/Find.lean#L196</a></p>",
        "id": 547067843,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409176
    },
    {
        "content": "<p>it subtracts one, but <code>List.range n</code> only goes from <code>0</code> to <code>n - 1</code> anyways, so it ends up going from <code>0</code> to <code>s.length - 2</code></p>",
        "id": 547067884,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409213
    },
    {
        "content": "<p>and when you drop <code>s.length - 2</code> you end up with a string of length 2</p>",
        "id": 547067932,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409278
    },
    {
        "content": "<p>so the length one suffix never gets added</p>",
        "id": 547067943,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409287
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">elab</span><span class=\"w\"> </span><span class=\"s2\">\"test\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"s2\">\"testing\"</span>\n<span class=\"w\">  </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">do</span><span class=\"w\"> </span><span class=\"c1\">-- -1 to not consider the empty suffix</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">suf</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">drop</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">    </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"n\">suf</span>\n<span class=\"w\">  </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">mkNatLit</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">test</span>\n</code></pre></div>",
        "id": 547067951,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409304
    },
    {
        "content": "<p>yep your observation is correct</p>",
        "id": 547067954,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409307
    },
    {
        "content": "<p>the last printed message is <code>ng</code></p>",
        "id": 547067968,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409319
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span> you could probably just PR?</p>",
        "id": 547068006,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409354
    },
    {
        "content": "<p>what</p>",
        "id": 547068013,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409363
    },
    {
        "content": "<p>why me</p>",
        "id": 547068014,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409364
    },
    {
        "content": "<p>you found the error code</p>",
        "id": 547068028,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409378
    },
    {
        "content": "<p>fine I'll do it</p>",
        "id": 547068035,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409385
    },
    {
        "content": "<p>thanks!</p>",
        "id": 547068046,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761409399
    },
    {
        "content": "<p><a href=\"https://github.com/nomeata/loogle/pull/45\">nomeata/loogle#45</a></p>",
        "id": 547068344,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761409711
    }
]