[
    {
        "content": "<p>Any objections to:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">add_right_inj</span><span class=\"w\"> </span><span class=\"c1\">-- gives i + k = j + k ↔ i = j -- This is incorrectly named.</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">add_right_inj</span><span class=\"w\">     </span><span class=\"c1\">-- gives k + i = k + j ↔ i = j -- This is correctly named.</span>\n</code></pre></div>",
        "id": 482835891,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731825577
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/6106\">lean#6106</a></p>",
        "id": 482836236,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731825912
    },
    {
        "content": "<p>I'm happy with the renaming, but is the rule for <code>left</code> and <code>right</code> written down somewhere? I can't find it in <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a>.</p>\n<p>For me, <code>k + i = k + j ↔ i = j</code> reads like injectivity of the function <code>(k + ·)</code>, which I would intuitively call <code>addLeft k</code>, so to me the intuitive name is <code>add_left_inj</code>. As another example, in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.isoWhiskerLeft#doc\">docs#CategoryTheory.isoWhiskerLeft</a> the side in the name also refers to the side that does not change. Should it be renamed as well?</p>",
        "id": 482846245,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1731835327
    },
    {
        "content": "<p>for sure this requires a more thorough census of existing usage, I definitely can't claim to agree with myself every time I ask this question</p>",
        "id": 482848184,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1731837371
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260921\">Markus Himmel</span> <a href=\"#narrow/channel/113488-general/topic/.60add_right_inj.60/near/482846245\">said</a>:</p>\n<blockquote>\n<p>For me, <code>k + i = k + j ↔ i = j</code> reads like injectivity of the function <code>(k + ·)</code>, which I would intuitively call <code>addLeft k</code>, so to me the intuitive name is <code>add_left_inj</code>. As another example, in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.isoWhiskerLeft#doc\">docs#CategoryTheory.isoWhiskerLeft</a> the side in the name also refers to the side that does not change. Should it be renamed as well?</p>\n</blockquote>\n<p>I'd come to the opposite conclusion, along the lines of \"what are we doing with the variable (i.e. <code>i</code>/<code>j</code>)? we are adding it on the right\". But Markus' rubric of \"what would you name the function\" (which I agree here is <code>addLeft</code>) seems like it is more clearly formulated, increasing the chance we can consistently apply it.</p>",
        "id": 482848389,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731837609
    },
    {
        "content": "<p>So at present I disagree with <a href=\"https://github.com/leanprover-community/mathlib4/pull/6106\">#6106</a>, despite my sense that it is the more common usage at present. <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span>, do you want to propose a rubric that justifies your <code>+1</code>?</p>",
        "id": 482848428,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731837656
    },
    {
        "content": "<p>Sorry, this was \"I agree with your name\", not \"I disagree with your name\"</p>",
        "id": 482848995,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1731838293
    },
    {
        "content": "<p>Yes, I understood that. The problem is that after hearing Markus's rubric, I now disagree with my original \"incorrect\" and \"correct\"!</p>",
        "id": 482849093,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731838377
    },
    {
        "content": "<p>I read <code>add_right_inj</code> as \"right injectivity of <code>+</code>\", which perfectly justifies the name</p>",
        "id": 482849236,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1731838548
    },
    {
        "content": "<p>I also am inclined to agree with the original proposal, because we should name these functions after the argument that changes, not the one that stays fixed. This is much clearer when you think about if this was one position in a 4-ary operation</p>",
        "id": 482850779,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1731839951
    },
    {
        "content": "<p>I suppose it depends whether you read it as <code>add_*right_inj*</code> or <code>*add_right*_inj</code> (for what it's worth i read the former)</p>",
        "id": 482853099,
        "sender_full_name": "EdwardW",
        "timestamp": 1731841925
    },
    {
        "content": "<p>Unfortunately naming conventions are not associative clearly :(</p>",
        "id": 482853143,
        "sender_full_name": "EdwardW",
        "timestamp": 1731841986
    },
    {
        "content": "<p>I seem to remember that the convention was indeed what Mario said: <code>left</code>/<code>right</code> describes the argument that <em>changes</em>.  I think that I read this rule in the Lean3 naming convention: it seemed a little counterintuitive to me, but the implementation was good and I like it now.</p>",
        "id": 482860781,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731848708
    },
    {
        "content": "<p>It seems this vanished when the naming conventions were updated for Lean 4. <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/344\">https://github.com/leanprover-community/leanprover-community.github.io/pull/344</a></p>",
        "id": 482895089,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1731876452
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/551\">https://github.com/leanprover-community/leanprover-community.github.io/pull/551</a> restores the paragraph about left/right in injectivity lemmas.</p>",
        "id": 482910863,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731891218
    },
    {
        "content": "<p>and I've put <a href=\"https://github.com/leanprover/lean4/pull/6106\">lean#6106</a> on the queue.</p>",
        "id": 482910887,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731891241
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/19239\">#19239</a> is the mis-named injectivity lemmas I could find in Mathlib.</p>",
        "id": 483204393,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1732004223
    }
]