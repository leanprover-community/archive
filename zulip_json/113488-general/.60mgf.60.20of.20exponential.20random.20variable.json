[
    {
        "content": "<p>Hey! I wanted to formalize the moment-generating function of the exponential random variable in the Mathlib project but I noticed that the definition uses real numbers, not extended real numbers. This is a little problematic for me since the mgf would return infinity for values geq the exp r.v.'s parameter. I tried naively changing the definition from reals to extended reals but I get the error <code>failed to synthesize instance of type class NormedAddCommGroup EReal</code>. Is there a way to use <code>mgf</code> that returns infinity?</p>",
        "id": 571572274,
        "sender_full_name": "Anirudh Rao",
        "timestamp": 1770094790
    },
    {
        "content": "<p>When would you need to use its infinity value in practice? Could you return a junk value and carry around the hypothesis <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î»</mi><mo>&gt;</mo><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">\\lambda &gt; t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">Î»</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span>?</p>\n<p>I think the MGF here is the Laplace transform of the PDF , which is then related to the Fourier transform, so there may be a way to express it more generally.</p>",
        "id": 571597834,
        "sender_full_name": "Yan Yablonovskiy ðŸ‡ºðŸ‡¦",
        "timestamp": 1770107339
    },
    {
        "content": "<p>In mathlib the <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Probability/Moments/Basic.html#ProbabilityTheory.mgf\">mgf</a> is defined to be 0 if the exponential is not integrable.</p>",
        "id": 571598928,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1770107711
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Probability/Moments/Basic.html#ProbabilityTheory.mgf_undef\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Probability/Moments/Basic.html#ProbabilityTheory.mgf_undef</a></p>",
        "id": 571598993,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1770107734
    },
    {
        "content": "<p>To be more precise I would have a lemma like <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Probability/Distributions/Gaussian/Basic.html#ProbabilityTheory.IsGaussian.charFun_eq\">ProbabilityTheory.IsGaussian.charFun_eq</a> except you have an additional hypothesis <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>&lt;</mo><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">t &lt; \\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6542em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span>. Then you could also have a theorem that specifies the value is 0 when <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>â‰¥</mo><mi>Î»</mi></mrow><annotation encoding=\"application/x-tex\">t \\geq \\lambda</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â‰¥</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">Î»</span></span></span></span> and perhaps a theorem which expresses both cases as an \"if then else\" .</p>",
        "id": 571674393,
        "sender_full_name": "David Ledvinka",
        "timestamp": 1770128408
    },
    {
        "content": "<p>Oh cool, I didn't realize it should just be 0, tysm everyone!</p>",
        "id": 571731299,
        "sender_full_name": "Anirudh Rao",
        "timestamp": 1770142599
    },
    {
        "content": "<p>The mgf could be infinite, but the charFun should be always defined, right?</p>",
        "id": 571765764,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1770153771
    },
    {
        "content": "<p>David said \"itâ€™s like charfun <em>but</em> there is a side condition\".</p>",
        "id": 571768429,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1770154601
    },
    {
        "content": "<p>Yes I was using that as an example only because I am not sure we have a specific case of a <code>mgf</code> yet.</p>",
        "id": 571768697,
        "sender_full_name": "David Ledvinka",
        "timestamp": 1770154696
    },
    {
        "content": "<p>Sorry I misunderstood!</p>",
        "id": 571768746,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1770154712
    }
]