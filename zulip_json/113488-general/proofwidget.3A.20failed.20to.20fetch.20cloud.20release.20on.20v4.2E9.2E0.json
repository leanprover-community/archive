[
    {
        "content": "<p>When I tried to upgrade to version v4.9.0 or v4.10.0-rc1 on a project with only Mathlib as dependency, I got the following error when trying to execute <code>lake build</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\">&gt; lake build</span>\n<span class=\"go\">⚠ [1/1216] Fetched proofwidgets:optRelease</span>\n<span class=\"go\">info: proofwidgets: wanted prebuilt release, but no tag found for revision</span>\n<span class=\"go\">warning: failed to fetch cloud release; falling back to local build</span>\n<span class=\"go\">✖ [346/1216] Fetching proofwidgets:release</span>\n<span class=\"go\">info: proofwidgets: wanted prebuilt release, but no tag found for revision</span>\n<span class=\"go\">error: failed to fetch cloud release</span>\n<span class=\"go\">Some builds logged failures:</span>\n<span class=\"go\">- proofwidgets:release</span>\n<span class=\"go\">error: build failed</span>\n</code></pre></div>\n<p>Any idea how to fix this?</p>\n<p>Reverting back to v4.9.0-rc3 made the error disappear.</p>",
        "id": 448232788,
        "sender_full_name": "Ira Fesefeldt",
        "timestamp": 1719814002
    },
    {
        "content": "<p>My understanding is that some amount of removing stale files helps with that. Maybe <code>.lake/</code>?</p>",
        "id": 448233188,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1719814170
    },
    {
        "content": "<p>I assumed <code>lake clean</code> would have been enough. But deleting <code>.lake</code> completely did indeed solve that.</p>",
        "id": 448233488,
        "sender_full_name": "Ira Fesefeldt",
        "timestamp": 1719814312
    },
    {
        "content": "<p>Sorry about this, I will add it to the announce message.</p>",
        "id": 448233859,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1719814477
    },
    {
        "content": "<p>same issue.</p>",
        "id": 448564963,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1719915508
    },
    {
        "content": "<p>And does the same fix work?</p>",
        "id": 448582573,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1719919576
    },
    {
        "content": "<p>I tried this (I'm working on Compfiles):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">clean</span>\n<span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span>\n<span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n</code></pre></div>\n<p>And it didn't work. I'm still getting this error.</p>",
        "id": 448614577,
        "sender_full_name": "Adam Kurkiewicz",
        "timestamp": 1719928954
    },
    {
        "content": "<p>Should I just do <code>lake clean</code> and then <code>lake build</code>, and simply wait 2 hours for Mathlib to build?</p>",
        "id": 448614649,
        "sender_full_name": "Adam Kurkiewicz",
        "timestamp": 1719928976
    },
    {
        "content": "<p><code>lake clean</code> is not enough, you need to manually remove <code>.lake</code></p>",
        "id": 448614832,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1719929031
    },
    {
        "content": "<p>Thanks, it's working now.</p>",
        "id": 448615559,
        "sender_full_name": "Adam Kurkiewicz",
        "timestamp": 1719929226
    }
]