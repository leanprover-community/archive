[
    {
        "content": "<p>Following <a href=\"#narrow/channel/113489-new-members/topic/Has.20anyone.20published.2Fwritten.20a.20.5CZ.2C.20.5CQ.20or.20.5CR.20game.3F/near/483421311\">previous discussion</a>, I'm starting this thread to talk about constructing <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span> from minimal assumptions (rules, scoring, etc.)<br>\ncc <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span></p>",
        "id": 491983072,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736097509
    },
    {
        "content": "<p>Here are some relevant questions:</p>\n<ul>\n<li>What imports are allowed? Some options are no imports whatsoever, only core Lean (stuff in <a href=\"https://github.com/leanprover/lean4/\">https://github.com/leanprover/lean4/</a>), and some limited part of Mathlib.</li>\n<li>How are solutions scored? Some options are bytes, characters, and lines of code, with lines limited to at most 100 characters.</li>\n<li>What is the target? Some options are Mathlib's <code>ConditionallyCompleteLinearOrderedField</code>, <a href=\"https://github.com/leanprover-community/mathlib4/blob/3cf535aa795f5f845e1440f14206317cd3cbf1a2/Mathlib/Algebra/Order/CompleteField.lean#L371\">the minimal axioms form the previous thread</a>.</li>\n</ul>\n<p>Should we have this template? Is there anything else required?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Inv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">inv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ±</span>\n<span class=\"kn\">postfix</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\"‚Åª¬π\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Inv</span><span class=\"bp\">.</span><span class=\"n\">inv</span>\n</code></pre></div>",
        "id": 492031847,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736138941
    },
    {
        "content": "<p>I think <code>ConditionallyCompleteLinearOrderedField</code> is a good target. And if a construction wants to use your minimal axioms to get there, that is of course totally fine (and probably a good idea).</p>",
        "id": 492048483,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736147910
    },
    {
        "content": "<p>I'm inclined to score using by counting words. Because that doesn't punish whitespace formatting and the use of readable names.</p>",
        "id": 492048617,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736147980
    },
    {
        "content": "<p>About imports: everything that you import counts towards your score.</p>",
        "id": 492048740,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736148026
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492048617\">said</a>:</p>\n<blockquote>\n<p>I'm inclined to score using by counting words. Because that doesn't punish whitespace formatting and the use of readable names.</p>\n</blockquote>\n<p>How do you want to count non-word tokens? (notation, <code>:=</code>, etc.)</p>",
        "id": 492049000,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736148158
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492048483\">said</a>:</p>\n<blockquote>\n<p>I think <code>ConditionallyCompleteLinearOrderedField</code> is a good target. And if a construction wants to use your minimal axioms to get there, that is of course totally fine (and probably a good idea).</p>\n</blockquote>\n<p>Do you want to require using Mathlib's definition, or can one just copy the relevant parts? That still requires defining a large part of the algebraic and order hierarchy</p>",
        "id": 492049140,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736148238
    },
    {
        "content": "<p>I think something minimal which doesn't require any setup would be better ‚Äî Mathlib's <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ConditionallyCompleteLinearOrderedField#doc\">docs#ConditionallyCompleteLinearOrderedField</a> requires you to have <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>, for example, for <code>ratCast</code>, which I don't think we should require</p>",
        "id": 492049429,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736148371
    },
    {
        "content": "<p>Ok, we could build a tiny project independent of mathlib where we define <code>ConditionallyCompleteLinearOrderedField</code>, and separately something that shows that this new definition is equivalent to the one in mathlib.</p>",
        "id": 492051766,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736149560
    },
    {
        "content": "<p>I was thinking of counting using (roughly) <code>wc -w</code>.</p>",
        "id": 492051823,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736149573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492051823\">said</a>:</p>\n<blockquote>\n<p>I was thinking of counting using (roughly) <code>wc -w</code>.</p>\n</blockquote>\n<p>This still incentivizes not having whitespaces</p>",
        "id": 492059081,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736152676
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492048740\">said</a>:</p>\n<blockquote>\n<p>About imports: everything that you import counts towards your score.</p>\n</blockquote>\n<p>Does this include <code>Init</code>? Do we want to use <code>prelude</code>?</p>",
        "id": 492059786,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736152944
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492059081\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492051823\">said</a>:</p>\n<blockquote>\n<p>I was thinking of counting using (roughly) <code>wc -w</code>.</p>\n</blockquote>\n<p>This still incentivizes not having whitespaces</p>\n</blockquote>\n<p>Yes, hence the \"(roughly)\". We could have a first pass where a regex adds a <code> </code> whenever it finds a word boundary <code>\\w</code>.</p>",
        "id": 492062282,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736153886
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492059786\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492048740\">said</a>:</p>\n<blockquote>\n<p>About imports: everything that you import counts towards your score.</p>\n</blockquote>\n<p>Does this include <code>Init</code>? Do we want to use <code>prelude</code>?</p>\n</blockquote>\n<p>Let's not use <code>prelude</code>. And yes, we can just count <code>Init</code>. All participants will get a constant added to their score if we do that. So it doesn't really matter, right?</p>",
        "id": 492062386,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736153936
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492062386\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492059786\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492048740\">said</a>:</p>\n<blockquote>\n<p>About imports: everything that you import counts towards your score.</p>\n</blockquote>\n<p>Does this include <code>Init</code>? Do we want to use <code>prelude</code>?</p>\n</blockquote>\n<p>Let's not use <code>prelude</code>. And yes, we can just count <code>Init</code>. All participants will get a constant added to their score if we do that. So it doesn't really matter, right?</p>\n</blockquote>\n<p>It would've mattered if we allowed using <code>perlude</code>, as you could then avoid some of it (or do it more efficiently)</p>",
        "id": 492075973,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736158945
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/492051823\">said</a>:</p>\n<blockquote>\n<p>I was thinking of counting using (roughly) <code>wc -w</code>.</p>\n</blockquote>\n<p>I don't think I agree with this, as it allows encoding data weirdly without it counting. However, readability is an advantage. Perhaps just request submitted both ungolfed code (with long names and whitespaces) and golfed code?</p>",
        "id": 492077205,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736159451
    },
    {
        "content": "<p>Another option could be to measure the compresssed size of the proof script. See for example the discussion in section 2 of <a href=\"https://www.cs.ru.nl/~freek/factor/factor.pdf\">https://www.cs.ru.nl/~freek/factor/factor.pdf</a>.</p>",
        "id": 492077783,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1736159693
    },
    {
        "content": "<p>Yeah, that's probably a better way!</p>",
        "id": 492078481,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736159955
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260921\">Markus Himmel</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492077783\">said</a>:</p>\n<blockquote>\n<p>Another option could be to measure the compresssed size of the proof script. See for example the discussion in section 2 of <a href=\"https://www.cs.ru.nl/~freek/factor/factor.pdf\">https://www.cs.ru.nl/~freek/factor/factor.pdf</a>.</p>\n</blockquote>\n<p>I think this still incentivizes avoiding whitespaces and long names, as you won't have to compress them. It also benefits writing long be repetitive code, which may not be what we want</p>",
        "id": 492079175,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736160230
    },
    {
        "content": "<p>Yeah, but I think it will probably be negligible. And we can still do the regex pass that adds whitespace at word boundaries.</p>",
        "id": 492080933,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736160888
    },
    {
        "content": "<p>You could measure by the sum total <code>sizeOf</code> of the <code>Expr</code>essions used in declarations in the proof, maybe?</p>",
        "id": 492083723,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736161951
    },
    {
        "content": "<p>i think we can write a linter for that? maybe?</p>",
        "id": 492083991,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736162061
    },
    {
        "content": "<p>Would that cooperate with tactics?</p>",
        "id": 492116906,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736174290
    },
    {
        "content": "<p>i suspect you won't be able to track tactics used, only the terms resulting from the tactics</p>",
        "id": 492117925,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736174622
    },
    {
        "content": "<p>i'd say that's a feature</p>",
        "id": 492118130,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736174690
    },
    {
        "content": "<p>Is that what we want to measure, though? I don't think that measures proof complexity accurately</p>",
        "id": 492118272,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736174744
    },
    {
        "content": "<p>i think that when <code>simp</code> does a lot of things, it is no longer a simple proof</p>",
        "id": 492118437,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736174796
    },
    {
        "content": "<p>so counting the actual proofs used seems appropriate to me</p>",
        "id": 492118521,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736174826
    },
    {
        "content": "<p>you may be able to hide a lot of complexity of proof behind <code>aesop</code> too</p>",
        "id": 492118857,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736174936
    },
    {
        "content": "<p>although of course another question would be if the import is worth it?</p>",
        "id": 492118947,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736174966
    },
    {
        "content": "<p>Tactics are not usually optimized to produce <em>short</em> proof terms, so measuring the ouput of a tactic may not yield a reasonable estimate of how difficult a proof <em>really</em> is.</p>",
        "id": 492119235,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736175044
    },
    {
        "content": "<p>For instance, if you did not have <code>ring</code>, you might use a calc proof to chain a couple of rewrites and produce a much smaller proof term instead.</p>",
        "id": 492119400,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736175095
    },
    {
        "content": "<p>I would consider</p>\n<ul>\n<li>the latter to be a better measure of complexity than the former, but</li>\n<li>the former to be more maintainable and better style than the latter.</li>\n</ul>",
        "id": 492119564,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736175138
    },
    {
        "content": "<p>E.g., compare these proofs:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Ring</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">info: Try this: exact Mathlib.Tactic.Ring.of_eq</span>\n<span class=\"sd\">  (Mathlib.Tactic.Ring.add_congr (Mathlib.Tactic.Ring.atom_pf a) (Mathlib.Tactic.Ring.atom_pf b)</span>\n<span class=\"sd\">    (Mathlib.Tactic.Ring.add_pf_add_lt (a ^ Nat.rawCast 1 * Nat.rawCast 1)</span>\n<span class=\"sd\">      (Mathlib.Tactic.Ring.add_pf_zero_add (b ^ Nat.rawCast 1 * Nat.rawCast 1 + 0))))</span>\n<span class=\"sd\">  (Mathlib.Tactic.Ring.add_congr (Mathlib.Tactic.Ring.atom_pf b) (Mathlib.Tactic.Ring.atom_pf a)</span>\n<span class=\"sd\">    (Mathlib.Tactic.Ring.add_pf_add_gt (a ^ Nat.rawCast 1 * Nat.rawCast 1)</span>\n<span class=\"sd\">      (Mathlib.Tactic.Ring.add_pf_add_zero (b ^ Nat.rawCast 1 * Nat.rawCast 1 + 0))))</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">show_term</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">info: Try this: exact Eq.mpr (id (congrArg (fun _a =&gt; _a = b + a) (add_comm a b))) (Eq.refl (b + a))</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">show_term</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">add_comm</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 492120210,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736175353
    },
    {
        "content": "<p>/poll What do we want to count? (feel free to suggest other things)<br>\nTerm size<br>\nLean source size</p>",
        "id": 492128364,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736178038
    },
    {
        "content": "<p>I think that counting Lean source size is a terrible idea because it will encourage obfuscation which will benefit nobody in the long run.</p>",
        "id": 492131815,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736179072
    },
    {
        "content": "<p>On the other hand counting term size will result in all proofs being written in term mode, which also isn't very helpful</p>",
        "id": 492135075,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736180040
    },
    {
        "content": "<p>I feel like counting Lean source size while scoring in a way that allows meaningful names and whitespaces would probably be more useful</p>",
        "id": 492135869,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736180272
    },
    {
        "content": "<p>I have not really measured this in any example, but an option would be to measure the number of leaves/nodes in the syntax tree of every command.  That would automatically ignore whitespace and length of names of variables and would be close to a measure of \"what you actually typed\".</p>",
        "id": 492158877,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736187878
    },
    {
        "content": "<p>you'd still get a penalty to certain kinds of notation, no? bracketing becomes expensive...</p>",
        "id": 492162092,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736189123
    },
    {
        "content": "<p>maybe if you ignore all atoms...</p>",
        "id": 492162150,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736189140
    },
    {
        "content": "<p>I guess this discussion is just a demonstration of the general principle that when a measure becomes a target, it ceases to be a measure and just distorts things.</p>",
        "id": 492163671,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736189679
    },
    {
        "content": "<p>Perhaps a good solution is to just try various different experiments to see how one can build the reals and then simply see what you learn from the different constructions, rather than arbitrarily wondering which one is the \"shortest\". In fact from the above discussion the concept of \"shortness\" seems be an almost meaningless criterion.</p>",
        "id": 492163855,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736189761
    },
    {
        "content": "<p>Can you try this idea for me? I was really hoping to get it done but I don't have the time.</p>\n<ul>\n<li>\n<p>Construct <a href=\"https://github.com/leanprover-community/mathlib4/blob/8666bd82efec40b8b3a5abca02dc9b24bbdf2652/Mathlib/Order/Category/Preord.lean#L25-L26\">preorder</a> <code>L</code> with undrlying set <code>Nat  √ó Nat</code> where <code>Ord : L.Obj √ó L.Obj ‚Üí Prop</code> is defined by sending <code>x</code> to <code>(x.fst).fst * (x.snd).snd ‚â§ (x.fst).snd * (x.snd).fst</code></p>\n</li>\n<li>\n<p>Construct the completion <code>NonnegativeExtendedReals : Type</code> of this preorder using the two element partial order <code>ùïä </code> on <code>Bool</code> with <code>0 ‚â§ 0, 0 ‚â§ 1, 1  ‚â§ 1</code>. This is the (complete) partial order of extended real numbers, which is the same as the preorder of preorder maps from <code>L</code> to <code>ùïä</code>.</p>\n</li>\n<li>\n<p>Construct an order preserving bijection with <code>https://github.com/leanprover-community/mathlib4/blob/8666bd82efec40b8b3a5abca02dc9b24bbdf2652/Mathlib/Data/Real/ENNReal.lean#L83-L84</code></p>\n</li>\n<li>\n<p>Construct <code>‚Ñù</code> using <code>NonnegativeExtendedReals : Type</code> as sequences <code>f : Nat ‚Üí NonnegativeExtendedReals</code> with <code>‚àÄ(n : Nat),f n &lt; ‚àû</code> and <code>‚àÄ(n: Nat), ((f n) + 1) = (f (n+1))</code></p>\n</li>\n</ul>",
        "id": 492194417,
        "sender_full_name": "Dean Young",
        "timestamp": 1736201075
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"559197\">@E. Dean Young</span> How do you get <code>‚Ñù</code> from sequences <code>‚Ñï ‚Üí ‚Ñù‚â•0‚àû</code>? I don't quite follow.</p>",
        "id": 492229074,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1736217215
    },
    {
        "content": "<p>@*<em>Aaron Liu</em> Sorry, I was wrong there. </p>\n<p>Ok so maybe instead one could use pairs of nonnegative real numbers.</p>",
        "id": 492239592,
        "sender_full_name": "Dean Young",
        "timestamp": 1736222836
    },
    {
        "content": "<p>At first I fixed it to pairs of nonnegative real numbers, but then I decided I was \"inverting the action of Nat by addition\", or \"inverting the successor\". I like that better since it gives me thoughts of the action the integers and the exact sequence from the integers to the real numbers to the circle.</p>",
        "id": 492240990,
        "sender_full_name": "Dean Young",
        "timestamp": 1736223765
    },
    {
        "content": "<p>So, pairs (x,n) where x is a nonnegative real number and n a natural number, with an equivalence relation.</p>",
        "id": 492259569,
        "sender_full_name": "Dean Young",
        "timestamp": 1736236987
    },
    {
        "content": "<p>One could also count with respect to l¬≤. The idea here is convenient for defining the norm on Rn.</p>",
        "id": 492259793,
        "sender_full_name": "Dean Young",
        "timestamp": 1736237086
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"559197\">E. Dean Young</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492259793\">said</a>:</p>\n<blockquote>\n<p>One could also count with respect to l¬≤. The idea here is convenient for defining the norm on Rn.</p>\n</blockquote>\n<p>What does this mean?</p>",
        "id": 492303830,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736254296
    },
    {
        "content": "<p>I got the nonnegative rationals fairly shortly, to try <span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span>'s approach from  <a class=\"message-link\" href=\"/#narrow/channel/113489-new-members/topic/Has.20anyone.20published.2Fwritten.20a.20.5CZ.2C.20.5CQ.20or.20.5CR.20game.3F/near/483199619\">#new members &gt; Has anyone published/written a \\Z, \\Q or \\R game? @ üí¨</a> :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">lift‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">b‚ÇÇ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">b‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">b‚ÇÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b‚ÇÇ</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">a‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">a‚ÇÇ</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">a‚ÇÇ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a‚ÇÇ</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quot</span><span class=\"bp\">.</span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">Œª</span><span class=\"n\">a</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">Quot</span><span class=\"bp\">.</span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">funext</span><span class=\"bp\">&lt;|</span><span class=\"n\">Quot</span><span class=\"bp\">.</span><span class=\"n\">ind</span><span class=\"w\"> </span><span class=\"bp\">Œª</span><span class=\"n\">b</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"o\">)</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">eq</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Setoid</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">‚Üî</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚ü®</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">exact</span><span class=\"o\">,</span><span class=\"n\">exact?</span><span class=\"bp\">%‚ü©</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">aux1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">‚Üî</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">exact?</span><span class=\"bp\">%</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">exact?</span><span class=\"bp\">%‚ü©</span>\n\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">hygiene</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">hygienic</span><span class=\"w\"> </span><span class=\"n\">false</span>\n\n<span class=\"kn\">macro</span><span class=\"s2\">\"a\"</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"o\">,</span><span class=\"bp\">*</span><span class=\"o\">:</span><span class=\"n\">tactic</span><span class=\"bp\">=&gt;`</span><span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">|</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"o\">[</span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">h</span><span class=\"o\">]</span><span class=\"bp\">;*</span><span class=\"o\">))</span>\n<span class=\"kn\">macro</span><span class=\"s2\">\"i\"</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"o\">,</span><span class=\"bp\">*</span><span class=\"o\">:</span><span class=\"n\">tactic</span><span class=\"bp\">=&gt;`</span><span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">|</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"o\">[(</span><span class=\"bp\">$</span><span class=\"n\">h</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">ind</span><span class=\"o\">],</span><span class=\"bp\">*</span><span class=\"o\">)</span>\n\n<span class=\"kn\">macro</span><span class=\"s2\">\"p\"</span><span class=\"o\">:</span><span class=\"n\">tactic</span><span class=\"bp\">=&gt;`</span><span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">|</span><span class=\"o\">(</span><span class=\"n\">simp_all</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">contextual</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_comm</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_add</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_assoc</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_left_comm</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_sub_left_distrib</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_eq_zero</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_comm</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_assoc</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_left_comm</span><span class=\"o\">,</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">eq</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_le_mul_left</span><span class=\"o\">,</span><span class=\"n\">aux1</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_le_mul_right</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_antisymm</span><span class=\"o\">,</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_le_add_iff_right</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"n\">try</span><span class=\"w\"> </span><span class=\"n\">intros</span><span class=\"bp\">;</span><span class=\"n\">try</span><span class=\"w\"> </span><span class=\"n\">omega</span><span class=\"o\">))</span>\n<span class=\"kn\">macro</span><span class=\"s2\">\"p\"</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"bp\">=&gt;`</span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span>\n\n<span class=\"kn\">syntax</span><span class=\"s2\">\"k\"</span><span class=\"n\">term</span><span class=\"o\">,</span><span class=\"bp\">*</span><span class=\"o\">:</span><span class=\"n\">term</span>\n<span class=\"kn\">macro_rules</span><span class=\"bp\">|`</span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"o\">,</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"bp\">=&gt;`</span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"bp\">*;</span><span class=\"n\">p</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- Defining ‚Ñö‚â•0, the nonnegative rational numbers -/</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">@</span><span class=\"n\">Quotient</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">√ó</span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"bp\">//</span><span class=\"mi\">0</span><span class=\"bp\">&lt;</span><span class=\"n\">b</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"bp\">‚ü®Œª‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"bp\">_‚ü©‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"bp\">_‚ü©‚Ü¶</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">=</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"o\">,</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_right_cancel</span><span class=\"w\"> </span><span class=\"n\">b_1</span><span class=\"bp\">;</span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">a_6</span><span class=\"o\">,</span><span class=\"bp\">‚Üê</span><span class=\"n\">a_7</span><span class=\"o\">,</span><span class=\"bp\">‚Üê</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_assoc</span><span class=\"o\">]</span><span class=\"bp\">‚ü©</span>\n<span class=\"kn\">macro</span><span class=\"s2\">\"&amp;\"</span><span class=\"n\">e</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"mi\">99</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"bp\">=&gt;`</span><span class=\"o\">((</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">))</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"n\">Add</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®</span><span class=\"n\">lift‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">Œª‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚Ü¶&amp;‚ü®</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">:</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©+&amp;‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">i</span><span class=\"bp\">‚ü©=&amp;‚ü®</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"o\">:=</span><span class=\"n\">rfl</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"n\">Mul</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®</span><span class=\"n\">lift‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">Œª‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚Ü¶&amp;‚ü®</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">:</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©*&amp;‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">i</span><span class=\"bp\">‚ü©=&amp;‚ü®</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"n\">Sub</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®</span><span class=\"n\">lift‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">Œª‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚Ü¶&amp;‚ü®</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">-</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">:</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©-&amp;‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">i</span><span class=\"bp\">‚ü©=&amp;‚ü®</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">-</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"n\">Zero</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®&amp;‚ü®</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">:(</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">)</span><span class=\"bp\">=&amp;‚ü®</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"n\">OfNat</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®&amp;‚ü®</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"o\">:(</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">)</span><span class=\"bp\">=&amp;‚ü®</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">l'</span><span class=\"o\">:</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®Œª</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">a</span><span class=\"bp\">-</span><span class=\"n\">b</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"bp\">‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">:</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©‚â§&amp;‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">i</span><span class=\"bp\">‚ü©‚Üî</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">:=</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">l'</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"n\">p</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">L'</span><span class=\"o\">:</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"bp\">‚ü®Œª</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">‚Ü¶</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">‚àß¬¨</span><span class=\"n\">b</span><span class=\"bp\">‚â§</span><span class=\"n\">a</span><span class=\"bp\">‚ü©</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">:</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©&lt;&amp;‚ü®</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"n\">d</span><span class=\"o\">,</span><span class=\"n\">i</span><span class=\"bp\">‚ü©‚Üî</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">d</span><span class=\"bp\">&lt;</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">:=</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">L'</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"n\">p</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">inv</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"bp\">‚Üí</span><span class=\"n\">Q</span><span class=\"o\">:=</span><span class=\"n\">Quot</span><span class=\"bp\">.</span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">Œª‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"bp\">_‚ü©‚Ü¶</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">&gt;</span><span class=\"mi\">0</span><span class=\"n\">then</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©</span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"bp\">&lt;|</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"n\">split</span><span class=\"bp\">&lt;;&gt;</span><span class=\"n\">split</span><span class=\"bp\">&lt;;&gt;</span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"k\">have</span><span class=\"o\">:=</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_le_mul_left</span><span class=\"w\"> </span><span class=\"n\">a_1</span><span class=\"w\"> </span><span class=\"bp\">‚Äπ</span><span class=\"mi\">0</span><span class=\"bp\">&lt;</span><span class=\"n\">a_2</span><span class=\"bp\">‚Ä∫;</span><span class=\"n\">p</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©</span><span class=\"o\">)</span><span class=\"bp\">=</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">&gt;</span><span class=\"mi\">0</span><span class=\"n\">then</span><span class=\"bp\">&amp;‚ü®</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">h</span><span class=\"bp\">‚ü©</span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">:=</span><span class=\"n\">rfl</span>\n<span class=\"kn\">variable</span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">)</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_comm</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"bp\">=</span><span class=\"n\">b</span><span class=\"bp\">+</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_assoc</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"bp\">+</span><span class=\"n\">c</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"bp\">+</span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"bp\">+</span><span class=\"n\">c</span><span class=\"o\">):=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_comm</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"bp\">=</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_assoc</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">):=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_add</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"bp\">+</span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"bp\">+</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">c</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">sub_self</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_sub</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"bp\">-</span><span class=\"n\">b</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_refl</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_trans</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">‚Üí</span><span class=\"n\">b</span><span class=\"bp\">‚â§</span><span class=\"n\">c</span><span class=\"bp\">‚Üí</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">c</span><span class=\"o\">:=</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span><span class=\"bp\">;</span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_of_mul_le_mul_left</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">b_2</span><span class=\"bp\">;</span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_le_mul_left</span><span class=\"w\"> </span><span class=\"n\">a_2</span><span class=\"w\"> </span><span class=\"n\">a_7</span><span class=\"o\">)</span><span class=\"bp\">;</span><span class=\"k\">have</span><span class=\"o\">:=</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_le_mul_right</span><span class=\"w\"> </span><span class=\"n\">a_6</span><span class=\"w\"> </span><span class=\"n\">a_8</span><span class=\"bp\">;</span><span class=\"n\">p</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_antisymm</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">‚Üí</span><span class=\"n\">b</span><span class=\"bp\">‚â§</span><span class=\"n\">a</span><span class=\"bp\">‚Üí</span><span class=\"n\">a</span><span class=\"bp\">=</span><span class=\"n\">b</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">‚à®</span><span class=\"n\">b</span><span class=\"bp\">‚â§</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_zero</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">+</span><span class=\"mi\">0</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_zero</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"mi\">0</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_one</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"mi\">1</span><span class=\"bp\">=</span><span class=\"n\">a</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_le_add_left</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">‚Üí</span><span class=\"n\">c</span><span class=\"bp\">+</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">c</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_of_add_le_add_left</span><span class=\"o\">:</span><span class=\"n\">c</span><span class=\"bp\">+</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">c</span><span class=\"bp\">+</span><span class=\"n\">b</span><span class=\"bp\">‚Üí</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">zero_ne_one</span><span class=\"o\">:(</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">)</span><span class=\"bp\">‚â†</span><span class=\"mi\">1</span><span class=\"o\">:=</span><span class=\"n\">p</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">zero_le_one</span><span class=\"o\">:(</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">)</span><span class=\"bp\">‚â§</span><span class=\"mi\">1</span><span class=\"o\">:=</span><span class=\"n\">p</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_le_mul_left</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">b</span><span class=\"bp\">‚Üí</span><span class=\"n\">c</span><span class=\"bp\">*</span><span class=\"n\">a</span><span class=\"bp\">‚â§</span><span class=\"n\">c</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mul_lt_mul_of_pos_left</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">&lt;</span><span class=\"n\">b</span><span class=\"bp\">‚Üí</span><span class=\"mi\">0</span><span class=\"bp\">&lt;</span><span class=\"n\">c</span><span class=\"bp\">‚Üí</span><span class=\"n\">c</span><span class=\"bp\">*</span><span class=\"n\">a</span><span class=\"bp\">&lt;</span><span class=\"n\">c</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"o\">:=</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"n\">c</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">inv_zero</span><span class=\"o\">:</span><span class=\"n\">inv</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">:=</span><span class=\"n\">p</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">inv_mul</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"bp\">‚â†</span><span class=\"mi\">0</span><span class=\"bp\">‚Üí</span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">inv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"o\">:=</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">;</span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"n\">split</span><span class=\"bp\">;</span><span class=\"n\">p</span>\n</code></pre></div>",
        "id": 493539761,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736845481
    },
    {
        "content": "<p>This code is exactly an example of why I think \"let's try and minimise total character count\" is a terrible idea and I honestly would encourage people to think about whether we want to encourage more generation of this artificially compressed nonsense just because of some stupid target.</p>",
        "id": 493566082,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736854869
    },
    {
        "content": "<p>I think the question should be \"let's write code normally and then have a look at how long it is and draw some broad conclusions\" as opposed to \"let's have a competition to see how few characters we can squeeze a development into and then draw a conclusion which has very little value and has resulted in the generation of a bunch of horrible code\"</p>",
        "id": 493566301,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736854944
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">macro</span><span class=\"s2\">\"&amp;\"</span><span class=\"n\">e</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"mi\">99</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"bp\">=&gt;`</span><span class=\"o\">((</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">))</span>\n<span class=\"bp\">...</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"o\">:(</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"n\">Q</span><span class=\"o\">)</span><span class=\"bp\">=&amp;‚ü®</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">p</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>Do we really want to see this sort of thing when studying what is an interesting question? It's only a matter of time before we define some random non-ASCII character to mean <code>theorem</code> if we go down this route.</p>",
        "id": 493566482,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736855020
    },
    {
        "content": "<p>At least, the code should follow Mathlib's style guidelines and naming conventions.</p>",
        "id": 493567585,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736855389
    },
    {
        "content": "<p>If \"ready for Mathlib\" were a serious definition, I would probably vote for that!</p>",
        "id": 493567586,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736855390
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/493566482\">said</a>:</p>\n<blockquote>\n<p>It's only a matter of time before we define some random non-ASCII character to mean <code>theorem</code></p>\n</blockquote>\n<p>This is a good idea</p>",
        "id": 493573738,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1736857456
    },
    {
        "content": "<p>Committing atrocities feels like 90% of the fun of code golf</p>",
        "id": 493573847,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1736857496
    },
    {
        "content": "<p>I think this is a matter of personal taste. I've always enjoyed the International Obfuscated C Code Contest (IOCCC) for this reason.</p>",
        "id": 493574117,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1736857580
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/R.20golfing/near/493566301\">said</a>:</p>\n<blockquote>\n<p>I think the question should be \"let's write code normally and then have a look at how long it is and draw some broad conclusions\" as opposed to \"let's have a competition to see how few characters we can squeeze a development into and then draw a conclusion which has very little value and has resulted in the generation of a bunch of horrible code\"</p>\n</blockquote>\n<p>My purpose in this is not to draw conclusion about the mathematics, it's to have fun by trying the push the limits of the language. I think that seeing and experimenting with abusing the language can teach you a lot about regular usage of the language</p>",
        "id": 493575443,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736857995
    },
    {
        "content": "<p>From a mathematical perspective I believe code golf also gives goals that aren't the usual goals when exploring mathematics, which can push developments in strange and interesting ways</p>",
        "id": 493576327,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736858300
    },
    {
        "content": "<p>I also conjecture that we can still get a pretty good answer to the mathematically interesting questions even if the code is golfed.</p>",
        "id": 493577501,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736858694
    },
    {
        "content": "<p>Well if this is supposed to be \"the point\" then sure just do what you like :-) I had thought the point was to generate some interesting formalizations of various ways of making the real numbers, but right now I fear that they're all going to be unreadable rather than something I can show to students. But I had not understood that the question was actually motivation for all this code golf silliness.</p>",
        "id": 493578392,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736858952
    },
    {
        "content": "<p>One persons silliness, is another persons delight (-;</p>",
        "id": 493579554,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736859342
    },
    {
        "content": "<p>Yes that's my conclusion on reading this thread!</p>",
        "id": 493579827,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736859431
    },
    {
        "content": "<p>You should talk to Kolmogorov (-;</p>",
        "id": 493580035,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736859503
    },
    {
        "content": "<p>The patron saint of code golfers</p>",
        "id": 493580086,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736859521
    },
    {
        "content": "<p>It's a pity that an actually interesting question \"how to construct the reals cheaply\" would be wasted as a code golfing game. My vote is definitely with Kevin --- let's do this in as little code as possible, but following Mathlib style guides and naming.</p>",
        "id": 493694241,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736900925
    },
    {
        "content": "<p>We have two sets <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>:</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> consists of all constructions of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span> and is partially ordered by length of the construction</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> consists of all constructions of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span> that follow Mathlib style guides and conventions, and is partially ordered by the length of the construction</li>\n</ul>\n<p>There is a natural \"golfing function\" from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>.</p>\n<p>Conjecture:</p>\n<blockquote>\n<p>For any two elements <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub><mo>‚â§</mo><msub><mi>c</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_1 \\le c_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.786em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚â§</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mi>g</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\R_g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, there exists a lift <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>m</mi><mn>1</mn></msub><mo>‚àà</mo><msub><mi mathvariant=\"double-struck\">R</mi><mi>m</mi></msub></mrow><annotation encoding=\"application/x-tex\">m_1 \\in \\R_m</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6891em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">m</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚àà</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">m</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> that is smaller than all lifts of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">c_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">c</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>.</p>\n</blockquote>",
        "id": 493803543,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736928687
    },
    {
        "content": "<p>In other words, I think we can run both challenges, and they will be practically equivalent.</p>",
        "id": 493803751,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736928753
    },
    {
        "content": "<p>Sets or types?</p>",
        "id": 493807920,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736930306
    },
    {
        "content": "<p>As a mathematical statement I definitely don't think that's true, but I mostly agree with the idea</p>",
        "id": 493808031,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736930355
    },
    {
        "content": "<p>I'm quite sure counterexamples to my conjecture exist. One reason to make the conjecture is that I would love to see a counterexample (-;</p>",
        "id": 493809425,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736930864
    },
    {
        "content": "<p>There's a fair chance there's no provable counterexample due to Chaitin's incompleteness theorem, although I don't know how that's affected by Lean not being Turing-Complete</p>",
        "id": 493990913,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736965610
    },
    {
        "content": "<p>huh? lean is not turing complete? whatever gave you that idea?</p>",
        "id": 493992461,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736966167
    },
    {
        "content": "<p>If you don't use partial/unsafe/axiom you can only run programs that you can prove termination for using Lean's axiom</p>",
        "id": 493992563,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736966219
    },
    {
        "content": "<p>right, but we <em>can</em> use partial/unsafe/axiom</p>",
        "id": 493992823,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736966328
    },
    {
        "content": "<p>I was implicitly thinking about the fragment without them, I guess</p>",
        "id": 493993025,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736966401
    },
    {
        "content": "<p>i suspect lean's macro system might be turing complete, actually</p>",
        "id": 493993604,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736966606
    },
    {
        "content": "<p>That makes sense, you can probably implement lambda calculus using them</p>",
        "id": 493993824,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1736966684
    },
    {
        "content": "<p>Would the solution be required to live in <code>Type</code>, or can it be in something like <code>Type 1</code>? I suspect taking a subtype of the Surreals might save some space because it avoids the need to define the rationals</p>",
        "id": 494044138,
        "sender_full_name": "Niels Voss",
        "timestamp": 1736988794
    },
    {
        "content": "<p>It might even be interesting to see what the shortest definition of a type equivalent to the reals, where the proof of equivalence isn't counted</p>",
        "id": 494044523,
        "sender_full_name": "Niels Voss",
        "timestamp": 1736988989
    },
    {
        "content": "<p>What does \"type equivalent to the reals\" mean, if there is no proof obligation to show equivalence? Is there an obligation to construct the Field instance?</p>",
        "id": 494052396,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1736993050
    },
    {
        "content": "<p>Because if there isn't, then here is an infinite family of reals (see <a href=\"https://github.com/leanprover-community/mathlib4/pull/13965\">#13965</a>):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Fin</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">SuccPred</span><span class=\"bp\">.</span><span class=\"n\">Archimedean</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Ring</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Order</span>\n\n<span class=\"sd\">/-- A possibly infinite sequence of digits in `Fin (b + 1)`, which</span>\n<span class=\"sd\">can represent a number system like the reals.</span>\n<span class=\"sd\">It is constrained to not end in an infinite string of the top digit. -/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">DigitExpansion</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The digit sequence, such that `b` is the base - 1. -/</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The constraint that the sequence does not trail end infinitely at the top digit. -/</span>\n<span class=\"w\">  </span><span class=\"n\">bounded'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬¨‚àÉ</span><span class=\"w\"> </span><span class=\"n\">i‚ÇÄ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">i‚ÇÄ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">DigitExpansion</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">funLike</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FunLike</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">DigitExpansion</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">coe</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">DigitExpansion</span><span class=\"bp\">.</span><span class=\"n\">toFun</span>\n<span class=\"w\">  </span><span class=\"n\">coe_injective'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rintro</span><span class=\"w\"> </span><span class=\"bp\">‚ü®‚ü©</span><span class=\"w\"> </span><span class=\"bp\">‚ü®‚ü©;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SuccOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NoMaxOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PredOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NoMinOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">IsSuccArchimedean</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">]</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SuccOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NoMaxOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Zero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">DigitExpansion</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">‚ü®</span><span class=\"o\">{</span><span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span>\n<span class=\"w\">      </span><span class=\"n\">bounded'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">push_neg</span>\n<span class=\"w\">        </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">        </span><span class=\"n\">refine'</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lt_succ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_‚ü©</span>\n<span class=\"w\">        </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fin</span><span class=\"bp\">.</span><span class=\"n\">ext_iff</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"bp\">.</span><span class=\"n\">out</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"bp\">‚ü©</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">sign</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SuccOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NoMaxOrder</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeZero</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DigitExpansion</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- A sequence is positive iff it is not zero and has a left-tail of solely digit 0. -/</span>\n<span class=\"kn\">protected</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Positive</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"sd\">/-- A sequence is negative iff it is not zero and has a left-tail of solely the top digit. -/</span>\n<span class=\"kn\">protected</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Negative</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">sign</span>\n\n<span class=\"sd\">/-- A sequence is called real if it is either negative or zero or positive.</span>\n<span class=\"sd\">-/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">real</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">DigitExpansion</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">Positive</span><span class=\"w\"> </span><span class=\"bp\">‚à®</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">Negative</span><span class=\"w\"> </span><span class=\"bp\">‚à®</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">}</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">DigitExpansion</span>\n</code></pre></div>",
        "id": 494053190,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1736993564
    },
    {
        "content": "<p>Sorry, I wasn't clear. I meant that you still have to show it is isomorphic to the reals; it's just that those proofs don't count to the character count or whatever metric</p>",
        "id": 494057143,
        "sender_full_name": "Niels Voss",
        "timestamp": 1736996291
    },
    {
        "content": "<p>On second thought, this isn't a great idea because then people would just do <code>def Real := Set Nat</code></p>",
        "id": 494057179,
        "sender_full_name": "Niels Voss",
        "timestamp": 1736996323
    },
    {
        "content": "<p><code>Set Nat</code> doesn't give you the field or order structure though, right?</p>",
        "id": 494117221,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737025188
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"521331\">@Niels Voss</span> but this does not have the correct cardinality.</p>",
        "id": 494117614,
        "sender_full_name": "Dean Young",
        "timestamp": 1737025306
    },
    {
        "content": "<p>Sure it does</p>",
        "id": 494125468,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1737028116
    },
    {
        "content": "<p><code>Set Nat</code> is equivalent to <code>Nat -&gt; Prop</code>, which is equivalent to <code>Nat -&gt; Fin 2</code>, meaning it has cardinality <code>2^œâ</code>, the same as <code>Real</code></p>",
        "id": 494126219,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1737028400
    },
    {
        "content": "<p>Oh sorry I see now.</p>\n<p>Here's my attempt:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- constructing the nonnegative extended real numbers using a preorder on Nat √ó Nat and cancelation of natural number multiplication</span>\n\n<span class=\"c1\">-- makeshift preorder structure</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"w\">  </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span>\n<span class=\"c1\">-- https://github.com/leanprover-community/mathlib4/blob/8666bd82efec40b8b3a5abca02dc9b24bbdf2652/Mathlib/Init/Order/Defs.lean#L37-L41$0</span>\n\n<span class=\"c1\">-- makeshift order preserving function</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"n\">Obj</span>\n\n\n<span class=\"c1\">--The preorder constructed below has n‚ÇÅ/m‚ÇÅ ‚â† n‚ÇÇ/m‚ÇÇ when either n‚ÇÅ ‚â† n‚ÇÇ or m‚ÇÅ ‚â† m‚ÇÇ, so I call it \"the nonnegative prerationals\".</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsIdn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span>\n<span class=\"n\">simp</span>\n\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationals_lemma</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span>\n<span class=\"n\">simp</span>\n\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsCmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span>\n<span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationals</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsIdn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsCmp</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Y</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderIdn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span>\n<span class=\"n\">simp</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderCmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"c1\">--</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorder</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderIdn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderCmp</span><span class=\"o\">}</span>\n\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">reflexivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">transitivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f‚ÇÉ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÇ</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÉ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÉ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">reflexivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"n\">transitivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_extended_reals</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationals</span><span class=\"w\"> </span><span class=\"n\">two_element_preorder</span>\n\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"[0,‚àû]\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_extended_reals</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"bp\">‚àû</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>I have made only little progress but I am still a beginner.</p>",
        "id": 494128224,
        "sender_full_name": "Elliot",
        "timestamp": 1737028989
    },
    {
        "content": "<p>Sorry, that one has division by 0. One can use successor to fix that.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- constructing the nonnegative extended real numbers using a preorder on Nat √ó Nat and cancelation of natural number multiplication</span>\n\n<span class=\"c1\">-- makeshift preorder structure</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"w\">  </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Obj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span>\n<span class=\"c1\">-- https://github.com/leanprover-community/mathlib4/blob/8666bd82efec40b8b3a5abca02dc9b24bbdf2652/Mathlib/Init/Order/Defs.lean#L37-L41$0</span>\n\n<span class=\"c1\">-- makeshift order preserving function</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"n\">Obj</span>\n\n\n<span class=\"c1\">--The preorder constructed below has n‚ÇÅ/m‚ÇÅ ‚â† n‚ÇÇ/m‚ÇÇ when either n‚ÇÅ ‚â† n‚ÇÇ or m‚ÇÅ ‚â† m‚ÇÇ, so I call it \"the nonnegative prerationals\".</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">))</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsIdn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span>\n<span class=\"n\">simp</span>\n\n<span class=\"c\">/-</span>\n<span class=\"cm\">def preorder_of_nonnegative_prerationals_lemma : (X : preorder_of_nonnegative_prerationalsObj) ‚Üí (Y : preorder_of_nonnegative_prerationalsObj) ‚Üí (Z : preorder_of_nonnegative_prerationalsObj) ‚Üí (f : preorder_of_nonnegative_prerationalsHom X Y) ‚Üí (g : preorder_of_nonnegative_prerationalsHom Y Z) ‚Üí (X.1 * Z.2 * (Y.2)) ‚â§ (X.2 * X.1 * (Y.2)) := by</span>\n<span class=\"cm\">unfold  preorder_of_nonnegative_prerationalsObj</span>\n<span class=\"cm\">unfold  preorder_of_nonnegative_prerationalsHom</span>\n<span class=\"cm\">simp</span>\n<span class=\"cm\">-/</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsCmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span>\n<span class=\"n\">unfold</span><span class=\"w\">  </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span>\n<span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationals</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsObj</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsHom</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsIdn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationalsCmp</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Y</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderIdn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span>\n<span class=\"n\">simp</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderCmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">two_element_preorderHom</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"c1\">--</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">two_element_preorder</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderObj</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderHom</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderIdn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_element_preorderCmp</span><span class=\"o\">}</span>\n\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">reflexivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">transitivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f‚ÇÉ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÇ</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÉ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">f‚ÇÉ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Obj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">order_preserving_function</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">inequality_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Idn</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">reflexivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Cmp</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"n\">transitivity_for_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_extended_reals</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">preorder</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">preorder_of_order_preserving_functions</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_prerationals</span><span class=\"w\"> </span><span class=\"n\">two_element_preorder</span>\n\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"[0,‚àû]\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">preorder_of_nonnegative_extended_reals</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"bp\">‚àû</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 494229517,
        "sender_full_name": "Elliot",
        "timestamp": 1737060241
    },
    {
        "content": "<p>A second submission I'm preparing uses the circle and inductive types.</p>\n<p>That makes me think, <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span>'s comment on term length would be easier to make sense of if we restricted to inductive types.</p>\n<p>Edit: I probably won't have time for it</p>",
        "id": 494248644,
        "sender_full_name": "Dean Young",
        "timestamp": 1737068376
    },
    {
        "content": "<p>Has anyone actually completed a minimal <code>ConditionallyCompleteLinearOrderedField</code>, or does anyone have an estimate for how many lines such an instance should take? I started to attempt a construction of the Eudoxus reals, figuring that it might be easier since it skips the rationals, but I'm already at over 100 lines and am not anywhere close to done, mostly due to technical theorems about how operations preserve certain invariants and respect quotients.</p>\n<p>I'm starting to think that the Eudoxus reals weren't such a good choice, but this might not be the case if every construction of the reals has the same issue.</p>",
        "id": 494293472,
        "sender_full_name": "Niels Voss",
        "timestamp": 1737096498
    },
    {
        "content": "<p>A quick search turned up a (non-golfed) 2700-line construction of the Eudoxus reals in Lean 3: <a href=\"https://github.com/Lix0120/eudoxus/blob/master/src/def.lean\">https://github.com/Lix0120/eudoxus/blob/master/src/def.lean</a>, so that could be seen as an upper bound.</p>",
        "id": 494294399,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1737097090
    },
    {
        "content": "<p>That seems to import a bunch of stuff from mathlib though, whereas I was trying to use only stuff in <code>Init</code></p>",
        "id": 494294548,
        "sender_full_name": "Niels Voss",
        "timestamp": 1737097189
    },
    {
        "content": "<p>but I was mainly wondering whether or not Eudoxus reals would better or worse than Dedekind cuts or Cauchy sequences</p>",
        "id": 494294684,
        "sender_full_name": "Niels Voss",
        "timestamp": 1737097235
    },
    {
        "content": "<p>I'm currently working on defining <code>R</code> by constructing the nonnegative real numbers and then defining the real numbers as a quotient on pairs, but I'm a bit unsure about proving the completeness of the result. It can be done by splitting to positive and negative cases, but is there a nicer way to do this?</p>",
        "id": 494480455,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1737175453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> You could take one of the elements of the pair to be a natural number I think.</p>",
        "id": 494506385,
        "sender_full_name": "Dean Young",
        "timestamp": 1737197400
    },
    {
        "content": "<p>Also, I notice that if one completes ‚Ñö then we can start with pairs (‚Ñ§, ‚Ñï‚â•1) and <strong>no equivalence relation</strong>.</p>",
        "id": 494563917,
        "sender_full_name": "Dean Young",
        "timestamp": 1737237696
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492303830\">said</a>:</p>\n<blockquote>\n<p>@_<strong>E. Dean Young|559197</strong> <a href=\"#narrow/channel/113488-general/topic/R.20golfing/near/492259793\">said</a>:</p>\n<blockquote>\n<p>One could also count with respect to l¬≤. The idea here is convenient for defining the norm on Rn.</p>\n</blockquote>\n<p>What does this mean?</p>\n</blockquote>\n<p>I don't have a very good answer, but l¬≤ is a complete preHilbert space. The preHilbert space structure defines a topology, but to be specific I would like the complete preHilbert space of square summable sequences on the natural numbers. This accompanied the thought that each <code>‚Ñù‚Åø</code> would be constructed without use of the others.</p>\n<p>Starting with <code>‚Ñö</code> is an option, which I would construct from <code>‚Ñ§</code> by adding in <code>n!‚Åª¬π</code> for <code>n ‚â• 1</code>. In Lie-algebra valued differential forms, there is something called the Kobayashi convension in the antisymmetrization of an endomorphism, which works in any characteristic because it involves choosing an order on basis elements of the exterior algebra, featuring only one representative in each sum. What would ordinarily be division by <code>n!</code> is simply summing after choosing an order.</p>\n<p>This reflects how one could use <code>‚Ñö</code> while paying close attension to how the Kobayashi convension works in any characteristic.</p>\n<p>In <code>‚Ñö</code> one adds in <code>n!‚Åª¬π</code> for each <code>n</code>, but in antisymmetrized representations of a Lie-algebra under the Kobayashi convension, one always has used divisibility by <code>n!</code>. </p>\n<p>This is probably related to <code>Œ£‚Çô ch‚ÇÅ‚Åø/n!</code> in some way I don't understand. Take <code>G = GL‚Çô(‚ÑÇ)</code> and <code>ùî§ = ùî§ùî©‚Çô(‚ÑÇ)</code> and consider the Lie-algebra valued differential forms such as <code>d v + (1/2)[v ‚àß v]</code>; the exterior product of lie-algebra valued differential forms is a monoid object in complexes without the square-zero condition, and that half is not necessary in the sum when one chooses an order on certain subtypes of cardinality 2. </p>\n<p>So somehow Lie-algebra valued differential forms feature antisymmetrization without division by <code>n!</code>, while <code>‚Ñö</code> bears a close relationship with the \"Chern-Weil type setup\", in which one can consider the chern character in which one needs the coefficients to exponentiate.</p>\n<p>Somehow I think that passage from the Lie-algebra world to the Lie-group world satisfies my curiosity about how to first form the rationals. I seem to think that adding in <code>1/n!</code> to <code>‚Ñ§</code> is best and that the tensor product of an algebraic group with <code>‚Ñ§[1/n!]</code> (i.e. the pullback with its geometric content) produces a unique kind of categorical equivalence or bridge.</p>\n<p>Given <code>(f : Nat ‚Üí ‚Ñö)√ó(_ : ‚àÉ(n : Nat),‚àÄ(m : Nat),‚àÄ(p : n  ‚â§m),f m = 0</code> we can construct a ‚Ñö-linear map from <code>‚Ñö‚Åø ‚äó ‚Ñö‚Åø</code> into <code>‚Ñö‚Åø</code>. To construct <code>‚Ñù</code> or <code>‚Ñù‚Åø</code> from this I might like to start from the open sets of <code>‚Ñö‚Åø</code> with respect to the metric this induces.</p>",
        "id": 494581700,
        "sender_full_name": "Dean Young",
        "timestamp": 1737243684
    },
    {
        "content": "<p>Someone who understands this better can correct me but the above could be saying, \"rational coefficients for cohomology are the smallest possible choice of ring (or A-infinity ring!) in which the Chern character exists\". </p>\n<p>The Chern character is most easily defined in the presence of a connection using Lie-algebra-valued differential forms, and this produces a monoid object in complexes instead of having the usual chain (square zero) condition, and the powers of the curvature form go to the Chern classes under the Chern-Weil homomorphism. These are the integral generators of <code>[BGL‚Çô(‚ÑÇ),Œ†‚ÇôB‚Åø‚Ñù]</code> and reside in <code>[BGL‚Çô(‚ÑÇ),Œ†‚ÇôB‚Åø‚Ñ§]</code>.</p>",
        "id": 494583686,
        "sender_full_name": "Dean Young",
        "timestamp": 1737245224
    },
    {
        "content": "<p>From <a href=\"https://ncatlab.org/nlab/show/Chern+character\">here</a> one can consider how the Chern character is a \"symmetrization\", sort of the opposite of the antisymmetrization that takes place in the Lie-algebra valued differential forms.</p>",
        "id": 494586268,
        "sender_full_name": "Dean Young",
        "timestamp": 1737247223
    },
    {
        "content": "<p><strong>In conclusion, after all of that abstraction, it feels more elegant to use</strong> <code>‚Ñï[n!‚Åª¬π]</code></p>",
        "id": 494586560,
        "sender_full_name": "Dean Young",
        "timestamp": 1737247485
    },
    {
        "content": "<p>The method above describes how the completion of a preorder can be used as an alternative to an equivalence relation.</p>\n<p>Here's how I'm going to proceed with<code>‚Ñï[n!‚Åª¬π]</code>:</p>\n<p>I'll put an order on </p>\n<p><code>‚Ñï  √ó (a : ‚Ñï ‚Üí ‚Ñï)   √ó (terminates : ‚àÉ(n : Nat),‚àÄ(m : Nat),‚àÄ(p : n ‚â§m),a m = 0)</code> </p>\n<p>with the usual </p>\n<p><code>factorial : ‚Ñï ‚Üí ‚Ñï </code> </p>\n<p>and </p>\n<p><code>product  : (a : ‚Ñï ‚Üí ‚Ñï)   ‚Üí  (terminates : ‚àÉ(n : Nat),‚àÄ(m : Nat),‚àÄ(p : n ‚â§m),a m = 0) ‚Üí ‚Ñï</code>.</p>\n<p>we can define a function <code>Œ¶</code> to help with the inequality </p>\n<p><code>a/(a‚ÇÅ! ‚ãØ a‚Çô!) ‚â§ b/(b‚ÇÅ!  ‚ãØ b‚Çô!)</code></p>\n<p>Specifically just taking <code>(a, termination_proof)</code> to <code>a‚ÇÅ! ‚ãØ a‚Çô! ‚ãØ </code>, which exists by the proof.</p>\n<p>where <code>(x‚ÇÅ, (a‚ÇÅ, t‚ÇÅ) ) ‚â§ (x‚ÇÇ, (a‚ÇÇ, t‚ÇÇ))</code> when <code>x‚ÇÅ * Œ¶ ((a‚ÇÇ,t‚ÇÇ))  ‚â§ x‚ÇÇ * Œ¶ ((a‚ÇÇ,t‚ÇÇ))</code>.</p>",
        "id": 494587488,
        "sender_full_name": "Dean Young",
        "timestamp": 1737248343
    },
    {
        "content": "<p>Then I can use the simple two object partial order above to get the non-negative extended reals without using any equivalence relation at all, and with a more elegant source of denomenators than the nonzero natural numbers: factorials of natural numbers!</p>",
        "id": 494587615,
        "sender_full_name": "Dean Young",
        "timestamp": 1737248442
    },
    {
        "content": "<p>I made a bit more of a mistake, not including powers of those.</p>",
        "id": 494591276,
        "sender_full_name": "Dean Young",
        "timestamp": 1737251501
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"559197\">@Elliot Young</span> is <span class=\"user-mention\" data-user-id=\"867732\">@Elliot</span> also your account?</p>",
        "id": 494918006,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1737409243
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130272\">@David Michael Roberts</span> Yeah- sorry for any confusion.</p>",
        "id": 496376638,
        "sender_full_name": "Dean Young",
        "timestamp": 1738082072
    },
    {
        "content": "<p>Any other duplicate accounts we should know about?</p>",
        "id": 496416450,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1738095180
    }
]