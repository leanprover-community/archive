[
    {
        "content": "<p>I would like to do something along the following lines: </p>\n<p>Take a single file in <a href=\"https://github.com/HEPLean/PhysLean\">PhysLean</a>, and from that quickly generate it's documentation page (using docgen4), or something similar (using e.g. verso).  All of the links to <em>other</em> files etc. don't need to be present.</p>\n<p>The idea is to just give someone a quick idea of what the documentation for that file is going to look like, without them having to generate it for the whole project (which takes a long time). </p>\n<p>Is something along these lines possible?</p>",
        "id": 538182405,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1757325858
    },
    {
        "content": "<p>You can in principle coerce doc-gen into doing this through manual invocations of the binary but it is not at all supported and can break at any moment in time.</p>\n<p>Note that generating documentation only takes long once as the build should be incremental after that.</p>",
        "id": 538188935,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1757327959
    },
    {
        "content": "<p>Can't you also do  <code>lake build PhysLean.MyModule:docs</code>?</p>",
        "id": 538204548,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757332584
    },
    {
        "content": "<p>No that's going to build transitive things: <a href=\"https://github.com/leanprover/doc-gen4/blob/main/lakefile.lean#L228-L233\">https://github.com/leanprover/doc-gen4/blob/main/lakefile.lean#L228-L233</a></p>",
        "id": 538212190,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1757334600
    },
    {
        "content": "<p>You can do the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"w\"> </span><span class=\"n\">single</span><span class=\"w\"> </span><span class=\"n\">Example</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span>\n<span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"w\"> </span><span class=\"n\">index</span>\n</code></pre></div>\n<p>where the <code>\"\"</code> is <code>sourceUri</code>, but since you don't need links, this is left blank.</p>\n<p>Then the generated HTML documentation is at <code>.lake/build/doc/Example/Module.html</code></p>\n<p>(This is probably not a standard usage of doc-gen4.)</p>",
        "id": 538712870,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1757527990
    },
    {
        "content": "<p>Yes this is the way I was alluding to above. I didn't write it out on purpose to discourage people from relying on an unstable API :P</p>",
        "id": 538714001,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1757528343
    }
]