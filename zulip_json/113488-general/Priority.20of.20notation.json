[
    {
        "content": "<p>I have defined a notation </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">notation</span><span class=\"o\">:</span><span class=\"mi\">25</span> <span class=\"n\">α</span> <span class=\"s2\">\" →[\"</span> <span class=\"n\">M</span><span class=\"o\">:</span><span class=\"mi\">25</span> <span class=\"s2\">\"] \"</span> <span class=\"n\">β</span><span class=\"o\">:</span><span class=\"mi\">0</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">EquivariantMap</span> <span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">id</span> <span class=\"n\">M</span><span class=\"o\">)</span> <span class=\"n\">α</span> <span class=\"n\">β</span>\n</code></pre></div>\n<p>which conflicts with the one for <code>MulActionHom</code>. Because of that ambiguity, Lean stops.<br>\nI tried to insert <code>(priority := 1000) </code>, without success…<br>\nHow can I make mine to be chosen automatically?</p>",
        "id": 386202637,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1692522575
    },
    {
        "content": "<p>I think 1000 is the default priority so providing that won't do anything</p>",
        "id": 386202779,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1692522690
    },
    {
        "content": "<p>By without success, I meant that I got an error message.<br>\nWhere should I insert the <code>priority</code> attribute? I tried <code>notation (priority := 1000) :25…</code></p>",
        "id": 386203628,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1692523384
    },
    {
        "content": "<p>Many examples are found by <a href=\"https://github.com/search?q=repo%3Aleanprover-community%2Fmathlib4%20notation%20priority&amp;type=code\">searching the repo</a>, for example <a href=\"https://github.com/leanprover-community/mathlib4/blob/a1bb5932254a591f05aba4f28cee2310bbebc9b0/Mathlib/Topology/ContinuousFunction/ZeroAtInfty.lean#L49\">this</a>. <del><code>M:25</code> <code>β:0</code> don't feel right to me ...</del> Oops it's used <a href=\"https://github.com/leanprover-community/mathlib4/blob/a1bb5932254a591f05aba4f28cee2310bbebc9b0/Mathlib/LinearAlgebra/TensorProduct.lean#L118\">here</a>.</p>",
        "id": 386252151,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1692559913
    },
    {
        "content": "<p><code>:25</code> is precedence not priority</p>",
        "id": 386252222,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1692559983
    },
    {
        "content": "<p>What does it mean to put a precedence on a variable?</p>",
        "id": 386252301,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1692560044
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span> I believe the priority goes after the <code>:25</code>.</p>",
        "id": 386290941,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1692585631
    },
    {
        "content": "<p>Just to confirm, <a href=\"https://github.com/leanprover/lean4/blob/63d2bdd4908b4df7db381537af754a7319e334e4/src/Lean/Parser/Syntax.lean#L75\">here is the syntax definition for <code>notation</code></a>.</p>\n<p>Here's what that means using simplified <code>syntax</code>-like notation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">docComment</span><span class=\"o\">)</span><span class=\"bp\">?</span> <span class=\"o\">(</span><span class=\"n\">attributes</span><span class=\"o\">)</span><span class=\"bp\">?</span> <span class=\"n\">attrKind</span>\n<span class=\"s2\">\"notation\"</span> <span class=\"o\">(</span><span class=\"kd\">precedence</span><span class=\"o\">)</span><span class=\"bp\">?</span> <span class=\"o\">(</span><span class=\"n\">namedName</span><span class=\"o\">)</span><span class=\"bp\">?</span> <span class=\"o\">(</span><span class=\"n\">namedPrio</span><span class=\"o\">)</span><span class=\"bp\">?</span> <span class=\"n\">notationItem</span><span class=\"bp\">*</span> <span class=\"s2\">\"=&gt;\"</span> <span class=\"n\">term</span>\n</code></pre></div>\n<p>The <code>attrKind</code> is <code>(\"scoped\" &lt;|&gt; \"local\")?</code>, the <code>namedName</code> is <code>\"(name :=\" ident \")\"</code>, and the <code>namedPrio</code> is <code>\"(priority :=\" priority \")\"</code>.</p>",
        "id": 386349037,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1692611291
    },
    {
        "content": "<p>The <code>priority</code> parser <a href=\"https://github.com/leanprover/lean4/blob/63d2bdd4908b4df7db381537af754a7319e334e4/src/Init/Notation.lean#L130\">has a number of named priority levels</a> by the way. There's <code>default</code>, <code>low</code>, <code>mid</code>, and <code>high</code>, and you can write expressions involving <code>+</code>, <code>-</code>, and parentheses.</p>",
        "id": 386349208,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1692611351
    }
]