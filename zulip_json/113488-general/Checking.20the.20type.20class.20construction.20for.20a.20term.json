[
    {
        "content": "<p>Say, for </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">ext</span><span class=\"kd\">]</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Hom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Action</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">hom</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"bp\">.</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"bp\">.</span><span class=\"n\">V</span>\n<span class=\"w\">  </span><span class=\"n\">comm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"bp\">.</span><span class=\"n\">ρ</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">hom</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">hom</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"bp\">.</span><span class=\"n\">ρ</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop_cat</span>\n</code></pre></div>\n<p>and </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Action</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span>\n<span class=\"w\">  </span><span class=\"n\">ρ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">MonCat</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>They are both <code>\\hom</code>, and should be group homomorphisms.</p>\n<p>Even if I know they are homomorphisms, I would like to know how can I construct such a term. But in Lean sessions, what can I do to check how is the notions of \"group homomorphisms\" defined here? Hovering the mouse over them both leads to the <code>quiver</code> stuff only.</p>",
        "id": 484036333,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732341832
    },
    {
        "content": "<p>If you hover over them, there should be some implicit argument telling you that <code>MonCat</code> is a quiver. And inside that, an argument that it is a quiver because it is a category. And inside that, an argument that <code>MonCat</code> is a category.</p>\n<p>Now, if you click \"Go to definition\", that will take you to the category structure on <code>MonCat</code>. This will tell you that it is the category of <code>Bundled</code> monoids with monoid homomorphims.</p>\n<p>And there you can click on \"Go to definition\" and go to the mathlib definition of monoid homomorphism.</p>",
        "id": 484036630,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732342140
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484036630\">said</a>:</p>\n<blockquote>\n<p>If you hover over them, there should be some implicit argument telling you that <code>MonCat</code> is a quiver. And inside that, an argument that it is a quiver because it is a category. And inside that, an argument that <code>MonCat</code> is a category.</p>\n<p>Now, if you click \"Go to definition\", that will take you to the category structure on <code>MonCat</code>. This will tell you that it is the category of <code>Bundled</code> monoids with monoid homomorphims.</p>\n<p>And there you can click on \"Go to definition\" and go to the mathlib definition of monoid homomorphism.</p>\n</blockquote>\n<p>It does not tell me <code>MonCat</code> is a quiver. See the screenshot:<br>\n<a href=\"/user_uploads/3121/Be8pjCVQ72fCQ6xgyizgp857/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Be8pjCVQ72fCQ6xgyizgp857/image.png\" title=\"image.png\"><img data-original-dimensions=\"2016x476\" src=\"/user_uploads/thumbnail/3121/Be8pjCVQ72fCQ6xgyizgp857/image.png/840x560.webp\"></a></div><p>May I please ask if there is some setting stuff that I got wrong?</p>",
        "id": 484036731,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732342254
    },
    {
        "content": "<p>Same for this one:<br>\n<a href=\"/user_uploads/3121/Y04F_XU2DwLhkeZa810i68cZ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Y04F_XU2DwLhkeZa810i68cZ/image.png\" title=\"image.png\"><img data-original-dimensions=\"2016x476\" src=\"/user_uploads/thumbnail/3121/Y04F_XU2DwLhkeZa810i68cZ/image.png/840x560.webp\"></a></div>",
        "id": 484036807,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732342330
    },
    {
        "content": "<p>Aah, yes, at that point it doesn't.<br>\nBut if you have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonCat</span><span class=\"o\">)</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">hom</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- put your cursor before the `_`</span>\n</code></pre></div>\n<p>then in the goal view you can hover over the <code>\\hom</code>.</p>",
        "id": 484041223,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732346815
    },
    {
        "content": "<p>Sorry. I agree that this is not the easiest UX.</p>",
        "id": 484041241,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732346832
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span> Do you think we could get hover info from the elaborator when hovering over something like <code>\\hom</code> in the source? Because there must be some instance floating around (either variable or constant) that makes the elaborator happy when it parses <code>\\hom</code>. It would be cool to get easy access to that in all hovers, not just the goal view.</p>",
        "id": 484041318,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732346926
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/WEb6RznX2b4CeBFV3NT5LDLx/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WEb6RznX2b4CeBFV3NT5LDLx/image.png\" title=\"image.png\"><img data-original-dimensions=\"2016x278\" src=\"/user_uploads/thumbnail/3121/WEb6RznX2b4CeBFV3NT5LDLx/image.png/840x560.webp\"></a></div>",
        "id": 484041355,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732346996
    },
    {
        "content": "<p>and in goalview:<br>\n<a href=\"/user_uploads/3121/ti9YveSbJjQ30JAdfSMmcrTv/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ti9YveSbJjQ30JAdfSMmcrTv/image.png\" title=\"image.png\"><img data-original-dimensions=\"562x784\" src=\"/user_uploads/thumbnail/3121/ti9YveSbJjQ30JAdfSMmcrTv/image.png/840x560.webp\"></a></div>",
        "id": 484041404,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347005
    },
    {
        "content": "<p>Does it seem to be correct? (There is an error on the red underscore, but I can still see the MonCat stuff.)</p>",
        "id": 484041441,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347060
    },
    {
        "content": "<p>But it does not give me the definition of a homomorphism in MonCat... Let me see if I am in trouble...</p>",
        "id": 484041468,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347095
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484041223\">said</a>:</p>\n<blockquote>\n<p>Aah, yes, at that point it doesn't.<br>\nBut if you have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonCat</span><span class=\"o\">)</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">hom</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"c1\">-- put your cursor before the `_`</span>\n</code></pre></div>\n<p>then in the goal view you can hover over the <code>\\hom</code>.</p>\n</blockquote>\n<p>Sorry I think I can still not get hovering to lead me to the definition of the categorical structure of MonCat.</p>",
        "id": 484041590,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347204
    },
    {
        "content": "<p>I tried everything clickable here:<br>\n<a href=\"/user_uploads/3121/BLzhPBZDnbkGx84B3ExvGpcI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BLzhPBZDnbkGx84B3ExvGpcI/image.png\" title=\"image.png\"><img data-original-dimensions=\"562x784\" src=\"/user_uploads/thumbnail/3121/BLzhPBZDnbkGx84B3ExvGpcI/image.png/840x560.webp\"></a></div>",
        "id": 484041712,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347338
    },
    {
        "content": "<p>Seems not able to reach the definition... I would wish I can do that because finding out the definitions by hand does take long, especially if one do not have a fixed category to work with.</p>",
        "id": 484041785,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347394
    },
    {
        "content": "<p>This looks good. I think you can now drill down deeper by following <code>catToReflQuiver</code>.</p>",
        "id": 484041901,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732347504
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484041901\">said</a>:</p>\n<blockquote>\n<p>This looks good. I think you can now drill down deeper by following <code>catToReflQuiver</code>.</p>\n</blockquote>\n<p>This takes me to:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">catToReflQuiver</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">inst</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ReflQuiver</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">inst</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>",
        "id": 484041931,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347557
    },
    {
        "content": "<p>This seems unexpected to me because I would like to see the category construction.</p>",
        "id": 484041950,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347587
    },
    {
        "content": "<p>In the sense that I can see obj are... hom are ... .</p>",
        "id": 484042009,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347612
    },
    {
        "content": "<p>i.e. the explicit fields.</p>",
        "id": 484042014,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347619
    },
    {
        "content": "<p>Or the first place that the instance [Category MonCat] is constructed.</p>",
        "id": 484042043,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347656
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/gO7delBzbztpeCPWLRIaJhWc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/gO7delBzbztpeCPWLRIaJhWc/image.png\" title=\"image.png\"><img data-original-dimensions=\"442x223\" src=\"/user_uploads/thumbnail/3121/gO7delBzbztpeCPWLRIaJhWc/image.png/840x560.webp\"></a></div>",
        "id": 484042068,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732347709
    },
    {
        "content": "<p>I could get more hovers</p>",
        "id": 484042111,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732347723
    },
    {
        "content": "<p>And that final one contains the definition of the category structure on <code>MonCat</code>.</p>",
        "id": 484042125,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732347744
    },
    {
        "content": "<p>Can you reproduce this?</p>",
        "id": 484042130,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732347755
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/1VBA6VAlh73BE_oOXYf_K0Q7/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/1VBA6VAlh73BE_oOXYf_K0Q7/image.png\" title=\"image.png\"><img data-original-dimensions=\"984x784\" src=\"/user_uploads/thumbnail/3121/1VBA6VAlh73BE_oOXYf_K0Q7/image.png/840x560.webp\"></a></div>",
        "id": 484042257,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347907
    },
    {
        "content": "<p>But the click brings me to the definition of large category stuff.</p>",
        "id": 484042268,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347929
    },
    {
        "content": "<p>It takes me here:<br>\n<a href=\"/user_uploads/3121/cNX3wv8kn9brWxGDFY897amy/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/cNX3wv8kn9brWxGDFY897amy/image.png\" title=\"image.png\"><img data-original-dimensions=\"1284x784\" src=\"/user_uploads/thumbnail/3121/cNX3wv8kn9brWxGDFY897amy/image.png/840x560.webp\"></a></div>",
        "id": 484042328,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732347965
    },
    {
        "content": "<p>The right path here goes through <code>instMonCatLargeCategory</code></p>",
        "id": 484042383,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732348044
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484042383\">said</a>:</p>\n<blockquote>\n<p>The right path here goes through <code>instMonCatLargeCategory</code></p>\n</blockquote>\n<p>It seems to be non-clickable to me.</p>",
        "id": 484042398,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348069
    },
    {
        "content": "<p>Go to its definition</p>",
        "id": 484042449,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732348085
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484042449\">said</a>:</p>\n<blockquote>\n<p>Go to its definition</p>\n</blockquote>\n<p>Lean refuses, it says something like \"Nodefinition....\"</p>",
        "id": 484042502,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348168
    },
    {
        "content": "<p>It shows the message for less than 1 sec so I am not able to take a screenshot.</p>",
        "id": 484042521,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348197
    },
    {
        "content": "<p>Aahrg, is this one of those edge cases, where it is an instance produced by <code>deriving</code>?</p>",
        "id": 484042592,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348249
    },
    {
        "content": "<p>Sorry, you seem to have hit a couple of nasty speedbumps.</p>",
        "id": 484042609,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348272
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/c9cb88e7c1a95c987df4d3d68dd55f4c90d5bf11/Mathlib/Algebra/Category/MonCat/Basic.lean#L53-L53\">https://github.com/leanprover-community/mathlib4/blob/c9cb88e7c1a95c987df4d3d68dd55f4c90d5bf11/Mathlib/Algebra/Category/MonCat/Basic.lean#L53-L53</a></p>",
        "id": 484042627,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348307
    },
    {
        "content": "<p>Nothing to sorry about and thanks very much for all the elaboration!</p>",
        "id": 484042681,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348335
    },
    {
        "content": "<p>Do you mean that this case is not normal?</p>",
        "id": 484042688,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348348
    },
    {
        "content": "<p>Line 41 of that file shows you <code>MonoidHom</code>. You can click on that, and find the definition of monoid homs.</p>",
        "id": 484042689,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348353
    },
    {
        "content": "<p>Is there is a \"normal case\" that I can try the hovering trick?</p>",
        "id": 484042700,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348368
    },
    {
        "content": "<p>Yes, I think it started out normal, but then you hit some speedbumps.</p>",
        "id": 484042704,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348370
    },
    {
        "content": "<p>Write</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n</code></pre></div>\n<p>then you get<br>\n<a href=\"/user_uploads/3121/2ZT1IhF0k1K4zTR3hGmzKYY7/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/2ZT1IhF0k1K4zTR3hGmzKYY7/image.png\" title=\"image.png\"><img data-original-dimensions=\"460x157\" src=\"/user_uploads/thumbnail/3121/2ZT1IhF0k1K4zTR3hGmzKYY7/image.png/840x560.webp\"></a></div>",
        "id": 484042916,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348633
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484042627\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/c9cb88e7c1a95c987df4d3d68dd55f4c90d5bf11/Mathlib/Algebra/Category/MonCat/Basic.lean#L53-L53\">https://github.com/leanprover-community/mathlib4/blob/c9cb88e7c1a95c987df4d3d68dd55f4c90d5bf11/Mathlib/Algebra/Category/MonCat/Basic.lean#L53-L53</a></p>\n</blockquote>\n<p>I find this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">to_additive</span><span class=\"kd\">]</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">MonoidHom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MulOneClass</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MulOneClass</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">extends</span>\n<span class=\"w\">  </span><span class=\"n\">OneHom</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→ₙ*</span><span class=\"w\"> </span><span class=\"n\">N</span>\n</code></pre></div>\n<p>following the MonoidHom in the link.</p>\n<p>So does the problem actually comes from the fact that the instance MonCat is a category is never written out explicitly?</p>",
        "id": 484042926,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348648
    },
    {
        "content": "<p>That should be an example of the normal case. Where you can find out what the addition is on <code>Nat</code>.</p>",
        "id": 484042935,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1732348656
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484042935\">said</a>:</p>\n<blockquote>\n<p>That should be an example of the normal case. Where you can find out what the addition is on <code>Nat</code>.</p>\n</blockquote>\n<p>It takes me to this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">instAddNat</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Add</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add</span>\n</code></pre></div>\n<p>Seems great.</p>",
        "id": 484043009,
        "sender_full_name": "Yiming Xu",
        "timestamp": 1732348726
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484041318\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> Do you think we could get hover info from the elaborator when hovering over something like <code>\\hom</code> in the source? Because there must be some instance floating around (either variable or constant) that makes the elaborator happy when it parses <code>\\hom</code>. It would be cool to get easy access to that in all hovers, not just the goal view.</p>\n</blockquote>\n<p>That information should be there already, and it's a matter of whether the hovers themselves are showing this information. If I remember correctly, the hover code intentionally only shows the term if it's a constant. I think that's because most of the time you would rather have the hover be compact, and the type is the most commonly useful information. It's also useful knowing which constant an identifier resolved to.</p>\n<p>(<span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span> does VS Code have any interactions that could be used to ask a hover to show a more detailed version? I know you can click on hovers to \"activate\" them for example, which makes them stick around even if you move your mouse — can these activated hovers have UI features like a checkbox to make the current hover detailed? Is there such a thing as a document hover that's hoverable?)</p>",
        "id": 484087009,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1732387859
    },
    {
        "content": "<p>You could use a subset of HTML if we were to enable it to do this, but the VS Code UX for hovers that can change their content is pretty bad: <a href=\"#narrow/stream/113488-general/topic/Showing.20two.20doc-string\">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Showing.20two.20doc-string</a></p>",
        "id": 484087781,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1732388511
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span>. What do you think about having something like <code>set_option hovers.alwaysShowValues true</code> that would make hovers show values, default false? This would have been useful to have around for debugging in a number of cases.</p>",
        "id": 484089556,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1732390084
    },
    {
        "content": "<p>It's worth looking at <code>rust-analyzer</code> I think if that hasn't been done already. I don't know how it looks in VSCode probably the same?, but in Neovim rust-analyzer's (really rustaceanvim)'s hovers are clickable / contain hover actions!</p>",
        "id": 484089591,
        "sender_full_name": "Julian Berman",
        "timestamp": 1732390124
    },
    {
        "content": "<p>Specifically they look like this:</p>\n<p><a href=\"/user_uploads/3121/LQza77nYJNqGw_Ddkl3ltWax/Screenshot-2024-11-23-at-14.29.38.png\">Screenshot 2024-11-23 at 14.29.38.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/LQza77nYJNqGw_Ddkl3ltWax/Screenshot-2024-11-23-at-14.29.38.png\" title=\"Screenshot 2024-11-23 at 14.29.38.png\"><img data-original-dimensions=\"800x324\" src=\"/user_uploads/thumbnail/3121/LQza77nYJNqGw_Ddkl3ltWax/Screenshot-2024-11-23-at-14.29.38.png/840x560.webp\"></a></div>",
        "id": 484089655,
        "sender_full_name": "Julian Berman",
        "timestamp": 1732390189
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484089556\">said</a>:</p>\n<blockquote>\n<p>Thanks <span class=\"user-mention silent\" data-user-id=\"221921\">Marc Huisinga</span>. What do you think about having something like <code>set_option hovers.alwaysShowValues true</code> that would make hovers show values, default false? This would have been useful to have around for debugging in a number of cases.</p>\n</blockquote>\n<p>I think that an obscure config option isn't much of an improvement over the current situation. It's also worth keeping in mind that these terms in the editor hover panel will not be interactive.</p>",
        "id": 484091497,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1732391872
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484089591\">said</a>:</p>\n<blockquote>\n<p>It's worth looking at <code>rust-analyzer</code> I think if that hasn't been done already. I don't know how it looks in VSCode probably the same?, but in Neovim rust-analyzer's (really rustaceanvim)'s hovers are clickable / contain hover actions!</p>\n</blockquote>\n<p>You can make VS Code hovers have clickable markdown links that execute VS Code commands, but I'm not sure if that is much of a help here.</p>",
        "id": 484091702,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1732392009
    },
    {
        "content": "<p>The current situation is that I can only find the elaborated value of a term by indirect methods, perhaps doing <code>#print</code> and hoping I can find the subterm that corresponds to what I'm interested in, but with a debug option like this I would be able to directly locate the term. This would really help debugging elaboration issues, even if the terms aren't themselves hoverable.</p>",
        "id": 484091762,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1732392049
    },
    {
        "content": "<p>Sure, I wouldn't mind an option like this as a tool for debugging elaborators, but I'm skeptical about whether it will help with the kind of question in this thread. Needing to know some debug option that you can enable to get the info you want in some specific cases is still pretty horrible UX.</p>",
        "id": 484092169,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1732392369
    },
    {
        "content": "<p>I agree — I'm seeing this sort of like the slew of <code>pp</code> options that are similarly obscure but inconvenient to live without.</p>",
        "id": 484092394,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1732392570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/113488-general/topic/Checking.20the.20type.20class.20construction.20for.20a.20term/near/484092394\">said</a>:</p>\n<blockquote>\n<p>I agree — I'm seeing this sort of like the slew of <code>pp</code> options that are similarly obscure but inconvenient to live without.</p>\n</blockquote>\n<p>I think it's more likely that we can get that situation in particular under control at some point because we actually control the UI there (as opposed to editor hovers) :-)</p>",
        "id": 484092662,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1732392796
    }
]