[
    {
        "content": "<p>So, I'm playing around with Lean, and I'm trying to prove a simple theorem: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">{</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"bp\">*</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"bp\">*</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>and I can't seem to do it with linarith alone.</p>",
        "id": 451917731,
        "sender_full_name": "Sophia C",
        "timestamp": 1721183926
    },
    {
        "content": "<p>Short answer: try <code>omega</code>. Long answer: probably, <code>linarith</code> doesn't split nat subtraction into cases.</p>",
        "id": 451917827,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721184007
    },
    {
        "content": "<p>You can also try to <code>zify</code> and see if it can push <code>Nat.cast (_ - _)</code> to <code>Nat.cast _ - Nat.cast _</code>.</p>",
        "id": 451917891,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721184073
    },
    {
        "content": "<p>The issue is that <code>(2 - 3 : Nat) = 0</code> in Lean/Mathlib, so <code>a + (b - c) = (a + b) - c</code> requires <code>c ≤ b</code>.</p>",
        "id": 451917911,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1721184108
    },
    {
        "content": "<p>that one's true by <code>rfl</code></p>",
        "id": 452089409,
        "sender_full_name": "James Sully",
        "timestamp": 1721226203
    }
]