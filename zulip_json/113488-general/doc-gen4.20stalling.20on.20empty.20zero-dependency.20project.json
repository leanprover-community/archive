[
    {
        "content": "<p>Hello, I am trying to locally build documentation for my standalone lean project.<br>\nI am running into an issue where <code>DOCGEN_SRC=\"vscode\" lake build DocTest2:docs</code> completely seems to stall at the very last step. I waited more than ten minutes.</p>\n<p>The steps that I took were:<br>\n1) use the VS Code command palette to \"Create Standalone Lean project\"<br>\n2) create a <code>docbuild/</code> folder in the new project<br>\n3) add the lakefile.toml as specified in the doc-gen4 readme <a href=\"https://github.com/leanprover/doc-gen4\">https://github.com/leanprover/doc-gen4</a> and run <code>lake update doc-gen4</code> in <code>docbuild/</code><br>\n4) ran <code>DOCGEN_SRC=\"vscode\" lake build DocTest2:docs</code></p>\n<p>This ran for 10 minutes before I killed it. The project has no dependencies and no theorems yet it seems to stall. <br>\nCan anyone help? Thanks</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">anand</span><span class=\"bp\">@</span><span class=\"n\">jain</span><span class=\"w\"> </span><span class=\"bp\">~/</span><span class=\"n\">s</span><span class=\"bp\">/</span><span class=\"n\">l</span><span class=\"bp\">/</span><span class=\"n\">D</span><span class=\"bp\">/</span><span class=\"n\">docbuild</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">main</span><span class=\"o\">)</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">DOCGEN_SRC</span><span class=\"bp\">=</span><span class=\"s2\">\"vscode\"</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">DocTest2</span><span class=\"o\">:</span><span class=\"n\">docs</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">132</span><span class=\"bp\">/</span><span class=\"mi\">143</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"bp\">»/</span><span class=\"n\">bibPrepass</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"n\">INFO</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">reference</span><span class=\"w\"> </span><span class=\"n\">page</span><span class=\"w\"> </span><span class=\"n\">disabled</span>\n<span class=\"bp\">⣽</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">143</span><span class=\"bp\">/</span><span class=\"mi\">144</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Running</span><span class=\"w\"> </span><span class=\"n\">DocTest2</span><span class=\"bp\">/</span><span class=\"n\">DocTest2</span><span class=\"o\">:</span><span class=\"n\">docs</span>\n</code></pre></div>",
        "id": 565935884,
        "sender_full_name": "runofff",
        "timestamp": 1767218437
    },
    {
        "content": "<p>The most likely thing it is doing is building the documentation for <code>Lean</code>, <code>Std</code> and <code>Init</code> which it always does in the background. On a weak machine this can definitely take a little while the first time you do it.</p>",
        "id": 565935972,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1767218537
    },
    {
        "content": "<p>but does that happen in step 143/144? I thought I saw that stuff building in earlier steps</p>",
        "id": 565936009,
        "sender_full_name": "runofff",
        "timestamp": 1767218591
    },
    {
        "content": "<p>I can keep it running though, but is there a way to then skip building these since it's taking so long?</p>",
        "id": 565936031,
        "sender_full_name": "runofff",
        "timestamp": 1767218618
    },
    {
        "content": "<p>You can also check <code>htop</code> or whatever other process manager is your favorite to see what it is up to of course.</p>",
        "id": 565936152,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1767218777
    },
    {
        "content": "<p>That's helpful, it is still building Std and Lean. I will go make some food and see if it finishes over lunch</p>",
        "id": 565936225,
        "sender_full_name": "runofff",
        "timestamp": 1767218896
    }
]