[
    {
        "content": "<p>When lean-smt throws and unsolved goals error but does not say that it failed to prove the goal. So it seems like the reconstruction is failing. Here is what <code>show_term esmt</code> gives: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">refine</span>\n<span class=\"w\">    </span><span class=\"bp\">?_</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">let_fun</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">two_points_determine_line</span><span class=\"bp\">;</span>\n<span class=\"w\">      </span><span class=\"n\">this</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Here is the proof that I'm running:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">proposition_5</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Point</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">AB</span><span class=\"w\"> </span><span class=\"n\">BC</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Line</span><span class=\"o\">),</span>\n<span class=\"w\">  </span><span class=\"n\">formTriangle</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"w\"> </span><span class=\"n\">BC</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">|</span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">─</span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">─</span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"bp\">|</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">between</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">between</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">∠</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∠</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∠</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"n\">e</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_intros</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">point_between_points_shorter_than</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"bp\">─</span><span class=\"n\">e</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">proposition_3</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">g</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line_from_points</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">FC</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">line_from_points</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">GB</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">proposition_4</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"w\"> </span><span class=\"n\">FC</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"n\">GB</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">proposition_4</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"w\"> </span><span class=\"n\">BC</span><span class=\"w\"> </span><span class=\"n\">FC</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"n\">BC</span><span class=\"w\"> </span><span class=\"n\">GB</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">sum_angles_onlyif</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">AB</span><span class=\"w\"> </span><span class=\"n\">GB</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">show_term</span><span class=\"w\"> </span><span class=\"n\">esmt</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">sum_angles_onlyif</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">AC</span><span class=\"w\"> </span><span class=\"n\">FC</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">euclid_finish</span>\n</code></pre></div>\n<p>I'm doing this on a fork of the LeanEuclid repo <a href=\"https://github.com/project-numina/LeanEuclid/tree/to415\">https://github.com/project-numina/LeanEuclid/tree/to415</a></p>",
        "id": 516563440,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1746583458
    },
    {
        "content": "<p>for reference <code>esmt</code> is just a wrapper for <code>smt</code> that includes all axioms tagged with <code>euclid</code>. The implementation can be found here <a href=\"https://github.com/project-numina/LeanEuclid/blob/to415/SystemE/Tactic/ESmt.lean\">https://github.com/project-numina/LeanEuclid/blob/to415/SystemE/Tactic/ESmt.lean</a></p>",
        "id": 516563558,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1746583547
    }
]