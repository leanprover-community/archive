[
    {
        "content": "<p>Friends, I'm working through the Functional Programming with Lean book, and in the section \"1.7 Additional Conveniences\" it gives a code example of how one could omit implicit arguments:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">xs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">xs</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">ys</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"n\">ys</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>The problem is that this gives me an error <code>unknown identifier 'α'</code>.<br>\nMy guess is that this is related to the newest Lean version? I'm using 4.14.<br>\nDid something change in the newer version that makes this syntax unusable?</p>\n<p>Also, for someone starting with Lean, should I use another (more stable?) version?</p>",
        "id": 484956666,
        "sender_full_name": "DSB",
        "timestamp": 1732811882
    },
    {
        "content": "<p>As you can see on <a href=\"http://live.lean-lang.org\">live.lean-lang.org</a>: <a href=\"https://live.lean-lang.org/#codez=CYUwZgBANiB2DmAXAFhAFADwM4QFwQBkBLLRCQRuABKPCAOQEMzcBeAKAggFtGBjVbCAHciKdhAA+EANoBdCMwB8EAAxjJATzz51ORXUYA6LAFcePdDAQoIOyqyA\">https://live.lean-lang.org/#codez=CYUwZgBANiB2DmAXAFhAFADwM4QFwQBkBLLRCQRuABKPCAOQEMzcBeAKAggFtGBjVbCAHciKdhAA+EANoBdCMwB8EAAxjJATzz51ORXUYA6LAFcePdDAQoIOyqyA</a> this just works in a default lean setup, do you have any additional details about your setup that you are not mentioning</p>",
        "id": 484957169,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1732812070
    },
    {
        "content": "<p>Not that I know of. I've started a project using <code>lake</code> and I've installed Mathlib on it. But that is pretty much it.</p>",
        "id": 484957354,
        "sender_full_name": "DSB",
        "timestamp": 1732812151
    },
    {
        "content": "<p>I mean, I'm running the code from within the project.</p>",
        "id": 484957954,
        "sender_full_name": "DSB",
        "timestamp": 1732812372
    },
    {
        "content": "<p>That's precisely the difference -- specifically, presuming you ran e.g. <code>lake exe new yourproject math</code>, your <code>lakefile.toml</code> contains:</p>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"k\">[leanOptions]</span>\n<span class=\"err\">&lt;</span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"n\">stuff</span><span class=\"p\">...</span><span class=\"err\">&gt;</span>\n<span class=\"n\">autoImplicit</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">false</span>\n</code></pre></div>\n<p>whereas the \"default\" non-math one does not contain that line.</p>",
        "id": 484957969,
        "sender_full_name": "Julian Berman",
        "timestamp": 1732812381
    },
    {
        "content": "<p>You can remove that line to get the non-math default (where <code>alpha</code> will implicitly be created by Lean) or you can read the book knowing that this behavior depends a bit on what the <code>autoImplicit</code> setting is.</p>",
        "id": 484958041,
        "sender_full_name": "Julian Berman",
        "timestamp": 1732812428
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321696\">@Julian Berman</span> , thanks! That was it.</p>",
        "id": 484958133,
        "sender_full_name": "DSB",
        "timestamp": 1732812471
    },
    {
        "content": "<p>Curious. Why disabling autoImplicit?</p>",
        "id": 484958204,
        "sender_full_name": "DSB",
        "timestamp": 1732812489
    },
    {
        "content": "<p>It's a polarizing setting. Some people love it because it reduces typing, some people hate it because it increases the chances of getting inscrutable errors if you typo a variable name.</p>",
        "id": 484958361,
        "sender_full_name": "Julian Berman",
        "timestamp": 1732812541
    },
    {
        "content": "<p>Makes sense. Thanks both <span class=\"user-mention\" data-user-id=\"321696\">@Julian Berman</span>  and <span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> for the quick responses!</p>",
        "id": 484958452,
        "sender_full_name": "DSB",
        "timestamp": 1732812574
    },
    {
        "content": "<p>In the file you're experimenting in, you can add <code>set_option autoImplicit true</code> without needing to touch the <code>lakefile.toml</code> as well.</p>",
        "id": 484959870,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1732813113
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span></p>",
        "id": 484959939,
        "sender_full_name": "DSB",
        "timestamp": 1732813143
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"709428\">DSB</span> has marked this topic as resolved.</p>",
        "id": 485090444,
        "sender_full_name": "Notification Bot",
        "timestamp": 1732883863
    }
]