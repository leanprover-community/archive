[
    {
        "content": "<p>Two weeks ago i started implementing a dimensional analysis library.<br>\nIt's now starting to look good so i'll publish the full source code soon. I know some people where trying their own version, but i think this one is the most complete and extensible to date.</p>\n<p><a href=\"/user_uploads/3121/t_mOXexzTxGY3uXhgR4uzssE/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/t_mOXexzTxGY3uXhgR4uzssE/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1004x626\" src=\"/user_uploads/thumbnail/3121/t_mOXexzTxGY3uXhgR4uzssE/image.png/840x560.webp\"></a></div><p>i'll not try to make merged into PhysLean because a unit system can be of help in other domains than physics (trading systems for example)</p>",
        "id": 536131273,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756168264
    },
    {
        "content": "<p>Defining a unit system :<br>\n<a href=\"/user_uploads/3121/NrJtx_Azjn4hvUCc8En3uYeS/image.png\">image.png</a><br>\nAnd defining quantities on this system of units :<br>\n<a href=\"/user_uploads/3121/4vGKTuUyIIf-vQsfw7gsPpiq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/NrJtx_Azjn4hvUCc8En3uYeS/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"812x488\" src=\"/user_uploads/thumbnail/3121/NrJtx_Azjn4hvUCc8En3uYeS/image.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/4vGKTuUyIIf-vQsfw7gsPpiq/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1007x670\" src=\"/user_uploads/thumbnail/3121/4vGKTuUyIIf-vQsfw7gsPpiq/image.png/840x560.webp\"></a></div>",
        "id": 536131580,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756168468
    },
    {
        "content": "<p>Ooh, intriguing! :) I’ve got a couple of questions, which will probably be answered by the source code:</p>\n<ol>\n<li>How is e.g. Hz related to seconds above? That is, seeing as they’re defined independently, what makes one the inverse of the other? (Is one meant to use <code>defineDerivedUnit</code>?)</li>\n<li>Can you represent dimensionful quantities without insisting on specific units (e.g. for stating a physical law)?</li>\n<li>How do you handle transitioning to e.g. natural units with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">c = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>?</li>\n<li>How do you manage to transport lemmas/calculations about numbers to this setting? (One thing I’ve considered is having <code>opaque</code> definitions to let us simply work in numbers + statements about factors, but it gets tricky to link that to a type signature that is calculationally convenient yet prevents shenanigans!)</li>\n</ol>",
        "id": 536133061,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1756169528
    },
    {
        "content": "<ol>\n<li>Hz is exactly 1/s , if you use defineSI, the conversion to the SI system is implicit by default. but in this setup, if you want to add two quantities , one in <code>Hz</code> and one in <code>1/s </code>, you need to use the conversion system to mark you know what you are doing.</li>\n<li>Yes you can, you just reason at dimension level instead of units level. units and dimensions form an abstract hierarchy and you can work in both.</li>\n<li>the system is ready for that, (i took inspiration from mp_units library in c++) , i'll define two systems, a natural one and a SI one.</li>\n<li>Not sure i understand the question. But i have taken a look at Terrence Tao implementation, and i can plug my system into his and i think this should handle Formal abtract proofs on it.</li>\n</ol>",
        "id": 536134425,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756170418
    },
    {
        "content": "<p>Nice, looking forward to seeing how everything shakes out! <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span></p>\n<p>(Basically, for 4, I’m noting that we have a ton of existing infrastructure for dealing with number systems—ideally, we have a way to apply all that to dimensionful quantities out of the box, without having to duplicate and dimensionalize all of our lemmas and tactics.)</p>",
        "id": 536135350,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1756171076
    },
    {
        "content": "<p>For the point 2, here an exemple of abstract statement independent of units, all working on Dimension level:<br>\n<a href=\"/user_uploads/3121/LuYy_wfK6VhYUqdClzDE_iWu/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/LuYy_wfK6VhYUqdClzDE_iWu/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"718x302\" src=\"/user_uploads/thumbnail/3121/LuYy_wfK6VhYUqdClzDE_iWu/image.png/840x560.webp\"></a></div>",
        "id": 536138170,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756173170
    },
    {
        "content": "<p>And obviously wrong statements are catched by the type checked that does dimensional analysis for us :<br>\n<a href=\"/user_uploads/3121/UbCo_1JIUm2LeQ9BoThTuv1p/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/UbCo_1JIUm2LeQ9BoThTuv1p/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"799x303\" src=\"/user_uploads/thumbnail/3121/UbCo_1JIUm2LeQ9BoThTuv1p/image.png/840x560.webp\"></a></div>",
        "id": 536138991,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756173715
    },
    {
        "content": "<p>If you haven't already found it, PhysLean has quite a nice <code>HasDimension</code> predicate that is expressed in quite an abstract way.</p>",
        "id": 536300659,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1756237011
    },
    {
        "content": "<p>Yes but i don't think i can use it. Because i don't have a fixed set of Dimensions like PhysLean. <br>\nBut maybe the ideas can be backported to my library. I don't know.  <br>\nMaybe my framework will only be of value for engineers and not theorist.</p>",
        "id": 536307261,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756239955
    },
    {
        "content": "<p>I did some cleanup, and code is available here :<br>\n<a href=\"https://github.com/ecyrbe/lean-units\">https://github.com/ecyrbe/lean-units</a></p>\n<p>Obviously more work to come to improve the formal part that is really empty for now</p>",
        "id": 536320337,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756247083
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"942100\">ecyrbe</span> <a href=\"#narrow/channel/113488-general/topic/Dimensional.20analysis/near/536307261\">said</a>:</p>\n<blockquote>\n<p>Yes but i don't think i can use it. Because i don't have a fixed set of Dimensions like PhysLean. <br>\nBut maybe the ideas can be backported to my library. I don't know.  <br>\nMaybe my framework will only be of value for engineers and not theorist.</p>\n</blockquote>\n<p>I should say - I would be extremely glad if the implementation in PhysLean could be made extensible like your implementation <span class=\"user-mention\" data-user-id=\"942100\">@ecyrbe</span> . In particular, the difficulty would indeed be making <code>HasDimension</code> work with a not-fixed set of dimensions. One thing that would for sure need to be done to make this happen is to replace e.g. <code>TimeUnit</code>, <code>MassUnit</code> with some more general <code>Unit</code> or something similar.<br>\n(An advantage of working with <code>HasDimension</code> in PhysLean is that it is very easy to prove results about dimensions of e.g. vectors, tensors etc, as well as the dimensions of derivatives - as is done in PhysLean)</p>",
        "id": 536346794,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1756270391
    },
    {
        "content": "<p>So question 1 from <span class=\"user-mention\" data-user-id=\"548935\">@Thomas Murrills</span>  made me realise that defining derived units on dimensions was confusing.<br>\nSo i redesigned it to be based on Base SI units. And it makes more sence like that. Only base units should be a choice of unit .</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- base SI units</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"m\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Length</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"s\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Time</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"kg\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Mass</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"A\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Current</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">kelvin</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"K\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Temperature</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">mole</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"mol\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">AmountOfSubstance</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">candela</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"cd\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">LuminousIntensity</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">steradian</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"sr\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">dimensionless</span>\n\n<span class=\"c1\">-- derived SI units</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">hertz</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Hz\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"N\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">kilogram</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pascal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Pa\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"J\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">watt</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"W\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">coulomb</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"C\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ampere</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"V\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">watt</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">ohm</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Ω\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">farad</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"F\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coulomb</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">volt</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">weber</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Wb\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">tesla</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"T\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">weber</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">henry</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"H\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ohm</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">lumen</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"lm\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">candela</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">steradian</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">lux</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"lx\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">lumen</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">becquerel</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Bq\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">gray</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Gy\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">sievert</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Sv\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">katal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"kat\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mole</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">celsius</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"°C\"</span><span class=\"w\"> </span><span class=\"n\">kelvin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Conversion</span><span class=\"bp\">.</span><span class=\"n\">translate</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">273.15</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 536441470,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756307127
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"942100\">ecyrbe</span> <a href=\"#narrow/channel/113488-general/topic/Dimensional.20analysis/near/536441470\">said</a>:</p>\n<blockquote>\n<p>So question 1 from <span class=\"user-mention silent\" data-user-id=\"548935\">Thomas Murrills</span>  made me realise that defining derived units on dimensions was confusing.<br>\nSo i redesigned it to be based on Base SI units. And it makes more sence like that. Only base units should be a choice of unit .</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- base SI units</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"m\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Length</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"s\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Time</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"kg\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Mass</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"A\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Current</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">kelvin</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"K\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Temperature</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">mole</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"mol\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">AmountOfSubstance</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">candela</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"cd\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">LuminousIntensity</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">steradian</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"sr\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">dimensionless</span>\n\n<span class=\"c1\">-- derived SI units</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">hertz</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Hz\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"N\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">kilogram</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pascal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Pa\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"J\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">watt</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"W\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">coulomb</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"C\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ampere</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"V\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">watt</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">ohm</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Ω\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">farad</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"F\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coulomb</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">volt</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">weber</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Wb\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">tesla</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"T\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">weber</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">henry</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"H\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ohm</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">lumen</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"lm\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">candela</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">steradian</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">lux</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"lx\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">lumen</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">•</span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">becquerel</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Bq\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">gray</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Gy\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">sievert</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Sv\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">katal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"kat\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mole</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">celsius</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"°C\"</span><span class=\"w\"> </span><span class=\"n\">kelvin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Conversion</span><span class=\"bp\">.</span><span class=\"n\">translate</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">273.15</span><span class=\"o\">))</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Why not use the inversion symbol instead of negation for Hz ? Your operator overloading is confusing to me</p>",
        "id": 536469997,
        "sender_full_name": "Alok Singh",
        "timestamp": 1756316745
    },
    {
        "content": "<p>I needed the operations on dimensional analysis to be on Addition to have a AddCommGroup.<br>\nThis allows to have automatic casting using (by module).</p>\n<p>But you are right that i can also define the multiplicative ones as an alias for the additive ones.<br>\nSo i just pushed it at the moment. Now it looks like this :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- base SI units</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"m\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Length</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"s\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Time</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"kg\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Mass</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"A\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Current</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">kelvin</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"K\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">Temperature</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">mole</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"mol\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">AmountOfSubstance</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">candela</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"cd\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">LuminousIntensity</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">steradian</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineUnit</span><span class=\"w\"> </span><span class=\"s2\">\"sr\"</span><span class=\"w\"> </span><span class=\"n\">Dimension</span><span class=\"bp\">.</span><span class=\"n\">dimensionless</span>\n\n<span class=\"c1\">-- derived SI units</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">hertz</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Hz\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">second</span><span class=\"bp\">⁻¹</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"N\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">kilogram</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pascal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Pa\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"J\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">newton</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">watt</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"W\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">coulomb</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"C\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ampere</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"V\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">watt</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">ohm</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Ω\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">ampere</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">farad</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"F\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coulomb</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">volt</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">weber</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Wb\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">volt</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">tesla</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"T\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">weber</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">henry</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"H\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ohm</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">lumen</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"lm\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">candela</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">steradian</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">lux</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"lx\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">lumen</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">meter</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">becquerel</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Bq\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">second</span><span class=\"bp\">⁻¹</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">gray</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Gy\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">sievert</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"Sv\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">joule</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">kilogram</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">katal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"kat\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mole</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">second</span><span class=\"o\">)</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">celsius</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">defineDerivedUnit</span><span class=\"w\"> </span><span class=\"s2\">\"°C\"</span><span class=\"w\"> </span><span class=\"n\">kelvin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Conversion</span><span class=\"bp\">.</span><span class=\"n\">translate</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">273.15</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>Thanks for the feeback.</p>",
        "id": 536471813,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756317430
    },
    {
        "content": "<p>And to clarify, the additive operations come directly from <code>DFinsupp</code> that is used under the hood to define Dimensions and Units. So they are <code>native</code> to how they are internally defined.</p>",
        "id": 536473941,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1756318206
    }
]