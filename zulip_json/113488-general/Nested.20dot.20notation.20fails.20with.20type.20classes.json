[
    {
        "content": "<p>Hi. I came across a case where a nested dot notation results in a compiler error with type classes while it works with structures. Is this an intended behavior or should I open an Issue? Thanks!</p>\n<p>Here is MWE. You can also run the code in <a href=\"https://live.lean-lang.org/#codez=M4FwTgrgxiFgpgAgHIDECCiDuALeCAoRRAOwHsATeYRALkXTDAEMBPRAVRIEsQCCqAMxQYAdAAcIwHACV4Ac3gAPRAAoSg5nRHoAlNrSZaAXkQBvUpWp1TG5qPJVgEqTjX6AvvxLMAttXFmKCQAZXBoWEJQSBg4JAAFMDIyQQARZhAtXHx4IlJNAwx+IURE5LSM+zsAcjVxCm0ylPTM/XpDG0R6h00XaTlFJX5oiLiGABsQfB8pxGUpkgoaJorM7DxCAgA3ZjBuZgAjcaRVeu10SemM+F1+ZT9xY8KjU26agnvfR6R6RhZ2Li8TpvTTVBxWGgAWkhpGoUwaFDIIEsmRA3DIJGwZDAAGsaFheG4RrEEMAPotEGEYpFcgQfP5gIFgogAMLjZjAMlQdmc0pJZqVdY5PJ2Z7FeDCFYtKqgxAAbTO9CllQAus9gRQevZJP0FMp+NyOTQLlMwDMkPN4ItlvzVlkNrSdntDk8FQ1fpczdcVXclA8nu0MBqtdUCAB6SEEQQQEgwdGY5TieAweANDJ5ZWZEMEU2+RA4DmIECsJN5QwESFhiswz7fc5MNicHjIkxdTU1cFOckNNlGghAA\">Playground</a>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">structure</span><span class=\"w\"> </span><span class=\"n\">NFA</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">nodes</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">NFA.pushRegex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nfa</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NFA</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NFA</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">nodes</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">nfa.nodes.push</span><span class=\"w\"> </span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Class</span>\n<span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"n\">ProofData</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">nfa</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NFA</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">ProofData.nfa'</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ProofData</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NFA</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">pd.nfa.pushRegex</span>\n\n<span class=\"kd\">class</span><span class=\"w\"> </span><span class=\"n\">Alternate</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">ProofData</span><span class=\"w\"> </span><span class=\"n\">where</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Alternate</span><span class=\"o\">]</span>\n\n<span class=\"c1\">-- Single dot works</span>\n<span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NFA</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">pd.nfa'</span>\n<span class=\"c\">/-</span>\n<span class=\"cm\">function expected at</span>\n<span class=\"cm\">  ProofData.nfa'</span>\n<span class=\"cm\">term has type</span>\n<span class=\"cm\">  NFA</span>\n<span class=\"cm\">-/</span>\n<span class=\"c1\">-- example : Array Unit := pd.nfa'.nodes</span>\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">Class</span>\n</code></pre></div>",
        "id": 488990843,
        "sender_full_name": "pandaman",
        "timestamp": 1734179962
    },
    {
        "content": "<p><code>(pd.nfa').nodes</code> also works <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 489001285,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1734188412
    },
    {
        "content": "<p>Reported as <a href=\"https://github.com/leanprover/lean4/issues/6400\">https://github.com/leanprover/lean4/issues/6400</a></p>",
        "id": 489204877,
        "sender_full_name": "pandaman",
        "timestamp": 1734346653
    }
]