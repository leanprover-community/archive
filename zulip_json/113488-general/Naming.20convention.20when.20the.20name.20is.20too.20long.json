[
    {
        "content": "<p>Hi everyone,</p>\n<p>Are there principles on when and how to use abbreviations for excessively long names? For example, I wanted to define something called \"IsPerfectoidPseudoUniformizer\" and \"IsStrongPerfectoidPseudoUniformizer\" (35 characters). These names are too long to be used conveniently in a theorem, especially when a line is limited to 100 characters.</p>\n<p>However, <code>IsSPPU</code> is too vague and the pseudo-uniformizer is often abbreviated to psu instead of pu. It seems to me that <code>IsStrongPerfectoidPsU</code> or <code>IsStrongPPsU</code> is a better name.</p>\n<p>At least I want to ask two explicit questions about this.</p>\n<ol>\n<li>When is a name too long? Should we avoid creating names (names of definitions at least) with more than ~30 characters in mathlib? </li>\n<li>Should the abbreviation for the pseudo-uniformizer be <code>PsU</code>, <code>PSU</code> or <code>Psu</code> in upper camel case?</li>\n</ol>",
        "id": 497440465,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1738590663
    },
    {
        "content": "<p>Is there any chance you can shorten the name by putting it in a namespace. Eg, without knowing the maths, I would suggest <code>Perfectoid.IsPseudoUniformizer</code></p>",
        "id": 497441835,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1738590999
    },
    {
        "content": "<p>It is more like IsPerfectoidPseudoUniformizer = IsPseudoUniformizer + something more. So I guess in this case, putting it in a namespace would not be the best choice?</p>",
        "id": 497442992,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1738591241
    },
    {
        "content": "<p>Maybe <code>IsPseudoUniformizer.IsPerfectoid</code>?</p>",
        "id": 497575557,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1738639786
    },
    {
        "content": "<p>This is also useful:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"kn\">renaming</span><span class=\"w\"> </span><span class=\"n\">toArray</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">vtoa</span>\n</code></pre></div>",
        "id": 497583732,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1738645285
    },
    {
        "content": "<p>This doesn't help with lemmas names that should include this long name as a part</p>",
        "id": 497584905,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1738645994
    },
    {
        "content": "<p>I'm not sure I understand. This works fine:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"bp\">.</span><span class=\"n\">U2</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"bp\">.</span><span class=\"n\">U2</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"w\"> </span><span class=\"kn\">renaming</span><span class=\"w\"> </span><span class=\"n\">U2</span><span class=\"bp\">.</span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>",
        "id": 497586012,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1738646818
    },
    {
        "content": "<p>Oh! I just got it! This doesn't work without the dummy <code>U2</code> structure.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">U1</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">U2</span>\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">U2</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"bp\">.</span><span class=\"n\">U2</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"w\"> </span><span class=\"kn\">renaming</span><span class=\"w\"> </span><span class=\"n\">U2</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">uu</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">uu</span><span class=\"bp\">.</span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 497586879,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1738647474
    },
    {
        "content": "<p>It doesn't have to be a structure, anything will work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">U1</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">U2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">((),</span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">U2</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"bp\">.</span><span class=\"n\">U2</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">U1</span><span class=\"w\"> </span><span class=\"kn\">renaming</span><span class=\"w\"> </span><span class=\"n\">U2</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">uu</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">uu</span><span class=\"bp\">.</span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 497587515,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1738647934
    },
    {
        "content": "<p>So the issue is that namespaces aren't \"things\" unless there is a \"thing\" with that name. I think that could be fixed.</p>",
        "id": 497587663,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1738648060
    },
    {
        "content": "<p>The issue is that according to the naming convention, a lemma about <code>IsStrongPerfectoidPseudoUniformizer</code> should be called something like <code>isStrongPerfectoidPseudoUniformizer_iff_something_else</code>. If you use 2 or 3 notions with very long names in a single lemma, then the theorem name can exceed 100 characters.</p>",
        "id": 497588781,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1738648814
    },
    {
        "content": "<p>That's the official name. Technically it only has to be used once. That's why renaming is handy!</p>",
        "id": 497589487,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1738649191
    },
    {
        "content": "<p>Renaming doesn't effect how you name results about a definition, right?<br>\nSo it will make the statements shorter, but not the names of the statements.</p>",
        "id": 497595735,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1738652951
    },
    {
        "content": "<p>To answer question 2.: I think the right case would be all capitalized uniformly as if it was a single letter: <code>PSU</code>, <code>isPSU</code> <code>is...PSUniformizer</code>, <code>psu_eq_psuniformizer</code><br>\n(that's only about the capitalisation of abbreviations, not about what's actually the best name in this case)</p>",
        "id": 497597230,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1738653736
    },
    {
        "content": "<p>Instead of <code>IsEllipticDivisibilitySequence</code> I had <code>IsEllDivSequence</code> with docstrings explaining what they are</p>",
        "id": 497717008,
        "sender_full_name": "David Ang",
        "timestamp": 1738689176
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span> Why <code>PSU</code>, not <code>PsU</code>? <code>ps</code> comes from one word, cf <code>MvPolynomial</code>.</p>",
        "id": 497719660,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1738690006
    },
    {
        "content": "<p>Maybe Im wrong, my bad. I was thinking of</p>\n<blockquote>\n<ol start=\"6\">\n<li>Aronyms like LE are written upper-/lowercase as a group, depending on what the first character would be.</li>\n</ol>\n</blockquote>",
        "id": 497758357,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1738703917
    },
    {
        "content": "<p>Should it be <code>MVPolynomial</code>? <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span></p>",
        "id": 497758852,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1738704098
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/channel/113488-general/topic/Naming.20convention.20when.20the.20name.20is.20too.20long/near/497758357\">said</a>:</p>\n<blockquote>\n<p>Maybe Im wrong, my bad. I was thinking of</p>\n<blockquote>\n<ol start=\"6\">\n<li>Aronyms like LE are written upper-/lowercase as a group, depending on what the first character would be.<br>\n</li>\n</ol>\n</blockquote>\n</blockquote>\n<p>For me acronyms mean taking first letters of different words and putting them together to get a word. Typically I think \"LE\" stands for \"Less or Equal\". So it's not the same as \"Ps\" which is an abbreviation. Correct me if I'm wrong.</p>",
        "id": 497770413,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1738708843
    },
    {
        "content": "<p>What if you split <code>IsPerfectoidPseudoUniformizer</code> into two classes <code>IsPerfectoid</code> + <code>IsPseudoUniformizer</code>? And in the results only mentions the most important assumption?</p>",
        "id": 498022414,
        "sender_full_name": "Jz Pan",
        "timestamp": 1738809168
    }
]