[
    {
        "content": "<p>I think the following characterizing lemmas of isPrefixOf are very useful when trying to prove stuff about programs that use the function</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"bp\">.</span><span class=\"n\">isPrefixOf_toList_isPrefixOf</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BEq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">isPrefixOf</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">toList</span><span class=\"bp\">.</span><span class=\"n\">isPrefixOf</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">.</span><span class=\"n\">toList</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">subset_of_isPrefixOf</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BEq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">isPrefixOf</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 575118492,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714226
    },
    {
        "content": "<p>would it be possible to get a PR for proving these?</p>",
        "id": 575118500,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714248
    },
    {
        "content": "<p>also should this go into batteries or mathlib</p>",
        "id": 575118509,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714258
    },
    {
        "content": "<p>Are you asking someone else to prove these lemmas for you, or are you saying that you proved them?</p>",
        "id": 575118527,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1771714278
    },
    {
        "content": "<p>i haven't proved them yet</p>",
        "id": 575118530,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714289
    },
    {
        "content": "<p>and i cant find them in mathlib anywhere</p>",
        "id": 575118534,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714296
    },
    {
        "content": "<p>i think i should be able to prove both myself since it's just induction</p>",
        "id": 575118560,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714332
    },
    {
        "content": "<p>That's probably a good place to start, then</p>",
        "id": 575118586,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1771714364
    },
    {
        "content": "<p>Though loogle found <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Array.isPrefixOf_toList#doc\">docs#Array.isPrefixOf_toList</a></p>",
        "id": 575118637,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1771714428
    },
    {
        "content": "<p>any luck on the sublist?</p>",
        "id": 575118665,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714448
    },
    {
        "content": "<p>Assuming <code>LawfulBEq</code>, you get <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.isPrefixOf_iff_prefix#doc\">docs#List.isPrefixOf_iff_prefix</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.IsPrefix.subset#doc\">docs#List.IsPrefix.subset</a></p>",
        "id": 575118707,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1771714520
    },
    {
        "content": "<p>it's weird that grind doesn't always use this lemma tho: <br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Array.isPrefixOf_toList#doc\">docs#Array.isPrefixOf_toList</a></p>",
        "id": 575118904,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714748
    },
    {
        "content": "<p>nvm i accidently expanded <code>Array.isPrefixOf</code> before using the grind</p>",
        "id": 575119081,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1771714881
    }
]