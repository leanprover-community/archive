[
    {
        "content": "<p>mathlib's container setup script currently does an SSH to GitHub once to suppress the unknown key warning. Given that GitHub has an endpoint to download SSH fingerprints, shouldn't we download the actual fingerprints instead? <a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints\">https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/githubs-ssh-key-fingerprints</a></p>",
        "id": 543223958,
        "sender_full_name": "(deleted)",
        "timestamp": 1759730753
    },
    {
        "content": "<p>Are you referring to:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">ssh</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">github</span><span class=\"w\"> </span><span class=\"n\">once</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">bypass</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">fingerprint</span><span class=\"w\"> </span><span class=\"n\">warning</span>\n<span class=\"n\">RUN</span><span class=\"w\"> </span><span class=\"n\">ssh</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">StrictHostKeyChecking</span><span class=\"bp\">=</span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"bp\">||</span><span class=\"w\"> </span><span class=\"n\">true</span>\n</code></pre></div>\n<p>in the Dockerfiles?</p>\n<p>Eg,</p>\n<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/blob/master/.docker/gitpod/Dockerfile#L39\">https://github.com/leanprover-community/mathlib4/blob/master/.docker/gitpod/Dockerfile#L39</a></li>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/blob/master/.docker/lean/Dockerfile#L35\">https://github.com/leanprover-community/mathlib4/blob/master/.docker/lean/Dockerfile#L35</a> </li>\n</ul>\n<p>If so, yes -- switching over to using the metadata API would ground the trust, rather than blindly checking whatever is at the DNS entry.</p>",
        "id": 543247830,
        "sender_full_name": "Michael Gehlke",
        "timestamp": 1759739330
    },
    {
        "content": "<p>Once there's more support I plan to make a pull request</p>",
        "id": 543249031,
        "sender_full_name": "(deleted)",
        "timestamp": 1759739666
    },
    {
        "content": "<p>I'm new so I'm not sure what the development standards are, but since it's used in at least two places and has security implications -- is this somewhere we should have a script like <code>get_github_ssh_signatures.sh</code> (or <code>.py</code> or <code>.lean</code> or...) that is used by both builds?</p>",
        "id": 543251143,
        "sender_full_name": "Michael Gehlke",
        "timestamp": 1759740271
    }
]