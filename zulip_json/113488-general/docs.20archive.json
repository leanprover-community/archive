[
    {
        "content": "<p>Is the stuff under <code>archive</code> available anywhere in the docs?</p>",
        "id": 249413128,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1628888155
    },
    {
        "content": "<p>I don't think so, but it would be great if it could be made to be</p>",
        "id": 249416902,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1628890295
    },
    {
        "content": "<p>In principle it wouldn't be too hard to have it appear as a separate project in the sidebar like the docs I build for lean-ga</p>",
        "id": 249416969,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1628890324
    },
    {
        "content": "<p>All it would need is a separate leanproject.toml generated by CI, probably</p>",
        "id": 249417020,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1628890352
    },
    {
        "content": "<p>+1 for this, I just made <a href=\"https://github.com/leanprover-community/doc-gen/issues/147\">https://github.com/leanprover-community/doc-gen/issues/147</a> to track this idea, feel free to improve what I wrote there and add details</p>",
        "id": 265109884,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1639627093
    },
    {
        "content": "<p>Done, see <a href=\"https://leanprover-community.github.io/mathlib_docs_demo/imo/imo2001_q6.html\">https://leanprover-community.github.io/mathlib_docs_demo/imo/imo2001_q6.html</a> <del>(in an hours time it will be under the correct sidebar heading)</del>.</p>\n<p>PR is <a href=\"https://github.com/leanprover-community/doc-gen/pull/176\">https://github.com/leanprover-community/doc-gen/pull/176</a></p>",
        "id": 326367916,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675778181
    },
    {
        "content": "<p>This is going to pollute the search results a bit if we're not careful though</p>",
        "id": 326371588,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675779174
    },
    {
        "content": "<p>Oh, this is really nice! (after it gets its own header in the sidebar)<br>\nYeah, pollution of search results might be an issue; archive often uses short names. Maybe we can let the docs think that all declarations in the archive are actually in the <code>archive</code> namespace (i.e. it will pretend that <code>imo1959_q1</code> is <code>archive.imo1959_q1</code>). Then it will at least be easy to see that you're looking at an archive result in the search page.</p>",
        "id": 326374359,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675779932
    },
    {
        "content": "<p>Sidebar is fixed</p>",
        "id": 326377232,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675780718
    },
    {
        "content": "<p>A bigger problem is things like <a href=\"https://leanprover-community.github.io/mathlib_docs_demo/imo/imo2021_q1.html#lower_bound\"><code>lower_bound</code></a>, which really ought to be namespaced</p>",
        "id": 326377413,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675780782
    },
    {
        "content": "<p>Going through all the archive files and adding appropriate namespaces would help a lot</p>",
        "id": 326377485,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675780802
    },
    {
        "content": "<p>Such as how <a href=\"https://leanprover-community.github.io/mathlib_docs_demo/imo/imo1960_q1.html\">https://leanprover-community.github.io/mathlib_docs_demo/imo/imo1960_q1.html</a> has everything under the <code>imo1960_q1</code> namespace</p>",
        "id": 326377614,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675780826
    },
    {
        "content": "<p>How about this solution:</p>\n<p><a href=\"/user_uploads/3121/PotMHuDAHfc8RiD9QuWG30Lr/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/PotMHuDAHfc8RiD9QuWG30Lr/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/PotMHuDAHfc8RiD9QuWG30Lr/image.png\"></a></div>",
        "id": 326393415,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675784927
    },
    {
        "content": "<p>Over on the right it's not very obvious, considering where the user will be looking</p>",
        "id": 326394718,
        "sender_full_name": "Reid Barton",
        "timestamp": 1675785262
    },
    {
        "content": "<p>Maybe it can show something like <span aria-label=\"scroll\" class=\"emoji emoji-1f4dc\" role=\"img\" title=\"scroll\">:scroll:</span> <code>lower_bound</code></p>",
        "id": 326394858,
        "sender_full_name": "Reid Barton",
        "timestamp": 1675785298
    },
    {
        "content": "<p>Note that this also displays <code>core</code> or <code>mathlib-counterexamples</code>  or <code>lean-ga</code> (if run in downstream projects)</p>",
        "id": 326395024,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675785335
    },
    {
        "content": "<p>Another reasonable option would be to group the results by project</p>",
        "id": 326395183,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675785366
    },
    {
        "content": "<p>Another version:</p>\n<p><a href=\"/user_uploads/3121/oW1T4pTGq65kIXPXNBZPWF8S/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/oW1T4pTGq65kIXPXNBZPWF8S/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/oW1T4pTGq65kIXPXNBZPWF8S/image.png\"></a></div>",
        "id": 326395874,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675785521
    },
    {
        "content": "<p>And another:</p>\n<p><a href=\"/user_uploads/3121/UT4b5PQEyZ3OQ6TQdNdlq3AN/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/UT4b5PQEyZ3OQ6TQdNdlq3AN/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/UT4b5PQEyZ3OQ6TQdNdlq3AN/image.png\"></a></div>",
        "id": 326396702,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675785709
    },
    {
        "content": "<p>It would be nice if something like this is also shown on find 404 pages like <a href=\"https://leanprover-community.github.io/mathlib_docs/find/lowerbound\">docs#lowerbound</a> (which is the search I use most commonly).</p>",
        "id": 326406567,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675788240
    },
    {
        "content": "<p>But these look really good. I like the second option.</p>",
        "id": 326406690,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675788268
    },
    {
        "content": "<p>I'm out of time for a few days anyway; maybe I'll wait for people to <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> / <span aria-label=\"-1\" class=\"emoji emoji-1f44e\" role=\"img\" title=\"-1\">:-1:</span> the messages / images above</p>",
        "id": 326424577,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675793076
    },
    {
        "content": "<p>Majority vote seems to be for the first option with the project names on the right</p>",
        "id": 327133461,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676058436
    },
    {
        "content": "<p>I added the project names on the find page too, <a href=\"https://leanprover-community.github.io/mathlib_docs_demo/find/lowerbound\">https://leanprover-community.github.io/mathlib_docs_demo/find/lowerbound</a></p>",
        "id": 327149616,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676064490
    },
    {
        "content": "<p><span aria-label=\"ping pong\" class=\"emoji emoji-1f3d3\" role=\"img\" title=\"ping pong\">:ping_pong:</span> on <a href=\"https://github.com/leanprover-community/doc-gen/pull/176\">doc-gen#176</a></p>",
        "id": 328356499,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676590184
    },
    {
        "content": "<p><span aria-label=\"ping pong\" class=\"emoji emoji-1f3d3\" role=\"img\" title=\"ping pong\">:ping_pong:</span></p>",
        "id": 338697437,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677620504
    },
    {
        "content": "<p>An unexpected side-effect: because <a href=\"https://leanprover-community.github.io/mathlib_docs/find/e\">docs#e</a> exists, lots of code snippets of the form <code>0 &lt; e</code> now randomly link to it</p>",
        "id": 338724105,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677632735
    },
    {
        "content": "<p>Also docs#ε, and <a href=\"https://leanprover-community.github.io/mathlib_docs/find/f\">docs#f</a>, and <a href=\"https://leanprover-community.github.io/mathlib_docs/find/g\">docs#g</a>. <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span></p>",
        "id": 338726295,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1677633912
    },
    {
        "content": "<p>Presumably, in the long term the fix is to cleanup the archive to put things in namespaces? Or is that not a desirable place to end up either?</p>",
        "id": 338727032,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677634400
    },
    {
        "content": "<p>I think that makes sense</p>",
        "id": 338743073,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1677647100
    },
    {
        "content": "<p>Yes, in this new context everything in that file should be in a namespace.</p>",
        "id": 338772123,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1677660216
    },
    {
        "content": "<p>Are things bad enough that we need to restrict the linkifier to ignore archive/counterexamples (or more extremely, revert the change) in the meantime?</p>",
        "id": 338785524,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677663874
    }
]