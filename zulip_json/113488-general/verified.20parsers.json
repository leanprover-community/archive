[
    {
        "content": "<p>I saw there was a library for writing parser combinators in lean <a href=\"https://github.com/fgdorais/lean4-parser/tree/main\">https://github.com/fgdorais/lean4-parser/tree/main</a>.<br>\nI was wondering if there is a library or an effort to create an api for writing verified parsers. That is a given a grammar denoted by a type <code>T</code> along with a map <code>interp : T \\r String</code>,    parse (s : String) returns a non none value iff there is a (t : T) such that interp t = s and forall (t : T), <code>parse (interp t) = some t</code></p>",
        "id": 489339146,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1734381968
    },
    {
        "content": "<p>maybe a similar approach to the SizeOf instance could be used to assure that parsers compose nicely</p>",
        "id": 489339269,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1734382014
    },
    {
        "content": "<p>Feel free to look at <a href=\"https://leanprover-community.github.io/mathlib_docs/data/buffer/parser/basic.html#parser.nat_eq_done\">https://leanprover-community.github.io/mathlib_docs/data/buffer/parser/basic.html#parser.nat_eq_done</a> which proved that the mathlib3 parser of <code>nat</code> gave the expected number.</p>",
        "id": 489340071,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1734382259
    },
    {
        "content": "<p>There is a lot of general proof API for any parser, that was built up to prove this specific result.</p>",
        "id": 489340203,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1734382299
    },
    {
        "content": "<p>The <code>nat</code> related proofs are highly commented</p>",
        "id": 489340340,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1734382337
    },
    {
        "content": "<p>is there a corresponding mathlib4 version of that file?</p>",
        "id": 489346410,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1734384388
    },
    {
        "content": "<p>also where can i find the more general proof api about parsers</p>",
        "id": 489346465,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1734384407
    },
    {
        "content": "<p>That file wasn't ported because the whole parser framework used in lean4 is different.</p>",
        "id": 489360591,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1734389174
    },
    {
        "content": "<p>I claim that qualities about baseline parsers like bounded, step, prog will be applicable in any monadic parser library, and how those propagate into the parser combinators.</p>",
        "id": 489360779,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1734389255
    }
]