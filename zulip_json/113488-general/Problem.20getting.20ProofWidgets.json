[
    {
        "content": "<p>I'm trying to get set up to develop mathlib on a new machine and I'm having problems with lake (invoked through VS code) when it tries to download artifacts for proofWidgets</p>\n<p>It looks like it's trying to get <br>\n<a href=\"https://github.com/leanprover-community/ProofWidgets4/releases/download/0.0.75-pre/ProofWidgets4.tar.gz\">https://github.com/leanprover-community/ProofWidgets4/releases/download/0.0.75-pre/ProofWidgets4.tar.gz</a><br>\nbut it should instead be downloading<br>\n<a href=\"https://github.com/leanprover-community/ProofWidgets4/releases/download/v0.0.75-pre/ProofWidgets4.tar.gz\">https://github.com/leanprover-community/ProofWidgets4/releases/download/v0.0.75-pre/ProofWidgets4.tar.gz</a><br>\nNotice the extra \"v\"</p>\n<p>The output:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">824</span><span class=\"bp\">/</span><span class=\"mi\">1474</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Optional</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Fetching</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">optRelease</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">159</span><span class=\"n\">ms</span><span class=\"o\">)</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">.&gt;</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">jparker002</span><span class=\"bp\">\\</span><span class=\"n\">mathlib4</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">.</span><span class=\"n\">tar</span><span class=\"bp\">.</span><span class=\"n\">gz</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"mf\">0.0</span><span class=\"bp\">.</span><span class=\"m\">75</span><span class=\"bp\">-</span><span class=\"n\">pre</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">.</span><span class=\"n\">tar</span><span class=\"bp\">.</span><span class=\"n\">gz</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">curl</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">22</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">requested</span><span class=\"w\"> </span><span class=\"n\">URL</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">404</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">external</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">curl'</span><span class=\"w\"> </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mi\">22</span>\n<span class=\"bp\">⚠</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">825</span><span class=\"bp\">/</span><span class=\"mi\">1474</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Ran</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">extraDep</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">building</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">source</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">fetch</span><span class=\"w\"> </span><span class=\"n\">GitHub</span><span class=\"w\"> </span><span class=\"n\">release</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">optRelease'</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">details</span><span class=\"o\">)</span>\n<span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">826</span><span class=\"bp\">/</span><span class=\"mi\">1474</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"bp\">/</span><span class=\"n\">widgetJsAll</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ProofWidgets</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"bp\">-</span><span class=\"n\">to</span><span class=\"bp\">-</span><span class=\"n\">date</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Please</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"ss\">`lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">fetch</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">latest</span><span class=\"w\"> </span><span class=\"n\">ProofWidgets</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">If</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">does</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">work</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">report</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">issue</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Zulip</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 540756883,
        "sender_full_name": "Jeremy Parker",
        "timestamp": 1758534999
    },
    {
        "content": "<p>related to <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/CI.20failure/with/540748671\">#mathlib4 &gt; CI failure</a> ?</p>",
        "id": 540757100,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758535061
    },
    {
        "content": "<p>This issue has now been resolved. Users with checkouts that have already run into this issue will need to delete their <code>.lake</code> folder first (<code>lake clean</code> does not suffice in this case).</p>",
        "id": 540762836,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1758536792
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/channel/113488-general/topic/Problem.20getting.20ProofWidgets/near/540762836\">said</a>:</p>\n<blockquote>\n<p>This issue has now been resolved. Users with checkouts that have already run into this issue will need to delete their <code>.lake</code> folder first (<code>lake clean</code> does not suffice in this case).</p>\n</blockquote>\n<p>I just tried it, and it seems there's still an issue. <span aria-label=\"sob\" class=\"emoji emoji-1f62d\" role=\"img\" title=\"sob\">:sob:</span> I've tried <code>rm -rf .lake &amp;&amp; lake exe cache get</code></p>",
        "id": 540783885,
        "sender_full_name": "tsuki（Hao Shen)",
        "timestamp": 1758542910
    },
    {
        "content": "<p>Does it work?</p>",
        "id": 540794459,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1758545438
    },
    {
        "content": "<p>Works for me</p>",
        "id": 540794769,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1758545504
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"708662\">@tsuki（Hao Shen)</span> Could you try running <code>lake build -v</code> and posting the error message of (likely) <code>proofwidgets:optRelease</code> as in the first post of this thread?</p>",
        "id": 540795574,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1758545675
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/3ArKvM0eHad2obZNKhGkwF3c/2025-09-22-21.43.14.png\">截屏2025-09-22 21.43.14.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/3ArKvM0eHad2obZNKhGkwF3c/2025-09-22-21.43.14.png\" title=\"截屏2025-09-22 21.43.14.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"3156x414\" src=\"/user_uploads/thumbnail/3121/3ArKvM0eHad2obZNKhGkwF3c/2025-09-22-21.43.14.png/840x560.webp\"></a></div>",
        "id": 540808002,
        "sender_full_name": "tsuki（Hao Shen)",
        "timestamp": 1758548621
    },
    {
        "content": "<p>The error message is </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1258</span><span class=\"bp\">/</span><span class=\"mi\">7253</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Optional</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Fetching</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">optRelease</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">4.7</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">.&gt;</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">tsuki</span><span class=\"bp\">/</span><span class=\"n\">groebner_proj</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">proofwidgets</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">.</span><span class=\"n\">tar</span><span class=\"bp\">.</span><span class=\"n\">gz</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"mf\">0.0</span><span class=\"bp\">.</span><span class=\"m\">75</span><span class=\"bp\">-</span><span class=\"n\">pre</span><span class=\"bp\">/</span><span class=\"n\">ProofWidgets4</span><span class=\"bp\">.</span><span class=\"n\">tar</span><span class=\"bp\">.</span><span class=\"n\">gz</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">curl</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">22</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">requested</span><span class=\"w\"> </span><span class=\"n\">URL</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">404</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">external</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">curl'</span><span class=\"w\"> </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mi\">22</span>\n<span class=\"bp\">⚠</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1259</span><span class=\"bp\">/</span><span class=\"mi\">7253</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Ran</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">extraDep</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">building</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">source</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">fetch</span><span class=\"w\"> </span><span class=\"n\">GitHub</span><span class=\"w\"> </span><span class=\"n\">release</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">optRelease'</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">details</span><span class=\"o\">)</span>\n<span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1260</span><span class=\"bp\">/</span><span class=\"mi\">7253</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"bp\">/</span><span class=\"n\">widgetJsAll</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ProofWidgets</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"bp\">-</span><span class=\"n\">to</span><span class=\"bp\">-</span><span class=\"n\">date</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Please</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"ss\">`lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">fetch</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">latest</span><span class=\"w\"> </span><span class=\"n\">ProofWidgets</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">If</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">does</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">work</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">report</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">issue</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Zulip</span><span class=\"bp\">.</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">targets</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"bp\">/</span><span class=\"n\">widgetJsAll</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n</code></pre></div>",
        "id": 540808249,
        "sender_full_name": "tsuki（Hao Shen)",
        "timestamp": 1758548691
    },
    {
        "content": "<p>Mmh, could you try running</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git<span class=\"w\"> </span>-C<span class=\"w\"> </span>.lake/packages/proofwidgets/<span class=\"w\"> </span>tag<span class=\"w\"> </span>--delete<span class=\"w\"> </span><span class=\"m\">0</span>.0.75-pre\n</code></pre></div>\n<p>?</p>",
        "id": 540810806,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1758549304
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/channel/113488-general/topic/Problem.20getting.20ProofWidgets/near/540810806\">said</a>:</p>\n<blockquote>\n<p>Mmh, could you try running</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git<span class=\"w\"> </span>-C<span class=\"w\"> </span>.lake/packages/proofwidgets/<span class=\"w\"> </span>tag<span class=\"w\"> </span>--delete<span class=\"w\"> </span><span class=\"m\">0</span>.0.75-pre\n</code></pre></div>\n<p>?</p>\n</blockquote>\n<p>It works for me!</p>",
        "id": 540815739,
        "sender_full_name": "tsuki（Hao Shen)",
        "timestamp": 1758550394
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/channel/113488-general/topic/Problem.20getting.20ProofWidgets/near/540810806\">said</a>:</p>\n<blockquote>\n<p>Mmh, could you try running</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git<span class=\"w\"> </span>-C<span class=\"w\"> </span>.lake/packages/proofwidgets/<span class=\"w\"> </span>tag<span class=\"w\"> </span>--delete<span class=\"w\"> </span><span class=\"m\">0</span>.0.75-pre\n</code></pre></div>\n<p>?</p>\n</blockquote>\n<p>thanks, this was really helpful!</p>",
        "id": 540848661,
        "sender_full_name": "Mattias Ehatamm",
        "timestamp": 1758557848
    }
]