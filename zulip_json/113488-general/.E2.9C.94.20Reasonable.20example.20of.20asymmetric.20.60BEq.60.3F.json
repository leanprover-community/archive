[
    {
        "content": "<p>In the <a href=\"https://lean-lang.org/blog/2024-8-1-lean-4100/\">4.10.0</a> blog post, David points out this fact about <code>BEq</code>:</p>\n<blockquote>\n<p>In particular, <code>==</code> is not necessarily symmetric, so <code>a == b</code> may not imply <code>b == a</code>.</p>\n</blockquote>\n<p>I understand this is possible with an example like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">inductive</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"kd\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BEq</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">beq</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric.a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric.b</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">false</span>\n\n<span class=\"k\">#eval</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric.b</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric.a</span><span class=\"w\"> </span><span class=\"c1\">-- false</span>\n<span class=\"k\">#eval</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric.a</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"n\">BEqAsymmetric.b</span><span class=\"w\"> </span><span class=\"c1\">-- true</span>\n</code></pre></div>\n<p>However, is there a practical example where you would actually do something like this?</p>",
        "id": 455915418,
        "sender_full_name": "Austin Letson",
        "timestamp": 1722599301
    },
    {
        "content": "<p>I think the most relevant case is the one where <code>==</code> is symmetric but you haven't bothered to prove it yet. For example, there is no <code>deriving PartialEquivBEq</code> or <code>deriving LawfulBEq</code> yet, so if you use <code>deriving BEq</code>, then proving symmetry is a slightly annoying manual task. With the policy described in the post, for simple proofs you might get lucky and not need to think about how to prove that your <code>BEq</code> instance is symmetric.</p>",
        "id": 455921724,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1722601767
    },
    {
        "content": "<p>Ah, okay. Thanks for the explanation!</p>",
        "id": 455932532,
        "sender_full_name": "Austin Letson",
        "timestamp": 1722605172
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699684\">Austin Letson</span> has marked this topic as resolved.</p>",
        "id": 456060523,
        "sender_full_name": "Notification Bot",
        "timestamp": 1722642584
    }
]