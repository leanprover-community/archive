[
    {
        "content": "<p>I expect the <code>Array.pop</code> function to run in constant time, but since the documentation comment does not mention its execution time, I'm not sure. Does <code>Array.pop</code> actually run in constant time?</p>",
        "id": 531735775,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1753844111
    },
    {
        "content": "<p>In general, I believe it's a good habit to include the execution time in the documentation comment for functions marked with the <code>@[extern]</code> attribute.</p>",
        "id": 531735921,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1753844220
    },
    {
        "content": "<p>Implementation is <a href=\"https://github.com/leanprover/lean4/blob/7931e19572482f8a43ed11573d5c7e712ec9ddab/src/include/lean/lean.h#L872-L882\">https://github.com/leanprover/lean4/blob/7931e19572482f8a43ed11573d5c7e712ec9ddab/src/include/lean/lean.h#L872-L882</a> ; looks like if the array is used linearly then indeed it is constant time, while if it's non-exclusive then an array copy is incurred</p>",
        "id": 531765026,
        "sender_full_name": "Patrick Stevens",
        "timestamp": 1753859320
    },
    {
        "content": "<p>Are there any ways to enforce its use linearly?</p>",
        "id": 531795412,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1753868266
    },
    {
        "content": "<p>I think so.” linear use linter” wanted.</p>",
        "id": 531796102,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1753868427
    },
    {
        "content": "<p>This is a very difficult problem to solve in general, both at compile and even at run time for various reasons. There is much more than just a linter needed to solve this type of stuff.</p>",
        "id": 531803456,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1753870530
    },
    {
        "content": "<p>partial linter would be also useful… which warns for clearly non-linear use</p>",
        "id": 531806765,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1753871661
    }
]