[
    {
        "content": "<p>Hello Lean Community,</p>\n<p>unfortunately, I'm still stuck on this problem. At this point, I think this might just be impossible (at least the way I'm trying to do it).</p>",
        "id": 517534832,
        "sender_full_name": "Codegoblin",
        "timestamp": 1747054416
    },
    {
        "content": "<p>This is not possible. The syntax-match syntax requires that you use specifically a quotation at the head, you can't define a macro that unfolds to a quotation and get to trigger. Here's a basic example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">macro</span><span class=\"w\"> </span><span class=\"s2\">\"foo \"</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"n\">t</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">canMatch</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Syntax</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Bool</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"c1\">-- match (syntax) : unexpected pattern kind foo `(2)</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">false</span>\n</code></pre></div>",
        "id": 517557326,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747058505
    },
    {
        "content": "<p>Hello <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> ,</p>\n<p>thank you for your answer and confirming my suspicion.</p>",
        "id": 517617613,
        "sender_full_name": "Codegoblin",
        "timestamp": 1747071466
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"710184\">Codegoblin</span> has marked this topic as resolved.</p>",
        "id": 517617633,
        "sender_full_name": "Notification Bot",
        "timestamp": 1747071472
    }
]