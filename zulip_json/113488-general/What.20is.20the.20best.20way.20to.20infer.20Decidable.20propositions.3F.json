[
    {
        "content": "<p>I have defined <code>iN.poisonPreconditions</code> taking in a function <code>isPoison</code> that returns a decidable proposition. Is there a way to make working with <code>iN.poisonPreconditions</code> nicer, instead of having to write out an instance declaration every time?</p>\n<p><a href=\"/user_uploads/3121/w56P6vhKuhA0plmH-BUabYzx/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/w56P6vhKuhA0plmH-BUabYzx/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1207x531\" src=\"/user_uploads/thumbnail/3121/w56P6vhKuhA0plmH-BUabYzx/image.png/840x560.webp\"></a></div><p>A solution to this would be to accept a function that returns a boolean, but I believe this wouldn't actually show that the <code>isPoison</code> function is decidable at all. Since I control all the code for these functions, every possible <code>isPoison</code> function I write will be decidable.</p>\n<p>Is there a common pattern for writing functions that return a bool/decidable proposition?</p>",
        "id": 538948210,
        "sender_full_name": "l1mey",
        "timestamp": 1757627725
    },
    {
        "content": "<p>just take a function returning a boolean</p>",
        "id": 538948821,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757628087
    },
    {
        "content": "<blockquote>\n<p>I believe this wouldn't actually show that the <code>isPoison</code> function is decidable</p>\n</blockquote>\n<p>why is this a problem, though? you don't need decidability if you're working with a boolean function</p>",
        "id": 538948830,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1757628094
    },
    {
        "content": "<p>btw, you can do <code>bif ... then ... else</code> and it's optimized for booleans (see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=cond#doc\">docs#cond</a>)</p>",
        "id": 538949004,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1757628216
    },
    {
        "content": "<p>to expand on this a little more: if you were to use a boolean value <code>x</code> in an <code>if ... then ... else</code> statement, Lean would just convert the condition to <code>x = true</code> (since <code>if</code> works with propositions, not booleans), and this would already be decidable because boolean equality is decidable in Lean (via <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Bool.decEq#doc\">docs#Bool.decEq</a>)</p>\n<p>however, as I said, you might as well just use <code>bif ... then ... else</code> / <code>cond</code> if you're using a boolean condition</p>",
        "id": 538952899,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1757630895
    }
]