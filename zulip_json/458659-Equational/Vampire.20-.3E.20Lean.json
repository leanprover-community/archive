[
    {
        "content": "<p>Since Vampire proof generation is going so well, I learnt a bit how we are converting those proofs (I guess similar learnings would apply to a next-generation Vampire, or a next-generation Lean). </p>\n<p>Here's the pdf (might be incorrect - I used O1 to generate it). Still, it helped me understand the basics.</p>\n<p><a href=\"/user_uploads/3121/AjgeguONjZn8n1We5mRQVmOQ/Vampire-Lean.pdf\">Vampire - Lean.pdf</a></p>",
        "id": 478147138,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1729543722
    },
    {
        "content": "<p>Nice! Some comments:</p>\n<ul>\n<li>In <code>doSubsumptionSingle</code>, <code>t1</code> is a single literal, and <code>t2</code> is a clause.</li>\n<li>In <code>doSubsumptionWith</code> both <code>t1</code> and <code>t2</code> are clauses, and it cases on <code>t1</code> and applies <code>doSubsumptionSingle</code> to every literal with <code>t2</code>.</li>\n<li><code>doResolutionSingle</code> and <code>doResolution</code> actually do subsumption resolution, not just resolution, as does the <code>resolve</code> term elaborator.</li>\n<li>Most of the code has backtracking, as metavariables can be assigned in multiple ways.</li>\n<li>The <code>subsumption</code> tactic is misleadingly named, it just tries to show the goal by applying <code>arg1 _ (..) _ (arg2 ..)</code> (and closing leftover metavariables by <code>assumption</code>)</li>\n</ul>\n<p>You might also want to take a look at <a href=\"https://github.com/teorth/equational_theories/blob/main/equational_theories/Generated/Greedy/OrLemmas.lean\">https://github.com/teorth/equational_theories/blob/main/equational_theories/Generated/Greedy/OrLemmas.lean</a>, which contains <code>Or.assocn</code> lemmas which are used to apply superposition where the equation is a clause. For example, given <code>eq213 : c = sk2 ∨ c = sk1 ∨ b = sk1, eq116 : (old a sk1 sk2) ∨ c = sk1 ∨ b = sk1</code>, we use <code>Or.assoc3 (eq213.imp_left (fun h : c = sk2 ↦ superpose h eq116)) : (old a sk1 c) ∨ c = sk1 ∨ b = sk1 ∨ c = sk1 ∨ b = sk1</code>.</p>\n<p>It also has <code>trans_resol : a ≠ b ∨ b ≠ c ∨ a = c</code>, which using resolution gives equality factoring.</p>\n<p>Another kind of logical step Vampire takes is demodulation, which is converted to Lean as <code>Eq.mp (by simp only [eq1, or_comm, or_left_comm, or_assoc, eq_comm, ne_comm]) eq2</code></p>",
        "id": 478195606,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729566710
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 478195686,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729566743
    },
    {
        "content": "<p>Wow, that's very insightful. Thank you!</p>",
        "id": 478211050,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1729577472
    },
    {
        "content": "<p>Btw, is there a plan to spin off the ATP tactics into a separate lean package?</p>",
        "id": 478238966,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729588155
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/Vampire.20-.3E.20Lean/near/478238966\">schrieb</a>:</p>\n<blockquote>\n<p>Btw, is there a plan to spin off the ATP tactics into a separate lean package?</p>\n</blockquote>\n<p>I don't know about Lean's strategy when it comes to this (others can answer this better than me) -- from my perspective, it'd make a lot of sense.</p>\n<p>My approach to this: let's build an agent with tools, incl. diffusion stuff that could come up with new tactics. And then make it open source. </p>\n<p>The easiness of use, its flexibility and the variety of tools would turn that agent into a helpful assistant (and eventually a tool that creates new math on its own).</p>\n<p>Check this out: <a href=\"https://buildermath.substack.com/p/on-implication-flow\">https://buildermath.substack.com/p/on-implication-flow</a></p>",
        "id": 478245303,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1729590242
    },
    {
        "content": "<p>I don't fully understand this agent thing. What I mean is can we create a GitHub repository which consists of ATP specific directories that contain tactics to use them, along with scripts to install whichever ATP gets used.</p>",
        "id": 478252447,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729592776
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/Vampire.20-.3E.20Lean/near/478252447\">schrieb</a>:</p>\n<blockquote>\n<p>I don't fully understand this agent thing. What I mean is can we create a GitHub repository which consists of ATP specific directories that contain tactics to use them, along with scripts to install whichever ATP gets used.</p>\n</blockquote>\n<p>Sure, I understand. I think this would make sense for Lean, but others  can answer this better than me.</p>\n<p>As for the agentic approach, maybe I'll just build something small and share here. An agent would be this kind of  autonomous system that leverages deep learning architectures / LLMs to understand, reason, and generate human-like responses or actions based on input data. It'd use tools like Vampire and so on.</p>\n<p>Started building something here back in the day: <a href=\"https://github.com/riccitensor/mathplatform\">https://github.com/riccitensor/mathplatform</a> I think I could make it work in a couple of hours / days. That's also why I was looking into Vampire -&gt; Lean and Lean -&gt; Vampire, as well as minizinc.</p>",
        "id": 478258365,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1729595083
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/458659-Equational/topic/Vampire.20-.3E.20Lean/near/478238966\">said</a>:</p>\n<blockquote>\n<p>Btw, is there a plan to spin off the ATP tactics into a separate lean package?</p>\n</blockquote>\n<p>I think the clausificatuon should be a lot more robust before this can be done, I had to do really specific stuff for this project</p>",
        "id": 478262281,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729596447
    },
    {
        "content": "<p>One question, I see a lot of subproblems in this report that are already solved by lean tactics in Mathlib. Have you chosen to avoid these for specific reasons?</p>",
        "id": 478264943,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729597454
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 478265005,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729597476
    },
    {
        "content": "<p>I don't understand what you mean, could you give an example?</p>",
        "id": 478266203,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729597884
    },
    {
        "content": "<p>For example, lean provides a <code>congr</code> tactic</p>",
        "id": 478276547,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729601287
    },
    {
        "content": "<p><code>Eq.symm</code> already exists in lean and is also provided with the <code>symm</code> tactic</p>",
        "id": 478276655,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729601320
    },
    {
        "content": "<p>Is <code>superpose</code> not a repeated application of the <code>trans</code> followed by closing all goals with<code>assumption</code> or <code>exact?</code>?</p>",
        "id": 478277278,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729601499
    },
    {
        "content": "<p>I didn't know the <code>symm</code> tactic, I guess it can be used in place of <code>mod_symm</code>. <code>congrWith</code> is mostly copied from Lean's <code>congr</code>, but it needs to be able to use the given equality with backtracking</p>",
        "id": 478277468,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729601548
    },
    {
        "content": "<p>Btw, is there a link to the source code?</p>",
        "id": 478278273,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729601789
    },
    {
        "content": "<p>I am currently relying on the doc posted above</p>",
        "id": 478278343,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1729601812
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/458659-Equational/topic/Vampire.20-.3E.20Lean/near/478277278\">said</a>:</p>\n<blockquote>\n<p>Is <code>superpose</code> not a repeated application of the <code>trans</code>?</p>\n</blockquote>\n<p>I don't think so. It's approximately <code>(congrArg motive (eq1 arg11 arg12 ..)).mpr (eq2 arg21 arg22 ..)</code>, with correctly chosen <code>motive</code>, <code>arg</code>s, and sometimes applying <code>symm</code> to <code>eq1, eq2</code></p>",
        "id": 478278458,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729601843
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/458659-Equational/topic/Vampire.20-.3E.20Lean/near/478278273\">said</a>:</p>\n<blockquote>\n<p>Btw, is there a link to the source code?</p>\n</blockquote>\n<p><a href=\"https://github.com/teorth/equational_theories/blob/main/equational_theories/Superposition.lean\">https://github.com/teorth/equational_theories/blob/main/equational_theories/Superposition.lean</a></p>",
        "id": 478279045,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729601994
    },
    {
        "content": "<p>Could you give some explanation as to why it's called \"superpose\"? Is that a term used elsewhere in literature, or in some of the paper?</p>",
        "id": 478332412,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1729617308
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/458659-Equational/topic/Vampire.20-.3E.20Lean/near/478332412\">schrieb</a>:</p>\n<blockquote>\n<p>Could you give some explanation as to why it's called \"superpose\"? Is that a term used elsewhere in literature, or in some of the paper?</p>\n</blockquote>\n<p>Isn't that a superposition of two equations?</p>",
        "id": 478332659,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1729617398
    },
    {
        "content": "<p><a href=\"https://en.wikipedia.org/wiki/Superposition_calculus\">https://en.wikipedia.org/wiki/Superposition_calculus</a></p>",
        "id": 478339431,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729619956
    },
    {
        "content": "<p>Thanks! I was thinking of a different use in math, <a href=\"https://en.wikipedia.org/wiki/Clone_(algebra)\">https://en.wikipedia.org/wiki/Clone_(algebra)</a> , wondering if it was somehow related</p>",
        "id": 478405828,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1729654967
    }
]