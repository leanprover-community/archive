[
    {
        "content": "<p><code>python3 magmas.py operation.txt equation_list.txt &gt; solution.txt</code><br>\n<a href=\"https://github.com/teorth/equational_theories/pull/764\">https://github.com/teorth/equational_theories/pull/764</a></p>",
        "id": 479819524,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730360324
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"672170\">@Michael Bucko</span>. Could you please follow the workflow so that reviewers / maintainers know the full context ?</p>",
        "id": 479820315,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1730360718
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span> Could you please link the workflow ticket? Gonna check it out.</p>",
        "id": 479820797,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730360924
    },
    {
        "content": "<p>Ah, thank you.  I see your comment.</p>",
        "id": 479821075,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730361069
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span> Here's the related GitHub issue:<br>\n<a href=\"https://github.com/teorth/equational_theories/issues/802\">https://github.com/teorth/equational_theories/issues/802</a></p>",
        "id": 481134397,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730990177
    },
    {
        "content": "<p>Ah so this was already discussed</p>",
        "id": 481134501,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730990215
    },
    {
        "content": "<p>Let's see what others have to say</p>",
        "id": 481134561,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730990233
    },
    {
        "content": "<p>Yeah, it's a small CLI tool for people who use Python to build apps around operation tables. I've been using the FMT a lot, and needed this. So I thought I'll share it with others.</p>",
        "id": 481134809,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730990293
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span> I'd appreciate your feedback here too <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span></p>",
        "id": 481291985,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731064197
    },
    {
        "content": "<p>I have two questions:</p>\n<ol>\n<li>Why do you want the following: \"A Python function + CLI that takes the equation list as input, an operation table as an argument, and returns JSON with 1/0 for each equation.\"</li>\n<li>Why can't it be generated from the info provided by <code>lake exe extract_implications</code> and the API that the equation_explorer uses?</li>\n</ol>",
        "id": 481292470,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064374
    },
    {
        "content": "<p>for 1: what does 1 or 0 mean?</p>",
        "id": 481292520,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064393
    },
    {
        "content": "<p>Reading the PR: you want to create an opt-able set but this is trivial to extract from the generator script for equations isn't it?</p>",
        "id": 481292791,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064487
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/New.20tool.3A.20Magmas.20CLI/near/481292520\">schrieb</a>:</p>\n<blockquote>\n<p>for 1: what does 1 or 0 mean?</p>\n</blockquote>\n<p>1 - means satisfies, 0 - refutes. It's basically like the FMT but for Python developers, and CLI. (My use case: I wanted to use the function in an RL agent)</p>",
        "id": 481293181,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731064620
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/New.20tool.3A.20Magmas.20CLI/near/481292791\">schrieb</a>:</p>\n<blockquote>\n<p>Reading the PR: you want to create an opt-able set but this is trivial to extract from the generator script for equations isn't it?</p>\n</blockquote>\n<p>I basically needed a Python script for the RL work. My alternative was the FMT tool.</p>",
        "id": 481293340,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731064680
    },
    {
        "content": "<p>But equations are not in and of themselves satisfied or refuted?</p>",
        "id": 481293365,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064683
    },
    {
        "content": "<p>I assume there is more context here</p>",
        "id": 481293412,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064696
    },
    {
        "content": "<p>I think building off the FMT tool is a good idea</p>",
        "id": 481293450,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064712
    },
    {
        "content": "<p>In that, you can simply run and output the implication list, process it, and see what RL yields</p>",
        "id": 481293494,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064737
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/New.20tool.3A.20Magmas.20CLI/near/481292470\">schrieb</a>:</p>\n<blockquote>\n<p>I have two questions:</p>\n<ol>\n<li>Why do you want the following: \"A Python function + CLI that takes the equation list as input, an operation table as an argument, and returns JSON with 1/0 for each equation.\"</li>\n<li>Why can't it be generated from the info provided by <code>lake exe extract_implications</code> and the API that the equation_explorer uses?</li>\n</ol>\n</blockquote>\n<ol>\n<li>I need something like the FMT for Python developers.</li>\n<li>I use extract_implications too, but that takes a bit. The use case is closer to the FMT tool.</li>\n</ol>",
        "id": 481293579,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731064776
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/New.20tool.3A.20Magmas.20CLI/near/481293450\">schrieb</a>:</p>\n<blockquote>\n<p>I think building off the FMT tool is a good idea</p>\n</blockquote>\n<p>Yes, it's like FMT for Python developers who want to write scripts around optables  and perhaps RL (I wrote a simple RL agent as part of my experiments).</p>",
        "id": 481293792,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731064830
    },
    {
        "content": "<p>but surely python can read the output format of the FMT tool and process it as a dictionary</p>",
        "id": 481293793,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064830
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/New.20tool.3A.20Magmas.20CLI/near/481293793\">schrieb</a>:</p>\n<blockquote>\n<p>but surely python can read the output format of the FMT tool and process it as a dictionary</p>\n</blockquote>\n<p>Yes, it could (assuming that the FMT has an API; I don't know about it). But SW-wise, it's not a bad idea to have a Python version.</p>",
        "id": 481293860,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731064858
    },
    {
        "content": "<p>okay, so how would this work?</p>",
        "id": 481293925,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064883
    },
    {
        "content": "<p>In your PR I see another copy of the equation list</p>",
        "id": 481294110,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064954
    },
    {
        "content": "<p>And the text data included</p>",
        "id": 481294133,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731064963
    },
    {
        "content": "<p>You run it like this </p>\n<p><code>python3 magmas.py operation.txt equation_list.txt &gt; solution.txt</code></p>\n<p>You can use the function from the code in Python based RL research.</p>",
        "id": 481294445,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731065077
    },
    {
        "content": "<p>I mean they should be gitignored</p>",
        "id": 481294488,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065095
    },
    {
        "content": "<p>Secondly I see you are generating the equation_list. I would prefer to see the existing equation generation scripts to be used</p>",
        "id": 481294584,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065141
    },
    {
        "content": "<p>In fact it's better if your initial data structure comes from the FME tool. Although I am still not sure how much of a difference the script in and of itself makes</p>",
        "id": 481294813,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065200
    },
    {
        "content": "<p>Can you combine it with the PR where you are using its output to do something like using RL for counterexamples?</p>",
        "id": 481294847,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065213
    },
    {
        "content": "<p>Maybe the developer of the FME tool can pitch in</p>",
        "id": 481295496,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065473
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 481296035,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065710
    },
    {
        "content": "<p>Tbh I have certain time constraints atm (kids <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span> ), so please just decide whether you'd need the Python version. </p>\n<p>(Yes, the equations file, as you mentioned, is not in .gitignore, because it's slightly different, i.e. it helps me to see the equation numbers in front of the equations).</p>\n<p>When it comes to the RL experiments, I'll probably first make a separate post.</p>",
        "id": 481296224,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731065793
    },
    {
        "content": "<p>My take is, it would make sense to combine this PR with the results of the RL experiments formalised. Then we'd have something concrete to go on.</p>",
        "id": 481296298,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731065829
    },
    {
        "content": "<p>The rl agent is still being an ongoing thing. It works (it's still not fully done, more like 90% done, look at episode number, the reward setup, and the 854n1055) like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">menv</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">riccitensor</span><span class=\"bp\">@</span><span class=\"n\">perelman</span><span class=\"w\"> </span><span class=\"n\">equational_theories</span><span class=\"w\"> </span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">python3</span><span class=\"w\"> </span><span class=\"n\">rlmagma</span><span class=\"bp\">.</span><span class=\"n\">py</span>\n\n<span class=\"n\">Starting</span><span class=\"w\"> </span><span class=\"n\">magma</span><span class=\"w\"> </span><span class=\"n\">implication</span><span class=\"w\"> </span><span class=\"n\">explorer</span><span class=\"bp\">...</span>\n\n<span class=\"n\">Starting</span><span class=\"w\"> </span><span class=\"n\">training</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">magma</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"mf\">3.</span><span class=\"bp\">..</span>\n\n<span class=\"n\">Looking</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">counterexample</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"o\">:</span>\n\n<span class=\"w\">  </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">Equation</span><span class=\"w\"> </span><span class=\"mi\">854</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">SATISFIED</span>\n\n<span class=\"w\">  </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">Equation</span><span class=\"w\"> </span><span class=\"mi\">1055</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">NOT</span><span class=\"w\"> </span><span class=\"n\">SATISFIED</span>\n\n<span class=\"n\">Episode</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">1000</span>\n\n<span class=\"n\">Steps</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">episode</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">64544</span>\n\n<span class=\"n\">Total</span><span class=\"w\"> </span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"n\">taken</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">64544</span>\n\n<span class=\"n\">Unique</span><span class=\"w\"> </span><span class=\"n\">states</span><span class=\"w\"> </span><span class=\"n\">explored</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">7532</span>\n\n<span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">5.0</span><span class=\"w\"> </span><span class=\"n\">seconds</span>\n</code></pre></div>",
        "id": 481297927,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731066472
    },
    {
        "content": "<p>But it still has issues / I still need to fix a couple of things. I'd need to work on it. My case was 854.</p>",
        "id": 481298048,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731066509
    },
    {
        "content": "<p>Then let's take the time and get results from this before pushing ahead with the PR</p>",
        "id": 481298150,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731066546
    },
    {
        "content": "<p>(btw could you mark it as a draft please?)</p>",
        "id": 481298171,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731066556
    },
    {
        "content": "<p>Sure! I'll make it a draft.</p>",
        "id": 481298205,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731066568
    },
    {
        "content": "<p>It's a draft now.</p>",
        "id": 481298457,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731066652
    },
    {
        "content": "<p>Thanks :)</p>",
        "id": 481298553,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731066687
    },
    {
        "content": "<p>btw. the rl thing is still to be fixed (but it's 90% there), but I can share here so that you can see how I am using these functions</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">numpy</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">np</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">re</span>\n<span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">itertools</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">product</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">time</span>\n\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">MagmaEnvironment</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"bp\">__</span><span class=\"n\">init__</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"bp\">=</span><span class=\"mi\">3</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">size</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">random</span><span class=\"bp\">.</span><span class=\"n\">randint</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">))</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">steps_taken</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">shunting_yard</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">expression</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">output</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">[],</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n<span class=\"w\">        </span><span class=\"n\">tokens</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">re</span><span class=\"bp\">.</span><span class=\"n\">findall</span><span class=\"o\">(</span><span class=\"n\">r'</span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"bp\">-</span><span class=\"n\">z</span><span class=\"o\">]</span><span class=\"bp\">+|</span><span class=\"o\">[</span><span class=\"bp\">◇*</span><span class=\"o\">()]</span><span class=\"bp\">'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">expression</span><span class=\"o\">)</span>\n<span class=\"w\">        </span><span class=\"kn\">precedence</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"bp\">'◇'</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">'*'</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">}</span>\n\n<span class=\"w\">        </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">tokens</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"bp\">.</span><span class=\"n\">isalpha</span><span class=\"o\">():</span>\n<span class=\"w\">                </span><span class=\"n\">output</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">token</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">elif</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"kn\">precedence</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">while</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"o\">[</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"kn\">precedence</span><span class=\"w\"> </span><span class=\"n\">and</span>\n<span class=\"w\">                       </span><span class=\"kn\">precedence</span><span class=\"o\">[</span><span class=\"n\">token</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"kn\">precedence</span><span class=\"o\">[</span><span class=\"n\">stack</span><span class=\"o\">[</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">]]):</span>\n<span class=\"w\">                    </span><span class=\"n\">output</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">())</span>\n<span class=\"w\">                </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">token</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">elif</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"o\">(</span><span class=\"bp\">'</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">token</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">elif</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"o\">)</span><span class=\"bp\">'</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">while</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"o\">[</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"o\">(</span><span class=\"bp\">'</span><span class=\"o\">:</span>\n<span class=\"w\">                    </span><span class=\"n\">output</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">())</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"o\">:</span>\n<span class=\"w\">                    </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">()</span>\n\n<span class=\"w\">        </span><span class=\"n\">while</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"o\">[</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"o\">(</span><span class=\"bp\">'</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">output</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">())</span>\n<span class=\"w\">            </span><span class=\"k\">else</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">()</span>\n\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">output</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">evaluate_rpn</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rpn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">op_table</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">variables</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n<span class=\"w\">        </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">rpn</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"bp\">.</span><span class=\"n\">isalpha</span><span class=\"o\">():</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">variables</span><span class=\"o\">:</span>\n<span class=\"w\">                    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">None</span>\n<span class=\"w\">                </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">variables</span><span class=\"o\">[</span><span class=\"n\">token</span><span class=\"o\">])</span>\n<span class=\"w\">            </span><span class=\"n\">elif</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"bp\">'◇'</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"o\">(</span><span class=\"n\">stack</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">:</span>\n<span class=\"w\">                    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">None</span>\n<span class=\"w\">                </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">(),</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">pop</span><span class=\"o\">()</span>\n<span class=\"w\">                </span><span class=\"n\">stack</span><span class=\"bp\">.</span><span class=\"n\">append</span><span class=\"o\">(</span><span class=\"n\">op_table</span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"o\">][</span><span class=\"n\">b</span><span class=\"o\">])</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">None</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">get_variables</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">expression</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"o\">(</span><span class=\"n\">re</span><span class=\"bp\">.</span><span class=\"n\">findall</span><span class=\"o\">(</span><span class=\"n\">r'</span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"bp\">-</span><span class=\"n\">z</span><span class=\"o\">]</span><span class=\"bp\">'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">expression</span><span class=\"o\">))</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">check_equation_satisfaction</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">equation</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">op_table</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">try</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">lhs_expr</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rhs_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">equation</span><span class=\"bp\">.</span><span class=\"n\">split</span><span class=\"o\">(</span><span class=\"bp\">'='</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">lhs_rpn</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">shunting_yard</span><span class=\"o\">(</span><span class=\"n\">lhs_expr</span><span class=\"bp\">.</span><span class=\"n\">strip</span><span class=\"o\">())</span>\n<span class=\"w\">            </span><span class=\"n\">rhs_rpn</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">shunting_yard</span><span class=\"o\">(</span><span class=\"n\">rhs_expr</span><span class=\"bp\">.</span><span class=\"n\">strip</span><span class=\"o\">())</span>\n\n<span class=\"w\">            </span><span class=\"n\">variables</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">get_variables</span><span class=\"o\">(</span><span class=\"n\">equation</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">table_size</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"o\">(</span><span class=\"n\">op_table</span><span class=\"o\">)</span>\n\n<span class=\"w\">            </span><span class=\"n\">value_combinations</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">product</span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"o\">(</span><span class=\"n\">table_size</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">repeat</span><span class=\"bp\">=</span><span class=\"n\">len</span><span class=\"o\">(</span><span class=\"n\">variables</span><span class=\"o\">))</span>\n\n<span class=\"w\">            </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">values</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">value_combinations</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">var_assignment</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">dict</span><span class=\"o\">(</span><span class=\"n\">zip</span><span class=\"o\">(</span><span class=\"n\">sorted</span><span class=\"o\">(</span><span class=\"n\">variables</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">values</span><span class=\"o\">))</span>\n\n<span class=\"w\">                </span><span class=\"n\">lhs_result</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">evaluate_rpn</span><span class=\"o\">(</span><span class=\"n\">lhs_rpn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">op_table</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">var_assignment</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">rhs_result</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">evaluate_rpn</span><span class=\"o\">(</span><span class=\"n\">rhs_rpn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">op_table</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">var_assignment</span><span class=\"o\">)</span>\n\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">lhs_result</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">rhs_result</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"o\">:</span>\n<span class=\"w\">                    </span><span class=\"n\">continue</span>\n\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">lhs_result</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"n\">rhs_result</span><span class=\"o\">:</span>\n<span class=\"w\">                    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">var_assignment</span>\n\n<span class=\"w\">            </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">None</span>\n\n<span class=\"w\">        </span><span class=\"n\">except</span><span class=\"w\"> </span><span class=\"n\">Exception</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Error processing equation: {equation}\"</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Error details: {str(e)}\"</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">None</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">check_implication</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">operation_table</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">equation_854</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"x = x ◇ ((y ◇ z) ◇ (x ◇ z))\"</span>\n<span class=\"w\">        </span><span class=\"n\">equation_1055</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"x = x ◇ ((y ◇ (z ◇ x)) ◇ x)\"</span>\n\n<span class=\"w\">        </span><span class=\"n\">eq854_satisfied</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">check_equation_satisfaction</span><span class=\"o\">(</span><span class=\"n\">equation_854</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">operation_table</span><span class=\"o\">)</span>\n<span class=\"w\">        </span><span class=\"n\">eq1055_satisfied</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">counterexample</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">check_equation_satisfaction</span><span class=\"o\">(</span><span class=\"n\">equation_1055</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">operation_table</span><span class=\"o\">)</span>\n\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">eq854_satisfied</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">eq1055_satisfied</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">counterexample</span>\n<span class=\"w\">        </span><span class=\"k\">else</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">None</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">step</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">action</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">steps_taken</span><span class=\"w\"> </span><span class=\"bp\">+=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">        </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">action</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">][</span><span class=\"n\">j</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">random</span><span class=\"bp\">.</span><span class=\"n\">randint</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">)</span>\n\n<span class=\"w\">        </span><span class=\"n\">found_counterexample</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">counterexample</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">check_implication</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span><span class=\"o\">)</span>\n\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">found_counterexample</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mf\">1.0</span>\n<span class=\"w\">            </span><span class=\"n\">done</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">True</span>\n<span class=\"w\">        </span><span class=\"k\">else</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mf\">0.0</span>\n<span class=\"w\">            </span><span class=\"n\">done</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">False</span>\n\n<span class=\"w\">        </span><span class=\"n\">state</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">get_state</span><span class=\"o\">()</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">state</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">reward</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">done</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">            </span><span class=\"s2\">\"counterexample\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">counterexample</span><span class=\"o\">,</span>\n<span class=\"w\">            </span><span class=\"s2\">\"steps\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">steps_taken</span>\n<span class=\"w\">        </span><span class=\"o\">}</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">get_state</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span><span class=\"bp\">.</span><span class=\"n\">copy</span><span class=\"o\">()</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">reset</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">steps_taken</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">random</span><span class=\"bp\">.</span><span class=\"n\">randint</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"o\">))</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">get_state</span><span class=\"o\">()</span>\n\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">QLearningAgent</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"bp\">__</span><span class=\"n\">init__</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">state_space_size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">action_space_size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">learning_rate</span><span class=\"bp\">=</span><span class=\"mf\">0.1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">discount_factor</span><span class=\"bp\">=</span><span class=\"mf\">0.95</span><span class=\"o\">,</span>\n<span class=\"n\">epsilon</span><span class=\"bp\">=</span><span class=\"mf\">0.1</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">{}</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">lr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">learning_rate</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">gamma</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">discount_factor</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">epsilon</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">action_space_size</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">action_space_size</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">total_actions</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">get_action</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">state</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">total_actions</span><span class=\"w\"> </span><span class=\"bp\">+=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">        </span><span class=\"n\">state_key</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"o\">(</span><span class=\"n\">state</span><span class=\"bp\">.</span><span class=\"n\">tobytes</span><span class=\"o\">())</span>\n\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">state_key</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">[</span><span class=\"n\">state_key</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">zeros</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">action_space_size</span><span class=\"o\">)</span>\n\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">random</span><span class=\"bp\">.</span><span class=\"n\">random</span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">random</span><span class=\"bp\">.</span><span class=\"n\">randint</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">action_space_size</span><span class=\"o\">)</span>\n<span class=\"w\">        </span><span class=\"k\">else</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">argmax</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">[</span><span class=\"n\">state_key</span><span class=\"o\">])</span>\n\n<span class=\"w\">    </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">update</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">state</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">action</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">reward</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">next_state</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">state_key</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"o\">(</span><span class=\"n\">state</span><span class=\"bp\">.</span><span class=\"n\">tobytes</span><span class=\"o\">())</span>\n<span class=\"w\">        </span><span class=\"n\">next_state_key</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"o\">(</span><span class=\"n\">next_state</span><span class=\"bp\">.</span><span class=\"n\">tobytes</span><span class=\"o\">())</span>\n\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">next_state_key</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">[</span><span class=\"n\">next_state_key</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">zeros</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">action_space_size</span><span class=\"o\">)</span>\n\n<span class=\"w\">        </span><span class=\"n\">old_value</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">[</span><span class=\"n\">state_key</span><span class=\"o\">][</span><span class=\"n\">action</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"n\">next_max</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">np</span><span class=\"bp\">.</span><span class=\"n\">max</span><span class=\"o\">(</span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">[</span><span class=\"n\">next_state_key</span><span class=\"o\">])</span>\n\n<span class=\"w\">        </span><span class=\"n\">new_value</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">lr</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">old_value</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">lr</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">gamma</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">next_max</span><span class=\"o\">)</span>\n<span class=\"w\">        </span><span class=\"n\">self</span><span class=\"bp\">.</span><span class=\"n\">q_table</span><span class=\"o\">[</span><span class=\"n\">state_key</span><span class=\"o\">][</span><span class=\"n\">action</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">new_value</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">train_agent</span><span class=\"o\">(</span><span class=\"n\">episodes</span><span class=\"bp\">=</span><span class=\"mi\">1000</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"bp\">=</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"bp\">=</span><span class=\"n\">True</span><span class=\"o\">):</span>\n<span class=\"w\">    </span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">MagmaEnvironment</span><span class=\"o\">(</span><span class=\"n\">size</span><span class=\"bp\">=</span><span class=\"n\">size</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">agent</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">QLearningAgent</span><span class=\"o\">(</span><span class=\"n\">size</span><span class=\"bp\">**</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"bp\">**</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n\n<span class=\"w\">    </span><span class=\"n\">start_time</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"bp\">.</span><span class=\"n\">time</span><span class=\"o\">()</span>\n<span class=\"w\">    </span><span class=\"n\">last_update</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">start_time</span>\n\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">Starting training with magma size {size}...\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Looking for counterexample where:\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"  1. Equation 854 is SATISFIED\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"  2. Equation 1055 is NOT SATISFIED\"</span><span class=\"o\">)</span>\n\n<span class=\"w\">    </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">episode</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"o\">(</span><span class=\"n\">episodes</span><span class=\"o\">):</span>\n<span class=\"w\">        </span><span class=\"n\">state</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">reset</span><span class=\"o\">()</span>\n<span class=\"w\">        </span><span class=\"n\">done</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">False</span>\n\n<span class=\"w\">        </span><span class=\"n\">while</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">done</span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">action</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">agent</span><span class=\"bp\">.</span><span class=\"n\">get_action</span><span class=\"o\">(</span><span class=\"n\">state</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">action_tuple</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">action</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">action</span><span class=\"w\"> </span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">next_state</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">reward</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">done</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">step</span><span class=\"o\">(</span><span class=\"n\">action_tuple</span><span class=\"o\">)</span>\n\n<span class=\"w\">            </span><span class=\"n\">agent</span><span class=\"bp\">.</span><span class=\"n\">update</span><span class=\"o\">(</span><span class=\"n\">state</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">action</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">reward</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">next_state</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"n\">state</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">next_state</span>\n\n<span class=\"w\">            </span><span class=\"n\">current_time</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"bp\">.</span><span class=\"n\">time</span><span class=\"o\">()</span>\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">current_time</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">last_update</span><span class=\"w\"> </span><span class=\"bp\">&gt;=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">Episode {episode + 1}/{episodes}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Steps in this episode: {info['steps']}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Total actions taken: {agent.total_actions}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Unique states explored: {len(agent.q_table)}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Time elapsed: {current_time - start_time:.1f} seconds\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">last_update</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">current_time</span>\n\n<span class=\"w\">            </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">done</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"o\">[</span><span class=\"s2\">\"counterexample\"</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"o\">:</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">🎉 Found valid counterexample!\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">Operation table:\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span><span class=\"o\">)</span>\n\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">Counterexample variable assignment:\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">info</span><span class=\"o\">[</span><span class=\"s2\">\"counterexample\"</span><span class=\"o\">])</span>\n\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">Search statistics:\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Episodes needed: {episode + 1}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Total steps taken: {agent.total_actions}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Unique states explored: {len(agent.q_table)}\"</span><span class=\"o\">)</span>\n<span class=\"w\">                </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Time taken: {time.time() - start_time:.1f} seconds\"</span><span class=\"o\">)</span>\n\n<span class=\"w\">                </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">info</span><span class=\"o\">[</span><span class=\"s2\">\"counterexample\"</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">current_operation_table</span>\n\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">No counterexample found after all episodes.\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Total steps taken: {agent.total_actions}\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Unique states explored: {len(agent.q_table)}\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"s2\">\"Time taken: {time.time() - start_time:.1f} seconds\"</span><span class=\"o\">)</span>\n\n<span class=\"w\">    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">None</span>\n\n<span class=\"k\">if</span><span class=\"w\"> </span><span class=\"bp\">__</span><span class=\"n\">name__</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"s2\">\"__main__\"</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">print</span><span class=\"o\">(</span><span class=\"s2\">\"Starting the magma rl tool...\"</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">counterexample</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">operation_table</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">train_agent</span><span class=\"o\">(</span><span class=\"n\">episodes</span><span class=\"bp\">=</span><span class=\"mi\">1000</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"bp\">=</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"bp\">=</span><span class=\"n\">True</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 481299249,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731066955
    },
    {
        "content": "<p>I was testing on the 854N1055, but it still fails. The main thing is the Q-learning agent. The reward, I guess, is also not good atm. I was thinking of making a gymnasium env, too.</p>",
        "id": 481299415,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731067027
    },
    {
        "content": "<p>Ah I just saw this thread so I had commented on the issue, but I'll reproduce it here as there is more discussion here:<br>\nEquations should really uses the JSON format from <code>lake exe export_equations</code>.<br>\nAlso, isn't this tool already done by <code>scripts/explore_magma.py</code> ?</p>",
        "id": 481299607,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1731067099
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> I haven'T worked with <code>explore_magma</code>,  so perhaps you could judge?</p>",
        "id": 481299740,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731067150
    },
    {
        "content": "<p><code>python scripts/explore_magma.py \"[[1, 1], [1, 1]]\"</code></p>",
        "id": 481299771,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1731067165
    },
    {
        "content": "<p>Wow, it works. My tool does not support this format and it's mostly for the RL functions. But I guess I could've checked that tool first. Thank you <span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span></p>",
        "id": 481300014,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731067248
    },
    {
        "content": "<p>If you want JSON it would probably not be too hard to add --json to match your output format</p>",
        "id": 481300118,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1731067280
    },
    {
        "content": "<p>Yeah, trivial ofc. But the goal for me was the RL tool above, and quick tests with operation tables. I just didn't know about explore_magma.</p>",
        "id": 481300301,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1731067336
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span> writes:</p>\n<blockquote>\n<p>Maybe the developer of the FME tool can pitch in</p>\n</blockquote>\n<p>That's me, I guess. Sorry, I'm busy assessing masters theses and preparing for AAL Conf 2024 at the moment. Until the latter concludes (28 Nov) I won't have time to assist with the project. But if there are things you or anyone else would like me to assist with, the best way to alert me is by creating Github issues: I'll attend to them next month if nobody else claims them in the meantime.</p>",
        "id": 481327051,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1731076589
    },
    {
        "content": "<p>Hey, sorry I forgot for a moment there that you were busy</p>",
        "id": 481327157,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731076630
    },
    {
        "content": "<p>Apologies</p>",
        "id": 481327167,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731076636
    }
]