[
    {
        "content": "<p>The most recent Github commits are reporting a strange build error (e.g., <a href=\"https://github.com/teorth/equational_theories/actions/runs/19456767214\">here</a>):</p>\n<blockquote>\n<p>Unhandled exception. System.IO.IOException: No space left on device : '/home/runner/actions-runner/cached/_diag/Worker_20251118-064226-utc.log'</p>\n</blockquote>\n<p>I assume this is a problem on Github's end rather than ours?</p>",
        "id": 557978753,
        "sender_full_name": "Terence Tao",
        "timestamp": 1763482034
    },
    {
        "content": "<p>Oh, the same is happening in other big projects like <a class=\"stream\" data-stream-id=\"442935\" href=\"/#narrow/channel/442935-Carleson\">#Carleson</a>. I'll fix it later today.</p>",
        "id": 557981711,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763482685
    },
    {
        "content": "<p>I've had space issues in another (private) small project which uses the LeanProject template workflows, since yesterday evening. I've added <a href=\"https://github.com/jlumbroso/free-disk-space\">an action to free some space</a> at the beginning of the workflow to fix it for now.</p>",
        "id": 557983289,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1763482913
    },
    {
        "content": "<p>Downgrading the <code>texlive-action</code> and related <code>texlive-full</code> docker image should suffice here, but I have added an extra disk cleanup job step in other projects of mine to prevent this issue too.</p>",
        "id": 557983802,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763483038
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/channel/458659-Equational/topic/.22No.20space.20left.20on.20device.22/near/557983289\">said</a>:</p>\n<blockquote>\n<p>I've had space issues in another (private) small project which uses the LeanProject template workflows, since yesterday evening. I've added <a href=\"https://github.com/jlumbroso/free-disk-space\">an action to free some space</a> at the beginning of the workflow to fix it for now.</p>\n</blockquote>\n<p>Thanks Rémy, I didn't know about that action. I'll try it out soon.</p>",
        "id": 557984052,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763483109
    },
    {
        "content": "<p>The downside of that action is that it takes 3min</p>",
        "id": 557984346,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1763483184
    },
    {
        "content": "<p>The job step I wrote took 55 seconds and saved a bit more than 20GB which is enough for us.</p>\n<p><a href=\"/user_uploads/3121/E58bsDsqxGOA19fdc-ncSEQc/Screenshot-2025-11-18-at-17.28.55.png\">Screenshot 2025-11-18 at 17.28.55.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/E58bsDsqxGOA19fdc-ncSEQc/Screenshot-2025-11-18-at-17.28.55.png\" title=\"Screenshot 2025-11-18 at 17.28.55.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2776x766\" src=\"/user_uploads/thumbnail/3121/E58bsDsqxGOA19fdc-ncSEQc/Screenshot-2025-11-18-at-17.28.55.png/840x560.webp\"></a></div>",
        "id": 557985379,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763483427
    },
    {
        "content": "<p>It's basically equivalent to switch some of the <code>free-disk-space</code> action parameters to <code>false</code>.</p>\n<p>Let me test it in a few seconds.</p>",
        "id": 557985652,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763483495
    },
    {
        "content": "<p>Yes, removing the android directory frees about 12 GB in 40 seconds, which is already sufficient for most use cases. I’ll therefore keep only that cleanup step enabled.</p>",
        "id": 557987012,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763483819
    },
    {
        "content": "<p>Done.</p>",
        "id": 557988532,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763484170
    },
    {
        "content": "<p>Solved <a href=\"https://github.com/teorth/equational_theories/actions/runs/19473731320/job/55727914107\">https://github.com/teorth/equational_theories/actions/runs/19473731320/job/55727914107</a></p>",
        "id": 558005924,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1763488356
    },
    {
        "content": "<p>What was the fix for this? I'm hitting this error too</p>",
        "id": 559134951,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1764012689
    },
    {
        "content": "<p>This <a href=\"https://github.com/teorth/equational_theories/blob/b36cfb4f61995ee54a2892a2cfb8a4b11ef7a54b/.github/workflows/blueprint-paper.yml#L63-L76\">https://github.com/teorth/equational_theories/blob/b36cfb4f61995ee54a2892a2cfb8a4b11ef7a54b/.github/workflows/blueprint-paper.yml#L63-L76</a></p>",
        "id": 559142101,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1764015019
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 559142391,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1764015133
    },
    {
        "content": "<p>I'm just learning about CI this weekend. Does this fix mean that github user <code>jlumbroso</code> can modify the <code>main</code> branch of their repo <code>free-disk-space</code> to run arbitrary code in my CI? And is the idea that this doesn't matter because this can't really cause any damage?</p>",
        "id": 560942920,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764448248
    },
    {
        "content": "<p>Yes, <code>uses: jlumbroso/free-disk-space@main</code> pulls from the <code>main</code> branch of <a href=\"https://github.com/jlumbroso/free-disk-space\">https://github.com/jlumbroso/free-disk-space</a>.</p>",
        "id": 560943151,
        "sender_full_name": "David Renshaw",
        "timestamp": 1764448488
    },
    {
        "content": "<p>The github action has permission to read from but not write to the repo: <a href=\"https://github.com/teorth/equational_theories/blob/b36cfb4f61995ee54a2892a2cfb8a4b11ef7a54b/.github/workflows/blueprint-paper.yml#L51-L52\">https://github.com/teorth/equational_theories/blob/b36cfb4f61995ee54a2892a2cfb8a4b11ef7a54b/.github/workflows/blueprint-paper.yml#L51-L52</a></p>",
        "id": 560943273,
        "sender_full_name": "David Renshaw",
        "timestamp": 1764448614
    },
    {
        "content": "<p>You could pin to the latest commit by having <code>uses: jlumbroso/free-disk-space@54081f138730dfa15788a46383842cd2f914a1be</code> (but I don't think there is a strong reason to do so).</p>",
        "id": 560943355,
        "sender_full_name": "David Renshaw",
        "timestamp": 1764448675
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243791\">David Renshaw</span> <a href=\"#narrow/channel/458659-Equational/topic/.22No.20space.20left.20on.20device.22/near/560943273\">said</a>:</p>\n<blockquote>\n<p>The github action has permission to read from but not write to the repo: <a href=\"https://github.com/teorth/equational_theories/blob/b36cfb4f61995ee54a2892a2cfb8a4b11ef7a54b/.github/workflows/blueprint-paper.yml#L51-L52\">https://github.com/teorth/equational_theories/blob/b36cfb4f61995ee54a2892a2cfb8a4b11ef7a54b/.github/workflows/blueprint-paper.yml#L51-L52</a></p>\n</blockquote>\n<p>Although it does have permission to write to github pages, so to the project's website too?</p>",
        "id": 560953808,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1764459818
    },
    {
        "content": "<p>As a counterpoint opinion,  <a href=\"https://docs.zizmor.sh/\"><code>zizmor</code></a> is a great tool, and indeed will enforce that you <em>must</em> pin all actions you use to commits, not movable branches or tags.</p>",
        "id": 560954528,
        "sender_full_name": "Julian Berman",
        "timestamp": 1764460650
    },
    {
        "content": "<p>(The docs for the rule for <code>uses</code> are here: <a href=\"https://docs.zizmor.sh/audits/#unpinned-uses\">https://docs.zizmor.sh/audits/#unpinned-uses</a> )</p>",
        "id": 560954553,
        "sender_full_name": "Julian Berman",
        "timestamp": 1764460687
    }
]