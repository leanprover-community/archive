[
    {
        "content": "<p>We can say that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span></span></span></span> is a universal magma for a law if the set of laws it satisfies is exactly the consequences of the law.<br>\nFor example, the quotient of the free magma on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span></span></span></span> by a law is always a universal magma for it. I think that's also the case for the quotient of the free magma on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{0, 1\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">}</span></span></span></span>, but I don't have a proof. The law <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mi>x</mi><mo>⋄</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x = x \\diamond y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋄</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> has as a universal magma the set <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{0, 1\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">}</span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>⋄</mo><mi>y</mi><mo>=</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x \\diamond y = x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋄</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>. The law <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x = y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> has the trivial magma. The law <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x = x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> has the free magma on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span></span></span></span>, and I think also <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span></span></span></span> with exponentiation. Associativity has strings with the operation of concatenation.</p>\n<p>What are some other examples of interesting universal magmas? Which laws admit finite universal magmas? Is every finite magma a universal magma for some law?</p>",
        "id": 476507461,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728723036
    },
    {
        "content": "<p>Multisets over the natural numbers are also universal magmas satisfying the commutativity and associativity axioms.</p>",
        "id": 476508609,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1728723999
    },
    {
        "content": "<p>For both of them together. Are they a universal magma for a single law?</p>",
        "id": 476509327,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728724782
    },
    {
        "content": "<p>I'm sorry, I misread the definition. I don't think this example works any longer under the constraint of having a single law.</p>",
        "id": 476509727,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1728725163
    },
    {
        "content": "<p>It's still interesting if it's a universal magma for any singular law, as for that purpose it's also equivalent to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span></span></span></span> with either addition or multiplication</p>",
        "id": 476509780,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728725250
    },
    {
        "content": "<p>I would call these magmas \"generic magmas\" rather than \"universal magmas\", as they do not obey a <a href=\"http://universal%20property\">https://en.wikipedia.org/wiki/Universal_property</a>.  </p>\n<p>I believe you are correct that a free magma on two elements modulo the law will be generic, because a free magma on two elements <code>0, 1</code> contains the free magma on countably many elements as a submagma (e.g., take the submagma generated by <code>10</code>, <code>1(00)</code>, <code>1(0(00))</code>, <code>1(0(0(00)))</code>, etc.).</p>",
        "id": 476531477,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728746557
    },
    {
        "content": "<p>That's not enough, because the quotient may make these equal (a quotient of the free magma on one element isn't general, for instance, as in it <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>⋄</mo><mi>y</mi><mo>=</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x \\diamond y = x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋄</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> implies <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x = y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>)</p>",
        "id": 476531613,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728746678
    },
    {
        "content": "<p>Hmm, good point.  Then I don't see a cheap \"abstract nonsense\" way to resolve your question.</p>",
        "id": 476533581,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728748528
    },
    {
        "content": "<p>A simple remark: we have Austin pairs: laws X, Y such that X implies Y for finite magmas, but not for infinite magmas.  For instance, Asterix and Oberlix form an Austin pair.  In such cases, generic models of X must be infinite (as they are not permitted to obey Y).</p>\n<p>The question of whether the free magma on two generators, modulo laws, is generic, seems to be subtle.  Take for instance the <a href=\"https://github.com/teorth/equational_theories/wiki/Tour-of-selected-equations#equation-345169-x--y--x--y--y--x--z--y-the-sheffer-stroke-law\">Sheffer stroke law</a> models Boolean algebras (the Sheffer stroke can be used to recover all the other Boolean operations).  The universal magma here is then the free Boolean algebra on countably many generators, whereas the magma generated by two elements becomes the free Boolean algebra on two generators, which has only 16 elements.  So in particular, from a first-order logic point of view it is not generic (the assertion \"there are seventeen distinct elements\" does not hold in this model, but holds in the universal model).  On the other hand, it appears that every equational law obeyed by the sixteen-element algebra holds for the universal Boolean algebra (and hence all Boolean algebras), because one can view the latter as the direct sum (or direct product?) of infinitely many copies of the former.</p>\n<p>In the case of <a href=\"https://github.com/teorth/equational_theories/wiki/Tour-of-selected-equations#equation-26302-x--y--z--x--w--x--w-the-natural-central-groupoid-law\">natural central groupoids</a> the free magma of two generators is a four-element magma (the base set <code>S</code> has two elements).  It's not clear to me right now whether there are laws on this magma that are not obeyed by the universal magma (in which case the base set is countably infinite).</p>",
        "id": 476551378,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728765781
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Universal.20magmas/near/476531477\">said</a>:</p>\n<blockquote>\n<p>I would call these magmas \"generic magmas\" rather than \"universal magmas\", as they do not obey a <a href=\"http://universal%20property\">https://en.wikipedia.org/wiki/Universal_property</a>.  </p>\n</blockquote>\n<p>Huh? Isn't this precisely an initial object in the category of magmas satisfying the law in question?</p>",
        "id": 476554641,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769434
    },
    {
        "content": "<p>I don't think there is necessarily a magma homomorphism from a generic magma (a magma that obeys only the laws that are entailed by a given law X) to an arbitrary magma obeying X.</p>",
        "id": 476554705,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728769501
    },
    {
        "content": "<p>maybe this hinges on what it means to \"satisfy only the laws entailed by X\"</p>",
        "id": 476554749,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769557
    },
    {
        "content": "<p>is this a quantification over <code>MagmaLaw</code>?</p>",
        "id": 476554810,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769600
    },
    {
        "content": "<p>That's how I understood it</p>",
        "id": 476554825,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728769615
    },
    {
        "content": "<p>in which case you are right, that's not quite the same as a free object, although I don't have a counterexample</p>",
        "id": 476554841,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769635
    },
    {
        "content": "<p>A random magma on Nat will almost surely be generic for <code>x=x</code> (for any reasonable notion of \"random\"), but one can plant some entries to ensure that it is not free.</p>",
        "id": 476554918,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728769732
    },
    {
        "content": "<p>it's not clear to me that you can do that without spoiling genericity at the same time</p>",
        "id": 476554995,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769805
    },
    {
        "content": "<p>is there a cardinality argument for this?</p>",
        "id": 476555002,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769823
    },
    {
        "content": "<p>Well, equational laws have to hold universally.  If you mess up only a finite number of values of the multiplication table, there are still an infinite number of remaining constants on which one is selecting the table randomly, and so the probability of a non-trivial law holding can be easily seen to be zero (lots of independent events of probability less than one have to simultaneously hold).</p>",
        "id": 476555040,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728769883
    },
    {
        "content": "<p>There's probably also a Baire category argument, if one prefers to interpret \"generic\" as \"outside of a countable union of nowhere dense sets\".</p>",
        "id": 476555055,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728769914
    },
    {
        "content": "<p>so I guess you can construct a magma on Nat which spoils every law by enumerating and popping them all with a new element</p>",
        "id": 476555103,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769933
    },
    {
        "content": "<p>but how do I know that didn't accidentally make a free magma?</p>",
        "id": 476555129,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728769985
    },
    {
        "content": "<p>In the free magma for the trivial law x=x, no two different words can ever be equal, for instance 0 * 1 can never equal 1 * 0.  But one can start the multiplication table with say 0 * 1 = 1 * 0 = 2 and fill in the rest randomly.</p>",
        "id": 476555204,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728770057
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Universal.20magmas/near/476509327\">said</a>:</p>\n<blockquote>\n<p>For both of them together. Are they a universal magma for a single law?</p>\n</blockquote>\n<p>This seems like a kind of PID property. Is every pair of laws expressible as a single law? If so, I think this is true, assuming that the theory of a finite magma is finitely generated (which I believe to be true although I don't know how to prove that either)</p>",
        "id": 476555586,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1728770477
    },
    {
        "content": "<p>Not sure where to mention this, but I have a candidate for the \"free\" magma over a set of equations (which are called <code>Ctx</code> in <code>Completeness.lean</code> and a somewhat awkward statement of the universal property, trying to stick to what's in <code>FreeMagma.lean</code>.</p>\n<p>It's here: <a href=\"https://github.com/teorth/equational_theories/pull/563\">https://github.com/teorth/equational_theories/pull/563</a> feel free to (gently) critique.</p>",
        "id": 476641978,
        "sender_full_name": "Cody Roux",
        "timestamp": 1728858378
    }
]