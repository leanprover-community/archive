[
    {
        "content": "<p>(This is a follow-up to <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/Dynamically.20detecting.20useful.20implications.20to.20decide\">#Equational &gt; Dynamically detecting useful implications to decide</a> )<br>\nFrom the results of <a href=\"https://github.com/teorth/equational_theories/pull/230\">equational#230</a>, many of the remaining open implications are false, but seemingly don't have finite models showing that (at least Vampire couldn't find them, and in one random case I manually proved the implication for finite models).<br>\nHow can these non-implications be automatically formally proven?<br>\nVampire outputs something along the lines of</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">SZS</span><span class=\"w\"> </span><span class=\"n\">output</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"n\">Saturation</span><span class=\"bp\">.</span>\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u12</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X2</span><span class=\"o\">,</span><span class=\"n\">X3</span><span class=\"o\">),</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X1</span><span class=\"o\">),</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X2</span><span class=\"o\">,</span><span class=\"n\">X3</span><span class=\"o\">))))</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u9</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X2</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X1</span><span class=\"o\">)),</span><span class=\"n\">X2</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u10</span><span class=\"o\">,</span><span class=\"n\">negated_conjecture</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK0</span><span class=\"o\">,</span><span class=\"n\">sK1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK2</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK0</span><span class=\"o\">,</span><span class=\"n\">sK1</span><span class=\"o\">),</span><span class=\"n\">sK2</span><span class=\"o\">)))</span><span class=\"bp\">.</span>\n\n<span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">SZS</span><span class=\"w\"> </span><span class=\"n\">output</span><span class=\"w\"> </span><span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Saturation</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>and formalizing that would require, as far as I can tell, formalizing superposition calculus, proving its completeness, and then proving for each such output that these are truly saturated -- this sounds quite unpleasant, and will probably take a really long time for the kernel to verify as well.<br>\nWhat are other automated approaches that could be used for proving such non-implications?</p>",
        "id": 474878163,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728066033
    },
    {
        "content": "<p>Do you have an example of such a non-implication that we could play with directly?</p>",
        "id": 474883280,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728068188
    },
    {
        "content": "<p>One could attempt a brute force approach similar to what's successful for finite models: First assemble a list of infinite models that have been used to prove non-implications, then come up with a means of constructing infinite models that can construct all of those, use it to construct a bunch of models, see which equations seem to hold by plugging in small or random values for the variables,  see if this gives any non-implications, then try to automate the proof that these equations actually hold. Most steps of that seem tricky.</p>",
        "id": 474899248,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728075076
    },
    {
        "content": "<p>Alternately one could try to understand the theory of saturation in superposition calculus and extract from it some procedure for producing proofs in specific cases (by some complicated induction? By producing tailor-made models?) and formalize and then automate that.</p>",
        "id": 474899706,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728075358
    },
    {
        "content": "<p>my egraph-based tool also reports saturation with no solutions for several of the post-Vampire unknown implications, and can output the egraph</p>\n<p>I think there is already a proof that refl+trans+congr+symm+hyp is complete in the metatheory code, so perhaps one can present the egraph to Lean, show that it doesn't solve the problem and show that no further moves are possible</p>\n<p>probably not going to do this myself though except maybe for printing the egraphs if they are useful</p>",
        "id": 474905947,
        "sender_full_name": "lyphyser",
        "timestamp": 1728079054
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474883280\">said</a>:</p>\n<blockquote>\n<p>Do you have an example of such a non-implication that we could play with directly?</p>\n</blockquote>\n<p>There is <code>x ∘ y = (z ∘ (x ∘ y)) ∘ z -&gt; x ∘ y = z ∘ ((x ∘ y) ∘ z)</code>, the saturation above the is the output for it</p>",
        "id": 474927926,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728089996
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"751429\">lyphyser</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474905947\">said</a>:</p>\n<blockquote>\n<p>my egraph-based tool also reports saturation with no solutions for several of the post-Vampire unknown implications, and can output the egraph</p>\n<p>I think there is already a proof that refl+trans+congr+symm+hyp is complete in the metatheory code, so perhaps one can present the egraph to Lean, show that it doesn't solve the problem and show that no further moves are possible</p>\n<p>probably not going to do this myself though except maybe for printing the egraphs if they are useful</p>\n</blockquote>\n<p>Could you give an example of how such an egraph looks? I must admit that I don't quite understand how to interpret the output of Vampire, perhaps using egraphs will be easier</p>",
        "id": 474929757,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728090788
    },
    {
        "content": "<p>a ∘ b =  a xor b if a,b are both even,   b+2a if a odd and b even, max(a-2b,0) if a even and b odd, a+b if a,b odd should do it: then x ∘ y is even and if z is even then multiplying by z on either side is an inverse but if z is odd multiplying by z is an inverse one way and not the other.</p>",
        "id": 474929871,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728090842
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"230900\">Will Sawin</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474929871\">said</a>:</p>\n<blockquote>\n<p>a ∘ b =  a xor b if a,b are both even,   b+2a if a odd and b even, max(a-2b,0) if a even and b odd, a+b if a,b odd should do it: then x ∘ y is even and if z is even then multiplying by z on either side is an inverse but if z is odd multiplying by z is an inverse one way and not the other.</p>\n</blockquote>\n<p>Yes, a model for this is already formalized (it's almost exactly what you've written, even)</p>",
        "id": 474930045,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728090919
    },
    {
        "content": "<p>Oh, sorry.</p>",
        "id": 474930853,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728091259
    },
    {
        "content": "<p>An interesting thing about that example from a human perspective, is if I was going to do a proof from the other angle, a syntactic proof based on rewriting formulas or somewhat equivalently a semantic proof based on a free model, it would make sense to add two more equations, those being (x ∘ y) ∘ (z ∘ w) = (z ∘ w) ∘ (x ∘ y) and the associativity for terms of the form (x ∘ y) which I won't write out. Then the terms of the form x ∘ y form a commutative group where every element has order 2 and the other terms act by permutations. It's not so hard to write out in a human-readable way the description of the equivalence classes of formulas / the elements of a free algebra on k generators. So one could try the general strategy of adding more equations, checking that the implication still doesn't hold in vampire, and trying to generate a proof of the new implication which might be easier. But this seems not so likely to help on the formalization side - presumably trying to find the right equations to add is harder than everything else about the problem.</p>",
        "id": 474932028,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728091875
    },
    {
        "content": "<p>Did the Vampire proofs merge include the non-implications as conjectures then? Or not at all?</p>",
        "id": 474953134,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728110479
    },
    {
        "content": "<p>It didn't include the non-implications. I have <a href=\"https://github.com/teorth/equational_theories/pull/276\">equational#276</a> with finite counterexamples generated by Vampire, but the conjectures are currently a draft (as I need to remove the implications/non-implications that were proven from there)</p>",
        "id": 474953244,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728110559
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 474953645,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728110916
    },
    {
        "content": "<p>(I now realize that my tone wasn't very nice, and it's a useless thing to say anyway; apologies)</p>",
        "id": 474954700,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728111887
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"230900\">Will Sawin</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474899248\">said</a>:</p>\n<blockquote>\n<p>One could attempt a brute force approach similar to what's successful for finite models: First assemble a list of infinite models that have been used to prove non-implications, then come up with a means of constructing infinite models that can construct all of those, use it to construct a bunch of models, see which equations seem to hold by plugging in small or random values for the variables,  see if this gives any non-implications, then try to automate the proof that these equations actually hold. Most steps of that seem tricky.</p>\n</blockquote>\n<p>A potential method to construct infinite models is to have a finite automaton with output read two words interlaced. Checking equations over this is decidable, which is good, but I'm not sure if it's expressive enough (we can't do stuff like <code>x ◇ y = if x = y then 0 else x</code>, for example)</p>",
        "id": 474963990,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728120489
    },
    {
        "content": "<p>so it seems a lot of the egraphs have just the goal, indicating that no moves are possible from the beginning and the others that I have found so far running on the post-Vampire unknowns are also very small </p>\n<p>this is one of the biggest saturated ones found so far, for 3279 =&gt; 3659<br>\n<a href=\"/user_uploads/3121/hf-PN2AZHgkzm93k8ZLbX8P3/3279_3659.pdf\">3279_3659.pdf</a><br>\n<a href=\"/user_uploads/3121/rLkUwggCB95xq2gcsTAU8K2d/3279_3659.dot\">3279_3659.dot</a></p>",
        "id": 474964005,
        "sender_full_name": "lyphyser",
        "timestamp": 1728120523
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"751429\">lyphyser</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474964005\">said</a>:</p>\n<blockquote>\n<p>so it seems a lot of the egraphs have just the goal, indicating that no moves are possible from the beginning and the others that I have found so far running on the post-Vampire unknowns are also very small </p>\n<p>this is one of the biggest saturated ones found so far, for 3279 =&gt; 3659<br>\n<a href=\"/user_uploads/3121/hf-PN2AZHgkzm93k8ZLbX8P3/3279_3659.pdf\">3279_3659.pdf</a><br>\n<a href=\"/user_uploads/3121/rLkUwggCB95xq2gcsTAU8K2d/3279_3659.dot\">3279_3659.dot</a></p>\n</blockquote>\n<p>How many of the implications are you able to resolve, if you add these as conjectures?</p>",
        "id": 474964049,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728120588
    },
    {
        "content": "<p>haven't tried that yet</p>",
        "id": 474964159,
        "sender_full_name": "lyphyser",
        "timestamp": 1728120668
    },
    {
        "content": "<p>4407 =&gt; 4343 is e.g. one where no moves are possible at all</p>",
        "id": 474964398,
        "sender_full_name": "lyphyser",
        "timestamp": 1728120884
    },
    {
        "content": "<p>646 =&gt; 630 has a large saturated egraph</p>",
        "id": 474973738,
        "sender_full_name": "lyphyser",
        "timestamp": 1728128170
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"230900\">Will Sawin</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474899248\">said</a>:</p>\n<blockquote>\n<p>One could attempt a brute force approach similar to what's successful for finite models: First assemble a list of infinite models that have been used to prove non-implications, then come up with a means of constructing infinite models that can construct all of those, use it to construct a bunch of models, see which equations seem to hold by plugging in small or random values for the variables,  see if this gives any non-implications, then try to automate the proof that these equations actually hold. Most steps of that seem tricky.</p>\n</blockquote>\n<p>This seems like a good idea, but intuitively I feel like for infinite models you need to be a lot more \"intentional\", especially as implications which are only refuted on infinite models hold \"often\"</p>",
        "id": 475048290,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728187607
    },
    {
        "content": "<p>I'm working on the Lean code to provide egraph-based counterexamples, I think it should work at least with native_decide</p>",
        "id": 475049301,
        "sender_full_name": "lyphyser",
        "timestamp": 1728188321
    },
    {
        "content": "<p>From saturation? Nice! Do you have a prediction for how many implications it'll resolve?</p>",
        "id": 475049431,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728188459
    },
    {
        "content": "<p>I think <code>native_decide</code> will trip this axiom check: <a href=\"https://github.com/teorth/equational_theories/blob/05138bbe6816e64322a6ddd71202516413e61b5b/equational_theories/EquationalResult.lean#L77-L78\">https://github.com/teorth/equational_theories/blob/05138bbe6816e64322a6ddd71202516413e61b5b/equational_theories/EquationalResult.lean#L77-L78</a><br>\n(which we could discuss relaxing)</p>",
        "id": 475049543,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728188544
    },
    {
        "content": "<p>If it works with <code>native_decide</code> then I could try to write a tactic to prove it, perhaps that'll be fast enough for the kernel</p>",
        "id": 475049586,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728188597
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/475048290\">said</a>:</p>\n<blockquote>\n<p>s seems like a good idea, but intuitively I feel like for infinite models you need to be a lot more \"intentional\", esp</p>\n</blockquote>\n<p>It's kind of an empirical question. It's actually not clear to me that the implications only refuted on infinite models hold that often. I mean, it's rare for any complicated equation to hold, but if one equation holds, and some natural injective map fails to be surjective, it might be pretty likely for the second equation to fail. So if one has a model which frequently produces injective-not-surjective maps (or other \"signatures\" of an infinite magma?) one might be in good shape. The automaton idea you suggested might be good for this. The thing that makes sense to me to do is to take 5 or 10 random examples of implications believed to be true in the finite case and false in the infinite case and search for infinite models by hand, then use insights from that to see if the brute force method is viable and then to power the brute force method.<br>\nBut this all might be moot if lyphyser or anyone else can get the vampire proofs of nonimplications into Lean (unless it comes up later for the ones undecided by vampire).</p>",
        "id": 475101134,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728222287
    },
    {
        "content": "<p>If I'm not mistaken I realized that I think that (finite) saturated egraphs give finite models, not infinite models, where the elements are Option (Fin C) where C is the number of eclasses, and the operation is none if any operands are none or if the operation is not in the egraph, and the resulting eclass otherwise</p>\n<p>I wonder if I'm missing something though (I think the argument may only work if the set of variables in the axiom lhs and rhs are the same)</p>",
        "id": 475116717,
        "sender_full_name": "lyphyser",
        "timestamp": 1728234630
    },
    {
        "content": "<p><a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/475116717\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/Automatically.20generating.20magma.20laws.20.26.20proofs.20from.20equations\">#Equational &gt; Automatically generating magma laws &amp; proofs from equations</a> by <span class=\"user-mention silent\" data-user-id=\"751429\">lyphyser</span>.</p>",
        "id": 475116829,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728234664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"751429\">lyphyser</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/475116717\">said</a>:</p>\n<blockquote>\n<p>If I'm not mistaken I realized that I think that (finite) saturated egraphs give finite models, not infinite models, where the elements are Option (Fin C) where C is the number of eclasses, and the operation is none if any operands are none or if the operation is not in the egraph, and the resulting eclass otherwise</p>\n<p>I wonder if I'm missing something though (I think the argument may only work if the set of variables in the axiom lhs and rhs are the same)</p>\n</blockquote>\n<p>what's the construction precisely? note that a saturated egraph can represent an infinite set of terms if there's cycles</p>",
        "id": 475120395,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728237068
    },
    {
        "content": "<p>really cool idea by the way!</p>",
        "id": 475120399,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728237072
    },
    {
        "content": "<p>Terms != elements of the model though</p>",
        "id": 475120844,
        "sender_full_name": "Cody Roux",
        "timestamp": 1728237420
    },
    {
        "content": "<p>(that's why I'm asking what the construction is precisely)</p>",
        "id": 475120879,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728237454
    },
    {
        "content": "<p>Could you perhaps explain how this works for the non-implication <code>x = x * y -&gt; x = y</code>? The only model with a <code>none</code> such that <code>x * none = none</code> which satisfies the equation is the trivial one</p>",
        "id": 475121524,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728237673
    },
    {
        "content": "<p>I think it only works when the set of variables in the lhs and the rhs are the same (which means that any variable being none makes both the lhs and rhs none and thus the equation true)</p>",
        "id": 475122976,
        "sender_full_name": "lyphyser",
        "timestamp": 1728238126
    },
    {
        "content": "<p>I formalized theorem 3.10 from <a href=\"https://teorth.github.io/equational_theories/blueprint.pdf\">blueprint.pdf</a>, constructing an infinite model to prove that Eq3944 does not imply Eq3588: <a href=\"https://github.com/teorth/equational_theories/pull/388\">equational#388</a>.</p>",
        "id": 475165054,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728263682
    },
    {
        "content": "<p>and the dual: <a href=\"https://github.com/teorth/equational_theories/pull/390\">equational#390</a></p>",
        "id": 475168403,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728266021
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243791\">David Renshaw</span> <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/475165054\">said</a>:</p>\n<blockquote>\n<p>I formalized theorem 3.10 from <a href=\"https://teorth.github.io/equational_theories/blueprint.pdf\">blueprint.pdf</a>, constructing an infinite model to prove that Eq3944 does not imply Eq3588: <a href=\"https://github.com/teorth/equational_theories/pull/388\">equational#388</a>.</p>\n</blockquote>\n<p>It already exists: <a href=\"https://github.com/teorth/equational_theories/blob/main/equational_theories/InfModel.lean#L147\">https://github.com/teorth/equational_theories/blob/main/equational_theories/InfModel.lean#L147</a></p>",
        "id": 475168669,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728266178
    },
    {
        "content": "<p>d'oh. Needed to tag it with <code>@[equational_result]</code>.</p>",
        "id": 475168736,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728266226
    },
    {
        "content": "<p>I suppose I should merge <code>InfiniteModels.lean</code> into <code>InfModel.lean</code>. (clearly I must have seen this file earlier, based on the name I chose. <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span>)</p>",
        "id": 475168993,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728266409
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> is there some kind of procedure you followed to come up with this model? How can we replicate it for the other missing refutations?</p>",
        "id": 475169216,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728266453
    },
    {
        "content": "<p>I found it from the proof for finite models, by looking at what breaks there in infinite models</p>",
        "id": 475169362,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728266491
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/391\">equational#391</a></p>",
        "id": 475170714,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728267056
    },
    {
        "content": "<p>I'm pretty sure the proof used in InfModel.lean for Equation3994_not_implies_Equation3588 works verbatim for Equation3994_not_implies_Equation3456 since the counterexample part uses 1,1,1 so it still holds if you set the variables even. Similarly the proof of Equation3588_not_implies_Equation3944 in fact shows Equation3588_not_implies_Equation3862. By transitivity, I think this resolves all implications of these two equations.</p>",
        "id": 475285646,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728304088
    },
    {
        "content": "<p>I wonder if untyped lambda calculus can provide an interesting model</p>",
        "id": 475372473,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728328040
    },
    {
        "content": "<p>One of the theories further on a scale of expressiveness that models infinite data and is still computable is tree automata. I don't have much experience in Lean, but here's a rough idea.</p>\n<p>There's a library called <code>qpf</code> that allows to define codata in Lean.</p>\n<p>Consider (fixpoint of) random polynomial functor F and (fixpoint of) random function g of type forall a. F a -&gt; F a -&gt; F a to be magma operation.</p>\n<p>Values of <code>Fix F</code> are equivalent to tree automata with every edge ascribed with a triple (i1, i2, o) of 2 expected constructors and another constructor of F as output.</p>\n<p>After magma operation (bifix g) is applied on either side of equation, we're left with 2 tree automata. Equality on tree automata is well-defined, because they have normal forms by Hopcroft's minimization.</p>\n<p>So on Python side it's possible to generate F/g and check if axiom of equational theory works, on Lean side encoding of F and g will be just codata of <code>Fix F</code> and function <code>g</code>, and there won't be any need to explicitly define either tree automata or their theory.</p>",
        "id": 475669322,
        "sender_full_name": "Phil",
        "timestamp": 1728420611
    },
    {
        "content": "<p>The data itself doesn't have to be infinite - <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{N}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span></span></span></span> is enough, the problem is describing the operation on it</p>",
        "id": 475738526,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728446981
    },
    {
        "content": "<p>S2S can't quantify over functions, right? Is there any decidable theory which can quantify over a reasonably expressive set of functions?</p>",
        "id": 475743376,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728449236
    }
]