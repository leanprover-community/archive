[
    {
        "content": "<p>I am going to try and get <a href=\"https://github.com/teorth/equational_theories/pull/23\">https://github.com/teorth/equational_theories/pull/23</a> into a mergable state in a few hours.</p>\n<p>Here's my proposal for how to format these large collections of auto-generated proofs. But I have no idea what I'm doing so someone please let me know if this makes sense as a plan for how future ones might want to work, too.</p>\n<ol>\n<li>I'll make a new subdirectory for the \"proof style\" I'm using. This one will be called \"SimpleRewrites\"</li>\n<li>Then, I'll make \"SimpleRewrites/theorems\" and put all of the theorems there.</li>\n<li>I'll also make a \"SimpleRewrites.lean\" that references all of the theorems.</li>\n<li>I'll finally make \"SimpleRewrites/src\" and put the source that auto-generates the theorems there</li>\n<li>In \"SimpleRewrites/README.md\" I'll document how to run the script that generated these contradictions.</li>\n<li>In .gitattributes add <code>equational_theories/SimpleRewrites.lean linguist-generated</code></li>\n</ol>\n<p>Does this make sense as a general format for auto-generated theorems? It would be nice to have a thought-through example for how to contribute large collections of theorems so that future people can pattern-match on a PR without having to figure out how to best lay things out themselves.</p>",
        "id": 473353745,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727533783
    },
    {
        "content": "<p>This makes good sense. My <a href=\"https://github.com/teorth/equational_theories/pull/19\">https://github.com/teorth/equational_theories/pull/19</a> mostly follows this scheme as well. Also mark the generated files as generated in <code>.gitattributes</code>, and leave a comment on the files saying that they are generated and where to read more.</p>\n<p>The readme can be in the parent directory.</p>",
        "id": 473354910,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727534604
    },
    {
        "content": "<p>Added this to my proposal.</p>",
        "id": 473357202,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727536299
    },
    {
        "content": "<p>This looks good to me.  If you go ahead and implement this, you can also update CONTRIBUTING.md to reflect this workflow.</p>",
        "id": 473357701,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727536689
    },
    {
        "content": "<p>Wrote some text here; feel free to suggest anything else <a href=\"https://github.com/teorth/equational_theories/pull/68/\">https://github.com/teorth/equational_theories/pull/68/</a></p>",
        "id": 473367047,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727543807
    },
    {
        "content": "<p>Looks good. But does CI actually build this stuff?</p>",
        "id": 473367427,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727544138
    },
    {
        "content": "<p>The default build process builds everything from the toplevel file to its dependencies recursively.</p>",
        "id": 473367453,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727544176
    },
    {
        "content": "<p>CC : <span class=\"user-mention\" data-user-id=\"470149\">@Joachim Breitner</span></p>",
        "id": 473367473,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727544193
    },
    {
        "content": "<p>Correct, you should also import the main file of your subdirectory in the top level library file</p>",
        "id": 473370633,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727546607
    },
    {
        "content": "<p>Yes this should also be included in this file. I did do it for the simple rewrites (<a href=\"https://github.com/teorth/equational_theories/blob/583407a78f918f62e5b1aab4d0fc23bf4c861a37/equational_theories.lean#L3\">https://github.com/teorth/equational_theories/blob/583407a78f918f62e5b1aab4d0fc23bf4c861a37/equational_theories.lean#L3</a>) but forgot to put it in the docs. If someone wants to add that before I get to it feel free I might be a while</p>",
        "id": 473371260,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727547075
    },
    {
        "content": "<p>I'll add it. It is quicker on my end</p>",
        "id": 473371288,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727547106
    },
    {
        "content": "<p>Ideally you want to add a <code>Generated.lean</code> file and import  that in <code>equational_theories.lean</code></p>",
        "id": 473371578,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727547350
    },
    {
        "content": "<p>And then add the generated imports to <code>Generated.lean</code></p>",
        "id": 473371661,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727547370
    },
    {
        "content": "<p>That makes sense too</p>",
        "id": 473371741,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727547454
    },
    {
        "content": "<p>I'll fix this</p>",
        "id": 473371828,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727547517
    },
    {
        "content": "<p>And make sure SimpleRewrites is added. Separately I will fix the contributing docs once this PR is done</p>",
        "id": 473371844,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727547537
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/73\">https://github.com/teorth/equational_theories/pull/73</a></p>",
        "id": 473372559,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727548091
    }
]