[
    {
        "content": "<p>After proving a bunch of implications using brute force by trivial methods, I did some work on getting it ready to upstream. In particular, I wrote simple tools to compute the transitive reduction (e.g. minimal set of necessary implications) and transitive closure (e.g. how many total implications are implied by a set of implications) of a set of implications and found that I can prove 4.2m implications (just under 20% of 4694^2) using just 15,230 implications. Wikipedia says that computing the transitive reduction of a cyclic graph is in NP, so I'm using a hacked up approximate method to calculate that number, it should not be considered a maximal possible lower-bound. I've uploaded the first cut of the proofs in a PR here: <a href=\"https://github.com/teorth/equational_theories/pull/54\">https://github.com/teorth/equational_theories/pull/54</a> I will also upload the transitive reduction script when I clean it up, and I plan to fix some of the hacky theorems I generated (e.g. the try {}s bruteforcing different number of parameters)</p>",
        "id": 473354380,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534253
    },
    {
        "content": "<p>If you'd like to compute the transitive closure of the implications for this PR yourself, you can do using <code>ruby scripts/transitive_closure.rb data/REDUCED.csv</code></p>",
        "id": 473354481,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534316
    },
    {
        "content": "<p>Okay, this almost definitely supersedes my \"just rename them\" set of 50k.  I just started a topic on how to format large generated merges. I think it makes sense to (1) put the code for generating the proofs near the generated proof, and (2) to make each generated lean file separate, so that it's reproducible and doesn't require merging files together.</p>",
        "id": 473354646,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727534435
    },
    {
        "content": "<p><a href=\"#narrow/stream/458659-Equational/topic/File.20structure.20for.20large.20auto-generated.20merges/near/473353745\">https://leanprover.zulipchat.com/#narrow/stream/458659-Equational/topic/File.20structure.20for.20large.20auto-generated.20merges/near/473353745</a></p>",
        "id": 473354668,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727534450
    },
    {
        "content": "<p>I've done some simple testing of the numbers I claim here, but additional verification would be welcome. In particular, I did check that the transitive closure of the implications in that PR do not overlap with Nicholas Carlini's refutations</p>",
        "id": 473354675,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534455
    },
    {
        "content": "<p>(I don't know how to link to other messages.)</p>",
        "id": 473354679,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727534459
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761294\">Nicholas Carlini</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473354646\">said</a>:</p>\n<blockquote>\n<p>Okay, this almost definitely supersedes my \"just rename them\" set of 50k.  I just started a topic on how to format large generated merges. I think it makes sense to (1) put the code for generating the proofs near the generated proof, and (2) to make each generated lean file separate, so that it's reproducible and doesn't require merging files together.</p>\n</blockquote>\n<p>You can calculate the transitive closure yourself if you'd like to check, after all, the actual number of theorems in the PR is 15k, and I'm not sure that mine are a strict superset of yours</p>",
        "id": 473354738,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534508
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761294\">Nicholas Carlini</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473354646\">said</a>:</p>\n<blockquote>\n<p>Okay, this almost definitely supersedes my \"just rename them\" set of 50k. I just started a topic on how to format large generated merges. I think it makes sense to (1) pu</p>\n</blockquote>\n<p>Agreed on both counts. Unfortunately, the scripts I have for <a href=\"https://github.com/leanprover-community/mathlib4/pull/1\">#1</a> right now are quite ugly, so one thing I will have to figure out what is what is worth upstreaming to allow reproducing it. It would be cool if I was good enough at lean to do it in a nice way using lean itself, instead of my \"generate lean files, then make -j6 lean executing them, and then delete theorems with errors\" method</p>",
        "id": 473354924,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534615
    },
    {
        "content": "<p>Transitive closure is NP-complete? Do you mind linking to that wiki page? I'm fairly sure there's a simple <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>m</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(nm)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">nm</span><span class=\"mclose\">)</span></span></span></span> algorithm of running DFS/BFS from every node</p>",
        "id": 473354939,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727534632
    },
    {
        "content": "<p>I would be in favor of just putting whatever code you have in this format and letting people clean it up as they'd like. The beauty of lean is that we know the proofs are correct regardless of how ugly the code that generated it was.</p>",
        "id": 473355047,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727534694
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473354939\">said</a>:</p>\n<blockquote>\n<p>Transitive closure is NP-complete? Do you mind linking to that wiki page? I'm fairly sure there's a simple <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mi>m</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(nm)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">nm</span><span class=\"mclose\">)</span></span></span></span> algorithm of running DFS/BFS from every node</p>\n</blockquote>\n<p>Oops, that should have been reduction, not closure. \"Because of this difficulty, it is <a href=\"https://en.wikipedia.org/wiki/NP-hard\">NP-hard</a> to find the smallest subgraph of a given graph <em>G</em> with the same reachability (its minimum equivalent graph).[[3]]\" from <a href=\"https://en.wikipedia.org/wiki/Transitive_reduction\">https://en.wikipedia.org/wiki/Transitive_reduction</a> Note that it's specific to cyclic graphs.</p>",
        "id": 473355099,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534715
    },
    {
        "content": "<p>Finding the Hamiltonian cycle in the SCC is exactly the bit that I just shotgun away with an approximate method in my script but it seems to work fine. I couldn't find code that I wanted to use this for online, so I hacked something up myself with the aid of ChatGPT, but it seems to agree with the transitive closures I compute.</p>",
        "id": 473355257,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727534818
    },
    {
        "content": "<p>Because implications are transitively closed, I'm quite sure you can compute the condensation graph and then run transitive reduction on it</p>",
        "id": 473355342,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727534882
    },
    {
        "content": "<p>Greedy approximates within a factor of 2 though, right? Which is enough to reduce runtime from quadratic to linear</p>",
        "id": 473355467,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1727534991
    },
    {
        "content": "<p>Also a Hamiltonian cycle would not be the easiest in some cases, e.g. it's very efficient to prove implications to/from Eq2</p>",
        "id": 473355660,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1727535102
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473355342\">said</a>:</p>\n<blockquote>\n<p>Because implications are transitively closed, I'm quite sure you can compute the condensation graph and then run transitive reduction on it</p>\n</blockquote>\n<p>Yes this is what I do, but what wikipedia notes is that when you uncondense to get the minimimal graph you need to find a hamiltonian in the SCCs which is what is hard, unless I'm misunderstanding</p>",
        "id": 473355668,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727535108
    },
    {
        "content": "<p>Realistically, I think someone could write something that does this in a reasonable time given this data set size, I just used an approximate method to get around the hamiltonian calculation, hence, not providing a true lower bound.</p>",
        "id": 473355768,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727535179
    },
    {
        "content": "<p>Oh, there can be cases where your brute force proves <code>a -&gt; b</code> and <code>b -&gt; c</code> but not <code>a -&gt; c</code>? You could always prove it by combining implications, but I guess that does somewhat remove the benefit of taking a transitive closure</p>",
        "id": 473355885,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727535279
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473355885\">said</a>:</p>\n<blockquote>\n<p>Oh, there can be cases where your brute force proves <code>a -&gt; b</code> and <code>b -&gt; c</code> but not <code>a -&gt; c</code>? You could always prove it by combining implications, but I guess that does somewhat remove the benefit of taking a transitive closure</p>\n</blockquote>\n<p>Yes, I was surprised by this as well actually and had not taken it into account, and then found that I had edges in my reduction that weren't in my original graph!</p>",
        "id": 473355957,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727535328
    },
    {
        "content": "<p>Interesting, do you happen to have a small example?</p>",
        "id": 473356046,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727535368
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473356046\">said</a>:</p>\n<blockquote>\n<p>Interesting, do you happen to have a small example?</p>\n</blockquote>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>[4379, 4377, 4373, 4372, 4368, 4366, 4365] form a cycle<br>\negrep -e \"^(4379|4377|4373|4372|4368|4366|4365),(4379|4377|4373|4372|4368|4366|4365)\" IMPLICATION_*<br>\nIMPLICATION_apply_h.csv:4368,4365<br>\nIMPLICATION_apply_h.csv:4368,4366<br>\nIMPLICATION_apply_h.csv:4373,4372<br>\nIMPLICATION_apply_h.csv:4377,4365<br>\nIMPLICATION_apply_h.csv:4379,4365<br>\nIMPLICATION_apply_h.csv:4379,4366<br>\nIMPLICATION_apply_h.csv:4379,4368<br>\nIMPLICATION_apply_h.csv:4379,4372<br>\nIMPLICATION_apply_h.csv:4379,4373<br>\nIMPLICATION_apply_h.csv:4379,4377<br>\nIMPLICATION_repeated_rw.csv:4365,4366<br>\nIMPLICATION_repeated_rw.csv:4365,4368<br>\nIMPLICATION_repeated_rw.csv:4365,4372<br>\nIMPLICATION_repeated_rw.csv:4365,4373<br>\nIMPLICATION_repeated_rw.csv:4365,4377<br>\nIMPLICATION_repeated_rw.csv:4365,4379<br>\nIMPLICATION_repeated_rw.csv:4366,4365<br>\nIMPLICATION_repeated_rw.csv:4366,4368<br>\nIMPLICATION_repeated_rw.csv:4366,4372<br>\nIMPLICATION_repeated_rw.csv:4366,4373<br>\nIMPLICATION_repeated_rw.csv:4366,4377<br>\nIMPLICATION_repeated_rw.csv:4366,4379<br>\nIMPLICATION_repeated_rw.csv:4372,4365<br>\nIMPLICATION_repeated_rw.csv:4372,4366<br>\nIMPLICATION_repeated_rw.csv:4372,4368<br>\nIMPLICATION_repeated_rw.csv:4372,4373<br>\nIMPLICATION_repeated_rw.csv:4372,4377<br>\nIMPLICATION_repeated_rw.csv:4372,4379<br>\nIMPLICATION_repeated_rw.csv:4373,4366<br>\nIMPLICATION_repeated_rw.csv:4377,4372<br>\nIMPLICATION_repeated_rw.csv:4379,4365<br>\nIMPLICATION_repeated_rw.csv:4379,4366<br>\nIMPLICATION_repeated_rw.csv:4379,4368<br>\nIMPLICATION_repeated_rw.csv:4379,4372<br>\nIMPLICATION_repeated_rw.csv:4379,4373<br>\nIMPLICATION_repeated_rw.csv:4379,4377<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4365,4366<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4365,4368<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4365,4372<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4365,4373<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4365,4377<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4365,4379<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4366,4365<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4366,4368<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4366,4372<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4366,4373<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4366,4377<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4366,4379<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4368,4365<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4368,4366<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4372,4365<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4372,4366<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4372,4368<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4372,4373<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4372,4377<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4372,4379<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4373,4372<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4377,4365<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4379,4365<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4379,4366<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4379,4368<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4379,4372<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4379,4373<br>\nIMPLICATION_repeated_rw_no_left_sym.csv:4379,4377</p>\n<p>but note that I only have 30 implications between them, not 7^2=49<br>\negrep -e \"^(4379|4377|4373|4372|4368|4366|4365),(4379|4377|4373|4372|4368|4366|4365)\" IMPLICATION_* | cut -d ':' -f 2 |sort -u | wc -l<br>\n      30</p>\n</div></div>",
        "id": 473356335,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727535613
    },
    {
        "content": "<p>I've marked <a href=\"https://github.com/teorth/equational_theories/pull/54\">https://github.com/teorth/equational_theories/pull/54</a> as ready for review. One thing I did not do here, is delete other theorems subsumed by these implications, e.g. in Subgraph.lean or other auto-generated implications. Should I? It would reduce the size of the repo, especially by making use of the transitive reduction, but I'm not sure if that's kosher or desirable. Input is welcome.</p>",
        "id": 473368447,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727544976
    },
    {
        "content": "<p>Which proof is \"canonical\"? On one hand \"uses fewer proof techniques\" is nice, on the other \"simplest method to prove A=&gt;B\" is nice.</p>",
        "id": 473371375,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727547161
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761294\">Nicholas Carlini</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473371375\">said</a>:</p>\n<blockquote>\n<p>Which proof is \"canonical\"? On one hand \"uses fewer proof techniques\" is nice, on the other \"simplest method to prove A=&gt;B\" is nice.</p>\n</blockquote>\n<p>Agreed. For these trivial proofs though, they are mostly functionally identical (all these proofs are just trivial rewrites.)</p>",
        "id": 473371567,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727547332
    },
    {
        "content": "<p>Yeah, it would just be good to have a way to do this that's semi-standard for future cases. I imagine, for example, that there will exist some powerful techniques that can prove things you could prove easier ways, and I don't know which should be the one that's retained for each method.</p>",
        "id": 473371710,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727547420
    },
    {
        "content": "<p>I think if the manual proof is functionally identical to the automated proof then it would be fine (though not obligatory) to remove the manual proof and import the automated proof instead.  This may complicate some future tooling a little bit though - for instance, if one wanted to use a tool to visualize all the implications between the equations studied in <code>Subgraph.lean</code>, and <code>Subgraph.lean</code> imports a massive generated file that mentions thousands of other equations, one would still only like to see the implications that came from the original file <code>Subgraph.lean</code>.  But perhaps some suitable options can be set in such tools to allow this.  EDIT: I guess the thing to do is allow for an option in such tools to restrict attention to the equations in <code>Equations.lean</code> (or some other specified set), regardless of how many lean files one imports.</p>\n<p>On the other hand, as the subgraph gets larger, and the fraction of implications that are automatically verified increases, we certainly want to take advantage of the automation to make the human verification tasks easier.  After all that's one of the major goals of this project, to figure out how to get humans and automated tools to work together smoothly!</p>",
        "id": 473374898,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727549666
    },
    {
        "content": "<p>Hmm, on the CI I'm getting a stack overflow: <a href=\"https://github.com/teorth/equational_theories/actions/runs/11086264732/job/30803611966?pr=54\">https://github.com/teorth/equational_theories/actions/runs/11086264732/job/30803611966?pr=54</a> Perhaps Apply.lean, ~40k LOC is too large, I will try splitting it and see</p>",
        "id": 473376847,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727550270
    },
    {
        "content": "<p>I reran the build. It shouldn't fail because I am building the same subproject successfully in another CI run for a different PR</p>",
        "id": 473376913,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727550338
    },
    {
        "content": "<p>I'm not sure I understand, it's failing in my newly submitted code</p>",
        "id": 473376998,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727550371
    },
    {
        "content": "<p>oh then its different</p>",
        "id": 473377028,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727550406
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473374898\">said</a>:</p>\n<blockquote>\n<p>I think if the manual proof is functionally identical to the automated proof then it would be fine (though not obligatory) to remove the manual proof and import the automated proof instead.  This may complicate some future tooling a little bit though - for instance, if one wanted to use a tool to visualize all the implications between the equations studied in <code>Subgraph.lean</code>, and <code>Subgraph.lean</code> imports a massive generated file that mentions thousands of other equations, one would still only like to see the implications that came from the original file <code>Subgraph.lean</code>.  But perhaps some suitable options can be set in such tools to allow this.  EDIT: I guess the thing to do is allow for an option in such tools to restrict attention to the equations in <code>Equations.lean</code> (or some other specified set), regardless of how many lean files one imports.</p>\n<p>On the other hand, as the subgraph gets larger, and the fraction of implications that are automatically verified increases, we certainly want to take advantage of the automation to make the human verification tasks easier.  After all that's one of the major goals of this project, to figure out how to get humans and automated tools to work together smoothly!</p>\n</blockquote>\n<p>The mention of visualization made me think of something. In computing the transitive reduction of a large graph, I first need to 'condense' the graph, or combine all bi-implications (e.g. A-&gt;B-&gt;C-&gt;A) to a single node. This is exactly the operation we will have to do if we want to reduce the visualization size to make it comprehensible. However, even condensed, the current graph of the implications I am submitting has 3.6k vertices and 14k edges. That said, future additions could theoretically further increase the size of the strongly connected components and reduce the condensed graph size.</p>",
        "id": 473377223,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727550578
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473377223\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473374898\">said</a>:</p>\n<blockquote>\n<p>I think if the manual proof is functionally identical to the automated proof then it would be fine (though not obligatory) to remove the manual proof and import the automated proof instead.  This may complicate some future tooling a little bit though - for instance, if one wanted to use a tool to visualize all the implications between the equations studied in <code>Subgraph.lean</code>, and <code>Subgraph.lean</code> imports a massive generated file that mentions thousands of other equations, one would still only like to see the implications that came from the original file <code>Subgraph.lean</code>.  But perhaps some suitable options can be set in such tools to allow this.  EDIT: I guess the thing to do is allow for an option in such tools to restrict attention to the equations in <code>Equations.lean</code> (or some other specified set), regardless of how many lean files one imports.</p>\n<p>On the other hand, as the subgraph gets larger, and the fraction of implications that are automatically verified increases, we certainly want to take advantage of the automation to make the human verification tasks easier.  After all that's one of the major goals of this project, to figure out how to get humans and automated tools to work together smoothly!</p>\n</blockquote>\n<p>The mention of visualization made me think of something. In computing the transitive reduction of a large graph, I first need to 'condense' the graph, or combine all bi-implications (e.g. A-&gt;B-&gt;C-&gt;A) to a single node. This is exactly the operation we will have to do if we want to reduce the visualization size to make it comprehensible. However, even condensed, the current graph of the implications I am submitting has 3.6k vertices and 14k edges. That said, future additions could theoretically further increase the size of the strongly connected components and reduce the condensed graph size.</p>\n</blockquote>\n<p>With more implications I presume this will become a more interesting graph, for now it's still fairly chaotic. Squares are single equations, circles are strongly connected components, and the ones filled-in green are from Subgraph.lean<br>\n<a href=\"/user_uploads/3121/60U0P8Q2OVRRku8-VP4d6hMC/output.svg\">output.svg</a></p>",
        "id": 473387608,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727559647
    },
    {
        "content": "<p>Nice image!  You could upload it to the images folder and maybe add a link to it in README.md.  At some point we may have a whole gallery of visuals, but for now anything is better than nothing.</p>",
        "id": 473387712,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727559728
    },
    {
        "content": "<p>(I am looking forward to the \"eye candy\" phase of the project.)</p>",
        "id": 473387757,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727559790
    },
    {
        "content": "<p>I improve generate_image.py to be able include implications from all lean files, including generated one. Does that interesting enough to submit?</p>",
        "id": 473448276,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727615692
    },
    {
        "content": "<p>I think that's good, although it might be better to edit it to process the output of <code>extract_implications.lean</code>, to have the code responsible for that concentrated (in <a href=\"https://github.com/teorth/equational_theories/pull/102\">equational#102</a> I modify it to process multiple files, and after <a href=\"https://github.com/teorth/equational_theories/pull/29\">equational#29</a> is done it will also compute the transitive closure)</p>",
        "id": 473448501,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727615870
    },
    {
        "content": "<p>Seems to be I’m slightly behind all the time. Will take a look at your PRs to better understand how it’s done in Lean</p>",
        "id": 473449013,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727616316
    },
    {
        "content": "<p>Here the two pictures which I have </p>\n<ul>\n<li>All direct theorems <a href=\"/user_uploads/3121/nGwxfUb2VhLbambG7RpHTD5t/All.png\">All.png</a><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/nGwxfUb2VhLbambG7RpHTD5t/All.png\" title=\"All.png\"><img data-original-dimensions=\"4694x4694\" src=\"/user_uploads/thumbnail/3121/nGwxfUb2VhLbambG7RpHTD5t/All.png/840x560.webp\"></a></div></li>\n<li>Transitive closure of all existing work. <br>\n<a href=\"/user_uploads/3121/u6lesPKc0sa8hsostzDbqh-a/All_closure.png\">All_closure.png</a><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/u6lesPKc0sa8hsostzDbqh-a/All_closure.png\" title=\"All_closure.png\"><img data-original-dimensions=\"4694x4694\" src=\"/user_uploads/thumbnail/3121/u6lesPKc0sa8hsostzDbqh-a/All_closure.png/840x560.webp\"></a></div></li>\n</ul>",
        "id": 473456123,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727621674
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/pJjzeA5RGWTetDELWu3O_NjX/image.png\">image.png</a><br>\nThese are interesting patterns. What is the order? Simply the numbers of the equations?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/pJjzeA5RGWTetDELWu3O_NjX/image.png\" title=\"image.png\"><img data-original-dimensions=\"803x784\" src=\"/user_uploads/thumbnail/3121/pJjzeA5RGWTetDELWu3O_NjX/image.png/840x560.webp\"></a></div>",
        "id": 473456190,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727621758
    },
    {
        "content": "<p>Yes, it is number of the equations,</p>",
        "id": 473457009,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727622364
    },
    {
        "content": "<p>Beautiful :-)</p>",
        "id": 473459489,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727624288
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"709598\">@Andrii Kurdiumov</span> Cool! It would be interesting to graph non-implications too, though there are not currently many upstream in the repo, I could point you to where you could generate a huge number of them easily</p>",
        "id": 473459669,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727624422
    },
    {
        "content": "<p>I assume the long lines across are the Eq 2 cluster, but no idea what the other visible structure is</p>",
        "id": 473459720,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727624463
    },
    {
        "content": "<p>Given that you guys love pictures. You can see how different methods of generated proving have structures.</p>\n<p><a href=\"/user_uploads/3121/aIdOUmamOuMgojRqquJIlzol/RewriteHypothesis.png\">RewriteHypothesis.png</a><br>\n<a href=\"/user_uploads/3121/cxXHyI1KNPqs4PmEuFspmSFM/RewriteHypothesisAndGoal.png\">RewriteHypothesisAndGoal.png</a><br>\n<a href=\"/user_uploads/3121/kVB3jpATVpBLJMoarFkR6QuY/Apply.png\">Apply.png</a><br>\n<a href=\"/user_uploads/3121/7aCOWnQUqP8dG1Lfmee7ZV5R/Apply2.png\">Apply2.png</a><br>\n<a href=\"/user_uploads/3121/lfvUj0fMtXC-33zQlsN_LGhF/RewriteGoal.png\">RewriteGoal.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/aIdOUmamOuMgojRqquJIlzol/RewriteHypothesis.png\" title=\"RewriteHypothesis.png\"><img data-original-dimensions=\"4694x4694\" src=\"/user_uploads/thumbnail/3121/aIdOUmamOuMgojRqquJIlzol/RewriteHypothesis.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/cxXHyI1KNPqs4PmEuFspmSFM/RewriteHypothesisAndGoal.png\" title=\"RewriteHypothesisAndGoal.png\"><img data-original-dimensions=\"4694x4694\" src=\"/user_uploads/thumbnail/3121/cxXHyI1KNPqs4PmEuFspmSFM/RewriteHypothesisAndGoal.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/kVB3jpATVpBLJMoarFkR6QuY/Apply.png\" title=\"Apply.png\"><img data-original-dimensions=\"4582x4582\" src=\"/user_uploads/thumbnail/3121/kVB3jpATVpBLJMoarFkR6QuY/Apply.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/7aCOWnQUqP8dG1Lfmee7ZV5R/Apply2.png\" title=\"Apply2.png\"><img data-original-dimensions=\"4694x4694\" src=\"/user_uploads/thumbnail/3121/7aCOWnQUqP8dG1Lfmee7ZV5R/Apply2.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/lfvUj0fMtXC-33zQlsN_LGhF/RewriteGoal.png\" title=\"RewriteGoal.png\"><img data-original-dimensions=\"4671x4671\" src=\"/user_uploads/thumbnail/3121/lfvUj0fMtXC-33zQlsN_LGhF/RewriteGoal.png/840x560.webp\"></a></div>",
        "id": 473461916,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727626079
    },
    {
        "content": "<p>It's barely visible in some cases, but still quite entertaining</p>",
        "id": 473462163,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727626127
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> non-implications displayed in red, but there so small of them, so they are almost invisible. If you have something else in mind, let me know, I can take a look</p>",
        "id": 473462575,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727626224
    },
    {
        "content": "<p>Are you also computing the closure of non-implications, or only of implications?</p>",
        "id": 473462710,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727626256
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"709598\">Andrii Kurdiumov</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473462575\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> non-implications displayed in red, but there so small of them, so they are almost invisible. If you have something else in mind, let me know, I can take a look</p>\n</blockquote>\n<p>I hope I’ll get to add plenty very soon :-)</p>",
        "id": 473467489,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727628255
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> just for the record. I only maintain script I would say. Originaly it was written not by me, I just happen to be interested in results. </p>\n<p>Yes, for now only closure for implications calculated. I thinking about non-impovations but do not do it. Maybe that’s would be next step</p>",
        "id": 473469137,
        "sender_full_name": "Andrii Kurdiumov",
        "timestamp": 1727629627
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"709598\">Andrii Kurdiumov</span> <a href=\"#narrow/stream/458659-Equational/topic/Solving.20~20.25.20of.20all.20cases.20by.20brute.20force/near/473462575\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> non-implications displayed in red, but there so small of them, so they are almost invisible. If you have something else in mind, let me know, I can take a look</p>\n</blockquote>\n<p>There's a way to calculate the ones Joachim will add, but if Joachim thinks his change will land soon, probably better to just wait for it</p>",
        "id": 473469238,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727629723
    },
    {
        "content": "<p>any idea if these matrix patterns can be derived/proven? do they have random outliers?</p>",
        "id": 473492981,
        "sender_full_name": "Jared green",
        "timestamp": 1727646014
    },
    {
        "content": "<p>Are these images already based on the output of <code>extract_implications</code>? If so, then on <a href=\"https://github.com/teorth/equational_theories/pull/130\">https://github.com/teorth/equational_theories/pull/130</a> you’ll have a few more anti-implications to display.</p>",
        "id": 473667442,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727689796
    }
]