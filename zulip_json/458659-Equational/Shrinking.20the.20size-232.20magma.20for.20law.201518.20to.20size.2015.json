[
    {
        "content": "<p>Some time back, at <a class=\"message-link\" href=\"/#narrow/channel/458659-Equational/topic/Austin.20pairs/near/485737304\">#Equational &gt; Austin pairs @ ðŸ’¬</a>, <span class=\"user-mention\" data-user-id=\"657719\">@Terence Tao</span> found a 522-element magma satisfying law 1518 <code>x = (yâ—‡y) â—‡ (xâ—‡(yâ—‡x))</code> but not 47 <code>x = xâ—‡(xâ—‡(xâ—‡x))</code> and some other single variable laws (817, â€¦), then he reduced it to size 232, small enough for Lean verification.</p>\n<p>In a finite magma satisfying 1518, the squaring map <code>S:x â†¦ xâ—‡x</code> is bijective and left multiplications are bijective.  Under these conditions, the various single-variable laws of interest (47, 817, â€¦) are all equivalent to each other and to <code>S(S(S(x))) = x</code> so clearly the cycle lengths of <code>S</code> are important.  Playing around with partial models I found that many of them were consistent with <code>S</code> being an automorphism.  Lo and behold, the very simple Mace4 script</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">assign</span><span class=\"o\">(</span><span class=\"n\">selection_measure</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">formulas</span><span class=\"o\">(</span><span class=\"n\">sos</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n<span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">=</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"mi\">0</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"bp\">*</span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">!=</span><span class=\"mf\">0.</span>\n<span class=\"n\">end_of_list</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>provides a <a href=\"https://teorth.github.io/equational_theories/fme/?magma=1%2012%2013%207%202%209%204%208%203%2014%205%200%206%2010%2011%0A1%202%2013%2014%208%203%2010%205%209%204%2012%206%200%207%2011%0A7%202%203%2014%2012%209%204%2011%206%2010%205%2013%200%201%208%0A14%208%203%204%2012%2013%2010%205%200%207%2011%206%209%201%202%0A7%2012%209%204%205%2013%2014%2011%206%201%208%200%203%2010%202%0A1%208%2013%2010%205%206%2014%2012%200%207%202%209%203%204%2011%0A10%202%209%2014%2011%206%207%2012%2013%201%208%203%200%204%205%0A4%2011%203%2010%2012%200%207%208%2013%2014%202%209%206%201%205%0A10%205%200%204%2011%2013%201%208%209%2014%2012%203%206%207%202%0A4%2011%206%201%205%200%2014%202%209%2010%2012%2013%203%207%208%0A14%205%200%207%202%206%201%2012%203%2010%2011%2013%209%204%208%0A14%2012%206%201%208%203%207%202%2013%204%2011%200%209%2010%205%0A4%2011%209%207%202%200%2010%205%203%201%208%206%2013%2014%2012%0A7%205%200%2010%208%203%201%2011%206%204%202%209%2013%2014%2012%0A10%208%206%201%2011%209%204%202%200%207%205%203%2013%2014%2012\">15-element magma</a> that nicely replaces the previous huge magma, refuting 1518â†’47 and friends.  A separate mace4 run with no conditions shows that there is no countermodel of 1518â†’47 of size â‰¤13, so size 15 is close to optimal.</p>",
        "id": 545135712,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1760566521
    },
    {
        "content": "<p>Does that now make the order <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>65</mn></mrow><annotation encoding=\"application/x-tex\">65</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">65</span></span></span></span> model for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1076</mn><mo>â†’</mo><mn>2294</mn></mrow><annotation encoding=\"application/x-tex\">1076 \\to 2294</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1076</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2294</span></span></span></span> the current largest used finite magma in the project?</p>",
        "id": 545154446,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1760580119
    },
    {
        "content": "<p>Great find! Shall we replace the size 232 magma in the repo with this one? It seems like a reasonable thing to do--I don't know if we care to replace every finite counterexample magma with smaller versions but replacing a computationally intensive one seems like a definite improvement.</p>",
        "id": 545177664,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1760594971
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> I made a pull request shortly before posting here, sorry I forgot to mention it.  It is now merged to main.</p>\n<p><span class=\"user-mention\" data-user-id=\"771090\">@Matthew Bolan</span> Yes, the next biggest is the one you mention.  It seems to come from some cohomological construction so there is some chance that it is optimal, probably not worth seeking a smaller example.</p>",
        "id": 545182714,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1760596664
    },
    {
        "content": "<p>Let me document here how I ruled out models of sizes â‰¤13 for not(1518â†’47).  It's not a naive Mace4 run, which would be too slow.  We are seeking a finite countermodel so it is useful to work out consequences of 1518+finiteness.  Law 1518 implies <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>L</mi><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">L_{S(y)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span></span></span></span> surjective, hence bijective (by finiteness).  Law 1518 also implies <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>â‹„</mo><mi>x</mi><mo>=</mo><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">S(x)\\diamond x = S(x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹„</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span> so if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>S</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">S(x)=S(y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span></span></span></span> we find <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>â‹„</mo><mi>x</mi><mo>=</mo><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>S</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>S</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>â‹„</mo><mi>y</mi><mo>=</mo><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>â‹„</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">S(x)\\diamond x=S(x)=S(y)=S(y)\\diamond y=S(x)\\diamond y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹„</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹„</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹„</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> which by bijectivity of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>L</mi><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">L_{S(x)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span></span></span></span> yields <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">x=y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span>.  Therefore, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> is injective hence bijective.  Since every element is a square, bijectivity of left multiplications <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>L</mi><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">L_{S(y)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span></span></span></span> becomes bijectivity of all left multiplications.</p>\n<p>Here is a Mace4 input file that takes around a minute to rule out sizes up to 12 and an hour for size 13, presumably 5 days for size 14 given the observed scaling.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">assign</span><span class=\"o\">(</span><span class=\"n\">selection_order</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">assign</span><span class=\"o\">(</span><span class=\"n\">selection_measure</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">formulas</span><span class=\"o\">(</span><span class=\"n\">sos</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"bp\">=</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">=</span><span class=\"n\">z</span><span class=\"bp\">.</span>\n<span class=\"n\">S</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"bp\">.</span>\n<span class=\"n\">S</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">=</span><span class=\"n\">S</span><span class=\"o\">(</span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">=</span><span class=\"n\">z</span><span class=\"bp\">.</span>\n<span class=\"n\">end_of_list</span><span class=\"bp\">.</span>\n<span class=\"n\">formulas</span><span class=\"o\">(</span><span class=\"n\">goals</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"mi\">0</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"bp\">*</span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">=</span><span class=\"mf\">0.</span>\n<span class=\"n\">end_of_list</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 546123333,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1761006351
    },
    {
        "content": "<p>Since <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>L</mi><mrow><mi>S</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></mrow></msub></mrow><annotation encoding=\"application/x-tex\">L_{S(y)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0385em;vertical-align:-0.3552em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.5198em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3552em;\"><span></span></span></span></span></span></span></span></span></span> is bijective, we can substitute <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>â†’</mo><mo stretchy=\"false\">(</mo><mi>y</mi><mo>âˆ—</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>âˆ—</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x\\to (y*y)*x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†’</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> then cancel <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>y</mi><mo>âˆ—</mo><mi>y</mi></mrow><annotation encoding=\"application/x-tex\">y*y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6597em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ—</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span></span></span></span> on the left to get the additional Austin consequence</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"o\">((</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>Putting this one together with the others you mentioned, we get size 12 in 2.5s and size 13 in 94s. Size 14 is running right now :)</p>",
        "id": 546158690,
        "sender_full_name": "Jose Brox",
        "timestamp": 1761031027
    },
    {
        "content": "<p>Size 14 exhausted in 6700s (less than 2h).</p>\n<p>This confirms that <span class=\"user-mention\" data-user-id=\"773643\">@Bruno Le Floch</span>'s model for 1518 anti 47 has <strong>minimum size 15</strong>.</p>\n<p>Here is the Mace4 script for completeness:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">no</span>\n<span class=\"bp\">%</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">0.1</span><span class=\"n\">s</span>\n<span class=\"bp\">%</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">2.5</span><span class=\"n\">s</span>\n<span class=\"bp\">%</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">94</span><span class=\"n\">s</span>\n<span class=\"bp\">%</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">6700</span><span class=\"n\">s</span>\n\n<span class=\"n\">formulas</span><span class=\"o\">(</span><span class=\"n\">sos</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">label</span><span class=\"o\">(</span><span class=\"mi\">1518</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"o\">((</span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">label</span><span class=\"o\">(</span><span class=\"mi\">1518</span><span class=\"n\">finiteconsequence</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">=</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">label</span><span class=\"o\">(</span><span class=\"n\">leftmultinjective</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">*</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">y</span><span class=\"w\">  </span><span class=\"bp\">#</span><span class=\"n\">label</span><span class=\"o\">(</span><span class=\"n\">squaringinjective</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">end_of_list</span><span class=\"bp\">.</span>\n<span class=\"n\">formulas</span><span class=\"o\">(</span><span class=\"n\">goals</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">x</span><span class=\"bp\">=</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">label</span><span class=\"o\">(</span><span class=\"mi\">47</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"n\">end_of_list</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 546186912,
        "sender_full_name": "Jose Brox",
        "timestamp": 1761039528
    },
    {
        "content": "<p>For what it's worth, after around one CPU-week, Jose got a list of all countermodels of size 15.  There are <a href=\"/user_uploads/3121/vMTI3p_n9s1d8St_n2Fb-otV/1518-anti-47-models-size-15-out.txt\">6 non-isomorphic countermodels</a>.  For all of them the squaring map has a 12-cycle and either a 3-cycle or three fixed points.  These last three elements always form a submagma <code>NâŠ‚M</code>.  For all six countermodels there is a bijection <code>f</code> of order 12 (the order-12 cycle of the squaring map, plus an order-3 cyclic permutation of the last three elements) such that <code>f(xâ—‡y)=f(x)â—‡f(y)</code> for all pairs <code>(x,y)âˆ‰NÂ²</code>.  In particular all of them have at least â„¤/4â„¤ symmetry.</p>",
        "id": 547744137,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1761750949
    },
    {
        "content": "<p>For reference, here is a list of all of the large finite counterexamples (size â‰¥14) we use (in files with names <code>equational_theories/Generated/All4x4Tables/Refutation*.lean</code>).  I've indicated \"(cohom)\" for those obtained by the cohomological method, namely linear extensions of base models (themselves typically linear).</p>\n<ul>\n<li>\n<p>A quasigroup of size 65 (cohom) that satisfies E1076 and refutes implications to E2294, E4435.</p>\n</li>\n<li>\n<p>A left quasigroup of size 36 (cohom) that satisfies E1, E411, E503, and no other law of order up to 4.  The left quasigroup obtained by changing â—‡ to its left-division operation (cohom) satisfies E1, E411, E476, E3862 instead, and no other law of order up to 4.</p>\n</li>\n<li>\n<p>A quasigroup of size 35 (cohom) that satisfies E1516 and a few single-variable laws, and is used to refute the implication to E1489.</p>\n</li>\n<li>\n<p>A magma of size 32 satisfying E1485 but not E151, E1427, E1429, E2087, E2124, E3456, E3862.  Obtained by the twisting semigroup technique, from 5 copies of the NAND magma.</p>\n</li>\n<li>\n<p>A quasigroup of size 25 (cohom) refuting the implication from E1110 to E1629. (It was the second cohomological construction, after an E879 magma of size 12.)</p>\n</li>\n<li>\n<p>A magma of size 24 refuting the implication from E854 to E1045.  A magma of size 21 refuting the implication from E854 to E3316, E3925.  A magma of size 19 refuting the implication from E854 to E413.</p>\n</li>\n<li>\n<p>A magma of size 21 refuting the implication from E1486 to E3862.  Another magma of size 21 refuting the implications from E1486 to E151 and many others.  Another one refuting the implications from E2126 to E151 and many others.  Even though E1486 and E2126 are dual to each other, the magmas being used there are not opposite magmas.  As I remember it, size 21 models of E1486 are very flexible.</p>\n</li>\n<li>\n<p>A magma of size 17 whose left and right cosets all have 10 elements, satisfying E3545 and its obvious consequences but no other law of order â‰¤4.  Also its opposite magma.  This appears to be the <strong>largest found purely by an ATP</strong>, specifically Vampire: see <a href=\"https://github.com/teorth/equational_theories/commit/5e30571e998e54cf101a8fe5f43afb501ad91e27\">https://github.com/teorth/equational_theories/commit/5e30571e998e54cf101a8fe5f43afb501ad91e27</a></p>\n</li>\n<li>\n<p>The left quasigroup of size 15 discussed here (with right cosets of size 5) refuting implications from E1518 to E47 etc.</p>\n</li>\n</ul>",
        "id": 553975656,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762382658
    },
    {
        "content": "<p>Schematically, the largest models are cohomological models and the E1485 twisted semigroup model that are human-understandable, then some complicated models of the flexible laws E854 and E1486 obtained by a combination of humans and ATPs, and then some models of sizes 17 and 15 found by ATPs.</p>",
        "id": 553978642,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762384285
    },
    {
        "content": "<p>A small comment, but the order 12 refutation of E879 to E4065 at  <a class=\"message-link\" href=\"/#narrow/channel/458659-Equational/topic/Austin.20pairs/near/484838720\">#Equational &gt; Austin pairs @ ðŸ’¬</a> is certainly a cohomological construction, and predates the example refuting E1110 to E1629</p>",
        "id": 553979054,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1762384553
    },
    {
        "content": "<p>Thanks for the correction!  The E879 came up 12 hours before the E1110 model, I hadn't scrolled up high enough in the conversation.</p>",
        "id": 554070377,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762430184
    },
    {
        "content": "<p>The 17-element magma obeying E3545 and its consequences but no other law is confusing me, because it was found by Vampire, but it is not of minimal size.  There is actually a <a href=\"https://teorth.github.io/equational_theories/fme/?magma=1%203%201%200%200%209%202%200%204%2010%2011%205%205%20%0A2%205%203%204%200%207%205%200%200%206%201%208%208%20%0A0%204%201%201%200%205%203%202%200%209%2010%2011%2011%20%0A0%200%200%201%201%2011%204%203%202%205%209%2010%2010%20%0A1%202%200%200%201%2010%200%204%203%2011%205%209%209%20%0A10%206%209%205%2011%200%207%208%201%200%200%200%200%20%0A0%200%202%203%204%208%205%205%200%207%206%201%201%20%0A4%200%200%202%203%201%200%205%205%208%207%206%206%20%0A3%205%204%200%202%206%200%200%205%201%208%207%207%20%0A11%201%2010%209%205%200%206%207%208%200%200%200%200%20%0A5%208%2011%2010%209%200%201%206%207%200%200%200%200%20%0A9%207%205%2011%2010%200%208%201%206%200%200%200%200%20%0A9%207%205%2011%2010%200%208%201%206%200%200%200%200\">13-element magma</a> with the same properties found instantaneously by Mace4, and for individual implications 12 elements is enough.</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Mace4 code for 3545</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\"><pre><span></span><code>assign(selection_measure, 1).\nformulas(sos).\nx*y=y*((x*x)*x) #label(3545).\nend_of_list.\nformulas(goals).\nx*x=(x*(x*x))*x #label(3862).\nx=(x*(x*x))*(x*x) #label(1832).\nend_of_list.\n</code></pre></div>\n</div></div>",
        "id": 554071199,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762430441
    },
    {
        "content": "<p>The 21-element models of E1486 are only useful to refute E3862, E3877, E3918, E3955, E3993 (which all imply E3862).  For all other non-implications from E1486 there is a <a href=\"https://teorth.github.io/equational_theories/fme/?magma=1%202%203%202%202%208%208%203%203%208%209%20%0A1%201%200%200%206%206%201%206%200%208%207%20%0A1%201%203%204%204%204%201%203%203%208%209%20%0A1%202%207%202%202%208%208%207%200%208%207%20%0A1%205%203%204%204%204%205%203%203%205%209%20%0A1%201%209%209%206%206%201%206%200%208%209%20%0A1%205%207%204%204%204%205%207%200%205%207%20%0A10%202%207%202%202%2010%2010%207%200%208%207%20%0A1%205%209%209%206%206%205%206%203%205%209%20%0A10%202%203%202%202%2010%2010%203%203%205%209%20%0A1%205%200%200%206%206%205%206%200%205%207\">11-element countermodel</a>.</p>\n<p>EDIT: A 10min Mace4 run shows that there is no counterexample to the implication from E1486 to E3862 of size â‰¤14.</p>",
        "id": 554075314,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762431741
    },
    {
        "content": "<p>My recollection is that a lot of the larger vampire found models used to come from a large automated run Daniel Weber did, which used a modification of what Vampire does in its <code>casc_sat</code> mode, with parts not relevant for our case removed. That didn't try the sizes in order (I think it tries sizes 1-11, and then starts checking sizes more like 21), and would time out sizes after some time, so it very well could have missed a size 12 model.</p>",
        "id": 554103864,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1762439330
    },
    {
        "content": "<p>Ah, I think this discussion leads to a precise version of a question that was asked at some point, of \"how many finite magmas do we need for all finite anti-implications\".  For each E, what is the smallest magma satisfying E and that violates every E' (up to order 4) that isn't implied by E in finite models.  For E3545 my Mace4 runs show that the smallest such magma has size 13.  For E4 (projection) or E895 (Boolean group) it has size 2.</p>",
        "id": 554158813,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762452634
    },
    {
        "content": "<p>For lack of a better name, let me call \"N-perfect E countermodel\" a magma satisfying E (and its consequences of course), and no other law of order up to N.  Here are the laws for which we know the minimal-size one.  I only include lowest representatives of equivalence classes and duals.</p>\n<ul>\n<li>\n<p>4-perfect E1 countermodel: <a href=\"https://teorth.github.io/equational_theories/fme/?magma=1%202%202%0A2%202%201%0A0%202%201\">minimum size 3</a>;</p>\n</li>\n<li>\n<p>âˆž-perfect E2 countermodel: trivial magma since it has to obey E2 and every law;</p>\n</li>\n<li>\n<p>4-perfect E3 countermodel: <a href=\"https://teorth.github.io/equational_theories/fme/?magma=0%202%201%0A1%201%200%0A1%201%202\">minimum size 3</a>;</p>\n</li>\n<li>\n<p>âˆž-perfect E4 countermodel: xâ—‡y=x on a 2-element carrier;</p>\n</li>\n<li>\n<p>4-perfect E8 countermodel: <a href=\"https://teorth.github.io/equational_theories/fme/?magma=1%200%202%0A2%201%201%0A2%201%200\">minimum size 3</a></p>\n</li>\n<li>\n<p>4-perfect E9 countermodel: <a href=\"https://teorth.github.io/equational_theories/fme/?magma=0%202%200%202%0A1%201%201%200%0A2%203%202%202%0A1%203%201%203\">minimum size 4</a>, but I only checked by hand that the lists given by the Finite Magma Explorer for this magma and Equation Explorer for law 9 were the same so it's getting tedious and error-prone.</p>\n</li>\n<li>\n<p>4-perfect E879 countermodel: the size 12 cohomological magma showing that E879 does not imply E4065 is actually 4-perfect, and sizes â‰¤11 are ruled out by a 10h Mace4 run imposing bijectivity of left multiplications.</p>\n</li>\n<li>\n<p>âˆž-perfect E895 countermodel: (â„¤/2â„¤,+).</p>\n</li>\n<li>\n<p>4-perfect E1518 countermodel: five models of size 15, in <a href=\"#narrow/channel/458659-Equational/topic/Shrinking.20the.20size-232.20magma.20for.20law.201518.20to.20size.2015/near/547744137\">Jose's list above</a> they are the first four models and the last one.</p>\n</li>\n<li>\n<p>4-perfect E3545 countermodel: size 13 is minimal, basically one of the non-implications requires a size 12 model, which is almost 4-perfect except for that it obeys one law that it shouldn't; adding one more element fixes that.</p>\n</li>\n</ul>\n<p>I should not explore this further, but at least the question seems to make sense and be solvable for many laws.</p>",
        "id": 554195623,
        "sender_full_name": "Bruno Le Floch",
        "timestamp": 1762465746
    }
]