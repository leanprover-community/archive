[
    {
        "content": "<p>It was pointed out in <a href=\"https://github.com/teorth/equational_theories/pull/175\">equational#175</a> that the finite magma (Z/6Z,+) could be used to rule out any implication in which the hypothesis has each variable occur the same number of times on both sides, but the conclusion does not.  This magma is not in the list of magmas of order up to 4 that we are already using to generate anti-implications, and scaling up to magmas of order 5 is computationally infeasible.  So perhaps what we should do is collect a list of \"interesting\" finite magmas of order larger than 4 that we could place in a text file that an automated script could run to prune the list of outstanding implications.  The first addition to this list would be (Z/6Z,+).  Are there any other small finite magmas that would plausibly be useful for anti-implications?  For instance, finite examples of central groupoids (Equation168) would be interesting additions.  I have created <a href=\"https://github.com/teorth/equational_theories/pull/180\">equational#180</a> for this, but in the meantime we could list interesting examples of finite magmas here.</p>",
        "id": 474142609,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727823905
    },
    {
        "content": "<p>The commutative magmas of order 5 might also be brute forceable especially if one quotients out by isomorphism</p>",
        "id": 474143861,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727824575
    },
    {
        "content": "<p>Another class of interest might be random magmas of order 5 that are idempotent, <code>x = x * x</code>, as these are more likely to obey certain classes of laws that involve idempotence than a completely random magma, and so would eliminate a different demographic of implications than the completely random ones.</p>",
        "id": 474191684,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727844732
    },
    {
        "content": "<p>Enumerating all 5x5 idempotent magmas might be beyond what my code can do currently (there are 5^20 idempotent magmas, 20,000x the size of all 4x4 magmas). I don't think it's completely beyond reach though: I have ideas for how to make my script at least 10x faster, maybe 100x. But not yet. (Random search, as you suggest, could still be interesting.)</p>\n<p>What is definitely possible to start with is enumerating all commutative magmas. That's just 5^15, only 7 times more than the number of 4x4 magmas. Going from all 3x3 magmas to all 4x4 magmas increased the number of refutations from 9.7m to 13.8m, so I have hope going to 5x5 will bring some nice gains.</p>",
        "id": 474200249,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727849437
    },
    {
        "content": "<p>Could your took also be used to investigate a specific 6x6 magma, running it on all equations? It seems that Terry would like to include specific magmas. So maybe your tool could have a variant where you give it one specific table?</p>",
        "id": 474209442,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727852099
    },
    {
        "content": "<p>It looks my rather crude lean command for exploring magma can handle (Z/6Z,+), with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">calculate_facts</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⟨</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">⟩</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span>\n</code></pre></div>\n<p>Will add this to <code>SmallMagmas.lean.</code></p>",
        "id": 474215738,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727853595
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/189\">https://github.com/teorth/equational_theories/pull/189</a>. Did not check if it contains any new antiimplications.</p>",
        "id": 474217242,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727853928
    },
    {
        "content": "<p>I checked previously and it will not, two of the polynomials from the FinitePoly refutation cover this one</p>",
        "id": 474219144,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1727854404
    },
    {
        "content": "<p>Hmm, ok. Still nice to have it in the small examples files, given that it’s a “natural” magma</p>",
        "id": 474220718,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727854880
    },
    {
        "content": "<p>Another natural magma class are the vector spaces F_2^n over the field of two elements, with the + operation.  Such spaces obey 1571 (the law of an abelian group of exponent 2) and a bunch of other related laws, but fail others.  Right now there are 579 implications out of 1571 that are open, so hopefully this class will close off a bunch of them, and maybe some other implications as well.</p>",
        "id": 474706088,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728004387
    },
    {
        "content": "<p>Another example is the 9-element \"non-natural central groupoid\" A_2 on <code>Fin 3 × Fin 3</code> from Knuth's paper <a href=\"https://www.sciencedirect.com/science/article/pii/S0021980070800321?ref=cra_js_challenge&amp;fr=RR-1\">https://www.sciencedirect.com/science/article/pii/S0021980070800321?ref=cra_js_challenge&amp;fr=RR-1</a> , which should create some antiimplications from 168.  First define a preliminary operation <code>*</code> on <code>Fin 3</code> by setting <code>x * 0 = 0, 0 * x = x, 1 * 1 = 2 * 1 = 2, 1 * 2 = 2 * 2 = 1</code>.  Then <code>(a,b) ◇ (c,d)</code> is defined to equal</p>\n<ul>\n<li><code>(b,c)</code> if c, d are non-zero;</li>\n<li><code>(b,e)</code> if <code>b*e=c</code> is non-zero and d is zero;</li>\n<li><code>(a*b,0)</code> if <code>c=0</code></li>\n</ul>\n<p>If I transcribed Knuth's example correctly, this should obey 168, but fail some of the 42 unknown implications from 168.  Knuth's paper has a few other 9-element magmas somewhat like this, which between them (and the positive results in that paper) should resolve all the remaining implications, I think.  I created <a href=\"https://github.com/teorth/equational_theories/pull/266\">equational#266</a> to execute this.</p>",
        "id": 474713758,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728008721
    },
    {
        "content": "<p>I'd be happy to try this but I can't quite parse the definition given here.</p>\n<p>What is  <code>(0,0) ◇ (1,0)</code>?</p>\n<p>The way I read what you wrote, since <code>d=0</code> and <code>c=1</code> is non-zero,  I should use the second case, <code>b=0</code> so the result should be <code>(0,e)</code> for some <code>e</code> such that <code>0*e=1</code>. But <code>0*e=0</code> holds always by the first clause in the preliminary definition. Where am I going wrong?</p>",
        "id": 474722165,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728012327
    },
    {
        "content": "<p>Oops, I had a typo, it should be <code>x*0=0</code> rather than <code>0*x=0</code>. Fixed now.</p>",
        "id": 474722722,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728012554
    },
    {
        "content": "<p>Thanks! Then we also need cases for <code>0*1</code> and <code>0*2</code>, right? Otherwise, <code>*</code> is partially defined.</p>",
        "id": 474723258,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728012788
    },
    {
        "content": "<p>I just checked Knuth's paper and there was a missing equation <code>0*x=x</code> as well that I had forgotten to add.  Hopefully now it is complete.</p>",
        "id": 474723460,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728012880
    },
    {
        "content": "<p>Okay, so the operation table of the preliminary operation is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"bp\">*|</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"c1\">--+-----</span>\n<span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>(or the other way around ;)</p>",
        "id": 474725300,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728013719
    },
    {
        "content": "<p>Is there a missing clause for diamond as well?</p>\n<p>E.g. what would be, say <code>ab ◇ 01</code>? Then <code>c=0</code>, <code>d=1</code>. The second and third clause do not apply. The first case cannot apply either since then we'd have <code>ab ◇ 01 = b0</code>, but then we'd have</p>\n<ol>\n<li><code>01 ◇ 10 = 12</code> since we're in case 2, <code>b=1</code>, <code>c=1</code> and <code>1*2=1</code>.</li>\n<li><code>10 ◇ 10 = 01</code> since we're in case 2, <code>b=0</code>, <code>c=1</code> and <code>0*1=1</code>,</li>\n<li><code>12 ◇ 01 = 20</code> by the above.</li>\n<li>This would contradict Eqn168: <code>x = (y ◇ x) ◇ (x ◇ z)</code> for<code> x=z=10, y=01</code>, since then <code>(01 ◇ 10) ◇ (10 ◇ 10)=12 ◇ 01=20</code> is not <code>10</code>.</li>\n</ol>\n<p>Sorry if the missing case follows easily from the paper, but I have a bit of trouble even finding the relevant section there, and you might know it off-hand.</p>",
        "id": 474728630,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728015073
    },
    {
        "content": "<p>The law is equation (6) in the paper (as well as the discussion of the A_2 matrix on page 386).  I see I made yet another typo: the final clause should be just c=0, not c=d=0, will edit now.</p>",
        "id": 474730135,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728015395
    },
    {
        "content": "<p>Yeah, that was my assumption, just wanted to double-check. Thanks!</p>",
        "id": 474730598,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728015500
    },
    {
        "content": "<p>Some preliminary results: I generated a multiplication table for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">A_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> (it indeed satisfies 168). Adding it to All4x4Tables settles 190 additional anti-implications. I've not yet checked which ones of the form <code>168=&gt;X</code> it refutes.</p>",
        "id": 474733566,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728016514
    },
    {
        "content": "<p>In case <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">A_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> does not resolve all implications, Knuth has six central groupoids <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><msub><mi>A</mi><mn>6</mn></msub></mrow><annotation encoding=\"application/x-tex\">A_1,\\dots,A_6</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">6</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> of order 9.  They are represented on pages 385-386 as 9 x 9 matrices with entries 0, 1.  The rule is that <code>i ◇ j = k</code> if the <code>(i,k)</code> and <code>(k,j)</code> entries of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> are both equal to 1 (the matrices are designed so this uniquely defines <code>k</code> from <code>i</code>, <code>j</code>).</p>",
        "id": 474734581,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728017375
    },
    {
        "content": "<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">A_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is a \"natural central groupoid\" and probably won't eliminate any further equations, if the discussion in Section 5 is any guide.</p>",
        "id": 474734867,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728017571
    },
    {
        "content": "<p>I have a formalisation of the free Central groupoid from later in that paper, which does resolve all the remaining implications from 168. It's currently all in mathlib language and notation, I'm working on converting it.</p>",
        "id": 474965357,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1728121755
    },
    {
        "content": "<p>Very nice (I was a bit behind on this, due to several other tasks involving All4x4Tables)! <br>\nI have a construction of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">A_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> itself in Lean, with a proof of isomorphism to its <code>Fin 9</code>-based multiplication table, but I'm not quite sure what to do with it or where to put it.</p>",
        "id": 474965852,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728122258
    },
    {
        "content": "<p>(never mind, misread the comment about mathlib)</p>",
        "id": 474965913,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728122310
    },
    {
        "content": "<p>That's the plan right now, yeah</p>",
        "id": 474965941,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1728122345
    },
    {
        "content": "<p>Since there is interest in small magmas for equations: Some days back I brute forced small magmas and one side product was this log showing the size of the smallest magma for each equation (if one exists with N&lt;=5): <a href=\"https://gist.github.com/few/f47af9e3d94c411a638f07ce1cf8727d\">https://gist.github.com/few/f47af9e3d94c411a638f07ce1cf8727d</a></p>",
        "id": 474966083,
        "sender_full_name": "Sebastian Luther",
        "timestamp": 1728122468
    },
    {
        "content": "<p>Nice!  I've added it to our (still very modest) data folder (and started a list in README to begin documenting this data).</p>",
        "id": 474984108,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728137044
    }
]