[
    {
        "content": "<p>The whole graph looks pretty similar to the last I produced one (<a href=\"https://raw.githubusercontent.com/teorth/equational_theories/refs/heads/main/images/implications_092824.svg?raw=true\">here</a>), but I just added some options to filter by number of variables and number of operations to see if the smaller graphs were interesting. For those that may be interested, here's some graphs in order of increasing complexity:<br>\n<a href=\"/user_uploads/3121/Gk3MvtBYb8XQZgcB95LYuAXr/graph_var2_op2.svg\">2 variables 2 operations</a><br>\n<a href=\"/user_uploads/3121/HnPglGosXTMOYi4ZoTUqoH6W/graph_var3_op2.svg\">3 variables 2 operations</a><br>\n<a href=\"/user_uploads/3121/QVfJi3FMiM3sM2-vunKqiq7U/graph_var2_op3.svg\">2 variables 3 operations</a><br>\n<a href=\"/user_uploads/3121/ufi2ACXfeuabZDIbPMcC3imp/graph_var3_op3.svg\">3 variables 3 operations</a></p>\n<p>I'll finish cleaning up the script to submit tomorrow.</p>",
        "id": 473883222,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727738510
    },
    {
        "content": "<p>How are these generated? Looking at the first graph, why is <code>x = x</code> not at the bottom? Why is it not in an equivalence class with <code>x ∘ x = x ∘ x</code>?</p>",
        "id": 473984676,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1727772305
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/458659-Equational/topic/Some.20more.20implication.20visualizations/near/473984676\">said</a>:</p>\n<blockquote>\n<p>How are these generated? Looking at the first graph, why is <code>x = x</code> not at the bottom? Why is it not in an equivalence class with <code>x ∘ x = x ∘ x</code>?</p>\n</blockquote>\n<p>Eq 1 is not included in the graph because it's not included in the output of <code>lake exe extract_implications</code>. Right we now we have proved Equation 1 is true, not that 1 implies Equation X (which is obviously true, but it's just not being picked up.) I could easily generate the individual theorems, but though it was unnecessary given theorem Equation1_true</p>",
        "id": 473985916,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727772709
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/stream/458659-Equational/topic/Some.20more.20implication.20visualizations/near/473985916\">said</a>:</p>\n<blockquote>\n<p>not that 1 implies Equation X</p>\n</blockquote>\n<p>The other direction, right?</p>",
        "id": 473986121,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727772763
    },
    {
        "content": "<p>Err, yes.</p>",
        "id": 473986225,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727772799
    },
    {
        "content": "<p>fyi: it is currently in the graph, just not in the right spot</p>",
        "id": 473986551,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1727772895
    },
    {
        "content": "<p>But I guess that holds for every node, since we could find/prove more implications between them.</p>",
        "id": 473986737,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1727772951
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/458659-Equational/topic/Some.20more.20implication.20visualizations/near/473986551\">said</a>:</p>\n<blockquote>\n<p>fyi: it is currently in the graph, just not in the right spot</p>\n</blockquote>\n<p>Ah, indeed. <code>SimpleRewrites/theorems/Rewrite_yx.lean</code> is the only one with a proof for Equation 1.</p>",
        "id": 473991204,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727774394
    },
    {
        "content": "<p>I don't know if it makes sense for me to autogenerate proofs for it so it's included in the graph, or teach the tool about it. I don't suppose we'll have another such equation so maybe it's not such a loss to just generate the proofs</p>",
        "id": 473991680,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727774529
    },
    {
        "content": "<p>Are you wondering whether it’s better to generate 4000 trivial <code>Equation n =&gt; Equation1</code> theorems in lean, or teach the tool to understand the “Equation1 holds always” fact?</p>",
        "id": 473993908,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727775224
    },
    {
        "content": "<p>yes, perhaps there is another obvious way to do it that I'm missing?</p>",
        "id": 473995578,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727775809
    },
    {
        "content": "<p>I’m not following exactly what you are trying to do, and what’s your input. Is the input of your tool some JSON that includes the information “eqn1 holds always”? Then maybe either ignore that equation completely in your tool (as it is quite boring), or add edges to it from all other nodes.</p>",
        "id": 474005107,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727779205
    },
    {
        "content": "<p>Right now <code>lake exe extract_implications</code> doesn't show X-&gt;1, should it? If so, should it know that because of special handling for <code>theorem Equation1_true</code>, or should we just generate the trivial proofs, or something else?</p>",
        "id": 474005379,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727779315
    },
    {
        "content": "<p>graphviz generation tool PR here <a href=\"https://github.com/teorth/equational_theories/pull/160\">https://github.com/teorth/equational_theories/pull/160</a></p>",
        "id": 474008736,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727780435
    },
    {
        "content": "<p>At least yesterday or so it included</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"s2\">\"unconditionals\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span>\n<span class=\"w\">    </span><span class=\"s2\">\"Equation1\"</span>\n<span class=\"w\">  </span><span class=\"o\">],</span>\n</code></pre></div>\n<p>in the output; not sure what has changed in the last 24h, things are moving too fast for me now that the weekend is over :-D</p>",
        "id": 474018499,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727783880
    },
    {
        "content": "<p>These look great!  I just created a list of visualizations in README.md (similar to the \"recent progress\", please add to it when submitting your PR to link these files.   (I have lists both for single-shot visualizations generated at one point in time, and continuously updated visualizations.)</p>",
        "id": 474056651,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727794171
    },
    {
        "content": "<p>ok now that Floris has pointed this out, I can't unsee Equation 1 in the graph. It also tripped me up somewhere else today, so I went ahead and created a PR to generate the explicit implications to Eq1, feel free to let me know if you disagree <a href=\"https://github.com/teorth/equational_theories/pull/211\">https://github.com/teorth/equational_theories/pull/211</a></p>",
        "id": 474410415,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727907285
    },
    {
        "content": "<p>I still think it’s silly to create such a large file, unconditionals should just be understood by the data processing tools, just like they are supposed to understand that implication is transitive. But maybe it’s just easier this way, and gives more impressive “explict implications” stats.</p>",
        "id": 474412601,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1727908070
    },
    {
        "content": "<p>Yeah, my main thought is just that it then has to be special cased <em>everywhere</em>. I had to special case it today writing the EquationSearch tool because otherwise it was constantly generating them. Just made me think, why not just have the theorems. Alternatively, since we have a canonical extract implementations tool, we could implement it there instead? That also seems totally reasonable to me as an alternative.</p>",
        "id": 474414201,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727908920
    },
    {
        "content": "<p>I'm fine with having the 4693 explicit implications X -&gt; 1; it is true that this boosts the explicit implication count somewhat artificially, but one could try to prune it later and only generate the X-&gt;1 for which X is not known to imply any other equation.</p>\n<p>Another option is simply to delete Equation1 from the graph; every law implies equation 1, and it is not difficult to show that equation 1, having no semantic content, cannot imply any other law, so adding it doesn't do anything interesting to the graph.  (This is in contrast to Equation2, which is equivalent to a large number of other laws.)  Perhaps once we have a fancy interactive graph visualization widget we would have an option to click that can add or remove Equation 1 as desired.</p>",
        "id": 474418057,
        "sender_full_name": "Terence Tao",
        "timestamp": 1727910687
    },
    {
        "content": "<p>I'll soon submit a PR to re-order the graph as per <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/Metatheory.3A.20meta-thread\">#Equational &gt; Metatheory: meta-thread</a> and just to experiment also added 2 separate options to remove Equation 1 and the Equation 2 equivalence class to see what it looks like without them: <br>\n<a href=\"/user_uploads/3121/I14Bl1xE2cTMen2s5BQRLquc/graph_no_eq1_eq2.svg\">graph_no_eq1_eq2.svg</a></p>\n<p>I'll be updating the graph in the README too, but I'll keep Eqs 1+2 there.</p>",
        "id": 474551269,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1727951106
    }
]