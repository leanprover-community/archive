[
    {
        "content": "<p>I proved a new result with z3: <a href=\"https://github.com/teorth/equational_theories/pull/291\">equational#291</a>. (The big vampire PR does not include this result.)</p>",
        "id": 474918100,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728084896
    },
    {
        "content": "<p>Someone should make a script that tries this on all the unresolved results.</p>",
        "id": 474918201,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728084943
    },
    {
        "content": "<p>Nice - if you're willing to post an explicit multiplication table over Fin 8, I'll check whether it disproves any other unknown implications. If so, it might be worth adding the table to the manually-curated set in <code>All4x4Tables</code> (which is a major misnomer at this point, we have lots of interesting tables up to 9x9 there).</p>",
        "id": 474926824,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728089394
    },
    {
        "content": "<p>+1 to renaming this something more sensible now that it's not just 4x4.</p>\n<p>It may be worth trying to pin down some kind of \"API\" so that as we collect cases where some equations hold true we can automatically gather the refutations for equations where it's false</p>",
        "id": 474927924,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1728089995
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761294\">@Nicholas Carlini</span> : Indeed. There are some tools in <a href=\"https://github.com/teorth/equational_theories/tree/main/equational_theories/Generated/All4x4Tables/src/finite_magma_tools\">finite_magma_tools</a> which do most of what's required (auto-testing equations in multiplication tables, writing output, etc.) but they'll require a few changes before they can be integrated into such a pipeline.</p>\n<p>The bandwidth I can dedicate to this project from next week on is likely going to be much lower, but if somebody creates an issue and takes it up, I'll be happy to assist.</p>",
        "id": 474928743,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728090346
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/180\">equational#180</a> is basically the issue for this.  I'll link back to this thread to coordinate discussion.  As I wrote in a comment at <a href=\"https://github.com/teorth/equational_theories/pull/294\">equational#294</a>, this is my vision for the interface:</p>\n<p>\"Ultimately one could imagine a web interface where one could upload (in some standard format) a multiplication table, the tool displays all the equations it satisfies, checks if it creates any new refutations, and if so it accepts the table and adds it to some standard directory from which the refutations are generated. There may be a few thousand finite magma refutations left out there, so this might be worthwhile.\"</p>",
        "id": 474932500,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728092363
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"763356\">Zoltan A. Kocsis (Z.A.K.)</span> <a href=\"#narrow/stream/458659-Equational/topic/using.20z3/near/474926824\">said</a>:</p>\n<blockquote>\n<p>Nice - if you're willing to post an explicit multiplication table over Fin 8, I'll check whether it disproves any other unknown implications. If so, it might be worth adding the table to the manually-curated set in <code>All4x4Tables</code> (which is a major misnomer at this point, we have lots of interesting tables up to 9x9 there).</p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">ii</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">jj</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">f_834_10</span><span class=\"w\"> </span><span class=\"n\">ii</span><span class=\"w\"> </span><span class=\"n\">jj</span><span class=\"o\">)))</span>\n</code></pre></div>\n<p>yields</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">[[</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">],</span>\n<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">]]</span>\n</code></pre></div>",
        "id": 474940590,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728098873
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/297\">equational#297</a></p>",
        "id": 474941230,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728099577
    },
    {
        "content": "<p>As a comment on the \"All4x4Tables\", I'm about 20% of the way through all commutative 5x5s and so far can prove nothing new that wasn't already shown</p>",
        "id": 474941868,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1728100225
    },
    {
        "content": "<p>Thanks for the update.  It seems that the implications around the commutative law are actually quite close to complete already, so I guess there wasn't that much low hanging fruit left here.  Still, even negative results are good to know.</p>",
        "id": 474943067,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728101295
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761294\">@Nicholas Carlini</span> I suspect there are very few (if any) new 5x5 counterexamples left in general, for the following reasons:</p>\n<ul>\n<li>\n<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span>'s vampire runs generated a lot of new 10x10 counterexamples, but  I don't recall seeing any 5x5s from browsing the files. (might be a config artifact, see below)</p>\n</li>\n<li>\n<p>There are relatively few equations in the dataset which cannot be satisfied in nontrivial cancellative monoids, and they're generally of the form <code>x=f(x,...)</code>. I've given these some special manual attention while playing interactively with constraint solvers, but could not find any new 5x5s this way either. In contrast I find 6x6s occasionally.</p>\n</li>\n</ul>\n<p>Unsuccessful runs can be disappointing (ask me how I know), but it'll be all the more interesting if the 5x5 commutative search does find something: it'll be a special little magma indeed.</p>\n<p>It might be too late now, but it's worth keeping track of equations which only have nxn counterexamples for n&gt;5 among the cancellative magmas, but have 5x5 noncancellative counterexamples!</p>",
        "id": 474946333,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728104643
    },
    {
        "content": "<p>I think the reason my run generated mostly 10x10 counterexamples is because that's the size Vampire uses by default, or something along those lines - I don't think that's an argument for there not being relevant smaller magmas</p>",
        "id": 474946375,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728104705
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/using.20z3/near/474946375\">said</a>:</p>\n<blockquote>\n<p>I think the reason my run generated mostly 10x10 counterexamples is because that's the size Vampire uses by default, or something along those lines - I don't think that's an argument for there not being relevant smaller magmas</p>\n</blockquote>\n<p>Okay, that's important and good to know! I'm all the more excited about the search finding some good 5x5s.</p>\n<p>Can you adjust that n=10if you do any future runs? Smaller counterexamples are a lot better when you have many variables and need to do exhaustive checks. The compiled Haskell has so far been fast enough to handle them, but Lean might struggle.</p>",
        "id": 474946551,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728104878
    },
    {
        "content": "<p>I tried a bit to adjust that, but I couldn't figure out how to</p>",
        "id": 474946619,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728104920
    },
    {
        "content": "<p>I looked at it a bit harder, and I think I managed to do it now</p>",
        "id": 474947672,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728106038
    },
    {
        "content": "<p>Got another one: <a href=\"https://github.com/teorth/equational_theories/pull/308\">equational#308</a></p>",
        "id": 474980760,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728134352
    },
    {
        "content": "<p>My process here is:</p>\n<ol>\n<li>Open the output of <code>outcomes_to_image.py</code> in GIMP and find a black pixel that looks likely to resolve to red.</li>\n<li>Plug it in to z3.</li>\n</ol>\n<p>I tried it twice so far, and in both cases it succeeded.</p>",
        "id": 474980880,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728134455
    },
    {
        "content": "<p>That's clever! :) This one resolves a lot of antiimplications too!</p>",
        "id": 474980923,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728134503
    },
    {
        "content": "<p>Is <span class=\"user-mention\" data-user-id=\"762865\">@Pace Nielsen</span> 's 5 x 5 magma from <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/visualization.20of.20graph.20closure\">#Equational &gt; visualization of graph closure</a> in the list of finite magmas yet?</p>",
        "id": 474984421,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728137325
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"657719\">@Terence Tao</span> I am working on a major commit which should add a lot of stragglers to <code>All4x4Tables</code>, I'll include it there.</p>",
        "id": 474986152,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728138756
    },
    {
        "content": "<p>If there is some way to add comments to that list of tables it might be nice to briefly mention where some of these magmas come from</p>",
        "id": 474986719,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728139197
    },
    {
        "content": "<p>There is a way -- all lines that don't start with <code>Table ...</code> or <code>Proves ...</code> (or <code>Magma ...</code>, <code>Satisfies ...</code>, <code>Refutes ...</code> in the plans) are ignored by the tools, so we can add a <code>Provenance ...</code> line.</p>\n<p>But I'll also include them as separate files, so it'll be possible to git blame them and get proper context.</p>",
        "id": 474986943,
        "sender_full_name": "Zoltan A. Kocsis (Z.A.K.)",
        "timestamp": 1728139334
    }
]