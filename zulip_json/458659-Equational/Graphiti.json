[
    {
        "content": "<p>OK, Graphiti v1 is here: <a href=\"https://tsyrklevi.ch/graphiti/\">https://tsyrklevi.ch/graphiti/</a> (the old link redirects) Give it a test and see what forms of filtering or visualization you might find useful for a graph explorer like this. Right now, clicking on a node in the graph takes you to the equation explorer, if it's an equivalence class, the one with the lowest number. I'd like to make the links instead be on the (123) number, i just haven't managed to get that working yet</p>",
        "id": 475120080,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728236817
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/stream/458659-Equational/topic/Graphiti/near/475120080\">said</a>:</p>\n<blockquote>\n<p>OK, Graphiti v1 is here: <a href=\"https://tsyrklevi.ch/graphiti/\">https://tsyrklevi.ch/graphiti/</a> (the old link redirects) Give it a test and see what forms of filtering or visualization you might find useful for a graph explorer like this. Right now, clicking on a node in the graph takes you to the equation explorer, if it's an equivalence class, the one with the lowest number. I'd like to make the links instead be on the (123) number, i just haven't managed to get that working yet</p>\n</blockquote>\n<p>Nice!  Do you plan to host it externally for the duration of the project, or do you want to have it an internal component of the repository?  Either would be fine with me, and the README.md can be updated accordingly.</p>\n<p>One suggestion: instead of having the example queries go directly to the graph, have the example queries auto-populate the text boxes so that, when the submit button is pressed, the correct graph is reached.  This would serve as a sort of \"tutorial\" on how to use the text box options.</p>",
        "id": 475120791,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728237376
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Graphiti/near/475120791\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/stream/458659-Equational/topic/Graphiti/near/475120080\">said</a>:</p>\n<blockquote>\n<p>OK, Graphiti v1 is here: <a href=\"https://tsyrklevi.ch/graphiti/\">https://tsyrklevi.ch/graphiti/</a> (the old link redirects) Give it a test and see what forms of filtering or visualization you might find useful for a graph explorer like this. Right now, clicking on a node in the graph takes you to the equation explorer, if it's an equivalence class, the one with the lowest number. I'd like to make the links instead be on the (123) number, i just haven't managed to get that working yet</p>\n</blockquote>\n<p>Nice!  Do you plan to host it externally for the duration of the project, or do you want to have it an internal component of the repository?  Either would be fine with me, and the README.md can be updated accordingly.</p>\n<p>One suggestion: instead of having the example queries go directly to the graph, have the example queries auto-populate the text boxes so that, when the submit button is pressed, the correct graph is reached.  This would serve as a sort of \"tutorial\" on how to use the text box options.</p>\n</blockquote>\n<p>I figured I would put it in the repo once it's ready, but for now there may be feedback and using my own hosting is faster turn-around for testing (+ figuring out CI and all that will also take a bit of work). Good idea on populating the fields.</p>",
        "id": 475120914,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728237473
    },
    {
        "content": "<p>I figured eventually the equation viewer could also link back to it, or even embed it in an iframe or something like that. Ah and that reminds me, one immediate improvement is to make links open in a new tab instead of redirecting so that the graph doesn't go away</p>",
        "id": 475121185,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728237570
    },
    {
        "content": "<p>(I found it useful to do the same thing and host for a day or two to get comments and improve quickly and then push. Doing CI was less work than I thought. You can look at my PR which just added it for the equations list)</p>",
        "id": 475121258,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1728237596
    },
    {
        "content": "<p>Yup, I'm copying your approach, and haven't looked at CI yet, but was planning to crib your work there as well</p>",
        "id": 475121381,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728237621
    },
    {
        "content": "<p>I looked briefly at it to see if I should use the same graph implementation but it looks like we had different enough uses/purposes for it not to make sense</p>",
        "id": 475121494,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728237662
    },
    {
        "content": "<p>I'm going to hopefully rewrite the equation one to just use the sparse graph of direct implications and remove anything that can be derived. In principle this should shrink things quite a lot and make the page more responsive</p>",
        "id": 475121749,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1728237729
    },
    {
        "content": "<p>That's what I do, I'm just using the closure of the condensed graph and not even doing fancy encoding, just JSON, and it's fast.</p>",
        "id": 475122163,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728237859
    },
    {
        "content": "<p>Yeah. Makes sense. Back in the \"old\" days when I started the page the graph wasn't complete enough where doing that saved much (maybe 2x?), now it makes a lot more sense</p>",
        "id": 475122330,
        "sender_full_name": "Nicholas Carlini",
        "timestamp": 1728237913
    },
    {
        "content": "<p>One idea I haven't figured out, is what may be an interesting graph to show by default on the equation viewer page. The implies/implied_by may be too large to be practical, but maybe something like \"Show implies/implied_by up to 2 steps in the transitive reduction\"? I don't know if that's actually useful though</p>",
        "id": 475123513,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728238317
    },
    {
        "content": "<p>OK I've implemented my remaining TODO items and v2 is up: <a href=\"https://tsyrklevi.ch/graphiti/?1\">https://tsyrklevi.ch/graphiti/?1</a> Note that I did not figure out an easy way to make the (XYZ) equation numbers links, I'm going to leave vertex links the way they are. I didn't get any feedback on new features, so assuming there's no further feedback I'll get started on upstreaming it.</p>\n<p>Note that the last example query is something I actually used yesterday to verify my lowest common ancestor implementation, so that's nice to have found an immediate use for the tool.</p>",
        "id": 475249507,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728291497
    },
    {
        "content": "<p>I suppose one idea is that right now combining different fields is an implicit AND. If you wanted to see everything EqX implies or is implied_by, you'd want an OR query instead, but I'm not sure if anyone actually cares to make that particular query, so better to see if anyone can think of specific uses they want</p>",
        "id": 475251043,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728291968
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/401\">https://github.com/teorth/equational_theories/pull/401</a></p>",
        "id": 475264114,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728296169
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761294\">@Nicholas Carlini</span> <a href=\"https://github.com/teorth/equational_theories/pull/404\">https://github.com/teorth/equational_theories/pull/404</a> Let me know if you have any feedback, and if you're happy with it I'll take it out of draft</p>",
        "id": 475291481,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728305909
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/440\">equational#440</a> implements the capability discussed in <a href=\"#narrow/stream/458659-Equational/topic/Equation.2065.20-.3E.20left.20cancellability/near/475352370\">https://leanprover.zulipchat.com/#narrow/stream/458659-Equational/topic/Equation.2065.20-.3E.20left.20cancellability/near/475352370</a> to graph unknowns+conjectures from the equation explorer, modulo collapsing unknowns+conjectures because that was the easiest data for me to read (plus, this probably makes the interface a bit simpler without much loss in information.)</p>",
        "id": 475642926,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728413561
    },
    {
        "content": "<p>It seems that some of the implication arrows are still downward, e.g., <a href=\"https://teorth.github.io/equational_theories/graphiti/?render=true&amp;implies=73,99,125,203,229,255,4380,4435&amp;highlight_red=73&amp;highlight_blue=99,125,203,229,255,4380,4435&amp;show_unknowns_conjectures=on\">https://teorth.github.io/equational_theories/graphiti/?render=true&amp;implies=73,99,125,203,229,255,4380,4435&amp;highlight_red=73&amp;highlight_blue=99,125,203,229,255,4380,4435&amp;show_unknowns_conjectures=on</a> is oriented somewhat weirdly (125 implies 73 and 229).</p>",
        "id": 476308901,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728627515
    },
    {
        "content": "<p>Hmm, yes it's the 'unknown' edges changing the final layout decisions. Taking a look locally to see if there is an easy way to force graphviz to do what I want (essentially lay it out without any input from the unknown edges)</p>",
        "id": 476315079,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728629309
    },
    {
        "content": "<p>I can do it, though it makes it harder to interpret anyway in this case (note I've added back arrowheads for implication edges)<br>\n<a href=\"/user_uploads/3121/EMZldFV_Oexm_Ip40S4a7ZZK/graph.png\">graph.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/EMZldFV_Oexm_Ip40S4a7ZZK/graph.png\" title=\"graph.png\"><img data-original-dimensions=\"2666x893\" src=\"/user_uploads/thumbnail/3121/EMZldFV_Oexm_Ip40S4a7ZZK/graph.png/840x560.webp\"></a></div>",
        "id": 476316123,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728629605
    },
    {
        "content": "<p>Supressing arrowheads for implication edges makes it a little visually clearer what is what<br>\n<a href=\"/user_uploads/3121/OpO-3bAmsy9xfiD181-uJRqu/graph.png\">graph.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/OpO-3bAmsy9xfiD181-uJRqu/graph.png\" title=\"graph.png\"><img data-original-dimensions=\"2666x893\" src=\"/user_uploads/thumbnail/3121/OpO-3bAmsy9xfiD181-uJRqu/graph.png/840x560.webp\"></a></div>",
        "id": 476316371,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728629682
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/508\">equational#508</a></p>",
        "id": 476318360,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1728630241
    },
    {
        "content": "<p>Ran into something annoying today, I realized in simple graphs that should be highly symmetric due to duality (e.g. this example of equations of just 1 variable) graphiti would lay out them quite poorly, red is self-dual and blue is one of the set of duals. <br>\n<a href=\"/user_uploads/3121/M_tH0XYby53Ip_i3-e0PI_bl/graph.png\">graph.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/M_tH0XYby53Ip_i3-e0PI_bl/graph.png\" title=\"graph.png\"><img data-original-dimensions=\"10890x893\" src=\"/user_uploads/thumbnail/3121/M_tH0XYby53Ip_i3-e0PI_bl/graph.png/840x560.webp\"></a></div>",
        "id": 477700506,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1729272651
    },
    {
        "content": "<p>I could force them into being more dual-symmetric, but it makes the graph hard to interpret (and also violates Hasse convention to boot)<br>\n<a href=\"/user_uploads/3121/e2yrzPqtf4hVAsfdSm7Vmq6C/graph-1.png\">graph (1).png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/e2yrzPqtf4hVAsfdSm7Vmq6C/graph-1.png\" title=\"graph (1).png\"><img data-original-dimensions=\"13178x738\" src=\"/user_uploads/thumbnail/3121/e2yrzPqtf4hVAsfdSm7Vmq6C/graph-1.png/840x560.webp\"></a></div>",
        "id": 477700727,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1729272742
    },
    {
        "content": "<p>The best I got was something like this<br>\n<a href=\"/user_uploads/3121/SNHS9l-qX-0ElcXcBNQkQzIG/graph-2.png\">graph (2).png</a><br>\nOverall fairly disappointing for showing something so highly symmetric</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/SNHS9l-qX-0ElcXcBNQkQzIG/graph-2.png\" title=\"graph (2).png\"><img data-original-dimensions=\"10696x893\" src=\"/user_uploads/thumbnail/3121/SNHS9l-qX-0ElcXcBNQkQzIG/graph-2.png/840x560.webp\"></a></div>",
        "id": 477700796,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1729272781
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/637\">equational#637</a> has the changes to marginally improve dual symmetry and also adds a checkbox to collapse duals into equivalence classes--something i was playing around with when trying to look at large graphs.</p>",
        "id": 477729855,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1729283215
    },
    {
        "content": "<p>How hard would it be to add an option to highlight \"terminal\" laws, laws which aren't implied by anything? (the other direction could also be interesting, laws which don't imply anything)</p>",
        "id": 478836228,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729828050
    },
    {
        "content": "<p>Do you mean, anything except equations 1 and 2? Those are the unique initial and terminal objects here. (Is there a word for this object in posets/categories, like \"maximally non-terminal\" or similar?)</p>",
        "id": 478836697,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1729828439
    },
    {
        "content": "<p>You can limit the equations rendered, and then it can be different from 1 and 2</p>",
        "id": 478836763,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729828478
    },
    {
        "content": "<p>I believe those are called <a href=\"https://en.wikipedia.org/wiki/Atom_(order_theory)\">atoms</a> and coatoms, if I understood you correctly</p>",
        "id": 478836793,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729828512
    },
    {
        "content": "<p>It should definitely be doable, I usually \"manually\" do this by providing the target equation as a highlighted point from the equation explorer links--I assume you're manually generating these graphs, right? Perhaps instead of manually doing it I should have two colors that specifically mean no-forward-implications/no-backwards-implications and always highlight those.</p>",
        "id": 478845737,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1729835341
    },
    {
        "content": "<p>Ah I see from the PRs that you are generating links from FME, and these lists may be quite large and it's hard to see the terminals there.</p>",
        "id": 478846832,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1729836043
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/776\">equational#776</a> adds seeing 'neighborhoods' of a given law, e.g. you can specify a given number of edges to look in both implies/implied by direction.</p>",
        "id": 480026317,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730455530
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"767479\">@Harald Husum</span> this should address <a href=\"#narrow/channel/458659-Equational/topic/Equation.20Explorer.20Enhancements/near/478017126\">https://leanprover.zulipchat.com/#narrow/channel/458659-Equational/topic/Equation.20Explorer.20Enhancements/near/478017126</a></p>",
        "id": 480026503,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730455615
    },
    {
        "content": "<p>Examples:<br>\n<a href=\"/user_uploads/3121/WEta6x2FjdPv0PKVlBxWE6tx/graph-4.png\">1 edge away from 43</a><br>\n<a href=\"/user_uploads/3121/kP6gYgrskhOsc4-rVvrKVKGX/graph-5.png\">2 edges away from 43</a><br>\n<a href=\"/user_uploads/3121/WLvBJx60aOWeM8Q7MmNeFrKr/graph-6.png\">all reachable from 43</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WEta6x2FjdPv0PKVlBxWE6tx/graph-4.png\" title=\"1 edge away from 43\"><img data-original-dimensions=\"3656x805\" src=\"/user_uploads/thumbnail/3121/WEta6x2FjdPv0PKVlBxWE6tx/graph-4.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/kP6gYgrskhOsc4-rVvrKVKGX/graph-5.png\" title=\"2 edges away from 43\"><img data-original-dimensions=\"4248x1829\" src=\"/user_uploads/thumbnail/3121/kP6gYgrskhOsc4-rVvrKVKGX/graph-5.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WLvBJx60aOWeM8Q7MmNeFrKr/graph-6.png\" title=\"all reachable from 43\"><img data-original-dimensions=\"3221x2701\" src=\"/user_uploads/thumbnail/3121/WLvBJx60aOWeM8Q7MmNeFrKr/graph-6.png/840x560.webp\"></a></div>",
        "id": 480026908,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730455811
    },
    {
        "content": "<p>Very nice!</p>\n<p>Another feature request (or more of a question since I don't know if it would be useful): how do you feel about a mode where each node is a small box? With a single number, or even an empty circle. And the equations data would show on a popup when hovering</p>",
        "id": 480029817,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1730457237
    },
    {
        "content": "<p>To understand: Is the use case just to make it easier to see the graph shape without the equivalence class/equations cluttering the graph? Or is there something else that also gives?</p>",
        "id": 480031929,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730458130
    },
    {
        "content": "<p>Only that more of it would fit on the screen, and maybe it will also make it easier for graphviz to figure out a nice layout</p>",
        "id": 480034241,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1730459219
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/aAzKrNglGok9S1o1Un60tkoO/graph-7.png\">Example run here</a>. Doesn't look bad! The symmetry above 43 is <em>much</em> better represented.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/aAzKrNglGok9S1o1Un60tkoO/graph-7.png\" title=\"Example run here\"><img data-original-dimensions=\"1288x2477\" src=\"/user_uploads/thumbnail/3121/aAzKrNglGok9S1o1Un60tkoO/graph-7.png/840x560.webp\"></a></div>",
        "id": 480034678,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730459440
    },
    {
        "content": "<p>I just checked locally and graphviz connects the exact same vertices in the exact same way. But it's still less cluttered as edges have more space to spread around.</p>",
        "id": 480034825,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1730459520
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/X9wsfr-SnPg7R4vKTj4uiZ-w/graph-8.png\">I can also manually compress the graph visually a bit</a>. It's busier but maybe nice if you have lots vertices. Looking at the entire graph is still a mess though.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/X9wsfr-SnPg7R4vKTj4uiZ-w/graph-8.png\" title=\"I can also manually compress the graph visually a bit\"><img data-original-dimensions=\"978x1325\" src=\"/user_uploads/thumbnail/3121/X9wsfr-SnPg7R4vKTj4uiZ-w/graph-8.png/840x560.webp\"></a></div>",
        "id": 480035390,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730459786
    },
    {
        "content": "<p>We have large anti-chains so it must be a lot wider than it is tall. And unless by some miracle it's close to being planar, there won't be a nice way to render.</p>",
        "id": 480035536,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1730459883
    },
    {
        "content": "<p>Another feature idea from a friend - make nodes wider if it helps the layout, especially terminal nodes. This will allow edges to be vertical and much less messy. I don't know if it's possible to do without implementing a layout engine from scratch though.</p>",
        "id": 480035729,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1730459979
    },
    {
        "content": "<p>Ah, I hadn't thought of that! That's a really cool idea-- I'll give a think if that's implementable somehow within how Graphiti works.</p>",
        "id": 480037101,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1730460674
    },
    {
        "content": "<p>Great work, <span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> ! I will definitely make use of this feature. Really appreciate you implementing it. <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span></p>",
        "id": 480044222,
        "sender_full_name": "Harald Husum",
        "timestamp": 1730464355
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767479\">Harald Husum</span> <a href=\"#narrow/channel/458659-Equational/topic/Graphiti/near/480044222\">schrieb</a>:</p>\n<blockquote>\n<p>Great work, <span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> ! I will definitely make use of this feature. Really appreciate you implementing it. <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span></p>\n</blockquote>\n<p>Love it too!</p>",
        "id": 480054207,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730468726
    }
]