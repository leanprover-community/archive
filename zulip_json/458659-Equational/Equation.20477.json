[
    {
        "content": "<p>Here is a proof sketch showing that Equation 477 only implies equations that can be trivially simplified by it.</p>\n<p>It suffices to show that different sequences of simplifications lead to the same simplest result.</p>\n<p>First, we can defer any simplification of the whole term (as opposed to its proper factor) to the last step.</p>\n<p>Then, if there is such a simplification in the sequence, turning Y(X(Y(YY))) to Y, we show that X(Y(YY)) cannot be simplified.</p>\n<p>Since X is the final result, it cannot be simplified.</p>\n<p>If Y can be simplified, we simplify it before applying the last simplification.</p>\n<p>Now assume that X and Y are simplest. If YY can be simplified, then Y=y=x(y(yy)), but the lengths don't match.</p>\n<p>Similarly if Y(YY) can be simplified, then Y=y and YY=x(y(yy)), but the lengths still don't match.</p>\n<p>If X(Y(YY)) can be simplified, then X=y and Y(YY) = x(y(yy)). Then x=y=Y, and the lengths still don't match.</p>\n<p>So X(Y(YY)) cannot be simplified. By induction before the possible final step applied to the whole term,<br>\neach of the two factors of the outermost product must be identical between two sequences of simplifications.<br>\nThen it is not hard to show that the same simplification (if any) applies in the last step to give the same result.</p>",
        "id": 475139966,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728246418
    },
    {
        "content": "<p><a href=\"https://www.overleaf.com/read/rgfnfdfvxnnh#44f904\">https://www.overleaf.com/read/rgfnfdfvxnnh#44f904</a></p>\n<p>Here is a write-up of what I get along the lines above. Clearly it is no match for beastlike machines, but it does contain some currently unknown results (hopefully they are correct).</p>",
        "id": 475141279,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728247565
    },
    {
        "content": "<p>Perhaps you could make a file of conjectures and upload it to the repository?  If you aren't familiar with the Lean syntax we are using, you could just give a text list of implications your method seems to establish and I can upload it myself.</p>",
        "id": 475142982,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728249018
    },
    {
        "content": "<p>I think sometimes some simplifications pass through one or more temporary expansion stages, and do not necessarily arise from simplifying a single large expression in two ways.  For instance the <a href=\"https://teorth.github.io/equational_theories/blueprint/sect0004.html#1689_equiv_2\">proof of 1689-&gt;2</a> takes quite a long path from <code>x = (y*x) * ((x*z)*z)</code> to <code>x=y</code> that goes through quite long equations as intermediate steps, so one has to be careful in making sure one is not ruling out some unintuitive ways to simplify one equation to another.</p>",
        "id": 475143135,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728249198
    },
    {
        "content": "<p>I think it's true that if every expression has unique simplification, then the truth of any equation can be checked by direct simplification. First expanding then simplifying is making use of the fact that the expanded expression has two ways of simplification. For example, in the first step of 1689-&gt;2, we are using the following two ways of simplification:</p>\n<p>((xx)((xy)y))((((xy)y)z)z)=x((((xy)y)z)z)</p>\n<p>and</p>\n<p>((xx)((xy)y))((((xy)y)z)z)=(xy)y</p>\n<p>If this does not happen, then we can build a model (on a given alphabet A) whose elements are simple expressions (those which cannot be simplified) build from letters in A, and whose operation is x*y=simplification of xy. Then if two sides of an equation is different after simplification, then it gives a counterexample to the equation in th</p>",
        "id": 475278730,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728301869
    },
    {
        "content": "<p>Can you formalise your ideas in lean?</p>",
        "id": 475280821,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1728302508
    },
    {
        "content": "<p>That's the question. I'm not familiar enough with Lean to know, for example, how to formalize the property \"an expression cannot be simplified\" (meaning that no rule of simplication can be applied to any of its subexpressions), etc.</p>",
        "id": 475281808,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728302817
    },
    {
        "content": "<p>Do we even know that calculation chains are complete? That is, that every \"implies\" relation has a proof by elementary calculation?</p>",
        "id": 475283969,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728303538
    },
    {
        "content": "<p>Yes, that's the completeness theorem</p>",
        "id": 475285480,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728304046
    },
    {
        "content": "<p>Since all the simple substitutions are already proved, we can add conjectures for every unknown implication whose lhs is an equation like 477, with x on one side and one the other an expression that does not unify with any sub-expression</p>",
        "id": 475301421,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728308752
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"562644\">@Fan Zheng</span> do you have a list of these equations?</p>",
        "id": 475301603,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728308803
    },
    {
        "content": "<p>I see now <span class=\"user-mention\" data-user-id=\"562644\">@Fan Zheng</span> , thanks for explaining.  It sounds like \"unique simplification\" is going to be a useful property, and worth trying to formalize its basic properties in Lean.</p>\n<p>Relating to this, I started a chapter in <a href=\"https://teorth.github.io/equational_theories/blueprint/abstract-nonsense-chapter.html\">https://teorth.github.io/equational_theories/blueprint/abstract-nonsense-chapter.html</a> (inspired by the metatheory and invariants chapter) on the concept of a free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> on an alphabet <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> subject to a theory <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">\\Gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span> (a collection of laws.  For instance, we can talk about the free associative magma generated by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>, the free commutative and associative magma generated by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>, and so forth.  This magma is a quotient of the free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>X</mi></msub></mrow><annotation encoding=\"application/x-tex\">M_X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> with alphabet <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>, so to verify that a law <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>≃</mo><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">w\\simeq w&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4637em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≃</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> is implied by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">\\Gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span> turns out by abstract nonsense to be equivalent to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">w&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> having the same representative in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>.  So for those theories for which the free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> is easy to describe, determining implication <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi><mo>⊢</mo><mi>w</mi><mo>≃</mo><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\Gamma \\vdash w \\simeq w&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">Γ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊢</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4637em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≃</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> is easy.</p>\n<p>The point here seems to be that if a theory <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">\\Gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span> admits unique simplification, then its free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> is given by the set of all simplified words in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>, with the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> magma operation given by simplifying the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>X</mi></msub></mrow><annotation encoding=\"application/x-tex\">M_X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> magma operation.</p>\n<p>If I have time later today, I will try to organize this chapter a bit more and set up these statements to be formalized in Lean.  I had already started to notice at the bottom of the chapter that the idempotent law <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>=</mo><mi>x</mi><mo>⋄</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x = x \\diamond x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋄</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> seemed to have the unique simplification property, but now I see that the situation is more general.</p>\n<p>At some point it might be worth trying to see if we can in fact classify which of the 4694 laws we have enjoy unique simplification, but that is a future project.</p>",
        "id": 475315997,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728312811
    },
    {
        "content": "<p>This \"unique simplification\" is usually called confluence, if I'm not mistaken</p>",
        "id": 475316217,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728312862
    },
    {
        "content": "<p>I think this construction (the free magma subject to a theory) is essentially what I meant in <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/Counterexamples.20by.20Enumerating.20Words.20in.20Quotient.20Magma\">#Equational &gt; Counterexamples by Enumerating Words in Quotient Magma</a> and if I understand correctly, the basis for what <span class=\"user-mention\" data-user-id=\"303675\">@Anand Rao Tadipatri</span> and <span class=\"user-mention\" data-user-id=\"435481\">@Hernan Ibarra</span> are using also to find some counterexamples (with a cleverer use of more structure in some of the concrete such free magmas subject to a theory)</p>",
        "id": 475318253,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728313370
    },
    {
        "content": "<p>I wonder if it's worth unifying the terminology (e.g. phrasing some of the stuff from Chapter 8 based on these definitions)?</p>",
        "id": 475318507,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728313439
    },
    {
        "content": "<p>This kind of proof strategy seems similar to what ATPs do to prove non-implications as discussed <a href=\"#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications/near/474878163\">for example here</a>. Whenever I try to think of an argument of this type I feel that anything simple enough for me to find would be possible for Vampire or whatever to find as well so it's not worth trying to fill in the details. Is it possible to describe what property an argument involving confluence would need to have to be hard to find for an ATP?</p>",
        "id": 475319270,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728313661
    },
    {
        "content": "<p>If it has an infinite family of rewriting laws, perhaps?</p>",
        "id": 475319433,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728313706
    },
    {
        "content": "<p>Funny this thread opened yesterday night; I was thinking about these issues all weekend.  Here are some of my thoughts:</p>\n<p>We are looking for free structures (say, free magmas modulo some equations) in which the word problem is solvable. For example, the word problem for groups is unsolvable in general, but it is solvable for free groups. Usually, but not always, the word problem is solved by proving that all words can be put into a unique normal form (here confluence means that all reductions lead to this normal form). </p>\n<p>For any such free structure F we find, we can get a new metatheorem that says that if A -&gt; B and F satisfies A (when the variables are instantiated as the generators of F) then F must satisfy B. The fact that we can solve the word problem makes it computationally tractable to verify A and B in F.</p>",
        "id": 475326982,
        "sender_full_name": "Hernan Ibarra",
        "timestamp": 1728315490
    },
    {
        "content": "<p>Equivalently, consider the fragment of first-order logic with only equality, conjunction, and universal quantifier as logical symbols. Then we are looking for decidable theories in this logic.</p>",
        "id": 475327626,
        "sender_full_name": "Hernan Ibarra",
        "timestamp": 1728315631
    },
    {
        "content": "<p>Word problems and decidability of theories are well-studied but I don't know of any references that discuss this specific case. I was planning to ask in stackexchange later today.</p>",
        "id": 475328008,
        "sender_full_name": "Hernan Ibarra",
        "timestamp": 1728315713
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315434\">Andrés Goens</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475318507\">said</a>:</p>\n<blockquote>\n<p>I wonder if it's worth unifying the terminology (e.g. phrasing some of the stuff from Chapter 8 based on these definitions)?</p>\n</blockquote>\n<p>I plan to polish Chapter 8 at some point in the future. When I do, I'll make sure to update the terminology to match whatever is in use in the blueprint.</p>",
        "id": 475329080,
        "sender_full_name": "Hernan Ibarra",
        "timestamp": 1728315938
    },
    {
        "content": "<p>I'd also like to add that the <a href=\"https://en.wikipedia.org/wiki/Knuth%E2%80%93Bendix_completion_algorithm\">Knuth-Bendix algorithm</a> might be of use in finding theories with decidable equality (this idea is described in slightly more detail in <a href=\"https://teorth.github.io/equational_theories/blueprint/metatheory-chapter.html#a0000000157\">Remark 3 of Chapter 8</a>).</p>",
        "id": 475330208,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1728316263
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"303675\">Anand Rao Tadipatri</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475330208\">said</a>:</p>\n<blockquote>\n<p>I'd also like to add that the Knuth-Bendix algorithm might be of use in finding theories with decidable equality (this idea is described in slightly more detail in <a href=\"https://teorth.github.io/equational_theories/blueprint/metatheory-chapter.html#a0000000157\">Remark 3 of Chapter 8</a>).</p>\n</blockquote>\n<p>Is that the same as deriving models from saturation, as in <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications\">#Equational &gt; Constructing infinite models for non-implications</a>?</p>",
        "id": 475330563,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728316372
    },
    {
        "content": "<p>It possibly is, although I don't understand the superposition calculus deeply enough to be able to judge for certain.</p>\n<p>In more detail, the idea I was suggesting is that if we know that a certain theory can be completed using the Knuth-Bendix procedure, then we know that there is a decision procedure for terms in the free model of that theory, and we can use the model to settle non-implications.</p>",
        "id": 475337727,
        "sender_full_name": "Anand Rao Tadipatri",
        "timestamp": 1728318311
    },
    {
        "content": "<p>Is there a way to prove that such a set of equations is confluent in a simpler way than \"run the Knuth-Bendix procedure\"?</p>",
        "id": 475339735,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728318828
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475330563\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"303675\">Anand Rao Tadipatri</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475330208\">said</a>:</p>\n<blockquote>\n<p>I'd also like to add that the Knuth-Bendix algorithm might be of use in finding theories with decidable equality (this idea is described in slightly more detail in <a href=\"https://teorth.github.io/equational_theories/blueprint/metatheory-chapter.html#a0000000157\">Remark 3 of Chapter 8</a>).</p>\n</blockquote>\n<p>Is that the same as deriving models from saturation, as in <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/stream/458659-Equational/topic/Constructing.20infinite.20models.20for.20non-implications\">#Equational &gt; Constructing infinite models for non-implications</a>?</p>\n</blockquote>\n<p>not quite, the termination of term rewrite systems and equality saturation are subtly different (don't have the reference on my phone but can pass it on later)</p>",
        "id": 475346932,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728320595
    },
    {
        "content": "<p><a href=\"https://effect.systems/doc/egraphs-2023-theory/paper.pdf\">https://effect.systems/doc/egraphs-2023-theory/paper.pdf</a></p>",
        "id": 475356513,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1728323625
    },
    {
        "content": "<p>I wrote a program that follows Zheng's logic for each of the equations in the list, and got some more that are confluent (have the unique simplification property). They are listed in this file:<br>\n<a href=\"/user_uploads/3121/WOuFiDn8bvTUUOrZkyFxdusV/like_477.txt\">like_477.txt</a></p>",
        "id": 475359797,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728324518
    },
    {
        "content": "<p>These should resolve the following unknown implications</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Equation467</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation2847</span>\n<span class=\"n\">Equation477</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation1426</span>\n<span class=\"n\">Equation477</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation1519</span>\n<span class=\"n\">Equation477</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation2035</span>\n<span class=\"n\">Equation477</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation2128</span>\n<span class=\"n\">Equation477</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation3050</span>\n<span class=\"n\">Equation477</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation3150</span>\n<span class=\"n\">Equation504</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation817</span>\n<span class=\"n\">Equation504</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation1629</span>\n<span class=\"n\">Equation504</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation1832</span>\n<span class=\"n\">Equation504</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation1925</span>\n<span class=\"n\">Equation1515</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Equation4590</span>\n</code></pre></div>\n<p>and their duals</p>",
        "id": 475359977,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728324586
    },
    {
        "content": "<p>Can you add that as a PR as a list of conjectures for now?  I can start working on the blueprint later to set up the general theory of confluent theories, and then the specific confluence of 477 later (probably just cut and pasting from <span class=\"user-mention\" data-user-id=\"562644\">@Fan Zheng</span> 's text to begin with).</p>",
        "id": 475363492,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728325619
    },
    {
        "content": "<p>Will do</p>",
        "id": 475363887,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728325778
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"562644\">Fan Zheng</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475281808\">schrieb</a>:</p>\n<blockquote>\n<p>That's the question. I'm not familiar enough with Lean to know, for example, how to formalize the property \"an expression cannot be simplified\" (meaning that no rule of simplication can be applied to any of its subexpressions), etc.</p>\n</blockquote>\n<p>My Lean is not good enough (I am learning), but I am wondering if such rules could be specified along the following lines</p>\n<ul>\n<li>some sort of rules</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">non_unique_simplify</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">expr</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"n\">e₁</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"n\">e₃</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"n\">e₃</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₃</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">rule₁</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">rule₂</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span>\n\n<span class=\"n\">like</span><span class=\"w\"> </span><span class=\"n\">these</span><span class=\"w\"> </span><span class=\"n\">rules</span><span class=\"o\">:</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">assoc</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">expr</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">expr</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">expr</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">expr</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">))</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">comm</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">}</span><span class=\"w\">    </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">simplify</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">expr</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">expr</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n</code></pre></div>\n<ul>\n<li>how to define derivations</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">expr</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">e'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">non_unique_simplify</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"n\">e'</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"n\">begin</span>\n<span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">examples</span>\n<span class=\"kn\">end</span>\n</code></pre></div>\n<ul>\n<li>finally, a combination of finding a common expansion and using transitivity to show the equivalence?</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">is_equal_non_unique_simplify</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">expr</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">non_unique_simplify</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">non_unique_simplify</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">non_unique_simplify</span><span class=\"w\"> </span><span class=\"n\">e₁</span><span class=\"w\"> </span><span class=\"n\">e₂</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"n\">non_unique_simplify</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">non_unique_simplify</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"n\">h₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">h₂</span>\n</code></pre></div>",
        "id": 475371461,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1728327746
    },
    {
        "content": "<p>OK, I've updated the blueprint chapter at <a href=\"https://teorth.github.io/equational_theories/blueprint/abstract-nonsense-chapter.html\">https://teorth.github.io/equational_theories/blueprint/abstract-nonsense-chapter.html</a> to have a (very sketchy at present) section on confluent theories, with the assertion that 477 in particular is confluent.  I think basically one needs to formalize all the theorems in this chapter and we will then be able to formalize a lot of the anti-implications in Fan's notes.  (It's building within CI right now, but the new section should be visible in a few minutes.)</p>\n<p>I've structured everything around the concept of a free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> generated by an alphabet <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> subject to a theory <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">\\Gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span> of equational laws; this generalizes the free magmas <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>X</mi></msub></mrow><annotation encoding=\"application/x-tex\">M_X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> (or <code>FreeMagma X</code>) we have already been using, which correspond to the case when the theory <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Γ</mi></mrow><annotation encoding=\"application/x-tex\">\\Gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\">Γ</span></span></span></span> is the empty set.  Basically, the free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> always exists by abstract nonsense, but is hard to work with in general, except in special cases such as the confluent case where there is a tractable explicit description.  The free magmas give criteria for implications: if a law <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>≃</mo><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">w \\simeq w&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4637em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≃</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> is such that <code>w, w'</code> have the same representation in the free magma <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mrow><mi>X</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">Γ</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">M_{X,\\Gamma}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct mtight\">,</span><span class=\"mord mtight\">Γ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, then the same property must hold for any law implied by that law, so any law that does not have this property is anti-implied by any law that does.</p>\n<p>I've started the first issue at <a href=\"https://github.com/teorth/equational_theories/pull/412\">equational#412</a> to define, and establish existence and uniqueness of, free magmas subject to a theory.  Once this is established it should be possible to proceed sequentially through the chapter until we reach the confluent portion.</p>\n<p>If anyone has any suggestions on how to arrange the blueprint better (or to make it easier to formalize in Lean), please let me know!</p>",
        "id": 475375022,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728328810
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475363492\">said</a>:</p>\n<blockquote>\n<p>Can you add that as a PR as a list of conjectures for now?  I can start working on the blueprint later to set up the general theory of confluent theories, and then the specific confluence of 477 later (probably just cut and pasting from <span class=\"user-mention silent\" data-user-id=\"562644\">Fan Zheng</span> 's text to begin with).</p>\n</blockquote>\n<p><a href=\"https://github.com/teorth/equational_theories/pull/413\">https://github.com/teorth/equational_theories/pull/413</a><br>\nTakes us down from 695 unknown (net 336) to 675 unknowns (net 328)</p>",
        "id": 475375139,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728328846
    },
    {
        "content": "<p>Is this a correct rephrasing of the idea: if an equation forms a confluent, terminating rewrite system, then the free magma quotiened by the equation (or equivalently, the set of normal forms) is a useful magma for counter examples, because the word problem is decidable and we can thus disprove lots of other laws easily.</p>\n<p>Oh, and because the simplification rule clearly terminates (it shortens the word), local confluence is sufficient for confluence, and in the first post we see how self-overlap of the rule is ruled out by arguing about the length of the assignment to the non-linear arguments of the rule.</p>",
        "id": 475384052,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728331354
    },
    {
        "content": "<p>It turns out that I'm reinventing some wheels…</p>\n<p>Good to see further developments of this line of attack. The notes above can be a starting point as it shows (if I didn't make mistakes) that every equation with at most 2 compositions, after adding some of its consequences (that is called saturation?), is confluent. For example, to Equation 9 [x = x(xy)] one needs to add Equation 3 [x=x(x(xy)))=xx], for otherwise x(x(xy)) has 2 simplifications. In the note I also worked out a few equations with 3 compositions (by hand) so if a program can be written to automate this, that would be fantastic.</p>\n<p>Also, with a bit of extension (adding a constant symbol), I believe that Equation 481 (or rather the \"saturation\" {x=y(x(y0)) (the original equation), x=0(x0), 0=xx}) is confluent (see Theorem 54). That would close a lot of the remaining open implications, right?</p>",
        "id": 475390019,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728333230
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"470149\">Joachim Breitner</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475384052\">said</a>:</p>\n<blockquote>\n<p>Is this a correct rephrasing of the idea: if an equation forms a confluent, terminating rewrite system, then the free magma quotiened by the equation (or equivalently, the set of normal forms) is a useful magma for counter examples, because the word problem is decidable and we can thus disprove lots of other laws easily.</p>\n<p>Oh, and because the simplification rule clearly terminates (it shortens the word), local confluence is sufficient for confluence, and in the first post we see how self-overlap of the rule is ruled out by arguing about the length of the assignment to the non-linear arguments of the rule.</p>\n</blockquote>\n<p>Yes, this is my understanding of the theory.  There could be additional subtleties when dealing with laws with an equal number of operations on both sides, as now rewriting preserves the length rather than shortens it, potentially leading to cycles of rewriting; but it seems the most interest right now is from unbalanced laws where we only rewrite in the direction of strictly shortening the length of a word, in which case I think things are fine and there is a unique minimal reduction.  Otherwise one has to place the word in some sort of \"normal form\", e.g., in lexicographically shortest order among all rewritings.</p>",
        "id": 475395026,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728334719
    },
    {
        "content": "<p>Abstract nonsense tells us that regardless of confluence, the free magma modulo the equation completely classifies the implication problem (an equation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo>≃</mo><msup><mi>w</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">w \\simeq w&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4637em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≃</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span> is implied by the law iff <code>w, w'</code> have the same normal form in this magma), but in general this would be an unusable classification due to the intractibility of the general word problem.  But apparently it is very good in certain special cases!</p>",
        "id": 475395623,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728334840
    },
    {
        "content": "<p>I asked this question in MathOverflow <a href=\"https://mathoverflow.net/questions/480260/what-is-known-about-the-word-problem-on-free-algebraic-models\">https://mathoverflow.net/questions/480260/what-is-known-about-the-word-problem-on-free-algebraic-models</a> , in hopes of obtaining more 'invariants' (terminology of chapter 8), i.e., equations we can apply this general strategy on.</p>",
        "id": 475397297,
        "sender_full_name": "Hernan Ibarra",
        "timestamp": 1728335144
    },
    {
        "content": "<p>I couldn’t resist and hacked this into lean in a totally unprincipled and hard-to-efficiently-generalize way, but the proof is complete, and <span class=\"user-mention\" data-user-id=\"562644\">@Fan Zheng</span> ’s justification for why there is no  self-overlap was spot on:<br>\n<a href=\"https://github.com/teorth/equational_theories/pull/417\">https://github.com/teorth/equational_theories/pull/417</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation477_Facts</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Facts</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">477</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1426</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1519</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2035</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2128</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3050</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3150</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 475399973,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728335744
    },
    {
        "content": "<p>For how many equations do we expect to apply this method? If it’s only three or four, then maybe it’s fine to just have three or four files as ugly as this one and move on?</p>\n<p>(I fear a more principled approach amounts to formalizing the basic theory of rewriting systems, with critical pairs etc. :-))</p>",
        "id": 475402465,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728336521
    },
    {
        "content": "<p>Wow, that was far faster than I expected!  I imagine the extra compilation time is minimal compared with the tens of thousands of generated Lean implications that we already have, so I don't see much harm in accepting this proof for now, but continuing to work longer-term on a more systematic approach (which could potentially be useful for future projects beyond this one).</p>",
        "id": 475403168,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728336865
    },
    {
        "content": "<p>In my opinion, getting that landed on <code>main</code> should take priority over beautifying it. Then the dashboard and equation explorer can show the true state of our knowledge, and folks who aren't following this particular thread won't accidentally start duplicating effort.</p>",
        "id": 475403177,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728336871
    },
    {
        "content": "<p>Ok, I un-drafted it</p>",
        "id": 475403317,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728336936
    },
    {
        "content": "<p>Once the AI contributions start rolling in, I don't think any human-written proof will come close to competing for \"ugliest proof submission\".</p>",
        "id": 475403677,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728337087
    },
    {
        "content": "<p>Challenge accepted.</p>",
        "id": 475403848,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728337188
    },
    {
        "content": "<p>Hmm, probably I can separate the “apply a rule bottom up” from “the concrete rule to look at” to apply this a bit more easily to other equations. And I'll see if the subtype of normal forms or the quotient type is more convenient.</p>",
        "id": 475405102,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728337819
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"470149\">Joachim Breitner</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475402465\">said</a>:</p>\n<blockquote>\n<p>For how many equations do we expect to apply this method? If it’s only three or four, then maybe it’s fine to just have three or four files as ugly as this one and move on?</p>\n<p>(I fear a more principled approach amounts to formalizing the basic theory of rewriting systems, with critical pairs etc. :-))</p>\n</blockquote>\n<p>I think most of the Vampire counterexample conjectures are essentially this</p>",
        "id": 475437034,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728351346
    },
    {
        "content": "<p>But Vampire wasn't able to settle the 477 implications, right?</p>",
        "id": 475438848,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728352653
    },
    {
        "content": "<p>It is now able to - I think I might've not run it on all equations correctly</p>",
        "id": 475440526,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728353291
    },
    {
        "content": "<p>Is it worth doing a new Vampire run on the ~900 remaining equations (or ~300 after reductions)?</p>",
        "id": 475443427,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728354195
    },
    {
        "content": "<p>now with a more generous run time allocation per equation</p>",
        "id": 475443686,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728354256
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"657719\">Terence Tao</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475443427\">said</a>:</p>\n<blockquote>\n<p>Is it worth doing a new Vampire run on the ~900 remaining equations (or ~300 after reductions)?</p>\n</blockquote>\n<p>My script is only seeing 675 implications <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 475446535,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728355019
    },
    {
        "content": "<p>does it resolve 3588 =&gt; ...? it looks simple and I just run the \"Knuth-Bendix Completion Visualizer\" tool and it claims that it can be restated as the confluent rule system  f(z, f(f(x, y), z)) -&gt; f(x, y),  f(f(f(z, x1), f(x, y)), f(z, x1)) -&gt; f(x, y)<br>\nbut the Wikipedia page of Vampire claims that \"reduction ordering on terms is the standard Knuth–Bendix ordering\" so I wonder if that means Vampire also finds a Knuth-Bendix completion and it was somehow missed or if it's fruitful to try kbcv and any other Knuth-Bendix implementation that can be found on everything</p>",
        "id": 475446689,
        "sender_full_name": "lyphyser",
        "timestamp": 1728355066
    },
    {
        "content": "<p>I think it's 675 modulo equivalence but like 991 not modulo equivalence</p>",
        "id": 475446859,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728355107
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"751429\">lyphyser</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475446689\">said</a>:</p>\n<blockquote>\n<p>does it resolve 3588 =&gt; ...? it looks simple and I just run the \"Knuth-Bendix Completion Visualizer\" tool and it claims that it can be restated as the confluent rule system  f(z, f(f(x, y), z)) -&gt; f(x, y),  f(f(f(z, x1), f(x, y)), f(z, x1)) -&gt; f(x, y)<br>\nbut the Wikipedia page of Vampire claims that \"reduction ordering on terms is the standard Knuth–Bendix ordering\" so I wonder if that means Vampire also finds a Knuth-Bendix completion and it was somehow missed or if it's fruitful to try kbcv and any other Knuth-Bendix implementation that can be found on everything</p>\n</blockquote>\n<p>Now it found it, yes. I think I found a bug in <code>find_powerful_theorems</code> which caused it to miss some implications previously. I'll add the conjectures</p>",
        "id": 475447236,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728355231
    },
    {
        "content": "<p>I'm particularly curious as to how it fares with 65 =&gt; *.  That has defeated all the human challengers so far.</p>",
        "id": 475447390,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728355280
    },
    {
        "content": "<p>It can't handle it, I've run it specifically on that for a few minutes. I suspect that it doesn't have a finite rule system</p>",
        "id": 475447557,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728355335
    },
    {
        "content": "<p>OK I'm glad to know that we haven't been completely replaced by Vampire lol</p>",
        "id": 475447644,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728355370
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475447236\">said</a>:</p>\n<blockquote>\n<p>Now it found it, yes. I think I found a bug in <code>find_powerful_theorems</code> which caused it to miss some implications previously. I'll add the conjectures</p>\n</blockquote>\n<p><a href=\"https://github.com/teorth/equational_theories/pull/422\">equational#422</a> has the new conjectures (and two size 21 counterexamples)</p>",
        "id": 475465264,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728361211
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475437034\">said</a>:</p>\n<blockquote>\n<p>I think most of the Vampire counterexample conjectures are essentially this</p>\n</blockquote>\n<p>Is it still useful for me to polish that manually written proof and extend it to the other facts in <a href=\"https://github.com/amirlb/equational_theories/blob/main/equational_theories/Generated/Confluence/ManuallySampled.lean\">https://github.com/amirlb/equational_theories/blob/main/equational_theories/Generated/Confluence/ManuallySampled.lean</a>, or will we have an automatically generated lean proof soon anyways?</p>",
        "id": 475478082,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728367927
    },
    {
        "content": "<p>I still don't know how to formalize the Vampire conjectures, I think this will be good to build a framework for that</p>",
        "id": 475478423,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728368025
    },
    {
        "content": "<p>I cleaned up the lean setup to the point where I am no longer embarrased about it, and prove all the conjectures added by <span class=\"user-mention\" data-user-id=\"302984\">@Amir Livne Bar-on</span>  in <a href=\"https://github.com/teorth/equational_theories/pull/413\">https://github.com/teorth/equational_theories/pull/413</a>:</p>\n<p><a href=\"https://github.com/teorth/equational_theories/pull/425\">https://github.com/teorth/equational_theories/pull/425</a></p>",
        "id": 475520800,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728380376
    },
    {
        "content": "<p>Is it possible to translate an equality saturation to a confluence-based proof? Consider for example 1110 -&gt; 8. Vampire says</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">SZS</span><span class=\"w\"> </span><span class=\"n\">output</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"n\">Saturation</span><span class=\"bp\">.</span>\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u9</span><span class=\"o\">,</span><span class=\"n\">negated_conjecture</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">sK0</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK0</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK0</span><span class=\"o\">,</span><span class=\"n\">sK0</span><span class=\"o\">)))</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u8</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X1</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X1</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X0</span><span class=\"o\">)),</span><span class=\"n\">X1</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">X0</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">SZS</span><span class=\"w\"> </span><span class=\"n\">output</span><span class=\"w\"> </span><span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Saturation</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>I'm guessing that's not enough information to directly construct a model, seeing as that's just a rewriting of the input - what do you need for that?</p>",
        "id": 475521842,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728380690
    },
    {
        "content": "<p>Equation 1110 looks confluent to me... I'll check why my program didn't find it</p>",
        "id": 475527805,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728382639
    },
    {
        "content": "<p>Indeed it is, added <code>Facts G [1110] [8, 411, 1629, 1832, 3253, 3319, 3862, 3915]</code> to <a href=\"https://github.com/teorth/equational_theories/pull/525\">equational#525</a>.</p>",
        "id": 475529664,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728383324
    },
    {
        "content": "<p>Is it possible to prove (ideally automatically) that most of the remaining equations are not confluent?</p>",
        "id": 475533599,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728384847
    },
    {
        "content": "<p>Maybe for some we already know they cannot be confluent because this would imply already-proven implications are false?</p>",
        "id": 475533659,
        "sender_full_name": "Will Sawin",
        "timestamp": 1728384873
    },
    {
        "content": "<p>That sounds feasible, if the known implications happen to be useful enough.</p>",
        "id": 475539140,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728386983
    },
    {
        "content": "<p>Alhough, looking at a random like like <a href=\"https://teorth.github.io/equational_theories/implications/?1076\">https://teorth.github.io/equational_theories/implications/?1076</a> it seems that it doesn't imply anything yet, so this doesn’t help us.</p>",
        "id": 475539436,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728387108
    },
    {
        "content": "<p>My naive approach wasn't general enough to find all failing unifications. I think I got correct code now, based on e-graphs. This raises the number of confluent equations from 53 to 93, and these account for 21 unknown equations. I don't fully trust my code yet, I'll go over it tomorrow, maybe with an existing e-graph library.</p>",
        "id": 475540835,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728387580
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> if I add --show_everything on to vampire_proofs.py I see that it produces a partial \"proof\" for the non-implication conjectures, that after deleting dead code just becomes a sequence of \"superpose\" tactics producing equations.<br>\nSo maybe it would work to formalize that superposition calculus is complete, express that sequence as a formal sequence of superpositions instead of tactics, and showing by decide that no further superposition calculus moves are possible in that state, and thus there is no superposition calculus proof and thus by completeness there is a counterexample?</p>",
        "id": 475541199,
        "sender_full_name": "lyphyser",
        "timestamp": 1728387717
    },
    {
        "content": "<p>That sounds possible, but it's hard to see that working without <code>native_decide</code>. I was hoping that once you have the set of equations there might be a simpler argument, maybe using confluence or something like that</p>",
        "id": 475541711,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728387882
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302984\">Amir Livne Bar-on</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475540835\">said</a>:</p>\n<blockquote>\n<p>My naive approach wasn't general enough to find all failing unifications. I think I got correct code now, based on e-graphs. This raises the number of confluent equations from 53 to 93, and these account for 21 unknown equations. I don't fully trust my code yet, I'll go over it tomorrow, maybe with an existing e-graph library.</p>\n</blockquote>\n<p>Or just directly extend the lean proof in <a href=\"https://github.com/teorth/equational_theories/pull/525\">equational#525</a> with the newly found ones?</p>",
        "id": 475543537,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728388471
    },
    {
        "content": "<p>I'll try that too, but I'm hoping for a bug that caused me to miss some more confluent expressions</p>",
        "id": 475545898,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728389172
    },
    {
        "content": "<p>is 1447 -&gt; 1431 provable by confluence? <a href=\"https://teorth.github.io/equational_theories/implications/?1447\">https://teorth.github.io/equational_theories/implications/?1447</a></p>",
        "id": 475548493,
        "sender_full_name": "David Renshaw",
        "timestamp": 1728390029
    },
    {
        "content": "<p>For those who haven’t memorized the rules and are too lazy to click on the link: 1447 is <code>x = (x ◇ y) ◇ (x ◇ (z ◇ x))</code></p>\n<p>I doubt it. For suitable values of z and x it can apply at <code>z ◇ x</code>, so you have a critical pair. Same for <code>x ◇ y</code>. The confluent rules so far all were very “non-linear” (mentioning the same variable twice, often next to each other, e.g. <code>y ◇ y</code>). And this non-linearity allowed us to rule out that the rule applies anyywhere in its lhs.</p>",
        "id": 475560866,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728393622
    },
    {
        "content": "<p>Vampire can't find a saturation, FWIW</p>",
        "id": 475561928,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728393932
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 475581863,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728398219
    },
    {
        "content": "<p>[EDIT: wrong proof ahead]</p>\n<p>While working on the e-graph based program to detect confluent expressions, I found a different class of expressions that seem confluent to me. An archetypical example is equation 11:<br>\nx = x * (y * y)<br>\nThis does not have the property of independent reductions the previous rules had. That rule was, the possible loci of reductions in an expression are spread far apart, in the sense that the sets of nodes corresponding to multiplications in the reduction rule are disjoint between the loci.<br>\nBut for equation 11 we have the expression <br>\n(a * a) * ((a * a) ** (a * a))<br>\nthat can be reduced at the root or at the position marked with **. One way reduces to a * a directly, and the other to (a * a) * (a * a) and them to a * a.<br>\nI think this rule is confluent, since every ambiguity in reduction would correspond to reducing a part of the expression to (E * E) * (E * E) or to E * E. If this acts later as the y*y part of the reduction rule then it doesn't matter which is chosen. And if sub-expressions of the (E * E) * (E * E) are reduced, we can do the same reduction in the E * E form.</p>",
        "id": 475921112,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728494627
    },
    {
        "content": "<p>Oops, this is not the general case. Equation 11 is not confluent. A=A(BB*BB)=AB</p>",
        "id": 475924519,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728496006
    },
    {
        "content": "<p>i think you mean <code>A=A(BB*BB)=A(BB)</code>?</p>",
        "id": 475924909,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1728496155
    },
    {
        "content": "<p>(so it isn't an example of non-confluence?)</p>",
        "id": 475925173,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1728496243
    },
    {
        "content": "<p>Mmmm. I managed to get confused, probably since I'm considering equation 13 at the same time. Yes, this is an example of unique reduction. And I think it's possible to prove that the general case works, but the proof will be a bit different from above.</p>",
        "id": 475925422,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728496331
    },
    {
        "content": "<p>Proof that Eq11 [x = x(yy)] is confluent:<br>\nWe show by induction on expression size that there is a unique simplification.<br>\nThe only possible ambiguity in applying reductions is if some sub-expression looks like <code>A(BB*BB)</code>. We want to show that the two possible reductions here give the same final result <code>simp(A)</code>.  By induction, the sub-expression <code>(BB)(BB)</code> has a unique simplification. To see what it is, we first fully simplify BB to get C. Then <code>CC</code> can be further simplified only if <code>C=DD</code> for some D, and <code>simp(CC)=simp(DD)</code>. We can assume that D is fully simplified, and by infinite descent the fully-simplified form is some <code>EE</code>, and then the whole expression can be reduced to A.</p>",
        "id": 476072517,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728547983
    },
    {
        "content": "<p>We can even have confluence for laws with <code>(x * y)</code> appearing in the bottom of the expression tree.</p>\n<p>Proof that Eq26 [x=(xy)y] is confluent:<br>\nAgain we prove unique simplification by induction on expressions. Ambiguity means a sub-expression of the form <code>((AB)B)B</code>. The two possible simplifications both result in <code>A*B</code>, which is smaller and therefore has a unique simplification.</p>",
        "id": 476073337,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728548256
    },
    {
        "content": "<p>Equation 1447 above though [x = (xy)(x(zx))] isn't confluent, here is a minimal counter-example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">((</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)))</span><span class=\"w\">  </span><span class=\"c1\">--&gt;  v ◇ u</span>\n<span class=\"o\">((</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)))</span><span class=\"w\">  </span><span class=\"c1\">--&gt;  v ◇ ((v ◇ u) ◇ (r ◇ (v ◇ u)))</span>\n</code></pre></div>",
        "id": 476075156,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728548786
    },
    {
        "content": "<p>Note that it is sometimes possible to turn a non-confluent equation into a confluent rewrite system by applying what is known as Knuth-Bendix completion or an equivalent algorithm. For example I manually proved 3588 !-&gt; and 115 -&gt;! like that, although instead of proving confluence directly I simple prove that the hypothesis equation holds by showing that inner rule rewrites do nothing. I found a paper that defines everything - \"Critical pair criteria for completion\" by Bachmair, Nachum Dershowitz [https://www.sciencedirect.com/science/article/pii/S074771718880018X - has full pdf]</p>",
        "id": 476099245,
        "sender_full_name": "lyphyser",
        "timestamp": 1728556543
    },
    {
        "content": "<p>Thanks! This will definitely be my next step.</p>\n<p>To report some negative results:<br>\nMy search found 58 equations of the form <code>x = E</code> that are provably confluent, and found counter-examples for all other equations of this form except for 32 equations. None of these 90 equations however have unknown implications.</p>\n<p>So what makes sense to try next is to run Knuth-Bendix on the remaining equations that have unknown implications, with a variety of orderings, and see if we can get a confluent system.</p>",
        "id": 476108996,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728559630
    },
    {
        "content": "<p>You can also try to utilize the completions from Vampire</p>",
        "id": 476110128,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728559984
    },
    {
        "content": "<p>Mmmm, speaking of Vampire, there are 16 non-implications from 3 confluent equations I found yesterday/today, in the Vampire conjectures file. I'll look into proving confluence in Lean.</p>",
        "id": 476117178,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728562205
    },
    {
        "content": "<p>I think all the Vampire conjectures might be from equations that are turned into confluent rule systems by it</p>",
        "id": 476117825,
        "sender_full_name": "lyphyser",
        "timestamp": 1728562395
    },
    {
        "content": "<p>there are however some, like 481 -&gt; ... that are conjectured but for me running Vampire with a 1 minute timeout on it using vampire_proofs.py (modified to print to stdout) gives a time limit exceeded instead of saturated, so I wonder why they are conjectured (perhaps it was run with a longer timeout or faster CPU, or with different options?)</p>",
        "id": 476118210,
        "sender_full_name": "lyphyser",
        "timestamp": 1728562507
    },
    {
        "content": "<p>It uses <code>vampire_proofs_cyc.py</code>. <code>481 -&gt; 1496</code>, for instance, outputs:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u21</span><span class=\"o\">,</span><span class=\"n\">negated_conjecture</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">sK0</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"n\">sF6</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u26</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK1</span><span class=\"o\">,</span><span class=\"n\">sK0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">sF3</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u31</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK1</span><span class=\"o\">,</span><span class=\"n\">sF4</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">sF5</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u36</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK2</span><span class=\"o\">,</span><span class=\"n\">sK2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">sF4</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u41</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sF3</span><span class=\"o\">,</span><span class=\"n\">sF5</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">sF6</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u79</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">sK1</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sF4</span><span class=\"o\">,</span><span class=\"n\">sF5</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u87</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">sF3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK1</span><span class=\"o\">,</span><span class=\"n\">sF6</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u43</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X1</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">sF4</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">X1</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u17</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X1</span><span class=\"o\">,</span><span class=\"n\">X2</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">sF8</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X1</span><span class=\"o\">,</span><span class=\"n\">X2</span><span class=\"o\">))</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u55</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">X0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">sF4</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u72</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sK1</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X0</span><span class=\"o\">,</span><span class=\"n\">sF5</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">X0</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n\n<span class=\"n\">cnf</span><span class=\"o\">(</span><span class=\"n\">u65</span><span class=\"o\">,</span><span class=\"kn\">axiom</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">sF4</span><span class=\"o\">,</span><span class=\"n\">mul</span><span class=\"o\">(</span><span class=\"n\">X2</span><span class=\"o\">,</span><span class=\"n\">sF4</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">X2</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 476118914,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728562722
    },
    {
        "content": "<p>This looks more like an explicit description of a model then a confluence argument, though</p>",
        "id": 476119018,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728562757
    },
    {
        "content": "<p>so it seems that the vampire output and behavior greatly depends on the command line options, including unexpected ones like --cores and --proof_extra</p>",
        "id": 476124613,
        "sender_full_name": "lyphyser",
        "timestamp": 1728564174
    },
    {
        "content": "<p>I don't think so, the relevant part there is <code>--mode casc</code></p>",
        "id": 476124771,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728564228
    },
    {
        "content": "<p>for me, it produces your output if I run it with --mode casc; however, if I run it without --mode casc like vampire_proofs.py does it instead triggers a time limit in saturation phase</p>",
        "id": 476124979,
        "sender_full_name": "lyphyser",
        "timestamp": 1728564287
    },
    {
        "content": "<p>on 3588 -&gt; 3862 with --mode casc --cores 0, it gives this, which is the confluent rule system that Knuth-Bendix completion:<br>\ncnf(u7,axiom,<br>\n    mul(X0,X1) = mul(X2,mul(mul(X0,X1),X2))).</p>\n<p>cnf(u9,axiom,<br>\n    mul(X0,X1) = mul(mul(mul(X2,X3),mul(X0,X1)),mul(X2,X3))).</p>",
        "id": 476125827,
        "sender_full_name": "lyphyser",
        "timestamp": 1728564469
    },
    {
        "content": "<p>(also prints the negated conjecture, but nothing else)</p>",
        "id": 476126039,
        "sender_full_name": "lyphyser",
        "timestamp": 1728564530
    },
    {
        "content": "<p>as for 481 -&gt; 1496, I think it might be presenting this rule system, which I think is probably confluent:<br>\ncnf(u55,axiom,<br>\n    mul(X0,X0) = sF4).</p>\n<p>cnf(u43,axiom,<br>\n    mul(X0,mul(X1,mul(X0,sF4))) = X1).</p>\n<p>cnf(u65,axiom,<br>\n    mul(sF4,mul(X2,sF4)) = X2).</p>\n<p>here x * x = y * y for any x, y, so it introduces sF4 = sK2 * sK2 to represent that value, since to have a normal form one has to either add an additional symbol or pick one value to represent x * x</p>",
        "id": 476128849,
        "sender_full_name": "lyphyser",
        "timestamp": 1728565327
    },
    {
        "content": "<p>basically it seems a rule system might be extractable from the Vampire output by defining a set of \"used\" symbols that initially starts with {X0, X1, X2, X3, X4, X5} picking all equations where the LHS only contains them, then adding the symbols in the rhs to the \"used\" symbol set and recursing. Not really sure whether this works in general though.</p>",
        "id": 476129611,
        "sender_full_name": "lyphyser",
        "timestamp": 1728565544
    },
    {
        "content": "<p>in this case this algorithm also adds cnf(u17,axiom, mul(X0,mul(X1,X2)) = sF8(X0,X1,X2)), but it seems superfluous given that sF8 is not referenced anywhere else</p>",
        "id": 476129945,
        "sender_full_name": "lyphyser",
        "timestamp": 1728565636
    },
    {
        "content": "<p>interestingly Vampire mentions \"twee goal transformation\" and it turns out that Twee is a separate theorem prover for equational reasoning, so it might be worth to try running Twee directly on the problems</p>",
        "id": 476131196,
        "sender_full_name": "lyphyser",
        "timestamp": 1728565969
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302984\">Amir Livne Bar-on</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/476072517\">said</a>:</p>\n<blockquote>\n<p>Proof that Eq11 [x = x(yy)] is confluent:</p>\n</blockquote>\n<p>Nice! But no unknown implications here, right? So no point putting this into <code>Confluence.lean</code>?</p>\n<p>BTW, the proof can be rephrased as follows:</p>\n<p>The rewrite rule x(yy) → x has the critical pair (i.e. an expression where the rule applies in different ways):</p>\n<p>x ← x((zz)(zz)) → x(zz)</p>\n<p>which can be joined by taking one step  x(zz) → x on the right.</p>\n<p>That gives local confluence, and because the rule is terminating, that’s confluence.</p>",
        "id": 476131553,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728566075
    },
    {
        "content": "<p>I've been using kbcv to run knuth-bendix, and it works quickly for the cases that it terminates on: <a href=\"http://cl-informatik.uibk.ac.at/software/kbcv/\">http://cl-informatik.uibk.ac.at/software/kbcv/</a>. (As a historical note, Knuth invented Knuth-Bendix in order to resolve questions specifically regarding equation 168 and equation 26302).</p>",
        "id": 476131749,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1728566140
    },
    {
        "content": "<p>so running Twee on 481 -&gt; 1496 gives this output:</p>\n<p>Here is the input problem:<br>\n  Axiom 1 (flattening): mul3 = mul(y, x).<br>\n  Axiom 2 (flattening): mul2 = mul(z, z).<br>\n  Axiom 3 (flattening): mul4 = mul(y, mul(z, z)).<br>\n  Axiom 4 (lhs): X = mul(Y, mul(X, mul(Y, mul(Z, Z)))).<br>\n  Axiom 5 (flattening): mul5 = mul(mul(y, x), mul(y, mul(z, z))).<br>\n  Goal 1 (rhs): x = mul(mul(y, x), mul(y, mul(z, z))).</p>\n<ol>\n<li>mul(y, x) -&gt; mul3</li>\n<li>mul(z, z) -&gt; mul2</li>\n<li>mul(y, mul2) -&gt; mul4</li>\n<li>mul(X, mul(Y, mul(X, mul(Z, Z)))) -&gt; Y</li>\n<li>mul(mul3, mul4) -&gt; mul5</li>\n<li>mul(X, X) ~&gt; mul(?, ?)</li>\n<li>mul(?, ?) -&gt; mul2</li>\n<li>mul(X, mul(Y, mul(X, mul2))) -&gt; Y</li>\n<li>mul(y, mul(X, mul4)) -&gt; X</li>\n<li>mul(y, mul5) -&gt; mul3</li>\n<li>mul(mul2, mul(X, mul2)) -&gt; X</li>\n<li>mul(mul2, mul4) -&gt; y</li>\n</ol>\n<p>Ran out of critical pairs. This means the conjecture is not true.<br>\nHere is the final rewrite system:<br>\n  mul(X, X) ~&gt; mul(?, ?)<br>\n  mul(?, ?) -&gt; mul2<br>\n  mul(y, mul5) -&gt; mul3<br>\n  mul(y, x) -&gt; mul3<br>\n  mul(y, mul2) -&gt; mul4<br>\n  mul(mul3, mul4) -&gt; mul5<br>\n  mul(mul2, mul4) -&gt; y<br>\n  mul(y, mul(X, mul4)) -&gt; X<br>\n  mul(mul2, mul(X, mul2)) -&gt; X<br>\n  mul(X, mul(Y, mul(X, mul2))) -&gt; Y</p>\n<p>RESULT: CounterSatisfiable (the conjecture is false).</p>",
        "id": 476131948,
        "sender_full_name": "lyphyser",
        "timestamp": 1728566198
    },
    {
        "content": "<p>it looks like the lowercase x/y are actually constants, not variables</p>\n<p>running on the output the same algorithm I described before gives this:<br>\nmul(X, X) ~&gt; mul(?, ?)<br>\nmul(?, ?) -&gt; mul2<br>\nmul(mul2, mul(X, mul2)) -&gt; X<br>\nmul(X, mul(Y, mul(X, mul2))) -&gt; Y</p>\n<p>which is the same as the rule system described above. I don't quite understand why it introduces the extra symbols since they seem to be impossible to obtain from an expression not containing them</p>",
        "id": 476132833,
        "sender_full_name": "lyphyser",
        "timestamp": 1728566440
    },
    {
        "content": "<p>seems like it would be worth trying Twee on all unknowns, will do so once I manage to setup a suitable environment and compile it</p>",
        "id": 476133382,
        "sender_full_name": "lyphyser",
        "timestamp": 1728566605
    },
    {
        "content": "<p>(I have been running the precompiled binary, but it's from 2022 while there seem to be recent commits)</p>",
        "id": 476133794,
        "sender_full_name": "lyphyser",
        "timestamp": 1728566720
    },
    {
        "content": "<p>kbcv can't handle this case since it says it can't orient f(X, X) = f(Y, Y)</p>",
        "id": 476133907,
        "sender_full_name": "lyphyser",
        "timestamp": 1728566752
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"751429\">lyphyser</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/476133907\">said</a>:</p>\n<blockquote>\n<p>kbcv can't handle this case since it says it can't orient f(X, X) = f(Y, Y)</p>\n</blockquote>\n<p>Indeed, but adding 1496 as well produces proofs of x = y, so any nontrivial model of 481 should give a counterexample to 481 =&gt; 1496</p>",
        "id": 476134201,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1728566828
    },
    {
        "content": "<p>so apparently Vampire doesn't use twee, but instead just implements a preprocessing step inspired by Twee that it calls \"twee goal transformation\" - <a href=\"https://github.com/vprover/vampire/blob/master/Shell/TweeGoalTransformation.cpp\">https://github.com/vprover/vampire/blob/master/Shell/TweeGoalTransformation.cpp</a></p>",
        "id": 476135177,
        "sender_full_name": "lyphyser",
        "timestamp": 1728567120
    },
    {
        "content": "<p>[Quoting…]</p>\n<p>No new unknowns, but they prove some conjectures (unless I got confused with the files, and old confluent rules prove these conjectures)</p>",
        "id": 476153388,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728571842
    },
    {
        "content": "<p>Hmm, then I misread <a href=\"https://teorth.github.io/equational_theories/implications/?11\">https://teorth.github.io/equational_theories/implications/?11</a>, I don't get unknowns even with “Treat conjectures as unknown” ticked.</p>",
        "id": 476163162,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728574558
    },
    {
        "content": "<p>Equation 11 being confluent doesn't add anything, but eqs 1086, 2497, 2541 together prove 16 conjectures<br>\n<a href=\"https://github.com/teorth/equational_theories/pull/497\">https://github.com/teorth/equational_theories/pull/497</a></p>",
        "id": 476188257,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728582530
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"751429\">@lyphyser</span> does Twee solve any unknown implications?</p>",
        "id": 476189285,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1728582896
    },
    {
        "content": "<p>so far I haven't found any, and it seems that it solves the same set that is currently conjectured by vampire although I haven't finishing checking that</p>",
        "id": 476195233,
        "sender_full_name": "lyphyser",
        "timestamp": 1728584712
    },
    {
        "content": "<p>glad to see that my code was cargocultable :-)</p>",
        "id": 476206770,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728587863
    },
    {
        "content": "<p>I confirm that Twee solves precisely the same set of implications that have Vampire conjectures</p>",
        "id": 476246636,
        "sender_full_name": "lyphyser",
        "timestamp": 1728604338
    },
    {
        "content": "<p>(with a 10 seconds timeout)</p>",
        "id": 476246654,
        "sender_full_name": "lyphyser",
        "timestamp": 1728604350
    },
    {
        "content": "<p>Seems there is some existing theory behind this confluence argument. Are we planning to put it in the paper?</p>",
        "id": 476599833,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728819444
    },
    {
        "content": "<p>It would be good to have someone write a blueprint chapter dedicated to confluence and how one can automatically search for it.  Much of the theory can presumably be outsourced to textbooks and papers, but having the references would be good.  That can then form the base of a subsequent section of the final paper.  (A bare-bones definition of confluence is already at <a href=\"https://teorth.github.io/equational_theories/blueprint/abstract-nonsense-chapter.html#a0000000037\">https://teorth.github.io/equational_theories/blueprint/abstract-nonsense-chapter.html#a0000000037</a> , so one can build upon that, or start a fresh chapter.)</p>\n<p>I opened <a href=\"https://github.com/teorth/equational_theories/pull/555\">equational#555</a> for this task.</p>",
        "id": 476610593,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728829866
    },
    {
        "content": "<p>Well,  then I guess it takes a while to align my terminology with the existing literature. Also is the abstract theory going to be formalized in Lean, or are we going to formalize individual non-implications on a ad hoc basis?</p>",
        "id": 476631646,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728848554
    },
    {
        "content": "<p>That's a good question.  I think the other contributors to this thread will need to weigh in on how their formalizations are going, and whether it is necessary to lay out a systematic theory (in blueprint and/or in Lean) first.</p>",
        "id": 476632092,
        "sender_full_name": "Terence Tao",
        "timestamp": 1728849050
    },
    {
        "content": "<p>Just brushed up the basics of confluence, so here's a (maybe stupid) question: is the rewriting system corresponding to Equation 46 (xy=zw) terminating? It seems not (because a product can be rewritten to itself), but if we add a constant symbol (say 0) and turns that equation to xy=0 then it is terminating. Is this trick handled by any automated provers?</p>",
        "id": 476636100,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728851996
    },
    {
        "content": "<p>Is that even a rewriting system? A normal rewrite rule would not mention variables on the right hand side that don't appear on the left hand side.</p>",
        "id": 476636277,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728852138
    },
    {
        "content": "<p>But Equation 46 does allow terms to have a \"normal form\" in some sense: if a term has at least 2 variables (not necessarily distinct) then its normal form is 0; if it has only 1 variable, then it is already in normal form.</p>",
        "id": 476639196,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728855347
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/475437034\">ha dicho</a>:</p>\n<blockquote>\n<p>I think most of the Vampire counterexample conjectures are essentially this</p>\n</blockquote>\n<p>For the record, Prover9 also implements the Knuth-Bendix algorithm (one has to choose \"kbo\" at Prover9 options/Basic options/order). In fact, I run KB in Prover9 for days with high resources on the Astérix/Obélix equations (and also Dupond/Dupont) just in case it found some \"monstruous\" implication between them, and also on Equation 5105 (the conjectured Austin law) implying the singleton law (with no success).</p>",
        "id": 476640712,
        "sender_full_name": "Jose Brox",
        "timestamp": 1728856963
    },
    {
        "content": "<p>Is it possible to have a glimpse oof the rewriting rule generated? Some equation may generated an infinite set of rewrite rules with a certain pattern that can be made out by the hunan eye.</p>",
        "id": 476642797,
        "sender_full_name": "Fan Zheng",
        "timestamp": 1728859256
    },
    {
        "content": "<p>So I am an \"expert\" with strong scare quotes, maybe I'll give a try to write such a section. Generally confluence is usually most easily proven on <strong>strongly normalizing</strong> (or terminatin) systems rather than weakly normalizing systems, though there are techniques which can account for both.</p>",
        "id": 477039233,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729013567
    },
    {
        "content": "<p>The moratorium on fresh variables on the rhs is common, but it's reasonable to forgo it, and confluence makes sense in such a setting.</p>",
        "id": 477039417,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729013627
    },
    {
        "content": "<p>Is there a completeness result for Knuth-Bendix completion? That is, does there always exist an order on terms that makes the algorithm converge?</p>",
        "id": 477048587,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1729017114
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302984\">Amir Livne Bar-on</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/477048587\">schrieb</a>:</p>\n<blockquote>\n<p>Is there a completeness result for Knuth-Bendix completion? That is, does there always exist an order on terms that makes the algorithm converge?</p>\n</blockquote>\n<p>I don't think so.  It's not always possible to find a term order that makes the algorithm converge for every possible equation set.</p>",
        "id": 477061376,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1729022343
    },
    {
        "content": "<p>No there does not</p>",
        "id": 477067693,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729025057
    },
    {
        "content": "<p>the subject of \"unfailing completion\" is quite well-developed though, where one orients some of the equations, then keeps the others around and uses an order which is \"total on ground terms\" to compute further critical pairs</p>",
        "id": 477067896,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729025160
    },
    {
        "content": "<p>Still, of course, the algorithm may fail to converge</p>",
        "id": 477067982,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729025185
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"302984\">Amir Livne Bar-on</span> <a href=\"#narrow/stream/458659-Equational/topic/Equation.20477/near/477048587\">ha dicho</a>:</p>\n<blockquote>\n<p>Is there a completeness result for Knuth-Bendix completion? That is, does there always exist an order on terms that makes the algorithm converge?</p>\n</blockquote>\n<p>For a simple example, consider KB on xy=yx. Then xy reduces to yx and yx reduces to xy, giving a loop. Hence the orientations/orderings generalizations of KB.</p>",
        "id": 477088684,
        "sender_full_name": "Jose Brox",
        "timestamp": 1729035137
    },
    {
        "content": "<p>A more reasonable question is: if a completion exists (a _finite_ rewrite system that is terminating and confluent which contains the equational theory) is there an order which guarantees the algorithm will find it?</p>\n<p>I think the answer is yes? Just taking the order such that <code>t &gt; u</code> iff <code>t -&gt; u</code> in the hypothetical system. I've just learned that the completed system is somewhat unique if certain additional conditions are required, which seems crazy.</p>\n<p>But it is possible that no such <em>finite</em> system exists, though KB finds an infinite system \"in the limit\".</p>",
        "id": 477089491,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729035687
    },
    {
        "content": "<p>oh and here's a simple example (I love rewriting, all the counter-examples are tiny)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">f</span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 477090011,
        "sender_full_name": "Cody Roux",
        "timestamp": 1729036007
    }
]