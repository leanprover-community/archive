[
    {
        "content": "<p>I finally got to work on 1729 vs 917. See below the code from the equation explorer:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span>\n\n<span class=\"kn\">infix</span><span class=\"o\">:</span><span class=\"mi\">65</span><span class=\"w\"> </span><span class=\"s2\">\" ◇ \"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Magma</span><span class=\"bp\">.</span><span class=\"n\">op</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Equation1729</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Equation917</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">◇</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">))</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation1729_implies_Equation917</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1729</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation917</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation1729_not_implies_Equation917</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Equation1729</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">Equation917</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I finally found some time to work on this, and because I had just started learning z3,  I ran the following naive python z3 script:</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"kn\">from</span> <span class=\"nn\">z3</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">Int</span><span class=\"p\">(</span><span class=\"s1\">'x'</span><span class=\"p\">)</span>\n    <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">Int</span><span class=\"p\">(</span><span class=\"s1\">'y'</span><span class=\"p\">)</span>\n    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">Solver</span><span class=\"p\">()</span>\n    <span class=\"n\">op</span> <span class=\"o\">=</span> <span class=\"n\">Function</span><span class=\"p\">(</span><span class=\"s1\">'op'</span><span class=\"p\">,</span> <span class=\"n\">IntSort</span><span class=\"p\">(),</span> <span class=\"n\">IntSort</span><span class=\"p\">(),</span> <span class=\"n\">IntSort</span><span class=\"p\">())</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"n\">op</span><span class=\"p\">((</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">),</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">x</span><span class=\"p\">),</span><span class=\"n\">y</span><span class=\"p\">))))</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">!=</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">),</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">))))</span>\n    <span class=\"nb\">print</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n    <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">check</span><span class=\"p\">()</span>\n    <span class=\"k\">if</span> <span class=\"n\">res</span> <span class=\"o\">==</span> <span class=\"n\">sat</span><span class=\"p\">:</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">())</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s1\">'__main__'</span><span class=\"p\">:</span>\n    <span class=\"n\">main</span><span class=\"p\">()</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code>\n</code></pre></div>",
        "id": 480500490,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730744011
    },
    {
        "content": "<p>I got back the following claimed counter example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)),</span>\n<span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">!=</span><span class=\"w\"> </span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">op</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)))]</span>\n<span class=\"o\">[</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">[(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span>\n<span class=\"w\">       </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span>\n<span class=\"w\">       </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span>\n<span class=\"w\">       </span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">,</span>\n<span class=\"w\">       </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span>\n<span class=\"w\">       </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">,</span>\n<span class=\"w\">       </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">]]</span>\n</code></pre></div>",
        "id": 480500579,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730744043
    },
    {
        "content": "<p>Since I am new to this whole ATP business, I want to check if this is really doing what I think it is</p>",
        "id": 480500645,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730744063
    },
    {
        "content": "<p>More specifically, I can't believe it would be this easy, so where am I going wrong?</p>",
        "id": 480500771,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730744120
    },
    {
        "content": "<p>This can't be, since all squares are 1, and left-multiplication by 1 is not surjective. I'm not familiar with z3, but probably it's missing a \"for all\" somewhere?</p>",
        "id": 480501812,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1730744506
    },
    {
        "content": "<p>I am following this guide here: <a href=\"https://ericpony.github.io/z3py-tutorial/guide-examples.htm\">https://ericpony.github.io/z3py-tutorial/guide-examples.htm</a></p>",
        "id": 480502586,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730744774
    },
    {
        "content": "<p>In particular the section on functions</p>",
        "id": 480502946,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730744909
    },
    {
        "content": "<p>I think z3 is telling you that for x=4 and y=0, 1729 is satisfied but not 917, but it is not claiming that 1729 is satisfied for all x and y. You can see in the model how it has specified x and y.</p>",
        "id": 480503850,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1730745238
    },
    {
        "content": "<p>Right that makes more sense</p>",
        "id": 480504358,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730745448
    },
    {
        "content": "<p>But I don't get that from the tutorial docs</p>",
        "id": 480504388,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730745462
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"771090\">Matthew Bolan</span> <a href=\"#narrow/channel/458659-Equational/topic/Eq.201729.20does.20not.20imply.20Eq.20917/near/480503850\">schrieb</a>:</p>\n<blockquote>\n<p>I think z3 is telling you that for x=4 and y=0, 1729 is satisfied but not 917, but it is not claiming that 1729 is satisfied for all x and y. You can see in the model how it has specified x and y.</p>\n</blockquote>\n<p>You could try something like this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">implication</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ForAll</span><span class=\"o\">([</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">],</span>\n<span class=\"w\">    </span><span class=\"n\">Implies</span><span class=\"o\">(</span>\n<span class=\"w\">        </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)),</span>\n<span class=\"w\">        </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)))</span>\n<span class=\"w\">    </span><span class=\"o\">)</span>\n<span class=\"o\">)</span>\n</code></pre></div>\n<p>(I'll have a look at that one too a little bit later)</p>\n<p>EDIT: and then </p>\n<p><code>s.add(Not(implication))</code></p>",
        "id": 480504654,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730745572
    },
    {
        "content": "<p>that looks stronger. In fact it's saying that the Eq 917 will not satisfy that equality for any x and y. We just need it to dissatisfy the equation at some x  and y</p>",
        "id": 480505432,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730745878
    },
    {
        "content": "<p>I think this is correct:</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"k\">def</span> <span class=\"nf\">main</span><span class=\"p\">():</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">Int</span><span class=\"p\">(</span><span class=\"s1\">'x'</span><span class=\"p\">)</span>\n    <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">Int</span><span class=\"p\">(</span><span class=\"s1\">'y'</span><span class=\"p\">)</span>\n    <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">Solver</span><span class=\"p\">()</span>\n    <span class=\"n\">set_param</span><span class=\"p\">(</span><span class=\"n\">proof</span><span class=\"o\">=</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"n\">op</span> <span class=\"o\">=</span> <span class=\"n\">Function</span><span class=\"p\">(</span><span class=\"s1\">'op'</span><span class=\"p\">,</span> <span class=\"n\">IntSort</span><span class=\"p\">(),</span> <span class=\"n\">IntSort</span><span class=\"p\">(),</span> <span class=\"n\">IntSort</span><span class=\"p\">())</span>\n    <span class=\"n\">eq1729</span> <span class=\"o\">=</span> <span class=\"n\">ForAll</span><span class=\"p\">([</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">],</span> <span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">),</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">),</span> <span class=\"n\">y</span><span class=\"p\">)))</span>\n    <span class=\"n\">not_eq917</span> <span class=\"o\">=</span> <span class=\"n\">Exists</span><span class=\"p\">([</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">],</span> <span class=\"n\">x</span> <span class=\"o\">!=</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">),</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">))))</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">eq1729</span><span class=\"p\">)</span>\n    <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">not_eq917</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span>\n    <span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">check</span><span class=\"p\">()</span>\n    <span class=\"k\">if</span> <span class=\"n\">res</span> <span class=\"o\">==</span> <span class=\"n\">sat</span><span class=\"p\">:</span>\n        <span class=\"n\">m</span> <span class=\"o\">=</span> <span class=\"n\">s</span><span class=\"o\">.</span><span class=\"n\">model</span><span class=\"p\">()</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"p\">)</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"eq 1729 : \"</span><span class=\"p\">,</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">((</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">),</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">x</span><span class=\"p\">),</span><span class=\"n\">y</span><span class=\"p\">)))))</span>\n        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">\"eq 719: \"</span><span class=\"p\">,</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">),</span> <span class=\"n\">op</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">))))</span>\n</code></pre></div>",
        "id": 480506023,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730746093
    },
    {
        "content": "<p>I think in the previous example z3 interpreted all my constraints as existentials. Makes sense in hindsight</p>",
        "id": 480507486,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730746590
    },
    {
        "content": "<p>And I am guessing now I can add more constraints and refine this search.</p>",
        "id": 480507763,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730746687
    },
    {
        "content": "<p>Is this correct?</p>",
        "id": 480507781,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730746696
    },
    {
        "content": "<p>More specifically how do I ensure that z3 uses my constraints to prune the search?</p>",
        "id": 480509651,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730747465
    },
    {
        "content": "<p>It looks good to me, but perhaps I am missing something. I only recently started experimenting with Python z3 API.</p>\n<p>I ran your latest script, but it didn't give me a counterexample.</p>",
        "id": 480511721,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730748389
    },
    {
        "content": "<p>I wouldn't expect it to terminate fast</p>",
        "id": 480511775,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730748413
    },
    {
        "content": "<p>I ran it for an hour before deciding I need to take my machine home</p>",
        "id": 480511850,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730748437
    },
    {
        "content": "<p>In fact the first reason I thought my initial answer was wrong was because how fast it finished</p>",
        "id": 480511913,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730748478
    },
    {
        "content": "<p>Btw. tried with Duper. 100,000 heartbeats - fail. Running 1,000,000 heartbeats now.</p>",
        "id": 480512734,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730748828
    },
    {
        "content": "<p>1,000,000 heartbeats was also a fail. Scared to run 10,000,000 <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
        "id": 480512920,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730748914
    },
    {
        "content": "<p>I don't expect unconstrained search to succeed in reasonable time</p>",
        "id": 480513548,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730749163
    },
    {
        "content": "<p>The above script is a starting point</p>",
        "id": 480513890,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1730749296
    },
    {
        "content": "<p>Duper with 10,000,000 heartbeats finished after ca. 10 minutes. Didn't work.</p>",
        "id": 480515216,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730749793
    }
]