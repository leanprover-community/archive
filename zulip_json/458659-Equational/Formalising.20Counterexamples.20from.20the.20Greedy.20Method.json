[
    {
        "content": "<p>Is <code>Fresh</code> finite? Can it be replaced by<code>Fin</code>?</p>",
        "id": 484150010,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732452726
    },
    {
        "content": "<p>it is a finite enumerative type (of order 10 in the current construction). It makes pattern matching easier, not sure if it also works that nicely with Fin.</p>",
        "id": 484150167,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732452914
    },
    {
        "content": "<p>We can use fin_cases. It might be easier to write a tactic with Fin</p>",
        "id": 484150188,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732452950
    },
    {
        "content": "<p>Writing a new inductive type feels a bit harder</p>",
        "id": 484150232,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732452968
    },
    {
        "content": "<p>I am almost done with my 3308 construction. In retrospect it might be also possible to work directly with <code>ℕ ⊕ ℕ</code>. It is definitely convenient to use inductive types for the partial solutions</p>",
        "id": 484150603,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732453320
    },
    {
        "content": "<p>Are you setting them up manually?</p>",
        "id": 484158068,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732460669
    },
    {
        "content": "<p>I am not sure what you mean, but I guess the answer is yes.</p>",
        "id": 484158587,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732461178
    },
    {
        "content": "<p>You can have a look at the PR if you want</p>",
        "id": 484158668,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732461245
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/906\">equational#906</a></p>",
        "id": 484158724,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732461315
    },
    {
        "content": "<p>Just took a look at it and I think this can substantially benefit from Fin and <code>fin_cases</code></p>",
        "id": 484196539,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732498786
    },
    {
        "content": "<p>I am away on an academic retreat for the next two days, but if I find time, I will try to rework this proof and see if a general method can be extracted</p>",
        "id": 484196662,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732498894
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 484578005,
        "sender_full_name": "Eric Taucher",
        "timestamp": 1732647791
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"562819\">@Bernhard Reinke</span> : See <a href=\"https://github.com/teorth/equational_theories/pull/928\">equational#928</a> where I have replaced <code>Fresh</code> with <code>Fin 10</code>.  This is a draft PR and I will see if I can factor out more.</p>",
        "id": 484631525,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732676188
    },
    {
        "content": "<p>If you want, you can compare it the the new construction in 1722. The starting lemmas there are a bit more general (and hopefully useful for the other greedy methods), but I don't know where to put them</p>",
        "id": 484649759,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732689555
    },
    {
        "content": "<p>Would it be useful to change the carrier from the free group with generators from Nat to one with generators from an arbitrary countable set? I have the code for that in a side branch</p>",
        "id": 484653113,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1732691415
    },
    {
        "content": "<p>I think it might be useful for the construction for 1729</p>",
        "id": 484655717,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732692757
    },
    {
        "content": "<p>So I took a look at the 1722 file. A few comments:</p>\n<ol>\n<li>I see that the adjoinFresh construction and theorems are repeated. </li>\n<li>I believe FinEnum is on its way out for some reason, so using it might not be the best way to go ahead. We can use Fintype.elems and convert it to a list.</li>\n<li>I think you should just use <code>Fin n</code> in some of the cases.</li>\n</ol>",
        "id": 484709353,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732710546
    },
    {
        "content": "<p>The obvious first target for generalisation is to extract the theory of embeddings and equivalences that you are using into general theorems and instantiate them in each equation's case</p>",
        "id": 484709746,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732710692
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"562819\">@Bernhard Reinke</span> : If you  don't mind it, I would prefer to merge <a href=\"https://github.com/teorth/equational_theories/pull/928\">equational#928</a> because I think it would be easier to work on the refactoring business separately</p>",
        "id": 484734453,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732717787
    },
    {
        "content": "<p>.</p>",
        "id": 484734698,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732717846
    },
    {
        "content": "<p>20 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"458659\" href=\"/#narrow/channel/458659-Equational/topic/Thoughts.20and.20impressions.20thread\">#Equational &gt; Thoughts and impressions thread</a> by <span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span>.</p>",
        "id": 484734817,
        "sender_full_name": "Notification Bot",
        "timestamp": 1732717895
    },
    {
        "content": "<p>Please go ahead! There is also now <a href=\"https://github.com/teorth/equational_theories/pull/932\">equational#932</a>, same doubling of adjoinFresh for now. Maybe it makes sense to merge this as well before doing the refactoring regarding <code>adjoinFresh</code>.</p>",
        "id": 484735857,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732718190
    },
    {
        "content": "<p>As for <code>FinEnum</code>: I thought this is the right class to use if you have specific bijection to a <code>Fin n</code>, I slightly prefer this over choosing one using <code>Fintype</code> or <code>Finite</code>. Probably one can generalize the <code>adjoinFresh</code> construction for countable types as well.</p>\n<p>I think the type <code>abbrev F := Unit ⊕ Fin dom_bound ⊕ Fin dom_bound</code> in <a href=\"https://github.com/teorth/equational_theories/pull/932\">equational#932</a> makes sense and I definitively prefer it over just one <code>Fin (1 + 2* dom_bound) </code>, dependent elimination works better with the first type.  I even thought about using an inductive type for <code>F</code> again, but inferring <code>FinEnum F</code> was easier using directly the proxy type.</p>",
        "id": 484739126,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732719173
    },
    {
        "content": "<p>I too like FinEnum. I use it for algorithms code in lean. But it is not liked by mathlib in its current form and there is an effort to create a different API in batteries.</p>",
        "id": 484739436,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732719260
    },
    {
        "content": "<p>I don't know when these changes will be merged upstream and cause problems during toolchain updates</p>",
        "id": 484739612,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732719307
    },
    {
        "content": "<p>My preferred solution would be to pin the toolchain at some point to avoid having to constantly maintain the repo against upstream breakages and keep the project building. But this is my personal preference because I usually don't see upstreaming to mathlib as a priority in any of my projects.</p>",
        "id": 484740174,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732719462
    },
    {
        "content": "<p>But for as long as we do keep up to date, the potential of a breakage caused by FinEnum remains in the near term.</p>",
        "id": 484740326,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732719500
    },
    {
        "content": "<p>Thanks for merging! <span aria-label=\"octopus\" class=\"emoji emoji-1f419\" role=\"img\" title=\"octopus\">:octopus:</span> Are you planing on refactoring or should I give it a go? If so, any suggestion where to put the new <code>adjoinFresh</code> statements?</p>",
        "id": 484742472,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732720084
    },
    {
        "content": "<p>Feel free to give it a try. I am usually working on this outside my work hours. We can split the work between us by refactoring in byte-sized chunks. I see three distinct pieces that are common to all the greedy method proofs. There is a type obtained as a sum type of <code>Nat</code> and a <code>Fintype</code>. This type is <code>Equiv</code> to Nat and there are some common associated lemmas for moving properties around. There is the part where we incorporate specific equational properties per equation, and finally there is the starting seed allocation of values to the operation table.</p>",
        "id": 484745049,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732720834
    },
    {
        "content": "<p>I can see each of these being factored out in separate PRs</p>",
        "id": 484745106,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732720852
    },
    {
        "content": "<p>I'll take a look at it sometime between today evening and friday evening, and take up the remaining tasks at that point</p>",
        "id": 484745270,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732720896
    },
    {
        "content": "<p>It might be convenient to initially leave some stubs of definitions and theorems in the files for the individual equations.</p>",
        "id": 484745502,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732720952
    },
    {
        "content": "<p>Lastly let's announce our PRs and their scope in this thread</p>",
        "id": 484745646,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732721004
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"562819\">Bernhard Reinke</span> <a href=\"#narrow/channel/458659-Equational/topic/Formalising.20Counterexamples.20from.20the.20Greedy.20Method/near/484655717\">said</a>:</p>\n<blockquote>\n<p>I think it might be useful for the construction for 1729</p>\n</blockquote>\n<p>Dusted off the code, and created a PR if there's still interest:<br>\n<a href=\"https://github.com/teorth/equational_theories/pull/933\">https://github.com/teorth/equational_theories/pull/933</a></p>",
        "id": 484746035,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1732721120
    },
    {
        "content": "<p>As a rule we only care about producing the final <code>op</code> function. we might want to factor out the rest of it into a tactic</p>",
        "id": 484746482,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732721250
    },
    {
        "content": "<p>I'm glad to see 1076 resolved, but I notice that the dashboard now reads that we have 4 implications with no conjecture. Was something deleted?</p>",
        "id": 484749538,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732722193
    },
    {
        "content": "<p>It says we are missing <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1076</mn><mo>→</mo><mn>614</mn></mrow><annotation encoding=\"application/x-tex\">1076 \\to 614</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1076</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">614</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1076</mn><mo>→</mo><mn>4380</mn></mrow><annotation encoding=\"application/x-tex\">1076 \\to 4380</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1076</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4380</span></span></span></span></p>",
        "id": 484749850,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732722299
    },
    {
        "content": "<p>Looks like they were missing from my seed list for whatever reason. I will find seeds for them right now.</p>",
        "id": 484750010,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732722358
    },
    {
        "content": "<p><a href=\"https://github.com/teorth/equational_theories/pull/932\">equational#932</a> is the last PR to touch 1076</p>",
        "id": 484750454,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732722493
    },
    {
        "content": "<p>Did we miss some <code>equational_result</code> attributes?</p>",
        "id": 484750490,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732722510
    },
    {
        "content": "<p>refute_seed6 should also refute 614</p>",
        "id": 484750614,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732722560
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"562819\">@Bernhard Reinke</span> : Would you like to make another PR to add these ?</p>",
        "id": 484750892,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732722657
    },
    {
        "content": "<p>sure, do we have already the seed for 4380?</p>",
        "id": 484751940,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732722981
    },
    {
        "content": "<p>I think Matthew posted it in the other thread</p>",
        "id": 484752026,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732723010
    },
    {
        "content": "<p>At least for 614</p>",
        "id": 484752067,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732723020
    },
    {
        "content": "<p>The thread is titled \"713, 1289, 1447\"</p>",
        "id": 484752190,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732723061
    },
    {
        "content": "<p>Ok looks like 4380 should be falsified by the first seed on my list</p>",
        "id": 484752943,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732723286
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>",
        "id": 484752972,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732723295
    },
    {
        "content": "<p>I think I just copy pasted them over incorrectly somehow</p>",
        "id": 484753074,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732723320
    },
    {
        "content": "<p>Works, thanks!</p>",
        "id": 484753246,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732723354
    },
    {
        "content": "<p>Here is the PR: <a href=\"https://github.com/teorth/equational_theories/pull/936\">equational#936</a></p>",
        "id": 484753868,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732723529
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/458659-Equational/topic/Formalising.20Counterexamples.20from.20the.20Greedy.20Method/near/484745049\">said</a>:</p>\n<blockquote>\n<p>Feel free to give it a try. I am usually working on this outside my work hours. We can split the work between us by refactoring in byte-sized chunks. I see three distinct pieces that are common to all the greedy method proofs. There is a type obtained as a sum type of <code>Nat</code> and a <code>Fintype</code>. This type is <code>Equiv</code> to Nat and there are some common associated lemmas for moving properties around. There is the part where we incorporate specific equational properties per equation, and finally there is the starting seed allocation of values to the operation table.</p>\n</blockquote>\n<p>I started a PR at <a href=\"https://github.com/teorth/equational_theories/pull/939\">equational#939</a>. Factoring out <code>adjoinFresh</code> is done, the second layer of factoring I have only done for 1722 yet, but I can probably do the rest soon. Is this file format what you have imagined? For <code>adjoinFresh</code>, I am now very much noncomputable, but on the other hand this now works as well for a countable number of fresh variables.</p>",
        "id": 484813908,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732749740
    },
    {
        "content": "<p>Yes this looks right. Do please add a module docstring on top so what we and future readers know what this file is for and what the main definitions are and what they basically mean.</p>",
        "id": 484814160,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732749949
    },
    {
        "content": "<p>Are we using countably many fresh variables?</p>",
        "id": 484814416,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732750104
    },
    {
        "content": "<p>I am not using them yet, but maybe this is helpful for 1692, or for delaying the proof that you only use finitely many of the new variables.</p>",
        "id": 484845616,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732773420
    },
    {
        "content": "<p>I think one might be able to do <a href=\"#narrow/channel/458659-Equational/topic/713.2C.201289.2C.201447/near/484164880\">https://leanprover.zulipchat.com/#narrow/channel/458659-Equational/topic/713.2C.201289.2C.201447/near/484164880</a> without the finiteness assumptions in this way</p>",
        "id": 484845750,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732773539
    },
    {
        "content": "<p>I finished the refactoring on the first two parts. I started with a 713 proof using this refactorization, should I wait for this PR to resolve before doing one for 713?</p>",
        "id": 484960184,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732813245
    },
    {
        "content": "<p>Can't we just refactor the 713 proof to use these defs?</p>",
        "id": 484961490,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732813782
    },
    {
        "content": "<p>It already does</p>",
        "id": 484962269,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732814116
    },
    {
        "content": "<p>Then it can be added into this PR</p>",
        "id": 484962395,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732814141
    },
    {
        "content": "<p>OK, I added it</p>",
        "id": 484962999,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732814427
    },
    {
        "content": "<p>How much can we generalize the computation of <code>next</code>?</p>",
        "id": 485068458,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732876374
    },
    {
        "content": "<p>That seems to be what's remaining</p>",
        "id": 485068512,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732876392
    },
    {
        "content": "<p>I think this the heart of each argument, not sure how much you can generalize this. Something which is definitely more boilerplate is the verification of initial seeds, given by <code>fromList_ok</code>. Maybe one can do something there. Not sure if it is worth the effort though, since (I think) only 1289 is remaining. The other greedy methods do not follow the same adjunction scheme</p>",
        "id": 485088453,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1732883251
    },
    {
        "content": "<p>63 could be done similarly as well, but I think <span class=\"user-mention\" data-user-id=\"302984\">@Amir Livne Bar-on</span> has claimed it and might be formalizing the translation invariant argument for it instead.</p>",
        "id": 485097566,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732886356
    },
    {
        "content": "<p>Sorry, I've been a bit out of touch. Aren't we talking about greedy constructions of translation-invariant operations? We already have some regular greedy constructions that were converted automatically from Vampire outputs IIUC</p>",
        "id": 485126447,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1732896135
    },
    {
        "content": "<p>63 has a proof which greedily constructs a translation-invariant operation, but also a proof that's just a regular greedy algorithm, more in the style of what Bernhard Reinke has been formalizing lately. The last batch of regular greedy algorithms are somewhat incompatible with the ones produced automatically by vampire - they often adjoin more than one element at a time, and they ask laws of the partial magmas that are not consequences of the equation being targeted.</p>",
        "id": 485127406,
        "sender_full_name": "Matthew Bolan",
        "timestamp": 1732896496
    },
    {
        "content": "<p>I should add that these newer \"regular greedy algorithms\" were mostly obtained by deconstructing <span class=\"user-mention\" data-user-id=\"762865\">@Pace Nielsen</span> 's earlier translation-invariant greedy constructions.  Roughly speaking, every time a relation of the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">f(a^{-1} b) = c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> appears in such a construction, one can attempt to replace it with its non-translation-invariant counterpart <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⋄</mo><mi>b</mi><mo>=</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a \\diamond b = c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋄</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span>.  This isn't a 100% deterministic operation because there is occasionally some freedom in how to \"naturally\" factor the argument <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a^{-1} b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mord mathnormal\">b</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> into its component pieces <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo separator=\"true\">,</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a^{-1}, b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0085em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">−</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>, but in practice the deconstruction was able to work for most of the extant translation-invariant arguments (though some new edge cases sometimes showed up that required some fiddling).</p>",
        "id": 485132866,
        "sender_full_name": "Terence Tao",
        "timestamp": 1732898434
    },
    {
        "content": "<p>In the case of 63, the translation-invariant construction looks conceptually simpler, since the regular greedy algorithm proceeds in two \"waves\". That's why I chose to formalize that. But it may be easier to use the regular greedy construction if there's a clear recipe for formalizing this kind of proofs.</p>",
        "id": 485133392,
        "sender_full_name": "Amir Livne Bar-on",
        "timestamp": 1732898675
    },
    {
        "content": "<p>At this point I think we have many viable options, so you should just go ahead and formalize the option you are most comfortable with.</p>",
        "id": 485134260,
        "sender_full_name": "Terence Tao",
        "timestamp": 1732899084
    }
]