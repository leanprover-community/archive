[
    {
        "content": "<p>In the code below, which can be <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOAmApgGZykAUAHgFyC4hAJRzVy1MC8clAegEx5GliAcjhU6jZq2oceAKkp4cAYgDGqQioDWcYDEJQUhfABF9wAG4B1XamAA7OAEYycAJLBgcOHnSEQIJB09Az0TMysbewB9SiiAZwBHAFckKCMmIP1DMKgLazR7Jxd3T0o4DmFOdjgsAE84OOgoWrwgA\">viewed in live Lean here</a>, why is the first <code>Iii</code> (in the <code>#check</code>) an \"unknown identifier\" while the second (in the <code>lemma</code>) seems to be okay?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">^</span><span class=\"mi\">2</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">x</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">iteratedDerivWithin</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">Iii</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">iteratedDerivWithin_x_squared</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">iteratedDerivWithin</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">Iii</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Why isn't <code>Iii</code> listed in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Interval/Set/Basic.html\">Mathlib/Order/Interval/Set/Basic</a>? (I made it up as a way to get ℝ to have type <code>Set ℝ</code>.)</p>",
        "id": 472290782,
        "sender_full_name": "Quinn Culver",
        "timestamp": 1727112847
    },
    {
        "content": "<p>try adding <code>set_option autoImplicit false</code> after your imports <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 472290938,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727112907
    },
    {
        "content": "<p>basically, lean recognises in the lemma that <code>Iii</code> is an unknown identifier, and assumes you want to add it as an implicit argument to <code>iteratedDerivWith_x_squared</code>. adding the code i suggested disables this behaviour that often confuses beginners.</p>",
        "id": 472291460,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727113076
    },
    {
        "content": "<p>no such thing is done for <code>#check</code>, so there you get to see the error anyway</p>",
        "id": 472291569,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727113106
    },
    {
        "content": "<p>I see. Thanks. I could've noticed that by hovering over the lemma name.</p>",
        "id": 472291727,
        "sender_full_name": "Quinn Culver",
        "timestamp": 1727113156
    },
    {
        "content": "<p>How can I get ℝ to be of type <code>Set ℝ</code>?</p>",
        "id": 472291829,
        "sender_full_name": "Quinn Culver",
        "timestamp": 1727113193
    },
    {
        "content": "<p><code>(univ : Set ℝ)</code> (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.univ#doc\">docs#Set.univ</a>)</p>",
        "id": 472292105,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727113284
    }
]