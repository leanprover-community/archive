[
    {
        "content": "<p>I often make this mistake:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>Can you spot what's wrong?</p>\n<p>The error message says:</p>\n<p><a href=\"/user_uploads/3121/1V2HfjQBc6NC1EAVmh054CiV/Screenshot-2025-09-06-at-22.35.34.png\">Screenshot 2025-09-06 at 22.35.34.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/1V2HfjQBc6NC1EAVmh054CiV/Screenshot-2025-09-06-at-22.35.34.png\" title=\"Screenshot 2025-09-06 at 22.35.34.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1600x748\" src=\"/user_uploads/thumbnail/3121/1V2HfjQBc6NC1EAVmh054CiV/Screenshot-2025-09-06-at-22.35.34.png/840x560.webp\"></a></div><p>That's ... strange. Here's another variation:</p>\n<p><a href=\"/user_uploads/3121/hHBYslo2vMOerlzOgqgXlqbB/Screenshot-2025-09-06-at-22.36.52.png\">Screenshot 2025-09-06 at 22.36.52.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/hHBYslo2vMOerlzOgqgXlqbB/Screenshot-2025-09-06-at-22.36.52.png\" title=\"Screenshot 2025-09-06 at 22.36.52.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1650x916\" src=\"/user_uploads/thumbnail/3121/hHBYslo2vMOerlzOgqgXlqbB/Screenshot-2025-09-06-at-22.36.52.png/840x560.webp\"></a></div><p>What's wrong with this line?</p>\n<p>Well, the problem is I forgot to give a value here:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>(This needs <code>:= something</code> at the end.)</p>\n<p>So I think it just tries to read the next lines as a continuation of that statement, and somehow it is able to keep going until <code>use g a</code> here becomes a type error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"c1\">-- this is fine :/</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"c1\">-- this is also fine :/</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"c1\">-- finally not fine here</span>\n</code></pre></div>\n<p>Why is it erroring so late? Is it possible to make it error much earlier? If multiline declarations like this are supported, is there any way to lint against what seems like unrelated tactic calls on next lines?</p>\n<p>I don't understand why this works at all.</p>",
        "id": 538033552,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757194805
    },
    {
        "content": "<p>Ironically syntax highlighting on this site seems to better understand what's going on.</p>",
        "id": 538033620,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757194896
    },
    {
        "content": "<p><code>have</code> without a value is a tactic which sets the value as a new goal and puts it at the front of the goal list</p>",
        "id": 538034098,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757195505
    },
    {
        "content": "<p>So it's like <code>suffices</code> but the other way around? I seriously think sometimes there's too many ways to do the same thing in Lean...</p>",
        "id": 538034211,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757195648
    },
    {
        "content": "<p>That does it explain it though, thanks.</p>",
        "id": 538034229,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757195677
    },
    {
        "content": "<p>That syntax is deprecated though</p>",
        "id": 538034244,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757195696
    },
    {
        "content": "<p>Is it actively deprecated? I don't see warnings in the editor (like I do for say <code>cc</code>)</p>",
        "id": 538034293,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757195766
    },
    {
        "content": "<p>Oh, maybe the deprecation is implemented as a mathlib linter. Maybe <span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> remembers</p>",
        "id": 538036246,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757198336
    },
    {
        "content": "<p>For what it's worth, this is a mathlib tactic. You can \"go to definition\" on it to check.</p>\n<p>You can think of it as being a Lean 3 compatibility tactic, which made the porting easier. This was the only <code>have</code> back in Lean 3.</p>",
        "id": 538036558,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757198771
    },
    {
        "content": "<blockquote>\n<p>For what it's worth, this is a mathlib tactic</p>\n</blockquote>\n<p>I see. I do understand the distinction, but it's confusing for me as a user. I think a lot of casual Lean users (and maybe non-casual too) don't differentiate \"Lean tactic\" from \"Mathlib tactic\", and many Lean users always import Mathlib anyway. Maybe it would be nice if hovering over a tactic said where it's defined (and offered something unique and googleable that helps me finds its docs). That's a tangent though.</p>",
        "id": 538036821,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757199210
    },
    {
        "content": "<p>Would it be possible to fully deprecate this version so that it showed squigglies for people importing Mathlib but not working on Mathlib itself?</p>",
        "id": 538036865,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757199259
    },
    {
        "content": "<p>Anything's possible, especially if someone volunteers to lead the charge :-)</p>\n<p>Why do you need a googlable identifier if you can do go-to-definition? Mathlib doesn't have any docs for its <code>have</code> except for its docstring. Being able to use go-to-definition/go-to-declaration is a key skill when working with Lean, in my opinion.</p>\n<p>Deprecating it will take work: evaluating how it's used, figuring out who uses it and what impact there will be (e.g. I think the natural number game uses it?), making it easy to migrate, communicating the deprecation, and also removing its use from mathlib.</p>\n<p>Feel free to add context to the docstring that this is a mathlib-specific extension of <code>have</code>. I at least think that seems worth pointing out. If you do that, you should think about style so that this can be done uniformly for other such extensions. Or, there's submitting an issue to Lean core to show an <code>import Mathlib.Tactic.Have</code> line at the end of the hover, like for other definitions.</p>",
        "id": 538037427,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757200049
    },
    {
        "content": "<p>Not trying to add work on anyone's plate for now, just trying to understand how things are prioritized and how much work it is to move different parts of the mountain. :)</p>\n<blockquote>\n<p>Why do you need a googlable identifier if you can do go-to-definition? Mathlib doesn't have any docs for its <code>have</code> except for its docstring. Being able to use go-to-definition/go-to-declaration is a key skill when working with Lean, in my opinion.</p>\n</blockquote>\n<p>I think maybe this is a reasonable stance, but it wasn't obvious that this is <em>the</em> suggested approach to learn what each tactic or piece of syntax does. The reason it doesn't feel this way is because often clicking on the most common bits of syntax pulls you into the middle of implementation that is completely inscrutable to me as an end user. For example I click on <code>if</code> and see this:</p>\n<p><a href=\"/user_uploads/3121/m0BUJIv40pxc2Lm-Rbn2iW6j/Screenshot-2025-09-07-at-00.11.03.png\">Screenshot 2025-09-07 at 00.11.03.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/m0BUJIv40pxc2Lm-Rbn2iW6j/Screenshot-2025-09-07-at-00.11.03.png\" title=\"Screenshot 2025-09-07 at 00.11.03.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1594x1008\" src=\"/user_uploads/thumbnail/3121/m0BUJIv40pxc2Lm-Rbn2iW6j/Screenshot-2025-09-07-at-00.11.03.png/840x560.webp\"></a></div><p>Is that supposed to be understandable to end user, or is there a place for a docstring here? I don't know. I click on <code>apply</code> and see this:</p>\n<p><a href=\"/user_uploads/3121/boVXFbx2JdEi8KxHD6B2Q4o_/Screenshot-2025-09-07-at-00.11.56.png\">Screenshot 2025-09-07 at 00.11.56.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/boVXFbx2JdEi8KxHD6B2Q4o_/Screenshot-2025-09-07-at-00.11.56.png\" title=\"Screenshot 2025-09-07 at 00.11.56.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1648x1018\" src=\"/user_uploads/thumbnail/3121/boVXFbx2JdEi8KxHD6B2Q4o_/Screenshot-2025-09-07-at-00.11.56.png/840x560.webp\"></a></div><p>Is this the entry point for learning what <code>apply</code> does? It doesn't feel so. I'm not even sure where to scroll to find the <code>apply</code> docstring. What about <code>simp</code>?</p>\n<p><a href=\"/user_uploads/3121/lkJslF2hRp93fj84Y3N43yW-/Screenshot-2025-09-07-at-00.12.46.png\">Screenshot 2025-09-07 at 00.12.46.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/lkJslF2hRp93fj84Y3N43yW-/Screenshot-2025-09-07-at-00.12.46.png\" title=\"Screenshot 2025-09-07 at 00.12.46.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1602x1108\" src=\"/user_uploads/thumbnail/3121/lkJslF2hRp93fj84Y3N43yW-/Screenshot-2025-09-07-at-00.12.46.png/840x560.webp\"></a></div><p>The point I'm trying to make is that maybe \"just click into definitions to learn what it is\" can be a consistent stance, but then it needs to be paired with some way for go-to-definition to go to some reasonable \"entry point\" for that thing rather than deep into its internals. Alternatively, I <em>would</em> need a googleable identifier to learn what each piece of custom syntax is supposed to do (in the hope that documentation for it exists online).</p>\n<p>I emphasize this because \"how to learn what tactics do, what their list is, and how to use them\" is IMO one of the biggest difficulties learning Lean. It can be solved in a noncomposable way (just give me a whole list on one website) but I hear that the desire is to embrace Lean's composition model so it's \"self-documenting\". Docstrings partially help. But sometimes they're very short and I really want a page with examples. I can't infer how each tactic is supposed to be used from the screenshots I posted above. If Lean \"wants\" me to learn about tactics by clicking into definitions, I think something is missing to direct me to the \"right place\" in those files.</p>",
        "id": 538037751,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757200586
    },
    {
        "content": "<p>Honestly a perfect place for \"go to definition\" to land might be some file that defines an entry point for the implementation (re-exported from its actual internals) along with a Lean sheet that shows example after example of how to use it. That's what I actually want to see when I \"click into\" a tactic.</p>",
        "id": 538037806,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757200679
    },
    {
        "content": "<p>It also doesn't help that the official documentation for tactics is super short. E.g. this is all it has to say about <code>apply</code>. Not a <em>single</em> example. How does one actually learn how to use it?</p>\n<p><a href=\"/user_uploads/3121/BaAqG0XhNLcGREJyLUa5P8kE/Screenshot-2025-09-07-at-00.21.17.png\">Screenshot 2025-09-07 at 00.21.17.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BaAqG0XhNLcGREJyLUa5P8kE/Screenshot-2025-09-07-at-00.21.17.png\" title=\"Screenshot 2025-09-07 at 00.21.17.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1754x620\" src=\"/user_uploads/thumbnail/3121/BaAqG0XhNLcGREJyLUa5P8kE/Screenshot-2025-09-07-at-00.21.17.png/840x560.webp\"></a></div><p>The documentation really feels like it already assumes the reader is familiar with all these concepts and just serves to remind which of the concepts you already know each command represents.</p>\n<p>I <em>do</em> understand docs are hard and no one has time to do them, etc, but I want to understand the intended direction. E.g. maybe the team thinks this is actually fine. Maybe the team thinks this is bad but nobody has time to fix them. Maybe the team thinks it should be solved in docstrings rather than on the site. Etc.</p>",
        "id": 538038036,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757201033
    },
    {
        "content": "<p>(I kind of went completely offtopic here so sorry about that! I also hear you re: complaining is cheap; for my part, for now, I'm writing some posts on by blog \"in userland\" as I don't feel like I have clear opinions on what should be done in docstrings or on the site yet. Getting a general vibe for what the team thinks can be helpful for me to form these opinions.)</p>",
        "id": 538038123,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757201184
    },
    {
        "content": "<p>My stance is just that \"this is how I learned Lean\", and I found it to be a <em>very</em> powerful feature that other languages rarely have — how often can you see where basic syntax is defined right from the IDE? Note that you need to know about \"go to declaration\" too; usually it's \"go to declaration\" that gives you the docstring and <code>syntax</code> definition. I mentioned both for a reason.</p>",
        "id": 538038159,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757201239
    },
    {
        "content": "<p>Oh yea I for sure love that it's available. I just think it's not enough to make Lean learnable and sometimes works against that (by making it seem inscrutable and removing the incentives to document stuff because more experienced users can fully learn by clicking).</p>\n<p>I wasn't aware of \"Go to Declaration\" having a different behavior, thanks for highlighting that. Again — seems like a great power user feature but probably not the obvious way to learn the language unless it's written down somewhere that this is how one should learn it.</p>",
        "id": 538038240,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757201381
    },
    {
        "content": "<p>What do you think about the idea with \"go to definition\" going to a special file that has a re-export with a bunch of <code>example</code>s? I think this leans into (pardon the pun) the self-documenting approach while actually colocating the documentation (and making it clear where to add it). Is that feasible?</p>",
        "id": 538038336,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757201488
    },
    {
        "content": "<p><del>I guess currently the predominant style is \"one file with many definitions\" which would work against that</del> Actually that's fine, the existing files can stay exactly as they are but \"public\" per-tactic files could be added that reexport stuff from internals.</p>",
        "id": 538038404,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757201617
    },
    {
        "content": "<p>I think the intended way to learn is to follow tutorials, read docstrings, reference the reference, etc.</p>\n<p>The on-line help (using some very old terminology) is there to remind you how things work, or if you're browsing some mathlib code, it lets you know generally what things are for. These don't substitute for other references.</p>\n<p>The Lean Language Reference isn't itself a tutorial. Certainly the <code>apply</code> tactic's description is light on details, but the reference is actively being worked on. The section you're looking at is automatically drawn directly from the docstrings I believe. You've observed how we in core try to improve docstrings as we have time and as we get feedback. For docstrings themselves there's a tough balance between \"useful for reference\" and \"useful for learning\", since you see the whole docstring every time you hover. The longer term goal is to have links from docstrings to fuller Lean Reference entries.</p>",
        "id": 538038485,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757201759
    },
    {
        "content": "<p>Right, I guess I feel like I would vastly prefer a file of concise <code>example</code>s (similar to what you see in TPIL) to just a docstring. Sort of as complementary runnable code you can actually inspect, as well as a way for maintainers to communicate what the intended use cases for each tactic are. This sort of works as a specification or a test too. Is this unreasonable? These could be pulled into the website automatically, similar to what happens with docstrings.</p>",
        "id": 538038579,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757201898
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"418569\">Dan Abramov</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20it.20possible.20to.20improve.20this.20error.20or.20add.20a.20lint.20warning.3F/near/538037751\">said</a>:</p>\n<blockquote>\n<p>just trying to understand how things are prioritized</p>\n</blockquote>\n<p>When it comes to mathlib, it's sort of meritocracy: anyone who has the time, ability, and energy and can find some maintainer who'll back the vision can get things done.</p>",
        "id": 538038602,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757201938
    },
    {
        "content": "<p>I'm not personally moved by the idea of \"go to definition\" going to runnable examples, but maybe in a future with docstring links there could be a link to a file; probably Mathlib could have a file in the tests directory, that way the examples are part of the test suite and you don't have to worry about whether they've gone out of sync?</p>",
        "id": 538038669,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757202085
    },
    {
        "content": "<p>I think that would be an improvement, yeah! Is linking to a file from a docstring already feasible or is there something technical missing for that?</p>",
        "id": 538038727,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757202168
    },
    {
        "content": "<p>That's something I don't know. One technical challenge that comes to mind is that you'd want the links to work within downstream projects too, so somehow it'd need to be a special URL scheme to open modules or other project files.</p>",
        "id": 538038870,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757202380
    },
    {
        "content": "<p>I got as far as learning that if there were a <code>DocumentLinkProvider</code> in the Lean VS Code extension for a <code>lean-module</code> scheme, then docstrings could contain links like <code>lean-module://MathlibTest.HaveExamples</code>. I don't know anything about how doable this is or if it could be on the roadmap.</p>",
        "id": 538039959,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757203781
    },
    {
        "content": "<p>Cool, thanks! I'm not \"ready\" to \"really do things\" yet but the itch is growing :)</p>",
        "id": 538040136,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757204025
    },
    {
        "content": "<p>Like Ruben, I also have a vague memory that this version of <code>have</code>-without-<code>by</code> was deprecated.  However, maybe it was just a discussion on Zulip that did not make it into mathlib, or maybe a conclusion was not reached in the discussion.</p>",
        "id": 538053604,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757223026
    },
    {
        "content": "<p>Anyway, I am personally not a fan of this version of <code>have</code> and I avoid it when writing my own code.</p>",
        "id": 538053644,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757223070
    },
    {
        "content": "<p>Another possibility (which is probably not the case here), is that there could be a PR that is enforcing the deprecation, but it turned out that there were so many uses in mathlib, that the effort did not seem worth the gain.</p>",
        "id": 538053713,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757223156
    },
    {
        "content": "<p>No, I'm 99% sure it is forbidden in mathlib already</p>",
        "id": 538058523,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757228876
    },
    {
        "content": "<p>I'm thinking one of the <a href=\"http://mathlib.style\">mathlib.style</a> linters</p>",
        "id": 538058552,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757228900
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"418569\">Dan Abramov</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20it.20possible.20to.20improve.20this.20error.20or.20add.20a.20lint.20warning.3F/near/538038036\">said</a>:</p>\n<blockquote>\n<p>It also doesn't help that the official documentation for tactics is super short. E.g. this is all it has to say about <code>apply</code>. Not a <em>single</em> example. How does one actually learn how to use it?</p>\n</blockquote>\n<p>My students at Imperial read the tactic documentation that comes with our course notes, e.g.<br>\n<a href=\"https://b-mehta.github.io/formalising-mathematics-notes/Part_2/tactics/apply.html\">https://b-mehta.github.io/formalising-mathematics-notes/Part_2/tactics/apply.html</a></p>\n<p>NB these detailed descriptions of basic tactics exist in our docs <em>precisely</em> because our students have been making the same observation as Dan for many years now.</p>",
        "id": 538075723,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757248323
    },
    {
        "content": "<p>I could add that I personally would not trust the reference manual to write anything which is comprehensible to beginner mathematicians. The docstring Dan quotes is a case in point. <code>apply</code> is a basic tactic which you need right at the start of your Lean journey. The quoted docstring is full of buzzwords that one does not learn until much later on (at least if one is a mathematician). And has no examples. Our documentation not only has examples but it contains an explicit warning about the misuse of the tactic which I have now seen literally hundreds of students attempt (i.e. using it as <code>rw</code>).</p>",
        "id": 538076042,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757248658
    },
    {
        "content": "<p>It doesn’t have to be this way! Reference manuals should be comprehensible to end users and should have examples. The problem with farming out basic examples to third-party courses is that those inevitably get stale and outdated.</p>",
        "id": 538079634,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757251967
    },
    {
        "content": "<p>Look at these docs:</p>\n<ul>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\">https://www.typescriptlang.org/docs/handbook/enums.html</a></li>\n<li><a href=\"https://doc.rust-lang.org/stable/reference/items/enumerations.html\">https://doc.rust-lang.org/stable/reference/items/enumerations.html</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum\">https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/enum</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/enums\">https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/enums</a></li>\n</ul>\n<p>All of these are first-party content and yet all of them provide clear examples and use accessible writing. I can understand these perfectly fine.</p>\n<p>I think Lean reference needs to strive for a similar standard in writing. Clear, accessible, with examples.</p>",
        "id": 538079955,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757252209
    },
    {
        "content": "<p>In particular, <a href=\"https://b-mehta.github.io/formalising-mathematics-notes/Part_2/tactics/apply.html\">https://b-mehta.github.io/formalising-mathematics-notes/Part_2/tactics/apply.html</a> pretty much <em>is</em> what I’d expect rhe <code>apply</code> reference documentation to be. Not a single paragraph full of jargon.</p>",
        "id": 538080088,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757252307
    },
    {
        "content": "<p>Can we get some buy-in from the Lean maintainers to actually go ahead and do this? A page per tactic, each tactic has a clear description and a few examples. Who do we need to convince? I’m happy to write some pages myself if there’s a go-ahead.</p>",
        "id": 538080242,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757252419
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"662452\">@Jason Reed</span> on above q</p>",
        "id": 538080258,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757252433
    },
    {
        "content": "<p>Improving tactic documentation is something I've committed to for this coming quarter.</p>",
        "id": 538081388,
        "sender_full_name": "Jason Reed",
        "timestamp": 1757253517
    },
    {
        "content": "<p>Oh that's great news! Jason -- see <a href=\"https://b-mehta.github.io/formalising-mathematics-notes/Part_2/Part_2.html\">https://b-mehta.github.io/formalising-mathematics-notes/Part_2/Part_2.html</a> for some battle-tested docs which you're welcome to take from without attribution (they're on Bhavik Mehta's page right now but he took over the course from me and as far as I know they're all just copied from my version <a href=\"https://www.ma.imperial.ac.uk/~buzzard/xena/formalising-mathematics-2024/Part_C/Part_C.html\">https://www.ma.imperial.ac.uk/~buzzard/xena/formalising-mathematics-2024/Part_C/Part_C.html</a> which I wrote and as I say which you're welcome to use for inspiration or for anything else, if you want).</p>",
        "id": 538083395,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757255507
    },
    {
        "content": "<p>Great, appreciate it!</p>",
        "id": 538083423,
        "sender_full_name": "Jason Reed",
        "timestamp": 1757255529
    },
    {
        "content": "<p>In particular, students seemed to like the \"summary/examples/details\" set-up.</p>",
        "id": 538083456,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757255567
    },
    {
        "content": "<p>I would say that if <span class=\"user-mention\" data-user-id=\"418569\">@Dan Abramov</span> propose his help to write docs, you should take it. I think if i'm not mistaken, that dan lead the documentation team at meta for the React library. So he knows a litle bit about doc writing.</p>",
        "id": 538083836,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1757255958
    },
    {
        "content": "<p>And if i may add my two cents, i started learning lean using the natural game. This is a great way to start with lean. <br>\nI think i started beginning this year, but it took me this whole summer of vacation to dedicate some serious time to learning lean and reading the resources and starting being somewhat efficient at writing proofs.</p>\n<p>For now, one of the most valuable resource for writing proofs (that you known how to prove by hand) is this cheat sheet :<br>\n<a href=\"https://github.com/madvorak/lean4-cheatsheet/blob/main/lean-tactics.pdf\">https://github.com/madvorak/lean4-cheatsheet/blob/main/lean-tactics.pdf</a><br>\nSo i think, something of the same kind should be included in the docs.</p>",
        "id": 538084770,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1757256906
    }
]