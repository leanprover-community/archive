[
    {
        "content": "<p>I'm not a new member, but this is a basic question so probably belongs here. </p>\n<p>I'm familiar with <code>&lt;|</code> as \"the new <code>$</code>\", and understand it as function application but with super-low priority (so <code>f &lt;| g x</code> is the same as <code>f (g x)</code>). But I've never understood <code>|&gt;</code>. Here's a diff I just saw in a mathlib commit:</p>\n<div class=\"codehilite\" data-code-language=\"Diff\"><pre><span></span><code><span class=\"gd\">-    · exact Subset.trans (incl m) (Subset.trans inter_subset_left h)</span>\n<span class=\"gi\">+    · exact incl m |&gt;.trans inter_subset_left |&gt;.trans h</span>\n</code></pre></div>\n<p>Can someone take this apart for me? Should I be using <code>|&gt;</code> more often? Right now I use it never, because I don't understand what it does.</p>",
        "id": 489358136,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734388275
    },
    {
        "content": "<p>Note that's not <code>|&gt;</code> but <code>|&gt;.</code>, which also is dot notation</p>",
        "id": 489358433,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734388380
    },
    {
        "content": "<p><code>x |&gt; f</code> means <code>f x</code>. This can be useful to write something like<br>\n<code>x |&gt; firstApplyThisFunction |&gt; thenApplyThisFunction |&gt; finallyApplyThisFunction</code>, and you write the functions in the order you apply them.<br>\nPersonally, I basically only use the variant <code>f x |&gt;.p</code>, which is just <code>(f x).p</code>, so it allows you to remove parentheses.</p>",
        "id": 489358459,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1734388385
    },
    {
        "content": "<p>Oh, so <code>&lt;|</code> lets me remove parens to the right, and <code>|&gt;</code> lets me remove them to the left? Is it good practice to use this? Is it making code more readable or less readable?</p>",
        "id": 489358716,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734388468
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/.7C.3E/near/489358716\">said</a>:</p>\n<blockquote>\n<p>Is it good practice to use this? Is it making code more readable or less readable?</p>\n</blockquote>\n<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> personal preference, I guess</p>",
        "id": 489358804,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1734388501
    },
    {
        "content": "<p>Sometimes, I don't realize I need parentheses until I find myself near the end of an expression. In this sense I find <code>|&gt;.</code> more natural than tabbing back to add an opening parenthesis.</p>",
        "id": 489368562,
        "sender_full_name": "Ashley Blacquiere",
        "timestamp": 1734392458
    },
    {
        "content": "<p>I should open another thread to ask what \"tabbing back\" means :-)</p>",
        "id": 489370079,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734393143
    },
    {
        "content": "<p>Bahaha.. I actually stumbled a bit over that turn of phrase wondering if it would translate... I just mean using <code>shift tab</code> on my keyboard to send my cursor backwards (instead of point-clicking with my mouse <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span>)</p>",
        "id": 489371364,
        "sender_full_name": "Ashley Blacquiere",
        "timestamp": 1734393721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> you've used <code>|&gt;</code> all your life in the shell: it's the unix pipe <code>|</code></p>",
        "id": 489417260,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1734418538
    },
    {
        "content": "<p>In a sense, it's the notation we should all be familiar with if we had not been brainwashed to the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">g(f(x))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">))</span></span></span></span> notation: you start from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>, then apply <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span>, then apply <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>, so a notation where, from left to right (if that's the order your language is read) mentions <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span>, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span>, seems rather natural.</p>",
        "id": 489428811,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1734423780
    },
    {
        "content": "<p>so basically, it's just <code>(. $ .).swap</code>?</p>",
        "id": 489531469,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734454689
    },
    {
        "content": "<p>(or <code>(. &lt;| .).swap</code> if you prefer)</p>",
        "id": 489531532,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734454713
    },
    {
        "content": "<p>I guess that if you start chaining several together then the swapping gets more inconvenient.</p>",
        "id": 489532992,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734455165
    },
    {
        "content": "<p>Something that doesn't capture is that <code>|&gt;</code> is a low-precedence left-associative operator. <code>x |&gt; f |&gt; g</code> is the same as <code>(x |&gt; f) |&gt; g</code> and expands to <code>g (f x)</code>.</p>\n<p>(I also wouldn't say it's 'basically just' a more complicated expression, unless this is like one of those 'a category is basically just a monad in the bicategory of spans' usages <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> The macro definition for <code>|&gt;</code> is that <code>x |&gt; f</code> is exactly <code>f x</code>.)</p>",
        "id": 489545474,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1734459303
    },
    {
        "content": "<p>I know people who call such sentences \"just\"ifications.</p>",
        "id": 489566988,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1734467435
    },
    {
        "content": "<p>Kevin, my favorite thing to do is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">spaces</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">another</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">spaces</span>\n</code></pre></div>\n<p>or </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">spaces</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">another</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">spaces</span>\n</code></pre></div>\n<p>I think it makes it much more readable.</p>",
        "id": 489578383,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1734472500
    }
]