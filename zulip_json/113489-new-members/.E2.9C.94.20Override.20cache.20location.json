[
    {
        "content": "<p>Hello all,</p>\n<p>A bit of a weird one, this was originally a plea for help but I just worked it out myself after quite a lot of pain. So hopefully this will help out someone in the future (I suspect I won't be the last).</p>\n<p>When running \"lake exe cache get\", our university-managed PCs default to storing the cache on a network drive which is far too small to accommodate Mathlib. So we need to change the default directory. Some Zulip-fu revealed the Lake environment variable MATHLIB_CACHE_DIR but this doesn't seem to be documented, and my first several attempts to set it failed with unhelpful error messages. The syntax which eventually worked is:</p>\n<div class=\"codehilite\" data-code-language=\"PowerShell\"><pre><span></span><code><span class=\"nb\">PS </span><span class=\"n\">C</span><span class=\"p\">:\\</span><span class=\"n\">LeanProjects</span><span class=\"p\">\\</span><span class=\"n\">MathlibProject</span><span class=\"p\">&gt;</span> <span class=\"n\">lake</span> <span class=\"n\">-K</span> <span class=\"n\">MATHLIB_CACHE_DIR</span><span class=\"p\">=</span><span class=\"s2\">\"C:\\LeanProjects\\.cache\\mathlib\"</span> <span class=\"n\">exe</span> <span class=\"n\">cache</span> <span class=\"n\">get</span>\n</code></pre></div>\n<p>A particular note for avoiding my pains: Make sure that \"-K [...]\" is <strong><em>before</em></strong> \"exe cache get\". The error message when I tried the other order took an embarrassingly longtime for me to diagnose:</p>\n<div class=\"codehilite\" data-code-language=\"PowerShell\"><pre><span></span><code><span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"p\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">module</span> <span class=\"n\">prefix</span> <span class=\"s1\">'[anonymous]'</span>\n</code></pre></div>\n<p>So now you know. Cheers!</p>",
        "id": 526974593,
        "sender_full_name": "Alastair Litterick",
        "timestamp": 1751541936
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"296194\">Alastair Litterick</span> has marked this topic as resolved.</p>",
        "id": 526977375,
        "sender_full_name": "Notification Bot",
        "timestamp": 1751542983
    }
]