[
    {
        "content": "<p>I'm working through the MoP course, currently on chapter 5 - Logic, and the section on the law of the excluded middle.</p>\n<p>One of the exercises has me stumped. It appears to be about limits, something not yet covered by the course (I don't it is all at).</p>\n<p>The overall proof objective is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">¬∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n</code></pre></div>\n<p>Having chosen <code>use (1:ℝ)</code> for <code>x</code>, I have an initial goal of :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n</code></pre></div>\n<p>Although not explained by the course, I have worked out the upwards arrow is an upcast from natural number to real number in order to allow the division and exponentiation.</p>\n<p>I'm now stuck on how to continue. </p>\n<p>And I can't see a way forward that uses the law of the excluded middle.</p>\n<hr>\n<p>The expression is suspiciously like the expression <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>⁡</mo></mrow><mrow><mi>x</mi><mo>→</mo><mi mathvariant=\"normal\">∞</mi></mrow></msub><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mi>x</mi><msup><mo stretchy=\"false\">)</mo><mi>x</mi></msup><mo>=</mo><mi>e</mi><mo>&lt;</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">\\lim_{x \\to \\infty}(1+1/x)^x=e &lt; 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">→</span><span class=\"mord mtight\">∞</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">e</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> but I don't think that is relevant here as we haven't covered limits in Lean. In fact I don't think limits are covered at all in the MoP course.</p>",
        "id": 489388962,
        "sender_full_name": "rzeta0",
        "timestamp": 1734402319
    },
    {
        "content": "<p>Do you have some idea why this is true on paper?</p>",
        "id": 489393178,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1734404161
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> I visualised it and can see it is true for some <code>x</code>.</p>\n<p><a href=\"https://www.desmos.com/calculator/nxhzxkllwm\">https://www.desmos.com/calculator/nxhzxkllwm</a></p>",
        "id": 489395819,
        "sender_full_name": "rzeta0",
        "timestamp": 1734405372
    },
    {
        "content": "<p>no, i mean do you know how to show:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n</code></pre></div>\n<p>on paper?</p>",
        "id": 489400946,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1734407746
    },
    {
        "content": "<p>I don't sadly.</p>\n<p>if that's what I need to learn then ill explore that.</p>\n<p>I assume it would be a combination of</p>\n<ol>\n<li>showing the expression is e in the limit - perhaps by showing the derivative is equal to the expression, as n -?&gt; infinity</li>\n<li>showing the expression is monotonically increasing for any finite n - so never more than e</li>\n</ol>\n<p>why e? because e &lt; 3</p>\n<p>something like that?</p>\n<p>but I can't do calculus in lean.</p>",
        "id": 489405776,
        "sender_full_name": "rzeta0",
        "timestamp": 1734410802
    },
    {
        "content": "<p>It's probably not something you <strong>really</strong> need to learn to be good with Lean. It's just a part of math (calculus?) which is unnecessary put in the chapter about Law of Excluded Middle, in my opinion.</p>\n<p>Still, it could be fun to prove the <code>Tribalanced (1:Real)</code> if you have an enthusiasm necessary for that.</p>",
        "id": 489427237,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1734423233
    },
    {
        "content": "<p>// Maybe there's some simple way to prove the theorem, then I apologize to the book and its author.</p>",
        "id": 489427847,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1734423451
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"658873\">Lessness</span> <a href=\"#narrow/channel/113489-new-members/topic/stuck.20on.20exercise.20which.20seems.20to.20be.20about.20limits/near/489427237\">said</a>:</p>\n<blockquote>\n<p>It's probably not something you <strong>really</strong> need to learn to be good with Lean. It's just a part of math (calculus?) which is unnecessary put in the chapter about Law of Excluded Middle, in my opinion.</p>\n</blockquote>\n<p>This exercise has nothing to do with calculus and the discussion above indicates that everyone has missed the point. <span class=\"user-mention\" data-user-id=\"724904\">@rzeta0</span> is trying to prove that x=1 works but that's where the mistake is (the exercise now ceases to be about logic and becomes a hard exercise in analysis). You only have to prove that some x works.</p>",
        "id": 489438450,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734427185
    },
    {
        "content": "<p>Today was great day to be dumb. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> I got it, finally.</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Hint</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p><code>by_cases H:(Tribalanced 1)</code></p>\n<p>And then one has to prove either <code>Tribalanced 2 -&gt; False</code>, or <code>Tribalanced 0</code></p>\n</div></div>",
        "id": 489449248,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1734430464
    },
    {
        "content": "<p>Thanks I will continue thinking about it and see what the logic problem is.</p>\n<p>Appreciate your help everyone.</p>",
        "id": 489473220,
        "sender_full_name": "rzeta0",
        "timestamp": 1734438413
    },
    {
        "content": "<p>The hint is: it is true (and hard) that x=1 works, but you don't need to prove that.</p>",
        "id": 489474760,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734438960
    },
    {
        "content": "<p>Note that this strategy is almost identical to the one used earlier in the chapter to avoid having to solve a hard problem</p>",
        "id": 489478791,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1734440126
    },
    {
        "content": "<p>Ha! I didn't even read the original problem! That definitely changes things.</p>",
        "id": 489516028,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1734450237
    },
    {
        "content": "<p>Talk about tunnel vision on my part!</p>",
        "id": 489516226,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1734450289
    },
    {
        "content": "<p>The thing is that the statement for x=1 is true, and probably if you give me an afternoon I can prove it using what we have in mathlib, so it's very easy to be misled! But I'd read Heather's book from cover to cover so knew the trick :-)</p>",
        "id": 489520571,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734451477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/stuck.20on.20exercise.20which.20seems.20to.20be.20about.20limits/near/489520571\">said</a>:</p>\n<blockquote>\n<p>But I'd read Heather's book from cover to cover so knew the trick</p>\n</blockquote>\n<p>I had read it too. That book has a fantastic set of carefully designed problems. Kudos to her for that.</p>",
        "id": 489521040,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1734451612
    },
    {
        "content": "<p>Like Eric, I was only wise to the trick because I'd done the earlier exercise where it looked like I was going to have to figure out whether some large number was prime but then I was saved at the last minute by logic...</p>",
        "id": 489526912,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734453299
    },
    {
        "content": "<p>I have not completed this exercise.</p>\n<p>Very cool approach to use logic to avoid doing difficult analysis.</p>",
        "id": 489554989,
        "sender_full_name": "rzeta0",
        "timestamp": 1734462803
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 489554990,
        "sender_full_name": "Notification Bot",
        "timestamp": 1734462805
    }
]