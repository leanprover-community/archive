[
    {
        "content": "<p>Hey, I was just watching <a href=\"https://www.youtube.com/watch?v=7JEb83_QOcc\">a livestream by Kevin from 2020</a> about the thread <a href=\"#narrow/channel/116395-maths/topic/golfing.20.60Ico.60.20union\">#maths &gt; golfing &#96;Ico&#96; union</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"7JEb83_QOcc\" href=\"https://www.youtube.com/watch?v=7JEb83_QOcc\"><img src=\"https://uploads.zulipusercontent.net/cb57f9c42c6be814be604acb683e775467c9d4ce/68747470733a2f2f692e7974696d672e636f6d2f76692f374a456238335f514f63632f6d7164656661756c742e6a7067\"></a></div><p>which contains multiple long-ish proofs of this statement:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 574205128,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771292617
    },
    {
        "content": "<p>For example this is Kenny's proof translated to modern-day mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hcb</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">le_trans</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"o\">),</span>\n<span class=\"w\">      </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_union_Ico_eq_Ico</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hac</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hca</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hac</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hcb</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_comm</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_union_Ico_eq_Ico</span><span class=\"w\"> </span><span class=\"n\">hac</span><span class=\"w\"> </span><span class=\"n\">hcb</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hca</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hcb</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_comm</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_union_Ico_eq_Ico</span><span class=\"w\"> </span><span class=\"n\">hca</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hac</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hca</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hac</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_union_Ico_eq_Ico</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"w\"> </span><span class=\"n\">hac</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hca</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_union_Ico_eq_Ico</span><span class=\"w\"> </span><span class=\"n\">hbc</span><span class=\"w\"> </span><span class=\"n\">hca</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hcb</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_eq_empty_of_le</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">le_trans</span><span class=\"w\"> </span><span class=\"n\">hcb</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"o\">),</span>\n<span class=\"w\">      </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">empty_union</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_empty</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">union_comm</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ico_union_Ico_eq_Ico</span><span class=\"w\"> </span><span class=\"n\">hcb</span><span class=\"w\"> </span><span class=\"n\">hba</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 574205132,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771292625
    },
    {
        "content": "<p>The point of that thread is that it's a simple fact with an annoying proof that should be solvable by automation, but isn't</p>",
        "id": 574205166,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771292657
    },
    {
        "content": "<p>Well now:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">grind</span>\n</code></pre></div>\n<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span><br>\n(I just thought that was incredible progress by Lean and wanted to share)</p>",
        "id": 574205190,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771292683
    }
]