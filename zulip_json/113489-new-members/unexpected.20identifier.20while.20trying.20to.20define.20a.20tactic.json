[
    {
        "content": "<p>Hey, I have a weird problem. I am trying to define my first tactic, so I pasted this example to an empty file (I have a lean project with mathlib in the parent directory): </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">meta</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">my_first_tactic</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">unit</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"bp\">.</span><span class=\"n\">trace</span><span class=\"w\"> </span><span class=\"s2\">\"Hello, World.\"</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"n\">begin</span>\n<span class=\"w\">  </span><span class=\"n\">my_first_tactic</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"n\">trivial</span>\n<span class=\"kn\">end</span>\n</code></pre></div>\n<p>but it gives me just <code>unexpected identifier; expected command</code> error at the meta keyword. What am I doing wrong?</p>",
        "id": 507900471,
        "sender_full_name": "Paweł Balawender",
        "timestamp": 1742862125
    },
    {
        "content": "<p>My guess: you're using an LLM to generate lean code instead of reading a book about the basics? That code you posted is lean 3 code.</p>",
        "id": 507903115,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742863787
    },
    {
        "content": "<p>Ah yes, as if books never contain Lean 3 code: <a href=\"https://leanprover-community.github.io/extras/tactic_writing.html\">https://leanprover-community.github.io/extras/tactic_writing.html</a></p>",
        "id": 507980984,
        "sender_full_name": "Paweł Balawender",
        "timestamp": 1742897948
    },
    {
        "content": "<p>But that page being a wrong resource is a good piece of information, thanks - it's not clear from the banner on top of it that these examples won't work</p>",
        "id": 507984145,
        "sender_full_name": "Paweł Balawender",
        "timestamp": 1742898682
    },
    {
        "content": "<p>Strictly speaking these examples do still work, but they have to be run in Lean 3 to do so!</p>",
        "id": 508004983,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1742904669
    },
    {
        "content": "<p>Yes sorry, it looks like that page needs a complete rewrite :-/ Is it linked from somewhere else?</p>",
        "id": 508067072,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742919044
    },
    {
        "content": "<p>Hm I landed on it from google search, so it might not be referred elsewhere. I will be happy to help rewriting it if we find no volunteer :) (I would surely be very slow because I'm not proficient in it, but maybe even translating these examples to Lean 4 while preserving the tutorial structure would be of help, and that I could probably do)</p>",
        "id": 508078466,
        "sender_full_name": "Paweł Balawender",
        "timestamp": 1742921665
    },
    {
        "content": "<p>A lot of the lean 3 docs have been rewritten; the problem with that one is that the tactic framework has completely changed from Lean 3 to Lean 4, so the thing needs some attention from an expert (and many users of the system (e.g. me) do not know about metaprogramming at all, so are compeltely unable to take it on).</p>",
        "id": 508079156,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742921857
    },
    {
        "content": "<p>I just pushed some changes with an explicit warning about incompatibility.</p>\n<p>For someone just coming to Lean 4 it's easy to miss that the languages are completely different. It's one of those things that goes without saying if you used to use Lean 3 (or Lean 2!)</p>",
        "id": 508082909,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1742922821
    },
    {
        "content": "<p>There is also a section on custom tactics in the new and improved language reference<br>\n<a href=\"https://lean-lang.org/doc/reference/latest/Tactic-Proofs/Custom-Tactics/#custom-tactics\">https://lean-lang.org/doc/reference/latest/Tactic-Proofs/Custom-Tactics/#custom-tactics</a></p>",
        "id": 508086503,
        "sender_full_name": "Derek Rhodes",
        "timestamp": 1742923787
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"317929\">@Derek Rhodes</span>, I added a link.</p>",
        "id": 508099499,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1742927498
    }
]