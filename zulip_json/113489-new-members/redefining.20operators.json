[
    {
        "content": "<p>Hello, is it possible to redefine existing operators? Currently I'm trying to make <code>/</code> always return a real number when called on <code>Nat</code> using<br>\n<code>def div (a b : ℝ) : ℝ := a / b\ninfix:70 \"/\" =&gt; div</code></p>\n<p>but I'm getting <code>ambiguous, possible interpretations</code> when trying to use it.</p>",
        "id": 459531790,
        "sender_full_name": "pblpbl",
        "timestamp": 1723224345
    },
    {
        "content": "<p>You could override the interpretation of a pre-existing notation with a macro, like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">macro_rules</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">((</span><span class=\"n\">HDiv</span><span class=\"bp\">.</span><span class=\"n\">hDiv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>(untested)</p>",
        "id": 459534693,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1723225192
    },
    {
        "content": "<p>This is better than using your <code>div</code> too since all theorems are in terms of <code>HDiv.hDiv</code></p>",
        "id": 459534809,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1723225215
    },
    {
        "content": "<p>i think the preferable method would be to define a different notation, for example something like <code>\"/r\"</code></p>",
        "id": 459535024,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1723225290
    },
    {
        "content": "<p><code>÷</code>?</p>",
        "id": 459725433,
        "sender_full_name": "Michal Wallace (tangentstorm)",
        "timestamp": 1723309246
    }
]