[
    {
        "content": "<p>Quoting <a href=\"https://leanprover-community.github.io/mathematics_in_lean/C02_Basics.html\">MIL</a>:</p>\n<blockquote>\n<p>The following exercise is a little more challenging. You can use the theorems listed underneath.</p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">pow_two</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">mul_sub</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">add_mul</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">add_sub</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">sub_sub</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">add_zero</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>I've given it some time and I can't figure out how to complete it with <em>just</em> these theorems.</p>\n<p>I've searched on this forum and found <a href=\"#narrow/channel/113489-new-members/topic/MIL.20S01_calculating.20solutions.20for.20last.20questions/near/494265603\">this existing thread</a> by <span class=\"user-mention\" data-user-id=\"816710\">@Kate</span> but both solutions given in the thread rely on theorems not in the list:</p>\n<ul>\n<li><span class=\"user-mention\" data-user-id=\"321696\">@Julian Berman</span>'s relies on <code>sub_add</code>, <code>sub_self</code>, and <code>sub_zero</code></li>\n<li><span class=\"user-mention\" data-user-id=\"776452\">@Abraham Solomon</span>'s relies on <code>mul_neg</code> and <code>add_neg_cancel</code></li>\n</ul>\n<p>Is it actually possible to write it with the given list of theorems? If not, should MIL be amended?</p>",
        "id": 497207285,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1738451926
    },
    {
        "content": "<p>Attempting to rectify in <a href=\"https://github.com/avigad/mathematics_in_lean_source/pull/279\">https://github.com/avigad/mathematics_in_lean_source/pull/279</a></p>",
        "id": 497208208,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1738452969
    },
    {
        "content": "<p>yeah this is definitely proving tricky :-) Are you claiming that everyone can avoid <code>mul_comm</code>? How do you cancel <code>a * b</code> and <code>b * a</code>?</p>",
        "id": 497208236,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738453021
    },
    {
        "content": "<p>When solving, I took <code>mul_comm</code> for granted because it's used earlier in the text on this page. Technically this is true for <code>sub_self</code> too (although it was only used once so was easier to forget about). However, the rest of the candidates (<code>sub_add</code>, <code>sub_zero</code>, <code>mul_neg</code> or <code>add_neg_cancel</code>) were not used earlier.</p>\n<p>In my proposed edit/solution in <a href=\"https://github.com/avigad/mathematics_in_lean_source/pull/279\">https://github.com/avigad/mathematics_in_lean_source/pull/279</a>, I added <code>sub_add</code> and <code>sub_self</code> (because this one was only used once and is easy to forget). I didn't bother adding <code>mul_comm</code> there explicitly but can do.</p>",
        "id": 497208470,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1738453237
    },
    {
        "content": "<p>I'm looking at the source (search for <code>sub_sub</code> in <a href=\"https://leanprover-community.github.io/mathematics_in_lean/C02_Basics.html\">https://leanprover-community.github.io/mathematics_in_lean/C02_Basics.html</a>) and my reading of it is \"as well as the lemmas we mentioned above, such as <code>mul_comm</code>, you might also want to use these ones most of which we didn't mention yet\"</p>",
        "id": 497208521,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738453312
    },
    {
        "content": "<p>Right, that matches my reading — but <code>sub_add</code> is not on that list (and also isn't mentioned earlier), and I couldn't figure out a way to progress without it.</p>",
        "id": 497208584,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1738453376
    },
    {
        "content": "<p>Concretely, no matter what I was doing, I ended up getting stuck on something like <code>a * a - a * b + a * b - ...</code> and then saw no way to get rid of <code>- a * b + a * b</code> since I can't just change the order of these. I was hoping to use <code>add_comm</code> to somehow turn it into  <code>+ a * b - a * b</code> but the equivalence of <code>- x</code> and <code>+ (-x)</code> is not yet established in the text so I wasn't sure how to do that either.</p>",
        "id": 497208781,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1738453571
    },
    {
        "content": "<p>Thanks for the fixes. We will make a pass at revisions soon. It's possible that theorems were renamed since the exercise was first written, e.g. the old <code>sub_sub</code> might have been the reverse direction of <code>sub_add</code> or something like that. But anyhow it is an oversight that we didn't provide a solution.</p>",
        "id": 497275274,
        "sender_full_name": "Jeremy Avigad",
        "timestamp": 1738517726
    }
]