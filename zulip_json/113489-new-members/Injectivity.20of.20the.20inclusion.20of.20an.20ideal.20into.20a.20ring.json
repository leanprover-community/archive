[
    {
        "content": "<p>I am playing around with rings and ideals, and am struggling to even show that the canonical inclusion of an ideal into a commutative ring is injective:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">}</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Any suggestions?</p>",
        "id": 462573141,
        "sender_full_name": "Jarod Alper",
        "timestamp": 1723734943
    },
    {
        "content": "<p><code>exact?</code></p>",
        "id": 462573588,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723735082
    },
    {
        "content": "<p>This tactic used to be called library search (which is perhaps more descriptive). If you use it in place of <code>sorry</code>, you can see if there is something simple to solve the problem</p>",
        "id": 462573777,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723735141
    },
    {
        "content": "<p>Unless you want to bare-knuckle it?</p>",
        "id": 462575602,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723735509
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/113489-new-members/topic/Injectivity.20of.20the.20inclusion.20of.20an.20ideal.20into.20a.20ring/near/462573588\">said</a>:</p>\n<blockquote>\n<p><code>exact?</code></p>\n</blockquote>\n<p>Thanks! I had actually tried <code>Submodule.injective_subtype</code> in my code (as it was suggested by github copilot and Lean copilot in addition to exact?) but it didn't work in my only slightly more complicated code:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">   </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">ItoR</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"n\">I</span>\n<span class=\"w\">   </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">ItoR_injective</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"n\">ItoR</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">injective_subtype</span><span class=\"w\"> </span><span class=\"n\">I</span>\n</code></pre></div>\n<p>in which case I was getting the error</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">type</span><span class=\"w\"> </span><span class=\"n\">mismatch</span>\n<span class=\"w\">  </span><span class=\"n\">injective_subtype</span><span class=\"w\"> </span><span class=\"n\">I</span>\n<span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"bp\">⇑</span><span class=\"o\">(</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"bp\">⇑</span><span class=\"n\">ItoR</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>Any further suggestions?</p>",
        "id": 462616809,
        "sender_full_name": "Jarod Alper",
        "timestamp": 1723748034
    },
    {
        "content": "<p><code>have</code> is data irrelevant. It forgets what the definition is. Does <code>let</code> work?</p>",
        "id": 462617960,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723748458
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/113489-new-members/topic/Injectivity.20of.20the.20inclusion.20of.20an.20ideal.20into.20a.20ring/near/462617960\">said</a>:</p>\n<blockquote>\n<p><code>have</code> is data irrelevant. It forgets what the definition is. Does <code>let</code> work?</p>\n</blockquote>\n<p>Yep, <code>let</code> worked.  I've been relying too much on <code>have</code> apparently.  Thanks!</p>",
        "id": 462729808,
        "sender_full_name": "Jarod Alper",
        "timestamp": 1723792846
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> recently wrote a have/let linter that will send you a friendly reminder next time (-;<br>\nYou'll need a recent mathlib to have it work.</p>",
        "id": 462743911,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723798450
    }
]