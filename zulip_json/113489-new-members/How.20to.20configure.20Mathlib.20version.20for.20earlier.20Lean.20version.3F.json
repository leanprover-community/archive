[
    {
        "content": "<p>It appears that when I require Mathlib in the simplest way possible, with this in <code>lakefile.lean</code>,</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lean_lib</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">ChaosLean</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">require</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4\"</span>\n</code></pre></div>\n<p><code>lake update</code> then overwrites <code>lean-toolchain</code> to use the most recent version of Lean:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">updating</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">15</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1'</span>\n</code></pre></div>\n<p>and indeed, the contents of <code>lean-toolchain</code> has been changed to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">15</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n</code></pre></div>\n<p>How can I use an earlier version of Lean with Mathlib, in particular the latest stable release, v4.14.0?  I assume that what's happening is that the simple <code>require</code> line causes <code>lake update</code> to get the latest version of Mathlib, which is only compatible with the latest version of Lean.  I'm guessing that there's something  I need to change the <code>require</code> line to cause it use a version of Mathlib that's compatible with 4.14.0.  Or maybe I need to add arguments to <code>lake update</code>? (Why? I'm trying to debug a problem, and wondering whether 4.15.0-rc1 is causing it.)</p>\n<p>(As an aside, as a newbie and thus still an outsider, this feels like a bad practice: the standard configuration practice overwrites the user's chosen configuration, and in addition forces them to use a release candidate rather than the latest stable release.  Lean developers and Mathlib contributors might want that, but other users might not.)</p>",
        "id": 489026438,
        "sender_full_name": "mars0i",
        "timestamp": 1734210442
    },
    {
        "content": "<p>You're asking for the latest version of mathlib - there's only one version of lean that works with that</p>",
        "id": 489026971,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734210889
    },
    {
        "content": "<p>Try</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">require</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span>\n<span class=\"w\">  </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"v4.14.0\"</span>\n</code></pre></div>",
        "id": 489027002,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734210934
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span>!</p>",
        "id": 489032916,
        "sender_full_name": "mars0i",
        "timestamp": 1734216339
    }
]