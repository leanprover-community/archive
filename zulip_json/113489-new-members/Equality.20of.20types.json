[
    {
        "content": "<p>Hi,<br>\nEquality of Prop can be proven by <code>Eq.propIntro</code>, however this does not seem to work for Types.<br>\nIve seen a thread here where equality of types by HEq and cast was called an antipattern, but to me it seems desirable to express type equality.  </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 466655716,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1725174445
    },
    {
        "content": "<p>This is false. For example, there is a function from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Unit#doc\">docs#Unit</a> to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Bool#doc\">docs#Bool</a> - <code>fun x =&gt; false</code>, and from Bool to Unit - <code>fun x =&gt; ()</code>, but <code>Unit</code> and <code>Bool</code> aren't equal</p>",
        "id": 466656327,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1725174819
    },
    {
        "content": "<p>makes sense, but id want to proof something like this where a proper casting function exists such that p ( q x) = x for all elements:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"o\">:</span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">isSome</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>does this mean this is unprovable?</p>",
        "id": 466657038,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1725175214
    },
    {
        "content": "<p>I have no idea what you are trying to do, but:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">eq</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">v.isSome</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">exfalso</span>\n<span class=\"w\">  </span><span class=\"n\">simpa</span><span class=\"w\"> </span><span class=\"n\">using</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">none</span>\n</code></pre></div>",
        "id": 466660709,
        "sender_full_name": "Joël Riou",
        "timestamp": 1725177477
    },
    {
        "content": "<p>There is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Equiv#doc\">docs#Equiv</a>, perhaps that's what you want?</p>",
        "id": 466663153,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1725178996
    },
    {
        "content": "<p>additionally, you'll be interested in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subtype#doc\">docs#Subtype</a></p>",
        "id": 466663194,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725179039
    },
    {
        "content": "<p>basically, the statement you're likely looking for is <code>{x : Option a // x.isSome} ≃ a</code></p>",
        "id": 466663345,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725179145
    },
    {
        "content": "<p>oh yea its Equivalence that I was looking for! thanks</p>",
        "id": 466670739,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1725183087
    },
    {
        "content": "<p>seems like zulip doesnt let me close the topic, but its resolved :)</p>\n<blockquote>\n<p>You do not have permission to resolve topics with messages older than 7 days in this organization. Contact a moderator to resolve this topic.</p>\n</blockquote>",
        "id": 466671603,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1725183303
    },
    {
        "content": "<p>Please don't resolve topics, that's the policy we use on this site.</p>",
        "id": 466673806,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725184034
    },
    {
        "content": "<p>I thought i was supposed to resolve topics, good to know</p>",
        "id": 466677017,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1725185304
    },
    {
        "content": "<p>We'd like to switch it off completely but apparently this isn't possible</p>",
        "id": 466678735,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725185947
    },
    {
        "content": "<p>why do you want to disable it? these checkmarks seem like a nice indicator for finished topics</p>",
        "id": 466681999,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1725187463
    },
    {
        "content": "<p>It breaks links</p>",
        "id": 466684118,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725188330
    },
    {
        "content": "<p>And we existed for years with no ability to resolve topics and people sometimes coming back to topics, and it worked fine</p>",
        "id": 466684208,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725188381
    },
    {
        "content": "<p>I recently learned on Zulip Meta that it doesn't break links anymore. They've fixed that.</p>",
        "id": 466701935,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1725195721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span></p>",
        "id": 466702042,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1725195749
    }
]