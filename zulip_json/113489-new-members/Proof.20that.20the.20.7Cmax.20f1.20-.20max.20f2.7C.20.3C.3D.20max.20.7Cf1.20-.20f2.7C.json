[
    {
        "content": "<p><a href=\"/user_uploads/3121/R8dxlSoaW2FFeaFaos3SCo3X/image.png\">image.png</a><br>\nTo practice, I formalized this proof that the absolute difference in the maxima of two real-valued functions on a finite, non-empty set is not greater than the maximum absolute difference between them. (Note that the WLOG inequality assumption at the end of the second line should be reversed in the informal proof.) What can I improve, especially with regards to using <code>Classical</code>? </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/R8dxlSoaW2FFeaFaos3SCo3X/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"982x374\" src=\"/user_uploads/thumbnail/3121/R8dxlSoaW2FFeaFaos3SCo3X/image.png/840x560.webp\"></a></div><p>I wish I knew a way to both <code>let</code>-assign a variable from an <code>Exists.choose</code> and introduce a hypothesis that the variable satisfies the proposition of the <code>Exists</code>, like in <code>choose_spec</code>, but all in one step. In other words, I wish I could obtain <code>x₁</code> with <code>hx₁</code> and <code>x₂</code> with <code>hx₂</code> in one tactic or term-expression each.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Set.Finite.Lemmas</span>\n\n<span class=\"kn\">attribute</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"kd\">instance</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Classical.propDecidable</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">Set.liftFun</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">β</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">      </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">⟩</span>\n<span class=\"w\">    </span><span class=\"k\">else</span>\n<span class=\"w\">      </span><span class=\"n\">Classical.arbitrary</span><span class=\"w\"> </span><span class=\"n\">β</span>\n\n<span class=\"kd\">structure</span><span class=\"w\"> </span><span class=\"n\">FiniteNonemptySet</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span>\n<span class=\"w\">  </span><span class=\"n\">h₁</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">set.Finite</span>\n<span class=\"w\">  </span><span class=\"n\">h₂</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">set.Nonempty</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">FiniteNonemptySet</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FiniteNonemptySet</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X.set</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">exists_argmax</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">obtain</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx_mem</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx_max</span><span class=\"o\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X.set.exists_max_image</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X.set.liftFun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">X.h₁</span><span class=\"w\"> </span><span class=\"n\">X.h₂</span>\n<span class=\"w\">  </span><span class=\"n\">exists</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx_mem</span><span class=\"o\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hy_mem</span><span class=\"o\">⟩</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hx_max</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">hy_mem</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Set.liftFun</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx_mem</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hy_mem</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"n\">assumption</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">maxBy</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">exists_argmax</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose</span>\n\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">absolute_difference_of_maxima_le_maximum_absolute_distance</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X.set</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">|</span><span class=\"o\">)</span>\n<span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">wlog</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₂</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">abs_sub_comm</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">conv</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">abs_sub_comm</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">le_of_not_ge</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X.exists_argmax</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hx₁</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X.exists_argmax</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose_spec</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x₂</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X.exists_argmax</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hx₂</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X.exists_argmax</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose_spec</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"bp\">|</span>\n<span class=\"w\">      </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">rwa</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">abs_eq_self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">sub_nonneg</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"c1\">--_ = f₁ x₁ - f₂ x₂ := rfl</span>\n<span class=\"w\">      </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">tsub_le_tsub</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx₁</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx₂</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"n\">x₁</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">le_abs_self</span><span class=\"w\"> </span><span class=\"n\">_</span>\n<span class=\"w\">      </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">X.maxBy</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">|</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">        </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">maxBy</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">Subtype.forall</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X.exists_argmax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">f₁</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">f₂</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">|</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">choose_spec</span>\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">FiniteNonemptySet</span>\n</code></pre></div>",
        "id": 497301100,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738538146
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">indefiniteDescription</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">⋯</span>\n</code></pre></div>",
        "id": 497301308,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738538302
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span> Thank you! I was somehow just looking at that without connecting it to what I wanted</p>",
        "id": 497301462,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738538448
    },
    {
        "content": "<p>I have found this version to be harder to work with, due to both the higher-order unification problems it introduces (although that problem exists with <code>Classical.choose</code> and <code>Classical.choose_spec</code> too) and just that it is longer to type, and gives terms with <code>match Classical.indefiniteDescription _ _ with | .mk x hx =&gt; ...</code> in it.</p>",
        "id": 497301504,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738538496
    },
    {
        "content": "<p>Actually, <span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span>, the hypothesis given by <code>indefiniteDescription</code> for <code>x₁</code> is different (<code>x₁ ∈ X.set</code>) than the one I have using <code>choose_spec</code> (<code>∀ (y : ↑X.set), f₁ y ≤ f₁ ⋯.choose</code>)</p>",
        "id": 497301655,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738538619
    },
    {
        "content": "<p>And <code>x₁</code> is definitionally equal to that <code>⋯.choose</code>, I believe, so that's why it works</p>",
        "id": 497301730,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738538668
    },
    {
        "content": "<p>Not <code>x₁</code>, but the <code>(exists_argmax X f).choose</code> in the definition of <code>maxBy</code></p>",
        "id": 497302135,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738538981
    },
    {
        "content": "<p>In this particular case you don't need to use choice at all; there is a better proof. To prove max|f-g|&gt;=|max f - max g| it suffices to prove max|f-g| &gt;= max f - max g and &gt;= max g - max f, and  by symmetry we only need to prove the first one. Rearranging, we need to prove max|f-g| + max g &gt;= max f, but to prove something is &gt;= max f, we only need to prove it's &gt;= f(t) for all t (note that we're not using choice here, we're proving something for all t, not a special t) and this is obvious because max|f-g| &gt;= |f(t)-g(t)| and max(g) &gt;= g(t) by definition of max, and now the inequality follows from |f(t)-g(t)| &gt;= f(t) - g(t).</p>",
        "id": 497460475,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738595297
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> I'll try that, was following my written proof line-for-line. How do I even define the max of a finite, nonempty set constructively though?</p>",
        "id": 497534010,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738617736
    },
    {
        "content": "<p>You can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.max%27#doc\">docs#Finset.max'</a> or if you don't want to carry around proofs of nonempty then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.max#doc\">docs#Finset.max</a></p>",
        "id": 497536295,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738618612
    },
    {
        "content": "<p>But <span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span> I need the type parameter of the set to be a <code>LinearOrder</code> for that</p>",
        "id": 497587882,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738648205
    },
    {
        "content": "<p>What does the maximum mean if you don't have a linear order?</p>",
        "id": 497647278,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738670270
    },
    {
        "content": "<p>you can try using the supremum instead?</p>",
        "id": 497712837,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1738687992
    },
    {
        "content": "<p>i.e., the maximum is the supremum of two comparable values</p>",
        "id": 497712946,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1738688032
    },
    {
        "content": "<p>in mathlib, i think this is what <code>max</code> or <code>⊔</code> refers to</p>",
        "id": 497713704,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1738688234
    },
    {
        "content": "<p>That would be <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sup#doc\">docs#Finset.sup</a>, which works in a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SemilatticeSup#doc\">docs#SemilatticeSup</a> with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrderBot#doc\">docs#OrderBot</a>, and if you don't have a bottom element, then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sup%27#doc\">docs#Finset.sup'</a> (but you need nonempty).</p>",
        "id": 497727533,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738692538
    },
    {
        "content": "<p>Oh yeah lol. Sorry I forgot what my original goal was</p>",
        "id": 497730435,
        "sender_full_name": "Will Bradley",
        "timestamp": 1738693614
    }
]