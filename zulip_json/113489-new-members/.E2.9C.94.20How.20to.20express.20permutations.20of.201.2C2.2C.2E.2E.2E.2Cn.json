[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">permutations</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- this works, but...</span>\n<span class=\"c1\">-- how to say List.permutations [1, 2, ..., n] for natural n?</span>\n</code></pre></div>",
        "id": 500161726,
        "sender_full_name": "spamegg",
        "timestamp": 1739792701
    },
    {
        "content": "<p>Do you know about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.range#doc\">docs#List.range</a> ? <code>List.range n = [0, ..., n - 1]</code></p>",
        "id": 500163382,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1739793158
    },
    {
        "content": "<p>Excellent, thanks!<br>\nDo you know if there is a way to get \"named variables\" that refer to the elements in a permutation? Like:</p>\n<p>\"Let a1, a2, ..., an be a permutation of 1,2,...,n. Then...\"</p>",
        "id": 500168253,
        "sender_full_name": "spamegg",
        "timestamp": 1739794416
    },
    {
        "content": "<p>I need to express a function like:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- where a1, a2, ..., an is a permutation of 1, 2, ..., n</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a₁</span><span class=\"w\"> </span><span class=\"n\">a₂</span><span class=\"w\"> </span><span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"n\">a₁</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">⌋</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"n\">a₂</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">⌋</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">⌋</span>\n</code></pre></div>",
        "id": 500168898,
        "sender_full_name": "spamegg",
        "timestamp": 1739794569
    },
    {
        "content": "<p>That's not a MWE because you have <code>...</code>. Can you formalise what you actually <em>mean</em> with your question?</p>",
        "id": 500169424,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739794710
    },
    {
        "content": "<p>For example is <code>n</code> a numeral or a variable in your question?</p>",
        "id": 500169552,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739794747
    },
    {
        "content": "<p>Yes I know it's not a MWE because I don't know how to express <code>...</code>. I was writing pseudocode to convey the idea.</p>\n<p>I'm not sure what the difference between a numeral and a variable is. Let's say it starts as <code>example (n : N)</code></p>",
        "id": 500175331,
        "sender_full_name": "spamegg",
        "timestamp": 1739796228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766787\">spamegg</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20express.20permutations.20of.201.2C2.2C.2E.2E.2E.2Cn/near/500168898\">said</a>:</p>\n<blockquote>\n<p>I need to express a function like:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- where a1, a2, ..., an is a permutation of 1, 2, ..., n</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a₁</span><span class=\"w\"> </span><span class=\"n\">a₂</span><span class=\"w\"> </span><span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"n\">a₁</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">⌋</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"n\">a₂</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">⌋</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">⌋</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>What do you need this definition for? By the way you can do <code>List.sum $ List.zipWith (⌊·/·⌋) perm (List.range n)</code>.</p>",
        "id": 500176492,
        "sender_full_name": "suhr",
        "timestamp": 1739796509
    },
    {
        "content": "<p>I need the definition for an Olympiad problem. It's stated in the problem. I need to minimize that function over all permutations of 1,2,...,n.</p>",
        "id": 500177808,
        "sender_full_name": "spamegg",
        "timestamp": 1739796781
    },
    {
        "content": "<p>Thanks for the tip! <code>zipWith</code> is a good idea.</p>",
        "id": 500178299,
        "sender_full_name": "spamegg",
        "timestamp": 1739796888
    },
    {
        "content": "<p>My question still stands though.</p>",
        "id": 500179216,
        "sender_full_name": "spamegg",
        "timestamp": 1739797083
    },
    {
        "content": "<p>It's helpful to think with lists rather than with individual elements. You can read <a href=\"https://www.eecg.utoronto.ca/~jzhu/csc326/readings/iverson.pdf\">https://www.eecg.utoronto.ca/~jzhu/csc326/readings/iverson.pdf</a> as an inspiration. It's not directly applicable to Lean, but the way of thinking could be transferred.</p>\n<p>Considering <code>a1 a2 ... an</code> notation, it is neither available nor necessary: you can just use <code>list.get 0</code>, <code>list.get 1</code> and so on. But depending on how you are going to use the list, you might not need indexing at all.</p>",
        "id": 500181531,
        "sender_full_name": "suhr",
        "timestamp": 1739797612
    },
    {
        "content": "<p>Thanks, I understand.</p>",
        "id": 500181685,
        "sender_full_name": "spamegg",
        "timestamp": 1739797650
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766787\">spamegg</span> has marked this topic as resolved.</p>",
        "id": 500181716,
        "sender_full_name": "Notification Bot",
        "timestamp": 1739797658
    },
    {
        "content": "<p>Here's another way to express this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">Perm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⌊</span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">⌋</span>\n</code></pre></div>\n<p>In can be better to work with functions rather than lists. Lists are a programmy way of encoding the problem, and sets and functions can give you a more mathy way. The mathy way can be easier to reason about.</p>",
        "id": 500256772,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739817992
    }
]