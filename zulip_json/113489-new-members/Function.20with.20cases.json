[
    {
        "content": "<p>How can I split up the domain of a function when the domain is continuous?</p>\n<p>The first one works, the second doesn't.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">choices</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mf\">55.5</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">23</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ReLU</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span>\n</code></pre></div>",
        "id": 453346184,
        "sender_full_name": "Tyler Josephson ⚛️",
        "timestamp": 1721719925
    },
    {
        "content": "<p>Use a if-then-else</p>",
        "id": 453346354,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721720027
    },
    {
        "content": "<p>I'm specifically trying to use a functional programming style. I'm guessing this style will be easier for writing proofs about this function? Is it even possible to define a function like this in Lane, without using if-then-else?</p>",
        "id": 453346481,
        "sender_full_name": "Tyler Josephson ⚛️",
        "timestamp": 1721720072
    },
    {
        "content": "<p>This is motivated by a more complicated example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">truncated_LJ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"n\">sigma</span><span class=\"w\"> </span><span class=\"n\">epsilon</span><span class=\"w\"> </span><span class=\"n\">rcut</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">rcut</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">math</span><span class=\"w\"> </span><span class=\"n\">expression</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">rcut</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>",
        "id": 453346544,
        "sender_full_name": "Tyler Josephson ⚛️",
        "timestamp": 1721720106
    },
    {
        "content": "<p>The match/equation compiler syntax only matches on explicit values and constructors iiuc</p>",
        "id": 453346816,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721720228
    },
    {
        "content": "<p>You could, in such examples, always use min</p>",
        "id": 453347038,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721720324
    },
    {
        "content": "<p>And your math expression probably is already other defns for the attractive and repulsive terms</p>",
        "id": 453347160,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721720377
    },
    {
        "content": "<p>Also, I don't think we have a expression support for 0 &lt;= d &lt; rcut, but you can use Icc if you want</p>",
        "id": 453347402,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721720467
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/stream/113489-new-members/topic/Function.20with.20cases/near/453347160\">said</a>:</p>\n<blockquote>\n<p>And your math expression probably is already other defns for the attractive and repulsive terms</p>\n</blockquote>\n<p>Yep, that's the case. We like to prove that the LJ potential is continuous for d &gt; 0, and a proof that the truncated LJ potential is not continuous for d &gt; 0. You think setting up the truncated one with if-then-else would be the best starting point for that case?</p>",
        "id": 453348419,
        "sender_full_name": "Tyler Josephson ⚛️",
        "timestamp": 1721720817
    },
    {
        "content": "<p>If then else is a function underneath: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ite#doc\">docs#ite</a></p>",
        "id": 453348929,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721721011
    },
    {
        "content": "<p>So I think any way you formulate it is fine. Another approach would be to define the plain LJ, and then define various truncation functions</p>",
        "id": 453349148,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721721086
    },
    {
        "content": "<p>If you'll be defining a softcore potential, for example</p>",
        "id": 453349457,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1721721202
    }
]