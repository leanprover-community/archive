[
    {
        "content": "<p>I'm trying to import Aesop, by performing the following steps:</p>\n<ul>\n<li>Added <code>require Aesop from git \"https://github.com/JLimperg/aesop\" @ \"master\"</code> to <code>lakefile.lean</code></li>\n<li>Ran <code>lake update</code></li>\n<li>Added <code>import Aesop</code> as the first line in my <code>.lean</code> file</li>\n<li>Got the following error:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Data</span><span class=\"bp\">\\</span><span class=\"n\">List</span><span class=\"bp\">\\</span><span class=\"n\">Basic.lean</span><span class=\"o\">:</span><span class=\"mi\">930</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">tactic</span> <span class=\"bp\">'</span><span class=\"n\">rewrite'</span> <span class=\"n\">failed</span><span class=\"o\">,</span> <span class=\"n\">did</span> <span class=\"n\">not</span> <span class=\"n\">find</span> <span class=\"kd\">instance</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">pattern</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">target</span> <span class=\"n\">expression</span>\n  <span class=\"o\">(</span><span class=\"n\">foldl</span> <span class=\"bp\">?</span><span class=\"n\">F</span> <span class=\"bp\">?</span><span class=\"n\">acc</span> <span class=\"bp\">?</span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">data</span>\n<span class=\"n\">case</span> <span class=\"n\">h.h.false.cons</span>\n<span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_1</span>\n<span class=\"n\">l</span> <span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"n\">α</span>\n<span class=\"n\">L</span> <span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"o\">(</span><span class=\"n\">List</span> <span class=\"n\">α</span><span class=\"o\">)</span>\n<span class=\"n\">IH</span> <span class=\"o\">:</span> <span class=\"n\">sections</span> <span class=\"n\">L</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">foldr</span> <span class=\"n\">sectionsTR.go</span> <span class=\"bp\">#</span><span class=\"o\">[[]]</span> <span class=\"n\">L</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">data</span>\n<span class=\"bp\">⊢</span> <span class=\"o\">(</span><span class=\"n\">List.bind</span>\n      <span class=\"o\">(</span><span class=\"n\">foldr</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">l</span> <span class=\"n\">acc</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">l'</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">a</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Array.push</span> <span class=\"n\">acc'</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">::</span> <span class=\"n\">l'</span><span class=\"o\">))</span> <span class=\"n\">acc'</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"bp\">#</span><span class=\"o\">[]</span> <span class=\"n\">acc.data</span><span class=\"o\">)</span>\n          <span class=\"bp\">#</span><span class=\"o\">[[]]</span> <span class=\"n\">L</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">data</span>\n      <span class=\"k\">fun</span> <span class=\"n\">s</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">map</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">a</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">a</span> <span class=\"o\">::</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"bp\">=</span>\n    <span class=\"o\">(</span><span class=\"n\">Array.foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">l'</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">a</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Array.push</span> <span class=\"n\">acc'</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">::</span> <span class=\"n\">l'</span><span class=\"o\">))</span> <span class=\"n\">acc'</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"bp\">#</span><span class=\"o\">[]</span>\n        <span class=\"o\">(</span><span class=\"n\">foldr</span>\n          <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">l</span> <span class=\"n\">acc</span> <span class=\"bp\">=&gt;</span>\n            <span class=\"n\">Array.foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">l'</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">a</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Array.push</span> <span class=\"n\">acc'</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">::</span> <span class=\"n\">l'</span><span class=\"o\">))</span> <span class=\"n\">acc'</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"bp\">#</span><span class=\"o\">[]</span> <span class=\"n\">acc</span> <span class=\"mi\">0</span>\n              <span class=\"o\">(</span><span class=\"n\">Array.size</span> <span class=\"n\">acc</span><span class=\"o\">))</span>\n          <span class=\"bp\">#</span><span class=\"o\">[[]]</span> <span class=\"n\">L</span><span class=\"o\">)</span>\n        <span class=\"mi\">0</span>\n        <span class=\"o\">(</span><span class=\"n\">Array.size</span>\n          <span class=\"o\">(</span><span class=\"n\">foldr</span>\n            <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">l</span> <span class=\"n\">acc</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">l'</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">foldl</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">acc'</span> <span class=\"n\">a</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Array.push</span> <span class=\"n\">acc'</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">::</span> <span class=\"n\">l'</span><span class=\"o\">))</span> <span class=\"n\">acc'</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"bp\">#</span><span class=\"o\">[]</span> <span class=\"n\">acc.data</span><span class=\"o\">)</span>\n            <span class=\"bp\">#</span><span class=\"o\">[[]]</span> <span class=\"n\">L</span><span class=\"o\">)))</span><span class=\"bp\">.</span><span class=\"n\">data</span>\n</code></pre></div>\n<p>Does that mean the standardlib fails to build? Is aesop broken at head? Or do I need to specify a version of the standard library in my <code>lakefile.lean</code>? I'm confused.</p>",
        "id": 382718273,
        "sender_full_name": "Philipp",
        "timestamp": 1691430830
    },
    {
        "content": "<p>It could be a lean version mismatch, what is the contents of your <code>lean-toolchain</code> and <code>lake-packages\\aesop\\lean-toolchain</code>?</p>",
        "id": 382728296,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1691433313
    },
    {
        "content": "<p>Oh yes that was it. Thanks!</p>",
        "id": 382738944,
        "sender_full_name": "Philipp",
        "timestamp": 1691436070
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"638732\">Philipp</span> has marked this topic as resolved.</p>",
        "id": 383084849,
        "sender_full_name": "Notification Bot",
        "timestamp": 1691530537
    }
]