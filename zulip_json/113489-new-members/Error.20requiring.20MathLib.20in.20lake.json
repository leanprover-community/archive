[
    {
        "content": "<p>Very new to Lean. I have downloaded other people's projects and successfully tinkered with them, but now I'm trying to create my own new project. I want to be able to use MathLib, so I am trying to update my lake file.<br>\n<a href=\"/user_uploads/3121/evdXVV2neVojAVmK4NRHcVcP/Screenshot-2025-01-13-at-3.40.47PM.png\">Screenshot 2025-01-13 at 3.40.47 PM.png</a><br>\nEverything in the lake file updates fine until I added the line starting \"require\". When I try to update I then get this error:<br>\n<a href=\"/user_uploads/3121/mR-HVET21KDn2K1e3lAjFHbN/Screenshot-2025-01-13-at-3.41.58PM.png\">Screenshot 2025-01-13 at 3.41.58 PM.png</a><br>\nI can't figure out the issue. This lake file is copied nearly directly from another one in a project that works (with the name of the project updated.) Help?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/evdXVV2neVojAVmK4NRHcVcP/Screenshot-2025-01-13-at-3.40.47PM.png\" title=\"Screenshot 2025-01-13 at 3.40.47 PM.png\"><img data-original-dimensions=\"924x834\" src=\"/user_uploads/thumbnail/3121/evdXVV2neVojAVmK4NRHcVcP/Screenshot-2025-01-13-at-3.40.47PM.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/mR-HVET21KDn2K1e3lAjFHbN/Screenshot-2025-01-13-at-3.41.58PM.png\" title=\"Screenshot 2025-01-13 at 3.41.58 PM.png\"><img data-original-dimensions=\"1750x284\" src=\"/user_uploads/thumbnail/3121/mR-HVET21KDn2K1e3lAjFHbN/Screenshot-2025-01-13-at-3.41.58PM.png/840x560.webp\"></a></div>",
        "id": 493444593,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1736801001
    },
    {
        "content": "<p>What I think happens is that the version of lean and lake you're using is too old to understand the lakefile in mathlib</p>",
        "id": 493445717,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736801342
    },
    {
        "content": "<p>What's in your <code>lean-toolchain</code> file?</p>",
        "id": 493445779,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736801369
    },
    {
        "content": "<p>It only contains the line: <br>\nleanprover/lean4:stable</p>",
        "id": 493445898,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1736801403
    },
    {
        "content": "<p>Here are my lean and lake versions<br>\nLean (version 4.8.0, aarch64-apple-darwin, commit df668f00e6c0, Release)<br>\nLake version 5.0.0-df668f0 (Lean version 4.8.0)</p>",
        "id": 493446202,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1736801514
    },
    {
        "content": "<p>That's much too old to work with a recent version of mathlib</p>",
        "id": 493446316,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736801538
    },
    {
        "content": "<p>Change the<code>require</code> line to say: <code>require \"leanprover-community\" / \"mathlib4\" @ git \"v4.15.0\"</code> -- does it work then?</p>",
        "id": 493446503,
        "sender_full_name": "Julian Berman",
        "timestamp": 1736801594
    },
    {
        "content": "<p>(Remove both lines 13 and 14)</p>",
        "id": 493446545,
        "sender_full_name": "Julian Berman",
        "timestamp": 1736801609
    },
    {
        "content": "<p>You can update it to <code>leanprover/lean4:v4.15.0</code> and... yeah, that</p>",
        "id": 493446626,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736801640
    },
    {
        "content": "<p>To (arguably) clarify Ruben's message, \"update it to <code>leanprover/lean4:v4.15.0</code>\" means replacing the contents of the <code>lean-toolchain</code> file with <code>leanprover/lean4:v4.15.0</code>. There are elan commands to update the stable version, but this way's easier.</p>",
        "id": 493446902,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1736801737
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/NS7aqTLDxCAe3o5-nIwfOHt5/Screenshot-2025-01-13-at-3.57.09PM.png\">Screenshot 2025-01-13 at 3.57.09 PM.png</a><br>\nThanks for the quick help! Updating lean fixed most of the errors, but now I'm getting this one which I don't understand.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/NS7aqTLDxCAe3o5-nIwfOHt5/Screenshot-2025-01-13-at-3.57.09PM.png\" title=\"Screenshot 2025-01-13 at 3.57.09 PM.png\"><img data-original-dimensions=\"1434x140\" src=\"/user_uploads/thumbnail/3121/NS7aqTLDxCAe3o5-nIwfOHt5/Screenshot-2025-01-13-at-3.57.09PM.png/840x560.webp\"></a></div><p>Also, for future reference, what is the command for keeping both lean and lake up to date?</p>",
        "id": 493447440,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1736801910
    },
    {
        "content": "<blockquote>\n<p>Thanks for the quick help! Updating lean fixed most of the errors, but now I'm getting this one which I don't understand.</p>\n</blockquote>\n<p>Uh, I guess the right line to have given you was <code>require \"leanprover-community\" / \"mathlib\" @ git \"v4.15.0\"</code> (with no 4), which I always forget.</p>",
        "id": 493447834,
        "sender_full_name": "Julian Berman",
        "timestamp": 1736802011
    },
    {
        "content": "<p>(So change to that.)</p>",
        "id": 493447873,
        "sender_full_name": "Julian Berman",
        "timestamp": 1736802020
    },
    {
        "content": "<p>Oh wow, for real. I learned something new today</p>",
        "id": 493448038,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736802066
    },
    {
        "content": "<p>Yes because it's not a repo name it's a reservoir scope thingy I think when you use that syntax.</p>",
        "id": 493448120,
        "sender_full_name": "Julian Berman",
        "timestamp": 1736802087
    },
    {
        "content": "<p>(\"Package\" it looks like is the verbiage lake uses. I like \"thingy\".)</p>",
        "id": 493448471,
        "sender_full_name": "Julian Berman",
        "timestamp": 1736802187
    },
    {
        "content": "<p>It's working--thanks everyone <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span></p>",
        "id": 493449098,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1736802367
    }
]