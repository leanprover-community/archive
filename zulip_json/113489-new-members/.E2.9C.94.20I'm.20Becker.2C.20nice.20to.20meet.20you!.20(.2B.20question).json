[
    {
        "content": "<p>hi there! I'm Becker, nice to meet you all!</p>\n<p>question: what channel is best for asking simple help questions? specifically I'm trying to write a proof and am getting errors I don't understand.</p>",
        "id": 503841921,
        "sender_full_name": "Becker A.",
        "timestamp": 1741279694
    },
    {
        "content": "<p>Here is fine <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 503841987,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741279713
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/I.27m.20Becker.2C.20nice.20to.20meet.20you.21\">#new members &gt; I'm Becker, nice to meet you!</a> by <span class=\"user-mention silent\" data-user-id=\"885689\">Becker A.</span>.</p>",
        "id": 503841999,
        "sender_full_name": "Notification Bot",
        "timestamp": 1741279716
    },
    {
        "content": "<p>Okay, so I'm mid-way through a proof with the following state:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝²</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝¹</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Neg</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">OrderedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"n\">min</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Minimization</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">Solution</span>\n<span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">D</span>\n<span class=\"n\">y_feasible</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">constraintSet</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span><span class=\"bp\">.</span><span class=\"n\">feasible</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"n\">isLeq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">point</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">point</span>\n</code></pre></div>\n<p>I tried to solve the goal with this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">neg_le_neg</span><span class=\"w\"> </span><span class=\"n\">isLeq</span>\n</code></pre></div>\n<p>to make use of the mathlib function <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Order/Group/Defs.html#neg_le_neg\"><code>neg_le_neg</code></a>, but got this error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">typeclass</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">problem</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">stuck</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">often</span><span class=\"w\"> </span><span class=\"n\">due</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">metavariables</span>\n<span class=\"w\">  </span><span class=\"n\">OrderedAddCommGroup</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"m\">2469</span>\n</code></pre></div>\n<p>and I'm not sure what to do. thanks in advance!</p>\n<p>(full code is here:)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Bounds</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n\n<span class=\"c\">/-</span><span class=\"cm\">!</span>\n\n<span class=\"cm\">uses CvxLean as a reference:</span>\n<span class=\"cm\">- https://github.com/verified-optimization/CvxLean/blob/c62c2f292c6420f31a12e738ebebdfed50f6f840/CvxLean/Lib/Minimization.lean</span>\n\n<span class=\"cm\">-/</span>\n\n\n<span class=\"c\">/-</span><span class=\"cm\"> Constraint Set -/</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">ConstraintSet</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">    </span><span class=\"n\">constraints</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">ConstraintSet</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ConstraintSet</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- A point `x : S` is feasible in `c` if it satisfies the constraints. -/</span>\n<span class=\"kd\">@[</span><span class=\"n\">reducible</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">feasible</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">.</span><span class=\"n\">constraints</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">ConstraintSet</span>\n\n<span class=\"c\">/-</span><span class=\"cm\"> Minimization -/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Minimization</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Domain</span><span class=\"w\"> </span><span class=\"n\">Range</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">    </span><span class=\"n\">objectiveFunc</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Domain</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Range</span>\n<span class=\"w\">    </span><span class=\"n\">constraintSet</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ConstraintSet</span><span class=\"w\"> </span><span class=\"n\">Domain</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Minimization</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Minimization</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- A point `x : D` is optimal in `p` if it is feasible and for any feasible point `y : D` the</span>\n<span class=\"sd\">value of `x` is a lower bound to the value of `y`. --/</span>\n<span class=\"kd\">@[</span><span class=\"n\">reducible</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">optimal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span><span class=\"bp\">.</span><span class=\"n\">feasible</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span><span class=\"bp\">.</span><span class=\"n\">feasible</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"w\">    </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">y</span>\n\n<span class=\"sd\">/-- A solution is simply an optimal point. -/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Solution</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">point</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">D</span>\n<span class=\"w\">  </span><span class=\"n\">isOptimal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">optimal</span><span class=\"w\"> </span><span class=\"n\">point</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Minimization</span>\n\n\n<span class=\"c\">/-</span><span class=\"cm\"> Maximization -/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Maximization</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Domain</span><span class=\"w\"> </span><span class=\"n\">Range</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">    </span><span class=\"n\">objectiveFunc</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Domain</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Range</span>\n<span class=\"w\">    </span><span class=\"n\">constraintSet</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ConstraintSet</span><span class=\"w\"> </span><span class=\"n\">Domain</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Maximization</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Maximization</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- A point `x : D` is optimal in `p` if it is feasible and for any feasible point `y : D` the</span>\n<span class=\"sd\">value of `x` is a lower bound to the value of `y`. --/</span>\n<span class=\"kd\">@[</span><span class=\"n\">reducible</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">optimal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span><span class=\"bp\">.</span><span class=\"n\">feasible</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span><span class=\"bp\">.</span><span class=\"n\">feasible</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"sd\">/-- A solution is simply an optimal point. -/</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Solution</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">point</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">D</span>\n<span class=\"w\">  </span><span class=\"n\">isOptimal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">optimal</span><span class=\"w\"> </span><span class=\"n\">point</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Maximization</span>\n\n\n<span class=\"c\">/-</span><span class=\"cm\"> Remark -/</span>\n<span class=\"sd\">/-- max_x f(x) = -min_x (-f(x)) -/</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">max_obj_eq_neg_min_neg_obj</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Neg</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"c1\">-- [InvolutiveNeg R]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Minimization</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">Solution</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span>\n<span class=\"w\">        </span><span class=\"n\">Maximization</span><span class=\"bp\">.</span><span class=\"n\">mk</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span>\n<span class=\"w\">        </span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">constraintSet</span>\n<span class=\"w\">    </span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">optimal</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">point</span>\n<span class=\"w\">    </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">constructor</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">isOptimal</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n<span class=\"w\">        </span><span class=\"n\">choose</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"w\">        </span><span class=\"n\">choose</span><span class=\"w\"> </span><span class=\"n\">y_feasible</span>\n<span class=\"w\">        </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">min</span><span class=\"bp\">.</span><span class=\"n\">objectiveFunc</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">point</span>\n<span class=\"w\">        </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">isLeq</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">isOptimal</span><span class=\"bp\">.</span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">y_feasible</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">neg_le_neg</span><span class=\"w\"> </span><span class=\"n\">isLeq</span>\n</code></pre></div>",
        "id": 503843377,
        "sender_full_name": "Becker A.",
        "timestamp": 1741280116
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">inst</span><span class=\"bp\">✝²</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝¹</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Neg</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">OrderedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">R</span>\n</code></pre></div>\n<p>is a recipe for disaster: It means let <code>R</code> be an ordered additive commutative group, and let it also have some random order, and some random negation</p>",
        "id": 503843943,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741280280
    },
    {
        "content": "<p>Remove the first two and only keep the last one</p>",
        "id": 503844011,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741280291
    },
    {
        "content": "<p>yeah that did it, thanks.</p>\n<p>I'm a little surprised though that e.g. arbitrary negation and specific negation doesn't just narrow to the logical intersection of the two, which would be the specific negation...?</p>",
        "id": 503846221,
        "sender_full_name": "Becker A.",
        "timestamp": 1741280937
    },
    {
        "content": "<p>Both the <code>Neg R</code> and <code>OrderedAddCommGroup R</code> assumptions give a negation, but <code>Neg R</code> is an arbitrary negation, and <code>OrderedAddCommGroup R</code> is a negation that obeys the ordered group axioms. There's also nothing saying the two negations are the same, so that leads to confusion when <code>-a ≠ -a</code> because the two negations are different.</p>",
        "id": 503846697,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741281085
    },
    {
        "content": "<p>so negation under <code>OrderedAddCommGroup</code> isn't a specific instantiation of negation under <code>Neg</code>?</p>",
        "id": 503847154,
        "sender_full_name": "Becker A.",
        "timestamp": 1741281218
    },
    {
        "content": "<p>it also probably doesn't help that I don't really know the bracket syntax yet, or what kind of programming object <code>Neg</code> and <code>OrderedAddCommGroup</code> are (classes/structures? interfaces?)</p>",
        "id": 503847386,
        "sender_full_name": "Becker A.",
        "timestamp": 1741281278
    },
    {
        "content": "<p><code>OrderedAddCommGroup R</code> comes with a negation, if you put a <code>Neg R</code> on top of that then it's a different negation.</p>",
        "id": 503847486,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741281309
    },
    {
        "content": "<p>Both <code>Neg</code> and <code>OrderedAddCommGroup</code> are typeclasses.</p>",
        "id": 503847677,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741281359
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"885689\">Becker A.</span> has marked this topic as resolved.</p>",
        "id": 503904871,
        "sender_full_name": "Notification Bot",
        "timestamp": 1741300702
    }
]