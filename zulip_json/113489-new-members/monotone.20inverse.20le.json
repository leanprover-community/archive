[
    {
        "content": "<p>Is there something like <code>(h : monotone g) (h' : g(x) &lt;= y) : x &lt;= (inverse g) y</code>?</p>",
        "id": 511258187,
        "sender_full_name": "Iocta",
        "timestamp": 1744230974
    },
    {
        "content": "<p>And maybe the antitone version too?</p>",
        "id": 511259017,
        "sender_full_name": "Iocta",
        "timestamp": 1744231376
    },
    {
        "content": "<p>Try writing a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> first</p>",
        "id": 511263202,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1744233145
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=GaloisConnection#doc\">docs#GaloisConnection</a> seems similar</p>",
        "id": 511270002,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744236344
    },
    {
        "content": "<p>Yeah but it's impossible to say anything coherent because we don't know the types of anything or any of the assumptions until we have a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a></p>",
        "id": 511273174,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744238105
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Monotone</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Antitone</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 511283367,
        "sender_full_name": "Iocta",
        "timestamp": 1744243372
    },
    {
        "content": "<p><code>g⁻¹</code> is the function <code>fun x =&gt; (g x)⁻¹</code>; is that what you intended?</p>",
        "id": 511283793,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744243572
    },
    {
        "content": "<p>No</p>",
        "id": 511283834,
        "sender_full_name": "Iocta",
        "timestamp": 1744243592
    },
    {
        "content": "<p>I mean the function inverse</p>",
        "id": 511283915,
        "sender_full_name": "Iocta",
        "timestamp": 1744243631
    },
    {
        "content": "<p>What if the inverse doesn't exist?</p>",
        "id": 511283938,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744243645
    },
    {
        "content": "<p>Well it needs to exist</p>",
        "id": 511283945,
        "sender_full_name": "Iocta",
        "timestamp": 1744243654
    },
    {
        "content": "<p>Sometimes it doesn't exist. How do you prevent someone from applying this theorem to a function that doesn't have an inverse?</p>",
        "id": 511284093,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744243721
    },
    {
        "content": "<p>What's the inverse of <code>g = (fun x =&gt; 3)</code>?</p>",
        "id": 511284257,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744243817
    },
    {
        "content": "<p>I imagine there's an \"inverse function\" concept somewhere in mathlib, and it has the necessary hypotheses?</p>",
        "id": 511284449,
        "sender_full_name": "Iocta",
        "timestamp": 1744243929
    },
    {
        "content": "<p>Or not?</p>",
        "id": 511285364,
        "sender_full_name": "Iocta",
        "timestamp": 1744244478
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Function.invFun#doc\">docs#Function.invFun</a></p>",
        "id": 511286794,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1744245352
    },
    {
        "content": "<p>it only requires that the domain is nonempty, so you should be fine with <code>ℝ → ℝ</code></p>",
        "id": 511287098,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1744245493
    },
    {
        "content": "<p>is <code>g</code> Surjective?</p>",
        "id": 511288443,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1744246187
    },
    {
        "content": "<p>Let's say yes for now</p>",
        "id": 511288567,
        "sender_full_name": "Iocta",
        "timestamp": 1744246237
    },
    {
        "content": "<p>if it is, there's also <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Function.surjInv#doc\">docs#Function.surjInv</a></p>",
        "id": 511288603,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1744246257
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Filter/Pointwise.html#Filter.inv_le_inv_iff\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Filter/Pointwise.html#Filter.inv_le_inv_iff</a> seems closeish to the statement I wanted</p>",
        "id": 511288683,
        "sender_full_name": "Iocta",
        "timestamp": 1744246316
    },
    {
        "content": "<p>Those <code>f</code> and <code>g</code> in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.inv_le_inv_iff#doc\">docs#Filter.inv_le_inv_iff</a> are pointwise inverse on the filters, so not what you want.</p>",
        "id": 511290412,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744247164
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253355\">@Iocta</span> if you had an <code>OrderIso</code> you could just use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrderIso.le_symm_apply#doc\">docs#OrderIso.le_symm_apply</a></p>",
        "id": 511290859,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1744247404
    },
    {
        "content": "<p>If you don't have an <code>OrderIso</code>, then the concept of \"inverse\" is very nicely captured by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=GaloisConnection#doc\">docs#GaloisConnection</a></p>",
        "id": 511327238,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744267900
    }
]