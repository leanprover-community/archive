[
    {
        "content": "<p>I'm working with Lean4 code in VSCode, and the Infoview gives me an error message: \" ...(my file) crashed, likely due to a stack overflow or a bug. \"Initially, I suspected a bug in my code. However, when I ran the same code using the Lean 4 Web editor, it executed without any issues. So I think the problem is about the stack size. Is there a way to increase the stack size for Lean 4?</p>",
        "id": 507886006,
        "sender_full_name": "Isaac Li",
        "timestamp": 1742854645
    },
    {
        "content": "<p>Hi, I couldn't find a reference to any relevant options having to do with memory limits or stack size in the Lean4Web repo, nor the vscode extension, however, digging around other places shows that people mentioning setting <code>maxRecDepth</code> directly in the editor with <code>set_option</code>. If that doesn't work, then maybe someone else knows :)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"bp\">#</span><span class=\"w\"> </span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">maxRecDepth</span><span class=\"w\">  </span><span class=\"c1\">-- { name := `maxRecDepth, defValue := 512 }</span>\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">maxRecDepth</span><span class=\"w\"> </span><span class=\"mi\">4096</span>\n</code></pre></div>\n<p>(also, it might be worth considering that the behavior you're seeing may be the consequence of using a version of lean different from what's running on lean4web?)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"c1\">-- Mathlib latest                 : Lean 4.18.0-rc1</span>\n<span class=\"bp\">#</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"c1\">-- Mathlib stable                 : Lean 4.17.0</span>\n<span class=\"bp\">#</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"c1\">-- Lean Nightly (without mathlib) : Lean 4.19.0-nightly-2025-03-24</span>\n</code></pre></div>",
        "id": 507897245,
        "sender_full_name": "Derek Rhodes",
        "timestamp": 1742860423
    },
    {
        "content": "<p>Can you reproduce the failure on the cmdline using <code>lake lean</code>? If so, try passing something like <code>-- --tstack=16000</code> there.</p>",
        "id": 507972343,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1742895643
    }
]