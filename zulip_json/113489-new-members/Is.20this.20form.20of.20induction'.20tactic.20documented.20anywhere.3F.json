[
    {
        "content": "<p>Found this in <span class=\"user-mention\" data-user-id=\"488971\">@Rado Kirov</span>'s solutions:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">induction'</span><span class=\"w\"> </span><span class=\"n\">hi</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x1</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">n1</span><span class=\"w\"> </span><span class=\"n\">ih</span>\n</code></pre></div>\n<p>Specifically, I've never seen the form with adding <code>hi:</code> in front of what you're inducting on before. It seems pretty important (without it, the exercise I'm working on seems impossible to prove). Is this syntax documented anywhere?</p>\n<p>I've looked at the <code>induction'</code> docstring and there's no mention of this. I've also looked at the <code>induction</code> docstring, which mentions \"induction e, where e is an expression instead of a variable\", but I'm not sure if this is the case it's referring to.</p>",
        "id": 535027582,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1755555079
    },
    {
        "content": "<p>Concretely, in my example, it puts this <code>... = 0</code> hypothesis into the tactic state:</p>\n<p><a href=\"/user_uploads/3121/61RYVla3Mw1Vfb1FOLoqlR5g/Screenshot-2025-08-18-at-23.11.47.png\">Screenshot 2025-08-18 at 23.11.47.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/61RYVla3Mw1Vfb1FOLoqlR5g/Screenshot-2025-08-18-at-23.11.47.png\" title=\"Screenshot 2025-08-18 at 23.11.47.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1462x352\" src=\"/user_uploads/thumbnail/3121/61RYVla3Mw1Vfb1FOLoqlR5g/Screenshot-2025-08-18-at-23.11.47.png/840x560.webp\"></a></div><p>Without the <code>hi: </code>, this information gets completely lost and I can't proceed with the proof:</p>\n<p><a href=\"/user_uploads/3121/JX42eqx8DH7KYTbCtpRlOqhZ/Screenshot-2025-08-18-at-23.12.16.png\">Screenshot 2025-08-18 at 23.12.16.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/JX42eqx8DH7KYTbCtpRlOqhZ/Screenshot-2025-08-18-at-23.12.16.png\" title=\"Screenshot 2025-08-18 at 23.12.16.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1464x352\" src=\"/user_uploads/thumbnail/3121/JX42eqx8DH7KYTbCtpRlOqhZ/Screenshot-2025-08-18-at-23.12.16.png/840x560.webp\"></a></div><p>I would've never guessed to put it there, or even that this syntax exists.</p>",
        "id": 535027697,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1755555166
    },
    {
        "content": "<p>To clarify, I understand <code>hi</code> itself is not syntax and could've been named anything. What confuses me is (1) what is the precise syntax here, and (2) why does the information get lost otherwise. In Lean, I'm used that important information doesn't just \"disappear\" and at worst things get implicit (empty) names. But here it actually gets lost otherwise.</p>",
        "id": 535027959,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1755555331
    },
    {
        "content": "<p>That's an oversight that it's not documented for <code>induction</code>. That tactic didn't have this feature of <code>cases</code> until earlier this year; it's documented for <code>cases</code>.</p>\n<p>The <code>induction'</code> tactic has had it for a long time. (This mathlib tactic is \"old style\". I think <code>induction</code> is now the preferred one.)</p>",
        "id": 535030059,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1755556832
    },
    {
        "content": "<p>Is there any specific reason this hypothesis doesn’t get introduced implicitly (with no name) either way?</p>",
        "id": 535032418,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1755558594
    },
    {
        "content": "<p>Since the thing I’m inducting on wasn’t in directly the goal, it just felt like induction wasn’t working in general. Could in this case it be implied that this hypothesis should be added to context?</p>",
        "id": 535032496,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1755558659
    },
    {
        "content": "<p>it gives you a less general induction hypothesis I think</p>",
        "id": 535032559,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755558680
    },
    {
        "content": "<p>just having this hypothesis in context during the induction means your induction hypothesis has to be modified to also assume it, meaning when you use your induction hypothesis you have to prove an equality</p>",
        "id": 535032682,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755558734
    },
    {
        "content": "<p>Doing <code>induction</code> on something that's not a variable is sort of an \"advanced\" usage of the tactic. It's worth taking a look at the induction hypothesis to make sure it's what you think it should be.</p>\n<p>Like Aaron said, including the equality means it'll appear in the induction hypothesis. The tactic lets you opt-in to having that equality.</p>\n<p>It's also all just a convenience so that you don't have to use the <code>generalize</code> tactic and then include that new variable in the <code>generalizing</code> clause. With <code>generalize</code>, adding an equality hypothesis is also opt-in (though in that case you can <code>clear</code> it if you didn't want it).</p>",
        "id": 535037453,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1755562254
    },
    {
        "content": "<p>Ah interesting, okay. This is more nuanced than I thought. I don't know the <code>generalize</code> tactic yet but I'll keep the connection in mind, thank you.</p>",
        "id": 535038821,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1755563428
    },
    {
        "content": "<p>Btw I learned about this from Zulip <a href=\"#narrow/stream/514017-Analysis-I/topic/exercise.203.2E5.2E12.20-.20how.20to.20do.20induction.20through.20an.20equivalence/near/529619964\">https://leanprover.zulipchat.com/#narrow/stream/514017-Analysis-I/topic/exercise.203.2E5.2E12.20-.20how.20to.20do.20induction.20through.20an.20equivalence/near/529619964</a></p>",
        "id": 535056597,
        "sender_full_name": "Rado Kirov",
        "timestamp": 1755580719
    }
]