[
    {
        "content": "<p>for inequalities that have only linear terms, <code>linarith</code> is the best weapon of choice. But what do in cases that involve multiplication or division of multiple variables. I find that I have to keep searching for the exact theorems and then use them. is there any better way, following are examples of situatio I am talking about</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">/</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">/</span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"c1\">-- and other similar</span>\n</code></pre></div>",
        "id": 504254752,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741424442
    },
    {
        "content": "<p>How does <code>positivity</code> do on these?</p>",
        "id": 504260570,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1741428774
    },
    {
        "content": "<p>Yes, for goals of the form <code>0 &lt; something</code>, the right choice is <code>positivity</code> (it repeatedly applies <code>mul_pos</code>, <code>div_pos</code>, etc.). For the second case, when you need to \"cancel\" something in the inequality, you can use <code>gcongr</code>. The last one can be solved with <code>exact?</code>.</p>",
        "id": 504263736,
        "sender_full_name": "Vasilii Nesterov",
        "timestamp": 1741431275
    },
    {
        "content": "<p>The problem with <code>exact?</code> is that it's often the case that you're not presented with <code>h</code> and <code>hc</code> and a goal of <code>a ≤ b</code>, you have e.g. a hypothesis of <code>(3t+2)/(1+x^2)&lt;=(2t+3)/(1+x^2)</code>, the goal is something totally different, you want 3t+2&lt;=2t+3, you know there will be an appropriate lemma, but you have to break out of your proof and write the exact line above and run <code>exact?</code> to get the name of the lemma and then go back in. Younger people can just memorise huge lists of lemmas but I find this really difficult to do, so I concentrate on learning the naming convention; a tactic is a much better solution because for slow people like me the workflow is so much easier.</p>",
        "id": 504266031,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1741432911
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/Most.20convenient.20way.20to.20work.20with.20inequalities/near/504260570\">said</a>:</p>\n<blockquote>\n<p>How does <code>positivity</code> do on these?</p>\n</blockquote>\n<p>I was not aware of positivity, thanks!</p>",
        "id": 504276509,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741440980
    },
    {
        "content": "<p>I agree with <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>  about exact. When I'm working on a proof in high level, it's not always that the situation is ideal for exact. So I have to write the lemma I'm searching for in a scratch file and use <code>exact?</code>. I also find it very difficult to remember theorems (even bad because the naming convention is still not natural to me). So tactics is the way I prefer, as they allow me to focus on higher level details.</p>",
        "id": 504276670,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741441117
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"552388\">Vasilii Nesterov</span> <a href=\"#narrow/channel/113489-new-members/topic/Most.20convenient.20way.20to.20work.20with.20inequalities/near/504263736\">said</a>:</p>\n<blockquote>\n<p>For the second case, when you need to \"cancel\" something in the inequality, you can use <code>gcongr</code>. </p>\n</blockquote>\n<p>Thanks, I didn't know about <code>gcongr</code> either. <code>gcongr</code> easily handles second case, but I wouldn't call it a general solution. For example here, the example is actually that of inverting the direction due to negative multiplier. But <code>gcongr</code> expects goals <code>b &lt; a</code> and <code>0 &lt; c</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">gcongr</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 504277216,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741441606
    },
    {
        "content": "<p>Huge list of tactics could be replaced with a much smaller list of tactics + composition. Which is still annoying though, since it requires more thinking about minute details than necessary.</p>",
        "id": 504277480,
        "sender_full_name": "suhr",
        "timestamp": 1741441831
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484770\">Sabbir Rahman</span> <a href=\"#narrow/channel/113489-new-members/topic/Most.20convenient.20way.20to.20work.20with.20inequalities/near/504277216\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"552388\">Vasilii Nesterov</span> <a href=\"#narrow/channel/113489-new-members/topic/Most.20convenient.20way.20to.20work.20with.20inequalities/near/504263736\">said</a>:</p>\n<blockquote>\n<p>For the second case, when you need to \"cancel\" something in the inequality, you can use <code>gcongr</code>. </p>\n</blockquote>\n<p>Thanks, I didn't know about <code>gcongr</code> either. <code>gcongr</code> easily handles second case, but I wouldn't call it a general solution. For example here, the example is actually that of inverting the direction due to negative multiplier. But <code>gcongr</code> expects goals <code>b &lt; a</code> and <code>0 &lt; c</code></p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">gcongr</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Yes, there is no (at least efficient) general solution. <code>gcongr</code> just applies lemmas tagged with <code>@[gcongr]</code>,  and some of them have the assumption <code>0 &lt; c</code> instead of <code>c &lt; 0</code> because the former is more common.</p>",
        "id": 504280862,
        "sender_full_name": "Vasilii Nesterov",
        "timestamp": 1741444384
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"484770\">Sabbir Rahman</span> <a href=\"#narrow/channel/113489-new-members/topic/Most.20convenient.20way.20to.20work.20with.20inequalities/near/504276670\">said</a>:</p>\n<blockquote>\n<p>I agree with <span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span>  about exact. When I'm working on a proof in high level, it's not always that the situation is ideal for exact. So I have to write the lemma I'm searching for in a scratch file and use <code>exact?</code>. I also find it very difficult to remember theorems (even bad because the naming convention is still not natural to me). So tactics is the way I prefer, as they allow me to focus on higher level details.</p>\n</blockquote>\n<p>I use the following trick: if I feel some fact <code>A</code> can be derived from the current context using some library lemma, I write</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"bp\">?</span>\n</code></pre></div>",
        "id": 504281117,
        "sender_full_name": "Vasilii Nesterov",
        "timestamp": 1741444592
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"552388\">Vasilii Nesterov</span> <a href=\"#narrow/channel/113489-new-members/topic/Most.20convenient.20way.20to.20work.20with.20inequalities/near/504281117\">said</a>:</p>\n<blockquote>\n<p>I use the following trick: if I feel some fact <code>A</code> can be derived from the current context using some library lemma, I write</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"bp\">?</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>I generally try <code>apply?</code> and when proofs are long, apply loses it's way and suggests irrelevant things. When I try <code>apply?</code> within a shorter example, that is better.</p>",
        "id": 504294619,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741451788
    }
]