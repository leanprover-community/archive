[
    {
        "content": "<p>just add the following javascript file as <code>additional-js</code>:</p>\n<div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"nb\">Array</span><span class=\"p\">.</span><span class=\"kr\">from</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s2\">\".language-lean\"</span><span class=\"p\">)).</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">code_block</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">pre_block</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">code_block</span><span class=\"p\">.</span><span class=\"nx\">parentElement</span><span class=\"p\">;</span>\n\n<span class=\"w\">  </span><span class=\"c1\">// generate a link to lean4 web editor</span>\n<span class=\"w\">  </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">escaped_code</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">code_block</span><span class=\"p\">.</span><span class=\"nx\">textContent</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">url</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"sb\">`https://live.lean-lang.org/#code=</span><span class=\"si\">${</span><span class=\"nx\">escaped_code</span><span class=\"si\">}</span><span class=\"sb\">`</span><span class=\"p\">;</span>\n\n<span class=\"w\">  </span><span class=\"c1\">// create a button</span>\n<span class=\"w\">  </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">buttons</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nx\">pre_block</span><span class=\"p\">.</span><span class=\"nx\">querySelector</span><span class=\"p\">(</span><span class=\"s2\">\".buttons\"</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"nx\">leanWebButton</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">createElement</span><span class=\"p\">(</span><span class=\"s1\">'button'</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"nx\">leanWebButton</span><span class=\"p\">.</span><span class=\"nx\">className</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">'fa fa-external-link lean-web-button'</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"nx\">leanWebButton</span><span class=\"p\">.</span><span class=\"nx\">hidden</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"nx\">leanWebButton</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">'Run on lean4 playground'</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"nx\">leanWebButton</span><span class=\"p\">.</span><span class=\"nx\">setAttribute</span><span class=\"p\">(</span><span class=\"s1\">'aria-label'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">leanWebButton</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">);</span>\n\n<span class=\"w\">  </span><span class=\"c1\">// insert button</span>\n<span class=\"w\">  </span><span class=\"nx\">buttons</span><span class=\"p\">.</span><span class=\"nx\">insertBefore</span><span class=\"p\">(</span><span class=\"nx\">leanWebButton</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nx\">buttons</span><span class=\"p\">.</span><span class=\"nx\">firstChild</span><span class=\"p\">);</span>\n\n<span class=\"w\">  </span><span class=\"c1\">//  open lean4 web editor</span>\n<span class=\"w\">  </span><span class=\"nx\">leanWebButton</span><span class=\"p\">.</span><span class=\"nx\">addEventListener</span><span class=\"p\">(</span><span class=\"s1\">'click'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"nx\">open</span><span class=\"p\">(</span><span class=\"nx\">url</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</code></pre></div>",
        "id": 399514230,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1698756547
    },
    {
        "content": "<p>example : <a href=\"https://lean-ja.github.io/tactic-cheetsheet/\">https://lean-ja.github.io/tactic-cheetsheet/</a> (in japanese only)<br>\nrelated: <a href=\"#narrow/stream/113489-new-members/topic/.E2.9C.94.20How.20is.20the.20jump.20from.20zulip.20to.20lean.20web.20editor.20implemented.3F\">https://leanprover.zulipchat.com/#narrow/stream/113489-new-members/topic/.E2.9C.94.20How.20is.20the.20jump.20from.20zulip.20to.20lean.20web.20editor.20implemented.3F</a></p>",
        "id": 399514330,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1698756585
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"626349\">Asei Inoue</span> has marked this topic as resolved.</p>",
        "id": 399518262,
        "sender_full_name": "Notification Bot",
        "timestamp": 1698757876
    }
]