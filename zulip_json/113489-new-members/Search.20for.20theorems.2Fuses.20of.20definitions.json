[
    {
        "content": "<p>Hello, is there a way to search in Lean for all theorems and definitions in the context that use a particular type? In Rocq, for example, I can use <code>Search list</code> to find all definitions that involve lists. I have explored Loogle a bit but that does not include any user-created functions, I believe.</p>",
        "id": 537740853,
        "sender_full_name": "Josh Cohen",
        "timestamp": 1757015420
    },
    {
        "content": "<p>Loogle covers mathlib as well, but I guess not your own code</p>",
        "id": 537741388,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757015669
    },
    {
        "content": "<p>Relatedly, is there a way to see the un-elaborated/hand-written definition of a function? For example, if I want to see how <code>Nat.add</code> is defined,  <code>#print</code> shows me the version defined in terms of <code>Nat.brecOn</code>, which is harder to read than the version defined by pattern matching.</p>",
        "id": 537745487,
        "sender_full_name": "Josh Cohen",
        "timestamp": 1757016936
    },
    {
        "content": "<p>you can go to the definition</p>",
        "id": 537746143,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757017129
    },
    {
        "content": "<p>or look at <code>Nat.add.eq_def</code></p>",
        "id": 537746167,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757017136
    },
    {
        "content": "<p>How do I go to the definition (in VSCode, for example)? And does every function <code>foo</code> create a <code>foo_eq_def</code> rewrite lemma?</p>",
        "id": 537750591,
        "sender_full_name": "Josh Cohen",
        "timestamp": 1757018616
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"952838\">Josh Cohen</span> <a href=\"#narrow/channel/113489-new-members/topic/Search.20for.20theorems.2Fuses.20of.20definitions/near/537750591\">said</a>:</p>\n<blockquote>\n<p>How do I go to the definition (in VSCode, for example)?</p>\n</blockquote>\n<p>do <code>#check foo</code> and right-click the <code>foo</code> and do \"go to definition\"</p>",
        "id": 537750938,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757018705
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"952838\">Josh Cohen</span> <a href=\"#narrow/channel/113489-new-members/topic/Search.20for.20theorems.2Fuses.20of.20definitions/near/537750591\">said</a>:</p>\n<blockquote>\n<p>And does every function <code>foo</code> create a <code>foo_eq_def</code> rewrite lemma?</p>\n</blockquote>\n<p>every <code>def</code>inition <code>foo</code> should either create a <code>foo.eq_def</code> or throw an error saying it had a problem creating the equational theorem</p>",
        "id": 537751123,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757018761
    },
    {
        "content": "<p>Thank you! Those both certainly make it easier to inspect definitions. I am still curious if there are any other search facilities in Lean if I don't already know the definition name.</p>",
        "id": 537753254,
        "sender_full_name": "Josh Cohen",
        "timestamp": 1757019485
    },
    {
        "content": "<p>Just learned there's <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/Find.html\"><code>#find</code></a> command. It looks similar to loogle, but I think it works for all user-code too?</p>",
        "id": 537762167,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1757023335
    },
    {
        "content": "<p>Thanks, that looks like what I was looking for. It looks like it does not come with Lean by default. How can I use it? Do I need to import mathlib or something?</p>",
        "id": 537876153,
        "sender_full_name": "Josh Cohen",
        "timestamp": 1757080430
    },
    {
        "content": "<p>From the link given above, looks like you need to import <code>Mathlib.Tactic.Find</code> (at the very least).</p>",
        "id": 537906125,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757089528
    },
    {
        "content": "<p>Thank you, this functionality is very useful and very close to what I was hoping for. Are there any plans to include this in Lean by default to be usable in non-mathlib projects?</p>",
        "id": 537913369,
        "sender_full_name": "Josh Cohen",
        "timestamp": 1757092302
    },
    {
        "content": "<p>Note VS Code also has \"Go to References\" for any symbol.</p>\n<p><a href=\"/user_uploads/3121/fVK8PvlHTVzYXAorwUXIOt0n/Screenshot-2025-09-06-at-04.49.02.png\">Screenshot 2025-09-06 at 04.49.02.png</a><br>\n<a href=\"/user_uploads/3121/tfy-_nztsW9Mqdbv45afOg_o/Screenshot-2025-09-06-at-04.49.12.png\">Screenshot 2025-09-06 at 04.49.12.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/fVK8PvlHTVzYXAorwUXIOt0n/Screenshot-2025-09-06-at-04.49.02.png\" title=\"Screenshot 2025-09-06 at 04.49.02.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"944x374\" src=\"/user_uploads/thumbnail/3121/fVK8PvlHTVzYXAorwUXIOt0n/Screenshot-2025-09-06-at-04.49.02.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/tfy-_nztsW9Mqdbv45afOg_o/Screenshot-2025-09-06-at-04.49.12.png\" title=\"Screenshot 2025-09-06 at 04.49.12.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1686x764\" src=\"/user_uploads/thumbnail/3121/tfy-_nztsW9Mqdbv45afOg_o/Screenshot-2025-09-06-at-04.49.12.png/840x560.webp\"></a></div>",
        "id": 537971801,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757130581
    },
    {
        "content": "<p>And there's also Cmd+Click (Ctrl+Click on windows?) shortcut for Go to Definition.</p>",
        "id": 537971832,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1757130615
    },
    {
        "content": "<p>BTW, \"Show Call Hierarchy\" is very similar to \"Go to References\" and \"Find All References\" in Lean, but I think the UI is nicer in most cases (e.g. since you can quickly navigate recursively)</p>",
        "id": 537974822,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1757134250
    }
]