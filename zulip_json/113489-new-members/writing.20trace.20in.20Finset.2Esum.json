[
    {
        "content": "<p>Hi all, can I describe Algebra.trace in the form of Finset.sum when there are only finite number of Galois conjugates?</p>\n<p>For example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">≃ₐ</span><span class=\"o\">[</span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">algebraMap</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">trace</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">≃ₐ</span><span class=\"o\">[</span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 509105821,
        "sender_full_name": "Noah Anderson",
        "timestamp": 1743399506
    },
    {
        "content": "<p>There is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=trace_eq_sum_roots#doc\">docs#trace_eq_sum_roots</a> which is in a similar direction.</p>",
        "id": 509115039,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1743404286
    },
    {
        "content": "<p>Maybe <span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> or <span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span>  will know if your statement is already somewhere.</p>",
        "id": 509115171,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1743404347
    },
    {
        "content": "<p>Yes, we have something like that, let me see</p>",
        "id": 509123369,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1743407283
    },
    {
        "content": "<p>I don't think your statement is literally true (even for field extensions one needs normality), but we have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=trace_eq_sum_automorphisms#doc\">docs#trace_eq_sum_automorphisms</a>.</p>",
        "id": 509123722,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1743407395
    },
    {
        "content": "<p>oops yes you are right. But it is for sure what I want, thanks for your help!</p>",
        "id": 509126662,
        "sender_full_name": "Noah Anderson",
        "timestamp": 1743408197
    }
]