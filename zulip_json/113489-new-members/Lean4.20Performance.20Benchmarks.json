[
    {
        "content": "<p>Have there been any good performance benchmarks done on lean4?  Like how fast lean can compute certain algos relative to other languages?  Most a cursory google search brought up was <a href=\"https://github.com/lacker/lean4perf\">this</a></p>",
        "id": 463205511,
        "sender_full_name": "Daniel Geisz",
        "timestamp": 1724000790
    },
    {
        "content": "<p>There is data from this paper here: <a href=\"https://arxiv.org/pdf/1908.05647\">https://arxiv.org/pdf/1908.05647</a> that shows it can be competetive to other functional languages and even outrun them on workloads that specifically gear towards what it is optimized for. Speaking from personal experience I've also managed to write parsers in Lean that get within 1 order of magnitude of C parsers for the same data formats speed wise.</p>\n<p>In general if you manage to make use of the optimizations that are doable thanks to things like the FBIP paper and the fact that we have stuff like mutable arrays if they are used linearly + you write code with proper algorithmic complexity there is really nothing holding you back from writing quite fast Lean code. There is still things in the code generator and the language design itself that can certainly be improved upon and it will eventually be done but it is quite good already.</p>",
        "id": 463229238,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1724009975
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"433922\">Daniel Geisz</span> <a href=\"#narrow/stream/113489-new-members/topic/Lean4.20Performance.20Benchmarks/near/463205511\">said</a>:</p>\n<blockquote>\n<p>Have there been any good performance benchmarks done on lean4?  Like how fast lean can compute certain algos relative to other languages?  Most a cursory google search brought up was <a href=\"https://github.com/lacker/lean4perf\">this</a></p>\n</blockquote>\n<p>Also running this benchmark today on my machine with a modern Lean 4 version and actually compiling the program instead of using the interpreter like the person in the README did, reveals:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">./</span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">out</span><span class=\"w\">  </span><span class=\"mf\">4.68</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">user</span><span class=\"w\"> </span><span class=\"mf\">0.28</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">system</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"mf\">4.974</span><span class=\"w\"> </span><span class=\"n\">total</span>\n</code></pre></div>\n<p>for C++ vs</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">benchmark</span><span class=\"w\">  </span><span class=\"mf\">6.33</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">user</span><span class=\"w\"> </span><span class=\"mf\">0.37</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">system</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"mf\">6.727</span><span class=\"w\"> </span><span class=\"n\">total</span>\n</code></pre></div>",
        "id": 463229545,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1724010193
    }
]