[
    {
        "content": "<p>Hi, sorry if this is in the wrong place.</p>\n<p>I used elan to install lean 4.0.0 on my windows machine.  But later I downloaded VS Code and used the lean4 extension.  I try to import data.set and I get the message that data is an unknown package.  I think I need help resolving a version clash, or perhaps I need to do some additional installation to access the data package?  Thanks!</p>",
        "id": 357999798,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683931804
    },
    {
        "content": "<p>If you are looking for <code>data.set</code> from mathlib4, then you will need to make mathlib4 a dependency of your project. Can you say a bit more about the structure of your project folder? How did you start this project?</p>",
        "id": 358000985,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1683932296
    },
    {
        "content": "<p>also in mathlib4 it's not called <code>data.set</code>, it is <code>import Mathlib.Data.Set.Basic</code></p>",
        "id": 358001157,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932388
    },
    {
        "content": "<p>I didn't start a project.  I just booted up a new text file File &gt; New Text File.  I just wanted to get a feel for things before I opened a project.   But yes, I'm trying to access data.set from mathlib4.</p>",
        "id": 358001177,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683932399
    },
    {
        "content": "<p>lean4 doesn't work for files with dependencies outside of a project configuration</p>",
        "id": 358001307,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932436
    },
    {
        "content": "<p>Mario, it still tells me that \"Mathlib\" is an unknown package.  I think I need to install mathlib4.</p>",
        "id": 358001320,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683932450
    },
    {
        "content": "<p>you can use dependencies from lean + lake and that's it</p>",
        "id": 358001323,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932450
    },
    {
        "content": "<p>right, so the quickest way is to run the following commands:</p>\n<ol>\n<li><code>lake new MyFunProject math</code></li>\n<li><code>cd MyFunProject</code></li>\n<li><code>lake exe cache get</code></li>\n<li><code>code .</code> &lt;-- open vscode in the current project</li>\n</ol>",
        "id": 358001334,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1683932455
    },
    {
        "content": "<p>2 and 4 should be self explanitory. 1 makes a new project with mathlib4 as a dependency and 3 gets the mathlib4 cache</p>",
        "id": 358001407,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1683932483
    },
    {
        "content": "<p>I don't remember whether this has been fixed, but there's a chance that you may need to modify the <code>lean-toolchain</code> in your project to match the one in the copy of mathlib4 you obtained.</p>",
        "id": 358001699,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1683932601
    },
    {
        "content": "<p>if you use <code>lake new MyProj math</code> it should fix that</p>",
        "id": 358001868,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932680
    },
    {
        "content": "<p>Ok great. This wasn’t the case a while ago, but I guess lake was updated since.</p>",
        "id": 358002003,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1683932738
    },
    {
        "content": "<p>I followed 1-4 and but now it's telling me that I need to fix the Lake configuration file. </p>\n<p>\\lake.exe print-paths Init Mathlib` failed:</p>\n<p>stderr:<br>\nError parsing '.\\.\\lakefile.lean'.  Please restart the lean server after fixing the Lake configuration file.</p>",
        "id": 358002200,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683932820
    },
    {
        "content": "<p>what does lakefile.lean look like?</p>",
        "id": 358002257,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932843
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/91Bcw2EgLVIR959SWQJPbP_Z/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/91Bcw2EgLVIR959SWQJPbP_Z/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/91Bcw2EgLVIR959SWQJPbP_Z/image.png\"></a></div>",
        "id": 358002291,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683932865
    },
    {
        "content": "<p>you are using an old version of lake</p>",
        "id": 358002434,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932914
    },
    {
        "content": "<p>the attribute is spelled <code>@[default_target]</code> now</p>",
        "id": 358002465,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683932934
    },
    {
        "content": "<p>Ah alright.  Let me look into updating lake.</p>",
        "id": 358002705,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933032
    },
    {
        "content": "<p>I guess step 0 should have been <code>elan update</code> although I don’t know how things work on windows</p>",
        "id": 358002710,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1683933034
    },
    {
        "content": "<p>note that once you have gotten the project set up with the lean-toolchain file from mathlib, it will actually update your lake as well (at least when you use it in this project itself)</p>",
        "id": 358002821,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933088
    },
    {
        "content": "<p>it's just too late to fix the initial <code>lake new</code> setup files</p>",
        "id": 358002835,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933101
    },
    {
        "content": "<p><code>elan update</code> should ensure that you don't hit the same error with your next <code>lake new</code></p>",
        "id": 358002934,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933135
    },
    {
        "content": "<p>Yeah, it says I'm running lake 4.0.0 and when I run elan update, I'm stilling using lake 4.0.0.</p>",
        "id": 358002942,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933136
    },
    {
        "content": "<p>oh, that's the stable version</p>",
        "id": 358002961,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933145
    },
    {
        "content": "<p>it is very out of date</p>",
        "id": 358002965,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933149
    },
    {
        "content": "<p>Hmm, so I need a more updated version of elan?</p>",
        "id": 358003042,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933186
    },
    {
        "content": "<p>I think <code>elan update leanprover/lean4:nightly</code> should work</p>",
        "id": 358003044,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933187
    },
    {
        "content": "<p>no, you just need to tell elan which \"release track\" you are on</p>",
        "id": 358003094,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933217
    },
    {
        "content": "<p>it was originally designed for rust, which has several release tracks, but right now the stable track of lean is mostly a dream, things haven't really stabilized to the point where it is really useful</p>",
        "id": 358003259,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933272
    },
    {
        "content": "<p>The nightly updated my lake version to 4.1.0-pre, but I'm still getting the message that I need to fix the configuration file.</p>",
        "id": 358003871,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933516
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/0q8F_3QCeDKrlpmZ6238WWwA/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/0q8F_3QCeDKrlpmZ6238WWwA/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/0q8F_3QCeDKrlpmZ6238WWwA/image.png\"></a></div>",
        "id": 358003980,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933568
    },
    {
        "content": "<p>The configuration file is a little bit different.</p>",
        "id": 358004015,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933586
    },
    {
        "content": "<p>that lakefile looks correct</p>",
        "id": 358004053,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933602
    },
    {
        "content": "<p>what do <code>lake --version</code> and <code>lean --version</code> print?</p>",
        "id": 358004150,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933636
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/HLtsxOH-50EOjO93R6f4oFv3/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/HLtsxOH-50EOjO93R6f4oFv3/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/HLtsxOH-50EOjO93R6f4oFv3/image.png\"></a></div>",
        "id": 358004252,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933674
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/CHQKEKPIPCgIMx3dos1TtEhM/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/CHQKEKPIPCgIMx3dos1TtEhM/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/CHQKEKPIPCgIMx3dos1TtEhM/image.png\"></a></div>",
        "id": 358004289,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933690
    },
    {
        "content": "<p>There's no obvious version clashing.</p>",
        "id": 358004349,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933716
    },
    {
        "content": "<p>try <code>lake update</code>?</p>",
        "id": 358004361,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933721
    },
    {
        "content": "<p>I think that needs to be inserted as step 2.5</p>",
        "id": 358004509,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933768
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/abtmpEW-WPEFOPjY7QSA9UDo/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/abtmpEW-WPEFOPjY7QSA9UDo/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/abtmpEW-WPEFOPjY7QSA9UDo/image.png\"></a></div><p>That seems to have moved it past the previous error.  Right now it is building all of the mathlib objects.</p>",
        "id": 358004614,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933812
    },
    {
        "content": "<p>It may take a few moments, but I'll let you know the end result.</p>",
        "id": 358004768,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933847
    },
    {
        "content": "<p><code>lake exe cache get</code> is supposed to spare you that</p>",
        "id": 358004774,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933851
    },
    {
        "content": "<p>if it says <code>Building Mathlib.Foo.Bar</code> that's bad</p>",
        "id": 358004816,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933868
    },
    {
        "content": "<p>if it says <code>Compiling ...</code> that's okay, let it finish</p>",
        "id": 358004842,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933879
    },
    {
        "content": "<p>Ah, hmmm.  After updating lake, it suggested that I restart/refresh.  So I clicked the restart button and then the import statement started doing Building Mathlib.Foo.Bar.</p>",
        "id": 358004962,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683933913
    },
    {
        "content": "<p>you should just be able to kill it and run <code>lake exe cache get</code></p>",
        "id": 358005020,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933947
    },
    {
        "content": "<p>lake doesn't really know about the cache setup we have</p>",
        "id": 358005103,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683933972
    },
    {
        "content": "<p>Alright, well it seems to have built the objects successfully.  So I guess it's okay for now.  So, let me create a new project and see if it tries building again.</p>",
        "id": 358005202,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683934018
    },
    {
        "content": "<p>I think the command list at this point is</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">elan</span> <span class=\"n\">update</span> <span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">nightly</span>\n<span class=\"n\">lake</span> <span class=\"n\">new</span> <span class=\"n\">MyFunProject</span> <span class=\"n\">math</span>\n<span class=\"n\">cd</span> <span class=\"n\">MyFunProject</span>\n<span class=\"n\">lake</span> <span class=\"n\">update</span>\n<span class=\"n\">lake</span> <span class=\"n\">exe</span> <span class=\"n\">cache</span> <span class=\"n\">get</span>\n<span class=\"n\">code</span> <span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 358005313,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934070
    },
    {
        "content": "<p>It appears that when I went back to line 2 to create a new project, that it reverted back to an older version of lean.  This is because when the new project booted up, I was right back at the configuration file error.  So I did lake update and I received a VS code message saying \"Lean version changed: Restart Lean\".</p>",
        "id": 358005730,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683934235
    },
    {
        "content": "<p>However, lean --version has not changed.  When I click \"Restart Lean\" it begins building again.</p>",
        "id": 358005866,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683934312
    },
    {
        "content": "<p>After line 1, <code>lake --version</code> / <code>lean --version</code> should print a new version of lake/lean</p>",
        "id": 358005892,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934322
    },
    {
        "content": "<p>don't click \"restart lean\" until after <code>lake exe cache get</code>, or it will compile everything</p>",
        "id": 358006045,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934382
    },
    {
        "content": "<p>Alright, this time after executing lake exe cache get it does all the building in the terminal instead of the Lean infoview.</p>",
        "id": 358006396,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683934546
    },
    {
        "content": "<p>So, after code . , it boots up VS Code with my project and now this is what it says.  Instead of building 324 objects, it's up to 1630.  In fact, it's stuck on 0/1630 objects.  Building Std.Tactic.Unreachable</p>",
        "id": 358006918,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683934767
    },
    {
        "content": "<p>it should not do that much building</p>",
        "id": 358006920,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934768
    },
    {
        "content": "<p>aha, there is another missing step: <code>elan default leanprover/lean4:nightly</code></p>",
        "id": 358007174,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934873
    },
    {
        "content": "<p>So should that be step 0?</p>",
        "id": 358007215,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683934898
    },
    {
        "content": "<p>when I try <code>elan update leanprover/lean4:nightly</code> it doesn't actually change the version of lake in use</p>",
        "id": 358007235,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934907
    },
    {
        "content": "<p>I think it replaces step 1</p>",
        "id": 358007250,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934920
    },
    {
        "content": "<p>it should do the equivalent of <code>elan update</code> as well, so I think it is redundant to run both</p>",
        "id": 358007347,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683934954
    },
    {
        "content": "<p>I just tested this and in the vscode window that opens you can add <code>import Mathlib.Data.Set.Basic</code> to <code>MyFunProject.lean</code> without error</p>",
        "id": 358007597,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935060
    },
    {
        "content": "<p>Great, my machine's still running.  I'll let you know the result.</p>",
        "id": 358007671,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683935091
    },
    {
        "content": "<p>It shouldn't take that long, mine took 35 seconds to run <code>lake exe cache get</code> but I already had the files downloaded</p>",
        "id": 358007748,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935130
    },
    {
        "content": "<p>if you don't have the files downloaded it should take 2-3 minutes, but it will be stuck on a <code>Attempting to download N file(s)</code> line, not <code>Building Mathlib.Foo.Bar</code></p>",
        "id": 358007894,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935184
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/mTFT_cI_Zlqnc3Q2ymh12uss/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/mTFT_cI_Zlqnc3Q2ymh12uss/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/mTFT_cI_Zlqnc3Q2ymh12uss/image.png\"></a></div><p>It seems to be stuck at the import statement.</p>",
        "id": 358008162,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683935299
    },
    {
        "content": "<p>You can hear the machine running like it's doing some heavy lifting.</p>",
        "id": 358008234,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683935339
    },
    {
        "content": "<p>what does <code>lake exe cache get</code> do?</p>",
        "id": 358008474,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935455
    },
    {
        "content": "<p>you should <code>killall lean</code> or the equivalent</p>",
        "id": 358008500,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935472
    },
    {
        "content": "<p>Instead of doing lake exe cache get, I rebooted VS Code and it seems to have fixed it.</p>",
        "id": 358008764,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683935609
    },
    {
        "content": "<p>you can also restart lean using <code>Lean 4: Restart Server</code> from the Ctrl-Shift-P menu</p>",
        "id": 358008880,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935649
    },
    {
        "content": "<p>Ah, it seems to work!  Is there a tutorial for the Mathlib?  I want to use the basics of sets.</p>",
        "id": 358009124,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683935802
    },
    {
        "content": "<p>you could try <a href=\"https://github.com/leanprover-community/tutorials\">https://github.com/leanprover-community/tutorials</a>, it is written for lean 3 but it should still basically work modulo lean 4 syntax</p>",
        "id": 358009274,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683935907
    },
    {
        "content": "<p>Heather has written tutorials for lean 4 (perhaps nothing about sets though)</p>",
        "id": 358009869,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1683936213
    },
    {
        "content": "<p><a href=\"https://hrmacbeth.github.io/math2001/\">https://hrmacbeth.github.io/math2001/</a></p>",
        "id": 358010091,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1683936327
    },
    {
        "content": "<p>Just an FYI, this fixed the installation problem with VS Code.  Maybe someone who has the \"know-how\" should update the installation documentation?   Thanks for the link, Kevin!</p>",
        "id": 358011941,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1683937449
    },
    {
        "content": "<p>It appears that something strange is going on with the way that we installed Mathlib.   When I try to import Mathlib.Data.Finset, I get an error message.  If I change it to import Mathlib.Data.Finset.Basic, it will work.  However, I want the whole Finset library.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">jowhi</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-06\\bin\\lake.exe print-paths Init Mathlib.Data.Finset` failed:</span>\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n  <span class=\"n\">file</span><span class=\"o\">:</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Mathlib</span><span class=\"bp\">\\</span><span class=\"n\">Data</span><span class=\"bp\">\\</span><span class=\"n\">Finset.lean</span>\n<span class=\"n\">Lean</span> <span class=\"mi\">4</span>\n</code></pre></div>",
        "id": 358165430,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684011016
    },
    {
        "content": "<p>The error message is expected. There's no file <code>Mathlib\\Data\\Finset.lean</code>so the import fails.</p>",
        "id": 358169317,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684013877
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"472585\">Jonathan Whitehead</span> has marked this topic as resolved.</p>",
        "id": 358315604,
        "sender_full_name": "Notification Bot",
        "timestamp": 1684095458
    },
    {
        "content": "<p>hello everybody, from Kostas Hatzikiriakou<br>\nI am trying to install LEAN 3 on my deskotop computer (i have been working with my laptop till now). I followed all the instructions, but when i try to work (study MATHEMATICS IN LEAN), the info is not activated and i get a message \"Lean: lean.pkg path does not exist\". Any idea what is the problem and how i can solve it? <br>\nThank you.</p>",
        "id": 358416313,
        "sender_full_name": "Kostas Hatzikiriakou",
        "timestamp": 1684146323
    },
    {
        "content": "<p>Are you opening the root directory of the repository using VS Code's \"open folder\" functionality?</p>",
        "id": 358422906,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684148216
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"601005\">Kostas Hatzikiriakou</span> has marked this topic as unresolved.</p>",
        "id": 358424419,
        "sender_full_name": "Notification Bot",
        "timestamp": 1684148631
    },
    {
        "content": "<p>I open VS code and then i choose from the recent \"mathematics in lean (workspace)\"</p>",
        "id": 358424516,
        "sender_full_name": "Kostas Hatzikiriakou",
        "timestamp": 1684148651
    },
    {
        "content": "<p>Is that the recent \"mathematics in lean (workspace)\" that isn't working? What happens if you just do \"File\" -&gt; \"Open Folder\" -&gt; select the folder called <code>mathematics_in_lean</code>?</p>",
        "id": 358433859,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684151014
    },
    {
        "content": "<p>No red underlines under \"import\" or symbols, but when i try to get into the proofs (iam into ch 6 on functions), it says \"loading\" for ever (in the infoview) and the message \"Lean: lean.pkg path does not exist\" appears together with \"source: lean extension\" and  \"run lean.pkg configure\", i did it but unfortunately i do not understand what i have to do. Sorry, but  it has been only few months that i am working with \"sofisticated\" software.</p>",
        "id": 358466350,
        "sender_full_name": "Kostas Hatzikiriakou",
        "timestamp": 1684158799
    },
    {
        "content": "<p>How did you install this project? Did you run <code>leanproject get mathematics_in_lean</code> as explained in the instructions?</p>\n<p>If you have \"loading\" forever on the infoview, then fire up a command line, navigate to the root directory of the project, and type <code>leanproject get-mathlib</code>.</p>",
        "id": 358466880,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684158905
    },
    {
        "content": "<p>what exactly do you mean by fire up a new command line? open a new terminal and do it there or something else?</p>",
        "id": 358468115,
        "sender_full_name": "Kostas Hatzikiriakou",
        "timestamp": 1684159175
    },
    {
        "content": "<p>Yes, open up a new terminal, or use VS Code's terminal.</p>",
        "id": 358468785,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684159309
    },
    {
        "content": "<p>I ma really stuck now, it send me to git, i entered with a code etc, i do not understand what  you mean by naviagate to the root directory, sorry.</p>",
        "id": 358478029,
        "sender_full_name": "Kostas Hatzikiriakou",
        "timestamp": 1684161196
    },
    {
        "content": "<p>How did you install this project? If you can't get it working, why not delete it and start again following the instructions <a href=\"https://leanprover-community.github.io/mathematics_in_lean/01_Introduction.html#getting-started\">here</a>.</p>",
        "id": 358480256,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684161658
    },
    {
        "content": "<p>Report any problems or errors which show up during the installation process.</p>",
        "id": 358480356,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684161677
    },
    {
        "content": "<p>Thank you very much, now everything works perfect, when i go to src, functions.  But is it possible to continue by opening my saved file in which i solved the exercises of the previous chapters, which i can copy from my laptop or i will mess up everyhting again?!</p>",
        "id": 358485085,
        "sender_full_name": "Kostas Hatzikiriakou",
        "timestamp": 1684162635
    },
    {
        "content": "<p>You should be able to open individual files as long as they are in subdirectories of the one you opened, so you could copy them into that folder if they aren't there already</p>",
        "id": 358489313,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1684163543
    },
    {
        "content": "<p>If you copy stuff over from your laptop and it breaks things (which I think is unlikely) then you can just reinstall again :-) I suspect that either you did not have a fully compiled mathlib or you had a corrupted project somehow.</p>",
        "id": 358489831,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684163661
    },
    {
        "content": "<p>Hey everyone, I'm reopening this thread because something seems to have broke in my project.  I reloaded my VS Code editor and received the following error saying that the Mathlib URL has changed:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">jowhi</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-06\\bin\\lake.exe print-paths Init Mathlib.Data.List.Basic Mathlib.Data.Set.Basic` failed:</span>\n\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">mathlib</span><span class=\"o\">:</span> <span class=\"n\">URL</span> <span class=\"n\">has</span> <span class=\"n\">changed</span><span class=\"bp\">;</span> <span class=\"n\">you</span> <span class=\"n\">might</span> <span class=\"n\">need</span> <span class=\"n\">to</span> <span class=\"n\">delete</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span> <span class=\"n\">manually</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">git</span> <span class=\"n\">fetch</span> <span class=\"n\">origin</span>    <span class=\"bp\">#</span> <span class=\"k\">in</span> <span class=\"n\">directory</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">fatal</span><span class=\"o\">:</span> <span class=\"n\">detected</span> <span class=\"n\">dubious</span> <span class=\"n\">ownership</span> <span class=\"k\">in</span> <span class=\"n\">repository</span> <span class=\"n\">at</span> <span class=\"bp\">'</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">jowhi</span><span class=\"bp\">/</span><span class=\"n\">GraphTheory</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib'</span>\n<span class=\"bp\">'</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">jowhi</span><span class=\"bp\">/</span><span class=\"n\">GraphTheory</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib'</span> <span class=\"n\">is</span> <span class=\"n\">owned</span> <span class=\"kd\">by</span><span class=\"o\">:</span>\n    <span class=\"bp\">'</span><span class=\"n\">S</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"mi\">5</span><span class=\"bp\">-</span><span class=\"mi\">32</span><span class=\"bp\">-</span><span class=\"mi\">544</span><span class=\"bp\">'</span>\n<span class=\"n\">but</span> <span class=\"n\">the</span> <span class=\"n\">current</span> <span class=\"n\">user</span> <span class=\"n\">is</span><span class=\"o\">:</span>\n    <span class=\"bp\">'</span><span class=\"n\">S</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"mi\">5</span><span class=\"bp\">-</span><span class=\"mi\">21</span><span class=\"bp\">-</span><span class=\"mi\">3996785176</span><span class=\"bp\">-</span><span class=\"mi\">3602451554</span><span class=\"bp\">-</span><span class=\"mi\">3713660533</span><span class=\"bp\">-</span><span class=\"mi\">1001</span><span class=\"bp\">'</span>\n<span class=\"n\">To</span> <span class=\"n\">add</span> <span class=\"n\">an</span> <span class=\"n\">exception</span> <span class=\"n\">for</span> <span class=\"n\">this</span> <span class=\"n\">directory</span><span class=\"o\">,</span> <span class=\"n\">call</span><span class=\"o\">:</span>\n\n    <span class=\"n\">git</span> <span class=\"n\">config</span> <span class=\"c1\">--global --add safe.directory C:/Users/jowhi/GraphTheory/lake-packages/mathlib</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">git</span><span class=\"bp\">`</span> <span class=\"n\">exited</span> <span class=\"k\">with</span> <span class=\"n\">code</span> <span class=\"mi\">128</span>\n<span class=\"n\">Invalid</span> <span class=\"n\">Lake</span> <span class=\"n\">configuration.</span>  <span class=\"n\">Please</span> <span class=\"n\">restart</span> <span class=\"n\">the</span> <span class=\"n\">server</span> <span class=\"n\">after</span> <span class=\"n\">fixing</span> <span class=\"n\">the</span> <span class=\"n\">Lake</span> <span class=\"n\">configuration</span> <span class=\"n\">file.</span>\n</code></pre></div>\n<p>I even followed the rules in the README and tried to create a new project, but it failed as well in the same way.  Below is a screen shot</p>\n<p><a href=\"/user_uploads/3121/2StQCmuIX_TxD600YSIoClVs/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/2StQCmuIX_TxD600YSIoClVs/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/2StQCmuIX_TxD600YSIoClVs/image.png\"></a></div>",
        "id": 359772388,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684532311
    },
    {
        "content": "<p>The error is strange because I already downloaded the Mathlib files in the cache, but Lean still wants to connect to the URL.  It seems like I have all of Mathlib, right here in my editor, but it still wants to connect to the URL.</p>",
        "id": 359772541,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684532399
    },
    {
        "content": "<p>What did you do between the last time it worked and the first time it stopped working?</p>",
        "id": 359772618,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684532422
    },
    {
        "content": "<p>I closed the editor.  That's what triggered it.</p>",
        "id": 359772673,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684532454
    },
    {
        "content": "<p>I tried to import Mathlib.Tactic.Basic, it started to run for a long time.  So I closed the editor and opened it back up and now it can't find the URL.</p>",
        "id": 359772734,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684532491
    },
    {
        "content": "<p>That's not what triggered it, it was the other thing that happened which VS Code only noticed when you closed and reopened it that triggered it.</p>",
        "id": 359772737,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684532493
    },
    {
        "content": "<p>What does <code>lake build</code> on the command line say?</p>",
        "id": 359772843,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684532530
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">PS</span> <span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">jowhi</span><span class=\"bp\">\\</span><span class=\"n\">GraphTheory</span><span class=\"bp\">&gt;</span> <span class=\"n\">lake</span> <span class=\"n\">build</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">mathlib</span><span class=\"o\">:</span> <span class=\"n\">URL</span> <span class=\"n\">has</span> <span class=\"n\">changed</span><span class=\"bp\">;</span> <span class=\"n\">you</span> <span class=\"n\">might</span> <span class=\"n\">need</span> <span class=\"n\">to</span> <span class=\"n\">delete</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span> <span class=\"n\">manually</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">git</span> <span class=\"n\">fetch</span> <span class=\"n\">origin</span>    <span class=\"bp\">#</span> <span class=\"k\">in</span> <span class=\"n\">directory</span> <span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">fatal</span><span class=\"o\">:</span> <span class=\"n\">detected</span> <span class=\"n\">dubious</span> <span class=\"n\">ownership</span> <span class=\"k\">in</span> <span class=\"n\">repository</span> <span class=\"n\">at</span> <span class=\"bp\">'</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">jowhi</span><span class=\"bp\">/</span><span class=\"n\">GraphTheory</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib'</span>\n<span class=\"bp\">'</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">jowhi</span><span class=\"bp\">/</span><span class=\"n\">GraphTheory</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib'</span> <span class=\"n\">is</span> <span class=\"n\">owned</span> <span class=\"kd\">by</span><span class=\"o\">:</span>\n        <span class=\"bp\">'</span><span class=\"n\">S</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"mi\">5</span><span class=\"bp\">-</span><span class=\"mi\">32</span><span class=\"bp\">-</span><span class=\"mi\">544</span><span class=\"bp\">'</span>\n<span class=\"n\">but</span> <span class=\"n\">the</span> <span class=\"n\">current</span> <span class=\"n\">user</span> <span class=\"n\">is</span><span class=\"o\">:</span>\n        <span class=\"bp\">'</span><span class=\"n\">S</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"mi\">5</span><span class=\"bp\">-</span><span class=\"mi\">21</span><span class=\"bp\">-</span><span class=\"mi\">3996785176</span><span class=\"bp\">-</span><span class=\"mi\">3602451554</span><span class=\"bp\">-</span><span class=\"mi\">3713660533</span><span class=\"bp\">-</span><span class=\"mi\">1001</span><span class=\"bp\">'</span>\n<span class=\"n\">To</span> <span class=\"n\">add</span> <span class=\"n\">an</span> <span class=\"n\">exception</span> <span class=\"n\">for</span> <span class=\"n\">this</span> <span class=\"n\">directory</span><span class=\"o\">,</span> <span class=\"n\">call</span><span class=\"o\">:</span>\n\n        <span class=\"n\">git</span> <span class=\"n\">config</span> <span class=\"c1\">--global --add safe.directory C:/Users/jowhi/GraphTheory/lake-packages/mathlib</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">git</span><span class=\"bp\">`</span> <span class=\"n\">exited</span> <span class=\"k\">with</span> <span class=\"n\">code</span> <span class=\"mi\">128</span>\n<span class=\"n\">PS</span> <span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">jowhi</span><span class=\"bp\">\\</span><span class=\"n\">GraphTheory</span><span class=\"bp\">&gt;</span>\n</code></pre></div>",
        "id": 359772890,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684532557
    },
    {
        "content": "<p>Did you try deleting <code>.\\lake-packages\\mathlib</code> manually?</p>",
        "id": 359772928,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684532587
    },
    {
        "content": "<p>and then running <code>lake exe cache get</code> and <code>lake build</code>?</p>",
        "id": 359773003,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684532626
    },
    {
        "content": "<p>Yeah, this worked.</p>",
        "id": 359774914,
        "sender_full_name": "Jonathan Whitehead",
        "timestamp": 1684533648
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"472585\">Jonathan Whitehead</span> has marked this topic as resolved.</p>",
        "id": 359774929,
        "sender_full_name": "Notification Bot",
        "timestamp": 1684533656
    },
    {
        "content": "<p>No idea what happened <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 359775122,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684533733
    }
]