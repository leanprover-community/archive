[
    {
        "content": "<p>Hey, I'm new here <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span>. Question, can I limit the parallelism when building with <code>lake build</code>?</p>",
        "id": 547607650,
        "sender_full_name": "Barry Moore II",
        "timestamp": 1761696452
    },
    {
        "content": "<p>Additional context, I was compiling mathlib and my computer was struggling. Would have been nice to just add <code>-j 10</code> and save some cores for my other work</p>",
        "id": 547614879,
        "sender_full_name": "Barry Moore II",
        "timestamp": 1761702320
    },
    {
        "content": "<p>You can save much more with <code>lake exe cache get</code></p>",
        "id": 547621467,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1761707343
    },
    {
        "content": "<p>Use the above first. Only compile mathlib/files if you have to.</p>",
        "id": 547642926,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761722506
    },
    {
        "content": "<p>If you need to compile a set of files, something like the j option exists. I don't remember the syntax, but <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> does</p>",
        "id": 547643016,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761722562
    },
    {
        "content": "<p>You can use e.g. <code>export LEAN_NUM_THREADS=10 &amp;&amp; lake build</code></p>",
        "id": 547693338,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1761738079
    },
    {
        "content": "<p>Nice. I couldn’t find that in the docs is it at all useful to add as a PR?</p>",
        "id": 547695007,
        "sender_full_name": "Barry Moore II",
        "timestamp": 1761738615
    },
    {
        "content": "<p>I think it would, but I'm not sure where to add it...</p>",
        "id": 547695074,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761738640
    },
    {
        "content": "<p>Fair, it might also be useful to stick it into the <code>lake build —help</code> but then you have to decide which flags make the most sense to put there.</p>",
        "id": 547704319,
        "sender_full_name": "Barry Moore II",
        "timestamp": 1761741330
    },
    {
        "content": "<p>Anyway, both of these solve my immediate issues and I learned about the cache so thanks everyone!</p>",
        "id": 547704412,
        "sender_full_name": "Barry Moore II",
        "timestamp": 1761741356
    },
    {
        "content": "<p>It is mentioned in the language reference: <a href=\"https://lean-lang.org/doc/reference/latest/IO/Tasks-and-Threads/?terms=LEAN_NUM_THREADS#concurrency\">https://lean-lang.org/doc/reference/latest/IO/Tasks-and-Threads/?terms=LEAN_NUM_THREADS#concurrency</a></p>",
        "id": 547708047,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1761742425
    },
    {
        "content": "<p>As a new user, I wouldn’t know to look there</p>",
        "id": 547716198,
        "sender_full_name": "Barry Moore II",
        "timestamp": 1761744590
    }
]