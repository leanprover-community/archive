[
    {
        "content": "<p>I noticed that using the instructions here <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> gives me an x86_64 version and I would like an arm64 version. I can see build instructions here <a href=\"https://docs.lean-lang.org/lean4/doc/make/index.html\">https://docs.lean-lang.org/lean4/doc/make/index.html</a>. But is this \"courageous\" of me? And why is the default version x86_64 anyway?</p>",
        "id": 473680114,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727692540
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/stream/113489-new-members/topic/Should.20I.20build.20lean.20by.20hand.3F/near/473680114\">said</a>:</p>\n<blockquote>\n<p>I noticed that using the instructions here <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> gives me an x86_64 version and I would like an arm64 version. I can see build instructions here <a href=\"https://docs.lean-lang.org/lean4/doc/make/index.html\">https://docs.lean-lang.org/lean4/doc/make/index.html</a>. But is this \"courageous\" of me? And why is the default version x86_64 anyway?</p>\n</blockquote>\n<p>\"Courageous\" is English for crazy ;-)</p>",
        "id": 473680646,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727692622
    },
    {
        "content": "<p>Well I didn't get very far with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">dom</span><span class=\"bp\">@</span><span class=\"n\">Wandle</span><span class=\"w\"> </span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">nix</span><span class=\"w\"> </span><span class=\"n\">develop</span>\n<span class=\"n\">nix</span><span class=\"w\"> </span><span class=\"n\">develop</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">Nix</span><span class=\"bp\">-</span><span class=\"n\">based</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">deprecated</span>\n</code></pre></div>",
        "id": 473682147,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727692864
    },
    {
        "content": "<p>Uninstalling elan from Homebrew and reinstalling it from its website should be sufficient</p>",
        "id": 473684123,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727693189
    },
    {
        "content": "<p>Do remove ~/.elan between these steps though</p>",
        "id": 473684649,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727693316
    },
    {
        "content": "<p>I should run <code>./elan-init</code>?</p>",
        "id": 473686607,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727693794
    },
    {
        "content": "<p>You can also install elan from the VSCode extension, if you're using that.  That may be an easy way to do it.  Either use \"Lean4: Setup: Install Elan\" from \"Cmd + P\", or select \"Version Management -&gt; Setup: Install Elan\" from the Lean menu (the \"forall\" symbol)</p>\n<p>HTH</p>",
        "id": 473835621,
        "sender_full_name": "Tom",
        "timestamp": 1727724969
    },
    {
        "content": "<p>I'm also on ARM 64 and IIRC, that's how I got things installed.</p>",
        "id": 473835873,
        "sender_full_name": "Tom",
        "timestamp": 1727725037
    },
    {
        "content": "<p>It's also quite suspicious sounding that you got an x86_64 version from doing what you did. Did you install it with an x64 Homebrew? Or an ARM one? Something seems likely to need fixing there if you didn't install it with an x64 Homebrew, but I don't have time to do so myself.</p>",
        "id": 473837002,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727725419
    },
    {
        "content": "<p>I used the the script given here <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> and I think it must have installed the x86_64 version. I installed the desired elan version (arm64) here <a href=\"https://github.com/leanprover/elan/releases/tag/v3.1.1\">https://github.com/leanprover/elan/releases/tag/v3.1.1</a> and now I am in business.</p>",
        "id": 473961176,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727765597
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/stream/113489-new-members/topic/Should.20I.20build.20lean.20by.20hand.3F/near/473837002\">said</a>:</p>\n<blockquote>\n<p>It's also quite suspicious sounding that you got an x86_64 version from doing what you did. Did you install it with an x64 Homebrew? Or an ARM one? Something seems likely to need fixing there if you didn't install it with an x64 Homebrew, but I don't have time to do so myself.</p>\n</blockquote>\n<p>Are you also using copilot? My colleague is using it and it seems useful (especially for beginners like us). I currently cannot get it to work so if you are using it that would give another data point.</p>",
        "id": 473961461,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727765682
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/stream/113489-new-members/topic/Should.20I.20build.20lean.20by.20hand.3F/near/473684649\">said</a>:</p>\n<blockquote>\n<p>Do remove ~/.elan between these steps though</p>\n</blockquote>\n<p>I didn't use home-brew as I was advised against it. But removing <code>~/.elan</code> and installing the desired elan worked thanks very much.</p>",
        "id": 473961838,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727765785
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"515083\">Tom</span> <a href=\"#narrow/stream/113489-new-members/topic/Should.20I.20build.20lean.20by.20hand.3F/near/473835873\">said</a>:</p>\n<blockquote>\n<p>I'm also on ARM 64 and IIRC, that's how I got things installed.</p>\n</blockquote>\n<p>Are you also using copilot? My colleague is using it and it seems useful (especially for beginners like us). I currently cannot get it to work so if you are using it that would give another data point.</p>",
        "id": 474071898,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727798545
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/stream/113489-new-members/topic/Should.20I.20build.20lean.20by.20hand.3F/near/473837002\">said</a>:</p>\n<blockquote>\n<p>It's also quite suspicious sounding that you got an x86_64 version from doing what you did. Did you install it with an x64 Homebrew? Or an ARM one? Something seems likely to need fixing there if you didn't install it with an x64 Homebrew, but I don't have time to do so myself.</p>\n</blockquote>\n<p>I think it was that I was using emacs which reported uname -m as x86_64 even though a terminal reported uname -m as arm64. After a mare with emacs, I now have arm64 both inside and outside of emacs. I still can't get LeanCopilot to work though.</p>",
        "id": 474072322,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727798663
    },
    {
        "content": "<p>I do not use copilot. I'm happy to try to install it to tell you whether it works, but I am pretty sure others here (including on macOS) have gotten it working.</p>",
        "id": 474077614,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727800450
    },
    {
        "content": "<p>I also noticed / remembered that the script you mentioned from the community page doesn't use Homebrew to do the install at all now. I know that's a recent change (and one I don't really think was necessary, but I think it was done to homogenize how elan gets installed across OSes).</p>",
        "id": 474077792,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727800506
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"754300\">@Dominic Steinitz</span> </p>\n<p>I am using copilot - the GitHub one.  I think you mentioned \"LeanCopilot\" in another thread and I wasn't aware of that exists.</p>\n<p>In general, it's decent in terms of at least giving me an idea of syntax and sometimes possible suggestions on how to implement functions but I find that I have to edit things a lot because Lean needs you to be a quite precise and copilot doesn't really \"understand\" logic and types.</p>\n<p>Overall, I'd say it has been a net positive for learning, esp for e.g. </p>\n<ol>\n<li>Writing little experiments as I go through e.g. FPiL</li>\n<li>At least making me aware certain constructs even exist so I can go and try to look them up</li>\n</ol>\n<p>I think because of the lack of code in Lean4 though, the training dataset must be relatively small and the suggestions sometimes seem to show \"lean 3\" syntax</p>",
        "id": 474092400,
        "sender_full_name": "Tom",
        "timestamp": 1727804554
    }
]