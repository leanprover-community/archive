[
    {
        "content": "<p>MoP uses <code>noncomputable</code> in one of the exercises without explaining it. I did an internet search and also a 'hover over' but didn't find an explanation.</p>\n<p>What is a <code>nonconcomputable</code> function?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n</code></pre></div>",
        "id": 500926682,
        "sender_full_name": "rzeta0",
        "timestamp": 1740070377
    },
    {
        "content": "<p>You mean a noncomputable function? It's a function for which there's no algorithm which computes it. This isn't a mathematical concept, basically there is no algorithm which works out if a real number is 0 (because if I give you a real number and you compute it to a million decimal places and it's 0.0000000000000000000... then you still don't know for sure if it's zero) so many common functions on real numbers are marked noncomputable. It's nothing to worry about if you're just proving theorems. It stops things like #reduce and #eval from working but this doesn't matter for proofs.</p>",
        "id": 500927244,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740070530
    },
    {
        "content": "<p>Thanks Kevin</p>\n<p>I can understand the idea of preventing Lean from attempting to #eval or simplify the function, and only treat it symbolically. That makes sense.</p>\n<p>In this particular case the function happens to be </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n</code></pre></div>\n<p>which to me does look computable. In my naive view, division by zero might make something non computable, but that doesn't appear to be the case here. Is there another reason <code>(x-1)/5</code> might be noncomputable?</p>",
        "id": 500927887,
        "sender_full_name": "rzeta0",
        "timestamp": 1740070693
    },
    {
        "content": "<p>and yes thanks - I've corrected the typo re computable v non computable.</p>",
        "id": 500928008,
        "sender_full_name": "rzeta0",
        "timestamp": 1740070726
    },
    {
        "content": "<p>The way mathlib defines the reals prioritizes mathematical reasoning over potential computability.</p>\n<p>It's possible to define real numbers in ways that are more or less computable (examples: Dedekind cuts have no computational content, Cauchy sequences don't give you a way to know how long you need to compute to get within some error bound, and then there's a variation that does, but still simple operations like equality are not computable).</p>\n<p>The fact is, real numbers are generally not representable on a computer. Almost all of them take take infinite space.</p>\n<p>You should examine carefully your view on what you think it would mean for <code>v</code> to be computable in the first place: Lean's computability is about whether the compiler can generate machine code. What machine code should it generate for this function?</p>",
        "id": 500936137,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1740073158
    },
    {
        "content": "<p>This is \"<code>computable</code>\":</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mf\">0.2</span>\n</code></pre></div>",
        "id": 500937501,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740073680
    },
    {
        "content": "<p>The short answer for why specifically <code>x / y</code> on reals is noncomputable is that it is implemented as <code>if y = 0 then 0 else something_computable</code>, and Kevin already described why <code>y = 0</code> is noncomputable.</p>",
        "id": 500937705,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740073744
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 500945318,
        "sender_full_name": "Notification Bot",
        "timestamp": 1740076390
    }
]