[
    {
        "content": "<p>I have at least three choices for formalizing a result involving natural numbers:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">option_1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">assumptions_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">sorry_1</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">option_2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">assumptions_1</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">sorry_2</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">option_3a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">assumptions_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">sorry_3</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">option_3b</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">assumptions_1</span><span class=\"o\">):</span><span class=\"bp\">\\</span><span class=\"k\">forall</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">sorry_4</span>\n</code></pre></div>\n<p>For concision, I would prefer option 1 or option 2.  For use, I will want both option3a and option 3b (I almost never need both in the same section of proof).  If  A(j) and B(j) are of interest in including in Mathlib, what form is preferred and why?  Or would all three options be of use?</p>\n<p>If it matters, for j sufficiently large, B(j) implies A(j). Also, if \\forall is moved into the assumptions this effectively becomes options 1 and 3ab.</p>",
        "id": 573926159,
        "sender_full_name": "J. J. Issai (project started by GRP)",
        "timestamp": 1771102441
    },
    {
        "content": "<p>AFAIK Mathlib (and I think ITPs in general) prefer option 3, since it's easier to use</p>",
        "id": 573926529,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771102886
    },
    {
        "content": "<p>Similar to how <code>(A ∧ B) → ...</code> is discouraged over <code>A → B → ...</code>.<br>\nI think <code>∧</code> is mostly used under <code>∃</code></p>",
        "id": 573926678,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771103033
    },
    {
        "content": "<p>@Snir Broshi: Thanks.  If I went with option 3ab and needed to show option1, what is a good idiom for this?</p>",
        "id": 573926696,
        "sender_full_name": "J. J. Issai (project started by GRP)",
        "timestamp": 1771103056
    },
    {
        "content": "<p>Well you can do <code>fun j ↦ ⟨option_3a assumptions_1 j, option_3b assumptions_1 j⟩</code>, and there's probably a small theorem that can even convert it for you if you prefer</p>",
        "id": 573926737,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771103120
    },
    {
        "content": "<p>And to be clear </p>\n<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/113489-new-members/topic/Style.2Fusability.20question.20on.20multiple.20related.20theorems/near/573926678\">said</a>:</p>\n<blockquote>\n<p>Similar to how <code>(A ∧ B) → ...</code> is discouraged over <code>A → B → ...</code>.<br>\nI think <code>∧</code> is mostly used under <code>∃</code></p>\n</blockquote>\n<p>the first option with \\and is discouraged and the option with \\implies is encouraged?  (making sure I understand)</p>",
        "id": 573926759,
        "sender_full_name": "J. J. Issai (project started by GRP)",
        "timestamp": 1771103144
    },
    {
        "content": "<p>You can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=forall_and#doc\">docs#forall_and</a> to convert if it's shorter than the manual option I wrote above</p>",
        "id": 573926775,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771103153
    }
]