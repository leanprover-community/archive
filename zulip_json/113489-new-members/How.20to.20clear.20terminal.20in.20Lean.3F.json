[
    {
        "content": "<p>Tried this but I dont think it works</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">partial</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">gameLoop</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"n\">Unit</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">do</span>\n\n<span class=\"w\">  </span><span class=\"c1\">-- Placeholder for the main game loop</span>\n\n<span class=\"w\">  </span><span class=\"c1\">-- render game world</span>\n\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">Process</span><span class=\"bp\">.</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">cmd</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"s2\">\"clear\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">args</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n<span class=\"w\">  </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">do</span>\n\n<span class=\"w\">      </span><span class=\"n\">println!</span><span class=\"w\"> </span><span class=\"s2\">\"############################################\"</span>\n\n<span class=\"w\">  </span><span class=\"n\">println!</span><span class=\"w\"> </span><span class=\"s2\">\"Enter Input:\"</span>\n\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">stdin</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">getStdin</span>\n\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">stdin</span><span class=\"bp\">.</span><span class=\"n\">getLine</span>\n\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">inputString</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">dropRightWhile</span><span class=\"w\"> </span><span class=\"n\">Char</span><span class=\"bp\">.</span><span class=\"n\">isWhitespace</span>\n\n<span class=\"w\">  </span><span class=\"n\">gameLoop</span><span class=\"bp\">```</span>\n</code></pre></div>",
        "id": 537971297,
        "sender_full_name": "Srayan Jana",
        "timestamp": 1757129892
    },
    {
        "content": "<p>Like, i get the loop printing out stuff but it doesn't clear when I press enter. I think its probably calling the command but in another process</p>",
        "id": 537971428,
        "sender_full_name": "Srayan Jana",
        "timestamp": 1757130042
    },
    {
        "content": "<p>Try <code>print \"\\x1b[H\\x1b[2J\\x1b[3J\"</code> (see <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code#Control_Sequence_Introducer_commands\">https://en.wikipedia.org/wiki/ANSI_escape_code#Control_Sequence_Introducer_commands</a>). That's what <code>clear</code> does itself.</p>",
        "id": 537981984,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757142488
    },
    {
        "content": "<p>On my system <code>clear</code> prints <code>\\x1b[H\\x1b[J</code>.</p>",
        "id": 537988802,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1757150131
    },
    {
        "content": "<p>Hmm I guess there's some variation. Either one should work</p>",
        "id": 537988966,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757150323
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"950553\">@Srayan Jana</span> this worked for me, let me know if it works for you</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">stdout</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">getStdout</span>\n<span class=\"w\">  </span><span class=\"n\">stdout</span><span class=\"bp\">.</span><span class=\"n\">write</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">ByteArray</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"mi\">27</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">91</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">74</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">27</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">91</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">72</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">27</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">91</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">74</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">--\"\\033[3J\\033[H\\033[2J\" from https://stackoverflow.com/a/64596601</span>\n<span class=\"w\">  </span><span class=\"n\">stdout</span><span class=\"bp\">.</span><span class=\"n\">flush</span>\n</code></pre></div>",
        "id": 538082360,
        "sender_full_name": "Krishna Padmasola",
        "timestamp": 1757254336
    },
    {
        "content": "<p>yeah that seemed to do the trick. Thanks!</p>",
        "id": 538565450,
        "sender_full_name": "Srayan Jana",
        "timestamp": 1757478518
    }
]