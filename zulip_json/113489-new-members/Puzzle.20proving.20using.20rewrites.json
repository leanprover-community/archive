[
    {
        "content": "<p>Hello </p>\n<p>I have the following code, as a \"template\" to use to prove \"m1\"</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"c1\">-- l’affirmation du coffre n°1 est vraie</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"c1\">-- l’affirmation du coffre n°2 est vraie</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">v3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"c1\">-- l’affirmation du coffre n°3 est vraie</span>\n\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">m1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"c1\">-- le manuscrit se trouve dans le coffre n°1</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">m2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"c1\">-- le manuscrit se trouve dans le coffre n°2</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">m3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"c1\">-- le manuscrit se trouve dans le coffre n°3</span>\n\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">existe_manuscrit</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m2</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m3</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">coffre1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">m3</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">coffre2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">v2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">v3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">v3</span><span class=\"o\">)</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">coffre3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v3</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">m2</span>\n\n<span class=\"c\">/-</span><span class=\"cm\"> En utilisant les tactiques apply et rewrite, vous pouvez utiliser</span>\n<span class=\"cm\">   les théorèmes suivants dans votre raisonnement -/</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">not_not_elim</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬¬</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_not_p</span>\n<span class=\"w\">    </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">pos</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">neg</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">exfalso</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_not_p</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">or_not_left_elim</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp_or_q</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">hp_or_q</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">    </span><span class=\"n\">exfalso</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">or_not_right_elim</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp_or_q</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">hp_or_q</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">    </span><span class=\"n\">exfalso</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">de_morgan_and</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">q</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p_and_q</span>\n<span class=\"w\">    </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">pos</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">hq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">q</span>\n<span class=\"w\">      </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">pos</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">exfalso</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p_and_q</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">And</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">        </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">        </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">      </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">neg</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">right</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">neg</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">left</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p_or_not_q</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp_and_q</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">hnot_p_or_not_q</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp_and_q</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_q</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_q</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp_and_q</span><span class=\"bp\">.</span><span class=\"n\">right</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">de_morgan_or</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">q</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Iff</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p_or_q</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">And</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p_or_q</span>\n<span class=\"w\">      </span><span class=\"n\">left</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p_or_q</span>\n<span class=\"w\">      </span><span class=\"n\">right</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">  </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hnot_p_and_not_q</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp_or_q</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">hp_or_q</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p_and_not_q</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">right</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hnot_p_and_not_q</span><span class=\"bp\">.</span><span class=\"n\">right</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n</code></pre></div>\n<p>I tried doing the m1 proof but im having errors related to rewrites im not sure how to fix</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c\">/-</span><span class=\"cm\"> Prouvez l’un des trois théorèmes suivants, selon votre déduction -/</span>\n<span class=\"w\">  </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">reponse_m1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"c1\">-- Use the existence axiom to split cases</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">existe_manuscrit</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"c1\">-- Case: m1 is true</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h1</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Case: m2 is true</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_v3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coffre3</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_v2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coffre2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_v3</span>\n<span class=\"w\">        </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">not_not_elim</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_v3</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_v3</span>\n<span class=\"w\">      </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coffre1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_v2</span>\n<span class=\"w\">      </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">h_v2</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h_v2'</span><span class=\"w\"> </span><span class=\"n\">h_m3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">exfalso</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_m3</span><span class=\"w\"> </span><span class=\"c1\">-- This contradicts the current case assumption</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Case: m3 is true</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_v1_v2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coffre1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h3</span>\n<span class=\"w\">        </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">        </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h_v1</span><span class=\"w\"> </span><span class=\"n\">h_m3'</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">          </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_v1</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_v2_or_v3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coffre2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_v1_v2</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_v1_v2</span>\n<span class=\"w\">      </span><span class=\"n\">exfalso</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h_v2_or_v3</span>\n<span class=\"w\">      </span><span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">de_morgan_and</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h3</span>\n</code></pre></div>\n<p>Can anyone help me fix this proof?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code>\n</code></pre></div>",
        "id": 484555366,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732639477
    },
    {
        "content": "<p>I was converting the correct code from coq to lean, if needed  I could provide the working correct Coq code.</p>",
        "id": 484556390,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732639797
    },
    {
        "content": "<p>What's the paper proof?</p>",
        "id": 484561028,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732641246
    },
    {
        "content": "<p>So the question is, there are 3 chests, each containing a message, </p>\n<p>Chest 1: the message in chest 2 is true, and the manuscript is in chest 3 <br>\nChest 2: In the 3 chests there is at most 1 right affirmation <br>\nChest 3: The manuscript is in chest 2</p>\n<p>So in natural language (im guessing thats paper proof?) we could say the manuscript is in chest 1, if we assume v2 (message of chest 2) is true, then, v1 and v3 are incorrect, if v1 is incorrect and v2 is correct then according to v1, m1 is correct. <br>\nWhich concludes as the message in chest 2 is true and the manuscript is in chest 1</p>",
        "id": 484561270,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732641338
    },
    {
        "content": "<p>This is the complete proof in Coq</p>\n<div class=\"codehilite\" data-code-language=\"Coq\"><pre><span></span><code><span class=\"kn\">Require</span> <span class=\"kn\">Import</span> <span class=\"n\">Classical</span> <span class=\"n\">ClassicalFacts</span><span class=\"o\">.</span>\n\n<span class=\"kn\">Axiom</span> <span class=\"n\">v1</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">.</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">v2</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">.</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">v3</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">.</span>\n\n<span class=\"kn\">Axiom</span> <span class=\"n\">m1</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">.</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">m2</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">.</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">m3</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">.</span>\n\n<span class=\"kn\">Axiom</span> <span class=\"n\">existe_manuscrit</span> <span class=\"o\">:</span> <span class=\"n\">m1</span> <span class=\"o\">\\/</span> <span class=\"n\">m2</span> <span class=\"o\">\\/</span> <span class=\"n\">m3</span><span class=\"o\">.</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">coffre1</span> <span class=\"o\">:</span> <span class=\"n\">v1</span> <span class=\"o\">&lt;-&gt;</span> <span class=\"n\">v2</span> <span class=\"o\">/\\</span> <span class=\"n\">m3</span><span class=\"o\">.</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">coffre2</span> <span class=\"o\">:</span> <span class=\"n\">v2</span> <span class=\"o\">&lt;-&gt;</span> <span class=\"o\">(~</span><span class=\"n\">v1</span> <span class=\"o\">\\/</span> <span class=\"o\">~</span><span class=\"n\">v2</span><span class=\"o\">)</span> <span class=\"o\">/\\</span> <span class=\"o\">(~</span><span class=\"n\">v1</span> <span class=\"o\">\\/</span> <span class=\"o\">~</span><span class=\"n\">v3</span><span class=\"o\">)</span> <span class=\"o\">/\\</span> <span class=\"o\">(~</span><span class=\"n\">v2</span> <span class=\"o\">\\/</span> <span class=\"o\">~</span><span class=\"n\">v3</span><span class=\"o\">).</span>\n<span class=\"kn\">Axiom</span> <span class=\"n\">coffre3</span> <span class=\"o\">:</span> <span class=\"n\">v3</span> <span class=\"o\">&lt;-&gt;</span> <span class=\"n\">m2</span><span class=\"o\">.</span>\n\n<span class=\"kn\">Axiom</span> <span class=\"n\">LEM</span> <span class=\"o\">:</span> <span class=\"n\">excluded_middle</span><span class=\"o\">.</span>\n\n<span class=\"kn\">Theorem</span> <span class=\"n\">reponse_m1</span> <span class=\"o\">:</span> <span class=\"n\">m1</span><span class=\"o\">.</span>\n  <span class=\"kn\">Proof</span> <span class=\"k\">with</span> <span class=\"k\">auto</span><span class=\"o\">.</span>\n    <span class=\"k\">destruct</span> <span class=\"n\">existe_manuscrit</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">H1</span><span class=\"o\">|[</span><span class=\"n\">H2</span><span class=\"o\">|</span><span class=\"n\">H3</span><span class=\"o\">]]...</span>\n    <span class=\"o\">-</span> <span class=\"k\">apply</span> <span class=\"n\">coffre3</span> <span class=\"k\">in</span> <span class=\"n\">H2</span><span class=\"o\">.</span>\n      <span class=\"k\">destruct</span> <span class=\"o\">(</span><span class=\"n\">LEM</span> <span class=\"n\">v2</span><span class=\"o\">)</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">HT</span><span class=\"o\">|</span><span class=\"n\">HF</span><span class=\"o\">].</span>\n      <span class=\"o\">*</span> <span class=\"k\">assert</span> <span class=\"o\">(</span><span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"n\">v2</span><span class=\"o\">)...</span>\n        <span class=\"k\">apply</span> <span class=\"n\">coffre2</span> <span class=\"k\">in</span> <span class=\"n\">HT</span><span class=\"o\">;</span> <span class=\"k\">intuition</span><span class=\"o\">.</span>\n      <span class=\"o\">*</span> <span class=\"k\">assert</span> <span class=\"o\">(</span><span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"o\">~</span><span class=\"n\">v2</span><span class=\"o\">)...</span>\n        <span class=\"k\">apply</span> <span class=\"o\">(</span><span class=\"n\">not_iff_compat</span> <span class=\"n\">coffre2</span><span class=\"o\">)</span> <span class=\"k\">in</span> <span class=\"n\">HF</span><span class=\"o\">.</span>\n        <span class=\"k\">apply</span> <span class=\"n\">not_and_or</span> <span class=\"k\">in</span> <span class=\"n\">HF</span><span class=\"o\">.</span>\n        <span class=\"k\">destruct</span> <span class=\"n\">HF</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">Ha</span><span class=\"o\">|</span><span class=\"n\">HF</span><span class=\"o\">].</span>\n        <span class=\"o\">+</span> <span class=\"k\">apply</span> <span class=\"n\">not_or_and</span> <span class=\"k\">in</span> <span class=\"n\">Ha</span> <span class=\"k\">as</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">&amp;</span> <span class=\"n\">H''</span><span class=\"o\">).</span>\n          <span class=\"k\">apply</span> <span class=\"n\">NNPP</span> <span class=\"k\">in</span> <span class=\"n\">H''</span><span class=\"o\">;</span> <span class=\"kp\">congruence</span><span class=\"o\">.</span>\n        <span class=\"o\">+</span> <span class=\"k\">apply</span> <span class=\"n\">not_and_or</span> <span class=\"k\">in</span> <span class=\"n\">HF</span><span class=\"o\">.</span>\n          <span class=\"k\">destruct</span> <span class=\"n\">HF</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">Hb</span><span class=\"o\">|</span><span class=\"n\">Hc</span><span class=\"o\">].</span>\n          <span class=\"o\">{</span> <span class=\"k\">apply</span> <span class=\"n\">not_or_and</span> <span class=\"k\">in</span> <span class=\"n\">Hb</span> <span class=\"k\">as</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">&amp;</span> <span class=\"n\">H''</span><span class=\"o\">).</span>\n            <span class=\"k\">apply</span> <span class=\"n\">NNPP</span> <span class=\"k\">in</span> <span class=\"n\">H'</span><span class=\"o\">.</span> <span class=\"k\">apply</span> <span class=\"n\">coffre1</span> <span class=\"k\">in</span> <span class=\"n\">H'</span> <span class=\"k\">as</span> <span class=\"bp\">[]</span><span class=\"o\">;</span> <span class=\"kp\">congruence</span><span class=\"o\">.</span> <span class=\"o\">}</span>\n          <span class=\"o\">{</span> <span class=\"k\">apply</span> <span class=\"n\">not_or_and</span> <span class=\"k\">in</span> <span class=\"n\">Hc</span> <span class=\"k\">as</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">&amp;</span> <span class=\"n\">H''</span><span class=\"o\">).</span>\n            <span class=\"k\">apply</span> <span class=\"n\">NNPP</span> <span class=\"k\">in</span> <span class=\"n\">H'</span><span class=\"o\">;</span> <span class=\"kp\">congruence</span><span class=\"o\">.</span> <span class=\"o\">}</span>\n    <span class=\"o\">-</span> <span class=\"k\">destruct</span> <span class=\"o\">(</span><span class=\"n\">LEM</span> <span class=\"n\">v2</span><span class=\"o\">)</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">HT</span><span class=\"o\">|</span><span class=\"n\">HF</span><span class=\"o\">].</span>\n      <span class=\"o\">*</span> <span class=\"k\">assert</span> <span class=\"o\">(</span><span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"n\">v2</span> <span class=\"o\">/\\</span> <span class=\"n\">m3</span><span class=\"o\">)...</span>\n        <span class=\"k\">apply</span> <span class=\"n\">coffre1</span> <span class=\"k\">in</span> <span class=\"n\">H</span><span class=\"o\">.</span>\n        <span class=\"k\">assert</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">:</span> <span class=\"n\">v2</span><span class=\"o\">)...</span>\n        <span class=\"k\">apply</span> <span class=\"n\">coffre2</span> <span class=\"k\">in</span> <span class=\"n\">HT</span><span class=\"o\">;</span> <span class=\"k\">intuition</span><span class=\"o\">.</span>\n      <span class=\"o\">*</span> <span class=\"k\">assert</span> <span class=\"o\">(</span><span class=\"n\">H</span> <span class=\"o\">:</span> <span class=\"o\">~</span><span class=\"n\">v2</span><span class=\"o\">)...</span>\n        <span class=\"k\">apply</span> <span class=\"o\">(</span><span class=\"n\">not_iff_compat</span> <span class=\"n\">coffre2</span><span class=\"o\">)</span> <span class=\"k\">in</span> <span class=\"n\">HF</span><span class=\"o\">.</span>\n        <span class=\"k\">apply</span> <span class=\"n\">not_and_or</span> <span class=\"k\">in</span> <span class=\"n\">HF</span><span class=\"o\">.</span>\n        <span class=\"k\">destruct</span> <span class=\"n\">HF</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">Ha</span><span class=\"o\">|</span><span class=\"n\">HF</span><span class=\"o\">].</span>\n        <span class=\"o\">+</span> <span class=\"k\">apply</span> <span class=\"n\">not_or_and</span> <span class=\"k\">in</span> <span class=\"n\">Ha</span> <span class=\"k\">as</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">&amp;</span> <span class=\"n\">H''</span><span class=\"o\">).</span>\n          <span class=\"k\">apply</span> <span class=\"n\">NNPP</span> <span class=\"k\">in</span> <span class=\"n\">H''</span><span class=\"o\">;</span> <span class=\"kp\">congruence</span><span class=\"o\">.</span>\n        <span class=\"o\">+</span> <span class=\"k\">apply</span> <span class=\"n\">not_and_or</span> <span class=\"k\">in</span> <span class=\"n\">HF</span><span class=\"o\">.</span>\n          <span class=\"k\">destruct</span> <span class=\"n\">HF</span> <span class=\"k\">as</span> <span class=\"o\">[</span><span class=\"n\">Hb</span><span class=\"o\">|</span><span class=\"n\">Hc</span><span class=\"o\">].</span>\n          <span class=\"o\">{</span> <span class=\"k\">apply</span> <span class=\"n\">not_or_and</span> <span class=\"k\">in</span> <span class=\"n\">Hb</span> <span class=\"k\">as</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">&amp;</span> <span class=\"n\">H''</span><span class=\"o\">).</span>\n            <span class=\"k\">apply</span> <span class=\"n\">NNPP</span> <span class=\"k\">in</span> <span class=\"n\">H'</span><span class=\"o\">.</span> <span class=\"k\">apply</span> <span class=\"n\">coffre1</span> <span class=\"k\">in</span> <span class=\"n\">H'</span> <span class=\"k\">as</span> <span class=\"bp\">[]</span><span class=\"o\">;</span> <span class=\"kp\">congruence</span><span class=\"o\">.</span> <span class=\"o\">}</span>\n          <span class=\"o\">{</span> <span class=\"k\">apply</span> <span class=\"n\">not_or_and</span> <span class=\"k\">in</span> <span class=\"n\">Hc</span> <span class=\"k\">as</span> <span class=\"o\">(</span><span class=\"n\">H'</span> <span class=\"o\">&amp;</span> <span class=\"n\">H''</span><span class=\"o\">).</span>\n            <span class=\"k\">apply</span> <span class=\"n\">NNPP</span> <span class=\"k\">in</span> <span class=\"n\">H'</span><span class=\"o\">;</span> <span class=\"kp\">congruence</span><span class=\"o\">.</span> <span class=\"o\">}</span>\n<span class=\"kn\">Qed</span><span class=\"o\">.</span>\n</code></pre></div>\n<p>But I need it in lean,and the above is my attempt, but its giving me errors that Im not sure how to fix</p>",
        "id": 484562885,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732641918
    },
    {
        "content": "<p>My bad I did not see that you had sent your attempted proof. The errors you get come from the fact that you want to rewrite using <code>A &lt;-&gt; B</code>, but this will only work if <code>A</code> appears at the place you want to rewrite, and it's not the case at the places you want to rewrite.</p>",
        "id": 484564495,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732642495
    },
    {
        "content": "<p>How can I fix that?</p>",
        "id": 484564588,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732642542
    },
    {
        "content": "<p>I think the entire lean \"translation\" is incorrect after further investigating</p>",
        "id": 484564637,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732642560
    },
    {
        "content": "<p>Well I don't know how to read Coq but indeed the translation seems to be wrong</p>",
        "id": 484565071,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732642715
    },
    {
        "content": "<p>yeah I thought it was only a few errors, but even if those are fixed more are to come,<br>\nIm not sure what to do</p>",
        "id": 484565192,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732642760
    },
    {
        "content": "<p>Is the tactic <code>intuition</code> in Coq used to prove a goal by only using intuitionistic logic? If so I think this proof will be hard to translate, at least I do not know such tactic. There is <code>tauto</code> but it uses classical logic so it will solve everything instantly but I'm guessing it is not what you are looking for. Otherwise you'd have to make the steps taken by <code>intuition</code> explicit which could lengthen the proof.</p>",
        "id": 484566304,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732643161
    },
    {
        "content": "<p>Is there a simple way the proof could be made? It doesnt necessarily have to be a translation of the coq one, but Im using the coq one since its the closest lead I have to a complete solution in lean</p>",
        "id": 484566691,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732643304
    },
    {
        "content": "<p>There you go:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">reponse_m1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">existe_manuscrit</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">coffre1</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">coffre2</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">coffre3</span>\n<span class=\"w\">  </span><span class=\"n\">tauto</span>\n</code></pre></div>",
        "id": 484567082,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732643457
    },
    {
        "content": "<p>Oh-<br>\nI didnt really mean the tauto way, since as you said this solves everything instantly</p>",
        "id": 484567229,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732643514
    },
    {
        "content": "<p>Im guessing Im supposed to prove it the normal way</p>",
        "id": 484567328,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732643535
    },
    {
        "content": "<p>Although this solution is giving me errors anyways</p>",
        "id": 484567567,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732643627
    },
    {
        "content": "<p>You may need to add</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n</code></pre></div>\n<p>at the top of the file</p>",
        "id": 484568016,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732643780
    },
    {
        "content": "<p>by the way, using <code>variable</code> is preferred over <code>axiom</code>, just in case they might be inconsistent</p>",
        "id": 484568262,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732643866
    },
    {
        "content": "<p>the following should work just as well:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"c1\">-- l’affirmation du coffre n°1 est vraie</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"c1\">-- l’affirmation du coffre n°2 est vraie</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">v3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"c1\">-- l’affirmation du coffre n°3 est vraie</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"c1\">-- le manuscrit se trouve dans le coffre n°1</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"c1\">-- le manuscrit se trouve dans le coffre n°2</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"c1\">-- le manuscrit se trouve dans le coffre n°3</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">existe_manuscrit</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m2</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m3</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">coffre1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">m3</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">coffre2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">v2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">v3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"n\">v2</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">v3</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">coffre3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v3</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">m2</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 484568611,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732643986
    },
    {
        "content": "<p>The first few lines were supplied by the prof Im not really allowed to change them</p>",
        "id": 484569293,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732644189
    },
    {
        "content": "<p>Although im not sure if tactics are allowed, like \"import Mathlib.Tactic\"<br>\nHe did state that theorems from mathlib4 are allowed tho, does this count as one?</p>",
        "id": 484569696,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732644346
    },
    {
        "content": "<p>But I think the response normally expected doesnt require any outside imports</p>",
        "id": 484569754,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732644365
    },
    {
        "content": "<p>You can't use mathlib4 if you do not import anything. Tactics are not really theorems, but coding without tactic would be impossible (you couldn't use <code>apply</code> and <code>rewrite</code> for instance).</p>",
        "id": 484570231,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732644565
    },
    {
        "content": "<p>Now if you are only allowed to use <code>apply</code>, <code>cases</code> and <code>rw</code> I think this might be quite long.</p>",
        "id": 484570706,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1732644755
    },
    {
        "content": "<p>I think that's the case, I think we are supposed to use the most basic elements</p>",
        "id": 484573669,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732645925
    },
    {
        "content": "<p>I am not sure what the exercise is supposed to be. It is not pure intuitionistic logic; the direct part of <code>de_Morgan_and</code> cannot be proved in intuitionistic logic (also, the Coq axioms include the excluded middle). So, is the goal to just use <code>apply</code>s and <code>rewrite</code>s (plus the supplied theorems) to get to one of the goals? (In this, Coq and Lean/Mathlib might be subtly different, the seemingly equivalent tactics might behave differently in some cases)</p>",
        "id": 484596019,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1732655046
    },
    {
        "content": "<p>The natural language proof seems to start with a proof by cases on <code>v2</code> (or, excluded middle on <code>v2</code>), but the Coq proof starts by a proof by cases on <code>existe_manuscrit</code> (thus, prove that each of <code>m2</code> and <code>m3</code> leads to either a contradiction, or the conclusion <code>m1</code>).</p>",
        "id": 484598413,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1732656045
    },
    {
        "content": "<p>Unless I am misunderstanding what happens in my experiments, writing <code>axiom existe_manuscrit: m1 \\/ m2 \\/ m3</code> results in an axiom that asserts that for <em>any</em> three propositions, one of them is true; this is clearly not what you want.</p>\n<p>You can declare your various \"axioms\" as simple variables, but then if you want to use them in your proofs of theorems, you should add an <code>include v1 v2 v3 m1 m2 m3 existe_manuscrit coffre1 coffre2 coffre3</code> command before you start writing your theorems (I got this from Lean's contextual help: variables that are not explicitly included in the statement of a theorem cannot be used in its proof; this is clearly in contrast with how Coq works). After that Lean will complain that you have lots of unused variables in your theorems, but these are just warnings and can be ignored.</p>",
        "id": 484618888,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1732667517
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/Puzzle.20proving.20using.20rewrites/near/484618888\">said</a>:</p>\n<blockquote>\n<p>Unless I am misunderstanding what happens in my experiments, writing <code>axiom existe_manuscrit: m1 \\/ m2 \\/ m3</code> results in an axiom that asserts that for <em>any</em> three propositions, one of them is true; this is clearly not what you want.</p>\n</blockquote>\n<p>you might be missing the <code>axiom</code> declarations for <code>m1,m2,m3</code>. if you have those too, this won't be an issue.</p>",
        "id": 484667239,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732697463
    },
    {
        "content": "<p>you can check you have these by including <code>set_option autoImplicit false</code> at the top of your file.</p>",
        "id": 484667366,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732697509
    },
    {
        "content": "<p><a href=\"#narrow/channel/113489-new-members/topic/.E2.9C.94.20confused.20by.20axiom.20versus.20variable\">This</a> conversation is probably relevant</p>",
        "id": 484668928,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1732697951
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/113489-new-members/topic/Puzzle.20proving.20using.20rewrites/near/484667239\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/Puzzle.20proving.20using.20rewrites/near/484618888\">said</a>:</p>\n<blockquote>\n<p>Unless I am misunderstanding what happens in my experiments, writing <code>axiom existe_manuscrit: m1 \\/ m2 \\/ m3</code> results in an axiom that asserts that for <em>any</em> three propositions, one of them is true; this is clearly not what you want.</p>\n</blockquote>\n<p>you might be missing the <code>axiom</code> declarations for <code>m1,m2,m3</code>. if you have those too, this won't be an issue.</p>\n</blockquote>\n<p>I thought I had tried it both with <code>m1, m2, m3</code> as <code>axiom</code>s and as <code>variable</code>s, but apparently I didn't.</p>\n<p>The conversation linked by Riccardo makes things clearer to me.</p>\n<p>In retrospect, I am not sure what I expected a declaration such as <code>axiom v1: Prop</code> to mean. Is it just asserting the existence of some <code>Prop</code> named <code>v1</code>?  (of course now I understand is has the side effect of making another declaration <code>axiom av: v1</code> be about a specific <code>Prop</code> rather than just a blanket assumption that everything is true; but does it have other uses?)</p>",
        "id": 484691266,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1732704603
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/Puzzle.20proving.20using.20rewrites/near/484691266\">said</a>:</p>\n<blockquote>\n<p>Is it just asserting the existence of some <code>Prop</code> named <code>v1</code>?</p>\n</blockquote>\n<p>exactly right! <span aria-label=\"100\" class=\"emoji emoji-1f4af\" role=\"img\" title=\"100\">:100:</span> <br>\nDo note that it doesn't say anything about distinctness from <code>True</code> or <code>False</code></p>",
        "id": 484692458,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732704977
    },
    {
        "content": "<p>Hello<br>\nSorry for being late !<br>\nYeah its just declaring the existence of v1, since in this context v1 means \"the statement in the first chest is correct\"<br>\nIf I understood correctly I believe Im supposed to prove v2, and also prove that no-v2 is false</p>",
        "id": 484829642,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732761786
    },
    {
        "content": "<p>Sorry to be more presice I meant to prove \"coffre2\"<br>\n<code>v2 ↔ (¬v1 ∨ ¬v2) ∧ (¬v1 ∨ ¬v3) ∧ (¬v2 ∨ ¬v3)</code><br>\nSince v2 and coffre2 are interchangeable, v2 can be proved by proving this, using \"tiers-exclu\", a direct translation of that to english is \"third party excluded\" not sure if thats a correct translation, but basically im supposed to prove v2 as correct, and its opposite as incorrect.</p>",
        "id": 484829839,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732761930
    },
    {
        "content": "<p>I also verified again and <code>tauto</code> is not allowed, the proof has to be written manually, im currently trying to write it in natural language</p>",
        "id": 484830557,
        "sender_full_name": "FrenchNoodles",
        "timestamp": 1732762320
    },
    {
        "content": "<p>\"Tiers exclus\" is \"excluded middle\" in English; the third party has to sit in the middle between \"true\" and \"false\". Or so it looks.</p>\n<p>I solved the puzzle (without automation) in both Coq and Lean, each time relying on the excluded middle <code>v2 or  not v2</code>; I did not restrict myself to <code>apply</code> and <code>rw</code>, if that's the goal. One way to proceed, at least to help visualize things, is to prove other equivalence lemmas for <code>v2</code>,  getting rid of <code>v2</code> in the RHS. Oh, and when rewriting your <code>v2</code> or  <code>not v2</code> hypothesis, keep a copy of it, it helps when you need to come back for a contradiction. (Is there a tactic in Lean dedicated to making a copy of a hypothesis? I relied on <code>have h' := h</code>)</p>",
        "id": 484863069,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1732782345
    }
]