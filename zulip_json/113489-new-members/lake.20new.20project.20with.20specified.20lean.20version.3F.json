[
    {
        "content": "<p>Hi is there an option for <code>lake new &lt;ProjectName&gt;</code> with specified lean version? Currently it seems always the stable version</p>",
        "id": 498676815,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1739167517
    },
    {
        "content": "<p>One possible way I've used before is to manually modify the lakefile. For example, if you're using a lakefile.toml, then you can probably change the corresponding section to<br>\n[[require]]<br>\nname = \"mathlib\"<br>\nscope = \"leanprover-community\"<br>\nrev = \"v4.15.0\"</p>",
        "id": 498711186,
        "sender_full_name": "Wang Jingting",
        "timestamp": 1739180412
    },
    {
        "content": "<p>Yeah currently I find only the manual way too</p>",
        "id": 498713675,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1739181060
    },
    {
        "content": "<p>In combination with elan, you can use e.g. <code>lake +4.15.0 new ...</code>, though that does not (currently) affect the Mathlib version used by the <code>math</code> template</p>",
        "id": 498719015,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1739182443
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> Might be a good idea to point out this elan feature in <code>lake new --help</code></p>",
        "id": 498719159,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1739182479
    },
    {
        "content": "<p>wow awesome! Yeah <code>lake new -h</code> doesnâ€™t show this</p>",
        "id": 498719281,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1739182503
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span> This was a small change, so a PR with is up at <a href=\"https://github.com/leanprover/lean4/pull/7024\">lean4#7024</a>.</p>",
        "id": 498808072,
        "sender_full_name": "Mac Malone",
        "timestamp": 1739205122
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315577\">Mac Malone</span> <a href=\"#narrow/stream/113489-new-members/topic/lake.20new.20project.20with.20specified.20lean.20version.3F/near/498808072\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> This was a small change, so a PR with is up at <a href=\"https://github.com/leanprover/lean4/pull/7024\">lean4#7024</a>.</p>\n</blockquote>\n<p>Hi I saw that the PR also change the doc for default configuration from lean to toml. Which version is it switched?</p>",
        "id": 498927692,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1739249183
    },
    {
        "content": "<p>4.13.0 (<a href=\"https://github.com/leanprover/lean4/pull/5504\">lean4#5504</a>)</p>",
        "id": 498975218,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1739269621
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/stream/113489-new-members/topic/lake.20new.20project.20with.20specified.20lean.20version.3F/near/498975218\">said</a>:</p>\n<blockquote>\n<p>4.13.0</p>\n</blockquote>\n<p>Thanks!</p>",
        "id": 498975320,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1739269650
    },
    {
        "content": "<p>This is not working for me. In MacOS, lake is ignoring the flag for version v4.15.0</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">15</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"n\">new</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">math</span>\n<span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">test</span>\n<span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">18</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n</code></pre></div>",
        "id": 504210327,
        "sender_full_name": "Alexandre Rademaker",
        "timestamp": 1741393275
    },
    {
        "content": "<p>It is even worst. I executed </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">15</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"n\">init</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">math</span>\n</code></pre></div>\n<p>It ignored me but I edited the lean-toolchain changing to version v4.15.0. But when I build:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">creating</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">scratch</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"mi\">7590675</span><span class=\"n\">dfaa93de9844d39fe9c13106c327456e0'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">updating</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">18</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">restarting</span><span class=\"w\"> </span><span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">via</span><span class=\"w\"> </span><span class=\"n\">Elan</span>\n<span class=\"bp\">...</span>\n</code></pre></div>",
        "id": 504211550,
        "sender_full_name": "Alexandre Rademaker",
        "timestamp": 1741394068
    },
    {
        "content": "<p>I said it doesn't currently work for <code>math</code> so I don't know why you expect the opposite. <span class=\"user-mention\" data-user-id=\"750070\">@Wang Jingting</span> gave the correct answer for it.</p>",
        "id": 504240328,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1741414250
    },
    {
        "content": "<p>You cannot use an arbitrary version of mathlib with your chosen version of lean. You need to pick the version of mathlib that matches, like <span class=\"user-mention silent\" data-user-id=\"750070\">Wang Jingting</span> says</p>",
        "id": 504248165,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1741420696
    },
    {
        "content": "<p>I am sorry <span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span>, I didn't pay attention to the <span class=\"user-mention\" data-user-id=\"750070\">@Wang Jingting</span> 's message. I missed the <code>rev</code> key.</p>",
        "id": 504266723,
        "sender_full_name": "Alexandre Rademaker",
        "timestamp": 1741433394
    }
]