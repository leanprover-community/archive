[
    {
        "content": "<p>Recently I'm trying to use lean4 to prove that sqrt(2) is irrational and I think I'm in the last step. Below is a part of my work.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">sqrt_2_irrational</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_contra</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">natAbs</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hm</span>\n<span class=\"w\">    </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">den</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hn</span>\n</code></pre></div>\n<p>I have  proved <code>2|n</code> and <code>2|m</code>. I omit them because they are terrible. And now I'm trying to prove <code>have hcop:m.Coprime n</code> so I can <code>exact Nat.not_coprime_of_dvd_of_dvd (by norm_num) hmeven hneven hcop</code>. However, the reference material written in lean3 use <code>have hcop := p.cop</code> but it seems that there is no such thing or at least not in Rat.Defs. So my problem is how to prove <code>m.Coprime n</code>.</p>",
        "id": 499904088,
        "sender_full_name": "polaris",
        "timestamp": 1739616708
    },
    {
        "content": "<p>It seems it's called <code>reduced</code> now <a href=\"https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Rat/Basic.html#Rat.reduced\">https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Rat/Basic.html#Rat.reduced</a></p>",
        "id": 499904420,
        "sender_full_name": "Giacomo Stevanato",
        "timestamp": 1739617008
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"728068\">Giacomo Stevanato</span> <a href=\"#narrow/channel/113489-new-members/topic/p.2Enum.2ECoprime.20p.2Eden/near/499904420\">said</a>:</p>\n<blockquote>\n<p>It seems it's called <code>reduced</code> now <a href=\"https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Rat/Basic.html#Rat.reduced\">https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Rat/Basic.html#Rat.reduced</a></p>\n</blockquote>\n<p>thanks a lot , <code>reduced</code> is exactly what I need</p>",
        "id": 499904959,
        "sender_full_name": "polaris",
        "timestamp": 1739617541
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"877733\">polaris</span> has marked this topic as resolved.</p>",
        "id": 499904966,
        "sender_full_name": "Notification Bot",
        "timestamp": 1739617547
    }
]