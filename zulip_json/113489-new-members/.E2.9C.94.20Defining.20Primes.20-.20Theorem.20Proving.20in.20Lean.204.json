[
    {
        "content": "<p>Hi all,</p>\n<p>I'm trying to define the below for one of the Chapter 4 exercises:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I know that earlier, <em>divides</em> was defined as such:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">divides</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"bp\">*</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span>\n</code></pre></div>\n<p>I want to use this in my <em>prime</em> definition, but am unsure how to do so without rewriting the above code and using divides in the prime definition, which I don't know if it is allowed - it is normally implied that only the <strong>sorry</strong> part should be changed.</p>",
        "id": 491345808,
        "sender_full_name": "Golden",
        "timestamp": 1735604248
    },
    {
        "content": "<p>Out of curiosity, is there a particular reason why you need to do this for the chapter 4 exercises? </p>\n<p>If you are curious to see how Mathlib does it, you can go into the definition which requires p to be Irreducible over the natural numbers and diving deeper into that says that more generally in a Monoid, p cannot be a unit and for any choice of elements a and b, p = a * b implies either a or b is the unit. Here's the code I am referencing below:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Irreducible</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Monoid</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- `p` is not a unit -/</span>\n<span class=\"w\">  </span><span class=\"n\">not_unit</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">IsUnit</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- if `p` factors then one factor is a unit -/</span>\n<span class=\"w\">  </span><span class=\"n\">isUnit_or_isUnit'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">IsUnit</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">IsUnit</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>\n<p>This should help a bit to define what you need.</p>",
        "id": 491346576,
        "sender_full_name": "Marco Campos",
        "timestamp": 1735604873
    },
    {
        "content": "<p>Sure use <code>divides</code> in your definition of <code>prime</code>. Don't forget that 0 and 1 aren't prime, this is the most common mistake in the answer to this question</p>",
        "id": 491381506,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735634783
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815814\">Golden</span> has marked this topic as resolved.</p>",
        "id": 491391064,
        "sender_full_name": "Notification Bot",
        "timestamp": 1735641745
    }
]