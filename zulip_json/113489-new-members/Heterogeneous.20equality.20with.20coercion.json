[
    {
        "content": "<p>Hi! I'm trying to finish a lemma of heterogeneous equality, and I've gotten to where the goal is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">HEq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Sigma</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"o\">(</span><span class=\"n\">Sigma</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>The proof containing this is probably to long to post in full, but the necessary info is that (Sigma.snd a) is a function with range { x // x ∈ α_nonzero }, and the second term in the goal is being coerced to type α. α here is a finite alphabet, and α_nonzero is α without its 0 element.</p>\n<p>Is there a nice way to show that two objects that are identical up to coercion are heterogeneously equal? Thanks!</p>",
        "id": 477586283,
        "sender_full_name": "Ryan Whitty",
        "timestamp": 1729234615
    },
    {
        "content": "<p>I'm not sure that's true. Question is, how did you get here and can you back out to a point where you're not dealing with HEq?</p>",
        "id": 477588712,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1729235403
    },
    {
        "content": "<p>Thanks for the quick response! I'm not sure I can avoid using HEq, since the things I'm trying to show equality with originally have different types. What are you not sure is true?</p>",
        "id": 477692970,
        "sender_full_name": "Ryan Whitty",
        "timestamp": 1729269508
    },
    {
        "content": "<p>Note that HEq also implies that the types are equal. Could you send a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> of where you need the heterogeneous equality?</p>",
        "id": 477709861,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1729276539
    },
    {
        "content": "<p><code>extract_goal</code> might help if it doesn't get confused by coercions</p>",
        "id": 477710553,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1729276824
    }
]