[
    {
        "content": "<p>The following two examples differ only in how the number 13 is specified:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Odd</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; -- 13 is integer</span>\n<span class=\"w\">  </span><span class=\"n\">dsimp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Odd</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"mi\">6</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"mi\">13</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"c1\">-- shorter version</span>\n\n<span class=\"kn\">example</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Odd</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; 13 is assumed to be natural ????</span>\n<span class=\"w\">  </span><span class=\"n\">dsimp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Odd</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"mi\">13</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>\n<p><strong>Question 1</strong>: Is <code>(13:ℤ)</code> the correct way to specify 13 as an integer ?</p>\n<p><strong>Question 2</strong>: is it 100% safe to assume that numbers that look like naturals or integers, but have no specifier, are always set to ℕ ?</p>",
        "id": 475966111,
        "sender_full_name": "rzeta0",
        "timestamp": 1728511372
    },
    {
        "content": "<p>It is safe to assume, but you can also hover over them <del>in the infoview</del> to confirm!</p>",
        "id": 475969086,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728512874
    },
    {
        "content": "<p>I had missed your Q1.  What you wrote is \"correct\" and also what is normally done in mathlib, except for spacing: I think that <code>(13 : ℤ)</code> is more common.</p>",
        "id": 475972132,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728514516
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 475974445,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728515576
    },
    {
        "content": "<p>In <code>example : Real.pi &lt; 37</code>, the <code>37</code> is not a <code>ℕ</code></p>",
        "id": 475974698,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728515729
    },
    {
        "content": "<p>... and here they all are: <code>example : 1 / 2 = 0 := rfl</code>.  <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 475975345,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728516103
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113489-new-members/topic/.E2.9C.94.20is.20it.20safe.20to.20assume.20mathlib.2Flean.20defaults.20numbers.20to.20.E2.84.95/near/475974698\">said</a>:</p>\n<blockquote>\n<p>In <code>example : Real.pi &lt; 37</code>, the <code>37</code> is not a <code>ℕ</code></p>\n</blockquote>\n<p>is that because lean will <em>upcast</em> (to float) rather than <strong>downcast</strong> to natural, whenever it can?</p>\n<p>so <code>37 &gt; Real.pi</code> means 37 is a float even though 37 was parsed first?</p>",
        "id": 476108120,
        "sender_full_name": "rzeta0",
        "timestamp": 1728559332
    },
    {
        "content": "<p>(Real number, not float)</p>",
        "id": 476109972,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728559929
    },
    {
        "content": "<p>I think more precisely, there is no casting here. Instead, <code>37</code> is a numerical expression that is elaborated into a term of a type. And the elaboration is informed by the other terms in the expression. The elaboration of the numerical expression is able to use the fact that Real.pi is clearly an expression that elaborates to a fixed type (Real), and &lt; is a binary relation that should have terms of the same type on both sides.</p>",
        "id": 476112003,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1728560602
    },
    {
        "content": "<p>And, since the reals are a number system where 0, 1, addition, etc make sense (a semiring), 37 is elaborated as the direct numeric term (37 : Real), not as some cast of the naturals into the reals, which would be a term ((37 : Nat) : Real)</p>",
        "id": 476112339,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1728560712
    },
    {
        "content": "<p>So, yes, 37 was parsed first, but parsing in Lean only makes expressions, which then have an additional step compared to many other languages -- elaboration. (I'm skipping the distinction of Syntax and Expr in my explanation)</p>",
        "id": 476112655,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1728560815
    },
    {
        "content": "<p>So to answer your question 2, a naked numeral is a Nat when there is nothing around to inform it to elaborate differently.</p>",
        "id": 476112934,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1728560890
    }
]