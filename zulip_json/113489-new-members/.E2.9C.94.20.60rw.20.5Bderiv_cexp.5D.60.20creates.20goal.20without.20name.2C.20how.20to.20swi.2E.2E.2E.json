[
    {
        "content": "<p>Silly question: given </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span> <span class=\"n\">Complex</span>\n<span class=\"kn\">open</span> <span class=\"n\">Real</span>\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span> <span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">deriv</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">r</span><span class=\"o\">:</span><span class=\"n\">ℂ</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">cexp</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">π</span> <span class=\"bp\">*</span> <span class=\"n\">r</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">)))</span> <span class=\"n\">t</span> <span class=\"bp\">=</span> <span class=\"n\">cexp</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">π</span> <span class=\"bp\">*</span> <span class=\"n\">t</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">))</span> <span class=\"bp\">*</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">π</span> <span class=\"bp\">*</span> <span class=\"n\">t</span><span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">deriv_cexp</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Current state is </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">unsolved</span> <span class=\"n\">goals</span>\n<span class=\"n\">t</span><span class=\"o\">:</span> <span class=\"n\">ℂ</span>\n<span class=\"bp\">⊢</span> <span class=\"n\">cexp</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">π</span> <span class=\"bp\">*</span> <span class=\"n\">t</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">))</span> <span class=\"bp\">*</span> <span class=\"n\">deriv</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">r</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">π</span> <span class=\"bp\">*</span> <span class=\"n\">r</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">))</span> <span class=\"n\">t</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span>\n\n<span class=\"n\">t</span><span class=\"o\">:</span> <span class=\"n\">ℂ</span>\n<span class=\"bp\">⊢</span> <span class=\"n\">DifferentiableAt</span> <span class=\"n\">ℂ</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">r</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">π</span> <span class=\"bp\">*</span> <span class=\"n\">r</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">))</span> <span class=\"n\">t</span>\n</code></pre></div>\n<p>Usually I'd get the <code>DifferentiableAt</code> be called <code>hf</code> or something but it seems that <code>deriv_cexp</code> unlike <code>deriv_add/mul/pow</code> doesn't name its required hypothesis? How do I switch to this goal so I can close it?</p>",
        "id": 405023632,
        "sender_full_name": "Nicholas Wilson",
        "timestamp": 1701319792
    },
    {
        "content": "<p>Usually I'd just close the first one and then the second, but I'm in a <code>conv</code> so I need to close the second one before I leave the <code>conv</code> and the main goal is unfinished at this point.</p>",
        "id": 405026592,
        "sender_full_name": "Nicholas Wilson",
        "timestamp": 1701320678
    },
    {
        "content": "<p>Normally you could use <code>swap</code>, but conv mode doesn't seem to have it.</p>\n<p>What you could do is <code>rfl</code> the first conv goal to get to the goal you want to handle. You could wrap the <code>rw</code> in a <code>conv =&gt; ...</code> so that you can return to the first goal after handling the DifferentiableAt goal.</p>",
        "id": 405031711,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1701322491
    },
    {
        "content": "<p>So something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">conv</span> <span class=\"bp\">=&gt;</span>\n  <span class=\"bp\">...</span>\n  <span class=\"n\">conv</span> <span class=\"bp\">=&gt;</span>\n    <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">deriv_cexp</span><span class=\"o\">]</span>\n    <span class=\"n\">rfl</span>\n    <span class=\"n\">tactic</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">...</span> <span class=\"c1\">-- handle DifferentiableAt</span>\n  <span class=\"c1\">-- back to result of `rw`</span>\n  <span class=\"bp\">...</span>\n</code></pre></div>",
        "id": 405031873,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1701322546
    },
    {
        "content": "<p>thanks that worked!</p>",
        "id": 405032473,
        "sender_full_name": "Nicholas Wilson",
        "timestamp": 1701322729
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"663331\">Nicholas Wilson</span> has marked this topic as resolved.</p>",
        "id": 405032507,
        "sender_full_name": "Notification Bot",
        "timestamp": 1701322740
    }
]