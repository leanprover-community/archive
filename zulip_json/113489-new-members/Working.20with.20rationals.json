[
    {
        "content": "<p>How do I work with rationals? I don't know how to do something as simple as:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">+</span><span class=\"mi\">3</span><span class=\"o\">:</span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 543063043,
        "sender_full_name": "Nathan",
        "timestamp": 1759558419
    },
    {
        "content": "<p>simp doesn't work</p>",
        "id": 543063060,
        "sender_full_name": "Nathan",
        "timestamp": 1759558438
    },
    {
        "content": "<p><code>norm_num</code> should work</p>",
        "id": 543063238,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1759558693
    },
    {
        "content": "<p>aha, thanks <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span></p>",
        "id": 543063561,
        "sender_full_name": "Nathan",
        "timestamp": 1759559070
    },
    {
        "content": "<p>what about this? <code>example (a b : ℚ) : a*b/a = b := sorry</code></p>",
        "id": 543065443,
        "sender_full_name": "Nathan",
        "timestamp": 1759561059
    },
    {
        "content": "<p>It's not true! (If a is zero)</p>",
        "id": 543068195,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1759564118
    },
    {
        "content": "<p>But I'd hope that <code>by apply?</code> finds something useful</p>",
        "id": 543068225,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1759564150
    },
    {
        "content": "<p>oh yeah true, if i add the hypothesis then maybe that will help <code>apply?</code> out</p>",
        "id": 543090286,
        "sender_full_name": "Nathan",
        "timestamp": 1759586737
    },
    {
        "content": "<p>yes, try this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Batteries</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Rat</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">Lemmas</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">field_simp</span>\n</code></pre></div>",
        "id": 543098142,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1759593590
    },
    {
        "content": "<p>or using <code>exact?</code>, you get :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">mul_div_cancel_left₀</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>",
        "id": 543098287,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1759593689
    },
    {
        "content": "<p>oh field_simp is great, thanks</p>",
        "id": 543102655,
        "sender_full_name": "Nathan",
        "timestamp": 1759597545
    },
    {
        "content": "<p>in the same vein of <code>field_simp</code>, you have <code>ring</code>, <code>noncomm_ring</code>, <code>module</code>, <code>abel</code>, <code>group</code> depending on your use case.</p>",
        "id": 543103843,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1759598623
    },
    {
        "content": "<p>to find which one solves your goal, you can use <code>hint</code> or <code>try?</code>. <code>try?</code> will come up with more <code>complex</code> tactics than <code>hint</code> in my experience</p>",
        "id": 543104200,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1759598940
    },
    {
        "content": "<p>i feel like i'm starting to get the hang of this</p>",
        "id": 543121971,
        "sender_full_name": "Nathan",
        "timestamp": 1759618859
    },
    {
        "content": "<p>maybe i'll just post here rather than open a new topic...</p>\n<p>is there any way to convert a sum over a Fin into a sum over a Finset? I wrote half my code one way, and half the other. now i need to connect them...</p>\n<p><code>example (k : ℕ) (f : ℕ → ℚ) : ∑ i ∈ Finset.Ico 0 k, f i = ∑ i : Fin k, f i := sorry</code></p>",
        "id": 543131486,
        "sender_full_name": "Nathan",
        "timestamp": 1759632096
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"968025\">Nathan</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20rationals/near/543131486\">said</a>:</p>\n<blockquote>\n<p>maybe i'll just post here rather than open a new topic...</p>\n<p>is there any way to convert a sum over a Fin into a sum over a Finset? I wrote half my code one way, and half the other. now i need to connect them...</p>\n<p><code>example (k : ℕ) (f : ℕ → ℚ) : ∑ i ∈ Finset.Ico 0 k, f i = ∑ i : Fin k, f i := sorry</code></p>\n</blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sum_range#doc\">docs#Finset.sum_range</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.range_eq_Ico#doc\">docs#Finset.range_eq_Ico</a></p>",
        "id": 543131606,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759632240
    },
    {
        "content": "<p>oh wow, thanks <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span> thought i would have to rewrite it so everything was in Finsets <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> probably should anyway, but i just want to get it working first</p>",
        "id": 543131761,
        "sender_full_name": "Nathan",
        "timestamp": 1759632431
    },
    {
        "content": "<p>why might i get <code>Unknown identifier 'range'</code>? i'm importing all of Mathlib</p>",
        "id": 543131918,
        "sender_full_name": "Nathan",
        "timestamp": 1759632679
    },
    {
        "content": "<p>oh duh i just need <code>Finset.range</code></p>",
        "id": 543132055,
        "sender_full_name": "Nathan",
        "timestamp": 1759632876
    }
]