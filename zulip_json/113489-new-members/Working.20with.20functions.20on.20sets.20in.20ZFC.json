[
    {
        "content": "<p>Hello, I am taking an axiomatic set theory course and saw it as an opportunity to learn lean by formalizing some of the homework assignments using <code>Mathlib.SetTheory.ZFC</code>. </p>\n<p>Without revealing the homework,  I define <code>A B : ZFSet</code> and a function <code>f : A ‚Üí B</code> (which then gets coerced to <code>‚Ü•A ‚Üí ‚Ü•B</code>). I then require the image of this function, so I attempted to use: <code>ZFSet.image f A</code>, however this does not work as <code>f</code> needs to be a function from <code> ZFSet.{u} ‚Üí ZFSet.{u}</code>.  </p>\n<p>From my understanding, I think there's a bigger issue in defining a function like this since <code>f</code> is expected to take in elements of <code>‚Ü•A </code>, but since <code>A</code> is a <code>ZFSet</code> it only contains <code>ZFSet</code>s of a lower type universe.  Is there an expected way to work with functions in ZFC that I'm not seeing? <code>Mathlib.SetTheory.ZFC.Basic</code> defines functions as a subset of the cartesian product of the domain and codomain by <code>ZFSet.IsFunc</code>, but I don't see how I can perform function application with this since it is of type <code>ZFSet</code>.</p>",
        "id": 575111448,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771705373
    },
    {
        "content": "<p>What's the specific problem? Can you create a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> ?</p>",
        "id": 575111737,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771705707
    },
    {
        "content": "<p>You might be looking for the <code>range</code> function rather than <code>image</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">ZFC</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">section</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">range_of_f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span>\n</code></pre></div>",
        "id": 575112462,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771706510
    },
    {
        "content": "<p>I don't want to state the specific problem as this is a graded homework exercise.</p>\n<p>I don't have much of an MWE I can form without actually defining the image (or coming up with some other problem I can formulate that requires the image), which I don't know how to.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">ZFC</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">exercise</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">),</span><span class=\"w\">  </span><span class=\"c\">/-</span><span class=\"cm\"> Some theorem that needs the image of f, e.g. the image of f is a subset of B, how would one represent the image of f? -/</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 575112552,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771706612
    },
    {
        "content": "<p>If you're okay with using regular sets you can do:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">range_of_f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span>\n</code></pre></div>",
        "id": 575112579,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771706648
    },
    {
        "content": "<p>Makes sense, I was hoping I could do this with <code>ZFSet</code> since the problems are explicitly in ZFC set theory</p>",
        "id": 575112639,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771706740
    },
    {
        "content": "<p>Yes but I believe <code>ZFSet</code> is more fit for a logic course rather than an introductory set theory course</p>",
        "id": 575112681,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771706791
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1031881\">Moham Balfakeih</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575112552\">said</a>:</p>\n<blockquote>\n<p>I don't want to state the specific problem as this is a graded homework exercise.</p>\n</blockquote>\n<p>I meant the specific problem you're having, not the exercise. It's hard to understand what you want exactly without knowing what you're going to do with it.<br>\nCan you perhaps make up some problem that has similar requirements to the homework?</p>",
        "id": 575112690,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771706804
    },
    {
        "content": "<p>You can do something like <code>def g : ZFSet ‚Üí ZFSet := fun x =&gt; if hx : x ‚àà A then f ‚ü®x, hx‚ü© else ‚àÖ</code> (<code>‚àÖ</code> can be replaced by any junk value) and then write <code>ZFSet.image g A</code></p>",
        "id": 575113321,
        "sender_full_name": "Dexin Zhang",
        "timestamp": 1771707668
    },
    {
        "content": "<p>I believe this is a similar enough problem, except in my original problem I want the domain of <code>g</code> to be the image of <code>f</code>.  I then want to use that information to construct <code>g</code> (a problem I was planning on dealing with after I figured out how to get the image <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> )</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">ZFC</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">bij_implies_bij</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Surjective</span>\n<span class=\"w\">  </span><span class=\"n\">rintro</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">hfi</span><span class=\"o\">,</span><span class=\"n\">hfs</span><span class=\"bp\">‚ü©</span>\n<span class=\"w\">  </span><span class=\"n\">exists</span><span class=\"w\"> </span><span class=\"bp\">...</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\"> construction of g -/</span>\n</code></pre></div>",
        "id": 575113329,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771707672
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"734814\">Dexin Zhang</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575113321\">said</a>:</p>\n<blockquote>\n<p>You can do something like <code>def g : ZFSet ‚Üí ZFSet := fun x =&gt; if hx : x ‚àà A then f ‚ü®x, hx‚ü© else ‚àÖ</code> (<code>‚àÖ</code> can be replaced by any junk value) and then write <code>ZFSet.image g A</code></p>\n</blockquote>\n<p>With this I get the error <code>failed to synthesize instance of type class Decidable (x ‚àà A)</code>.</p>\n<p>Full code:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">ZFC</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">}</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"bp\">‚àÖ</span>\n</code></pre></div>",
        "id": 575114145,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771708616
    },
    {
        "content": "<p>you can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ZFSet.range#doc\">docs#ZFSet.range</a></p>",
        "id": 575114333,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771708845
    },
    {
        "content": "<p>but also I would suggest not using <code>ZFSet</code> at all and just using types</p>",
        "id": 575114351,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771708872
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1031881\">Moham Balfakeih</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114145\">said</a>:</p>\n<blockquote>\n<p>With this I get the error <code>failed to synthesize instance of type class Decidable (x ‚àà A)</code>.</p>\n</blockquote>\n<p>Then you can <code>open Classical</code> and write <code>noncomputable def</code></p>",
        "id": 575114483,
        "sender_full_name": "Dexin Zhang",
        "timestamp": 1771709092
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114351\">said</a>:</p>\n<blockquote>\n<p>but also I would suggest not using <code>ZFSet</code> at all and just using types</p>\n</blockquote>\n<p>The class is explicitly about ZFC.</p>",
        "id": 575114519,
        "sender_full_name": "James E Hanson",
        "timestamp": 1771709148
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"734814\">Dexin Zhang</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114483\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"1031881\">Moham Balfakeih</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114145\">said</a>:</p>\n<blockquote>\n<p>With this I get the error <code>failed to synthesize instance of type class Decidable (x ‚àà A)</code>.</p>\n</blockquote>\n<p>Then you can <code>open Classical</code> and write <code>noncomputable def</code></p>\n</blockquote>\n<p>That still doesn't allow me to use<code>ZFSet.image</code> as it can't synthesize the typeclass <code> ZFSet.Definable‚ÇÅ g</code></p>\n<p>Full code:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">ZFC</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Classical</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">}</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"bp\">‚àÖ</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">image_of_g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div>",
        "id": 575114954,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771709719
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114333\">said</a>:</p>\n<blockquote>\n<p>you can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ZFSet.range#doc\">docs#ZFSet.range</a></p>\n</blockquote>\n<p>That takes a function that goes from a type to a set though, while with my current implementation I would need something that goes from one type to another, with both of those types being<code>ZFSet</code></p>",
        "id": 575115103,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771709916
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1031881\">Moham Balfakeih</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114954\">said</a>:</p>\n<blockquote>\n<p>That still doesn't allow me to use<code>ZFSet.image</code> as it can't synthesize the typeclass <code> ZFSet.Definable‚ÇÅ g</code></p>\n</blockquote>\n<p>Yeah, unfortunately you need to do</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">image_of_g</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">allZFSetDefinable</span>\n<span class=\"w\">  </span><span class=\"n\">ZFSet</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div>",
        "id": 575115178,
        "sender_full_name": "Dexin Zhang",
        "timestamp": 1771710002
    },
    {
        "content": "<p>I don't know why <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Classical.allZFSetDefinable#doc\">docs#Classical.allZFSetDefinable</a> is not <code>scoped instance</code></p>",
        "id": 575115226,
        "sender_full_name": "Dexin Zhang",
        "timestamp": 1771710059
    },
    {
        "content": "<p>You could make it an instance like this to avoid having to write that possibly multiple times:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">ZFC</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZFSet</span><span class=\"bp\">.</span><span class=\"n\">Definable</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"bp\">.</span><span class=\"n\">allZFSetDefinable</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>",
        "id": 575115303,
        "sender_full_name": "James E Hanson",
        "timestamp": 1771710155
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114519\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575114351\">said</a>:</p>\n<blockquote>\n<p>but also I would suggest not using <code>ZFSet</code> at all and just using types</p>\n</blockquote>\n<p>The class is explicitly about ZFC.</p>\n</blockquote>\n<p>Seeing one of the examples of a \"similar problem\" <a class=\"message-link\" href=\"/#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575113329\">#new members &gt; Working with functions on sets in ZFC @ üí¨</a> being a theorem in mathlib that is proved without any mention of <code>ZFSet</code> leads me to believe it is not specifically about ZFC.</p>",
        "id": 575116637,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771711762
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575116637\">said</a>:</p>\n<blockquote>\n<p>Seeing one of the examples of a \"similar problem\" <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575113329\">#new members &gt; Working with functions on sets in ZFC @ üí¨</a> being a theorem in mathlib that is proved without any mention of <code>ZFSet</code> leads me to believe it is not specifically about ZFC.</p>\n</blockquote>\n<p>Sure, the content of such a problem isn't specifically a ZFC thing (just as how it isn't specifically a Lean thing), but the point is that Moham's class is working in ZFC.</p>",
        "id": 575117470,
        "sender_full_name": "James E Hanson",
        "timestamp": 1771712864
    },
    {
        "content": "<p>Every sensible math class works in ZFC, that doesn't mean we formalize using ZFC</p>",
        "id": 575117568,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771712982
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1031881\">Moham Balfakeih</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575111448\">said</a>:</p>\n<blockquote>\n<p>Hello, I am taking an axiomatic set theory course and saw it as an opportunity to learn lean by formalizing some of the homework assignments using <code>Mathlib.SetTheory.ZFC</code>.</p>\n</blockquote>\n<p>Honestly, if you goal is to try to stay close to the formalism of your class, I'm not sure Lean is right proof assistant to be using. <code>ZFSet</code> is fairly incomplete and, at least for the moment, you really need to understand its implementation (e.g., the notion of pre-sets) in order to work with it. It might be easier to work with Metamath, Isabelle/ZF, or Mizar at the end of the day.</p>",
        "id": 575119603,
        "sender_full_name": "James E Hanson",
        "timestamp": 1771715472
    },
    {
        "content": "<p>pre-sets are an implementation detail I've wanted to get rid of for years now, maybe now is the time I finally open that PR</p>",
        "id": 575122606,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1771719324
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575122606\">said</a>:</p>\n<blockquote>\n<p>pre-sets are an implementation detail I've wanted to get rid of for years now, maybe now is the time I finally open that PR</p>\n</blockquote>\n<p>How would you propose getting rid of pre-sets?</p>",
        "id": 575123944,
        "sender_full_name": "James E Hanson",
        "timestamp": 1771721078
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"904624\">@James E Hanson</span> I'm guessing it would be via <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=QPF#doc\">docs#QPF</a> as discussed in this thread: <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/ZFSet.20and.20computability/near/537988331\">#mathlib4 &gt; ZFSet and computability @ üí¨</a></p>",
        "id": 575135573,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1771735116
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575119603\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"1031881\">Moham Balfakeih</span> <a href=\"#narrow/channel/113489-new-members/topic/Working.20with.20functions.20on.20sets.20in.20ZFC/near/575111448\">said</a>:</p>\n<blockquote>\n<p>Hello, I am taking an axiomatic set theory course and saw it as an opportunity to learn lean by formalizing some of the homework assignments using <code>Mathlib.SetTheory.ZFC</code>.</p>\n</blockquote>\n<p>Honestly, if you goal is to try to stay close to the formalism of your class, I'm not sure Lean is right proof assistant to be using. <code>ZFSet</code> is fairly incomplete and, at least for the moment, you really need to understand its implementation (e.g., the notion of pre-sets) in order to work with it. It might be easier to work with Metamath, Isabelle/ZF, or Mizar at the end of the day.</p>\n</blockquote>\n<p>Yeah that makes sense, I'll look into that, thanks for all the help!</p>",
        "id": 575157006,
        "sender_full_name": "Moham Balfakeih",
        "timestamp": 1771761004
    }
]