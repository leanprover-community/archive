[
    {
        "content": "<p>One of the things I've become very conscious of over the last few months learning lean+mathlib to do simple maths proofs is the relatively poor ability to find lemmas, theorems and definitions that you don't already know about.</p>\n<p>I'm aware of loogle and also moogle. From using both my sense is that loogle does straight forward \"text matching\" search. I've heard that moogle uses more sophisticated algorithms (AI?!) but that's not what I experience when I use it.</p>\n<p>So I did some initial thinking about what could be done to improve the situation:</p>\n<ol>\n<li>I think a search engine that is designed for searching lemmas/theorems/definitions would be helpful. </li>\n</ol>\n<ul>\n<li>\n<ul>\n<li>From a bottom-up perspective that would mean searching for \"a power b\" and the search engine returning content with \"x power y\".  Variable names should be transparent to this search engine - just one example of an optimisation.</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>From a top-down perspective, it would have an ontological understanding of things like domains (sets, functions, relations, groups, trigonometry, topology, ... ) and also of types eg Nat, Prop etc. I should be able to search for a Nat version of a theorem, for example.</li>\n</ul>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Perhaps the source content could be better organised to reflect this ontology better, to make it both (1) easier to navigate, and (2) easier to index. When I see the \"topic index\" on the documentation pages, it doesn't seem that clearly organised. Similar ideas seem to be sometimes in separate libraries - which is ok, but a conceptual map would bring them together.</li>\n</ol>\n<p>I suspect others have thought about this issue a lot more than I have. Perhaps some undergrads have been doing summer projects to build prototypes of such ideas?</p>",
        "id": 503166634,
        "sender_full_name": "rzeta0",
        "timestamp": 1741056140
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> <a href=\"#narrow/channel/113489-new-members/topic/thoughts.20on.20a.20search.20engine.20for.20mathlib/near/503166634\">said</a>:</p>\n<blockquote>\n<p>my sense is that loogle does straight forward \"text matching\" search</p>\n</blockquote>\n<p>No, this is not at all what loogle is doing. It's more sophisticated. It searches for terms within expressions. It can <em>also</em> search the text within the declaration name, but that's not it's primary utility.</p>",
        "id": 503168827,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741057345
    },
    {
        "content": "<p>In fact, I would argue that loogle does most of what you request already.</p>",
        "id": 503168975,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741057437
    },
    {
        "content": "<p>For example, this finds all declarations which somewhere mention <code>a ^ b</code> where <code>a b : ℕ</code>. There are a lot of hits because this is ubiquitous. Note that the variable names have no effect.</p>\n<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> (?a : ℕ) ^ (?b : ℕ)</p>",
        "id": 503169308,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741057641
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Group/Nat/Even.html#Nat.even_pow%27\">Nat.even_pow'</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Group/Nat/Even.html#Nat.even_pow\">Nat.even_pow</a>, and <a href=\"https://loogle.lean-lang.org/?q=%28%3Fa%20%3A%20%E2%84%95%29%20%5E%20%28%3Fb%20%3A%20%E2%84%95%29\">844 more</a></p>",
        "id": 503169309,
        "sender_full_name": "loogle",
        "timestamp": 1741057642
    },
    {
        "content": "<p>This finds things related to Fermat numbers: <span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> 2 ^ (2 ^ (?n : ℕ)) + 1</p>",
        "id": 503169632,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741057824
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/NumberTheory/Fermat.html#Nat.fermatNumber.eq_1\">Nat.fermatNumber.eq_1</a></p>",
        "id": 503169635,
        "sender_full_name": "loogle",
        "timestamp": 1741057827
    }
]