[
    {
        "content": "<p>Is there a way to quickly go from e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">evenNonrec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>to the definition of % that applies in my current context?<br>\nIn 90% of the cases i do not want <code>go to definition</code> to show me <br>\n<code>macro_rules | `($x % $y)   =&gt; `(binop% HMod.hMod $x $y)</code>.<br>\nRather i want to see </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">instMod</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Mod</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">âŸ¨</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mod</span><span class=\"bp\">âŸ©</span>\n</code></pre></div>\n<p>or even </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">extern</span><span class=\"w\"> </span><span class=\"s2\">\"lean_nat_mod\"</span><span class=\"kd\">]</span>\n<span class=\"kn\">protected</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mod</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@&amp;</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"bp\">@&amp;</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"w\">  </span><span class=\"c\">/-</span>\n<span class=\"cm\">  Nat.modCore is defined by well-founded recursion and thus irreducible. Nevertheless it is</span>\n<span class=\"cm\">  desirable if trivial `Nat.mod` calculations, namely</span>\n<span class=\"cm\">  * `Nat.mod 0 m` for all `m`</span>\n<span class=\"cm\">  * `Nat.mod n (m+n)` for concrete literals `n`</span>\n<span class=\"cm\">  reduce definitionally.</span>\n<span class=\"cm\">  This property is desirable for `Fin n` literals, as it means `(ofNat 0 : Fin n).val = 0` by</span>\n<span class=\"cm\">  definition.</span>\n<span class=\"cm\">   -/</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">@</span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">â‰¤</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"c1\">-- NB: if n &lt; m does not reduce as well as `m â‰¤ n`!</span>\n<span class=\"w\">    </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">modCore</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span>\n<span class=\"w\">    </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">n</span>\n</code></pre></div>",
        "id": 530434878,
        "sender_full_name": "Moritz R",
        "timestamp": 1753305528
    },
    {
        "content": "<p>I think you might just have to wait for the next release in a couple weeks: <a class=\"message-link\" href=\"/#narrow/channel/116290-rss/topic/Recent.20Commits.20to.20lean4.3Amaster/near/529962677\">#rss &gt; Recent Commits to lean4:master @ ðŸ’¬</a></p>",
        "id": 530435061,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1753305607
    },
    {
        "content": "<p>perfect!</p>",
        "id": 530435175,
        "sender_full_name": "Moritz R",
        "timestamp": 1753305649
    }
]