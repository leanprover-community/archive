[
    {
        "content": "<p>I mean, do i have i good way to deal with it? I'm trying to prove a thing that... There's my goal:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Goals</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">)</span>\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left.h_1</span>\n<span class=\"n\">task</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tasks.Task</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Status</span>\n<span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">task.status</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">done</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"name\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"desc\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"n\">Task.mk</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">&lt;$&gt;</span>\n<span class=\"w\">          </span><span class=\"k\">match</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">done</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"Invalid format: \"</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"s2\">\"The received format was not even a string!\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">task</span>\n\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left.h_2</span>\n<span class=\"n\">task</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tasks.Task</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Status</span>\n<span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">task.status</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"name\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"desc\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"n\">Task.mk</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">&lt;$&gt;</span>\n<span class=\"w\">          </span><span class=\"k\">match</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">done</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"Invalid format: \"</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"s2\">\"The received format was not even a string!\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">task</span>\n\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left.h_3</span>\n<span class=\"n\">task</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tasks.Task</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Status</span>\n<span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">task.status</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"name\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"desc\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"n\">Task.mk</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">&lt;$&gt;</span>\n<span class=\"w\">          </span><span class=\"k\">match</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">done</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"Invalid format: \"</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"s2\">\"The received format was not even a string!\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">task</span>\n\n<span class=\"n\">Messages</span><span class=\"w\"> </span><span class=\"n\">here</span><span class=\"o\">:</span>\n<span class=\"mi\">174</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"o\">:</span>\n<span class=\"n\">unsolved</span><span class=\"w\"> </span><span class=\"n\">goals</span>\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left.h_2</span>\n<span class=\"n\">task</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tasks.Task</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Status</span>\n<span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">task.status</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"name\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"desc\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"n\">Task.mk</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">&lt;$&gt;</span>\n<span class=\"w\">          </span><span class=\"k\">match</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">done</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"Invalid format: \"</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"s2\">\"The received format was not even a string!\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">task</span>\n\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">left.h_3</span>\n<span class=\"n\">task</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tasks.Task</span>\n<span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Status</span>\n<span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">task.status</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"name\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">←</span>\n<span class=\"w\">        </span><span class=\"o\">((</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"desc\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">getStr</span><span class=\"bp\">?</span>\n<span class=\"w\">      </span><span class=\"n\">Task.mk</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"bp\">&lt;$&gt;</span>\n<span class=\"w\">          </span><span class=\"k\">match</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">obj</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Id.run</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RBNode.insert</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">RBNode.leaf</span><span class=\"w\"> </span><span class=\"s2\">\"name\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.name</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"s2\">\"desc\"</span>\n<span class=\"w\">                        </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">task.desc</span><span class=\"o\">))</span>\n<span class=\"w\">                      </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"o\">))))</span><span class=\"bp\">.</span><span class=\"n\">getObjValD</span>\n<span class=\"w\">              </span><span class=\"s2\">\"status\"</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"done\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">done</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"undone\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">undone</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"s2\">\"canceled\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">canceled</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"Invalid format: \"</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"bp\">++</span><span class=\"w\"> </span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Except.error</span><span class=\"w\"> </span><span class=\"s2\">\"The received format was not even a string!\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"n\">Except.ok</span><span class=\"w\"> </span><span class=\"n\">task</span>\n<span class=\"n\">Messages</span><span class=\"w\"> </span><span class=\"n\">below</span><span class=\"o\">:</span>\n<span class=\"n\">Messages</span><span class=\"w\"> </span><span class=\"n\">above</span><span class=\"o\">:</span>\n</code></pre></div>",
        "id": 512213178,
        "sender_full_name": "lorã",
        "timestamp": 1744686998
    },
    {
        "content": "<p>So i'm inside a <code>Except String _</code> <code>do</code></p>",
        "id": 512213212,
        "sender_full_name": "lorã",
        "timestamp": 1744687019
    },
    {
        "content": "<p>That was my try: </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">parser_task_correctness</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">task</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Task</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fromJson</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">toJson</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">task</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">ok</span><span class=\"w\"> </span><span class=\"n\">task</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">task</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Json</span><span class=\"o\">),</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fromJson</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"n\">task</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Except</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">Task</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">   </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">ok</span><span class=\"w\"> </span><span class=\"n\">task</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">toJson</span><span class=\"w\"> </span><span class=\"n\">task</span>\n<span class=\"w\">   </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\">   </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">task</span><span class=\"bp\">?</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">task</span><span class=\"bp\">?</span>\n<span class=\"w\">   </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"o\">{</span>\n\n<span class=\"w\">   </span><span class=\"n\">constructor</span>\n<span class=\"w\">   </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">task</span>\n<span class=\"w\">     </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">toJson</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">fromJson</span><span class=\"bp\">?</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mkObj</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">getObjValAs</span><span class=\"bp\">?</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">parser_task_correctness</span><span class=\"o\">]</span>\n<span class=\"w\">     </span><span class=\"n\">split</span>\n\n<span class=\"w\">     </span><span class=\"gr\">admit</span>\n<span class=\"o\">}</span>\n</code></pre></div>",
        "id": 512213258,
        "sender_full_name": "lorã",
        "timestamp": 1744687065
    },
    {
        "content": "<p><a href=\"https://github.com/JJoaoll/lean4-studies/blob/main/programs/todo_list/TodoList/Parser.lean\">theres a link</a> if it can help</p>",
        "id": 512286713,
        "sender_full_name": "lorã",
        "timestamp": 1744714005
    },
    {
        "content": "<p><code>do</code> is syntax sugar for <code>&gt;&gt;=</code></p>",
        "id": 512292704,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744715954
    },
    {
        "content": "<p>Aaron, what do you mean? It's a syntax sugar for many things! (a syntax cake, maybe?)</p>",
        "id": 512293261,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744716129
    },
    {
        "content": "<p>I mean when the pp pprints</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"w\">  </span><span class=\"n\">z</span>\n</code></pre></div>\n<p>then that means you are looking at <code>y &gt;&gt;= fun x =&gt; do z</code></p>",
        "id": 512294402,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744716485
    },
    {
        "content": "<p>And I think that's the only way to get the pp to output a <code>do</code></p>",
        "id": 512294553,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744716529
    },
    {
        "content": "<p>i wonder if something like an option <code>pp.doNotation</code> might be useful</p>",
        "id": 512294725,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744716593
    },
    {
        "content": "<p>i guess you can do <code>pp.notation false</code>, but then you also see <code>bind</code> instead of <code>&gt;&gt;=</code></p>",
        "id": 512295003,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744716673
    },
    {
        "content": "<p>From what I can see you are asking something impossible in <code>parser_task_correctness</code>:<br>\nLet's say <code>task? : Json</code> is <code>{\"status\": \"done\", \"name\": \"Hello, World!\", \"desc\": \"ABC\"}</code>, then we parse it and convert it back to Json: <code>{\"name\": \"Hello, World!\", \"desc\": \"ABC\", \"status\": \"done\"}</code> (which is different!). It gets worse when the input json contains redundant information: <code>{\"status\": \"done\", \"name\": \"Hello, World!\", \"desc\": \"ABC\", \"uhh\": \"why not\"}</code> which gets removed when doing fromJson and toJson.</p>",
        "id": 512995490,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1744965574
    }
]