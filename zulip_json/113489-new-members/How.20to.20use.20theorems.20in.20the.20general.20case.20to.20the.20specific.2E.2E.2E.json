[
    {
        "content": "<p>If I have proven something about a BooleanAlgebra, say, what is the proper leverage that proof for a special case of  Set X.  Where we know that the structure on Set X is a Boolean Algebra.  What follows in a MWE.  I know the specific result is actually in mathlib, so I know I can just use that.  I am interested in the correct way to do this in general.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n<span class=\"c1\">--set_option pp.explicit true</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BooleanAlgebra</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">AA</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">T_for_BAlg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\">  </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊥</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">compl_eq_top</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">T_for_set</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AA</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">univ</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">AA</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∅</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BooleanAlgebra</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">instBooleanAlgebraSet</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">T_for_BAlg</span><span class=\"w\"> </span><span class=\"n\">AA</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">top_eq_univ</span><span class=\"o\">,</span><span class=\"bp\">←</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">bot_eq_empty</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"c1\">--doesn't work</span>\n</code></pre></div>\n<p>If one uncomments the `(set_option pp.explicit true) line, then the goal is shown to be definitionally unequal to h2 but it seems like it should be.  Any help is appreciated.</p>",
        "id": 491821992,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735944469
    },
    {
        "content": "<p>Remove the <code>h1</code></p>",
        "id": 491822248,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1735944662
    },
    {
        "content": "<p>It's redundant (finding the instance is lean's job), and by using <code>have</code> rather than <code>let</code>, lean can no longer see that it's actually the same instance that comes up in <code>Set.bot_eq_empty</code> and friends</p>",
        "id": 491822402,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1735944765
    },
    {
        "content": "<p>Ok, that makes sense.  I thought that I tried it without my h2 line before.  Thanks for the help.</p>",
        "id": 491822549,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735944862
    },
    {
        "content": "<p>You are Dutch, correct?  Do you know any Van Vels there?</p>",
        "id": 491822602,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735944920
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519925\">Kent Van Vels</span> has marked this topic as resolved.</p>",
        "id": 491822710,
        "sender_full_name": "Notification Bot",
        "timestamp": 1735945000
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519925\">Kent Van Vels</span> has marked this topic as unresolved.</p>",
        "id": 491894454,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736013117
    }
]