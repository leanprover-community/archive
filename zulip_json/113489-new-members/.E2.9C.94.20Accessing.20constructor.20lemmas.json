[
    {
        "content": "<p>I have a lemma that's stated on a constructor <a href=\"https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Vector/Lemmas.html#Batteries.Vector.getElem_mk\">https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Vector/Lemmas.html#Batteries.Vector.getElem_mk</a>, but I want to apply it to a free variable. How do I make a conversion? Clearly, Lean knows all about constructor injectivity and cancelling out injections/projections, but there don't seem to be named lemmas? Am I supposed to write it like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">toArray</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">size_eq</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 479569251,
        "sender_full_name": "Alex Mobius",
        "timestamp": 1730237793
    },
    {
        "content": "<p>Doing <code>cases v</code> first would be the most common</p>",
        "id": 479569427,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1730237883
    },
    {
        "content": "<p>There's also not using this lemma and writing it correctly for your case, which would be <code>v[i] = v.data[i]</code></p>",
        "id": 479569541,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1730237950
    },
    {
        "content": "<p>There is, yeah; proving that is one <code>unfold_projs + simp_only</code> away. I was more asking for a time when proving the good version myself would be harder :)<br>\nThank you, I didn't think about <code>cases</code>; then <code>simp</code> can figure it out (although <code>rw</code> is having inexplicable trouble with \"finding the pattern\", probably a generalization issue)</p>",
        "id": 479570267,
        "sender_full_name": "Alex Mobius",
        "timestamp": 1730238299
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767265\">Alex Mobius</span> has marked this topic as resolved.</p>",
        "id": 479571063,
        "sender_full_name": "Notification Bot",
        "timestamp": 1730238665
    }
]