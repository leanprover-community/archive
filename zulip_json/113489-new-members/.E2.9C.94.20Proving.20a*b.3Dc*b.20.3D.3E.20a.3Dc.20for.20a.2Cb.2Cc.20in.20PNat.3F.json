[
    {
        "content": "<p>Is there any built-in theorem that proves that a<em>b=c</em>b =&gt; a=c over PNat? More generally speaking, how does one find if a theorem is already incorporated in mathlib, i.e., is there some kind of search engine for mathlib theorems?</p>",
        "id": 493272858,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736751448
    },
    {
        "content": "<p>There are search engines like loogle and moogle. You can look at the Mathlib docs, e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/PNat/Notation.html#PNat\">here</a> is the definition of PNat. And you can also search for theorems by using the <code>exact?</code> and <code>apply?</code> tactics. In your case, looking at the documentation link above, PNat is just a subtype of Nat (e.g. Nat with an additional hypothesis that it is positive) and the theorem for Nat would be <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Defs.html#Nat.mul_left_inj\">Nat.mul_left_inj</a>.<br>\nEDIT: deleted a sentence</p>",
        "id": 493280559,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1736754116
    },
    {
        "content": "<p>First step is to write it as a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>, and then you can use <code>by rw? at h</code></p>",
        "id": 493280818,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736754222
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> Thanks for the search engine names. Could you explain how I can use the theorem from  <code>Nat</code> over the objects from the <code>PNat</code> type?</p>",
        "id": 493301243,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736760416
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span>  Thanks, I only knew about  <code>apply? using</code>. I will try seeing if  <code>rw?</code> works for my problem</p>",
        "id": 493301800,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736760567
    },
    {
        "content": "<p>what you're looking for is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=mul_right_cancel#doc\">docs#mul_right_cancel</a></p>",
        "id": 493405457,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1736788893
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/channel/113489-new-members/topic/Proving.20a*b.3Dc*b.20.3D.3E.20a.3Dc.20for.20a.2Cb.2Cc.20in.20PNat.3F/near/493280559\">said</a>:</p>\n<blockquote>\n<p>And you can also search for theorems by using the <code>exact?</code> and <code>apply?</code> tactics.</p>\n</blockquote>\n<p>I didn't know this, thanks!</p>",
        "id": 493412761,
        "sender_full_name": "Nowhere Dense",
        "timestamp": 1736791092
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"380294\">@Matt Diamond</span> Thanks a lot, <code>exact mul_right_cancel h</code> was exactly what I was looking for! I now see that I can find something similar using  <code>rw?</code> (though <code>apply?</code> and <code>exact?</code> can’t find useful results in this case apparently). Is it true in general that most of the theorems can be found using <code>rw?, apply?, exact?</code>, if one can write the proper mwe for it?</p>\n<p>I was also wondering if we could use <code>Nat.mul_left_inj</code> here somehow, by coercing <code>PNat</code> to <code>Nat</code>. Is that possible?</p>",
        "id": 493413265,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736791234
    },
    {
        "content": "<p>maybe, though I'm curious why you would want to do that</p>",
        "id": 493413616,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1736791331
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"380294\">@Matt Diamond</span> Just out of curiosity. And also because I had found mul_left_inj long before, but couldn’t find any way to use it here, though it seemed applicable in my case</p>",
        "id": 493413893,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736791412
    },
    {
        "content": "<p>(also note that there's <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=mul_right_cancel_iff#doc\">docs#mul_right_cancel_iff</a> if you're looking for the iff version)</p>",
        "id": 493414138,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1736791472
    },
    {
        "content": "<p>Yes that’s what <code>rw?</code> found</p>",
        "id": 493414329,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736791536
    },
    {
        "content": "<p>Yes mul_right_cancel is the better option, I was mistaken to point out Nat.mul_left_inj. Since you asked, an example of doing it the wrong way and forcing it by casting through Nat is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PNat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">PNat</span><span class=\"bp\">.</span><span class=\"n\">eq</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"n\">PNat</span><span class=\"bp\">.</span><span class=\"n\">mul_coe</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"n\">PNat</span><span class=\"bp\">.</span><span class=\"n\">mul_coe</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PNat</span><span class=\"bp\">.</span><span class=\"n\">coe_inj</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">mul_left_inj</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">PNat</span><span class=\"bp\">.</span><span class=\"n\">ne_zero</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"n\">this</span>\n</code></pre></div>",
        "id": 493425608,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1736794780
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815044\">Soham Saha</span> <a href=\"#narrow/channel/113489-new-members/topic/Proving.20a*b.3Dc*b.20.3D.3E.20a.3Dc.20for.20a.2Cb.2Cc.20in.20PNat.3F/near/493413265\">said</a>:</p>\n<blockquote>\n<p>Thanks a lot, <code>exact mul_right_cancel h</code> was exactly what I was looking for! I now see that I can find something similar using  <code>rw?</code> (though <code>apply?</code> and <code>exact?</code> can’t find useful results in this case apparently). Is it true in general that most of the theorems can be found using <code>rw?, apply?, exact?</code>, if one can write the proper mwe for it?</p>\n</blockquote>\n<p>Mostly yes, these tactics should be able to find theorems, if they're stated in the way that you're asking. If a theorem can be stated in many different ways, which look equivalent to the human eye, you might need some luck to pick the right formulation.</p>\n<p>You encountered one particular shortcoming with <code>apply?</code> and <code>exact?</code>, namely that they don't work if the goal is just <code>a = b</code>. That is because there's too many theorems that conclude something like that, and checking them all is too much work.</p>",
        "id": 493445496,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736801279
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> Thanks for helping :)</p>",
        "id": 493504968,
        "sender_full_name": "Soham Saha",
        "timestamp": 1736826555
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815044\">Soham Saha</span> has marked this topic as resolved.</p>",
        "id": 493504975,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736826560
    }
]