[
    {
        "content": "<p>I have a proof state with an assumption <code>i : Fin 0</code>. Obviously this isn't possible, but i'm wondering if there's a neat way to dispatch the current goal in this case. I could perform the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">contra</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">contra</span>\n</code></pre></div>\n<p>but my spider senses tell me there is probably a more elegant way to do this, apart from using <code>apply (Fin.elim0 i)</code>. Let's imagine <code>Fin.elim0</code> didn't already exist.</p>\n<p>I find it very satisfying when it's possible to use something like <code>rcases x with ⟨x, rfl⟩</code> to both extract an equality and globally rewrite using that equality (obviously not with <code>Fin</code> assumptions). I figure that's possible because <code>rfl</code> is the constructor for equality, so it's just doing more destruction there, and identifying a contradiction is a different kind of animal. But still, are there any neat tricks around things like this?</p>",
        "id": 566307208,
        "sender_full_name": "Scott Buckley",
        "timestamp": 1767605109
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">i</span>\n</code></pre></div>\n<p>is one option</p>",
        "id": 566307818,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1767605305
    },
    {
        "content": "<p><code>cases i.2</code></p>",
        "id": 566308412,
        "sender_full_name": "Vlad",
        "timestamp": 1767605496
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Fin 0</p>",
        "id": 566308461,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767605511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> that's exactly what I was looking for!</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟩</span>\n</code></pre></div>\n<p>I hadn't seen the empty <code>mk</code> notation before. I'll still use <code>Fin.elim0</code>, but i'm glad to have learned something new :) I guess there we are just destructing <code>i.2</code> without specifying any new term names or recursive destructors. very cool.</p>",
        "id": 566308468,
        "sender_full_name": "Scott Buckley",
        "timestamp": 1767605512
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Fin/Basic.html#Fin.elim0\">Fin.elim0</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Fin/Lemmas.html#Fin.subsingleton_zero\">Fin.subsingleton_zero</a>, and <a href=\"https://loogle.lean-lang.org/?q=Fin%200\">285 more</a></p>",
        "id": 566308473,
        "sender_full_name": "loogle",
        "timestamp": 1767605515
    },
    {
        "content": "<p>(oh sorry, you already knew about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.elim0#doc\">docs#Fin.elim0</a>)</p>",
        "id": 566308607,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767605553
    },
    {
        "content": "<p><code>apply i.elim0</code> also works if you're optimizing for shortness</p>",
        "id": 566308774,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767605595
    },
    {
        "content": "<p>Thanks everybody. I cant believe how quick all these replies were haha</p>",
        "id": 566309014,
        "sender_full_name": "Scott Buckley",
        "timestamp": 1767605669
    },
    {
        "content": "<p>Or even <code>exact ![] i</code> maybe!</p>",
        "id": 566309093,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767605694
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/113489-new-members/topic/Pointing.20out.20contradiction.20during.20case.20destruction/near/566309093\">said</a>:</p>\n<blockquote>\n<p>exact ![] i</p>\n</blockquote>\n<p>This didn't work for me. Can you walk me through how that's supposed to work?</p>",
        "id": 566309317,
        "sender_full_name": "Scott Buckley",
        "timestamp": 1767605772
    },
    {
        "content": "<p><code>![]</code> is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Matrix.vecEmpty#doc\">docs#Matrix.vecEmpty</a>, defined as <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.elim0#doc\">docs#Fin.elim0</a>. The issue here is that <code>![]</code> contains values of types in <code>Sort (u+1)</code>, and proofs belong to propositions in <code>Sort 0</code>.</p>",
        "id": 566311510,
        "sender_full_name": "Vlad",
        "timestamp": 1767606427
    }
]