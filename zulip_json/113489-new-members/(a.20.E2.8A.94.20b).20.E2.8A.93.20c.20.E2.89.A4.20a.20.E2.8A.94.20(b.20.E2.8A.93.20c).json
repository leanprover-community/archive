[
    {
        "content": "<p>When proving (a ⊔ b) ⊓ c ≤ a ⊔ (b ⊓ c), I got the following error when I wrote rw [inf_sup_right]. What is going on?<br>\ntactic 'rewrite' failed, did not find instance of the pattern in the target expression<br>\n(?a ⊔ ?b) ⊓ ?c<br>\ncase a.a<br>\na✝ b✝ c✝ d e f x✝³ y✝³ z✝² w : ℝ<br>\nR : Type u_1<br>\ninst✝⁷ : Ring R<br>\nA : Type u_2<br>\ninst✝⁶ : AddGroup A<br>\nG : Type u_3<br>\ninst✝⁵ : Group G<br>\nh✝ : a✝ ≤ b✝<br>\nh' : b✝ ≤ c✝<br>\nm n : ℕ</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">inf_sup_right</span><span class=\"o\">]</span><span class=\"w\">    </span><span class=\"c1\">-- let (a ⊔ b) ⊓ c = (a ⊓ c) ⊔ (b ⊓ c)</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">sup_le</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_sup_of_le_left</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">inf_le_left</span><span class=\"w\">        </span><span class=\"c1\">-- a ⊓ c ≤ a</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_sup_right</span><span class=\"w\">       </span><span class=\"c1\">-- b ⊓ c ≤ a ⊔ (b ⊓ c)</span>\n</code></pre></div>",
        "id": 537208447,
        "sender_full_name": "Yue Sun",
        "timestamp": 1756789426
    },
    {
        "content": "<p>Could you please post a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>?<br>\nAlso <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a>.</p>",
        "id": 537211441,
        "sender_full_name": "Marcus Rossel",
        "timestamp": 1756791584
    },
    {
        "content": "<p>The problem lies in the last part of the proof - let (a ⊔ b) ⊓ c = (a ⊓ c) ⊔ (b ⊓ c)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Lattice</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_antisymm</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"c1\">-- a ⊔ (b ⊓ c) ≤ (a ⊔ b) ⊓ (a ⊔ c)</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_inf</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">sup_le_sup_left</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inf_le_left</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">sup_le_sup_left</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inf_le_right</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"c1\">-- (a ⊔ b) ⊓ (a ⊔ c) ≤ a ⊔ (b ⊓ c)</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">sup_le</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"c1\">-- (a ⊔ b) ⊓ a ≤ a ⊔ (b ⊓ c)</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">inf_comm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">le_sup_of_le_left</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inf_le_left</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">⊓</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">⊔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"c1\">-- (a ⊔ b) ⊓ c ≤ a ⊔ (b ⊓ c)</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">inf_sup_right</span><span class=\"o\">]</span><span class=\"w\">    </span><span class=\"c1\">-- let (a ⊔ b) ⊓ c = (a ⊓ c) ⊔ (b ⊓ c)</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">sup_le</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_sup_of_le_left</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">inf_le_left</span><span class=\"w\">        </span><span class=\"c1\">-- a ⊓ c ≤ a</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_sup_right</span><span class=\"w\">       </span><span class=\"c1\">-- b ⊓ c ≤ a ⊔ (b ⊓ c)</span>\n</code></pre></div>",
        "id": 537215760,
        "sender_full_name": "Yue Sun",
        "timestamp": 1756794495
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=inf_sup_right#doc\">docs#inf_sup_right</a> requires a DistribLattice, which you didn't assume</p>",
        "id": 537217585,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1756795496
    },
    {
        "content": "<p>In fact, proving this relation seems to be exactly the point of the exercise</p>",
        "id": 537217684,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1756795541
    },
    {
        "content": "<p>thank you</p>",
        "id": 537225499,
        "sender_full_name": "Yue Sun",
        "timestamp": 1756798849
    },
    {
        "content": "<p>This is an exercise from <strong>Mathematics in Lean</strong>, right? The exercise is indeed about proving that either distributivity law implies the other.</p>",
        "id": 537227162,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1756799495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/.28a.20.E2.8A.94.20b.29.20.E2.8A.93.20c.20.E2.89.A4.20a.20.E2.8A.94.20.28b.20.E2.8A.93.20c.29/near/537227162\">said</a>:</p>\n<blockquote>\n<p>This is an exercise from <strong>Mathematics in Lean</strong>, right? The exercise is indeed about proving that either distributivity law implies the other.</p>\n</blockquote>\n<p>Yes, this is an exercise from Mathematics in Lean. I’m trying to learn lean programming through this book. If you have any suggestions for learning lean programming, please feel free to share them.</p>",
        "id": 537281242,
        "sender_full_name": "Yue Sun",
        "timestamp": 1756818019
    }
]