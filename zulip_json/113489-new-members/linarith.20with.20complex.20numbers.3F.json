[
    {
        "content": "<p>linarith works pretty well with reals, but doesn't work with complex numbers. What is the reason for this and then what to do for simple cases like below?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span><span class=\"w\">  </span><span class=\"c1\">-- didn't succeed</span>\n</code></pre></div>",
        "id": 505098322,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741777726
    },
    {
        "content": "<p>The complexes don't have a linear order instance, and <code>linarith</code> is for _lin_ear orders. The complexes can have a linear order, but not one that is compatible with the field structure.</p>",
        "id": 505103797,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741779246
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ext_iff</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">linarith</span>\n</code></pre></div>\n<p>or</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">sub_left_inj</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">mp</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 505105742,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1741779798
    },
    {
        "content": "<p>It may be an overkill, but I guess <code>polyrith</code> works.</p>",
        "id": 505108899,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1741780580
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/113489-new-members/topic/linarith.20with.20complex.20numbers.3F/near/505103797\">said</a>:</p>\n<blockquote>\n<p>The complexes don't have a linear order instance, and <code>linarith</code> is for _lin_ear orders. The complexes can have a linear order, but not one that is compatible with the field structure.</p>\n</blockquote>\n<p>ah makes sense</p>",
        "id": 505119167,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741782855
    },
    {
        "content": "<p>I generally prefer overkill methods over trying to remember theorem names. NO matter how much I try, I can't remember the theorem for my particular case</p>",
        "id": 505119407,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1741782924
    },
    {
        "content": "<p>You don't have to remember all of the names. I don't.</p>\n<p><code>ext</code>ensionality theorems tell you that if the components of something are equal, then the whole object is equal. That's the first approach, I just reduce proving equality over C to proving 2 equalities in R. Findable by loogling: Complex, \"ext\"</p>\n<p>Otherwise, how would you prove that <code>x - 1 = 0</code> implies <code>x = 1</code>? In school you would just write +1 on both sides of the equation and simplify. But _why_ can you do that? Because addition/subtraction is injective, so you can add/subtract quantities to both sides of an equation and it remains true. Hence you can search for an <code>inj</code>ectivity theorem for <code>sub</code>traction. Findable by loogling: \"sub_\", \"inj\"</p>",
        "id": 505139091,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1741787520
    }
]