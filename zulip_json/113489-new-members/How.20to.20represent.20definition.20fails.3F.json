[
    {
        "content": "<p>In Coq you can deliberately show a rejected definition without breaking the build, e.g.:</p>\n<div class=\"codehilite\" data-code-language=\"Coq\"><pre><span></span><code><span class=\"kn\">Fail</span> <span class=\"kn\">Definition</span> <span class=\"n\">foo</span> <span class=\"o\">:=</span> <span class=\"mi\">1</span> <span class=\"o\">+</span> <span class=\"bp\">true</span><span class=\"o\">.</span>\n</code></pre></div>\n<p>This makes the compiler succeed while still demonstrating that the definition is ill-typed.</p>\n<p>Is there an equivalent in Lean (Lean 4/Mathlib)? Iâ€™d like to include an example that <em>must</em> fail type-checking without causing the whole file to fail.</p>",
        "id": 538387949,
        "sender_full_name": "Hyunwoo Lee",
        "timestamp": 1757409135
    },
    {
        "content": "<p><code>#guard_msgs (drop error) in</code>?</p>",
        "id": 538389647,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757409681
    },
    {
        "content": "<p>Or even better, just <code>#guard_msgs in</code> and then use the code action to put the error message above the definition</p>",
        "id": 538389750,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757409713
    },
    {
        "content": "<p>e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/--</span>\n<span class=\"sd\">error: failed to synthesize</span>\n<span class=\"sd\">  HAdd Nat Bool ?m.1</span>\n\n<span class=\"sd\">Hint: Additional diagnostic information may be available using the `set_option diagnostics true` command.</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">true</span>\n</code></pre></div>",
        "id": 538389893,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757409756
    },
    {
        "content": "<p>Then does it only success when given error message is same as actual error mesaage?</p>",
        "id": 538446417,
        "sender_full_name": "Hyunwoo Lee",
        "timestamp": 1757426727
    }
]