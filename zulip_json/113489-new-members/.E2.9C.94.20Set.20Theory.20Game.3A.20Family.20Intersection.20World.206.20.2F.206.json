[
    {
        "content": "<p>I have used the following code in <a href=\"https://adam.math.hhu.de/#/g/djvelleman/stg4/world/FamInter/level/6\">this level</a>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n<span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_union</span><span class=\"o\">]</span>\n<span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">hA</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">A</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"bp\">⋂₀</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">hA</span>\n<span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h3</span>\n<span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">inr</span>\n<span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_sInter</span><span class=\"o\">]</span>\n<span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_sInter</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span>\n<span class=\"n\">intro</span>\n<span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h4</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h5</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">h4</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">h5</span>\n<span class=\"n\">rewrite</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_union</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h6</span>\n<span class=\"n\">cases'</span><span class=\"w\"> </span><span class=\"n\">h6</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">h6A</span><span class=\"w\"> </span><span class=\"n\">h6B</span>\n<span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hA</span><span class=\"w\"> </span><span class=\"n\">h6A</span>\n</code></pre></div>\n<p>I used this same tactic in Complement World 3/5, so I'd expect it work here, because hA is the hypothesis x \\notin A and h6A is x \\in A. But instead it throws the error message:</p>\n<p>type mismatch  hA h6A<br>\nhas type<br>\n  False : Prop<br>\nbut is expected to have type<br>\n  x ∈ s : Prop</p>",
        "id": 476602953,
        "sender_full_name": "Dillon Mayhew",
        "timestamp": 1728822768
    },
    {
        "content": "<p>Please edit your post with the advice from <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a></p>",
        "id": 476604000,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728823905
    },
    {
        "content": "<p>please read <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a> and <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>, you’ll get a quicker answer that way</p>",
        "id": 476604012,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1728823919
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 476608237,
        "sender_full_name": "Dillon Mayhew",
        "timestamp": 1728827775
    },
    {
        "content": "<p>At this point, you have <code>hA : x ∉ A</code> and <code>h6A : x ∈ A</code>.  Of course, that's a contradiction, so <code>hA h6A</code> is a proof of <code>False</code>.  But you're not doing a proof by contradiction, so this doesn't complete the proof.</p>\n<p>Here are two ways to deal with this.  The most straightforward is to do a proof by contradiction.  First use <code>by_contra</code>, which will change your goal to <code>False</code>.  Then <code>exact hA h6A</code> will work.</p>\n<p>A second possibility is to use a theorem that is not covered in the Set Theory Game.  Lean will recognize <code>absurd h6A hA</code> as a proof of anything, so <code>exact absurd h6A hA</code> will close your goal here.  (Note the difference in order of arguments: in <code>absurd</code>, the positive statement comes first, and then the negative statement.)</p>",
        "id": 476619456,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1728837432
    },
    {
        "content": "<p>You can also use <code>exact (hA h6A).elim</code></p>",
        "id": 476619553,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1728837487
    },
    {
        "content": "<p>Right.  This is shorthand for <code>exact False.elim (hA h6A)</code>.  Note that <code>False.elim</code> is another theorem not covered in the Set Theory Game.</p>",
        "id": 476619761,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1728837664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"453098\">Dan Velleman</span> <a href=\"#narrow/stream/113489-new-members/topic/Set.20Theory.20Game.3A.20Family.20Intersection.20World.206.20.2F.206/near/476619456\">said</a>:</p>\n<blockquote>\n<p>At this point, you have <code>hA : x ∉ A</code> and <code>h6A : x ∈ A</code>.  Of course, that's a contradiction, so <code>hA h6A</code> is a proof of <code>False</code>.  But you're not doing a proof by contradiction, so this doesn't complete the proof.</p>\n<p>Here are two ways to deal with this.  The most straightforward is to do a proof by contradiction.  First use <code>by_contra</code>, which will change your goal to <code>False</code>.  Then <code>exact hA h6A</code> will work.</p>\n<p>A second possibility is to use a theorem that is not covered in the Set Theory Game.  Lean will recognize <code>absurd h6A hA</code> as a proof of anything, so <code>exact absurd h6A hA</code> will close your goal here.  (Note the difference in order of arguments: in <code>absurd</code>, the positive statement comes first, and then the negative statement.)</p>\n</blockquote>\n<p>Thanks!</p>",
        "id": 476625670,
        "sender_full_name": "Dillon Mayhew",
        "timestamp": 1728843150
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766913\">Dillon Mayhew</span> has marked this topic as resolved.</p>",
        "id": 476625685,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728843167
    },
    {
        "content": "<p>Is <code>cases</code> covered? If so, <code>cases hA h6A</code> would also work</p>",
        "id": 476628368,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1728845582
    },
    {
        "content": "<p>Or <code>exfalso</code></p>",
        "id": 476628806,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728845962
    }
]