[
    {
        "content": "<p>I'm trying to solve the following example {p : ℝ} (h1 : 5 * p - 3 = 3 * p + 1) : p = 2 using only calc, rw and ring (only tactics introduced in the book until now)</p>\n<p>I got this going but it's not a solution:</p>\n<p><a href=\"https://live.lean-lang.org/#project=mathlib-stable&amp;codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0ARFJHAJQFMl0cAhJAZ2AGMAoUSWRFDbHAFSQZiMSwAHYBzJk1IAPJOHSk4AbzBwAXHEC4hAF84AClQBGdXACscAFRxVAWjgBmOAF4Hl63ADUcQwEoTqlwAmdScmODgGCmZw8ICzN1tXOwAWBM9XNRcsAE84KFEJGLgAfWdXK1UvYxS0r0dMuBy8grCY0pcbSrhUhqb88SA\">https://live.lean-lang.org/#project=mathlib-stable&amp;codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0ARFJHAJQFMl0cAhJAZ2AGMAoUSWRFDbHAFSQZiMSwAHYBzJk1IAPJOHSk4AbzBwAXHEC4hAF84AClQBGdXACscAFRxVAWjgBmOAF4Hl63ADUcQwEoTqlwAmdScmODgGCmZw8ICzN1tXOwAWBM9XNRcsAE84KFEJGLgAfWdXK1UvYxS0r0dMuBy8grCY0pcbSrhUhqb88SA</a></p>\n<p>if I could move the -p on the other side then I could divide by 2 on both sides and get p = 2 but I don't think that is allowed.</p>\n<p>Could I get any hints on how to solve this? I just can't figure out how to eliminate p from the right side of the equation.</p>",
        "id": 525184914,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750551326
    },
    {
        "content": "<p>What book are you using?</p>",
        "id": 525185233,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750551977
    },
    {
        "content": "<p><a href=\"https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#id31\">https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#id31</a></p>",
        "id": 525185270,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750552032
    },
    {
        "content": "<p>Hint: you have to divide</p>",
        "id": 525185418,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750552293
    },
    {
        "content": "<p>Oh, I tried with divizion also but did not work. I'll show what I did.</p>",
        "id": 525185442,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750552342
    },
    {
        "content": "<p>So, I did this:</p>\n<p><a href=\"https://live.lean-lang.org/#project=mathlib-stable&amp;codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0ARFJHAJQFMl0cAhJAZ2AGMAoUSWRFDbHAFSQZiMSwAHYBzJk1IAPJOHSk4AbzBwAXHEC4hAF84AClQBGdXACscAFRxVAWjgBmOAF4Hl63ADUcQwEoTqlwAmdScmODgGCmZw8ID9cytbBz8AejNPVzTzNRcsAE84KFEJGLgAfWd9R0SM3zgsjMcGnLh8wuKgA\">https://live.lean-lang.org/#project=mathlib-stable&amp;codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0ARFJHAJQFMl0cAhJAZ2AGMAoUSWRFDbHAFSQZiMSwAHYBzJk1IAPJOHSk4AbzBwAXHEC4hAF84AClQBGdXACscAFRxVAWjgBmOAF4Hl63ADUcQwEoTqlwAmdScmODgGCmZw8ID9cytbBz8AejNPVzTzNRcsAE84KFEJGLgAfWd9R0SM3zgsjMcGnLh8wuKgA</a></p>\n<p>but it's definitely not getting rid of p on the right side</p>",
        "id": 525185492,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750552459
    },
    {
        "content": "<p>Oh, you have to divide by a different number</p>",
        "id": 525185547,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750552521
    },
    {
        "content": "<p>I'm stuck. Any other possible hints without giving up the answer?</p>",
        "id": 525185618,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750552694
    },
    {
        "content": "<p>Try solving it by hand, not using the \"calculational style\", as you would in a high-school math class. Take note of what number you end up dividing by.</p>",
        "id": 525185668,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750552799
    },
    {
        "content": "<p>If I could solve however I wanted I would continue from p = -p + 4 =&gt; 2 * p = 4 =&gt; p = 2<br>\nBut calc does not allow doing that I think.</p>",
        "id": 525185733,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750552947
    },
    {
        "content": "<p>So you divided by 2 at the end</p>",
        "id": 525185741,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750552980
    },
    {
        "content": "<p>Yes.</p>",
        "id": 525185753,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750552998
    },
    {
        "content": "<p>Now try doing division again, but divide by 2 instead</p>",
        "id": 525185771,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750553035
    },
    {
        "content": "<p>Btw you can write inline code blocks like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Ring</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>",
        "id": 525185787,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750553065
    },
    {
        "content": "<p>That's three <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a>, then a newline, then the code, then another newline, then three backticks again.</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>```\n[code goes here]\n```\n</code></pre></div>",
        "id": 525185813,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750553116
    },
    {
        "content": "<p>Ah yeah, it's like markdown. I just didn't do that to share the live lean in case it was needed.</p>",
        "id": 525185837,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750553166
    },
    {
        "content": "<p>Better to share the code instead the live lean link?</p>",
        "id": 525185842,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750553179
    },
    {
        "content": "<p>Oh, if you hover over the inline code snippet, a link to the web server will appear in the upper right corner</p>",
        "id": 525185850,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750553195
    },
    {
        "content": "<p>Oh, right, I see now. Smart UI.</p>",
        "id": 525185862,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750553222
    },
    {
        "content": "<p>I have no idea what I am doing:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Tactic.Ring</span>\n\n<span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h1</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 525186089,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750553673
    },
    {
        "content": "<p>You're almost there! Keep going!</p>",
        "id": 525186128,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750553762
    },
    {
        "content": "<p>Was that all in the right direction? o.O</p>",
        "id": 525186145,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750553792
    },
    {
        "content": "<p>You have a sign wrong in one place and you're missing the final line where you say everything's equal to 2 but it's in the right direction</p>",
        "id": 525186205,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750553889
    },
    {
        "content": "<p>Ty, didn't even notice the wrong sign.</p>",
        "id": 525186427,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750554214
    },
    {
        "content": "<p>I finished it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Ring</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h1</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>",
        "id": 525186461,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750554255
    },
    {
        "content": "<p>Ty very much for your patience with me :)</p>",
        "id": 525186469,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750554268
    },
    {
        "content": "<p>How did you know that the proofs needed to start by diving by 2?</p>",
        "id": 525186504,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750554341
    },
    {
        "content": "<p>Here's my thought process:</p>\n<blockquote>\n<p>We start with <code>p</code> and need to deduce it equals <code>2</code>. The coefficient of <code>p</code> on the left-hand side is <code>1</code> and the coefficient on the right-hand side is <code>0</code>. Therefore we need to decrease the coefficient by <code>1</code>. Using only <code>ring</code> can't do this, so it has to be done by <code>rw</code>.<br>\nIf you have <code>5 * p - 3</code> in your goal and do a <code>rw [h1]</code> you get <code>3 * p + 1</code>, so the coefficient of <code>p</code> has decreased by <code>2</code>, which is too much. To counteract this, we need to do the rewrite \"inside\" a division by two, to halve its influence.</p>\n<p>And it works!</p>\n</blockquote>",
        "id": 525186678,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750554597
    },
    {
        "content": "<p>For fun, here's some different proofs of the same theorem (don't worry if you don't understand them all yet)</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Purely calculational proof</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Ring</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h1</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>\n</div></div>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Move the -p to the other side and divide by 2</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Ring</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h1</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">eq_neg_add_iff_add_eq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">two_mul</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"c1\">-- Heather's book uses a dumbed-down version of `norm_num` called `numbers`</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">mul_right_injective₀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">norm_num</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">this</span>\n</code></pre></div>\n</div></div>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>How I would prove it in an actual project</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linarith</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"c1\">-- Heather's book uses a dumbed-down version of `linarith` called `addarith`</span>\n<span class=\"w\">  </span><span class=\"n\">linarith</span>\n</code></pre></div>\n</div></div>",
        "id": 525186696,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750554624
    },
    {
        "content": "<p>Why is the coefficient on the right side 0? I thought we start with p = p</p>",
        "id": 525186767,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750554728
    },
    {
        "content": "<p>We start by having <code>1 * p + 0</code>, and we want to end up having <code>0 * p + 2</code></p>",
        "id": 525186799,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750554768
    },
    {
        "content": "<p>Put another way, we start with <code>p = 1 * p + 0</code> (with a coefficient of <code>1</code>) and want to end up with <code>p = 0 * p + 2</code> (with a coefficient of <code>0</code>)</p>",
        "id": 525186879,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750554870
    },
    {
        "content": "<p>I like to think of these types of proofs as sequentially rewriting the lhs into the rhs, even if what they actually are is a series of equalities that are put together by transitivity</p>",
        "id": 525186919,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750554945
    },
    {
        "content": "<p>\"How I would prove it in an actual project\" <code>linarith</code><br>\nhaha, I love that</p>",
        "id": 525187568,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750555837
    },
    {
        "content": "<p>You take advantage of what you have</p>",
        "id": 525187725,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1750556017
    },
    {
        "content": "<p>I'm in a quantum state of both I understood this and I didn't. The divide by 2 part.</p>",
        "id": 525187761,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750556053
    },
    {
        "content": "<p>Like, if I look at the equation I can see that it cancels out when dividing by 2. What I don't get is how I would conclude I need to divide by 2. Why not by 3? 4? etc.</p>",
        "id": 525187783,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750556097
    },
    {
        "content": "<p>There are 5 more examples in the book and I have the feeling I will get stuck on most of them for similar reasons. (already did on one)</p>",
        "id": 525187825,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750556170
    },
    {
        "content": "<p>A more conceptual reason that you have to divide by 2 in any proof is that if you put yourself in a situation where division by 2 is illegal (eg in the ring {0,1} with 1+1=0 so 2=0) then the theorem becomes false because the hypothesis works for p=1 but the conclusion does not.</p>",
        "id": 525202850,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1750583246
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"374664\">Răzvan Flavius Panda</span> <a href=\"#narrow/channel/113489-new-members/topic/calc.20problem/near/525187783\">said</a>:</p>\n<blockquote>\n<p>Like, if I look at the equation I can see that it cancels out when dividing by 2. What I don't get is how I would conclude I need to divide by 2. Why not by 3? 4? etc.</p>\n</blockquote>\n<p>because when you proved it by hand, you divided by two<br>\n5p-3=3p+1<br>\n2p=4<br>\np=2 &lt;-- this step is division by 2</p>",
        "id": 525206667,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750589632
    },
    {
        "content": "<p>if you go back up the chain of calculations, you can see how to chain them together<br>\np=2 and 2p=4: p=(2p/2)=(4/2)=2<br>\nnow combine it with 5p-3=3p+1:<br>\np = (2p/2) = ((5p-3)-(3p+1)+4)/2 = 4/2 = 2</p>\n<p>the way i think of it, this is essentially transferring from one style of proof to another style of proof, namely from a \"vertical\" chain of calculations to a \"horizontal\" one, and if at each step you do the only thing you can do (i.e. I see that there is a 2p, but I have p, so the only thing I can do is p=2p/2), then you'll be able to do the translation</p>",
        "id": 525206755,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750589780
    },
    {
        "content": "<p>Thank you. I understand it a little better now.</p>",
        "id": 525223601,
        "sender_full_name": "Răzvan Flavius Panda",
        "timestamp": 1750612136
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"374664\">Răzvan Flavius Panda</span> has marked this topic as resolved.</p>",
        "id": 525223611,
        "sender_full_name": "Notification Bot",
        "timestamp": 1750612150
    }
]