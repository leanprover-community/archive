[
    {
        "content": "<p>Hi everyone! <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span></p>\n<p>I’ve been learning Lean and recently finished the first few chapters of <em>Mathematics in Lean</em>.<br>\nAs a next step, I’d like to make my first small contribution to mathlib — mainly as a way to learn the workflow and get involved.</p>\n<p>I was thinking of starting with a short, elementary combinatorial theorem, for example:</p>\n<p>For a set of n distinct natural numbers, the set of all subset sums has at least <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo fence=\"true\">(</mo><mfrac linethickness=\"0px\"><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo fence=\"true\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\binom{n+1}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2451em;vertical-align:-0.35em;\"></span><span class=\"mord\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8951em;\"><span style=\"top:-2.355em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.144em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span> elements.</p>\n<p>Before I dive in, I’d like to ask:</p>\n<ol>\n<li>\n<p>Does mathlib generally welcome such elementary, self-contained results, or is it focused on more “core” material within each field?</p>\n</li>\n<li>\n<p>For a project at that level, would I likely need to develop a lot of background before I can even state and prove such a result? For example, I have not found the notion of subset-sum of a set. Will I have to first define this object in mathlib?</p>\n</li>\n</ol>\n<p>Thanks a lot for any advice — I’d really appreciate guidance on how to start contributing in a useful way!</p>",
        "id": 547882972,
        "sender_full_name": "Aviv Bar-Natan",
        "timestamp": 1761815654
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"971443\">@Aviv Bar-Natan</span> (I don't speak for Mathlib, but)</p>\n<ol>\n<li>it's a good learning experience to embark on small projects, no matter whether it gets into mathlib or not</li>\n<li>mathlib aims to prove things in the highest generality; for example, i personally am not a combinatorialist so i'm not very familiar with this, but maybe your argument would work over any AddCommMonoid with cancellative addition?</li>\n<li>and also, maybe on your way to the result (assuming you actually split into lemmas properly, and not just solve the main goal with 100 lines of code), you might discover some missing steps in the library, some very general lemmas that would help with your project; those small lemmas would be valuable addition to mathlib</li>\n<li>don't worry about defining subset sum in mathlib, define it yourself first and then we can see what happens</li>\n<li>please ping me in the process of / after you finish the project, i'm interested to follow up</li>\n</ol>",
        "id": 547884144,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761815993
    },
    {
        "content": "<p>Hi <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> Welcome to the Lean community; I'm glad you're like to contribute to mathlib!<br>\nIn general, mathlib likes to build a theory - so proving results that are reusable as much as possible. I am not a combinatorialist, so let somebody else comment if that also applies to the idea you had. Both questions (1) and (2) will have answers depending on the field and project.</p>\n<p>What mathematical background do you have? Another option is to ask for interesting good first projects pertaining to your area.</p>",
        "id": 547884489,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761816038
    },
    {
        "content": "<p>So, Kenny answered faster than me - but I guess we are saying very similar things :-)</p>",
        "id": 547884583,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761816064
    },
    {
        "content": "<p>Thank you for your answer!<br>\nI’m currently studying for a master’s degree in theoretical computer science, and I’m also taking some math courses on my own to strengthen the background I need for theoretical research.</p>\n<p>I really like the idea of asking for a first project! I’m open to any field — I mainly want to go through the contribution process and learn how it works.<br>\nI thought about something in elementary combinatorics since it feels the most accessible, but I’d be happy to hear if you have other suggestions.</p>",
        "id": 547886629,
        "sender_full_name": "Aviv Bar-Natan",
        "timestamp": 1761816597
    },
    {
        "content": "<p>In general, I strongly recommend that you try to formalise a result which you know well. Learning the mathematics and the formalisation at the same time is simply <strong>much</strong> harder. (So, for instance, while I love new contributions in differential geometry, I wouldn't advise you to pick that unless you're familiar with that area.)</p>",
        "id": 547887131,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761816718
    },
    {
        "content": "<p>Hello! <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span><br>\n<span class=\"user-mention silent\" data-user-id=\"971443\">Aviv Bar-Natan</span> <a href=\"#narrow/channel/113489-new-members/topic/First.20Contribution.20to.20Mathlib/near/547882972\">said</a>:</p>\n<blockquote>\n<p>I have not found the notion of subset-sum of a set. Will I have to first define this object in mathlib?</p>\n</blockquote>\n<p>Well there's <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sum#doc\">docs#Finset.sum</a> / <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiset.sum#doc\">docs#Multiset.sum</a> / <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.sum#doc\">docs#List.sum</a> which all sum a finite amount of things.<br>\nHere's my attempt at a translation of your theorem statement:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo_nat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">powerset</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">sum</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo_general</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommMonoid</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">choose</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">powerset</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">sum</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>This takes a finite set of natural numbers, so there are no duplicates.<br>\nThe LHS is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo fence=\"true\">(</mo><mfrac linethickness=\"0px\"><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo fence=\"true\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\binom{n+1}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2451em;vertical-align:-0.35em;\"></span><span class=\"mord\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8951em;\"><span style=\"top:-2.355em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.144em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span>, and the RHS takes the powerset of the given set, maps each subset to its sum, and finally takes the cardinality of the result.</p>\n<p>If you don't need commutativity then you can also work with a <code>List</code> instead of a <code>Finset</code> and require that it has no duplicates with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.Nodup#doc\">docs#List.Nodup</a>.</p>\n<p>In general, searching Mathlib isn't a trivial task, I recommend the following in-order:</p>\n<ul>\n<li><a href=\"https://loogle.lean-lang.org/\">https://loogle.lean-lang.org/</a></li>\n<li><a href=\"https://leansearch.net/\">https://leansearch.net/</a></li>\n<li><a href=\"https://deepwiki.com/leanprover-community/mathlib4\">https://deepwiki.com/leanprover-community/mathlib4</a></li>\n</ul>\n<p>but to search on Loogle you have to know some names first, and that's where the other two AIs can help.</p>",
        "id": 547998993,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761846376
    },
    {
        "content": "<p>btw how does the proof for this go? I think I saw it or something similar using probabilistic methods, but I'm not sure. I'm also not sure how to formalize probabilistic arguments, but Mathlib does support probability.</p>",
        "id": 548000514,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761846832
    },
    {
        "content": "<p>Thanks that’s really helpful for me. I just tried to formalize the theorem by myself and learned a lot from your generalization to commutative monoid</p>",
        "id": 548000981,
        "sender_full_name": "Aviv Bar-Natan",
        "timestamp": 1761846971
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> , I'm giving you a ping :)<br>\nI opened a PR:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/31689\">https://github.com/leanprover-community/mathlib4/pull/31689</a></p>\n<p>I can share my experience while working on it.<br>\nBy the way, if you’d like to review my code, I’d really appreciate it!</p>",
        "id": 556666108,
        "sender_full_name": "Aviv Bar-Natan",
        "timestamp": 1763278816
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"971443\">@Aviv Bar-Natan</span> I've left some basic remarks there</p>",
        "id": 556672549,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1763286176
    },
    {
        "content": "<p>I would like those to be addressed first before I move on (ping me when you're done)</p>",
        "id": 556672562,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1763286186
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> Issues are fixed</p>",
        "id": 556678858,
        "sender_full_name": "Aviv Bar-Natan",
        "timestamp": 1763292011
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"971443\">@Aviv Bar-Natan</span> more comments</p>",
        "id": 556680694,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1763294216
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span>  Fixed most comments. Wrote some other comments. I'll add a proof that (Finset.range (n + 1)).erase 0 attains the bound.</p>",
        "id": 556709035,
        "sender_full_name": "Aviv Bar-Natan",
        "timestamp": 1763321199
    }
]