[
    {
        "content": "<p>I wrote 4 more proofs from chapter 4 from <em>The Mechanics..</em> How can I optimize them?</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>4 proofs</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\"><pre><span></span><code>import Mathlib\nimport Lean\n\nexample {n : ℤ} (hn : ∀ m, 1 ≤ m → m ≤ 5 → m ∣ n) : 15 ∣ n := by\n  have h3 : 3 ∣ n := by\n    exact hn 3 (by linarith) (by linarith)\n  have h5 : 5 ∣ n := by\n    exact hn 5 (by linarith) (by linarith)\n  have h15 : lcm 3 5 ∣ n := lcm_dvd h3 h5\n  exact h15\n\nexample {a b : ℝ} (ha1 : a ^ 2 ≤ 2) (hb1 : b ^ 2 ≤ 2)\n    (ha2 : ∀ y, y ^ 2 ≤ 2 → y ≤ a)\n    (hb2 : ∀ y, y ^ 2 ≤ 2 → y ≤ b) :\n    a = b := by\n  apply le_antisymm\n  · apply hb2\n    apply ha1\n  · apply ha2\n    apply hb1\n\nexample {a : ℚ} (h : ∀ b : ℚ, a ≥ -3 + 4 * b - b ^ 2) : a ≥ 1 :=\ncalc\n  a ≥  -3 + 4 * 2 - 2^2  := h 2\n  _ ≥ 1 := by norm_num\n\nexample : ∃ n : ℕ, ∀ m : ℕ, n ≤ m := by\n  use 0\n  intro m\n  exact zero_le m\n</code></pre></div>\n</div></div>",
        "id": 483554872,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1732130056
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">zero_le</span><span class=\"bp\">⟩</span>\n</code></pre></div>",
        "id": 483566974,
        "sender_full_name": "Bjørn Kjos-Hanssen",
        "timestamp": 1732134857
    },
    {
        "content": "<p>I don't know if this is much of optimization, but here's the first example. <br>\n(All the <code>by exact</code> was removed.) And it seems that I can replace <code>linarith</code> with <code>omega</code>, too.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">∣</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">15</span><span class=\"w\"> </span><span class=\"bp\">∣</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">∣</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h5</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">∣</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">lcm_dvd</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"w\"> </span><span class=\"n\">h5</span>\n</code></pre></div>",
        "id": 483648232,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1732180731
    },
    {
        "content": "<p>I don't believe that anything else can be optimized, except post by Bjørn (and maybe mine).</p>",
        "id": 483648737,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1732180899
    },
    {
        "content": "<p>Both your example and Bjørn's are great improvements from my perspective. <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span> </p>\n<p>Is there any way to write such a chain <code>(by linarith) (by linarith)</code> differently? Perhaps using <code>⟨⟩</code>?</p>\n<p>Also, I'll learn more about <code>omega</code>, too.</p>",
        "id": 483649712,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1732181226
    },
    {
        "content": "<p>You could write <code>by apply hn 3 &lt;;&gt; linarith</code></p>",
        "id": 483650319,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1732181406
    }
]