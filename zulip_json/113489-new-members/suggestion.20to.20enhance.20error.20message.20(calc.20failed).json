[
    {
        "content": "<p>Earlier I got the following error message:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>'calc' tactic failed, has type\n  3 ^ (k + 1) ≥ 2 ^ (k + 1) + 100\nbut it is expected to have type\n  3 ^ (k + 1) ≥ 2 ^ (k + 1) + 100\n</code></pre></div>\n<p>This was puzzling until I later found the <code>3</code> needed to be `(3:ℤ).</p>\n<p>Could the error message be enhanced?</p>\n<hr>\n<p>The source was an MoP exercise which I'll include as a spoiler :</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>example : forall_sufficiently_large n : ℕ, (3:ℤ) ^ n ≥ 2 ^ n + 100 := by<br>\n  dsimp<br>\n  use 5<br>\n  intro n hn<br>\n  induction_from_starting_point n, hn with k hk IH<br>\n  · -- base case<br>\n    norm_num<br>\n  · -- inductive step<br>\n    calc<br>\n      (3:ℤ) ^(k + 1) = 3 * (3^k) := by ring -- &lt; -- needed to be (3:ℤ), was just 3 based on inforview goal<br>\n      _ ≥ 3 * (2^k + 100) := by rel [IH]<br>\n      _ = 2^(k+1) + 2^k + 100 + 200 := by ring<br>\n      _ ≥ 2^(k+1) + 2^k + 100 := by extra<br>\n      _ ≥ 2^(k+1) + 100 := by extra</p>\n</div></div>",
        "id": 490614400,
        "sender_full_name": "rzeta0",
        "timestamp": 1735004725
    },
    {
        "content": "<p><code>set_option pp.numeralTypes true</code> or similar would help here</p>",
        "id": 490614963,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1735005066
    },
    {
        "content": "<p>Yeah, maybe there needs to be a way to take two different types and pretty print them in a way where they are different, or to underline the differing terms.  (Maybe with definitional equality this would be challenging to do reliably.)</p>",
        "id": 490614998,
        "sender_full_name": "Jason Rute",
        "timestamp": 1735005096
    },
    {
        "content": "<p>There is already (underused) infrastructure for red/green diffs</p>",
        "id": 490615082,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1735005133
    }
]