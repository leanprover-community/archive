[
    {
        "content": "<p>Hi all, I'm trying to install lean on a new computer (M3 mac), but when I run the command from <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> with sudo, I get the error </p>\n<p><code>**error:** $HOME differs from euid-obtained home directory: you may be using sudo\n**error:** if this is what you want, restart the installation with `-y'</code></p>\n<p>Is there a way I can work around this? I don't think I can avoid using sudo because otherwise I get the error </p>\n<p><code>**error:** could not write rcfile file: '/Users/agusakov/.profile'\n**info:** caused by: Permission denied (os error 13)</code></p>",
        "id": 507358788,
        "sender_full_name": "Alena Gusakov",
        "timestamp": 1742587901
    },
    {
        "content": "<p>What do you get from <code>whoami</code>?</p>",
        "id": 507359538,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1742588158
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/113489-new-members/topic/Installing.20Lean/near/507359538\">said</a>:</p>\n<blockquote>\n<p>What do you get from <code>whoami</code>?</p>\n</blockquote>\n<p><code>agusakov</code></p>",
        "id": 507359624,
        "sender_full_name": "Alena Gusakov",
        "timestamp": 1742588180
    },
    {
        "content": "<p>How about <code>ls -l ~/.profile</code>?</p>",
        "id": 507359684,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1742588207
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/113489-new-members/topic/Installing.20Lean/near/507359684\">said</a>:</p>\n<blockquote>\n<p>How about <code>ls -ltarh ~/.profile</code>?</p>\n</blockquote>\n<p><code>-rw-r--r--  1 root  staff    40B 12 Feb 15:05 /Users/agusakov/.profile</code></p>",
        "id": 507359729,
        "sender_full_name": "Alena Gusakov",
        "timestamp": 1742588227
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/113489-new-members/topic/Installing.20Lean/near/507359684\">said</a>:</p>\n<blockquote>\n<p>ls -l ~/.profile</p>\n</blockquote>\n<p><code>    \n-rw-r--r--  1 root  staff  40 12 Feb 15:05 /Users/agusakov/.profile</code></p>",
        "id": 507359769,
        "sender_full_name": "Alena Gusakov",
        "timestamp": 1742588244
    },
    {
        "content": "<p>Okay so you have a larger problem that somehow your user .profile is owned by root</p>",
        "id": 507359774,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1742588248
    },
    {
        "content": "<p><code>sudo chown agusakov:agusakov ~/.profile</code> is one option; another is <code>sudo chmod 0666 ~/.profile</code></p>",
        "id": 507359930,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1742588310
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/113489-new-members/topic/Installing.20Lean/near/507359930\">said</a>:</p>\n<blockquote>\n<p>sudo chmod 0666 ~/.profile</p>\n</blockquote>\n<p>The second one seemed to work, thanks!!</p>",
        "id": 507360032,
        "sender_full_name": "Alena Gusakov",
        "timestamp": 1742588353
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"303889\">Alena Gusakov</span> has marked this topic as resolved.</p>",
        "id": 507361068,
        "sender_full_name": "Notification Bot",
        "timestamp": 1742588797
    },
    {
        "content": "<p>I just installed lean on a Mac and I didn't follow the community instructions at all, I followed the instructions on the lean website and it went great</p>",
        "id": 507383774,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742599456
    },
    {
        "content": "<p>They're also <a href=\"https://github.com/leanprover-community/mathlib4/pull/16688\">kind of broken anyway</a>, though I've been meaning to re-do this on a new mac before re-submitting from not-a-fork.</p>",
        "id": 507421618,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1742625541
    }
]