[
    {
        "content": "<p>Just starting out, I installed in vscode according to the quickstart and created a \"standalone\" project. Writing and editing other example code in the <code>Basic.lean</code> file has worked fine, but the calc example from <a href=\"https://lean-lang.org/theorem_proving_in_lean4/quantifiers_and_equality.html#calculational-proofs\">https://lean-lang.org/theorem_proving_in_lean4/quantifiers_and_equality.html#calculational-proofs</a> fails:</p>\n<div class=\"codehilite\" data-code-language=\"variable\"><pre><span></span><code>variable (h1 : a = b)\nvariable (h2 : b = c + 1)\nvariable (h3 : c = d)\nvariable (h4 : e = 1 + d)\n\ntheorem T : a = e :=\n  calc\n    a = b      := h1\n    _ = c + 1  := h2\n    _ = d + 1  := congrArg Nat.succ h3\n    _ = 1 + d  := Nat.add_comm d 1\n    _ = e      := Eq.symm h4\n</code></pre></div>\n<p>it complains like <code>unknown identifier 'b'</code> for every <code>variable</code> mentioned in the body except <code>a</code> and <code>e</code>.</p>\n<p>It does seem to work if <code>theorem T</code> is changed to <code>def T</code> or to <code>example</code>.</p>\n<p>I guess it makes some sense if the variables become arguments after the section is closed, and the type of the theorem isn't supposed to depend on what is written in the body?</p>\n<p>It seems this was a breaking change in 4.11: <a href=\"https://lean-lang.org/doc/reference/latest/releases/v4.11.0\">https://lean-lang.org/doc/reference/latest/releases/v4.11.0</a></p>\n<p>How up to date are the examples in \"Theorem Proving in Lean 4\" supposed to be</p>",
        "id": 509770226,
        "sender_full_name": "Brandon Moore",
        "timestamp": 1743619696
    },
    {
        "content": "<p>See <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/A.20basic.20question.20about.20calc.20without.20tactics/with/507728436\">#new members &gt; A basic question about calc without tactics</a> for a fix</p>",
        "id": 509770770,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743619885
    },
    {
        "content": "<p>Examples are supposed to be up to date. You should probably open an issue, if none exists already</p>",
        "id": 509770940,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743619933
    }
]