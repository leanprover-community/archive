[
    {
        "content": "<p>I am trying to rewrite this proof </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation1076_implies_Equation1020</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1076</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1020</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">x</span>\n</code></pre></div>\n<p>this way </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation1076_implies_Equation1020</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1076</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1020</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_eq</span>\n</code></pre></div>\n<p>but I am apparently missing something. What I am doing wrong?</p>",
        "id": 480790943,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730836807
    },
    {
        "content": "<p>And I'd like to apply a similar technique to </p>\n<p><code>theorem Equation4379_implies_Equation4373 (G : Type*) [Magma G] (h : Equation4379 G) : Equation4373 G := λ x y z w u =&gt; h x y z z w u</code></p>",
        "id": 480791293,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730836947
    },
    {
        "content": "<p>Why are you writing commas?</p>",
        "id": 480791393,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730836998
    },
    {
        "content": "<p>I'm guessing this is joint work with chatgpt</p>",
        "id": 480791532,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1730837051
    },
    {
        "content": "<p>(I am using LeanDojo and Cursor)</p>",
        "id": 480792816,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730837619
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/channel/113489-new-members/topic/Rewriting.20a.20lambda.20base.20simple.20rewrite.20proof.20using.20have/near/480791393\">schrieb</a>:</p>\n<blockquote>\n<p>Why are you writing commas?</p>\n</blockquote>\n<p>Removed them. But I am still missing something. (Still learning)</p>",
        "id": 480792969,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730837684
    },
    {
        "content": "<p>What's the error? What's the complete code?</p>",
        "id": 480793300,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730837839
    },
    {
        "content": "<p>The syntactically correct version of that code is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation1076_implies_Equation1020</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1076</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1020</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_eq</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_eq</span>\n</code></pre></div>\n<p>note the <code>by</code> at the beginning</p>",
        "id": 480793590,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1730837973
    },
    {
        "content": "<p>given the original term proof though, the <code>simp only</code> line likely does nothing and can be removed</p>",
        "id": 480793777,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1730838046
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/113489-new-members/topic/Rewriting.20a.20lambda.20base.20simple.20rewrite.20proof.20using.20have/near/480793590\">schrieb</a>:</p>\n<blockquote>\n<p>The syntactically correct version of that code is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Equation1076_implies_Equation1020</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Magma</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1076</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Equation1020</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_eq</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_eq</span>\n</code></pre></div>\n<p>note the <code>by</code> at the beginning</p>\n</blockquote>\n<p>That works. So the simp method was confusing for me here.</p>\n<p>Applying lambda directly was clear. Having \"have\" + exact also makes a lot of sense (new var, then exact). But I got lost with the simp.</p>\n<p>Thank you!</p>",
        "id": 480794108,
        "sender_full_name": "Michael Bucko",
        "timestamp": 1730838199
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"672170\">Michael Bucko</span> has marked this topic as resolved.</p>",
        "id": 480794127,
        "sender_full_name": "Notification Bot",
        "timestamp": 1730838210
    },
    {
        "content": "<p>When did the Zulip bot icon change?</p>",
        "id": 480794588,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730838417
    },
    {
        "content": "<p>today</p>",
        "id": 480798912,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1730840283
    }
]