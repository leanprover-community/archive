[
    {
        "content": "<p>Hi! I'm kind of confuse about the proof of prime ideals are radical in mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">IsPrime</span><span class=\"bp\">.</span><span class=\"n\">isRadical</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsPrime</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">IsRadical</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hrni</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">H</span><span class=\"bp\">.</span><span class=\"n\">mem_of_pow_mem</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">hrni</span>\n</code></pre></div>\n<p>I don't quit understand :</p>\n<ol>\n<li>What is hrni here? lean said:  hrni : x✝¹ ^ n ∈ I but I really don't know what is it.</li>\n<li>How 'fun' works here? I just thought is as a lambda expression of function and confused in why it works here.</li>\n</ol>",
        "id": 525561213,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750784629
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/radical.20of.20prime.20is.20prime\">#new members &gt; radical of prime is prime</a> by <span class=\"user-mention silent\" data-user-id=\"879979\">Chengyan Hu</span>.</p>",
        "id": 525561285,
        "sender_full_name": "Notification Bot",
        "timestamp": 1750784653
    },
    {
        "content": "<p>(<a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> for others:)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Ideal</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">IsPrime</span><span class=\"bp\">.</span><span class=\"n\">isRadical</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsPrime</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">IsRadical</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hrni</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">H</span><span class=\"bp\">.</span><span class=\"n\">mem_of_pow_mem</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">hrni</span>\n</code></pre></div>",
        "id": 525563453,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750785550
    },
    {
        "content": "<p>mwe means that you should include enough preambles so that the file can compile on its own in the web lean editor that you can access at the top right of every code block in zulip</p>",
        "id": 525563523,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750785582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"879979\">@Chengyan Hu</span> this is using definitional unfolding.</p>\n<ol>\n<li>If you do <code>#print Ideal.IsRadical</code>, you can see that it is defined as <code>I.radical ≤ I</code>.</li>\n<li>Unfolding that is a bit hard, so let me just tell you that <code>≤</code> is defined as subset, and subset is defined as <code>∀ x, x ∈ S → x ∈ T</code>.</li>\n<li>This shows you how lambda is possible, because after two rounds of definitional unfolding, we get a function (i.e. implication)</li>\n</ol>",
        "id": 525563760,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750785689
    },
    {
        "content": "<p>in summary, <code>I.IsRadical</code> literally means (i.e. is defined to be) that given an element <code>x</code>, if <code>x</code> is in the radical of <code>I</code>, then <code>x</code> is in <code>I</code>.</p>",
        "id": 525563886,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750785736
    },
    {
        "content": "<p>so now, to explain <code>⟨n, hrni⟩</code>, it makes sense from further definitional unfolding of \"<code>x</code> is in the radical of <code>I</code>\".</p>\n<p>If you do <code>#print Ideal.radical</code>, you will see <code>carrier := {r | ∃ n, r ^ n ∈ I}</code>, which means, as a set, the radical of <code>I</code> is defined to be the elements <code>r</code> such that there exists some <code>n</code> such that <code>r ^ n ∈ I</code>.</p>\n<p>So now \"<code>x</code> is in the radical of <code>I</code>\" literally unfolds to \"there exists some <code>n</code> such that <code>x ^ n ∈ I</code>, and <code>⟨n, hrni⟩</code> means that take the proof of that, and deconstruct it to that <code>n</code>, and record in <code>hrni</code> the proof that <code>x ^ n ∈ I</code>.</p>",
        "id": 525564182,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750785864
    },
    {
        "content": "<p>If I translate that first part into tactic mode, it would become:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Ideal</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">IsPrime</span><span class=\"bp\">.</span><span class=\"n\">isRadical</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsPrime</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">IsRadical</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">temp</span>\n<span class=\"w\">  </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">temp</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hrni</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"bp\">.</span><span class=\"n\">mem_of_pow_mem</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">hrni</span>\n</code></pre></div>\n<p>which hopefully would be more familiar to you.</p>",
        "id": 525564321,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750785929
    },
    {
        "content": "<p>OH I'm really sorry for didn't put it in mwe! I'll improve that!</p>",
        "id": 525564352,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750785947
    },
    {
        "content": "<p>Ahh I see, translated into tactic mode makes things clear</p>",
        "id": 525564462,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750785997
    },
    {
        "content": "<p>Thanks a lot!</p>",
        "id": 525564476,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750786003
    },
    {
        "content": "<p>well, i could have just done that then and not type out the lengthy explanation XD</p>",
        "id": 525564497,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750786017
    },
    {
        "content": "<p>lol the lengthy explanation gives out why it works</p>",
        "id": 525565676,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750786556
    },
    {
        "content": "<p>I'll only able to work in tactic mode without ur explanation</p>",
        "id": 525565736,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750786578
    },
    {
        "content": "<p>Thanks again!</p>",
        "id": 525565815,
        "sender_full_name": "Chengyan Hu",
        "timestamp": 1750786609
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"879979\">Chengyan Hu</span> has marked this topic as resolved.</p>",
        "id": 525575323,
        "sender_full_name": "Notification Bot",
        "timestamp": 1750790347
    }
]