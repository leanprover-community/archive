[
    {
        "content": "<p>Hello everyone,</p>\n<p>I hope someone can point me to a tactic or a trick I can use.</p>\n<p><strong>Setup</strong>: in my proof context I have a hypothesis of this form:</p>\n<p><code>h: match f x  ⋯ ⋯ ⋯ ⋯ ⋯ ⋯ with | ⟨a, snd⟩ =&gt; a</code></p>\n<p>The <code>⋯</code> stand for proof terms that <code>f</code> accepts (they are each 20-100 lines long)</p>\n<p><strong>Problem</strong>: I do not know how to get to the <code>snd</code>. Ideally I want <code>snd</code> to be bound to a variable in my context so I can use it in my proof.</p>\n<p><strong>What I tried</strong>:</p>\n<ol>\n<li>I tried to use <code>generalize</code> to alias the <code>f x  ⋯ ⋯ ⋯ ⋯ ⋯ ⋯</code> subexpression. But I ended up rewriting the proof terms so that<code>generalize</code> can find the term. Replacing the <code>⋯</code> in the generalize expression lead to these being universally quantified instead.</li>\n<li>I tried to use <code>conv</code> with something like: <code>have v := by conv at h =&gt; pattern f x _ _ _ _ _ _;</code> but I got stuck there.</li>\n</ol>\n<p><strong>What I would love</strong>: A tactic like <code>generalize</code> that can also do pattern matching, so I can write something like <code>generalize f x ?a ?b ?c ?d ?e ?f = v</code></p>",
        "id": 523545917,
        "sender_full_name": "George Zakhour",
        "timestamp": 1749643647
    },
    {
        "content": "<p><code>generalize_proofs</code> is your friend</p>",
        "id": 523546058,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749643699
    },
    {
        "content": "<p>it doesn't do what you're asking for, but instead it allows you to name the proof arguments, which then should allow you to do the concrete <code>generalize f x a b c d e f = v</code></p>",
        "id": 523546372,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749643814
    },
    {
        "content": "<p>although i suspect that maybe <code>split at h</code> might be more immediately helpful</p>",
        "id": 523546503,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749643845
    },
    {
        "content": "<p>omg yes, <code>split at h</code> did it for me! thanks a lot for the fast and useful help :)</p>\n<p>I will try <code>generalize_proofs</code> at some point. I need to import it from mathlib4 and somehow my setup with neovim and lean.vim is struggling to find it</p>",
        "id": 523547450,
        "sender_full_name": "George Zakhour",
        "timestamp": 1749644123
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"884266\">George Zakhour</span> has marked this topic as resolved.</p>",
        "id": 523547524,
        "sender_full_name": "Notification Bot",
        "timestamp": 1749644139
    }
]