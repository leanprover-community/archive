[
    {
        "content": "<p>I running into some limitations with stack space using #eval on a MetaM:<br>\nlibc++abi: terminating due to uncaught exception of type lean::stack_space_exception: deep recursion was detected at 'expression equality test' (potential solution: increase stack space in your system)</p>\n<p>I thought that I could try to run the #eval at runtime, but converting from the MetaM to IO so that it can be in main causes issues with import (into the project) when I run lake exe after using TermElabM.toIO.</p>\n<p>Is there a best practice to convert from MetaM to IO, and is this a good idea to avoid bottlenecks with #eval?</p>",
        "id": 531727768,
        "sender_full_name": "Nada Amin",
        "timestamp": 1753838959
    },
    {
        "content": "<p>Running in IO means setting up the whole Lean environment and importing modules.</p>\n<p>Maybe you could instead create a MetaM function in a library that you natively compile then import into the module you want to <code>#eval</code> it?</p>\n<p>Do you have some reason to believe that compiling it would relieve deep recursion though? Maybe you need to write your functions differently to not recurse so deeply?</p>",
        "id": 531731906,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1753841621
    },
    {
        "content": "<p>Thanks, debugging further, it seems like I am programmatically trying to run simp on a statement where simp gets stuck. So I'll find a work around for that using a timeout.</p>\n<p>I was just wondering about the best practices of running in eval vs running in main, but I infer from your message that if things are not working in eval, they won't magically get better in main.</p>\n<p>Thanks, again!</p>",
        "id": 531886298,
        "sender_full_name": "Nada Amin",
        "timestamp": 1753893883
    }
]