[
    {
        "content": "<p>The <a href=\"https://lean-lang.org/doc/reference/latest//Recursive-Definitions/Well-Founded-Recursion/#Acc___intro\">docs</a> say:</p>\n<blockquote>\n<p><code>Acc</code> is the accessibility predicate. Given some relation <code>r</code> (e.g. <code>&lt;</code>) and a value <code>x</code>,<br>\n<code>Acc r x</code> means that <code>x</code> is accessible through <code>r</code>:</p>\n<p><code>x</code> is accessible if there exists no infinite sequence <code>... &lt; y₂ &lt; y₁ &lt; y₀ &lt; x</code>.</p>\n</blockquote>\n<p>I'm not a mathematician, I don't understand a) what this means, and b) how this relates to well-foundedness. Could someone please explain what \"accessible through <code>r</code>\" means and how this relates to well-foundedness?</p>",
        "id": 505977867,
        "sender_full_name": "aron",
        "timestamp": 1742146330
    },
    {
        "content": "<p>Ah does it mean that: in order to prove that a recursive function terminates you need to prove that there is a \"lowest state\" that it gets into, i.e. the base case of the function after which there will be no further recursive calls? and providing an accessibility predicate for your parameter (or combination of parameters) is how you can prove that your function does indeed terminate?</p>",
        "id": 505978372,
        "sender_full_name": "aron",
        "timestamp": 1742146702
    },
    {
        "content": "<p>Yeah right, the simplest example is on natural numbers, e.g.:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n</code></pre></div>\n<p>By making sure that the parameters is always smaller on recursive calls, we can never get into infinite recursion / an infinite loop.<br>\nThis can then also be abstracted to other types where there is a similar \"less than\" relation that ensures we always get to a \"base case\" (in the case of natural numbers 0).</p>",
        "id": 505980138,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1742147967
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"814082\">aron</span> <a href=\"#narrow/channel/113489-new-members/topic/Explanation.20of.20Accessibility.3F/near/505977867\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p><code>Acc</code> is the accessibility predicate. Given some relation <code>r</code> (e.g. <code>&lt;</code>) and a value <code>x</code>,<br>\n<code>Acc r x</code> means that <code>x</code> is accessible through <code>r</code>:</p>\n<p><code>x</code> is accessible if there exists no infinite sequence <code>... &lt; y₂ &lt; y₁ &lt; y₀ &lt; x</code>.</p>\n</blockquote>\n<p>I'm not a mathematician, I don't understand a) what this means, and b) how this relates to well-foundedness. Could someone please explain what \"accessible through <code>r</code>\" means and how this relates to well-foundedness?</p>\n</blockquote>\n<p>Consider the relation <code>r</code> fixed; also, it's what is written <code>&lt;</code>. Think of <code>r x y</code> as <code>x&lt;y</code>.</p>\n<p>Some <code>x</code> is accessible (for <code>r</code>) if (and only if) all <code>y</code> such that <code>y&lt;x</code> are accessible (for <code>r</code>). It's not 100% clear that this is well defined; also, it somehow captures the idea that <code>r</code> is a well-founded order (even though there is no condition that <code>r</code> be an order relation).</p>\n<p>If an element <code>x</code> has no smaller <code>y</code>, then it is accessible (because all the non-existent smaller <code>y</code>'s are accessible); say, it is \"level-1 accessible\". Then, if all the <code>y</code>'s that are smaller than <code>x</code> have no smaller elements, then they are all accessible, and so <code>x</code> is accessible, say \"level-2 accessible\".</p>\n<p>Continue this pattern, defining all \"levels\" of accessibility; an element will be \"level-k accessible\" if all lower elements are accessible at levels <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>&lt;</mo><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">&lt;k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>.</p>\n<p>Then, define an accessible element as one that is accessible at some level, and <code>r</code> to be well-founded if all elements are accessible.</p>\n<p>It should be clear that if your order has an infinite decreasing sequence, then no element in the sequence is accessible (because \"accessibility level\" decreases when going to a smaller element) and so <code>r</code> is not well-founded. I think you need some form of the axiom of choice to prove the reverse, that if not all elements are accessible then  you get an infinite decreasing sequence.</p>\n<p>What this boils down to is that if you try to build a recursive function that only makes recursive calls on <code>r</code>-smaller elements, the function will always terminate if called on an accessible element.</p>",
        "id": 505994037,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1742157342
    }
]