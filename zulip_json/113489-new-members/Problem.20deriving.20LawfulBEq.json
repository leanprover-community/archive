[
    {
        "content": "<p>I have this type defined:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">UnificationVar</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"w\">  </span><span class=\"n\">deriving</span><span class=\"w\"> </span><span class=\"n\">BEq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Hashable</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">LawfulBEq</span>\n</code></pre></div>\n<p>but there's an error for <code>LawfulBEq</code>: <code>default handlers have not been implemented yet, class: 'LawfulBEq' types: [UnificationVar]</code></p>\n<p>What does this error mean and how can I fix it?</p>",
        "id": 504319252,
        "sender_full_name": "aron",
        "timestamp": 1741469196
    },
    {
        "content": "<p>If you just do <code>deriving DecidableEq</code> then both <code>BEq</code> and <code>LawfulBEq</code> are available by typeclass synthesis.</p>",
        "id": 504320024,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741469782
    },
    {
        "content": "<p>ah nice, that worked! thanks!</p>",
        "id": 504322318,
        "sender_full_name": "aron",
        "timestamp": 1741471551
    },
    {
        "content": "<p>but could you still help me understand what the original error means?</p>",
        "id": 504322383,
        "sender_full_name": "aron",
        "timestamp": 1741471585
    },
    {
        "content": "<p><code>default handlers have not been implemented yet</code> probably means no one has told Lean what to do when it encounters <code>deriving LawfulBEq</code>.</p>",
        "id": 504322458,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741471661
    },
    {
        "content": "<p><code>BEq</code> tends to be misleading to new users. I can't think of any reason you wouldn't want <code>DecidableEq</code> instead of <code>BEq</code> + <code>LawfulBEq</code>. There are some tricky problems you can get into too if you have all three defined.</p>",
        "id": 504325142,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1741473943
    }
]