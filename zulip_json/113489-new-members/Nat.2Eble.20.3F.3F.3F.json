[
    {
        "content": "<p>This is very strange:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"c1\">-- true</span>\n\n<span class=\"c1\">-- ble defined like Nat.ble (Init.Prelude.lean lines 1628-1640 )</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">,</span><span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\">   </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">,</span><span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\">   </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span>\n\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"c1\">-- true</span>\n\n<span class=\"c1\">-- But !!</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"c1\">--false</span>\n</code></pre></div>",
        "id": 482551997,
        "sender_full_name": "Burkhardt Renz",
        "timestamp": 1731657680
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.ble#doc\">docs#Nat.ble</a></p>",
        "id": 482552162,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731657730
    },
    {
        "content": "<p><em>shrug</em></p>",
        "id": 482552413,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731657823
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.ble#doc\">docs#Nat.ble</a></p>\n<p>The (Boolean) less-equal relation on natural numbers.</p>\n<p>I would expect that <br>\nNat.ble 42 42  evaluates to true</p>",
        "id": 482552639,
        "sender_full_name": "Burkhardt Renz",
        "timestamp": 1731657890
    },
    {
        "content": "<p>I think most people here would agree with you that 42 &lt;= 42. Did you try with 37?</p>",
        "id": 482552839,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731657960
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">37</span><span class=\"w\"> </span><span class=\"mi\">37</span><span class=\"w\"> </span><span class=\"c1\">-- false</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"c1\">-- false</span>\n</code></pre></div>",
        "id": 482553110,
        "sender_full_name": "Burkhardt Renz",
        "timestamp": 1731658043
    },
    {
        "content": "<p>This gives a soundness bug (also in nightly):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">oops</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">nomatch</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">native_decide</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">print</span><span class=\"w\"> </span><span class=\"n\">axioms</span><span class=\"w\"> </span><span class=\"n\">oops</span>\n</code></pre></div>",
        "id": 482553326,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1731658122
    },
    {
        "content": "<p>At least it requires native decide. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">reduce</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"c1\">-- true</span>\n<span class=\"bp\">#</span><span class=\"n\">reduce</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"mi\">42</span><span class=\"w\"> </span><span class=\"c1\">-- true</span>\n\n<span class=\"c\">/-</span>\n<span class=\"cm\">Fails:</span>\n<span class=\"cm\">tactic 'decide' proved that the proposition</span>\n<span class=\"cm\">  Nat.ble 0 0 = false</span>\n<span class=\"cm\">is false</span>\n<span class=\"cm\">-/</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 482553810,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1731658319
    },
    {
        "content": "<p>This bug also occurs with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.blt#doc\">docs#Nat.blt</a></p>",
        "id": 482554215,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1731658450
    },
    {
        "content": "<p>If I understand correctly the problem is that <a href=\"https://github.com/leanprover/lean4/blob/a074bd9a2bd20cc470fbff4f80f2cd7b51ec0d0a/src/include/lean/lean.h#L1278\">https://github.com/leanprover/lean4/blob/a074bd9a2bd20cc470fbff4f80f2cd7b51ec0d0a/src/include/lean/lean.h#L1278</a> and <a href=\"https://github.com/leanprover/lean4/blob/a074bd9a2bd20cc470fbff4f80f2cd7b51ec0d0a/src/include/lean/lean.h#L1290\">https://github.com/leanprover/lean4/blob/a074bd9a2bd20cc470fbff4f80f2cd7b51ec0d0a/src/include/lean/lean.h#L1290</a> are missing <code>lean_unbox</code></p>",
        "id": 482554494,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1731658550
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"705569\">@Burkhardt Renz</span> , could you make a bug report at <a href=\"https://github.com/leanprover/lean4/issues/new/choose\">https://github.com/leanprover/lean4/issues/new/choose</a> ?</p>",
        "id": 482555456,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1731658883
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/issues/6086\">https://github.com/leanprover/lean4/issues/6086</a></p>",
        "id": 482561320,
        "sender_full_name": "Burkhardt Renz",
        "timestamp": 1731660879
    },
    {
        "content": "<p>But isn't the boxed version of the scalar <code>x</code> just <code>(x&lt;&lt;1) | 1</code>? That shouldn't mess up the order relation.</p>",
        "id": 482568542,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1731663165
    },
    {
        "content": "<p>My unverified and speculative guess is that since <code>b_lean_obj_arg</code> is a pointer type, this comparison is actually undefined behavior and the compiler optimized it out entirely.</p>",
        "id": 482569383,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1731663420
    },
    {
        "content": "<p>It's a bug in the old code generator</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">[</span><span class=\"n\">compiler</span><span class=\"bp\">.</span><span class=\"n\">cce</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">x_1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">instOfNatNat</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">;</span>\n<span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">x_2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">x_1</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">;</span>\n<span class=\"bp\">_</span><span class=\"n\">x_2</span><span class=\"bp\">.</span><span class=\"n\">ble</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">x_2</span>\n<span class=\"o\">[</span><span class=\"n\">compiler</span><span class=\"bp\">.</span><span class=\"kn\">inline</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">instOfNatNat</span>\n<span class=\"o\">[</span><span class=\"n\">compiler</span><span class=\"bp\">.</span><span class=\"n\">simp</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"n\">false</span>\n</code></pre></div>",
        "id": 482570954,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1731663926
    },
    {
        "content": "<p>Yes, this looks incorrect: <a href=\"https://github.com/leanprover/lean4/blob/7dc1ceb8d4312850b39cef9e751e0a3b651946e3/src/Lean/Compiler/ConstFolding.lean#L136-L136\">https://github.com/leanprover/lean4/blob/7dc1ceb8d4312850b39cef9e751e0a3b651946e3/src/Lean/Compiler/ConstFolding.lean#L136-L136</a></p>",
        "id": 482571515,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1731664086
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260921\">Markus Himmel</span> <a href=\"#narrow/stream/113489-new-members/topic/Nat.2Eble.20.3F.3F.3F/near/482569383\">said</a>:</p>\n<blockquote>\n<p>My unverified and speculative guess is that since <code>b_lean_obj_arg</code> is a pointer type, this comparison is actually undefined behavior and the compiler optimized it out entirely.</p>\n</blockquote>\n<p>The result of comparing two pointers that don't point to the same object is not defined, so it would be good to unbox in either case. But I can't see what the compiler would remove to improve speed, unless it can somehow prove that the two pointers in question <em>never</em> point to the same object.</p>",
        "id": 482571532,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1731664090
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260921\">@Markus Himmel</span> Are you submitting a fix?</p>",
        "id": 482571972,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1731664226
    },
    {
        "content": "<p>Hah</p>",
        "id": 482574053,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1731664812
    },
    {
        "content": "<p>This means the current version of Lean is unsound, right? Any idea how long this has been present? (I don't think my version is up to date, and the bug does occur here).</p>",
        "id": 482593311,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1731670913
    },
    {
        "content": "<p>Not really. It's easy to prove <code>False</code> if you assume the native decide axiom.</p>",
        "id": 482594960,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731671492
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/Nat.2Eble.20.3F.3F.3F/near/482593311\">said</a>:</p>\n<blockquote>\n<p>This means the current version of Lean is unsound, right? Any idea how long this has been present? (I don't think my version is up to date, and the bug does occur here).</p>\n</blockquote>\n<p>It's only unsound with the <code>ofReduceBool</code> axiom, which pulls the entire Lean compiler into the trusted code base (whereas it's usually just the Lean kernel, which is a <em>much</em> smaller code base). </p>\n<p>Formalization projects of mathematics avoid it for this reason, whereas program verification projects tend to sometimes use it because they need to trust the Lean compiler anyways to produce correct code, so they might as well grab the performance benefits of <code>native_decide</code>, too.</p>",
        "id": 482595366,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1731671615
    },
    {
        "content": "<p>Mathlib only allows three axioms -- <code>propext</code>, <code>Classical.choice</code> and <code>Quot.sound</code>. If you can prove <code>False</code> using only those axioms then that is definitely a problem. But it's easy to define a constant as one thing, then tell Lean to implement it as another thing, and prove false; your proof will then rely on a fourth axiom <code>Lean.ofReduceBool</code>. It's also easy to prove <code>False</code> with <code>sorry</code> and then your proof will rely on a fifth axiom <code>sorryAx</code>. The key thing to check with a proof of <code>False</code> is <code>#print axioms proof_name</code>.</p>",
        "id": 482596533,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731671984
    },
    {
        "content": "<p>Mathematicians care very much about soundness, but there will be programmers who are less bothered about this but want the benefits of <code>native_decide</code>. It's horses for courses, but <code>#print axioms</code> always tells you whether or not to worry.</p>",
        "id": 482596908,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731672065
    },
    {
        "content": "<p>OK - I see this via the contextual help on <code>native_decide</code>. </p>\n<p>The disturbing part is that one doesn't need to import anything for this to become available.</p>\n<p>So basically, anytime you obtain a proof of something, you should check its used axioms. Right? (Or could the untrusty compiler itself mess with this?)</p>",
        "id": 482597239,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1731672142
    },
    {
        "content": "<p>Here's a proof of false (originally due to Mac <a href=\"#narrow/channel/270676-lean4/topic/Array.2EanyM.20is.20inconsistent/near/396007426\">here</a>) which doesn't import anything and is not a bug, but which relies on the <code>Lean.ofReduceBool</code> axiom.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">not_zero</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">37</span>\n<span class=\"kd\">@[</span><span class=\"n\">implemented_by</span><span class=\"w\"> </span><span class=\"n\">not_zero</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">oops</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">not_zero</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"c1\">-- kernel checks this, no axioms</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">not_zero</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">native_decide</span><span class=\"w\"> </span><span class=\"c1\">-- trusts `implemented_by`</span>\n<span class=\"w\">  </span><span class=\"n\">contradiction</span>\n<span class=\"bp\">#</span><span class=\"n\">print</span><span class=\"w\"> </span><span class=\"n\">axioms</span><span class=\"w\"> </span><span class=\"n\">oops</span>\n<span class=\"c1\">-- 'oops' depends on axioms: [Lean.ofReduceBool]</span>\n</code></pre></div>",
        "id": 482599528,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731672809
    },
    {
        "content": "<p>This code just demonstrates the flexibility of Lean rather than anything else. I literally tell the compiler a lie and then show that you can prove false if you trust the compiler. </p>\n<p>The example which this thread is about is caused by the fact that someone accidentally told the compiler a lie. But I don't trust the compiler (precisely because you can tell it lies) so this is of no relevance to me as a mathematician.</p>",
        "id": 482599745,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731672882
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/Nat.2Eble.20.3F.3F.3F/near/482597239\">said</a>:</p>\n<blockquote>\n<p>So basically, anytime you obtain a proof of something, you should check its used axioms. Right? </p>\n</blockquote>\n<p>Sure. For example you want to check that the proof is <code>sorry</code>-free! (the file might be, but it might import a file with a <code>sorry</code>). And <code>#print axioms</code> will check this.</p>",
        "id": 482601106,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731673379
    },
    {
        "content": "<p>Why does not implemented_by not take a theorem to prove that it's equal, I still don't understand.</p>",
        "id": 482711343,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1731713726
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"726077\">Philippe Duchon</span> <a href=\"#narrow/channel/113489-new-members/topic/Nat.2Eble.20.3F.3F.3F/near/482593311\">said</a>:</p>\n<blockquote>\n<p>This means the current version of Lean is unsound, right? Any idea how long this has been present? (I don't think my version is up to date, and the bug does occur here).</p>\n</blockquote>\n<p>Essentially consistency(or soundness) revolves around axioms, really overall inconsistency(strictly speaking unsoundness) is something like existence  of an axiom-free closed term with type 'False'.</p>",
        "id": 482723583,
        "sender_full_name": "Abraham Solomon",
        "timestamp": 1731722990
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/113489-new-members/topic/Nat.2Eble.20.3F.3F.3F/near/482711343\">said</a>:</p>\n<blockquote>\n<p>Why does not implemented_by not take a theorem to prove that it's equal, I still don't understand.</p>\n</blockquote>\n<p>This exists as <code>csimp</code>. People are going to want a feature that does this kind of substitution for things at are opaque or don't have an equality proof no matter what you do. Adding a proof requirement to <code>implemented_by</code> just moves the issue to whatever the replacement is.</p>",
        "id": 482770835,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1731764388
    },
    {
        "content": "<p>I guess I would prefer to see <code>csimp ... by sorry</code> over implemented_by usually, which is my complaint. I'm totally fine with people not proving everything, or skipping things that can't be proven. I just believe that such things should be more obvious when we choose to do them. <code>sorryAx</code> is, imo, a better representation of this than <code>ofReduceBool</code>.</p>",
        "id": 482818068,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1731807036
    }
]