[
    {
        "content": "<p>How can this be okay?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">256</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2314920498230948</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">UInt8</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">234324234</span>\n</code></pre></div>",
        "id": 454048947,
        "sender_full_name": "Michal Wallace (tangentstorm)",
        "timestamp": 1721939265
    },
    {
        "content": "<p>Like.. looking at the definition of <code>Fin</code>, not only would i expect this to throw an error (it doesn't), but I expect to have to require proof that the number is less than the limit. What am I missing here?</p>",
        "id": 454049285,
        "sender_full_name": "Michal Wallace (tangentstorm)",
        "timestamp": 1721939367
    },
    {
        "content": "<p>This is using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.instNatCast#doc\">docs#Fin.instNatCast</a> - see also  <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.natCast_def#doc\">docs#Fin.natCast_def</a>.</p>\n<p>It is also possible to construct using a proof: e.g. <code>def x : Fin 256 := ⟨255, by omega⟩</code>. In this case it wouldn't matter much since you have ground terms, but this does make a difference if you want to lift a variable to Fin for example.</p>",
        "id": 454050009,
        "sender_full_name": "llllvvuu",
        "timestamp": 1721939624
    },
    {
        "content": "<p>huh. i was thrown off because <code>#print x</code> prints the definition with the big I typed in, but I see now that <code>#eval</code> gives me the number mod 256...</p>\n<p>But is it there some flag I could set to make this report an error instead of doing the conversion silently?</p>",
        "id": 454050917,
        "sender_full_name": "Michal Wallace (tangentstorm)",
        "timestamp": 1721940070
    },
    {
        "content": "<p>Not exactly but you could try <code>attribute [-instance] Fin.instNatCast</code></p>",
        "id": 454055592,
        "sender_full_name": "llllvvuu",
        "timestamp": 1721942198
    },
    {
        "content": "<p>You could locally remove the instance tag from <code>Fin.instNatCast</code> I guess.</p>",
        "id": 454055625,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1721942210
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"423842\">Michal Wallace (tangentstorm)</span> <a href=\"#narrow/stream/113489-new-members/topic/why.20does.20.28x.20.3A.20Fin.20y.29.20allow.20x.20.3E.20y.20.3F/near/454049285\">said</a>:</p>\n<blockquote>\n<p>Like.. looking at the definition of <code>Fin</code>, not only would i expect this to throw an error (it doesn't), but I expect to have to require proof that the number is less than the limit. What am I missing here?</p>\n</blockquote>\n<p>You can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.Icc#doc\">docs#Finset.Icc</a> for that kind of behavior</p>",
        "id": 454060682,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1721944755
    },
    {
        "content": "<p>thanks, everyone!</p>",
        "id": 454069963,
        "sender_full_name": "Michal Wallace (tangentstorm)",
        "timestamp": 1721950242
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"423842\">Michal Wallace (tangentstorm)</span> has marked this topic as resolved.</p>",
        "id": 454069964,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721950245
    }
]