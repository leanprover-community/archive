[
    {
        "content": "<p>suppose i have a very long expression e in conversion mode, and i want to rewrite it into f. I can do this by <code>rw [show e = f from by ...]</code>, but i don't want to write e again (and sometimes simply copying it from the infoview doesn't work because it lacks certain context). Is there a way to not write e again, something like <code>rw [show _ = f from by ...]</code>?</p>",
        "id": 491693909,
        "sender_full_name": "S L",
        "timestamp": 1735870518
    },
    {
        "content": "<p>(<a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> is helpful, since that grounds the suggestions with something concrete)</p>\n<p><code>conv</code> mode has an <code>equal f =&gt; ...</code> block (available in Batteries) that seems like what you're looking for. <a href=\"https://leanprover-community.github.io/mathlib4_docs/docs/Conv/Guide.html\">https://leanprover-community.github.io/mathlib4_docs/docs/Conv/Guide.html</a> has a list of available tactics, though it's somewhat out of date.</p>",
        "id": 491700472,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1735876293
    },
    {
        "content": "<p>If you can use the latest mathlib, there is <code>change ?_</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"c1\">-- x = a + b</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 491702094,
        "sender_full_name": "Zhang Qinchuan",
        "timestamp": 1735877824
    }
]