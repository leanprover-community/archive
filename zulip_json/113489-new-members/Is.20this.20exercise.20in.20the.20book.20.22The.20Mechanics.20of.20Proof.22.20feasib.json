[
    {
        "content": "<p>In part \"2.5.9. Exercises\" in exercise 6 we have : <br>\n<a href=\"https://hrmacbeth.github.io/math2001/02_Proofs_with_Structure.html#id38\">https://hrmacbeth.github.io/math2001/02_Proofs_with_Structure.html#id38</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hxt</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">le_or_gt</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">H</span>\n<span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">      </span><span class=\"k\">calc</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">        </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">        </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">        </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">        </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rel</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hxt</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>\n<p>The tutorial requires us to use have H := le_or_gt s t</p>\n<p>So we first have the hypothesis hx : s ≤ t et h1 : (s - 1) * (t - 1) &lt; 0, we must demonstrate that t ≠ 1 </p>\n<p>According to hypothesis hx  : s ≤ t we can deduce that (s - 1) ≤ (t - 1) since adding -1 to both sides of an inequality does not change it</p>\n<p>The mathematical logic is that if we have (s - 1) * (t - 1) &lt; 0 then we have a positive factor and a negative factor.</p>\n<p>So we know that in (s - 1) * (t - 1) &lt; 0 the factor that is positive is (t - 1) because it is greater than (s - 1) :<br>\n(t - 1) &gt; 0</p>\n<p>Except that it is impossible to tell lean with the knowledge we have at this point in the lean tutorial, addarith cannot deduce this fact from the hypotheses</p>\n<p>We learned to use : ring, rw, rel, numbers, extra, addarith, cancel</p>\n<p>Then we learned to use several lemmas : </p>\n<p>ne_of_lt<br>\nne_of_gt<br>\nle_antisymm<br>\nle_or_succ_le<br>\neq_zero_or_eq_zero_of_mul_eq_zero<br>\nabs_le_of_sq_le_sq'<br>\nle_or_gt</p>\n<p>We can also use and (∧) and or (∨), the existence quantifier, creating hypotheses with have </p>\n<p>We are only allowed to use what we have learned at this point in the tutorial.</p>\n<p>The AI ​​gives me a solution with cases by contradiction, but we haven't learned proof by contradiction yet so we're not allowed to use it.</p>",
        "id": 527461000,
        "sender_full_name": "David Leroie",
        "timestamp": 1751888882
    },
    {
        "content": "<p>Please edit your post to use <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a></p>",
        "id": 527461171,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751888948
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib\">#lean4 &gt; Is this exercise in the book \"The Mechanics of Proof\" feasib</a> by <span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span>.</p>",
        "id": 527462613,
        "sender_full_name": "Notification Bot",
        "timestamp": 1751889463
    },
    {
        "content": "<p>I think casing on <code>le_or_gt s 1</code> will be more useful</p>",
        "id": 527463243,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751889665
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib/near/527463243\">said</a>:</p>\n<blockquote>\n<p>I think casing on <code>le_or_gt s 1</code> will be more useful</p>\n</blockquote>\n<p>We don't have the right, we have to use have H := le_or_gt s t</p>\n<p>Otherwise I managed to solve that with have H := le_or_gt (s - 1) 0 but you have to do as he said</p>",
        "id": 527464129,
        "sender_full_name": "David Leroie",
        "timestamp": 1751889938
    },
    {
        "content": "<p>you don't have to do what the author did</p>",
        "id": 527465116,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751890254
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib/near/527465116\">said</a>:</p>\n<blockquote>\n<p>you don't have to do what the author did</p>\n</blockquote>\n<p>It's not what the author did, but what the author told us to do.</p>",
        "id": 527470984,
        "sender_full_name": "David Leroie",
        "timestamp": 1751892085
    },
    {
        "content": "<blockquote>\n<p>As in <a href=\"https://hrmacbeth.github.io/math2001/02_Proofs_with_Structure.html#existential-hypothesis-2\">Example 2.5.2</a>, I used the lemma <code>le_or_gt</code>, which says that if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">s</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span> are real numbers then either <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo>≤</mo><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">s \\le t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>&lt;</mo><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">t &lt; s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6542em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">s</span></span></span></span>; it can be a useful case division.</p>\n</blockquote>\n<p>I don't see where you are being told to do anything</p>",
        "id": 527478096,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751894175
    },
    {
        "content": "<p>also <code>s</code> and <code>t</code> are free in this quote, they don't correspond to the <code>s</code> and <code>t</code> that you bound them to</p>",
        "id": 527478245,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751894218
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib/near/527478096\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>As in <a href=\"https://hrmacbeth.github.io/math2001/02_Proofs_with_Structure.html#existential-hypothesis-2\">Example 2.5.2</a>, I used the lemma <code>le_or_gt</code>, which says that if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">s</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span> are real numbers then either <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi><mo>≤</mo><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">s \\le t</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6151em;\"></span><span class=\"mord mathnormal\">t</span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>&lt;</mo><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">t &lt; s</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6542em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">t</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">s</span></span></span></span>; it can be a useful case division.</p>\n</blockquote>\n<p>I don't see where you are being told to do anything</p>\n</blockquote>\n<p>Okay, you're right, it doesn't explicitly say to use these parameters, but why is it there if we shouldn't use them?</p>\n<p>Is it possible to complete the exercise with these specific parameters? If it's impossible, then I'll use other parameters.</p>",
        "id": 527488117,
        "sender_full_name": "David Leroie",
        "timestamp": 1751897214
    },
    {
        "content": "<p>You should use it with (s := s) and (t := 1)</p>",
        "id": 527488298,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751897260
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib/near/527488298\">said</a>:</p>\n<blockquote>\n<p>You should use it with (s := s) and (t := 1)</p>\n</blockquote>\n<p>Could I have confirmation that it's impossible to do this with le_or_gt s t?</p>\n<p>Because even if it doesn't explicitly say to use that, I want to use it.</p>",
        "id": 527493998,
        "sender_full_name": "David Leroie",
        "timestamp": 1751898892
    },
    {
        "content": "<p>It's never impossible, since <code>obtain</code> preserves provability</p>",
        "id": 527494196,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751898954
    },
    {
        "content": "<p>but I don't think it's useful at all</p>",
        "id": 527494264,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751898972
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib/near/527494196\">said</a>:</p>\n<blockquote>\n<p>It's never impossible, since <code>obtain</code> preserves provability</p>\n</blockquote>\n<p>So how do we do it?</p>",
        "id": 527494891,
        "sender_full_name": "David Leroie",
        "timestamp": 1751899141
    },
    {
        "content": "<p>you do the cases, and then copy-paste the proof that uses <code>le_or_gt s 1</code> onto both of the cases, ignoring the new hypotheses that you get in each case</p>",
        "id": 527495136,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751899216
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Is.20this.20exercise.20in.20the.20book.20.22The.20Mechanics.20of.20Proof.22.20feasib/near/527495136\">said</a>:</p>\n<blockquote>\n<p>you do the cases, and then copy-paste the proof that uses <code>le_or_gt s 1</code> onto both of the cases, ignoring the new hypotheses that you get in each case</p>\n</blockquote>\n<p>Yes, I thought about doing that, but can we do it with the hypotheses<br>\n(s - 1) * (t - 1) &lt; 0<br>\ns ≤ t<br>\ns &gt; t</p>\n<p>without creating a new hypothesis?</p>",
        "id": 527496089,
        "sender_full_name": "David Leroie",
        "timestamp": 1751899476
    },
    {
        "content": "<p>probably not (I haven't tried but it doesn't seem possible)</p>",
        "id": 527496599,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751899630
    }
]