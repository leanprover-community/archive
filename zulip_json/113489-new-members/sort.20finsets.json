[
    {
        "content": "<p>Hi,<br>\nis it possible to sort a finset by the Ord typeclass?<br>\nIt does not seem to play well with finsets, i tried</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">C</span>\n<span class=\"n\">deriving</span><span class=\"w\">  </span><span class=\"n\">Fintype</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ord</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">sorted</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">elems</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">sort</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ord</span><span class=\"bp\">.</span><span class=\"n\">compare</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c1\">-- sort expects I -&gt; I -&gt; Prop</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">sorted2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">elems</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">sort</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Ord</span><span class=\"bp\">.</span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Ordering</span><span class=\"bp\">.</span><span class=\"n\">lt</span><span class=\"o\">)</span>\n<span class=\"c1\">-- cannot derive IsTrans IsAntisymm IsTotal</span>\n</code></pre></div>\n<p>if not by Ord, is there another solution without manual definition of an ordering?</p>",
        "id": 508727289,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1743160269
    },
    {
        "content": "<p>I think you want a <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Defs/LinearOrder.html#LinearOrder\">LinearOrder</a>. Then you can do <code>Fintype.elems.sort (· ≤ ·)</code>.</p>",
        "id": 508738171,
        "sender_full_name": "Albus Dompeldorius",
        "timestamp": 1743163559
    },
    {
        "content": "<p>Unfortunately I don't think <code>deriving LinearOrder</code> currently works, but it would be a good project to make it do so</p>",
        "id": 508744727,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743165505
    }
]