[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"import\"><pre><span></span><code>import Mathlib.Data.Real.Basic\n\nimport Mathlib.Analysis.Calculus.Deriv.Basic\n\nimport Mathlib.Data.Nat.Basic\n\nimport Mathlib.Data.Nat.GCD.Basic\n\nimport Mathlib.Data.Finset.Basic\n\nimport Mathlib.Data.Fintype.Basic\n\nimport Mathlib.Algebra.BigOperators.Intervals\n\nimport Mathlib.Algebra.GCDMonoid.Finset\n\nopen List\n\nopen Finset Nat\n\nopen Nat\n\nnamespace NumberTheory\n\nvariable (k : ℕ) (hk : 1 ≤ k)\n\nvariable (hk0 : 0 &lt; k := Nat.lt_of_lt_of_le (by decide) hk)\n\nvariable (i : Fin k)\n\nvariable (a : Fin k → ℕ) (b : Fin k → ℕ)\n\nvariable (ha_range : ∀ i, i ∈ Set.Icc (1 : ℕ) k)\n\nvariable (ha : ∀ i, a i &gt; 0) (hb : ∀ i, b i &gt; 0)\n\nvariable (N : Type) [CancelCommMonoidWithZero N] [NormalizedGCDMonoid N]\n\nvariable [inst1 : CancelCommMonoidWithZero N]\n\nvariable [inst2 : NormalizedGCDMonoid N]\n\nvariable (ha_inj : Function.Injective a)\n\nvariable (ha_inji : Function.Injective b)\n\ndef a₀ : ℕ := a ⟨0, hk0⟩\n\ndef b₀ : ℕ := b ⟨0, hk0⟩\n\ndef a_i (i : Fin k) : ℕ := a i\n\ndef b_i (i : Fin k) : ℕ := b i\n\nexample (i : Fin k) : ℕ := a i  -- aᵢ\n\nexample (i : Fin k) : ℕ := b i  -- bᵢ\n\nvariable (h_coprime : ∀ (i : Fin k), gcd (a i) (b i) = 1)\n\ndef indices (k : ℕ) : Finset (Fin k) := Finset.univ\n\ndef b_values : Finset ℕ := Finset.image b (indices k)\n\ndef m (k : ℕ) (b : Fin k → ℕ) : ℕ := Finset.fold lcm 1 b (indices k)\n--lemma izj (i : Fink) : i ∈ indices k := by\n--exact Finset.mem_univ i\n\nlemma mem_indices (i : Fin k) : i ∈ indices k := by\n\n exact Finset.mem_univ i\n\nlemma b_dvd_m (i : Fin k) : b_i ∣ m k b := by\n\n  unfold m\n\n  have mem_b : b i ∈ b_values k b := by\n\n    unfold b_values\n\n    unfold indices\n\n    rw [Finset.mem_image]\n\n    use i\n\n    constructor\n\n    . exact Finset.mem_univ i\n\n    . rfl\n\n  unfold b_i\n\n  exact Finset.dvd_lcm (s := b_values k b) (f := id) (b := b_i) mem_b\n\nend NumberTheory```\n</code></pre></div>",
        "id": 533387864,
        "sender_full_name": "grandxuan pan",
        "timestamp": 1754620384
    },
    {
        "content": "<p>Why does my lean4 code get an error at exact Finset.dvd_lcm (s := b_values k b) (f := id) (b := b_i) mem_b Application type mismatch: In the application<br>\n@dvd_lcm ℕ ℕ ?m.20702 ?m.20703 (b_values k b) id b_i<br>\nthe argument<br>\nb_i<br>\nhas type<br>\n(k : ℕ) → (Fin k → ℕ) → Fin k → ℕ : Type<br>\nbut is expected to have type</p>",
        "id": 533387883,
        "sender_full_name": "grandxuan pan",
        "timestamp": 1754620395
    },
    {
        "content": "<p><a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0ARFJHAJQFMl0cAhJAZ2AGMAoJ0SWRFDbHAQQDsKAT3q0cAYQoMArumli8pKMABu1OoxZto8ZGky4CMIgDkU6+s1bgdnfTyOnzAcXF4Lm6+11cD+QjgAYsD8tKQwHlbaHHrchgHB/DBCYKSRWjYxvjy86ADmpFhQRFTAeQDyqcUw0GIAkklKKhS0Gd52cXz5hcU4rngIEPwQwAAmQSFhMCwQqfxwADLAtNNMs6TziVNwZqvr87ssgiCktGBIDKQ70iBYSgAqqKTQQizNykhY6FcAFADWcAAXHBAKiEAEo4D9UADgQBGOCAEyI4H8wW8kB8vr9oQAGIFwXEAHmRQIAvDtzOgYAB9CAAMyplJp9O+kKwQjgo1IDDGpAh0NRTHewE+LJ+wDxiWRAqFIt+SAlIWJgCTCUEQn5YBXzAEq8FojGi1BIKnFfgFPGAACI4MAADRWuCACCI4ABlcI4OoMBiQ+HA8FSvXCzGQw0Wq22+XigB8+LVqA1wMtNrgGsj0f9sshJjx9xSvLgAG1JPxLuhxBAQCBBsMxgB1YBoABaSggOwAuvmTNAQBRgAAvUijfqVkajVtpwN5yYwb1wQvF0vloc1uuoRtQZsmFtjlkT0IwABMeI7UC7mD7A7ci5HG63WKNIQAVhLpEWYMAhm7+Peua+VFckNL0QDA070/cVgUCZ8GFfd8Gi/KDVCuLABU5Wk4CQQAAgjxEFSTQuBAAvybFbRxQBL8hYFCk0wn0cI1AiiL+bFSKYci70hMC4ElFEsJw8MyNIVCsCpcUxU1KUuMBMlkxYUgAA8kHAUU2I4iEqPE3DxTgABaDS0MAI1wpNk+TfkUxVOJUiS7U07SsD0wVAPTKEqQYWZlBOENhPAkywVtPIGBHH5wzVZMITJWFkL4q1+FGRhTkhGFVU1bYfiUnCtldZ9VF4/iqWaOQYo80JwlBFLJldUAkDNDUxUi6LaD9JjwpAWKsMCkTtXisz2JKiJaQgdAR3QBhGvhSqQiiy5apRJgtO+ctwx7R93M6/hTLtR1Rpq4lVLZKaNJki54FSiIThAKl0pUK0WBmrs4GOwTqvG1jWuU1aIrGmKYQk14mDgPaoKWqYcFus6LqYK75QE0YVFGKlGsW5LgQE8VAGIiG7iTjT6WDgOBnx6vqbsxuBDV/G7SBOuMkxegScukd6Ka2r6saxnHepHKmKBp1pvsZ5m8fW8aCaxqAAHd80OwHScErsCk3LmmbCEHGbgJzdygaQoOgAW4BwH7ZL+sWgf4VQFcZ7WoFpdACZ51nBIJ36Dq6nBIehgbYdqrbsvZ2mkMhVDVLGFr3eACFbqwKTIuuW4HieF4gA\">failed to synthesize NormalizedGCDMonoid ℕ</a></p>",
        "id": 533397975,
        "sender_full_name": "Serhii Khoma (srghma)",
        "timestamp": 1754629606
    },
    {
        "content": "<p>The error you're quoting half of is fairly clear: <code>b_i</code> is not a valid argument here. Maybe <code>b i</code> is what you meant, but then there's still other issues</p>",
        "id": 533404669,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1754634493
    },
    {
        "content": "<p>The \"failed to synthesize\" error can be solved by adding the right import, but the <code>exact</code> turns out not to match the goal either</p>",
        "id": 533404791,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1754634576
    },
    {
        "content": "<p>(and a maintainer should probably move this thread to <a class=\"stream\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members\">#new members</a>)</p>",
        "id": 533404866,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1754634612
    },
    {
        "content": "<p>Thank you, thank you—I see now where I was wrong. In other words, what I need here is a natural-number type, but b－i is not of that kind. So my question now is: how can I convert a number of type b－i into the N type?</p>",
        "id": 533432157,
        "sender_full_name": "grandxuan pan",
        "timestamp": 1754646244
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Why.20does.20my.20lean4.20code.20get.20an.20error\">#lean4 &gt; Why does my lean4 code get an error</a> by <span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span>.</p>",
        "id": 533534837,
        "sender_full_name": "Notification Bot",
        "timestamp": 1754691403
    },
    {
        "content": "<p>` ``import Mathlib.Algebra.Group.Defs  </p>\n<p>import Mathlib.Data.Real.Basic    </p>\n<p>import Mathlib.Analysis.Calculus.Deriv.Basic  </p>\n<p>import Mathlib.Data.Nat.Basic</p>\n<p>import Mathlib.Data.Nat.GCD.Basic</p>\n<p>import Mathlib.Data.Finset.Basic  </p>\n<p>import Mathlib.Data.Fintype.Basic  </p>\n<p>import Mathlib.Algebra.BigOperators.Intervals</p>\n<p>import Mathlib.Algebra.GCDMonoid.Finset</p>\n<p>import Mathlib.Algebra.GCDMonoid.Nat</p>\n<p>open List  </p>\n<p>open Finset Nat</p>\n<p>open Nat</p>\n<p>namespace NumberTheory</p>\n<p>variable (k : ℕ) (hk : 1 ≤ k)</p>\n<p>variable (hk0 : 0 &lt; k := Nat.lt_of_lt_of_le (by decide) hk)</p>\n<p>variable (i : Fin k)</p>\n<p>variable (a : Fin k → ℕ) (b : Fin k → ℕ)  </p>\n<p>variable (ha_range : ∀ i, i ∈ Set.Icc (1 : ℕ) k)</p>\n<p>variable (ha : ∀ i, a i &gt; 0) (hb : ∀ i, b i &gt; 0)</p>\n<p>variable (N : Type) [CancelCommMonoidWithZero N] [NormalizedGCDMonoid N]</p>\n<p>variable [inst1 : CancelCommMonoidWithZero N]</p>\n<p>variable [inst2 : NormalizedGCDMonoid N]</p>\n<p>variable (ha_inj : Function.Injective a)</p>\n<p>variable (ha_inji : Function.Injective b)</p>\n<p>def a₀ : ℕ := a ⟨0, hk0⟩</p>\n<p>def b₀ : ℕ := b ⟨0, hk0⟩</p>\n<p>def a_i (i : Fin k) : ℕ := a i</p>\n<p>example (i : Fin k) : ℕ := a i  -- aᵢ</p>\n<p>def b_i (i : Fin k) : ℕ := b i</p>\n<p>theorem id_eq_b_i : id (b_i k b i) = b_i k b i := rfl</p>\n<p>variable (h_coprime : ∀ (i : Fin k), Nat.gcd (a i) (b i) = 1)</p>\n<p>def indices (k : ℕ) : Finset (Fin k) := Finset.univ</p>\n<p>def b_values : Finset ℕ := Finset.image b (indices k)</p>\n<p>def m (k : ℕ) (b : Fin k → ℕ) : ℕ := fold Nat.lcm 1 b (indices k)  <br>\n--lemma izj (i : Fink) : i ∈ indices k := by<br>\n--exact Finset.mem_univ i  为什么我的这种写法是错误的，但是下面的是正确的？</p>\n<p>lemma mem_indices (i : Fin k) : i ∈ indices k := by</p>\n<p>exact Finset.mem_univ i</p>\n<p>lemma b_dvd_m (i : Fin k) : (b_i k b i) ∣ m k b := by</p>\n<p>unfold m</p>\n<p>have mem_b : b i∈ b_values k b := by</p>\n<p>unfold b_values</p>\n<p>unfold indices</p>\n<p>rw [Finset.mem_image]</p>\n<p>use i</p>\n<p>constructor</p>\n<p>. exact Finset.mem_univ i  </p>\n<p>. rfl</p>\n<p>unfold b_i</p>\n<p>#check (b_i  k b i )</p>\n<p>have id_eq : id (b_i k b i) = b_i k b i := by</p>\n<p>rfl</p>\n<p>exact Finset.dvd_lcm  (s := b_values k b) (f := id) (b := b_i k b i) mem_b</p>\n<p>end NumberTheory` ``</p>",
        "id": 533553116,
        "sender_full_name": "grandxuan pan",
        "timestamp": 1754714163
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"944484\">@grandxuan pan</span> the backticks go on a newline</p>",
        "id": 533558708,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754720837
    }
]