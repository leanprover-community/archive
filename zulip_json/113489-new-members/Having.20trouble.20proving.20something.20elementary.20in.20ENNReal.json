[
    {
        "content": "<p>I'm trying to prove this elementary thing in ENNReal and I can't figure out how. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"bp\">≥</span><span class=\"mi\">0</span><span class=\"bp\">∞</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mf\">0.5</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"bp\">∞</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Ne</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ne_of_beq_false</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n</code></pre></div>\n<p>I tried lifting p to the reals, but that doesn't work. (I assume because <code>p</code> is bound)<br>\nI was able to figure things out if I defined p this way:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"bp\">≥</span><span class=\"mi\">0</span><span class=\"bp\">∞</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ENNReal</span><span class=\"bp\">.</span><span class=\"n\">ofReal</span><span class=\"w\"> </span><span class=\"mf\">0.5</span>\n</code></pre></div>\n<p>but that feels like it shouldn't be necessary.</p>",
        "id": 512442989,
        "sender_full_name": "Alex Zani",
        "timestamp": 1744767640
    },
    {
        "content": "<p>does <code>norm_num</code> work?</p>",
        "id": 512443310,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744767859
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/Having.20trouble.20proving.20something.20elementary.20in.20ENNReal/near/512443310\">said</a>:</p>\n<blockquote>\n<p>does <code>norm_num</code> work?</p>\n</blockquote>\n<p>Nope. It does nothing.</p>",
        "id": 512443641,
        "sender_full_name": "Alex Zani",
        "timestamp": 1744768107
    },
    {
        "content": "<p>Someone should write a <code>norm_num</code> extension for <code>ENNReal</code></p>",
        "id": 512444217,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744768496
    },
    {
        "content": "<p>Not possible, norm_num only supports division in division rings not division semirings</p>",
        "id": 512445631,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744769379
    },
    {
        "content": "<p>Unless you revive <a href=\"https://github.com/leanprover-community/mathlib4/pull/9915\">#9915</a></p>",
        "id": 512445700,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744769407
    },
    {
        "content": "<p>Should I revive <a href=\"https://github.com/leanprover-community/mathlib4/pull/9915\">#9915</a>?</p>",
        "id": 512446448,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744769871
    },
    {
        "content": "<p>It seems to be over a year old</p>",
        "id": 512446529,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744769902
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 512467419,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744782554
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Having.20trouble.20proving.20something.20elementary.20in.20ENNReal\">#lean4 &gt; Having trouble proving something elementary in ENNReal</a> by <span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span>.</p>",
        "id": 512509027,
        "sender_full_name": "Notification Bot",
        "timestamp": 1744796596
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"433876\">@Alex Zani</span> the <a class=\"stream\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4\">#lean4</a> channel is for questions about core Lean itself, not questions which involve mathlib. Your question would be easier to answer if you wrote it as a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> .</p>",
        "id": 512509150,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744796642
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/stream/113489-new-members/topic/Having.20trouble.20proving.20something.20elementary.20in.20ENNReal/near/512446448\">said</a>:</p>\n<blockquote>\n<p>Should I revive <a href=\"https://github.com/leanprover-community/mathlib4/pull/9915\">#9915</a>?</p>\n</blockquote>\n<p>It needs reviving, but I think Mario and I had some private conversation about it that I probably should find and share first, to save you making the same mistakes</p>",
        "id": 512510298,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744796946
    }
]