[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Prelude</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Calculus</span><span class=\"bp\">.</span><span class=\"n\">Gradient</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">example</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">nhd0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">three_odd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Odd</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">nhd0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Odd</span><span class=\"bp\">.</span><span class=\"n\">pow_neg_iff</span><span class=\"w\"> </span><span class=\"n\">three_odd</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- why doesn't this find `x ^ 3 &lt; 0`?</span>\n<span class=\"w\">  </span><span class=\"c1\">-- tactic 'rewrite' failed, did not find instance of the pattern in the target expression</span>\n<span class=\"w\">  </span><span class=\"c1\">--   ?m.1140 ^ 3 &lt; 0</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>-&gt; why doesn't <code>rw</code> find the pattern within the <code>∃</code> block?</p>",
        "id": 516760958,
        "sender_full_name": "Becker A.",
        "timestamp": 1746649773
    },
    {
        "content": "<p><a href=\"#narrow/channel/113489-new-members/topic/rw.20not.20finding.20pattern.20within.20exists.20block/near/516760958\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/rw.20not.20accepting.20pattern/with/506209567\">#new members &gt; rw not accepting pattern</a> by <span class=\"user-mention silent\" data-user-id=\"885689\">Becker A.</span>.</p>",
        "id": 516761132,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746649832
    },
    {
        "content": "<p>Because <code>rw</code> doesn't work under binders (most of the time). <code>simp_rw</code> will work in your case.</p>",
        "id": 516761782,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1746650120
    },
    {
        "content": "<p>You can also use dot-notation to shorten the <code>pow_neg_iff</code> reference:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">nhd0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">three_odd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Odd</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">nhd0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp_rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">three_odd</span><span class=\"bp\">.</span><span class=\"n\">pow_neg_iff</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 516761915,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1746650163
    },
    {
        "content": "<p>and three is odd so <code>(by decide : Odd 3).pow_neg_iff</code> should work</p>",
        "id": 516764217,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1746651202
    },
    {
        "content": "<p>awesome, thanks!</p>",
        "id": 516823921,
        "sender_full_name": "Becker A.",
        "timestamp": 1746687489
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"885689\">Becker A.</span> has marked this topic as resolved.</p>",
        "id": 516823928,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746687493
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> has marked this topic as resolved.</p>",
        "id": 516968519,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746733362
    }
]