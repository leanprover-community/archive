[
    {
        "content": "<p>In addition to <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span> 's comment, I have a stupid question:  Why does Lean insist on specifying type classes even for \"obvious\" cases?  E.g. when I write <code>+</code>, Lean already knows I mean \"HAdd\"; and similar with e.g. <code>OfNat</code>.  While I am ok and in general in favor of the \"explicit is better than implicit\" mantra, there are times when I can't think of any reason why things could be ambiguous (and e.g. Rust can figure out its traits!).  Since there are no separate interface files (like e.g. in ML/OCaml), I don't see why those instances couldn't just be added automatically to the function signature based on the function body.</p>",
        "id": 478768270,
        "sender_full_name": "Tom",
        "timestamp": 1729791442
    },
    {
        "content": "<p>Maybe this would be better in a different thread? Are you asking \"why can't Lean auto-add instance arguments?\"</p>",
        "id": 478768523,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729791561
    },
    {
        "content": "<p>2 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Why.20return.20type.20of.20partial.20function.20MUST.20.02klzzwxh.3A0000.03.3F\">#new members &gt; Why return type of partial function MUST <code>inhabited</code>?</a> by <span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span>.</p>",
        "id": 478768641,
        "sender_full_name": "Notification Bot",
        "timestamp": 1729791610
    },
    {
        "content": "<p>Happy to start another thread.  It seems you were proposing to add some form of \"Inhabited\" by default, so my question seemed related.</p>",
        "id": 478768666,
        "sender_full_name": "Tom",
        "timestamp": 1729791623
    },
    {
        "content": "<p>Ah, I see you beat me to it, thanks. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 478768732,
        "sender_full_name": "Tom",
        "timestamp": 1729791656
    },
    {
        "content": "<p>The feature was to auto-derive instances from pre-existing instances, no automatic adding of new arguments.</p>",
        "id": 478768823,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729791692
    },
    {
        "content": "<p>I see; I guess my question is not \"related\" but stands on its own then.</p>",
        "id": 478769025,
        "sender_full_name": "Tom",
        "timestamp": 1729791759
    },
    {
        "content": "<p>For your question, it's similar to your questions from about a month ago: typeclasses aren't just constraints, and you can't just add in the extra arguments without breaking things.</p>",
        "id": 478769048,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729791773
    },
    {
        "content": "<p>For example, you might want your HAdd to come from a particular Field instance, not the random one added in because you used +</p>",
        "id": 478769169,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729791836
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"515083\">Tom</span> <a href=\"#narrow/channel/113489-new-members/topic/Specifying.20typeclasses.20for.20'obvious'.20cases/near/478768270\">said</a>:</p>\n<blockquote>\n<p>E.g. when I write <code>+</code>, Lean already knows I mean \"HAdd\"; and similar with e.g. <code>OfNat</code></p>\n</blockquote>\n<p>because you often <em>don't</em> want <code>HAdd</code>, <code>HMul</code>, etc... you want something like <code>Add</code>, <code>Mul</code>, <code>Group</code>, <code>Ring</code>, etc... And detecting <em>which</em> of these is intended is nigh-impossible at best.</p>",
        "id": 478769297,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729791874
    }
]