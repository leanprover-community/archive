[
    {
        "content": "<p>I just opened a .lean file the first line of which is <code>import Mathlib</code> and I see e.g. <code>info: [1804/3689] Building Mathlib.ModelTheory.Encoding</code> - this happened yesterday when I did the same thing. I guess I shouldn't have closed the file but I assumed that once Mathlib it was built it wouldn't get rebuilt? I should have said I am using emacs.</p>",
        "id": 470156343,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726313812
    },
    {
        "content": "<p>It should not show any of that if you run <code>lake exe cache get</code> first</p>",
        "id": 470157006,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726314006
    },
    {
        "content": "<p>Perhaps unless you're creating a binary output</p>",
        "id": 470157100,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726314043
    },
    {
        "content": "<p>I wondered if that might be the case.</p>",
        "id": 470157324,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726314163
    },
    {
        "content": "<p>Oh no - I ran <code>lake exe cache get</code> and opened a lean file and it started building mathlib :-(</p>",
        "id": 470157519,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726314222
    },
    {
        "content": "<p>What was the output of <code>lake exe cache get</code>?</p>",
        "id": 470158238,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726314438
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">IO</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Compiling</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">IO</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">Hashing</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Compiling</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">Hashing</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">Requests</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Compiling</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">Requests</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">Main</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Compiling</span><span class=\"w\"> </span><span class=\"n\">Cache</span><span class=\"bp\">.</span><span class=\"n\">Main</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">9</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Linking</span><span class=\"w\"> </span><span class=\"n\">cache</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">ld64</span><span class=\"bp\">.</span><span class=\"n\">lld</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">system</span><span class=\"bp\">/</span><span class=\"n\">libsystem_kernel</span><span class=\"bp\">.</span><span class=\"n\">dylib</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">14.4</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">newer</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">minimum</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"mf\">14.0</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">ld64</span><span class=\"bp\">.</span><span class=\"n\">lld</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">system</span><span class=\"bp\">/</span><span class=\"n\">libsystem_platform</span><span class=\"bp\">.</span><span class=\"n\">dylib</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">14.4</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">newer</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">minimum</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"mf\">14.0</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">ld64</span><span class=\"bp\">.</span><span class=\"n\">lld</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">system</span><span class=\"bp\">/</span><span class=\"n\">libsystem_pthread</span><span class=\"bp\">.</span><span class=\"n\">dylib</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">14.4</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">newer</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">minimum</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"mf\">14.0</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">leantar</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">too</span><span class=\"w\"> </span><span class=\"n\">old</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">recent</span><span class=\"w\"> </span><span class=\"n\">version</span>\n<span class=\"n\">Attempting</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"mi\">3691</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">Downloaded</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">3691</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">attempted</span><span class=\"w\"> </span><span class=\"mi\">3691</span><span class=\"bp\">/</span><span class=\"mi\">3691</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">100</span><span class=\"bp\">%</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">100</span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">success</span><span class=\"o\">)</span>\n<span class=\"n\">Decompressing</span><span class=\"w\"> </span><span class=\"mi\">3691</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">unpacked</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mi\">3037</span><span class=\"w\"> </span><span class=\"n\">ms</span>\n</code></pre></div>",
        "id": 470158278,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726314477
    },
    {
        "content": "<p>I followed the instructions here: <a href=\"https://leanprover-community.github.io/install/macos.html\">https://leanprover-community.github.io/install/macos.html</a> but I don't seem to have VS Code(?) - did I miss a step? (I am abandoning emacs for now as everything seems to want you to use VS Code(?))</p>",
        "id": 470158770,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726314804
    },
    {
        "content": "<p>Hmm - maybe I have to logout and login again</p>",
        "id": 470159320,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726314991
    },
    {
        "content": "<p>But then all applications will get shut down :-(</p>",
        "id": 470159409,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726315028
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"bp\">.</span>\n<span class=\"n\">zsh</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">code</span>\n</code></pre></div>",
        "id": 470159547,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726315106
    },
    {
        "content": "<p>Weird, that looks correct. And if you run <code>lake build</code> from the command line?</p>",
        "id": 470163643,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726316755
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">dom</span><span class=\"bp\">@</span><span class=\"n\">Wandle</span><span class=\"w\"> </span><span class=\"n\">lftcm2023</span><span class=\"w\"> </span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"o\">[</span><span class=\"mi\">353</span><span class=\"bp\">/</span><span class=\"mi\">3747</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">LftCM</span><span class=\"bp\">.</span><span class=\"n\">C11_Algebraic_Geometry</span><span class=\"bp\">.</span><span class=\"n\">help</span>\n<span class=\"o\">[</span><span class=\"mi\">353</span><span class=\"bp\">/</span><span class=\"mi\">3747</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Projects</span><span class=\"bp\">.</span><span class=\"n\">TestProject</span>\n<span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">World!</span>\n<span class=\"o\">[</span><span class=\"mi\">569</span><span class=\"bp\">/</span><span class=\"mi\">3747</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Projects</span>\n<span class=\"o\">[</span><span class=\"mi\">1353</span><span class=\"bp\">/</span><span class=\"mi\">3747</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">LftCM</span><span class=\"bp\">.</span><span class=\"n\">Attr</span>\n<span class=\"o\">[</span><span class=\"mi\">1640</span><span class=\"bp\">/</span><span class=\"mi\">3747</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">LftCM</span><span class=\"bp\">.</span><span class=\"n\">C02_Logic</span><span class=\"bp\">.</span><span class=\"n\">Logic</span>\n<span class=\"bp\">...</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">external</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">`/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">dom</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.0.0-rc4/bin/lean` exited with code 1</span>\n</code></pre></div>",
        "id": 470165829,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726318099
    },
    {
        "content": "<p>Maybe I should try a different directory</p>",
        "id": 470165850,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726318119
    },
    {
        "content": "<p>Hmmm - it seems to be working in emacs now but I failed to get it working in VS</p>",
        "id": 470166201,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726318277
    },
    {
        "content": "<p>And excitingly the differential geometry example seems to be working and contains fibre bundles and Lie groups</p>",
        "id": 470166481,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726318444
    },
    {
        "content": "<p>Though bafflingly you seem to be able to define the n-sphere as a manifold without giving any charts but that question does not belong in this thread</p>",
        "id": 470166781,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1726318654
    }
]