[
    {
        "content": "<p>I'm new to <code>exact</code> so I wanted to check my understanding.</p>\n<p>Here is a simple proof:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_lt</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; apply</span>\n</code></pre></div>\n<p>And here it is again using <code>exact</code> instead of <code>apply</code>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_lt</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; -- exact</span>\n</code></pre></div>\n<p>My understanding is that</p>\n<ul>\n<li><code>apply</code> can be use wherever <code>exact</code> is used</li>\n<li><code>exact</code> only works if the applied hypothesis matches precisely the current goal</li>\n<li><code>exact</code> is encouraged because if the code writer thinks there should be an exact match but Lean finds there is not, it is a good way to expose errors. <code>apply</code> may mask an error by creating new goals which push the error further down the proof.</li>\n</ul>\n<p>Is this correct? Is there more to know about <code>exact</code>?</p>",
        "id": 475509591,
        "sender_full_name": "rzeta0",
        "timestamp": 1728376821
    },
    {
        "content": "<p>There are some tiny edge cases. But as a summary, this is correct.</p>",
        "id": 475519529,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1728379969
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/issues/5366\">https://github.com/leanprover/lean4/issues/5366</a> is one of the edge cases where <code>exact</code> is more powerful than <code>apply</code>.</p>",
        "id": 475545605,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728389083
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 475560295,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728393458
    }
]