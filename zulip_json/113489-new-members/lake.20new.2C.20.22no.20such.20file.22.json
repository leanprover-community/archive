[
    {
        "content": "<p>Hello - trying to get <code>lake build</code> to work on the \"hello world\" example generated by \"lake new\". I'm on windows. Getting an error \"uncaught exception: no such file or directory (error code: 2)\", and it's not giving the missing file. </p>\n<p>My version of lean is Lean (version 4.0.0-nightly-2023-05-09, commit ad4b822734ad, Release), and my version of lake is Lake version 4.1.0-pre (Lean version 4.0.0-nightly-2023-05-09)</p>",
        "id": 358009270,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683935902
    },
    {
        "content": "<p>is there a way to run <code>lake build</code> in verbose mode to get more logs of what could be the issue?</p>",
        "id": 358009348,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683935958
    },
    {
        "content": "<p>can you show the exact sequence of commands you used and the contents of the relevant files?</p>",
        "id": 358009604,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936073
    },
    {
        "content": "<p>this could be a bug in lake, clearly \"no such file\" without printing the file itself is not good</p>",
        "id": 358009758,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936145
    },
    {
        "content": "<p>I will try to do an exact repro in a new repo (sorry - I lost this thread - learning zulip as well!)</p>",
        "id": 358010184,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936375
    },
    {
        "content": "<p>ok I went to the parent directory and did the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">mkdir</span> <span class=\"n\">hello3</span>\n<span class=\"n\">cd</span> <span class=\"n\">hello3</span>\n<span class=\"n\">lake</span> <span class=\"n\">init</span> <span class=\"n\">hello3</span>\n<span class=\"n\">lake</span> <span class=\"n\">build</span>\n</code></pre></div>",
        "id": 358010287,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936447
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Hello3</span>\n<span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Hello3</span>\n<span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Main</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe -c -o .\\build\\ir\\Hello3.o .\\build\\ir\\Hello3.c -O3 -DNDEBUG</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe` exited with code 1</span>\n<span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Main</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe -c -o .\\build\\ir\\Main.o .\\build\\ir\\Main.c -O3 -DNDEBUG</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe` exited with code 1</span>\n</code></pre></div>",
        "id": 358010372,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936486
    },
    {
        "content": "<p>and <code>lake --version</code> says what?</p>",
        "id": 358010577,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936613
    },
    {
        "content": "<p><code>Lake version 4.1.0-pre (Lean version 4.0.0-nightly-2023-05-09)</code></p>",
        "id": 358010600,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936632
    },
    {
        "content": "<p>is there a file called <code>Main.lean</code> or <code>Hello3.lean</code>?</p>",
        "id": 358010629,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936662
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\</span><span class=\"n\">Documents</span><span class=\"bp\">\\</span><span class=\"n\">Drew</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">\\</span><span class=\"n\">hello3</span> <span class=\"o\">[</span><span class=\"n\">master</span> <span class=\"bp\">+</span><span class=\"mi\">5</span> <span class=\"bp\">~</span><span class=\"mi\">0</span> <span class=\"bp\">-</span><span class=\"mi\">0</span> <span class=\"bp\">!</span><span class=\"o\">]</span><span class=\"bp\">&gt;</span> <span class=\"n\">ls</span>\n\n\n    <span class=\"n\">Directory</span><span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\</span><span class=\"n\">Documents</span><span class=\"bp\">\\</span><span class=\"n\">Drew</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">\\</span><span class=\"n\">hello3</span>\n\n\n<span class=\"n\">Mode</span>                 <span class=\"n\">LastWriteTime</span>         <span class=\"n\">Length</span> <span class=\"n\">Name</span>\n<span class=\"c1\">----                 -------------         ------ ----</span>\n<span class=\"n\">d</span><span class=\"c1\">-----         5/12/2023   8:06 PM                build</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:06 PM             24 .gitignore</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:06 PM             20 Hello3.lean</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:06 PM            222 lakefile.lean</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:06 PM             36 lean-toolchain</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:06 PM             74 Main.lean</span>\n</code></pre></div>",
        "id": 358010662,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936685
    },
    {
        "content": "<p>yes have both Main.lean and Hello3.lean</p>",
        "id": 358010691,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936713
    },
    {
        "content": "<p>can you find all the files mentioned in the error line? <code>leanc.exe</code>, <code>Hello3.o</code> and <code>Hello3.c</code></p>",
        "id": 358010778,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936750
    },
    {
        "content": "<p>good call - there is no .\\build\\ir</p>",
        "id": 358010823,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936790
    },
    {
        "content": "<p>oh sorry<br>\nit's there</p>",
        "id": 358010841,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936809
    },
    {
        "content": "<p>can you run <code>c:\\Users\\Nazerke\\.elan\\toolchains\\leanprover--lean4---nightly-2023-05-09\\bin\\leanc.exe -c -o .\\build\\ir\\Hello3.o .\\build\\ir\\Hello3.c -O3 -DNDEBUG</code> directly?</p>",
        "id": 358010870,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936833
    },
    {
        "content": "<p>the object files are not in \\build\\ir</p>",
        "id": 358010887,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936842
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">ls</span> <span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span>\n\n\n    <span class=\"n\">Directory</span><span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\</span><span class=\"n\">Documents</span><span class=\"bp\">\\</span><span class=\"n\">Drew</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">\\</span><span class=\"n\">hello3</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">ir</span>\n\n\n<span class=\"n\">Mode</span>                 <span class=\"n\">LastWriteTime</span>         <span class=\"n\">Length</span> <span class=\"n\">Name</span>\n<span class=\"c1\">----                 -------------         ------ ----</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:07 PM           1406 Hello3.c</span>\n<span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"c1\">----         5/12/2023   8:07 PM           3547 Main.c</span>\n</code></pre></div>",
        "id": 358010964,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936882
    },
    {
        "content": "<p>in my project it looks like <code>build/ir</code> has the .o and .c files and <code>build/lib</code> has <code>.so</code>, <code>.ilean</code> and <code>.olean</code> files (and a bunch of <code>.trace</code> files)</p>",
        "id": 358011005,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936908
    },
    {
        "content": "<p>.\\build\\ir\\Hello3.o is missing</p>",
        "id": 358011019,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936917
    },
    {
        "content": "<p>should I try a different version of lake?</p>",
        "id": 358011116,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683936965
    },
    {
        "content": "<p>actually I suppose that is to be expected since the <code>leanc</code> invocation was supposed to produce it</p>",
        "id": 358011118,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936967
    },
    {
        "content": "<p>what happens if you run leanc directly like I suggested?</p>",
        "id": 358011139,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683936996
    },
    {
        "content": "<p>same error</p>",
        "id": 358011154,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937013
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 358011180,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937028
    },
    {
        "content": "<p>Does the command Mario suggested work if you replace the backslashes by forward slashes?</p>",
        "id": 358011304,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683937105
    },
    {
        "content": "<p>(for the leanc arguments, I mean)</p>",
        "id": 358011359,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683937157
    },
    {
        "content": "<p>just tried that, same error</p>",
        "id": 358011378,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937169
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe -c -o</span>\n<span class=\"bp\">./</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Hello3.o</span> <span class=\"bp\">./</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Hello3.c</span> <span class=\"bp\">-</span><span class=\"n\">O3</span> <span class=\"bp\">-</span><span class=\"n\">DNDEBUG</span>\n<span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 358011410,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937189
    },
    {
        "content": "<p>That's a very unhelpful error message. Yaël had the same thing, and they were running the commands inside VS Code's terminal (using bash). Where are you running this command?</p>",
        "id": 358011698,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683937321
    },
    {
        "content": "<p>also vs code's terminal</p>",
        "id": 358011773,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937342
    },
    {
        "content": "<p>not sure what the default terminal is</p>",
        "id": 358011786,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937355
    },
    {
        "content": "<p>I'll try in powershell</p>",
        "id": 358011815,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937376
    },
    {
        "content": "<p>different (but worse?) behavior - now failing on Main compilation as well</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\</span><span class=\"n\">Documents</span><span class=\"bp\">\\</span><span class=\"n\">Drew</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">\\</span><span class=\"n\">hello3</span> <span class=\"o\">[</span><span class=\"n\">master</span> <span class=\"bp\">+</span><span class=\"mi\">5</span> <span class=\"bp\">~</span><span class=\"mi\">0</span> <span class=\"bp\">-</span><span class=\"mi\">0</span> <span class=\"bp\">!</span><span class=\"o\">]</span><span class=\"bp\">&gt;</span> <span class=\"n\">lake</span> <span class=\"n\">build</span>\n<span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Hello3</span>\n<span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Main</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe -c -o .\\build\\ir\\Main.o .\\build\\ir\\Main.c -O3 -DNDEBUG</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe -c -o .\\build\\ir\\Hello3.o .\\build\\ir\\Hello3.c -O3 -DNDEBUG</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">uncaught</span> <span class=\"n\">exception</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span> <span class=\"o\">(</span><span class=\"n\">error</span> <span class=\"n\">code</span><span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">Nazerke</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly-2023-05-09\\bin\\leanc.exe` exited with code 1</span>\n</code></pre></div>",
        "id": 358011881,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937438
    },
    {
        "content": "<p>oh sorry that's the same as before</p>",
        "id": 358011955,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937459
    },
    {
        "content": "<p>fwiw, cmd has same behavior</p>",
        "id": 358012036,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937509
    },
    {
        "content": "<p>Yeah, I don't know :( Sorry for interrupting Mario's debugging session. It would be very good to have some leads on this, you're not the first user reporting this exact problem</p>",
        "id": 358012199,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683937612
    },
    {
        "content": "<p>no thanks for chiming in!</p>",
        "id": 358012240,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937634
    },
    {
        "content": "<p>Unfortunately I also don't know, and I don't have a windows to test other things with</p>",
        "id": 358012681,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683937865
    },
    {
        "content": "<p>This being Windows (and it being an issue which affects a random subset of users), I have to wonder: do you run some sort of antivirus software? I don't believe Windows Defender would be buggy, but almost every other AV does funny stuff</p>",
        "id": 358012697,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683937871
    },
    {
        "content": "<p>oh, you could check the permissions on the <code>Hello3.c</code> file</p>",
        "id": 358012741,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683937907
    },
    {
        "content": "<p>also, <code>leanc</code> is just a wrapper around a C compiler so it's possible you don't have the C compiler and that's what the error is about</p>",
        "id": 358012846,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683937962
    },
    {
        "content": "<p>I'm also more comfortable in a unix environment haha</p>\n<div class=\"codehilite\" data-code-language=\"ls\"><pre><span></span><code>    Directory: C:\\Users\\Nazerke\\Documents\\Drew\\lean\\hello3\\build\\ir\n\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a----         5/12/2023   8:07 PM           1406 Hello3.c\n-a----         5/12/2023   8:07 PM           3547 Main.c\n</code></pre></div>",
        "id": 358012855,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937969
    },
    {
        "content": "<p>that seems wrong</p>",
        "id": 358012866,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683937975
    },
    {
        "content": "<p>even though lean ships with a C compiler, maybe an AV deleted it</p>",
        "id": 358012874,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683937978
    },
    {
        "content": "<p>I don't know what <code>-a----</code> means, but that's what all the files you have are reporting, so it seems okay?</p>",
        "id": 358012969,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683938023
    },
    {
        "content": "<p>I see</p>",
        "id": 358012991,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938041
    },
    {
        "content": "<p>this will just be my excuse to get a unix personal laptop!</p>",
        "id": 358013080,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938073
    },
    {
        "content": "<p>thanks for the help. was hoping a Microsoft research product would work ok on windows, but even they're leaning linux these days <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 358013135,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938107
    },
    {
        "content": "<p>though could be user error for sure</p>",
        "id": 358013165,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938126
    },
    {
        "content": "<p>does it work on WSL?</p>",
        "id": 358013172,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683938130
    },
    {
        "content": "<p>WSL?</p>",
        "id": 358013179,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938136
    },
    {
        "content": "<p>windows subsystem for linux</p>",
        "id": 358013192,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683938143
    },
    {
        "content": "<p>ah have not set that up</p>",
        "id": 358013215,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938156
    },
    {
        "content": "<p>it's like a linux dev environment on windows</p>",
        "id": 358013220,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683938157
    },
    {
        "content": "<p>if you have used msys2 it's kind of like that, only official MS</p>",
        "id": 358013281,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683938170
    },
    {
        "content": "<p>yeah I'll finally bite the bullet and setup a linux partition for my laptop</p>",
        "id": 358013289,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938174
    },
    {
        "content": "<p>ty for the help - I've got to log off. hopefully will be back with more noob questions later!</p>",
        "id": 358013342,
        "sender_full_name": "Drew Moore",
        "timestamp": 1683938215
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/113489-new-members/topic/lake.20new.2C.20.22no.20such.20file.22/near/358012846\">said</a>:</p>\n<blockquote>\n<p>also, <code>leanc</code> is just a wrapper around a C compiler so it's possible you don't have the C compiler and that's what the error is about</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> Do you use some sort of antivirus software on your Windows machine? We just got a second bug report with the same symptoms you described for the <code>lake exe cache get</code> failure and we were wondering if the antivirus could be causing it.</p>",
        "id": 358013442,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683938270
    },
    {
        "content": "<p>One could submit the C compiler binary shipped with Lean to virustotal to see if which (if any) antivirus software wrongly flags it as malicious</p>",
        "id": 358013909,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683938488
    },
    {
        "content": "<p>aha: I found <code>Leanc.lean</code> in lean4 repo and it is indeed a simple lean file which calls a C compiler. If you do <code>leanc.exe</code> without arguments it prints the compiler it will call in the help message</p>",
        "id": 358014574,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1683938804
    },
    {
        "content": "<p>Also, is this Windows 10 or Windows 11? Maybe there is a difference. Windows has something called the \"Attachment Manager\" which automatically marks files downloaded from the internet as unsafe in some cases, and this might be \"improved\" in Windows 11.</p>",
        "id": 358014617,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683938828
    },
    {
        "content": "<p>I think Windows Defender is on most of the time, and I also have Malwarebytes. Will try to disable both and see what happens. But I doubt it's related since my bug clearly is a Linux/Windows path syntax mismatch.</p>",
        "id": 358014926,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1683938986
    },
    {
        "content": "<p>Thanks for testing! You might have to reinstall the lean toolchain if it's an antivirus problem (<code>elan uninstall</code> whatever toolchain is being used by mathlib and then let elan download it again after the antivirus is off)</p>",
        "id": 358015184,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683939104
    },
    {
        "content": "<p>I was referring to this other error log you posted (after the path normalization issue was fixed by Arthur), by the way: <a href=\"#narrow/stream/287929-mathlib4/topic/lake.20exe.20cache.20get/near/321148326\">https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/lake.20exe.20cache.20get/near/321148326</a></p>",
        "id": 358015833,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683939375
    },
    {
        "content": "<p>Testing Mario's idea of calling <code>leanc.exe</code> directly to see what the wrapper will call would be very useful too</p>",
        "id": 358016469,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1683939628
    }
]