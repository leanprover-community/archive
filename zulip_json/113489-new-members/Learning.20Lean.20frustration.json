[
    {
        "content": "<p>I almost hesitate to post this here. I've been trying to learn learn on and off for the past 4 years. I've plowed through the Natural Number Game, but when it comes to doing something after that I've had nothing but frustration. I'm a mathematician with a lot of programming experience: in the 60 years (really!) that I've been programming I've written substantial programs in at least 50 different languages (including Haskell). Trying to get over the most elementary hurdles in Lean has, by far, been the most frustrating.  One thing that has stymied me, is to even know all of the many picky syntax rules. I'm using lean4-mode in emacs (with lsp), and it will flag certain things in red, but never explains what it doesn't like. The tactics are complicated, and ill-defined: they obviously are pattern matches of some sort (including type information). Some apparently take the entire current state as potential input, and some don't: which are they?  I've tried to read \"Theorem proving in Lean\" which is extremely chatty, but in no place does it really nail down what things are. </p>\n<p>I periodically set aside a few hours to go back to Lean.  In every case, after flailing around for 2 hours I give up. I hope that there are some constructive suggestions for me.</p>",
        "id": 567855065,
        "sender_full_name": "Victor Miller",
        "timestamp": 1768336732
    },
    {
        "content": "<blockquote>\n<p>I'm using lean4-mode in emacs (with lsp), and it will flag certain things in red, but never explains what it doesn't like.</p>\n</blockquote>\n<p>I would suggest to use the VSCode or neovim plugin unless you know what you are doing. The Emacs mode has long been unmaintained and lacks far behind the UX and features that the two maintained editor integrations have.</p>\n<blockquote>\n<p>The tactics are complicated, and ill-defined: they obviously are pattern matches of some sort (including type information). Some apparently take the entire current state as potential input, and some don't: which are they?</p>\n</blockquote>\n<p>If you want to have information about the individual tactis just hovering over them in either of the two well supported editors will give you their documentation, other than that you can also read the language reference manual on the manner, for tactics in particular <a href=\"https://lean-lang.org/doc/reference/latest/Tactic-Proofs/Tactic-Reference\">this chapter</a></p>",
        "id": 567860798,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1768339262
    },
    {
        "content": "<p>In general, if you have a specific example, you can definitely ask for help here. This place is pretty friendly to new contributors, and you usually get help rather quickly.</p>",
        "id": 567861646,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768339656
    },
    {
        "content": "<p>It's a bit hard for me to answer specific questions you have (because I don't know what these are), but if you ask about particular examples, I'm sure people will be happy to help. Lean has a steep learning curve, so asking for help is a natural and healthy thing!</p>",
        "id": 567861730,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768339703
    },
    {
        "content": "<p>I have to admit that tactics are hard to search for. There are good ways to search for theorems: <a href=\"https://loogle.lean-lang.org/\">loogle</a>, <a href=\"https://leansearch.net/\">leansearch</a>, <a href=\"https://seasawher.github.io/mathlib4-help/tactics/#exact_1\"><code>exact?</code></a>, <a href=\"https://seasawher.github.io/mathlib4-help/tactics/#rw_3\"><code>rw??</code></a> (VS Code only), <a href=\"https://seasawher.github.io/mathlib4-help/tactics/#simp_2\"><code>simp?</code></a>`), but with tactics, the best option is probably still asking here.</p>",
        "id": 567861815,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1768339746
    },
    {
        "content": "<p>There is at least a website concatenating the docs of all tactics in a similar way as <code>#help tactic</code>: <a href=\"https://seasawher.github.io/mathlib4-help/tactics/\">https://seasawher.github.io/mathlib4-help/tactics/</a>. The reference manual contains some preselected list (I think).</p>",
        "id": 567862090,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1768339884
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"133339\">Mirek Olšák</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567861815\">said</a>:</p>\n<blockquote>\n<p>I have to admit that tactics are hard to search for. There are good ways to search for theorems: <a href=\"https://loogle.lean-lang.org/\">loogle</a>, <a href=\"https://leansearch.net/\">leansearch</a>, <a href=\"https://seasawher.github.io/mathlib4-help/tactics/#exact_1\"><code>exact?</code></a>, <a href=\"https://seasawher.github.io/mathlib4-help/tactics/#rw_3\"><code>rw??</code></a> (VS Code only), <a href=\"https://seasawher.github.io/mathlib4-help/tactics/#simp_2\"><code>simp?</code></a>`), but with tactics, the best option is probably still asking here.</p>\n</blockquote>\n<p>I dearly hope this is untrue - and if it's still true, this needs to change. With my \"instructor for a Lean course\" (in Bonn) hat on, I'm also willing to spend some time to change this is needed. That said, I know if at least two resources that are helpful here:</p>",
        "id": 567863443,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768340581
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi/Tactics/All-tactics/#all_tactics\">https://leanprover-community.github.io/mathlib-manual/html-multi/Tactics/All-tactics/#all_tactics</a> is a list of all tactics in mathlib. It's automatically generated; I'm not sure how often it is updated automatically. (<span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span> Can you clarify this, or help me find out myself? Thanks!)</p>",
        "id": 567863517,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768340621
    },
    {
        "content": "<p>In the side-bar on the left, there are also various categories - so if you're looking for e.g. \"analysis tactics\", you can click on that category.</p>",
        "id": 567863581,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768340655
    },
    {
        "content": "<p>The second resource is <a href=\"https://leanprover-community.github.io/papers/lean-tactics.pdf\">https://leanprover-community.github.io/papers/lean-tactics.pdf</a>, a tactic cheat sheet. It's compact (three pages), and a bit more selective. It doesn't explain each tactic in detail (for that, use the first link - or complain here if anything is unclear; Anne actually has time to work on this!), but should give a good overview.</p>",
        "id": 567863701,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768340717
    },
    {
        "content": "<p>Thanks for these, as someone who plan to teach Lean too, I was quite hesitant which subset of tactics to show (when I want to focus also on many other aspects than tactics), this cheatsheet looks reasonable, just perhaps missing <code>rw!</code> (out of those I was often in touch with).</p>",
        "id": 567865369,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1768341106
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567863581\">said</a>:</p>\n<blockquote>\n<p>In the side-bar on the left, there are also various categories - so if you're looking for e.g. \"analysis tactics\", you can click on that category.</p>\n</blockquote>\n<p>The \"categorized\" list of tactics is a bit outdated. Not sure if I would recommend reading that. Missing <code>grind</code> in automation, missing <code>rw??</code> in interactive...</p>",
        "id": 567867698,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1768342100
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span>  Thank you for the link to the tactic description. However, one thing that I notice is that they don't say (except what you can implicitly infer from examples) whether or not they take arguments.  I'm guessing that if they don't, their implicit arguments are the entire current state.  As far as vscode, I'll, reluctantly, give it another try. I've tried to use vscode (both with Lean and other languages) over the past 5 years, and I've never liked it. I always feel like I'm looking at my program from the \"wrong end of a telescope\", and the many popups just seem to interrupt me and get in the way. Maybe there's a way to customize it.</p>",
        "id": 567889620,
        "sender_full_name": "Victor Miller",
        "timestamp": 1768355097
    },
    {
        "content": "<p>If part of your complaint is that things are not \"pinned down\" as much as they are in traditional programming languages, you might want to consider learning lean first as a programming language (e.g. by skimming <a href=\"https://lean-lang.org/functional_programming_in_lean/\">#fpil</a>) and then later learning how to do theorem proving with it. I suggest this only because based on what you said, I'd imagine you're pretty good at picking up new programming languages. This maybe isn't the best idea if your main and only goal is to use Lean for theorem proving. Also note that learning lean as a programming language won't make you better at using tactics.</p>",
        "id": 567896745,
        "sender_full_name": "Niels Voss",
        "timestamp": 1768360925
    },
    {
        "content": "<blockquote>\n<p>One thing that has stymied me, is to even know all of the many picky syntax rules.</p>\n</blockquote>\n<p>You don't need to use custom syntax.</p>\n<blockquote>\n<p>The tactics are complicated, and ill-defined: they obviously are pattern matches of some sort (including type information).</p>\n</blockquote>\n<p>And you can avoid using tactics as well.</p>\n<p>The core of Lean is not that complex, and everything else is extra on top of it. So you can learn Lean starting from the core, and you can always strip away confusing high level parts when you need to.</p>",
        "id": 567897691,
        "sender_full_name": "suhr",
        "timestamp": 1768361646
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"521331\">@Niels Voss</span>  Thanks for the suggestion. From a first glance I see a lot of similarities to Haskell, with which I’m familiar. But your comment about tactics is right. What I wish there was, is a tutorial of a lot of basic tactics: have a lot of examples with the state before and after specified, and allowing the end user to internalize which tactic should apply. My guess is that in tactic structured proofs, the prover (i.e. the human) has in mind what the next state should be and then attempts to use a series of one or more tactics to get there.</p>",
        "id": 567897728,
        "sender_full_name": "Victor Miller",
        "timestamp": 1768361673
    },
    {
        "content": "<p>NNG does not teach you the core stuff at all unfortunately.</p>",
        "id": 567897732,
        "sender_full_name": "suhr",
        "timestamp": 1768361678
    },
    {
        "content": "<p>A term mode NNG would be interesting</p>",
        "id": 567898853,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1768362443
    },
    {
        "content": "<p>What would you like to do with Lean? Proving theorems? Writing (certified) programs? Even if technically those are the same thing, in practice the way a mathematician or a programmer use Lean is quite different.</p>",
        "id": 567923880,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768378724
    },
    {
        "content": "<p>Have you seen Mathematics in Lean already? Clicking on the link <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a> here will take you to it. Its aim is to explain basic tactics and the design of things step by step.</p>",
        "id": 567954322,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768387991
    },
    {
        "content": "<p>Another option: there are a number of university courses using Lean these days, and many of them have public lecture notes. One of them is taught by <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> and myself, look here: <a href=\"https://github.com/fpvandoorn/LeanCourse25\">https://github.com/fpvandoorn/LeanCourse25</a>. Each file should be self-contained (and runs on mathlib as of mid-October; we did not upgrade this during the semester).</p>",
        "id": 567954668,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768388073
    },
    {
        "content": "<p>The lecture notes certainly have lots of examples, teaching you how to do basic mathematics X in Lean.</p>",
        "id": 567954796,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768388106
    },
    {
        "content": "<p>If you're looking for something more low-level (i.e., with less math background), I would recommend Heather Macbeth' Mechanics of Proofs. It sounds like you know more math than that book's target group, though.</p>",
        "id": 567954949,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768388156
    },
    {
        "content": "<p>Haskell programmer of 30 years here and also emacs user. Sadly the emacs setup for Lean isn't up to snuff. I have VS Code and emacs open on the same lean file and mainly work in VS Code as for me it's easier to see what is going on. I do move to emacs for e.g. bulk replace / occur - as long as you remember to save then the changes seem to be replicated without having to reload the buffer. The one thing I do find ok in VS Code is the equivalent of M-. and M-, which are fn-F12 and C-- (maybe that is just on macOS).</p>\n<p>I am pretty sure (in fact I think I tried this as the beginning of my Lean journey) that as in Haskell you can write a Lean program that is the proof but as far as I can tell no-one does and everyone uses tactics maybe so that the proof then looks like regular math rather than a program. Up to now I have only really used unfold, simp, rw, split_ifs and maybe a few others from time to time so I am looking forward to reading the cheatsheet. You know about exact? and other tactics with ? appended.</p>\n<p>Also you really need to be on top of the math in order to do the Lean (my experience at any rate).</p>",
        "id": 567958200,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1768389062
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567863517\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi/Tactics/All-tactics/#all_tactics\">https://leanprover-community.github.io/mathlib-manual/html-multi/Tactics/All-tactics/#all_tactics</a> is a list of all tactics in mathlib. It's automatically generated; I'm not sure how often it is updated automatically. (<span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> Can you clarify this, or help me find out myself? Thanks!)</p>\n</blockquote>\n<p>This is updated manually, typically for each Lean release. You can follow it here: <a href=\"https://github.com/leanprover-community/mathlib-manual\">https://github.com/leanprover-community/mathlib-manual</a></p>\n<p>Generating a full and up to date list of tactics as part of doc-gen is one of my priorities. I have some prototypes already, I just need some time to see it through to the end and get something polished.</p>",
        "id": 567958418,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1768389122
    },
    {
        "content": "<p>I actually shared your frustration about the arbitrariness of tactics. They are essentially like a huge assembly language instruction set for proving things. So it is hard to get a grip on them. </p>\n<p>So I am going to suggest something that is usually not suggested here: to work through the first 6-7 chapters of the book <a href=\"https://leanprover.github.io/theorem_proving_in_lean4/\">#tpil</a></p>\n<p>I think the missing piece in your understanding of what lean is doing might be learning what those tactics are actually producing as a proof. This was my problem as well in other ITPs. It helps to work with some term level proofs before graduating to tactics.</p>",
        "id": 567958568,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1768389177
    },
    {
        "content": "<p>And calc - really useful</p>",
        "id": 567958926,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1768389300
    },
    {
        "content": "<p>Another of my priorities is to write good and consistent documentation for tactics that describe exactly what they can and cannot do. Not sure what the current Emacs plugin affords, but VS Code and Vim show tooltips with documentation when you put your cursor on a definition/tactic/keyword/...; the goal is to make all of those <em>docstrings</em> consistent with each other and as complete as practical.</p>",
        "id": 567959630,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1768389529
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 567976688,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1768394477
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"371310\">@Victor Miller</span> Let me ask a more precise question: which proof do you prefer?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">grind</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ_add</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_succ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_succ</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo4</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo5</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span>\n<span class=\"w\">      </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span>\n<span class=\"w\">        </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 567978279,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768394962
    },
    {
        "content": "<p>(might be controversial but) I recommend Rocq's Software Foundations volume 1 (<a href=\"https://softwarefoundations.cis.upenn.edu/lf-current/index.html\">download link</a>, <a href=\"https://softwarefoundations.cis.upenn.edu/lf-current/deps.html\">chapter order</a>, <a href=\"https://proofassistants.stackexchange.com/questions/5349/what-is-the-status-of-software-foundations-ports-to-lean-4-and-what-is-the-cano\">no lean port yet</a>).<br>\nI think it introduces ITPs and tactics quite nicely, each chapter teaches you stuff in the comments and then gives you exercises, there's also a chapter about term mode (\"ProofObjects\").<br>\nI think the knowledge transfers to Lean quite nicely, though to work with Mathlib specifically is another level.</p>",
        "id": 567978480,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1768395024
    },
    {
        "content": "<p>Those are proofs of the same statement (that for all natural number <code>a</code> and <code>b</code> we have <code>a.succ + b = (a + b).succ</code>. The last three proofs are \"exactly the same\", I just used less and less tactic. This is to show how one can write things more and more explicitly, controlling precisely what is going on. It's up to you to say which one is the best for you.</p>",
        "id": 567978603,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768395060
    },
    {
        "content": "<p>One can also use the equation compiler</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo6</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_succ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">foo6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_succ</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 567983247,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768396506
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span>  You said \"Which proof do you prefer?\". That depends a lot on my mood :-).  This actually brings up another point: what is the basic axiomatic description of certain objects, like Nat? Your theorem is what, in Peano axioms, is the <em>definition</em> of addition.  This makes me wonder what the underlying definition of Nat is in Lean. When I say, \"my mood\", it depends on what I'm interested in. I'd prefer the first if I just wanted to use Nat as a \"Black box\".  The second almost seems tautologous. The fourth and fifth might be of interest if I wanted to understand how to manipulate proof objects (since this is the functional way).</p>",
        "id": 567997346,
        "sender_full_name": "Victor Miller",
        "timestamp": 1768400353
    },
    {
        "content": "<p>I just want to chime in with sympathy. I was playing with Lean through Fall for a few hours per week and experienced the same frustration (except for the Emacs part, long term vim user here ;)). My answer current is to go back to the foundations, proofs with terms, programming with Lean and deeply understanding the core. I feel like without it I my understanding of what is going on was too shallow.</p>",
        "id": 568001439,
        "sender_full_name": "Marcin Pilipczuk",
        "timestamp": 1768401325
    },
    {
        "content": "<blockquote>\n<p>This actually brings up another point: what is the basic axiomatic description of certain objects, like Nat?</p>\n</blockquote>\n<p>Logically it's just an inductive type. Like functions, it's not really axiomatic: you need not only typing rules, but also a computational rule.</p>\n<p>But <code>#print Nat.rec</code> shows everything you need to know:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">recursor</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">  </span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">parameters</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">indices</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">motives</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">minors</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">rules</span><span class=\"o\">:</span>\n<span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">fields</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">zero</span>\n<span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">fields</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">motive</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Rules show how recursor computes, for example <code>Nat.rec motive z s Nat.zero</code> computes to <code>z</code>.</p>",
        "id": 568001859,
        "sender_full_name": "suhr",
        "timestamp": 1768401425
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567978279\">said</a>:</p>\n<blockquote>\n<p>Let me ask a more precise question: which proof do you prefer?</p>\n</blockquote>\n<p>Let me add one more proof to the pile:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo7</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hb</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"k\">from</span>\n<span class=\"w\">      </span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">hb</span>\n</code></pre></div>",
        "id": 568004028,
        "sender_full_name": "suhr",
        "timestamp": 1768401950
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"371310\">Victor Miller</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567997346\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span>  You said \"Which proof do you prefer?\". That depends a lot on my mood :-).  This actually brings up another point: what is the basic axiomatic description of certain objects, like Nat? Your theorem is what, in Peano axioms, is the <em>definition</em> of addition.  This makes me wonder what the underlying definition of Nat is in Lean. When I say, \"my mood\", it depends on what I'm interested in. I'd prefer the first if I just wanted to use Nat as a \"Black box\".  The second almost seems tautologous. The fourth and fifth might be of interest if I wanted to understand how to manipulate proof objects (since this is the functional way).</p>\n</blockquote>\n<p>You're right, Lean uses Peano's definition, but addition is defined by recursion on the second variable, so it's <code>a+b.succ = (a+b).succ</code> that is true by definition.</p>",
        "id": 568005854,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768402383
    },
    {
        "content": "<p>Anyway you can see everything by yourself: the declaration are called <code>Nat</code> and <code>Nat.add</code>. You can write <code>#check Nat</code> and ctrl+click on it to jump to the right file (in VS Code at least).</p>",
        "id": 568006826,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768402620
    },
    {
        "content": "<p>Each proof has it's own pro and cons:</p>\n<ul>\n<li>\n<ol>\n<li>it's fast but you don't know what is happening. It's good if you have to show this in a bigger proof and you don't care since it is mathematically stupid.</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>shows how things are written in the library</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>it's the mathematical \"correct\" proof, in the sense that it is reasonable to prove it like this if you are building the natural numbers, cf the NNG</li>\n</ol>\n</li>\n<li>4 and 5. are interesting if you want to understand what <code>Eq.rec</code> does, i.e. the definition of equality. Something you probably don't want unless you are into type theory.</li>\n<li>\n<ol start=\"6\">\n<li>interesting since it shows the equation compiler and structural recursion.</li>\n</ol>\n</li>\n</ul>\n<p>To fully grasp Lean you have to understand all of them, but you can also decide that you don't care at all about the definition of equality, or that you never want to use powerful tactic like <code>grind</code>.</p>",
        "id": 568008465,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768402972
    },
    {
        "content": "<p>If you want to avoid the recursor of the equality you can use <code>▸</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo7</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_succ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_succ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 568010346,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768403455
    },
    {
        "content": "<p>In my opinion the best way to learn is to focus on one of the proofs, and learn as much as possible following that style (here I am only talking about proving theorems, if you want to write programs it is another story).</p>",
        "id": 568010702,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768403541
    },
    {
        "content": "<p>Hey Victor! I've been trying to learn Lean since ~October, and really, really share your frustration here x_x. I've been on the fence about how serious I wanted to learn it until very recently — on and off flirting with the idea of getting to the point where I'd be able to get Real Work™ done with it.</p>\n<p>I'm a very very new novice so please hold my advice very lowly compared to all the other people here, but:</p>\n<ul>\n<li>One thing that I've been finding helpful is working through <a href=\"https://github.com/lean-forward/logical_verification_2025\">The Hitchhiker's Guide to Logical Verification</a> (LoVe).</li>\n<li>It's very CS-core but I think from your description this shouldn't be a problem.</li>\n<li>Whereas I struggled with too much stuff going on with Mathematics in Lean or Theorem Proving in Lean 4 and lack of understanding for stuff like the NNG, LoVe has indeed been lovely: it builds up things very very slowly, starting with types and how to construct terms for a few function types.</li>\n<li>There are still some points of frustration, but I think some of it is just inescapable with Lean :(</li>\n<li>I found going at it with a \"Zen\" attitude helps: expect it to take a long time, just try to understand as much as you can.</li>\n<li>I've also been finding using Claude Code to be extremely helpful. I'm asking it for feedback on my code after attempting exercises, leading to stuff like:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Peirce_of_LEM_first_attempt</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">ExcludedMiddle</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Peirce</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ExcludedMiddle</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Peirce</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h_lem</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h_lem</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">not_x</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"bp\">.</span><span class=\"n\">elim</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">not_x</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">    </span><span class=\"n\">exfalso</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">not_x</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Peirce_of_LEM_after_claude_feedback</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">ExcludedMiddle</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Peirce</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ExcludedMiddle</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Peirce</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h_lem</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h_lem</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\">  </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">hnx</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">absurd</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hnx</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>(Of course one has to take Claude Code's advice with a grain of salt too, but I'd say it's at the very least certainly more helpful than unhelpful.)</p>\n<p>I also found this nice for getting a better idea of which sources I can learn from: <a href=\"https://lakesare.brick.do/all-lean-books-and-where-to-find-them-x2nYwjM3AwBQ\">All Lean books and where to find them</a>.</p>",
        "id": 568013219,
        "sender_full_name": "Emily de Oliveira Santos",
        "timestamp": 1768404199
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"371310\">Victor Miller</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567997346\">said</a>:</p>\n<blockquote>\n<p>This actually brings up another point: what is the basic axiomatic description of certain objects, like Nat?</p>\n</blockquote>\n<p>Something that's important to keep in mind when asking this kind of question is that type theory uses the word 'axiom' in a specific technical sense that isn't exactly compatible with the way the word is used in the rest of math. This can lead to what I consider to be misleading statements when people are trying to explain type theory to other people who aren't already familiar with it.</p>",
        "id": 568019065,
        "sender_full_name": "James E Hanson",
        "timestamp": 1768405682
    },
    {
        "content": "<p>The Peano axioms for the natural numbers, the group axioms, and Grothendieck's axioms for abelian categories are all not axioms in the sense of type theory.</p>",
        "id": 568019487,
        "sender_full_name": "James E Hanson",
        "timestamp": 1768405794
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/567959630\">said</a>:</p>\n<blockquote>\n<p>Not sure what the current Emacs plugin affords,</p>\n</blockquote>\n<p>I am able to see at least the first line of documentation tooltips on Emacs. I don't know how to view the full thing, but that could be my fault.</p>",
        "id": 568021561,
        "sender_full_name": "James E Hanson",
        "timestamp": 1768406306
    },
    {
        "content": "<p>Good to see you here Victor! As for your question about <code>Nat</code>, the type is defined as an inductive (an enum) in the usual axiomatic way - <code>0 : Nat</code> and <code>n : Nat -&gt; S n : Nat</code> (like <code>List</code> in Haskell with <code>nil</code> and <code>cons</code>). This is what allows you to do proofs by induction/programs by recursion on <code>Nat</code></p>\n<p>Most of the advice here has already been various book recommendations, but I'd like to second  <a href=\"https://github.com/lean-forward/logical_verification_2025\">The Hitchhiker's Guide</a>. It does a great job introducing both the tactic language and the core language from the ground up. Depending on what your goals are I'd recommend the first 4-6 chapters and follow it with something like <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a></p>",
        "id": 568057270,
        "sender_full_name": "Tanner Duve",
        "timestamp": 1768416537
    },
    {
        "content": "<p>Hey Victor! </p>\n<p>I learnt Lean by hanging out with other people who were learning Lean and asking a ton of questions in (the 2017 analogue of) <a class=\"stream\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members\">#new members</a> . I use emacs for everything <em>except</em> Lean where I eventually bowed to the inevitable and switched to VS Code (to be honest, the main reason I switched was that I wanted to teach the software to students and I couldn't possibly tell 18 year olds to use emacs so I figured I should learn the software which I would be telling them to use).</p>",
        "id": 568093772,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768430635
    },
    {
        "content": "<p>I’ve been trying to work my way through Alex Kontorovich’s RealAnalysisGame. I’ve been stuck for many hours (going on 6), with one of his early proofs. He’s trying to introduce tactics slowly, so one is restricted to a small list. I know what steps, even in excruciating low level details, I would use, but so far no dice. I even tried copying the problem into vscode but so far no luck.</p>",
        "id": 568114389,
        "sender_full_name": "Victor Miller",
        "timestamp": 1768443369
    },
    {
        "content": "<p>Have you tried watching the <a href=\"https://www.youtube.com/playlist?list=PLs6rMe3K87LHu03WWh9rEbEhhCilTRFGE\">lectures</a>, or is it a problem not solved in class?</p>",
        "id": 568114600,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1768443593
    },
    {
        "content": "<p>Unfortunately watching the lectures on YouTube is interrupted every 5 minutes with ads. It’s excruciating.</p>",
        "id": 568114894,
        "sender_full_name": "Victor Miller",
        "timestamp": 1768443870
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/568021561\">said</a>:</p>\n<blockquote>\n<p>I am able to see at least the first line of documentation tooltips on Emacs. I don't know how to view the full thing, but that could be my fault.</p>\n</blockquote>\n<p><code>M-x eldoc RET</code> should do it.</p>",
        "id": 568614430,
        "sender_full_name": "Richard Copley",
        "timestamp": 1768682418
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"371310\">Victor Miller</span> <a href=\"#narrow/channel/113489-new-members/topic/Learning.20Lean.20frustration/near/568114894\">said</a>:</p>\n<blockquote>\n<p>Unfortunately watching the lectures on YouTube is interrupted every 5 minutes with ads. It’s excruciating.</p>\n</blockquote>\n<p>uBlock origin.</p>",
        "id": 568614500,
        "sender_full_name": "Richard Copley",
        "timestamp": 1768682499
    }
]