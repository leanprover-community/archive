[
    {
        "content": "<p>Suppose I have a polynomial of degree 4 over the real numbers (I know this polynomial). How do I formalize the statement that the product of the <strong>complex roots</strong> is p, where p  is a real number?</p>",
        "id": 503068328,
        "sender_full_name": "Janitha",
        "timestamp": 1741018726
    },
    {
        "content": "<p><code>(P.map Complex.ofRealHom).roots.prod = Complex.ofReal p</code> (this counts multiple roots multiple times)</p>",
        "id": 503069856,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741019044
    },
    {
        "content": "<p>There is also <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.prod_roots_eq_coeff_zero_of_monic_of_splits#doc\">docs#Polynomial.prod_roots_eq_coeff_zero_of_monic_of_splits</a> that can be useful.</p>",
        "id": 503071279,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1741019360
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ofRealHom</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">roots</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ofReal</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h'</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\"> to fill -/</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\">to fill-/</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>\n<p>I want to capture the idea that the product of the complex roots of <code>f</code> is <code>P</code>. Is this correct?</p>",
        "id": 503072205,
        "sender_full_name": "Janitha",
        "timestamp": 1741019572
    },
    {
        "content": "<p>This says,<br>\n\"Suppose <code>P</code> is a real number, <code>f</code> is a polynomial with real coefficients, the product of the complex roots of <code>f</code> counted by multiplicity is <code>P</code>, and <code>f</code> is equal to /- to fill -/. Then /- to fill -/.\"</p>",
        "id": 503072952,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741019785
    },
    {
        "content": "<p>Thank you! That's what I wanted to say.</p>",
        "id": 503073475,
        "sender_full_name": "Janitha",
        "timestamp": 1741019924
    },
    {
        "content": "<p>I'm stuck again. I've calculated the roots of my polynomial. Say they are r_1, r_2, r_3, r_4 with r_1, r_2 the only two complex roots .  I tried to get</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">r_1</span><span class=\"bp\">.</span><span class=\"n\">IsRoot</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>But I got an error : </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">invalid</span><span class=\"w\"> </span><span class=\"n\">field</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">IsRoot'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">does</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">contain</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">IsRoot'</span>\n<span class=\"w\">  </span><span class=\"n\">r_1</span>\n<span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">ℝ</span>\n</code></pre></div>\n<p>How do I fix this? My goal is to compute <code>P ', the product of the two complex roots of </code>f`.</p>",
        "id": 503083165,
        "sender_full_name": "Janitha",
        "timestamp": 1741022611
    },
    {
        "content": "<p>This should be <code>f.IsRoot r_1</code>, or <code>Polynomial.IsRoot f r_1</code> (they mean the same thing)</p>",
        "id": 503083294,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741022650
    },
    {
        "content": "<p>Thank you again!</p>",
        "id": 503083552,
        "sender_full_name": "Janitha",
        "timestamp": 1741022754
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span>  I had thought complex roots meant non-real roots. How would I modify </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ofRealHom</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">roots</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ofReal</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h'</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\"> to fill -/</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\">to fill-/</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>\n<p>to say that <code>P</code> is the product of non-real roots?</p>",
        "id": 503935332,
        "sender_full_name": "Janitha",
        "timestamp": 1741315689
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ofRealHom</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">roots</span><span class=\"bp\">.</span><span class=\"n\">filter</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">im</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">ofReal</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\"> to fill -/</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\">to fill-/</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 503935560,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741315843
    },
    {
        "content": "<p>Could you please tell me what the <code>\\.</code> in  <code>(\\. .im \\neq 0)</code> stands for? And can you point me to a reference about these? Thank you!</p>",
        "id": 503936339,
        "sender_full_name": "Janitha",
        "timestamp": 1741316328
    },
    {
        "content": "<p>From the docs:</p>\n<blockquote>\n<p>A placeholder for an implicit lambda abstraction's variable. The lambda abstraction is scoped to the surrounding parentheses. For example, <code>(· + ·)</code> is equivalent to <code>fun x y =&gt; x + y</code>.</p>\n</blockquote>",
        "id": 503939090,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741317924
    },
    {
        "content": "<p>The parser is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Parser.Term.cdot#doc\">docs#Lean.Parser.Term.cdot</a></p>",
        "id": 503939578,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741318201
    }
]