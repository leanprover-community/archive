[
    {
        "content": "<p>I'm teaching a course involving Lean this semester and have a project with several files I'd like to share with my students. There's only a few files, but my computer says the folder is huge (~5GB). I suspect the issue is the hidden .lake folder. My question is: what is the minimal number of files I need to include in the folder so that my students can download and use it? Can I leave out some of the hidden folders? <br>\n<a href=\"/user_uploads/3121/1YTXTPeQY6CjMKn9kH2xjWUV/Screenshot-2025-01-16-at-12.54.28PM.png\">Screenshot 2025-01-16 at 12.54.28 PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/1YTXTPeQY6CjMKn9kH2xjWUV/Screenshot-2025-01-16-at-12.54.28PM.png\" title=\"Screenshot 2025-01-16 at 12.54.28 PM.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"768x520\" src=\"/user_uploads/thumbnail/3121/1YTXTPeQY6CjMKn9kH2xjWUV/Screenshot-2025-01-16-at-12.54.28PM.png/840x560.webp\"></a></div>",
        "id": 494203801,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1737050150
    },
    {
        "content": "<p>This is a known issue, and unfortunately it's not completely solvable at the moment (look for a thread called \"size issues\"). On the other hand if you share the project via, say, GitHub, those big folders are not part of it (each student downloads them using their Lean installation). Of course explaining git to students can be a pain especially if they need to push. Can you give a little more details about your intended workflow?</p>",
        "id": 494205320,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737050655
    },
    {
        "content": "<p>I've been debating whether or not to use git. For one, I'm relatively new to git and it has been frustrating to get started. Here is my plan for my workflow: I have created some files for the students to get started which I would like to distribute on day one. As the semester progresses, I'd like to add folders with new content that the students can download directly into their class folder. One concern I had was that when they download new content, I don't want to overwrite changes they've made to the other files. Students won't need to make commits, they'll just need to be able to download files from the repository.</p>",
        "id": 494206507,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1737051059
    },
    {
        "content": "<p>What I do is the following: once a file is there I don't touch it, but I add new files during the semester. I use git and GitHub, but the students only pull via vs code, so they don't need to know anything about git. You don't need to be an expert with git to push using vs code, and they need Lean installed anyway</p>",
        "id": 494207213,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737051310
    },
    {
        "content": "<p>A problem I often have is that Lean needs a pretty good computer, and not all students have one. If it's really unusable for them I suggest codespace (we can help to set it up, it takes like 10 minutes)</p>",
        "id": 494207416,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737051375
    },
    {
        "content": "<p>The \"don't modify an existing file\" part is important, otherwise they get conflicts pulling and it's a pain.</p>",
        "id": 494207554,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737051437
    },
    {
        "content": "<p>Thanks for the advice! I will probably need to setup codespace, we'll see once classes start.</p>\n<p>Beginning git question: So lets say I have a repo with the course files and it starts with a folder called Section 1 which contains several .lean files for them to work on. They pull it and make changes locally. If I then add a Section 2 folder with new material, and they pull from the repo again, do I have to worry about their work getting overwritten? Or will it just give them the additional files they don't yet have?</p>",
        "id": 494208154,
        "sender_full_name": "Trevor Hyde",
        "timestamp": 1737051655
    },
    {
        "content": "<p>It'll give them the additional files without overwriting their local changes</p>",
        "id": 494208718,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1737051852
    },
    {
        "content": "<p>I am almost sure pulling never overwrites local modifications, at worst git will refuse to pull</p>",
        "id": 494208789,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737051881
    },
    {
        "content": "<p>But it should work if you only added new files</p>",
        "id": 494208861,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737051908
    },
    {
        "content": "<p>Note that in vs code the little circle in the left bottom of the window is \"synchronize\" that may complain, but I don't remember exactly</p>",
        "id": 494209143,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737052012
    },
    {
        "content": "<p>Yeah, I think that's right.</p>\n<p>Students could commit their local modifications and then pull if they want. Then all their changes are safely stored away in the <code>.git</code> folder, and there are ways to revert in case a student does something catastrophically wrong.</p>",
        "id": 494209149,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1737052014
    },
    {
        "content": "<p>In my experience convincing students to commit is not so easy. Some of them have only used a phone in their life, so already getting used to the notion of \"file\" is a challenge (I am not joking)</p>",
        "id": 494209509,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737052122
    },
    {
        "content": "<p>I'm also interested in codespace.  Can someone explain how to set it up?  My understanding is that I need to put a .devcontainer folder in my project with some configuration files in it.  What files do I need, and what should be in them?</p>",
        "id": 494242507,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1737065656
    },
    {
        "content": "<p>My current repo for teaching (based on The Mechanics of Proof) is <a href=\"https://github.com/riccardobrasca/demontrer2025\">https://github.com/riccardobrasca/demontrer2025</a>, you can just copy/paste the <code>.devcontainer</code> folder making the obvious modifications.</p>",
        "id": 494326018,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737108844
    },
    {
        "content": "<p>Something I like is using putting something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">{</span>\n<span class=\"w\">    </span><span class=\"s2\">\"files.exclude\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">        </span><span class=\"s2\">\"**/.git\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"s2\">\"**/.DS_Store\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"s2\">\"**/*.olean\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"s2\">\"**/.DS_yml\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"s2\">\"**/.gitpod.yml\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">        </span><span class=\"s2\">\"**/.vscode\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\".docker\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"build\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"html\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"lake-packages\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\".gitignore\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"lake-manifest.json\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"lakefile.lean\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"README.md\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"Library.lean\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"lean-toolchain\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"Library\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"img\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\".lake\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\".github\"</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"LICENSE\"</span><span class=\"o\">:</span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\".devcontainer\"</span><span class=\"o\">:</span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"s2\">\"lean-tactics.tex\"</span><span class=\"o\">:</span><span class=\"n\">true</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"o\">},</span>\n</code></pre></div>\n<p>in <code>.vscode/settings.json</code>, so students don't even see files they're not supposed to play with.</p>",
        "id": 494326227,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737108907
    },
    {
        "content": "<p>Thanks Riccardo!</p>",
        "id": 494375640,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1737124950
    },
    {
        "content": "<p>Re editing a course repo whilst lecturing on it: in my experience students edit the files you've pushed (even if you've carefully added copies in other directories called PLEASE_EDIT_THESE_FILES_INSTEAD) and may or may not save their changes. In this situation, if you change a file which you already pushed and then the students pull, they can get scary errors (either at the time of pulling or later on when they save). So the two rules I stick to are: (1) never ever edit a file after you pushed it, add new files instead and (2) never ever bump mathlib during the course (because then you get students in orange bar hell and this might happen at 4am when their project is due in at 9am).</p>\n<p>After the course is done I might bump mathlib or edit typos in files or whatever</p>",
        "id": 494401582,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1737133049
    },
    {
        "content": "<p>This has the look of a lesson learned, personally and painfully :)</p>",
        "id": 494406368,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1737134743
    }
]