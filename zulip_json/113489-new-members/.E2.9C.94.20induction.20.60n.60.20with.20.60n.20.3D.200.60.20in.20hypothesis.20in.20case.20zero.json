[
    {
        "content": "<p>Hi everyone,</p>\n<p>Is there a way to do the induction on a natural number <code>n</code> where in the case of zero, there is an additional hypothesis saying <code>n=0 </code>.</p>\n<p>What I am really doing is that I want to do the induction on <code>p.natDegree</code>, but the goal does not explicitly contain <code>p.natDegree</code>. So I need this hypothesis <code>p.natDegree = 0</code> added to the hypothesis to proceed the proof.</p>",
        "id": 480682200,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1730800776
    },
    {
        "content": "<p>Does <code>induction h : p.natDegree</code> work?</p>",
        "id": 480684044,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730801323
    },
    {
        "content": "<p>No, it will raise error \"unknown identifier 'h'\"</p>",
        "id": 480684349,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1730801416
    },
    {
        "content": "<p>Can you show a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>?</p>",
        "id": 480684762,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730801540
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">fac</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">fac</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">generalize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fac</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Something like this works. Though maybe there are other ways in <code>induction</code> that I don't know about</p>",
        "id": 480684906,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1730801588
    },
    {
        "content": "<p>Ah actually that produces unsatisfying induction hypotheses :(</p>",
        "id": 480685071,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1730801650
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"c1\">-- The goal can be anything that does not contain p.natDegree explicitly</span>\n<span class=\"w\">  </span><span class=\"c1\">-- induction h : p.natDegree won't work</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">natDegree</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p><a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOJgCmAdnAAoToCexEIwS6Oah0hIcAZhBHABRg4ALjiBcQgDaADQC6ASmFxBAXkXCVWKnBwBabXAAqqQnADmERnADGSUlmM2qaYMRNw0KOABMIhAM5xaeEsIYhgkZ0UAOmIUABFCEyhCY0IADzBMS2AYahw4OF04Z08AV0sYYBC4VAUwaLiEpOMAdxCAcnhWqABrPKLiUvLK0jqYmHjE5L6AdrhfaCgqGbmFqiA\">https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOJgCmAdnAAoToCexEIwS6Oah0hIcAZhBHABRg4ALjiBcQgDaADQC6ASmFxBAXkXCVWKnBwBabXAAqqQnADmERnADGSUlmM2qaYMRNw0KOABMIhAM5xaeEsIYhgkZ0UAOmIUABFCEyhCY0IADzBMS2AYahw4OF04Z08AV0sYYBC4VAUwaLiEpOMAdxCAcnhWqABrPKLiUvLK0jqYmHjE5L6AdrhfaCgqGbmFqiA</a></p>",
        "id": 480686389,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1730802099
    },
    {
        "content": "<p><code>induction' h : p.natDegree</code> or <code>induction' h : p.natDegree generalizing p</code> works. Not sure how to do it with <code>induction</code></p>",
        "id": 480687795,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730802514
    },
    {
        "content": "<p>Thank you very much!</p>",
        "id": 480687891,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1730802550
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"611077\">Jiang Jiedong</span> has marked this topic as resolved.</p>",
        "id": 480687918,
        "sender_full_name": "Notification Bot",
        "timestamp": 1730802555
    },
    {
        "content": "<p>You can do</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"c1\">-- The goal can be anything that does not contain p.natDegree explicitly</span>\n<span class=\"w\">  </span><span class=\"c1\">-- induction h : p.natDegree won't work</span>\n<span class=\"w\">  </span><span class=\"n\">generalize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">natDegree</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">generalizing</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 480688030,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1730802596
    },
    {
        "content": "<p>There we are, thanks Daniel!</p>",
        "id": 480688378,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730802685
    }
]