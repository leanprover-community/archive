[
    {
        "content": "<p>Dear all,</p>\n<p>I am exploring the decidability of <code>Relation.TransGen</code> in Lean 4. As currently defined, <code>TransGen</code> is undecidable due to the potentially infinite number of pairs under a given relation <code>r</code>.</p>\n<p>My question is: If we constrain the relation <code>r</code> to a finite set or list (e.g., by defining <code>r</code> as <code>fun x y =&gt; x ∈ bound ∧ y ∈ bound ∧ r x y</code>), is it then possible to implement a decision procedure for <code>TransGen</code>?</p>\n<p>I've attempted to define such a procedure, <code>check_trans'</code>, as follows:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">check_trans'</span>\n<span class=\"w\">   </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span>\n<span class=\"w\">   </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">[</span><span class=\"n\">DecidableRel</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">]</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">visited</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">hv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">Nodup</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">   </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∉</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∉</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">     </span><span class=\"n\">false</span>\n<span class=\"w\">   </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">     </span><span class=\"n\">true</span>\n<span class=\"w\">   </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">visited</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">&gt;=</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">     </span><span class=\"c1\">-- Which means we already tried all the imm edges.</span>\n<span class=\"w\">     </span><span class=\"n\">false</span>\n<span class=\"w\">   </span><span class=\"k\">else</span>\n<span class=\"w\">     </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">::</span><span class=\"n\">visited</span>\n<span class=\"w\">     </span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">any</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">check_trans'</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop</span><span class=\"o\">))</span>\n<span class=\"n\">termination_by</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">visited</span><span class=\"bp\">.</span><span class=\"n\">length</span>\n<span class=\"n\">decreasing_by</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">omega</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n<p>My goal is to prove the following lemma:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">tc_towards_comp'</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Event</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Event</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Event</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">[</span><span class=\"n\">DecidableRel</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">]</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Event</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">visited</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Event</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">hin</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">Nodup</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">hnodup</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">visited</span><span class=\"bp\">.</span><span class=\"n\">Nodup</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">hsub</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">visited</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">(</span><span class=\"n\">htrans</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Relation</span><span class=\"bp\">.</span><span class=\"n\">TransGen</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span>\n<span class=\"w\">   </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">check_trans'</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">visited</span><span class=\"w\"> </span><span class=\"n\">hin</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">   </span><span class=\"k\">by</span>\n<span class=\"w\">     </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">check_trans'</span>\n<span class=\"w\">     </span><span class=\"n\">split</span>\n<span class=\"w\">     </span><span class=\"o\">{</span>\n<span class=\"w\">       </span><span class=\"n\">rename_i</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">       </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">htrans</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">       </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">single</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">         </span><span class=\"n\">aesop</span>\n<span class=\"w\">       </span><span class=\"o\">}</span>\n<span class=\"w\">       </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">tail</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">         </span><span class=\"n\">aesop</span>\n<span class=\"w\">       </span><span class=\"o\">}</span>\n<span class=\"w\">     </span><span class=\"o\">}</span>\n<span class=\"w\">     </span><span class=\"o\">{</span>\n<span class=\"w\">       </span><span class=\"n\">rename_i</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">       </span><span class=\"n\">push_neg</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">       </span><span class=\"n\">split</span>\n<span class=\"w\">       </span><span class=\"o\">{</span>\n<span class=\"w\">         </span><span class=\"n\">simp</span>\n<span class=\"w\">       </span><span class=\"o\">}</span>\n<span class=\"w\">       </span><span class=\"o\">{</span>\n<span class=\"w\">         </span><span class=\"n\">split</span>\n<span class=\"w\">         </span><span class=\"o\">{</span>\n<span class=\"w\">           </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">htrans</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">           </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">single</span><span class=\"w\"> </span><span class=\"n\">hrel</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">             </span><span class=\"n\">simp_all</span>\n<span class=\"w\">           </span><span class=\"o\">}</span>\n<span class=\"w\">           </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">tail</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">             </span><span class=\"n\">simp_all</span>\n<span class=\"w\">             </span><span class=\"n\">contradiction</span>\n<span class=\"w\">           </span><span class=\"o\">}</span>\n<span class=\"w\">         </span><span class=\"o\">}</span>\n<span class=\"w\">         </span><span class=\"o\">{</span>\n<span class=\"w\">           </span><span class=\"n\">rename_i</span><span class=\"w\"> </span><span class=\"n\">hrac</span>\n<span class=\"w\">           </span><span class=\"n\">simp</span>\n<span class=\"w\">           </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">htrans</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">           </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">single</span><span class=\"w\"> </span><span class=\"n\">hrel</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">             </span><span class=\"n\">rename_i</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">hnrab</span>\n<span class=\"w\">             </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">rab</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">               </span><span class=\"n\">aesop</span>\n\n<span class=\"w\">             </span><span class=\"n\">contradiction</span>\n<span class=\"w\">           </span><span class=\"o\">}</span>\n<span class=\"w\">           </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">tail</span><span class=\"w\"> </span><span class=\"n\">htrans</span><span class=\"w\"> </span><span class=\"n\">hrel</span><span class=\"w\"> </span><span class=\"n\">ihts</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">             </span><span class=\"n\">rename_i</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c'</span><span class=\"w\"> </span><span class=\"n\">hnac'</span>\n<span class=\"w\">             </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"w\">             </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">And</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">             </span><span class=\"o\">{</span>\n<span class=\"w\">               </span><span class=\"n\">aesop</span>\n<span class=\"w\">             </span><span class=\"o\">}</span>\n<span class=\"w\">             </span><span class=\"o\">{</span>\n<span class=\"w\">               </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">And</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">               </span><span class=\"o\">{</span>\n<span class=\"w\">                 </span><span class=\"n\">aesop</span>\n<span class=\"w\">               </span><span class=\"o\">}</span>\n<span class=\"w\">               </span><span class=\"o\">{</span>\n<span class=\"w\">                 </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">tc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Event</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">c'</span><span class=\"bp\">::</span><span class=\"n\">visited</span>\n<span class=\"w\">                 </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">tc_towards_comp'</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">tc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop</span><span class=\"o\">)</span>\n<span class=\"w\">                 </span><span class=\"o\">{</span>\n\n<span class=\"w\">                 </span><span class=\"o\">}</span>\n<span class=\"w\">                 </span><span class=\"o\">{</span>\n<span class=\"w\">                   </span><span class=\"n\">aesop</span>\n<span class=\"w\">                 </span><span class=\"o\">}</span>\n<span class=\"w\">                 </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">htrans</span>\n<span class=\"w\">               </span><span class=\"o\">}</span>\n<span class=\"w\">             </span><span class=\"o\">}</span>\n<span class=\"w\">           </span><span class=\"o\">}</span>\n<span class=\"w\">         </span><span class=\"o\">}</span>\n<span class=\"w\">       </span><span class=\"o\">}</span>\n<span class=\"w\">     </span><span class=\"o\">}</span>\n<span class=\"n\">termination_by</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">input</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">visited</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"o\">)</span>\n<span class=\"n\">decreasing_by</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">omega</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n<p>Despite my efforts, I'm consistently encountering issues with edge cases during the proof. I'm trying to determine if my algorithm of DFS for <code>check_trans'</code> is flawed, or if there are specific conditions or assumptions I might have overlooked.</p>\n<p>Any insights or suggestions would be greatly appreciated!</p>\n<p>Thank you for your time and help.</p>",
        "id": 522788543,
        "sender_full_name": "Zhiyang Wang",
        "timestamp": 1749219754
    },
    {
        "content": "<p>The mathematician in me is saying that you can define <code>r^n</code> of a relation <code>r</code>, and then <code>r^(Fintype.card α)</code> will be <code>TransGen r</code></p>",
        "id": 522800817,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1749223631
    },
    {
        "content": "<p>also i'm not seeing any finiteness constraint in your code</p>",
        "id": 522800858,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1749223648
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Decidability.20of.20TransGen.20in.20Lean.204.20with.20Bounded.20Relation/near/522800817\">said</a>:</p>\n<blockquote>\n<p>The mathematician in me is saying that you can define <code>r^n</code> of a relation <code>r</code>, and then <code>r^(Fintype.card α)</code> will be <code>TransGen r</code></p>\n</blockquote>\n<p>unfortunately, the mathematician in <em>me</em> says that <code>r^n</code> of a relation <code>r</code> (judging from the notation alone) is the relation given by \"there is a <code>r</code>-chain of length <code>n</code>\" rather than \"there is a <code>r</code>-chain of length at most <code>n</code>\".</p>",
        "id": 522804187,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749224822
    },
    {
        "content": "<p>which would not result in <code>r^(Fintype.card α)</code> being <code>TransGen r</code></p>",
        "id": 522804294,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749224865
    },
    {
        "content": "<p>I see, the union of <code>r^1</code> to <code>r^n</code> will be <code>TransGen r</code> then</p>",
        "id": 522804335,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1749224884
    },
    {
        "content": "<p>yes, that seems to be the \"right\" way to state it</p>",
        "id": 522804400,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749224910
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Decidability.20of.20TransGen.20in.20Lean.204.20with.20Bounded.20Relation/near/522800858\">said</a>:</p>\n<blockquote>\n<p>also i'm not seeing any finiteness constraint in your code</p>\n</blockquote>\n<p>I guess that finiteness constraint is not \"explicit\", but comes from the <code>input : List α</code> being a list</p>",
        "id": 522806265,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1749225590
    },
    {
        "content": "<p>Doesn't <code>α</code> have to be finite too?</p>",
        "id": 522806759,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1749225716
    },
    {
        "content": "<p>so <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Fintype/OfMap.html#Fintype.ofList\">Fintype.ofList</a></p>",
        "id": 522806776,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1749225719
    },
    {
        "content": "<p>Oh are you only searching on the finite subset of <code>α</code> given by <code>input</code>?</p>",
        "id": 522806974,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1749225787
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Decidability.20of.20TransGen.20in.20Lean.204.20with.20Bounded.20Relation/near/522806759\">said</a>:</p>\n<blockquote>\n<p>Doesn't <code>α</code> have to be finite too?</p>\n</blockquote>\n<p>I don't see why it would? ( he has to restrict the relation before taking the transitive closure)</p>",
        "id": 522806985,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1749225789
    },
    {
        "content": "<p>yeah, this would not be the same as <code>TransGen r</code> restricted to <code>input</code>, because there might be an element outside of <code>input</code> that transitively relates two elements inside of it</p>",
        "id": 522807396,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1749225930
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315434\">@Andrés Goens</span> (let's not speak for the author of the post), if s/he wants finiteness, s/he cannot allow for an element outside of <code>input</code> relating two elements inside <code>input</code>; and then s/he'll find him/herself in a situation where s/he should have declared finiteness in the first place</p>",
        "id": 522808654,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1749226391
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Decidability.20of.20TransGen.20in.20Lean.204.20with.20Bounded.20Relation/near/522808654\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"315434\">Andrés Goens</span> (let's not speak for the author of the post), if s/he wants finiteness, s/he cannot allow for an element outside of <code>input</code> relating two elements inside <code>input</code>; and then s/he'll find him/herself in a situation where s/he should have declared finiteness in the first place</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> (oh, I know him and we discussed this issue before DM)</p>\n<p>I guess that's exactly what <code>fun x y =&gt; x ∈ bound ∧ y ∈ bound ∧ r x y</code> is supposed to do, but I am confused now too why it says <code>∈ bound</code> and not <code>∈ input</code></p>",
        "id": 522809250,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1749226632
    },
    {
        "content": "<p>the use of <code>bound</code> is before introducing a concrete attempt with different naming, where <code>input</code> seems to be used consistently instead</p>",
        "id": 522809496,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749226734
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/113489-new-members/topic/Decidability.20of.20TransGen.20in.20Lean.204.20with.20Bounded.20Relation/near/522804187\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Decidability.20of.20TransGen.20in.20Lean.204.20with.20Bounded.20Relation/near/522800817\">said</a>:</p>\n<blockquote>\n<p>The mathematician in me is saying that you can define <code>r^n</code> of a relation <code>r</code>, and then <code>r^(Fintype.card α)</code> will be <code>TransGen r</code></p>\n</blockquote>\n<p>unfortunately, the mathematician in <em>me</em> says that <code>r^n</code> of a relation <code>r</code> (judging from the notation alone) is the relation given by \"there is a <code>r</code>-chain of length <code>n</code>\" rather than \"there is a <code>r</code>-chain of length at most <code>n</code>\".</p>\n</blockquote>\n<p>Thanks a lot to all of you! It helps a lot! Even though I don't feel like I have a mathematician in me, haha. I will try to state it as this.</p>",
        "id": 522818635,
        "sender_full_name": "Zhiyang Wang",
        "timestamp": 1749230135
    }
]