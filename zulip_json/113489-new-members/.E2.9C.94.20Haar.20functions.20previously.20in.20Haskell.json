[
    {
        "content": "<p>I have in Haskell</p>\n<div class=\"codehilite\" data-code-language=\"Literate Haskell\"><pre><span></span><code><span class=\"cs\">&gt; </span><span class=\"kr\">data</span><span class=\"w\"> </span><span class=\"kt\">Haar</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"ow\">::</span><span class=\"w\"> </span><span class=\"kt\">Nat</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"ow\">::</span><span class=\"w\"> </span><span class=\"kt\">Nat</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ow\">=</span><span class=\"w\"> </span><span class=\"kt\">Haar</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">unHaar</span><span class=\"w\"> </span><span class=\"ow\">::</span><span class=\"w\"> </span><span class=\"kt\">Double</span><span class=\"w\"> </span><span class=\"ow\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">Double</span><span class=\"w\"> </span><span class=\"p\">}</span>\n\n<span class=\"cs\">&gt; </span><span class=\"nf\">haar</span><span class=\"w\"> </span><span class=\"ow\">::</span><span class=\"w\"> </span><span class=\"n\">forall</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">.</span>\n<span class=\"cs\">&gt;         </span><span class=\"p\">(</span><span class=\"kt\">KnownNat</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"kt\">KnownNat</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">&lt;=?</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">^</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">~</span><span class=\"w\"> </span><span class=\"kt\">'True</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ow\">=&gt;</span>\n<span class=\"cs\">&gt;         </span><span class=\"kt\">Haar</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"cs\">&gt; </span><span class=\"nf\">haar</span><span class=\"w\"> </span><span class=\"ow\">=</span><span class=\"w\"> </span><span class=\"kt\">Haar</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"kr\">where</span>\n<span class=\"cs\">&gt;   </span><span class=\"nf\">g</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">k'</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"n\">n'</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"n\">k'</span><span class=\"w\">       </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"n\">n'</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ow\">=</span><span class=\"w\">  </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"w\"> </span><span class=\"p\">((</span><span class=\"n\">n'</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"cs\">&gt;       </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">k'</span><span class=\"w\">       </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"n\">n'</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">&lt;=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">k'</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"n\">n'</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"ow\">=</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">**</span><span class=\"w\"> </span><span class=\"p\">((</span><span class=\"n\">n'</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"cs\">&gt;       </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">otherwise</span><span class=\"w\">                                               </span><span class=\"ow\">=</span><span class=\"w\">  </span><span class=\"mi\">0</span>\n<span class=\"cs\">&gt;     </span><span class=\"kr\">where</span>\n<span class=\"cs\">&gt;         </span><span class=\"nf\">n'</span><span class=\"w\"> </span><span class=\"ow\">=</span><span class=\"w\"> </span><span class=\"n\">fromIntegral</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">natVal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kt\">Proxy</span><span class=\"w\"> </span><span class=\"ow\">::</span><span class=\"w\"> </span><span class=\"kt\">Proxy</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"p\">))</span>\n<span class=\"cs\">&gt;         </span><span class=\"nf\">k'</span><span class=\"w\"> </span><span class=\"ow\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">*</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">fromIntegral</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">natVal</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kt\">Proxy</span><span class=\"w\"> </span><span class=\"ow\">::</span><span class=\"w\"> </span><span class=\"kt\">Proxy</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"p\">)))</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>and tried</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">HPollard</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">indicator</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>but lean tells me</p>\n<blockquote>\n<p>failed to compile definition, consider marking it as 'noncomputable' because it depends on 'Set.indicator', and it does not have executable code</p>\n</blockquote>\n<p>As well as getting it to compile, I'd also like the constraint I have in Haskell.</p>",
        "id": 474586369,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727960645
    },
    {
        "content": "<p>since this is a function on reals, and the implementation of reals is noncomputable by nature, i don't think this function <em>can</em> be computable...</p>",
        "id": 474587378,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727960949
    },
    {
        "content": "<p>So don't re-use the set indicator function? I mean the condition itself is perfectly computable as the Haskell shows.</p>",
        "id": 474589022,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727961478
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"664677\">ksrk</span> has marked this topic as resolved.</p>",
        "id": 474589180,
        "sender_full_name": "Notification Bot",
        "timestamp": 1727961512
    },
    {
        "content": "<p>What should I use instead of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span>?</p>",
        "id": 474589667,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727961671
    },
    {
        "content": "<p>you can use <code>Float</code>, if you'd like...</p>",
        "id": 474589712,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727961687
    },
    {
        "content": "<p>or not expect it to be computable. in mathlib, the latter is accepted practice</p>",
        "id": 474589826,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727961712
    },
    {
        "content": "<p>I'd quite like to plot it so I will have one computable function for plotting and one for proving stuff?</p>",
        "id": 474590319,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727961866
    },
    {
        "content": "<p>in that case i think your best option is to do neither, but rather make the function polymorphic?</p>",
        "id": 474590606,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727961948
    },
    {
        "content": "<p>in that case you can prove things about the function on <code>Real</code>s (where it is non-computable), but you can do the calculations for <code>Float</code>s</p>",
        "id": 474590952,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727962058
    },
    {
        "content": "<p>I think Floats are problematic (things don't exist for them) but this seems to work</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">HPollard</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrderedField</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">    </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">HPollard</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 474592937,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727962653
    },
    {
        "content": "<p>How can I see the members of <code>LinearOrderedField</code>?</p>",
        "id": 474593150,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727962709
    },
    {
        "content": "<p>at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearOrderedField#doc\">docs#LinearOrderedField</a> you can click the \"instances\" tab to see some instances, but those are only the direct ones...</p>",
        "id": 474594066,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727962997
    },
    {
        "content": "<p>still, i hope that helps.</p>",
        "id": 474594166,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727963029
    },
    {
        "content": "<p>I am slightly sad. In Haskell one can say</p>\n<div class=\"codehilite\" data-code-language=\"Haskell\"><pre><span></span><code><span class=\"kt\">GHCJ</span><span class=\"w\"> </span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"kt\">:I</span><span class=\"w\"> </span><span class=\"kt\">Num</span>\n</code></pre></div>\n<p>and be told the instances</p>\n<div class=\"codehilite\" data-code-language=\"Haskell\"><pre><span></span><code><span class=\"kr\">instance</span><span class=\"w\"> </span><span class=\"kt\">Num</span><span class=\"w\"> </span><span class=\"kt\">Double</span><span class=\"w\"> </span><span class=\"c1\">-- Defined in ‘GHC.Internal.Float’</span>\n<span class=\"kr\">instance</span><span class=\"w\"> </span><span class=\"kt\">Num</span><span class=\"w\"> </span><span class=\"kt\">Float</span><span class=\"w\"> </span><span class=\"c1\">-- Defined in ‘GHC.Internal.Float’</span>\n<span class=\"kr\">instance</span><span class=\"w\"> </span><span class=\"kt\">Num</span><span class=\"w\"> </span><span class=\"kt\">Int</span><span class=\"w\"> </span><span class=\"c1\">-- Defined in ‘GHC.Internal.Num’</span>\n<span class=\"kr\">instance</span><span class=\"w\"> </span><span class=\"kt\">Num</span><span class=\"w\"> </span><span class=\"kt\">Integer</span><span class=\"w\"> </span><span class=\"c1\">-- Defined in ‘GHC.Internal.Num’</span>\n<span class=\"kr\">instance</span><span class=\"w\"> </span><span class=\"kt\">Num</span><span class=\"w\"> </span><span class=\"kt\">Word</span><span class=\"w\"> </span><span class=\"c1\">-- Defined in ‘GHC.Internal.Num’</span>\n</code></pre></div>",
        "id": 474594954,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727963267
    },
    {
        "content": "<p>you <em>can</em> use <code>#synth LinearOrderedField Rat</code> to find out if such an instance exists in the current context (i.e. this or imported files)</p>",
        "id": 474595685,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727963495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/stream/113489-new-members/topic/.E2.9C.94.20Haar.20functions.20previously.20in.20Haskell/near/474595685\">said</a>:</p>\n<blockquote>\n<p>you <em>can</em> use <code>#synth LinearOrderedField Rat</code> to find out if such an instance exists in the current context (i.e. this or imported files)</p>\n</blockquote>\n<p>That's very useful thanks - indeed Rat synthesises but Float does not</p>",
        "id": 474596491,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727963716
    },
    {
        "content": "<p>note that this doesn't exist because <code>Float</code> doesn't obey a lot of the algebraic laws expected of addition, multiplication, etc. If you instead make more fine-grained assumptions as <code>Mul</code> and the like, i think you should be able to make the function work for <code>Float</code>.</p>",
        "id": 474597010,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727963859
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/stream/113489-new-members/topic/.E2.9C.94.20Haar.20functions.20previously.20in.20Haskell/near/474597010\">said</a>:</p>\n<blockquote>\n<p>note that this doesn't exist because <code>Float</code> doesn't obey a lot of the algebraic laws expected of addition, multiplication, etc. If you instead make more fine-grained assumptions as <code>Mul</code> and the like, i think you should be able to make the function work for <code>Float</code>.</p>\n</blockquote>\n<p>Rat will do for now. If I run into trouble with excessively large numerators and denominators then I can always do as you suggest (<a href=\"https://idontgetoutmuch.wordpress.com/2015/11/12/floating-point-a-faustian-bargain/\">Floating Point: A Faustian Bargain?</a>).</p>\n<p>Many thanks once again.</p>",
        "id": 474597919,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1727964091
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/stream/113489-new-members/topic/.E2.9C.94.20Haar.20functions.20previously.20in.20Haskell/near/474597919\">said</a>:</p>\n<blockquote>\n<p>Rat will do for now. If I run into trouble with excessively large numerators and denominators then I can always do as you suggest (<a href=\"https://idontgetoutmuch.wordpress.com/2015/11/12/floating-point-a-faustian-bargain/\">Floating Point: A Faustian Bargain?</a>).</p>\n<p>Many thanks once again.</p>\n</blockquote>\n<p>This is a fine argument as to why one should do scientific programming with <code>Float</code>, but from a mathematics perspective, proving nontrivial theorems about <code>Float</code> is a nightmare. You don't have an instance of <code>LinearOrderedField Float</code> because you can't have <code>Field Float</code>, as <code>Float</code> does not satisfy the minimal requirements to be a field, or even just an additive semigroup for that matter</p>",
        "id": 474689010,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1727993451
    }
]