[
    {
        "content": "<p>I can't seem to find an <code>Int</code> version of <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Nat/Basic.html#Nat.succ_le\">Nat.succ_le</a>.</p>\n<p>Is it the case there isn't one? </p>\n<p>Or am I missing a trick where <code>Nat.succ_le</code> can be used for integers by flipping negative integers to positive, applying the lemma, and then flipping back to negative, switching the direction of the inequality?</p>",
        "id": 482283475,
        "sender_full_name": "rzeta0",
        "timestamp": 1731542171
    },
    {
        "content": "<p>You could try</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">exact?</span>\n</code></pre></div>",
        "id": 482283986,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731542436
    },
    {
        "content": "<p>thank Damiano - is this the recommended way of searching for lemmas? To use <code>exact?</code> where you think there might exist  a relevant lemma?</p>",
        "id": 482284602,
        "sender_full_name": "rzeta0",
        "timestamp": 1731542776
    },
    {
        "content": "<p>I use this method fairly often, although I usually first try to guess the name of the lemma and see if autocompletion is kind enough to tell me what the lemma is.</p>",
        "id": 482284715,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731542848
    },
    {
        "content": "<p>your suggestion found <code>Int.add_one_le_iff</code></p>\n<p>but it also found <code>Nat.add_one_le_iff</code> .. which looks exactly like <code>Nat.succ_le</code> .. is there a difference? The signature suggest there is no difference.</p>",
        "id": 482284932,
        "sender_full_name": "rzeta0",
        "timestamp": 1731542960
    },
    {
        "content": "<p>It looks like they are definitionally equivalent:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_one_le_iff</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ_le</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>",
        "id": 482285128,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731543083
    },
    {
        "content": "<p>given the reluctance of mathlib maintainers to add requested lemmas, should I assume these two exist just as an accident of history, and there is no valid intentional reason for them to both exist?</p>\n<p>(my beginner brain tells me <code>succ</code> is more axiomatic than <code>+1</code>)</p>",
        "id": 482285499,
        "sender_full_name": "rzeta0",
        "timestamp": 1731543276
    },
    {
        "content": "<p>I think that <code>rw</code> would not be able to use these two lemmas interchangeably.</p>",
        "id": 482285556,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731543311
    },
    {
        "content": "<p>interesting - why is that?</p>\n<p>I just tried it and it seems to work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_or_succ_le</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ_le</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">--&lt;----------</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">le_or_lt</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_or_succ_le'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_one_le_iff</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">--&lt;----------</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">le_or_lt</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>\n<p>so I assume you mean something different?</p>",
        "id": 482285709,
        "sender_full_name": "rzeta0",
        "timestamp": 1731543403
    },
    {
        "content": "<p>Oh I'm surprised about this. This is all about different kinds of equality in Lean (see <a href=\"https://www.ma.imperial.ac.uk/~buzzard/xena/formalising-mathematics-2024/Part_B/equality.html\">https://www.ma.imperial.ac.uk/~buzzard/xena/formalising-mathematics-2024/Part_B/equality.html</a> ). I had imagined that <code>a + 1</code> and <code>Nat.succ a</code> were definitionally, but not syntactically, equal, and my mental model is that <code>rw</code> works up to syntactic equality so the top one would fail.</p>",
        "id": 482333108,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731572834
    },
    {
        "content": "<p>Actually, I meant exactly what you tried and I am also surprised that it works.</p>",
        "id": 482333379,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731572923
    },
    {
        "content": "<p>Maybe this is the recent switch to using <code>+1</code> more aggressively than <code>Nat.succ</code> that makes it work in this case?</p>",
        "id": 482333596,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731572993
    }
]