[
    {
        "content": "<p>I get error message:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Expected</span><span class=\"w\"> </span><span class=\"n\">resulting</span><span class=\"w\"> </span><span class=\"n\">type</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">eliminator</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">application</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">its</span><span class=\"w\"> </span><span class=\"n\">parameters</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">motive</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">found</span>\n<span class=\"w\">  </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span>\n</code></pre></div>\n<p>when I try to do induction this way:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">can_make_ResolveCtx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hwas</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CtxAllResolved</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">motive_1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">resultTy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">resultTy</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>I don't understand what this error message means. As far as I can tell I am trying to return the exact same prop that the theorem expects. </p>\n<p>When I do <code>induction h using UnifyConcs.rec (motive_1 := _) </code> the error goes away and the hole is inferred to be <code>(a b : Ty) → (ctx : Ctx) → (resultTy : Ty) → (resultCtx : Ctx) → UnifyConcs a b ctx resultTy resultCtx → Prop</code> which as far as I can tell exactly matches what I'm trying to do?</p>\n<p>I'd like to make a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> but there are &gt;5000 lines of preceding context to this and I have no idea which parts of it are key to triggering this error</p>",
        "id": 546559681,
        "sender_full_name": "aron",
        "timestamp": 1761171508
    },
    {
        "content": "<p>why are you providing your own motive and why does your motive not change the goal at all (that's what the error means)</p>",
        "id": 546561443,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761172548
    },
    {
        "content": "<p>usually if you <code>induction n</code> where <code>n : Nat</code> then the goal will change to <code>P 0</code> and <code>P (n + 1)</code></p>",
        "id": 546561464,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761172561
    },
    {
        "content": "<p>and can you post the output of <code>#print UnifyConcs</code></p>",
        "id": 546561530,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761172604
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Confusing.20induction.20motive.20error.20message/near/546561443\">said</a>:</p>\n<blockquote>\n<p>why are you providing your own motive</p>\n</blockquote>\n<p>I need to provide my own motive because <code>UnifyConcs</code> is mutually recursive with <code>UnifyIndices</code>, and all the <code>UnifyIndices</code> cases have a goal like <code>?m.38 i✝ i✝ ctx✝ (Ty.uniVar i✝) ctx✝ ⋯</code> otherwise</p>",
        "id": 546561699,
        "sender_full_name": "aron",
        "timestamp": 1761172716
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Confusing.20induction.20motive.20error.20message/near/546561530\">said</a>:</p>\n<blockquote>\n<p>and can you post the output of <code>#print UnifyConcs</code></p>\n</blockquote>\n<p>Ok but there is a lot going on <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">parameters</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"n\">constructors</span><span class=\"o\">:</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">prims</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PrimTy</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">},</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">prim</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">prim</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">prim</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">ctx</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">pairs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">fstA</span><span class=\"w\"> </span><span class=\"n\">fstB</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">fstUnif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resultCtx1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">sndA</span><span class=\"w\"> </span><span class=\"n\">sndB</span><span class=\"w\"> </span><span class=\"n\">sndUnif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span>\n<span class=\"o\">{</span><span class=\"n\">resultCtx2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">},</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">fstA</span><span class=\"w\"> </span><span class=\"n\">fstB</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">fstUnif</span><span class=\"w\"> </span><span class=\"n\">resultCtx1</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">sndA</span><span class=\"w\"> </span><span class=\"n\">sndB</span><span class=\"w\"> </span><span class=\"n\">resultCtx1</span><span class=\"w\"> </span><span class=\"n\">sndUnif</span><span class=\"w\"> </span><span class=\"n\">resultCtx2</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">pair</span><span class=\"w\"> </span><span class=\"n\">fstA</span><span class=\"w\"> </span><span class=\"n\">sndA</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">pair</span><span class=\"w\"> </span><span class=\"n\">fstB</span><span class=\"w\"> </span><span class=\"n\">sndB</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">ctx</span>\n<span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">pair</span><span class=\"w\"> </span><span class=\"n\">fstUnif</span><span class=\"w\"> </span><span class=\"n\">sndUnif</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">resultCtx2</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">arrows</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">fstA</span><span class=\"w\"> </span><span class=\"n\">fstB</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">fstUnif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resultCtx1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">sndA</span><span class=\"w\"> </span><span class=\"n\">sndB</span><span class=\"w\"> </span><span class=\"n\">sndUnif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span>\n<span class=\"o\">{</span><span class=\"n\">resultCtx2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">},</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">fstA</span><span class=\"w\"> </span><span class=\"n\">fstB</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">fstUnif</span><span class=\"w\"> </span><span class=\"n\">resultCtx1</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">sndA</span><span class=\"w\"> </span><span class=\"n\">sndB</span><span class=\"w\"> </span><span class=\"n\">resultCtx1</span><span class=\"w\"> </span><span class=\"n\">sndUnif</span><span class=\"w\"> </span><span class=\"n\">resultCtx2</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"n\">fstA</span><span class=\"w\"> </span><span class=\"n\">sndA</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"n\">fstB</span><span class=\"w\"> </span><span class=\"n\">sndB</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">ctx</span>\n<span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyInner</span><span class=\"bp\">.</span><span class=\"n\">arrow</span><span class=\"w\"> </span><span class=\"n\">fstUnif</span><span class=\"w\"> </span><span class=\"n\">sndUnif</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">resultCtx2</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">uniVars</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">},</span>\n<span class=\"n\">UnifyIndices</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">uniVar</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">uniVar</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">concUniVar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resA</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TyInner</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">hrange</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TyUvsInRange</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"o\">{</span><span class=\"n\">tyAtIndex</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">},</span>\n<span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">resA</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">resolveUniVars</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">hrange</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">IsAtRevIndex</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyMaybe</span><span class=\"bp\">.</span><span class=\"n\">conc</span><span class=\"w\"> </span><span class=\"n\">tyAtIndex</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">resA</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">tyAtIndex</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">uniVar</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">uniVarConc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resB</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TyInner</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">hrange</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TyUvsInRange</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"o\">{</span><span class=\"n\">tyAtIndex</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">},</span>\n<span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">resB</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">resolveUniVars</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">hrange</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">IsAtRevIndex</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyMaybe</span><span class=\"bp\">.</span><span class=\"n\">conc</span><span class=\"w\"> </span><span class=\"n\">tyAtIndex</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">tyAtIndex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">uniVar</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">unspecUniVar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">TyMaybe</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resolvedResultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TyInner</span><span class=\"o\">},</span>\n<span class=\"n\">IsAtRevIndex</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">TyMaybe</span><span class=\"bp\">.</span><span class=\"n\">unspec</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">SetAtRevIndex</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyMaybe</span><span class=\"bp\">.</span><span class=\"n\">conc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedResultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">uniVar</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">resolvedResultCtx</span>\n<span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">uniVarUnspec</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">TyMaybe</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resolvedResultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TyInner</span><span class=\"o\">},</span>\n<span class=\"n\">IsAtRevIndex</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">TyMaybe</span><span class=\"bp\">.</span><span class=\"n\">unspec</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">SetAtRevIndex</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TyMaybe</span><span class=\"bp\">.</span><span class=\"n\">conc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedResultCtx</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">uniVar</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ty</span><span class=\"bp\">.</span><span class=\"n\">shape</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">resolvedResultCtx</span>\n</code></pre></div>",
        "id": 546561782,
        "sender_full_name": "aron",
        "timestamp": 1761172768
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Confusing.20induction.20motive.20error.20message/near/546561443\">said</a>:</p>\n<blockquote>\n<p>and why does your motive not change the goal at all (that's what the error means)</p>\n</blockquote>\n<p>oh what. is that all the error means? why would that be an error?</p>",
        "id": 546561933,
        "sender_full_name": "aron",
        "timestamp": 1761172876
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"814082\">aron</span> <a href=\"#narrow/channel/113489-new-members/topic/Confusing.20induction.20motive.20error.20message/near/546559681\">said</a>:</p>\n<blockquote>\n<p>When I do <code>induction h using UnifyConcs.rec (motive_1 := _) </code> the error goes away and the hole is inferred to be <code>(a b : Ty) → (ctx : Ctx) → (resultTy : Ty) → (resultCtx : Ctx) → UnifyConcs a b ctx resultTy resultCtx → Prop</code> which as far as I can tell exactly matches what I'm trying to do?</p>\n</blockquote>\n<p>Look carefully, it's not the same</p>",
        "id": 546561993,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761172920
    },
    {
        "content": "<p>but actually yeah I think that helps, because I think I was wrongly specifying <code>motive_1</code>. <code>motive_2</code> is what I need to specify, because it's for motive 2 that the goals look like <code>?m.38 a✝⁴ b✝ ctx✝ (Ty.uniVar b✝) resultCtx✝ ⋯</code>. </p>\n<p>And looks like... yeah when I specify only motive_2 the error goes away <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">can_make_ResolveCtx</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hwas</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CtxAllResolved</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">UnifyConcs</span><span class=\"bp\">.</span><span class=\"n\">rec</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">motive_2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ty</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ctx</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">UnifyIndices</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"w\"> </span><span class=\"n\">unif</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hwas</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CtxAllResolved</span><span class=\"w\"> </span><span class=\"n\">ctx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ResolveCtx</span><span class=\"w\"> </span><span class=\"n\">resultCtx</span><span class=\"w\"> </span><span class=\"n\">resolvedCtx</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 546562105,
        "sender_full_name": "aron",
        "timestamp": 1761172997
    },
    {
        "content": "<p>oh is the problem resolved?</p>",
        "id": 546562146,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761173035
    },
    {
        "content": "<p>yeah I think so!</p>",
        "id": 546562187,
        "sender_full_name": "aron",
        "timestamp": 1761173061
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/Confusing.20induction.20motive.20error.20message/near/546561993\">said</a>:</p>\n<blockquote>\n<p>same</p>\n</blockquote>\n<p>uhh is it not? what's the difference?</p>",
        "id": 546562229,
        "sender_full_name": "aron",
        "timestamp": 1761173087
    },
    {
        "content": "<p><del>one is the type of the other</del> oh it might be how the hovers work</p>",
        "id": 546562359,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761173154
    },
    {
        "content": "<p>how do you keep up with all this complexity</p>",
        "id": 546562380,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761173167
    },
    {
        "content": "<p>sometimes the hovers display the term and sometimes they display the type of the term</p>",
        "id": 546562390,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761173172
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/Confusing.20induction.20motive.20error.20message/near/546562380\">said</a>:</p>\n<blockquote>\n<p>how do you keep up with all this complexity</p>\n</blockquote>\n<p><em>sigh</em>. dude. it's been a rough journey.</p>",
        "id": 546562476,
        "sender_full_name": "aron",
        "timestamp": 1761173228
    },
    {
        "content": "<p>i mean, I assume you're following a paper, how does the paper do it, does it have more notations (check my zulip status)</p>",
        "id": 546562550,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761173279
    },
    {
        "content": "<p>uhh I'm not following any paper</p>\n<p>I'm just, like, doing my own thing <span aria-label=\"tear\" class=\"emoji emoji-1f972\" role=\"img\" title=\"tear\">:tear:</span></p>",
        "id": 546562614,
        "sender_full_name": "aron",
        "timestamp": 1761173315
    },
    {
        "content": "<p>(trying to, anyway)</p>",
        "id": 546562630,
        "sender_full_name": "aron",
        "timestamp": 1761173323
    },
    {
        "content": "<p>curious, what are you doing? looks like some sort of unifcation or something?</p>",
        "id": 546562757,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761173388
    },
    {
        "content": "<p>lol yup that's exactly what I'm doing. currently working on an implementation (formalisation?) of a simple monomorphic type system with unification</p>",
        "id": 546562858,
        "sender_full_name": "aron",
        "timestamp": 1761173448
    },
    {
        "content": "<p>unification has been... very difficult. i'm only now getting close to the end (i hope)</p>",
        "id": 546563190,
        "sender_full_name": "aron",
        "timestamp": 1761173643
    },
    {
        "content": "<p>implementing a simple monomorphic type inference/checking took me a few months but a big part of that was learning how lean works, how to prove things, tactics, how to represent things, and so on. adding unification on top of that has taken me about 4 months so far</p>",
        "id": 546563234,
        "sender_full_name": "aron",
        "timestamp": 1761173673
    },
    {
        "content": "<p>implementing the occurs check when you need to prove termination is rough. so is proving things about a unification variable context when you're \"mutating\" that context in the process of unifying types</p>",
        "id": 546563493,
        "sender_full_name": "aron",
        "timestamp": 1761173818
    }
]