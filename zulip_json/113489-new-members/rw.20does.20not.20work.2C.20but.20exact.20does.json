[
    {
        "content": "<p>I recently encountered this problem while updating my mathlib dependency. How do I rewrite this h term?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"c1\">-- exact Nat.one_le_iff_ne_zero.mpr h -- Works</span>\n<span class=\"w\">  </span><span class=\"c1\">-- rw [← Ne.def] at h invalid field notation</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">one_le_iff_ne_zero</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"c1\">-- Did not find ≠ 0</span>\n</code></pre></div>",
        "id": 467120776,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1725341795
    },
    {
        "content": "<p>have you tried rewriting <code>ne_eq</code> at <code>h</code> first?</p>",
        "id": 467123075,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1725342595
    },
    {
        "content": "<p>That solves it, thank you!</p>",
        "id": 467123202,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1725342621
    },
    {
        "content": "<p>Is <code>Ne.def</code> just deprecated then? Shouldn't there be a deprecation notice if so?</p>",
        "id": 467123649,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1725342719
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> \"Ne.def\"</p>",
        "id": 467125474,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1725343148
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> nothing found</p>",
        "id": 467125479,
        "sender_full_name": "loogle",
        "timestamp": 1725343150
    },
    {
        "content": "<p>I think you can rewrite <code>Ne</code> instead</p>",
        "id": 467125873,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1725343231
    },
    {
        "content": "<p><code>Ne.def</code> also works, probably</p>",
        "id": 467178645,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1725353930
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/113489-new-members/topic/rw.20does.20not.20work.2C.20but.20exact.20does/near/467178645\">said</a>:</p>\n<blockquote>\n<p><code>Ne.def</code> also works, probably</p>\n</blockquote>\n<p>It used to! But not any longer. It was removed from <code>Mathlib.Logic</code> and callers changed to <code>Ne.eq_def</code> in \"chore: move to v4.8.0-rc1 (<a href=\"https://github.com/leanprover-community/mathlib4/pull/12548\">#12548</a>)\".  <code>Ne.eq_def</code> is maybe autogenerated (an \"unfolding lemma\"?), I guess, because I can't seem to find its definition.</p>",
        "id": 467291736,
        "sender_full_name": "Richard Copley",
        "timestamp": 1725377242
    },
    {
        "content": "<p>Oh, I suppressed that memory. Thanks for the correction</p>",
        "id": 467292168,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1725377379
    }
]