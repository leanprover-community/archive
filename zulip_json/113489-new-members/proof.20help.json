[
    {
        "content": "<p>I am very new to lean and very sorry if these are dumb questions. A deadline is swiftly approaching and I can't seem to crack this. I was wondering if any lean folks could help me better understand how to go about simplifying algebra.</p>\n<p>for starters, why does this work? <br>\n<code>example (x0: ℝ): x0^(3/2) = x0 := by simp</code><br>\nand how would i go about simplifying general algebra like <code>x * sqrt(x)</code> to <code>x^(3/2)</code>. In larger expressions I sometimes have something like ( (...) * A ) / A yet the A's don't cancel out (I have hypothesis that A != 0). What should I do &amp; where should I look? I did a little bit of natural number game but the ideas aren't extending well to my calculus proofs with real numbers. i looked at the auto generated docs, but couldn't find anything super helpful.</p>",
        "id": 514931675,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745889447
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"902476\">Devan Srinivasan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/proof.20help/near/514931675\">said</a>:</p>\n<blockquote>\n<p>for starters, why does this work? <br>\n<code>example (x0: ℝ): x0^(3/2) = x0 := by simp</code></p>\n</blockquote>\n<p>It's natural number division, which rounds down.</p>",
        "id": 514932095,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745889699
    },
    {
        "content": "<p><code>3 / 2 = 1</code></p>",
        "id": 514932108,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745889708
    },
    {
        "content": "<p>You can use <a href=\"https://loogle.lean-lang.org/\">#loogle</a> and <a href=\"https://leansearch.net/\">#leansearch</a> and other tools to help you find theorems. You can also try looking it up in the <a href=\"https://leanprover-community.github.io/mathlib4_docs\">#docs</a> or guessing the name of the theorem based on mathlib's <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a> conventions.</p>",
        "id": 514932412,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745889885
    },
    {
        "content": "<p>I see...ok thank you so much this is very helpful.</p>",
        "id": 514932495,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745889948
    },
    {
        "content": "<p>Ok so in general, if I have like a * b * c / a, i would have to use some combination of associativity with multiplication and cancellation rule to simplify that right? there isn't just one tactic I can use to reduce expressions as much as possible?</p>",
        "id": 514932664,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745890029
    },
    {
        "content": "<p>The example you gave is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=mul_div_cancel_right₀#doc\">docs#mul_div_cancel_right₀</a></p>",
        "id": 514932794,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745890084
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"902476\">Devan Srinivasan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/proof.20help/near/514932664\">said</a>:</p>\n<blockquote>\n<p>Ok so in general, if I have like a * b * c / , i would have to use some combination of associativity with multiplication and cancellation rule to simplify that right? there isn't just one tactic I can use to reduce expressions as much as possible?</p>\n</blockquote>\n<p><code>simp</code> is close, but uses a somewhat conservative interpretation of \"simple\"</p>",
        "id": 514932844,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745890113
    },
    {
        "content": "<p>You can also give it your own theorems, like <code>simp [← mul_assoc]</code></p>",
        "id": 514932910,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745890151
    },
    {
        "content": "<p>right ok. thank you very much Aaron!</p>",
        "id": 514932987,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745890197
    },
    {
        "content": "<p>some combo of <code>field_simp</code> and <code>ring</code> should handle the generalized \"just do algebra to this\"</p>",
        "id": 514934007,
        "sender_full_name": "Maja Kądziołka",
        "timestamp": 1745890883
    },
    {
        "content": "<p>... except if you work with NNReal or ENNReal: these are not a field, and for them you need usually need to apply lemmas by hand.</p>",
        "id": 514973215,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745909111
    },
    {
        "content": "<p><code>NNReal</code> is a semifield, though. <code>field_simp</code> should handle it, no? I agree <code>ENNReal</code> is a different beast</p>",
        "id": 514974310,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745909595
    },
    {
        "content": "<p>I haven't tried NNReal much - so my comment here may be wrong.</p>",
        "id": 515051176,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745930253
    },
    {
        "content": "<p>unless I am using them wrong, just typing <br>\n<code>ring</code> and <code>field_simp [...]</code> where ... is sometimes some hypothesis that denom != 0,  it rarely simplifies all the way. almost always have to manually apply lemmas now</p>\n<p>field_simp does however usually simplify the work I have to do, but never finish it :(</p>",
        "id": 515095807,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745940266
    },
    {
        "content": "<p>Can you show us a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> example where these tactics are not doing as much as you would hope?</p>",
        "id": 515098428,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745940955
    },
    {
        "content": "<p>sure. in proving that this derivative:  <code>ln(x0 + sqrt(x0^2 + 1))</code> = <code>1/sqrt(x0^2 + 1)</code><br>\nafter applying differentiation rules, and applying <code>field_simp</code> all that remains is to prove:<br>\n<code>⊢ (2 * √(x0 ^ 2 + 1) + 2 * x0) * √(x0 ^ 2 + 1) / ((x0 + √(x0 ^ 2 + 1)) * (2 * √(x0 ^ 2 + 1))) = 1</code></p>\n<p>i know this looks gross, but it is just:<br>\n<code>[(2A + 2x)(A)] / [(x+A)(2A)] = 1</code> where <code>A = √(x0^2 + 1)</code> which is trivial to prove (factor out 2 in numerator and cancel everything)</p>\n<p>ring does not work, but it does work when I add the hypothesis that x0 &gt; 0. x0 is a real number.  I have not really studied abstract algebra -- but from what I briefly researched, are the reals not a semiring? why doesn't ring work here? the denominator can never be zero anyways either.</p>\n<p>also idk how minimal this example is, but it was the simplest I have in my problem set.</p>",
        "id": 515111553,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745944552
    },
    {
        "content": "<p>The problem might be that <code>0 / 0 = 0</code></p>",
        "id": 515113587,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745945183
    },
    {
        "content": "<p>Ok I have found a simpler example without division:<br>\n<code>example (x0: ℝ): (√(1 - x0) * (2 * √x0)) = (2 * √(x0 - x0 ^ 2)) := by sorry</code><br>\nto prove something like this would I have to do the factoring and all by myself? I am entirely fine if the answer is yes (and expect it is) but just want to make sure I am using the best tactics where available :D</p>",
        "id": 515113986,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745945309
    },
    {
        "content": "<p>sorry Aaron to , how could a <code>0/0</code> occur in the first example?</p>",
        "id": 515114160,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745945372
    },
    {
        "content": "<p>A <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> is fully-compiling code in triple-backticks where I can just click the button and the code opens in a website and works first time.</p>",
        "id": 515114769,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745945556
    },
    {
        "content": "<p>Like this</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"n\">x0</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>That's the best way to ask a question here :-)</p>",
        "id": 515114984,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745945605
    },
    {
        "content": "<p>yeah, <code>field_simp</code> and <code>ring</code> won't do that because square roots are not in their remit. Here you have to apply lemmas.</p>",
        "id": 515115343,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745945673
    },
    {
        "content": "<p>sorry, i didn't read the <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> page fully that is my bad. here you go:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>how would I go about proving either of these?</p>",
        "id": 515115632,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745945727
    },
    {
        "content": "<p>oh i missed your last reply. Ok thanks, so lemmas it is!</p>",
        "id": 515116165,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745945831
    },
    {
        "content": "<p>Are you sure these theorems are correct when 1 - x0 &lt; 0 or x0 &lt; 0? the square root of a negative number is undefined mathematically so will be \"random\" in Lean, and you didn't put any bounds on x0</p>",
        "id": 515117142,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745946013
    },
    {
        "content": "<p>The first one is always true, because mathlib chose the default value of <code>0</code> for the square root of a negative.</p>\n<p>The second one is false, becuase for <code>x0 ≤ -1</code> you get <code>0 / 0 = 1</code> (but it is true if you assume <code>-1 &lt; x0 ∧ x0 ≠ (1 - √5) / 2</code>)</p>",
        "id": 515118303,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745946248
    },
    {
        "content": "<p>you're both right, those were examples I quickly concocted to try and keep it simpler. they are indeed not correct without bounds. my original problem remains proving:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>i believe this equality is always true yet ring does not simplify. I suppose some of my problems stem from lack of precision in my formalization work.</p>",
        "id": 515119688,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745946714
    },
    {
        "content": "<p><code>ring</code> only works on statements true in any commutative ring, so it doesn't know about square roots, which are specific to the real numbers.</p>",
        "id": 515119884,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745946773
    },
    {
        "content": "<p>ok. so to prove this is what Kevin was previously addressing, I'd have to rearrange term by term then apply some cancellation lemmas right?</p>",
        "id": 515120065,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745946839
    },
    {
        "content": "<p>You can leave the term-rearranging to <code>ring</code>, and just specify what you want it to rearrange to.</p>",
        "id": 515120251,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745946884
    },
    {
        "content": "<p>example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"n\">x0</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">calc</span>\n<span class=\"w\">  </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"n\">x0</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">  </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">√</span><span class=\"o\">(</span><span class=\"n\">x0</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"n\">x0</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">hx0</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hx0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">        </span><span class=\"n\">mul_nonpos_of_nonpos_of_nonneg</span><span class=\"w\"> </span><span class=\"n\">hx0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sqrt_eq_zero_of_nonpos</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">sqrt_mul</span><span class=\"w\"> </span><span class=\"n\">hx0</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring_nf</span>\n</code></pre></div>",
        "id": 515120293,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745946899
    },
    {
        "content": "<p>woah ok I did not know i can do that...super helpful!</p>",
        "id": 515120438,
        "sender_full_name": "Devan Srinivasan",
        "timestamp": 1745946954
    },
    {
        "content": "<p>does ring handle rpow, maybe? I think I remember having some success with it but maybe that was normal pow, with natural exponent</p>",
        "id": 515162392,
        "sender_full_name": "Maja Kądziołka",
        "timestamp": 1745962766
    },
    {
        "content": "<p>I think only natural powers. A more general power is not a ring operation (i.e would not make sense for a general commutative ring, which is what the tactic deals with).</p>",
        "id": 515163237,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745963176
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/proof.20help\">#mathlib4 &gt; proof help</a> by <span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span>.</p>",
        "id": 515358503,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746033185
    }
]