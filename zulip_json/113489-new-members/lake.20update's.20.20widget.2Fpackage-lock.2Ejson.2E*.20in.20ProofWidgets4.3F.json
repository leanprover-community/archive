[
    {
        "content": "<p>In a <code>ProofWidgets4</code> repo, running <code>lake update</code> creates</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">widget</span><span class=\"bp\">/</span><span class=\"n\">package</span><span class=\"bp\">-</span><span class=\"n\">lock</span><span class=\"bp\">.</span><span class=\"n\">json</span><span class=\"bp\">.</span><span class=\"n\">hash</span>\n<span class=\"n\">widget</span><span class=\"bp\">/</span><span class=\"n\">package</span><span class=\"bp\">-</span><span class=\"n\">lock</span><span class=\"bp\">.</span><span class=\"n\">json</span><span class=\"bp\">.</span><span class=\"n\">trace</span>\n</code></pre></div>\n<p>which are not listed in <code>.gitignore</code>, and so git wants to know whether to commit them.  Should I commit these files?  (What are they, if that's an easy question to answer?)</p>",
        "id": 490580868,
        "sender_full_name": "mars0i",
        "timestamp": 1734986708
    },
    {
        "content": "<p>These look like lake caching outputs, so should be ignored not committed</p>",
        "id": 490590601,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1734991520
    },
    {
        "content": "<p>But <span class=\"user-mention\" data-user-id=\"128280\">@Wojciech Nawrocki</span> may know whether they should have been created in the first place.</p>",
        "id": 490590659,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1734991551
    },
    {
        "content": "<p>These are indeed used by Lake for caching, but in fact they <em>should</em> be committed. This is because if these files are not present, the <a href=\"https://github.com/leanprover-community/ProofWidgets4/blob/3899f1aa131149756ee399fbc424c2e92f8cd573/lakefile.lean#L17\">widgetPackageLock target</a> may rebuild <code>package-lock.json</code> and we don't want that. It's a hack, btw, so a solution which achieves the same behavior (<code>package-lock.json</code> is rebuilt by Lake whenever <code>package.json</code> changes, but is not rebuilt otherwise) without committing these files would be a welcome PR. (But it may be very tricky: in the end, we have to store the hash of the <code>package.json</code> which produced the current <code>package-lock.json</code> <em>somewhere</em>).</p>",
        "id": 490592688,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1734992587
    }
]