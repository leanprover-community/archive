[
    {
        "content": "<p>I'm currently formalising a part of my bachelor thesis in Lean (as part of my bachelor thesis) and I can't manage to get the dependency graph to build. Specifically in github actions the \"Check declarations mentioned in the blueprint exist in Lean code.\" fails</p>\n<p>i.e. Line 92 to 94 from the blueprint.yml workflow fail:</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"p p-Indicator\">-</span><span class=\"w\"> </span><span class=\"nt\">name</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">Check declarations mentioned in the blueprint exist in Lean code</span>\n<span class=\"w\">        </span><span class=\"l l-Scalar l-Scalar-Plain\">run</span><span class=\"p p-Indicator\">:</span><span class=\"w\"> </span><span class=\"p p-Indicator\">|</span>\n<span class=\"w\">            </span><span class=\"no\">~/.elan/bin/lake exe checkdecls blueprint/lean_decls</span>\n</code></pre></div>\n<p>Thus I thought to run</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>lake<span class=\"w\"> </span>build\nleanblueprint<span class=\"w\"> </span>checkdecls\n</code></pre></div>\n<p>which outputs the following:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>BscThesisFormalisation.theorem2_2.EQUIOptimal<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.coreSpace<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.myConcave<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.Sublinear<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.SpeedUpFunction<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.RateMatrix<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.InvariantDistribution<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.MeanResponseTime<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.Policy<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.definitions.SchedulePolicy<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nBscThesisFormalisation.lemma2_1<span class=\"w\"> </span>is<span class=\"w\"> </span>missing.\nCommand<span class=\"w\"> </span><span class=\"s1\">'lake exe checkdecls blueprint/lean_decls'</span><span class=\"w\"> </span>returned<span class=\"w\"> </span>non-zero<span class=\"w\"> </span><span class=\"nb\">exit</span><span class=\"w\"> </span>status<span class=\"w\"> </span><span class=\"m\">1</span>.\n</code></pre></div>\n<p>I have already looked at FLT project and Sphere eversion and see no more mayor differences in setup.</p>\n<p>Code for reproduction:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git<span class=\"w\"> </span>clone<span class=\"w\"> </span>https://github.com/RikHeurter/LeanBscThesisFormalisation.git\n<span class=\"nb\">cd</span><span class=\"w\"> </span>LeanBscThesisFormalisation\nlake<span class=\"w\"> </span>build\nleanblueprint<span class=\"w\"> </span>checkdecls\n</code></pre></div>\n<p>(Warning takes ages!)</p>\n<p>Does anybody know what I am doing wrong? My code is located at <a href=\"https://github.com/RikHeurter/LeanBscThesisFormalisation\">my github</a> and is based on the <a href=\"https://github.com/pitmonticone/LeanProject\">Leanproject template</a></p>\n<p>Furthermore lake/lean version is:<br>\nLake version 5.0.0-045d07d (Lean version 4.19.0-rc3)<br>\nAnd leanblueprint version is:<br>\nleanblueprint, version 0.0.17</p>\n<p>P.s.<br>\nThis is my first time asking for help with code/computer science problems thus any feedback on what I should change to get a better answer is desired.</p>",
        "id": 513816230,
        "sender_full_name": "Rik Heurter",
        "timestamp": 1745399272
    },
    {
        "content": "<p>Welcome! <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> If you want to try things locally, you need to run the previous workflow steps too, in particular the one generating the documentation since this is what <code>checkdecls</code> uses to determine whether something exists</p>",
        "id": 513816936,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745399466
    },
    {
        "content": "<p><code>BscThesisFormalisation.definitions.coreSpace is missing.</code> tells you that there is no such declaration in your code, and that's true. There is a <code>coreSpace</code> in the file BscThesisFormalisation.definitions.lean but it is not in the namespace <code>BscThesisFormalisation.definitions</code>.<br>\nThe issue seems to be that you are confusing file paths and namespaces, which are different things.</p>",
        "id": 513816963,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1745399476
    },
    {
        "content": "<p>So instead of <code>\\lean{BscThesisFormalisation.definitions.coreSpace}</code>, write <code>\\lean{coreSpace}</code> in your blueprint file.</p>",
        "id": 513817318,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1745399564
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/channel/113489-new-members/topic/Can't.20manage.20to.20build.20dependency.20graph.20in.20Leanblueprint/near/513816963\">said</a>:</p>\n<blockquote>\n<p><code>BscThesisFormalisation.definitions.coreSpace is missing.</code> tells you that there is no such declaration in your code, and that's true. There is a <code>coreSpace</code> in the file BscThesisFormalisation.definitions.lean but it is not in the namespace <code>BscThesisFormalisation.definitions</code>.<br>\nThe issue seems to be that you are confusing file paths and namespaces, which are different things.</p>\n</blockquote>\n<p>Thanks! I got it to work now! Been spending 3-4 hours on figuring out what was going wrong.</p>",
        "id": 513817874,
        "sender_full_name": "Rik Heurter",
        "timestamp": 1745399722
    }
]