[
    {
        "content": "<p>Is there a mathlib lemma that says if I can construct a <code>finset α</code> with cardinality <code>n</code> then <code>fintype.card α ≥ n</code>?</p>",
        "id": 195659127,
        "sender_full_name": "Donald Sebastian Leung",
        "timestamp": 1588134547
    },
    {
        "content": "<p>I doubt it, but I am sure there are lemmas that say things like every finset is a subset of <code>finset.univ</code> and <code>finset.card</code> preserves order and <code>finset.univ.card</code> equals <code>fintype.card</code>.</p>",
        "id": 195659193,
        "sender_full_name": "Reid Barton",
        "timestamp": 1588134645
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">example</span>\n<span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">finset</span> <span class=\"n\">α</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"bp\">ℕ</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">fintype</span> <span class=\"n\">α</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">hX</span> <span class=\"o\">:</span> <span class=\"n\">finset</span><span class=\"bp\">.</span><span class=\"n\">card</span> <span class=\"n\">X</span> <span class=\"bp\">=</span> <span class=\"n\">n</span><span class=\"o\">)</span>\n<span class=\"o\">:</span>  <span class=\"n\">fintype</span><span class=\"bp\">.</span><span class=\"n\">card</span> <span class=\"n\">α</span> <span class=\"bp\">≥</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"k\">begin</span>\n<span class=\"n\">rw</span> <span class=\"err\">←</span> <span class=\"n\">hX</span><span class=\"o\">,</span>\n<span class=\"n\">apply</span> <span class=\"n\">finset</span><span class=\"bp\">.</span><span class=\"n\">card_le_of_subset</span><span class=\"o\">,</span>\n<span class=\"n\">refine</span> <span class=\"n\">finset</span><span class=\"bp\">.</span><span class=\"n\">subset_univ</span> <span class=\"n\">X</span><span class=\"o\">,</span>\n<span class=\"kn\">end</span>\n</code></pre></div>",
        "id": 195714045,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1588169114
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"kn\">example</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"n\">finset</span> <span class=\"n\">α</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"bp\">ℕ</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">fintype</span> <span class=\"n\">α</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">hX</span> <span class=\"o\">:</span> <span class=\"n\">finset</span><span class=\"bp\">.</span><span class=\"n\">card</span> <span class=\"n\">X</span> <span class=\"bp\">=</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">:</span>  <span class=\"n\">fintype</span><span class=\"bp\">.</span><span class=\"n\">card</span> <span class=\"n\">α</span> <span class=\"bp\">≥</span> <span class=\"n\">n</span> <span class=\"o\">:=</span>\n<span class=\"n\">hX</span> <span class=\"bp\">▸</span> <span class=\"n\">finset</span><span class=\"bp\">.</span><span class=\"n\">card_le_of_subset</span> <span class=\"err\">$</span> <span class=\"n\">finset</span><span class=\"bp\">.</span><span class=\"n\">subset_univ</span> <span class=\"n\">X</span>\n</code></pre></div>",
        "id": 195714292,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1588169206
    },
    {
        "content": "<p>just to check my understanding, your proof is more-or-less a mechanical translation of my tactic script into a single term? (do you think it runs noticeably faster?)</p>",
        "id": 195714603,
        "sender_full_name": "Jalex Stark",
        "timestamp": 1588169303
    },
    {
        "content": "<p>yes; no</p>",
        "id": 195714674,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1588169335
    },
    {
        "content": "<p>I think that there is some overhead for entering tactic mode and some more overhead by using the rewrite command; I've noticed slowdown in scripts which use a lot of rewrites. I would be interested to know how much faster term mode is; in some sense the best argument for writing stuff in term mode is that it's faster (because it's also less readable, harder to debug, harder to write...)</p>",
        "id": 195719730,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1588171345
    }
]