[
    {
        "content": "<p>Hello,</p>\n<p>I recently saw <a href=\"https://drops.dagstuhl.de/storage/00lipics/lipics-vol352-itp2025/LIPIcs.ITP.2025.36/LIPIcs.ITP.2025.36.pdf\">this paper</a>. I find it cool that the code presented in the paper is clickable and links to the corresponding line of source code in the GitHub repository. Does anyone know if a feature of Lean or a Lean library is used to create these listings?</p>\n<p>Thanks.</p>\n<p>With kind regards,</p>\n<p>David</p>",
        "id": 570656145,
        "sender_full_name": "David Wang",
        "timestamp": 1769632938
    },
    {
        "content": "<p>Seems to be by <span class=\"user-mention\" data-user-id=\"619540\">@Johannes Tantow</span></p>",
        "id": 570660314,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1769634557
    },
    {
        "content": "<p>I did something similar with <a href=\"https://www.repository.cam.ac.uk/bitstreams/555e1a14-96d2-4f00-8417-e92f8a5c8313/download\">My graded rings paper</a></p>",
        "id": 570660451,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1769634616
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/113489-new-members/topic/Presenting.20Lean.20theories.20with.20links.20to.20source.20code/near/570660451\">said</a>:</p>\n<blockquote>\n<p>I did something similar with <a href=\"https://www.repository.cam.ac.uk/bitstreams/555e1a14-96d2-4f00-8417-e92f8a5c8313/download\">My graded rings paper</a></p>\n</blockquote>\n<p>Did you do it manually?</p>",
        "id": 570660621,
        "sender_full_name": "David Wang",
        "timestamp": 1769634688
    },
    {
        "content": "<p>Essentially I just wrote a lean program that emitted a database that LaTeX could load, of the form</p>\n<div class=\"codehilite\" data-code-language=\"TeX\"><pre><span></span><code><span class=\"k\">\\newcommand\\@leandef</span><span class=\"na\">[4]</span><span class=\"nb\">{</span><span class=\"c\">%</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-proj@#1<span class=\"nb\">}{</span>#2<span class=\"nb\">}</span><span class=\"c\">%</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-file@#1<span class=\"nb\">}{</span>#3<span class=\"nb\">}</span><span class=\"c\">%</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-line@#1<span class=\"nb\">}{</span>#4<span class=\"nb\">}</span><span class=\"c\">%</span>\n<span class=\"nb\">}</span>\n\n<span class=\"k\">\\@leandef</span><span class=\"nb\">{</span>linear<span class=\"nb\">_</span>independent<span class=\"nb\">_</span>of<span class=\"nb\">_</span>span<span class=\"nb\">_</span>eq<span class=\"nb\">_</span>top<span class=\"nb\">_</span>of<span class=\"nb\">_</span>card<span class=\"nb\">_</span>eq<span class=\"nb\">_</span>finrank<span class=\"nb\">}{</span>mathlib<span class=\"nb\">}{</span>src/linear<span class=\"nb\">_</span>algebra/finite<span class=\"nb\">_</span>dimensional.lean<span class=\"nb\">}{</span>1377<span class=\"nb\">}</span>\n<span class=\"k\">\\@leandef</span><span class=\"nb\">{</span>add<span class=\"nb\">_</span>units.eq<span class=\"nb\">_</span>neg<span class=\"nb\">_</span>of<span class=\"nb\">_</span>add<span class=\"nb\">_</span>eq<span class=\"nb\">_</span>zero<span class=\"nb\">_</span>left<span class=\"nb\">}{</span>mathlib<span class=\"nb\">}{</span>src/algebra/group/units.lean<span class=\"nb\">}{</span>197<span class=\"nb\">}</span>\n... 200k lines follow\n\n\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-url@lean-graded-rings<span class=\"nb\">}{</span>https://github.com/eric-wieser/lean-graded-rings<span class=\"nb\">}</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-sha@lean-graded-rings<span class=\"nb\">}{</span>cf463b1b9317e16499a51b20037ad8319311bd21<span class=\"nb\">}</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-url@mathlib<span class=\"nb\">}{</span>https://github.com/leanprover-community/mathlib<span class=\"nb\">}</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>lean-ref-sha@mathlib<span class=\"nb\">}{</span>dba3dcef3e1932234476296250cf52f61c0a6d87<span class=\"nb\">}</span>\n</code></pre></div>",
        "id": 570660733,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1769634732
    },
    {
        "content": "<p>Which I then loaded in my <code>main.tex</code> file with something like</p>\n<div class=\"codehilite\" data-code-language=\"TeX\"><pre><span></span><code><span class=\"k\">\\input</span><span class=\"nb\">{</span>lean-decl-info<span class=\"nb\">}</span> <span class=\"c\">% the file above</span>\n\n<span class=\"k\">\\makeatletter</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>externalmarker@@lean-graded-rings<span class=\"nb\">}{</span><span class=\"k\">\\color</span><span class=\"nb\">{</span>gray<span class=\"nb\">}</span><span class=\"k\">\\faExternalLinkSquare</span><span class=\"nb\">}</span>\n<span class=\"k\">\\@namedef</span><span class=\"nb\">{</span>externalmarker@<span class=\"nb\">}{</span><span class=\"k\">\\color</span><span class=\"nb\">{</span>lightgray<span class=\"nb\">}</span><span class=\"k\">\\faShareSquare</span><span class=\"nb\">}</span>\n<span class=\"k\">\\newcommand\\externalmarker</span><span class=\"na\">[1]</span><span class=\"nb\">{</span><span class=\"c\">%</span>\n    <span class=\"k\">\\textsuperscript</span><span class=\"nb\">{</span><span class=\"k\">\\ifcsname</span> externalmarker@@#1<span class=\"k\">\\endcsname</span><span class=\"c\">%</span>\n        <span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>externalmarker@@#1<span class=\"nb\">}</span><span class=\"c\">%</span>\n    <span class=\"k\">\\else</span><span class=\"c\">%</span>\n        <span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>externalmarker@<span class=\"nb\">}</span><span class=\"c\">%</span>\n    <span class=\"k\">\\fi</span><span class=\"nb\">}</span><span class=\"c\">%</span>\n<span class=\"nb\">}</span>\n<span class=\"k\">\\newcommand\\leanlink</span><span class=\"na\">[1]</span><span class=\"nb\">{</span><span class=\"c\">%</span>\n    <span class=\"k\">\\ifcsname</span> lean-ref-file@#1<span class=\"k\">\\endcsname</span><span class=\"c\">%</span>\n        <span class=\"k\">\\href</span>\n            <span class=\"nb\">{</span><span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-url@<span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-proj@#1<span class=\"nb\">}}</span>/blob/<span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-sha@<span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-proj@#1<span class=\"nb\">}}</span>/<span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-file@#1<span class=\"nb\">}</span><span class=\"k\">\\#</span>L<span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-line@#1<span class=\"nb\">}</span>?decl=#1<span class=\"nb\">}</span>\n        <span class=\"nb\">{</span><span class=\"k\">\\externalmarker</span><span class=\"nb\">{</span><span class=\"k\">\\@nameuse</span><span class=\"nb\">{</span>lean-ref-proj@#1<span class=\"nb\">}}}</span><span class=\"c\">%</span>\n    <span class=\"k\">\\else</span><span class=\"c\">%</span>\n        <span class=\"k\">\\PackageError</span><span class=\"nb\">{</span>lean-decl-info<span class=\"nb\">}{</span>Lean symbol `#1` not found<span class=\"nb\">}{</span>Perhaps you need to update the symbol file?<span class=\"nb\">}</span><span class=\"c\">%</span>\n    <span class=\"k\">\\fi</span><span class=\"c\">%</span>\n<span class=\"nb\">}</span>\n<span class=\"k\">\\makeatother</span>\n</code></pre></div>",
        "id": 570660847,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1769634792
    },
    {
        "content": "<p>Thanks.</p>",
        "id": 570661628,
        "sender_full_name": "David Wang",
        "timestamp": 1769635099
    },
    {
        "content": "<p>Yes, that is a paper by me and others (<span class=\"user-mention\" data-user-id=\"645809\">@Lukas Gerlach</span> is also on this zulip).  We didn't use Lean to get that, but instead I wrote some quick python script to do it for me. This was sufficient for our use case, but isn't a full parser for Lean so it will probably not work for any file. This emits a tex file that has all the commands, which we import. Using these commands is then all manual placement.<br>\nThe source code for our paper isn't public, but you can see it similar in my diploma thesis here(<a href=\"https://github.com/jt0202/diplomarbeit\">https://github.com/jt0202/diplomarbeit</a>). Apart from these technical questions or historic interests in the development  of our tool, it is not advised to read the thesis but instead read our paper, which is more mature.</p>",
        "id": 570728356,
        "sender_full_name": "Johannes Tantow",
        "timestamp": 1769674493
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"619540\">Johannes Tantow</span> <a href=\"#narrow/channel/113489-new-members/topic/Presenting.20Lean.20theories.20with.20links.20to.20source.20code/near/570728356\">said</a>:</p>\n<blockquote>\n<p>Yes, that is a paper by me and others (<span class=\"user-mention silent\" data-user-id=\"645809\">Lukas Gerlach</span> is also on this zulip).  We didn't use Lean to get that, but instead I wrote some quick python script to do it for me. This was sufficient for our use case, but isn't a full parser for Lean so it will probably not work for any file. This emits a tex file that has all the commands, which we import. Using these commands is then all manual placement.<br>\nThe source code for our paper isn't public, but you can see it similar in my diploma thesis here(<a href=\"https://github.com/jt0202/diplomarbeit\">https://github.com/jt0202/diplomarbeit</a>). Apart from these technical questions or historic interests in the development  of our tool, it is not advised to read the thesis but instead read our paper, which is more mature.</p>\n</blockquote>\n<p>Thank you for the response. It is good to know how it was done.</p>",
        "id": 570797052,
        "sender_full_name": "David Wang",
        "timestamp": 1769694157
    }
]