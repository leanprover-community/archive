[
    {
        "content": "<p>I have a goal state which includes:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>h3 : n ≠ d\n\n⊢ d ≠ n\n</code></pre></div>\n<p>I can't apply/rw/rel <code>h3</code> and I can't seem to find how to get <code>d ≠ n</code> from <code>n ≠ d</code>.</p>\n<p>Surely I'm missing something obvious - so apologies for not seeing it.</p>",
        "id": 499494406,
        "sender_full_name": "rzeta0",
        "timestamp": 1739458610
    },
    {
        "content": "<p>You want <code>h3.symm</code>, but please provide a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> even for small examples :)</p>",
        "id": 499495096,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1739458775
    },
    {
        "content": "<p>To complete the example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n</code></pre></div>\n<p>You can also use the <code>symm</code> tactic:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">symm</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h3</span>\n</code></pre></div>\n<p>If you want to try it without using <code>symm</code>, you can start by \"unpacking\" the negation with <code>intro</code>. This gives you a <code>False</code> goal and a <code>d = n</code> assumption. Then you can <code>apply</code> your original hypothesis (where <code>n ≠ d</code> is really <code>n = d → False</code>), thus flipping the goal to <code>n = d</code>. Finally you can <code>rw</code> the goal with your <code>d = n</code> assumption, giving you <code>n = n</code> and closing the goal.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">deqn</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h3</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">deqn</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 499505741,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1739461041
    },
    {
        "content": "<p>This is also something that <code>exact?</code> should find.</p>",
        "id": 499505822,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1739461059
    },
    {
        "content": "<p>A yet another way to do it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">h3</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Remember that equality is an inductive family, so you can just use its recursor.</p>\n<p>PS: in older versions of Lean you might need to add <code>(motive := λx _ =&gt; x = d)</code> after <code>Eq.rec</code>.</p>",
        "id": 499509403,
        "sender_full_name": "suhr",
        "timestamp": 1739461817
    },
    {
        "content": "<p>Thanks everyone - I used <code>symm</code>. I'm surprised I've never needed it before.</p>\n<p>Interestingly <code>exact</code> didn't work.</p>",
        "id": 499602335,
        "sender_full_name": "rzeta0",
        "timestamp": 1739487701
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 499602341,
        "sender_full_name": "Notification Bot",
        "timestamp": 1739487704
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"347475\">Bjørn Kjos-Hanssen ☀️</span> has marked this topic as resolved.</p>",
        "id": 499616459,
        "sender_full_name": "Notification Bot",
        "timestamp": 1739495685
    }
]