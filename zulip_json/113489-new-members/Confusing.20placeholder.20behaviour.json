[
    {
        "content": "<p>Apologies, for I do not know where it is appropriate to put this. The code I wish to discuss (part of <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Combinatorics/SimpleGraph/Basic.html\">Combinatorics/SimpleGraph/Basic</a>) is very brief and is reproduced below:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">SimpleGraph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- The adjacency relation of a simple graph. -/</span>\n<span class=\"w\">  </span><span class=\"n\">Adj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Symmetric</span><span class=\"w\"> </span><span class=\"n\">Adj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop_graph</span>\n<span class=\"w\">  </span><span class=\"n\">loopless</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Irreflexive</span><span class=\"w\"> </span><span class=\"n\">Adj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop_graph</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">emptyGraph</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SimpleGraph</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">Adj</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">False</span>\n</code></pre></div>\n<p>The definition of <code>emptyGraph</code> uses placeholders to say that the adjacency relation is always <code>False</code>. However, the way this is presented in the documentation, which is the presentation I first saw, is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">emptyGraph</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">Adj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">â‹¯</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">loopless</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">â‹¯</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>\n<p>This was confusing to me because a <code>SimpleGraph</code> is <code>loopless</code> by definition, so of course <code>fun (x x : V) =&gt; False</code>, where I thought the <code>x</code>s are identical, should always be the case. This is also how it also appears in the tactic state whenever I do <code>rw [emptyGraph]</code> in the middle of a proof, yet the <code>x</code>s do behave as different variables.</p>\n<p>I am very inexperienced and am wondering whether my confusion could have been avoided.</p>",
        "id": 500267457,
        "sender_full_name": "Laurance Lau",
        "timestamp": 1739823216
    },
    {
        "content": "<p>It's unfortunate that the docs generated the code <code>fun (x x : V) =&gt; False</code>... I can see how that could be confusing for a newcomer. The truth is that the two <code>x</code>s are not identical, they're just identically <em>named</em>.</p>",
        "id": 500273322,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1739825979
    },
    {
        "content": "<p>Normally a function with duplicated argument names is bad because it means that previously listed arguments are inaccessible... if you try to reference them, you'll end up referencing the most recently declared one. However, this doesn't matter when the function is always returning <code>False</code>, since there's no need to reference any of the arguments.</p>",
        "id": 500274134,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1739826327
    },
    {
        "content": "<p>This <code>fun (x x : V) =&gt; False</code> issue is on my radar (<a href=\"#narrow/channel/270676-lean4/topic/Prettyprinter.20prints.20fun.20x.20x.20.3D.3E.20.2E.2E.2E/near/491438971\">#lean4 &gt; Prettyprinter prints fun x x =&gt; ... @ ðŸ’¬</a> ). I think it ought to be fixed, though I don't have a specific plan to fix it yet.</p>",
        "id": 500275381,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739826979
    },
    {
        "content": "<p>In this case, we probably should print each <code>x</code> as <code>_</code> since the variable isn't being used, and the actual name isn't <code>x</code> internally (it's supposed to be some inaccessible name).</p>",
        "id": 500275477,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739827044
    }
]