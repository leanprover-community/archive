[
    {
        "content": "<p>I'm trying to convince lean that a group has nonzero cardinality. This should be easy since it has an identity element, but 'should' isn't a proof. There are a couple results which should be able to do this since we have <code>Nonempty G</code> but all of the arguments to these theorems are implicit .</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">card_ne_zero</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>or </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">card_pos_iff</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">α</span>\n</code></pre></div>\n<p>Just struggling with syntax here. We have the hypothesis to show my cardinality is nonzero but how do I pass G to one of these theorems?</p>",
        "id": 535716135,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1755879499
    },
    {
        "content": "<p>You don't need to, just <code>rw [Fintype.card_pos_iff]</code> for example</p>",
        "id": 535716418,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1755879596
    },
    {
        "content": "<p>In this case I need to construct a hypothesis that <code>Nat.card G \\ne 0</code> because the I'm trying to finish my result with </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hnon</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">norm_eq_one_of_pow_eq_one</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>So I need to convince <code>Complex.norm_eq_one_of_pow_eq_one</code> that <code>n \\ne 0</code>. Is the answer that I need to find a version of the theorem which takes explicit arguments instead to prove hnon?</p>",
        "id": 535717824,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1755880098
    },
    {
        "content": "<p>Have you tried using the <code>positivity</code> tactic? Note that <code>Nat.card ℤ = 0</code>, so you will need some extra conditions on <code>G</code> (that it is finite, specifically)</p>",
        "id": 535718105,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1755880212
    },
    {
        "content": "<p>I've never herd of that tactic. G is finite, but that's really helpful to know about the integers. I guess it makes sense.</p>\n<p>positivity offers to prove non-negative but can't do positive here</p>",
        "id": 535720135,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1755880906
    },
    {
        "content": "<p>Indeed! It seems that nobody ever got around to making <code>positivity</code> support <code>Nat.card</code>. Would you be interested in learning how to add the support?</p>",
        "id": 535720424,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1755881033
    },
    {
        "content": "<p>Last night I proved my first lemma which wasn't from a tutorial. It was a marathon effort that I thought would be just two lines. So still climbing the learning curve.</p>\n<p>It's frustrating that Fintype has the results I need here but I can't use them</p>",
        "id": 535720787,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1755881180
    },
    {
        "content": "<p>Learning Lean is a game of falling into many potholes <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 535721098,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1755881328
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">exact?</span>\n</code></pre></div>\n<p>works fine.</p>",
        "id": 535721961,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1755881625
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130170\">Ryan Smith</span> <a href=\"#narrow/channel/113489-new-members/topic/Using.20theorems.20that.20only.20take.20implicit.20arguments/near/535716135\">said</a>:</p>\n<blockquote>\n<p>I'm trying to convince lean that a group has nonzero cardinality</p>\n</blockquote>\n<p>a good first step would be to first isolate it out as a separate lemma (this is the philosophy of <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>, which is not just useful for asking questions), which Kevin has done for you, at which point <code>by exact?</code> works</p>",
        "id": 535724985,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755882901
    },
    {
        "content": "<p>I didn't have Finite G in that file since I assumed infinite groups had nonzero cardinality before Yael told me otherwise.</p>",
        "id": 535742830,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1755890518
    },
    {
        "content": "<p>it's an easy mistake to make</p>\n<p>my advice is to make sure you read the docstrings carefully for the functions you're using... <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.card#doc\">docs#Nat.card</a> explicitly notes that it returns 0 for infinite types</p>",
        "id": 535747676,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1755892681
    }
]