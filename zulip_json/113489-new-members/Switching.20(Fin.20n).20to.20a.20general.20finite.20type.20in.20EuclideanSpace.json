[
    {
        "content": "<p>I worked with a curve <code>{n : Nat} (c : ℝ →  EuclideanSpace ℝ (Fin n)})</code>, but now I want to switch to the more general <code>{ι : Type u} [Finite ι] (c : ℝ →  EuclideanSpace ℝ ι)</code>, but I get some instance problems. For example I got somewhere the error <code>failed to synthesize the instance of type class NormedAddCommGroup (EuclideanSpace ℝ ι)</code>. How should I deal with this?</p>",
        "id": 575106264,
        "sender_full_name": "Michael Novak",
        "timestamp": 1771699516
    },
    {
        "content": "<p>Does assuming <code>[Fintype ι]</code> rather than  <code>[Finite ι]</code> help? </p>\n<p>(That's just a guess though. If that doesn't solve your problem, I suggest you might want to post a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> [Minimal Working Example] of the issues you're encountering, so other community members can see better what the problem is.)</p>",
        "id": 575106742,
        "sender_full_name": "David Loeffler",
        "timestamp": 1771699925
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"481963\">David Loeffler</span> <a href=\"#narrow/channel/113489-new-members/topic/Switching.20.28Fin.20n.29.20to.20a.20general.20finite.20type.20in.20EuclideanSpace/near/575106742\">said</a>:</p>\n<blockquote>\n<p>Does assuming <code>[Fintype ι]</code> rather than  <code>[Finite ι]</code> help? </p>\n<p>(That's just a guess though. If that doesn't solve your problem, I suggest you might want to post a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> [Minimal Working Example] of the issues you're encountering, so other community members can see better what the problem is.)</p>\n</blockquote>\n<p>It solved the problems, thank you very much! Btw, what's the difference between <code>Finite</code> and <code>Fintype</code>?</p>",
        "id": 575107007,
        "sender_full_name": "Michael Novak",
        "timestamp": 1771700165
    },
    {
        "content": "<p>One is a Prop, one is a Type.</p>",
        "id": 575107041,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1771700203
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/Switching.20.28Fin.20n.29.20to.20a.20general.20finite.20type.20in.20EuclideanSpace/near/575107041\">said</a>:</p>\n<blockquote>\n<p>One is a Prop, one is a Type.</p>\n</blockquote>\n<p>Thanks!</p>",
        "id": 575107090,
        "sender_full_name": "Michael Novak",
        "timestamp": 1771700247
    },
    {
        "content": "<p>Sight. On one hand, people are recommending using <code>Finite</code>, and then someone must use <code>Fintype</code> due to typeclass issues...</p>\n<p>The difference is: <code>Fintype</code> can be used for evaluations / computations. I don't think such usecase makes much sense for <code>PiLp.normedAddCommGroup</code> where the type in question is anyway <code>ENNReal</code> which cannot be really evaluated. However, the trouble is that the definition of a norm uses a sum, which likes <code>Fintype</code> more.<br>\nIf we want to compute a sum over a finite type, we need not only a theoretical guarantee that the type is finite (<code>Finite</code>) but also an actual enumeration of its elements.</p>\n<p>By the way, the representation uses a <code>Finset</code>, so the order cannot be extracted from it, but <code>sum</code> works because its result provably do not depend on the order.</p>",
        "id": 575281596,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1771847697
    },
    {
        "content": "<p>Also, any <code>Finite</code> can be (noncomputably) converted into <code>Fintype</code> using <code>Fintype.ofFinite</code>. But because <code>Fintype</code> is not a <code>Prop</code>, kernel doesn't see it is always unique (although it is). This means using <code>Fintype.ofFinite</code> too much could lead to confusing typeclass conflicts too.</p>",
        "id": 575282091,
        "sender_full_name": "Mirek Olšák",
        "timestamp": 1771847891
    }
]