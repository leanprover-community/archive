[
    {
        "content": "<p>to my surprise, the following code compiles, despite <code>Foo</code> not being defined anywhere:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>what is this useful for? it strikes me as very counterintuitive behavior, so i suspect there's probably a reason for it.</p>",
        "id": 466113574,
        "sender_full_name": "JJ",
        "timestamp": 1724966020
    },
    {
        "content": "<p>Similarly you can do</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">pi</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>and Lean will infer that <code>x</code> must be a real number it hasn't seen before, and you're trying to prove it's equal to pi. </p>\n<p>I think the philosophy is that if you can prove something about <code>Foo</code> without saying what it is, then you've proved it for all <code>Foo</code>, in this case for all <code>Foo : Sort u_1</code> (which you can see by hovering over <code>Foo</code> in your code).</p>",
        "id": 466125758,
        "sender_full_name": "Bj√∏rn Kjos-Hanssen",
        "timestamp": 1724972614
    },
    {
        "content": "<p>If we're talking about autoimplicits, you can disable them with <code>set_option autoImplicit false</code>. Mathlib does this globally in the lakefile.</p>",
        "id": 466128240,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1724974040
    },
    {
        "content": "<p>hmm, i think this might be separate from autoimplicits? <a href=\"https://lean-lang.org/lean4/doc/autobound.html\">the manual</a> says the following:</p>\n<blockquote>\n<p>When Lean processes the header of a declaration, any unbound identifier is automatically added as an implicit argument <em>if</em> it is a single lower case or greek letter.</p>\n</blockquote>\n<p>this isn't the case for the example above. maybe lean's behavior has changed and the manual wasn't updated?</p>",
        "id": 466132502,
        "sender_full_name": "JJ",
        "timestamp": 1724976766
    },
    {
        "content": "<p>I think that the single identifiers autoimplicits became <code>relaxedAutoImplicit</code>s.  <code>autoImplicits</code> are all of them, no restrictions.</p>",
        "id": 466142266,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724983271
    }
]