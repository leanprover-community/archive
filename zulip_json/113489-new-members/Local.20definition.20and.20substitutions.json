[
    {
        "content": "<p>Hi everyone,</p>\n<p>If find myself using a lot the following pattern: within a proof, define a new variable (below <code>ϕ</code>) to summarize a long term, then state that both objects are equal (below <code>ϕ_def)</code>--  to be able to subsitute one for the other with <code>rw[ϕ_def]</code> and <code>rw [&lt;-  ϕ_def]</code>. Typical exemple:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">ϕ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">γ</span><span class=\"bp\">.</span><span class=\"n\">extend</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">ϕ_def</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ϕ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">γ</span><span class=\"bp\">.</span><span class=\"n\">extend</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>Is there a way to automate the definition of <code>ϕ_def</code>? Or a way to avoid the need for <code>ϕ_def</code>in the first place? </p>\n<p>Cheers,</p>\n<p>Sébastien</p>",
        "id": 491970804,
        "sender_full_name": "Sébastien Boisgérault",
        "timestamp": 1736086957
    },
    {
        "content": "<p>Hey Sébastien! You can replace <code>let ϕ := f ∘ γ.extend</code> by <code>set ϕ := f ∘ γ.extend with φ_def</code>.</p>",
        "id": 491971090,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1736087168
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/113489-new-members/topic/Local.20definition.20and.20substitutions/near/491971090\">said</a>:</p>\n<blockquote>\n<p>Hey Sébastien! You can replace <code>let ϕ := f ∘ γ.extend</code> by <code>set ϕ := f ∘ γ.extend with φ_def</code>.</p>\n</blockquote>\n<p>Thanks a lot for your answer Yaël, this is exactly what i need! </p>\n<p>Could you point me to a place in the documentation where the <code>set ... with ...</code> construct is defined please?</p>",
        "id": 491971572,
        "sender_full_name": "Sébastien Boisgérault",
        "timestamp": 1736087582
    },
    {
        "content": "<p>If you Ctrl + click on a <code>set ... with ...</code>, it will bring you to the definition</p>",
        "id": 491971670,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1736087676
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span>  Thanks!</p>\n<p>And I see that the construct performs the replacement automatically, nice!</p>",
        "id": 491971835,
        "sender_full_name": "Sébastien Boisgérault",
        "timestamp": 1736087849
    }
]