[
    {
        "content": "<p>I'm trying to experiment with  theorem <code>pow_not_prime</code>.</p>\n<p>It is documented here: <br>\n<a href=\"https://utensil.github.io/LeanBlueprintExample/doc//Mathlib/Data/Nat/Prime.html#Nat.Prime.pow_not_prime\">https://utensil.github.io/LeanBlueprintExample/doc//Mathlib/Data/Nat/Prime.html#Nat.Prime.pow_not_prime</a></p>\n<p>However the error messages seem to suggest it is not available, and trying to import it doesn't seem to be working.</p>\n<p>I'm new to \"importing\" - previously everything I needed was pulled in my <code>import Mathlib.Tactic</code>.</p>\n<hr>\n<p><strong>First experiment:</strong></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span><span class=\"bp\">.</span><span class=\"n\">pow_not_prime</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; -- error</span>\n</code></pre></div>\n<p>The error is </p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>unknown constant 'Nat.Prime.pow_not_prime'\n</code></pre></div>\n<hr>\n<p><strong>Second experiment:</strong></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; -- error unexpectedly  here</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span><span class=\"bp\">.</span><span class=\"n\">pow_not_prime</span>\n</code></pre></div>\n<p>The error is </p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>`/Users/abcdef/.elan/toolchains/leanprover--lean4---v4.12.0/bin/lake setup-file /Users/abcdef/Desktop/Lean-First-Steps/00_scratch.lean Init Mathlib.Tactic Mathlib.Data.Nat.Prime LeanFirstSteps --no-build` failed:\n\nstderr:\n✖ [2309/2312] Running Mathlib.Data.Nat.Prime\nerror: no such file or directory (error code: 2)\n  file: ././.lake/packages/mathlib/././Mathlib/Data/Nat/Prime.lean\n✖ [2312/2312] Running imports (/Users/abcdef/Desktop/Lean-First-Steps/00_scratch.lean)\nerror: /Users/abcdef/Desktop/Lean-First-Steps/00_scratch.lean: bad import 'Mathlib.Data.Nat.Prime'\nSome required builds logged failures:\n- Mathlib.Data.Nat.Prime\n- imports (/Users/abcdef/Desktop/Lean-First-Steps/00_scratch.lean)\nerror: build failed\n</code></pre></div>",
        "id": 475691642,
        "sender_full_name": "rzeta0",
        "timestamp": 1728429322
    },
    {
        "content": "<p>There's no complaint about <code>Prime (n)</code> so at least some definitions of Prime are imported via <code>import Mathlib.Tactic</code></p>",
        "id": 475691803,
        "sender_full_name": "rzeta0",
        "timestamp": 1728429422
    },
    {
        "content": "<p>That lemma seems to have become <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=not_prime_pow#doc\">docs#not_prime_pow</a>.</p>",
        "id": 475692236,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728429714
    },
    {
        "content": "<p>-- </p>\n<p>actually following the \"imported by\" links twice suggests <code>Mathlib.Data.Nat.Prime</code> is imported by <code>Mathlib.Tactic</code></p>",
        "id": 475692317,
        "sender_full_name": "rzeta0",
        "timestamp": 1728429756
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>A proof</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Tactic</span>\n\n<span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">not_prime_pow</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">omega</span><span class=\"o\">)</span>\n</code></pre></div>\n</div></div>",
        "id": 475692366,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728429796
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/113489-new-members/topic/can't.20seem.20to.20import.20Mathlib.2EData.2ENat.2EPrime/near/475692236\">said</a>:</p>\n<blockquote>\n<p>That lemma seems to have become <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=not_prime_pow#doc\">docs#not_prime_pow</a>.</p>\n</blockquote>\n<p>So I'm new to using and navigating the docs.</p>\n<p>Is the page I linked to not the official docs? If it is, how can I tell the lemma name has changed?</p>\n<p>I will try your suggestion.</p>",
        "id": 475692394,
        "sender_full_name": "rzeta0",
        "timestamp": 1728429820
    },
    {
        "content": "<p>The url that you linked says explicitly <code>LeanBlueprintExample</code> and is hosted on <code>utensil.github.io</code>: that made me suspicious that it was not the one from <code>leanprover-community</code>.</p>",
        "id": 475692863,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728430108
    },
    {
        "content": "<p>I then searched for a lemma with a similar name to the one that you mentioned and I found <code>not_prime_pow</code>.</p>",
        "id": 475692914,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1728430156
    },
    {
        "content": "<p>Thanks, i guess i shouldn't blindly follow search engine top results.</p>",
        "id": 475693433,
        "sender_full_name": "rzeta0",
        "timestamp": 1728430482
    },
    {
        "content": "<p>So this is the first time i have picked a random lemma from the docs and tried to use it.</p>\n<p>That is - I am new to reading a lemmas signature and working out how to use it with the correct parameters etc.</p>\n<p>My reading of the docs reveals the signature: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">CancelCommMonoidWithZero</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>From this I understand from the round brackets that <code>(hn: n≠1)</code> must be provided to the lemma as a parameter.</p>\n<p>Here is my failed attempt:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"c1\">-- h1 : a = 3 ^ 2</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">      </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">  </span><span class=\"c1\">-- h2 : 2 ≠ 1</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_gt</span>\n<span class=\"w\">    </span><span class=\"n\">norm_num</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">not_prime_pow</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"c1\">-- &lt; -- error</span>\n</code></pre></div>\n<p>The error is:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>tactic 'apply' failed, failed to unify\n  ¬Prime (?m.11909 ^ 2)\nwith\n  ¬Prime a\n</code></pre></div>\n<p>What I don't know how to do is apply <code>h1</code> so that <code>9=3^2</code> is recognised somehow.</p>\n<p>PS Thanks for your example, but I'm using only the instructions I know, so I can't yet use <code>omega</code> or <code>convert</code></p>",
        "id": 475696063,
        "sender_full_name": "rzeta0",
        "timestamp": 1728432221
    },
    {
        "content": "<p>The lemma is looking for the squared term within the Prime expression  <code>¬Prime (??? ^ 2)</code>, so before the <code>apply</code>, doing a rewrite <code>rw [h1]</code>,  fixes it.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">...</span>\n<span class=\"bp\">...</span>\n<span class=\"w\">    </span><span class=\"n\">norm_num</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">--&lt;</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">not_prime_pow</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n</code></pre></div>",
        "id": 475699346,
        "sender_full_name": "Derek Rhodes",
        "timestamp": 1728434435
    },
    {
        "content": "<p>beautiful !</p>",
        "id": 475699511,
        "sender_full_name": "rzeta0",
        "timestamp": 1728434561
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 475785096,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728461088
    },
    {
        "content": "<p>You could also do <code>convert not_prime_pow h2</code>, and Lean would tell you what the mismatch is</p>",
        "id": 475929862,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728498126
    }
]