[
    {
        "content": "<p>While unpacking a universal quantifier for a complex number I found that rintro doesn't expand in the way I would expect it work. What I have right now works ok, so the point of this question is in better understanding:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Multiset</span><span class=\"w\"> </span><span class=\"n\">ℂ</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hibd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">toEnumFinset</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">re</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rintro</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">⟩</span>\n<span class=\"w\">    </span><span class=\"c1\">-- ⊢ (z, n) ∈ s.toEnumFinset → (f (z, n)).re ≤ 1</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">heig</span>\n<span class=\"w\">    </span><span class=\"c1\">-- ⊢ (f (z, n)).re ≤ 1     this is fine and now we are ready to prove our result</span>\n</code></pre></div>\n<p>Can we combine the rintro and intro statements together? When I tried introduce another term to the constructor it doesn't work as expected. Asking for teaching value.</p>",
        "id": 538495805,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1757439872
    },
    {
        "content": "<p>If you asked with a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> rather than a code fragment then it would be much easier for others to answer. Does <code>rintro \\&lt;z, n\\&gt; heig</code> not work?</p>",
        "id": 538496340,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757440035
    },
    {
        "content": "<p>Sorry you're totally right about that.</p>\n<p>It does! So why does heig not sit inside the brackets?</p>",
        "id": 538496521,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1757440110
    },
    {
        "content": "<p>The pointy brackets are taking a term apart. <code>heig</code> is a different term.</p>",
        "id": 538496748,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757440201
    },
    {
        "content": "<p><code>∀ t ∈ s.toEnumFinset, (f t).re ≤ 1</code> actually means <code>∀ t, ∀ ht : t ∈ s.toEnumFinset, (f t).re ≤ 1</code>, and <code>rintro</code> takes space-separated arguments for each <code>∀</code></p>",
        "id": 538498894,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757440924
    },
    {
        "content": "<p>It's equivalent to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">heig</span>\n<span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">t</span>\n</code></pre></div>",
        "id": 538499110,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757441000
    },
    {
        "content": "<p>Aah yes! It's not at all obvious that it's a different term! Hence the confusion. This is an implementation detail I guess.</p>",
        "id": 538500172,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757441300
    },
    {
        "content": "<p>Thanks for the explanation. Now back to grinding away at a lemma that seems like it should be trivially obvious :)</p>",
        "id": 538501028,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1757441630
    }
]