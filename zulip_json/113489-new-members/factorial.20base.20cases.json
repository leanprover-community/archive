[
    {
        "content": "<p>how come this gives error? math2001 exercise 6.2.7.7<br>\n<a href=\"/user_uploads/3121/WoMM1IMeWBbbCbKQrlBXehUr/math6.2.7.7.png\">math6.2.7.7.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WoMM1IMeWBbbCbKQrlBXehUr/math6.2.7.7.png\" title=\"math6.2.7.7.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"452x267\" src=\"/user_uploads/thumbnail/3121/WoMM1IMeWBbbCbKQrlBXehUr/math6.2.7.7.png/840x560.webp\"></a></div><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Even</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction_from_starting_point</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"n\">IH</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">      </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">factorial</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">factorial</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">factorial</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">IH</span>\n<span class=\"w\">    </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">!</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">factorial</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">hx</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>",
        "id": 535147927,
        "sender_full_name": "Bo Qin",
        "timestamp": 1755615341
    },
    {
        "content": "<p>what's the error you get?</p>",
        "id": 535148297,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755615454
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/5gDq2eJmK91id8mkNh_ygyQ_/math6.2.7.7error.png\">math6.2.7.7error.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/5gDq2eJmK91id8mkNh_ygyQ_/math6.2.7.7error.png\" title=\"math6.2.7.7error.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"379x297\" src=\"/user_uploads/thumbnail/3121/5gDq2eJmK91id8mkNh_ygyQ_/math6.2.7.7error.png/840x560.webp\"></a></div>",
        "id": 535148506,
        "sender_full_name": "Bo Qin",
        "timestamp": 1755615513
    },
    {
        "content": "<p>oh it rewrote the wrong occurrence</p>",
        "id": 535148574,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755615532
    },
    {
        "content": "<p>Is that a bug?</p>",
        "id": 535148655,
        "sender_full_name": "Bo Qin",
        "timestamp": 1755615550
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/5026\">lean4#5026</a></p>",
        "id": 535148966,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755615619
    },
    {
        "content": "<p>This one also rewrote the wrong one it seems: </p>\n<p><a href=\"/user_uploads/3121/Y8xgQTUC7xaB-bTd0kwUINxO/math6.2.6.png\">math6.2.6.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Y8xgQTUC7xaB-bTd0kwUINxO/math6.2.6.png\" title=\"math6.2.6.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1041x337\" src=\"/user_uploads/thumbnail/3121/Y8xgQTUC7xaB-bTd0kwUINxO/math6.2.6.png/840x560.webp\"></a></div>",
        "id": 535149123,
        "sender_full_name": "Bo Qin",
        "timestamp": 1755615663
    },
    {
        "content": "<p>What can I use instead of rw?</p>",
        "id": 535149505,
        "sender_full_name": "Bo Qin",
        "timestamp": 1755615757
    },
    {
        "content": "<p>ok I see, need to be more specific <a href=\"https://github.com/leanprover/lean4/issues/5026#issuecomment-2640300127\">https://github.com/leanprover/lean4/issues/5026#issuecomment-2640300127</a></p>",
        "id": 535150039,
        "sender_full_name": "Bo Qin",
        "timestamp": 1755615905
    }
]