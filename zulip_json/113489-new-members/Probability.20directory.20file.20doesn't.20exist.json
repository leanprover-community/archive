[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Sym</span><span class=\"bp\">.</span><span class=\"n\">Card</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Probability</span><span class=\"bp\">.</span><span class=\"n\">Distributions</span><span class=\"bp\">.</span><span class=\"n\">SetBernoulli</span><span class=\"c1\">--Trying to define a renadom graph</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Finset</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">ProbabilityTheory</span><span class=\"w\"> </span><span class=\"n\">unitInterval</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">SimpleGraph</span>\n<span class=\"c1\">--open Classical Mathlib.Combinatorics</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Tringles</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">}</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MeasurableSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">SimpleGraph</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">comap</span><span class=\"w\"> </span><span class=\"n\">Adj</span><span class=\"w\"> </span><span class=\"n\">inferInstance</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">setBernoulli</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">binomialRandom</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">SimpleGraph</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">setBer</span><span class=\"o\">(</span><span class=\"n\">Sym2</span><span class=\"bp\">.</span><span class=\"n\">diagSet</span><span class=\"bp\">ᶜ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">comap</span><span class=\"w\"> </span><span class=\"n\">edgeSet</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Tringles</span>\n</code></pre></div>\n<p>This is the code I am trying to run, and the error I get is this</p>\n<blockquote>\n<p><code>/home/me/.elan/toolchains/leanprover--lean4---v4.27.0-rc1/bin/lake setup-file /home/me/Leanproject/this/This.lean - --no-build --no-cache</code> failed:</p>\n<p>stderr:<br>\n✖ [7744/7746] Running Mathlib.Probability.Distributions.SetBernoulli<br>\nerror: no such file or directory (error code: 2)<br>\n  file: /home/me/Leanproject/this/.lake/packages/mathlib/Mathlib/Probability/Distributions/SetBernoulli.lean<br>\n✖ [7745/7746] Running setup-file /home/me/Leanproject/this/This.lean<br>\ntrace: file identified as module: This<br>\nerror: This.lean: bad import 'Mathlib.Probability.Distributions.SetBernoulli'<br>\nSome required targets logged failures:</p>\n<ul>\n<li>Mathlib.Probability.Distributions.SetBernoulli</li>\n<li>setup-file /home/me/Leanproject/this/This.lean<br>\nFailed to build module dependencies.<br>\n</li>\n</ul>\n</blockquote>\n<p>Is there is a way to update the folders or re-download the library?</p>",
        "id": 570508929,
        "sender_full_name": "Tomer",
        "timestamp": 1769593012
    },
    {
        "content": "<p>That file exists in the most recent mathlib --- are you sure you're using a sufficiently new version of mathlib?</p>",
        "id": 570512391,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769594031
    },
    {
        "content": "<p>That aside, <code>import Mathlib</code> should suffice --- there's no need to import individual modules in addition to that.</p>",
        "id": 570512456,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769594047
    },
    {
        "content": "<p>It seems to have been introduced in <a href=\"https://github.com/leanprover-community/mathlib4/pull/31908\">#31908</a>.</p>",
        "id": 570513163,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1769594258
    },
    {
        "content": "<p>Solved, it was not updated for some reason</p>",
        "id": 571000140,
        "sender_full_name": "Tomer",
        "timestamp": 1769771523
    }
]