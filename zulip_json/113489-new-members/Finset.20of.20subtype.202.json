[
    {
        "content": "<p>Hi, how do I write this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 452301259,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1721296362
    },
    {
        "content": "<p>Wait I'm very sorry, I didn't realise there's a previous thread with the same name lol</p>",
        "id": 452301333,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1721296384
    },
    {
        "content": "<p>2 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/stream/113489-new-members/topic/Finset.20of.20subtype\">#new members &gt; Finset of subtype</a> by <span class=\"user-mention silent\" data-user-id=\"579936\">Gareth Ma</span>.</p>",
        "id": 452301407,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721296404
    },
    {
        "content": "<p><code>s.map ⟨fun x ↦ ⟨x, hs x⟩, sorry⟩</code></p>",
        "id": 452301803,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721296503
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"579936\">Gareth Ma</span> has marked this topic as resolved.</p>",
        "id": 452303505,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721296938
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"579936\">Gareth Ma</span> has marked this topic as unresolved.</p>",
        "id": 452303658,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721297008
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidablePred</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 452303699,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1721297024
    },
    {
        "content": "<p><code>s.attach.map ⟨fun x ↦ ⟨x, hs _ x.2⟩, sorry⟩</code></p>",
        "id": 452303830,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721297055
    },
    {
        "content": "<p>I ask here, but feel free to move this question to another thread:</p>\n<p>I am trying to prove that a finset of a subtype is nonempty, I have constructed a term of the subtype but I have the strange issue that I cannot show it belongs to the Finset of the subtype, I would expect proving it belongs to the Finset would be straightforward just show it satisfies P, but it seems I must be stating something wrong or vacuous, because <code>rw?</code> just goes in loops and to my eyes does not provide anything useful and <code>apply?</code> does not do much good either. </p>\n<p>This is the lemma I think should solve my problems.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">triv</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">}}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 511809636,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1744462696
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"634542\">@Alex Brodbelt</span> This can't be proved, because it's possible that <code>⟨x, hx⟩</code> doesn't belong to <code>s</code>.</p>\n<p>For example, if <code>s</code> is empty or <code>Finset.empty</code>.</p>",
        "id": 511810644,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1744463682
    },
    {
        "content": "<p>indeed. the confusion might be coming from the precise meaning of <code>s: Finset {p : Nat // P p}</code>. It means \"Let <code>s</code> be a finite set whose elements are naturals which satisfy <code>P</code>\", not \"Let <code>s</code> be be a finite set whose elements are precisely those naturals which satisfy <code>P</code>\"</p>",
        "id": 511811457,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744464368
    },
    {
        "content": "<p>Oh I see, I was indeed misunderstanding what the type meant.</p>",
        "id": 511813774,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1744466396
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 511834986,
        "sender_full_name": "亚历山大大帝",
        "timestamp": 1744483644
    }
]