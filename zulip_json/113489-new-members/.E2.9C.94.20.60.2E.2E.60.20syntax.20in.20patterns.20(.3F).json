[
    {
        "content": "<p>I came across this bit of code:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">fvar</span><span class=\"w\"> </span><span class=\"n\">fvarId</span><span class=\"w\"> </span><span class=\"bp\">..</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\">  </span><span class=\"n\">fvarId</span><span class=\"bp\">.</span><span class=\"n\">getDecl</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">hasValue</span>\n<span class=\"w\">  </span><span class=\"k\">else</span>\n<span class=\"w\">    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">true</span>\n</code></pre></div>\n<p>I see that this is a <a href=\"https://lean-lang.org/doc/reference/latest//Terms/Conditionals/#termIfLet\">pattern-matching conditional</a>, but what does the <code>..</code> in the pattern mean? <code>.fvar</code> only takes one argument, so it's not a second argument, and I can't find anything about <code>..</code> as a pattern</p>",
        "id": 503862661,
        "sender_full_name": "Jonathan Chan",
        "timestamp": 1741285728
    },
    {
        "content": "<blockquote>\n<p>In a function application, <code>..</code> notation inserts zero or more <code>_</code> placeholders.</p>\n</blockquote>",
        "id": 503863566,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741286024
    },
    {
        "content": "<p>The parser is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Parser.Term.ellipsis#doc\">docs#Lean.Parser.Term.ellipsis</a></p>",
        "id": 503864740,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741286404
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 503864928,
        "sender_full_name": "Jonathan Chan",
        "timestamp": 1741286466
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"407610\">Jonathan Chan</span> has marked this topic as resolved.</p>",
        "id": 503864944,
        "sender_full_name": "Notification Bot",
        "timestamp": 1741286468
    },
    {
        "content": "<p>It's also mentioned <a href=\"https://lean-lang.org/doc/reference/latest/find/?domain=Verso.Genre.Manual.section&amp;name=function-application\">here</a> in the Lean Language Reference.</p>",
        "id": 503865383,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741286607
    },
    {
        "content": "<blockquote>\n<p>As a special case, when the function application occurs in a <a href=\"https://lean-lang.org/doc/reference/latest/Terms/Pattern-Matching/#pattern-matching\">pattern</a> and there is an ellipsis, optional and automatic arguments become universal patterns (<code>_</code>) instead of being inserted.</p>\n</blockquote>",
        "id": 503866319,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741286873
    },
    {
        "content": "<p>This particular example is vestigial code. It used to be that all the computed fields (various hashes and cached value) were represented as actual fields, so <code>Expr.fvar</code> actually did have more than one argument.</p>",
        "id": 503872960,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1741289018
    }
]