[
    {
        "content": "<p>This code is based on some example from MIL, C03, S03 Negation. Please see my MWE (at least for me <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span>)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_contra</span><span class=\"w\"> </span><span class=\"n\">h'</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">by_contra</span><span class=\"w\"> </span><span class=\"n\">h''</span>\n<span class=\"w\">  </span><span class=\"c1\">--#check ⟨x, h''⟩ -- does not work because interpreted as anonymous constructor, but is exists-intro</span>\n<span class=\"w\">  </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h''</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h''</span><span class=\"bp\">⟩</span>\n</code></pre></div>\n<p>My question is about that the commented line can not be uncommented for the reason as descripted there.<br>\nHow can I fix this?</p>",
        "id": 450205871,
        "sender_full_name": "Simon Kirchner",
        "timestamp": 1720539771
    },
    {
        "content": "<p>I dont think <code>#check</code> cares about your current goal, so Lean cannot know the type of <code>⟨x, h''⟩</code>.</p>",
        "id": 450208620,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1720540354
    },
    {
        "content": "<p>In particular, Lean doesn't know what type you mean there -- if you instead tell it what you mean it works -- e.g. <code>#check (⟨x, h''⟩ : ∃ y, ¬P y)</code></p>",
        "id": 450209301,
        "sender_full_name": "Julian Berman",
        "timestamp": 1720540509
    },
    {
        "content": "<p>Wouldn't <code>#check (⟨x, h''⟩ : ∃ x, ¬P x)</code>be more correct? <span class=\"user-mention\" data-user-id=\"321696\">@Julian Berman</span></p>",
        "id": 450209974,
        "sender_full_name": "Simon Kirchner",
        "timestamp": 1720540648
    },
    {
        "content": "<p>The two are 100% the same</p>",
        "id": 450210125,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1720540680
    },
    {
        "content": "<p>It's like the functions <code>x ↦ x^2</code> and <code>y ↦ y^2</code></p>",
        "id": 450210259,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1720540707
    },
    {
        "content": "<p>This kind of \"overloading\" is confusing to me when it says that it is something and it is actually something different.</p>",
        "id": 450214267,
        "sender_full_name": "Simon Kirchner",
        "timestamp": 1720541456
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"712621\">Simon Kirchner</span> has marked this topic as resolved.</p>",
        "id": 450218018,
        "sender_full_name": "Notification Bot",
        "timestamp": 1720542244
    },
    {
        "content": "<p>This angle bracket notation is always anonymous constructor notation. The way it works is that it looks at what the expected type is, checks that that type has just a single constructor, and then uses it. The constructor for Exists is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Exists.intro#doc\">docs#Exists.intro</a>, which you can use as <code>Exists.intro x h''</code>, but without an expected type it still has a hard time since it would have to guess that the <code>x</code> in <code>¬P x</code> is supposed to be the <code>x</code>. To illustrate the problem, this is a valid interpretation too: <code>(⟨x, h''⟩ : ∃ y, ¬ P x)</code>.</p>",
        "id": 450225544,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1720543777
    },
    {
        "content": "<p>There's a way to specify the predicate for the existential without making use of an expected type. In case you want to see it, here's a way: <code>@Exists.intro _ (fun y ↦ ¬ P y) x h''</code></p>",
        "id": 450226076,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1720543845
    }
]