[
    {
        "content": "<p>Can we modify declared constant value by modifying <code>Environment</code>?</p>",
        "id": 546272635,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1761061925
    },
    {
        "content": "<p>for example, can we get <code>hoge = 42</code> even if it is declared by <code>def hoge := 1</code>, by modifying <code>Environment</code>?</p>",
        "id": 546272840,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1761061974
    },
    {
        "content": "<p>There are certain hacks that you can do to mutate an <code>Environment</code> in this fashion but this is not something that is generally supported as part of the whole Lean framework no</p>",
        "id": 546274372,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1761062397
    },
    {
        "content": "<p>In particular changing the definition of a function can make other parts of the env not type check anymore so you can easily get yourself in trouble</p>",
        "id": 546274556,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1761062439
    },
    {
        "content": "<p>Thank you. so this is possible?<br>\nhow? (I want to see it for only curiosity)</p>",
        "id": 546276062,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1761062859
    },
    {
        "content": "<p>It's a bit more difficult with the async <code>Environment</code> etc. now so I don't actually know how to put in into action from the top of my head but the main thing you have to do is modify the kernel environment contained in that thing and then touch the <code>constants</code> map in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Kernel.Environment#doc\">docs#Lean.Kernel.Environment</a> to do the change you want.</p>",
        "id": 546279208,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1761063810
    }
]