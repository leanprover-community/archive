[
    {
        "content": "<p>I understand that <code>Equiv.Perm A</code> is the set of all bijections from <code>A</code> to itself. When <code>A</code> is infinite (I would be happy with <code>Nat</code>), is there simple notation and API for the type (and group) of bijections with a finite support?</p>",
        "id": 498715209,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1739181434
    },
    {
        "content": "<p>No, I don't think we have this!</p>",
        "id": 498720978,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1739182966
    },
    {
        "content": "<p>Interestingly, the phrase \"finite support\" is used to mean \"all but finitely many things map to 0\" in mathlib (eg <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp#doc\">docs#Finsupp</a> is clearly named with this in mind) but you're using it to mean \"all but finitely many things map to themselves\", so only a finite distance from the identity map rather than from the zero map.</p>",
        "id": 498735101,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739186720
    },
    {
        "content": "<p>Sounds like we need <code>@[to_multiplicative]</code></p>",
        "id": 498735191,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1739186755
    },
    {
        "content": "<p>But this would be \"all but finitely many things map to 1\"</p>",
        "id": 498735325,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739186785
    },
    {
        "content": "<p>At least for finite <code>A</code>, <code>Equiv.Perm.support</code> is defined as the (fin)set of non-fixed points, so I felt justified in using the phrase \"finite support\" (in the generalized case of arbitrary <code>A</code>) to mean \"with a support that happens to be finite\", even though it does not agree with the other sense of \"finite support\".</p>",
        "id": 498750448,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1739191245
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Equiv.Perm.support#doc\">docs#Equiv.Perm.support</a> is only for permutations of a finite type. But I agree that the word is used in this way; I was just pointing out that mostly in mathlib it's used in a different way. </p>\n<p>I feel like <code>Equiv.Perm.support</code> should be called something like <code>Equiv.Perm.finsupport</code> and that <code>Equiv.Perm.support</code> should just be the set, and the finite support elements should be defined as a subgroup using <code>Set.Finite</code>. It would make a nice exercise!</p>",
        "id": 498790363,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739201050
    }
]