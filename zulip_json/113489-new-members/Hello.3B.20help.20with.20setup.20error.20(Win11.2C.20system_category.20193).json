[
    {
        "content": "<p>Hello everyone, newbie here.  Looking forward to getting into Lean. (I do have a real identity too: <a href=\"http://www.maths.lancs.ac.uk/~grabowsj/\">http://www.maths.lancs.ac.uk/~grabowsj/</a>)</p>\n<p>I am having issues getting set up with Lean4 via VS Code on Windows 11 (Windows user for... reasons of inter-operability with others, let's say).  I think this probably isn't a Lean issue, but maybe others have encountered it and can help - Google isn't helping enough.</p>\n<p>In a nutshell, I've followed the install instructions and downloaded the mathematics-in-lean project.  When it tries to start, I get this error - I've highlighted what I think the root error is, namely a system_category error 193.</p>\n<p>My guess is some sort of permissions problem, but any suggestions welcome.</p>\n<p>c:\\Users\\Jan Grabowski\\Documents\\lean\\mathematics-in-lean&gt; lean --version<br>\nLean (version 4.10.0-rc2, x86_64-w64-windows-gnu, commit 702c31b80712, Release)<br>\nc:\\Users\\Jan Grabowski\\Documents\\lean\\mathematics-in-lean&gt; lake --version<br>\nLake version 5.0.0-702c31b (Lean version 4.10.0-rc2)<br>\nc:\\Users\\Jan Grabowski\\Documents\\lean\\mathematics-in-lean&gt; lake exe cache get<br>\ninfo: mathlib: cloning <a href=\"https://github.com/leanprover-community/mathlib4\">https://github.com/leanprover-community/mathlib4</a> to '.\\.\\.lake/packages\\mathlib'<br>\ninfo: batteries: cloning <a href=\"https://github.com/leanprover-community/batteries\">https://github.com/leanprover-community/batteries</a> to '.\\.\\.lake/packages\\batteries'<br>\ninfo: Qq: cloning <a href=\"https://github.com/leanprover-community/quote4\">https://github.com/leanprover-community/quote4</a> to '.\\.\\.lake/packages\\Qq'<br>\ninfo: aesop: cloning <a href=\"https://github.com/leanprover-community/aesop\">https://github.com/leanprover-community/aesop</a> to '.\\.\\.lake/packages\\aesop'<br>\ninfo: proofwidgets: cloning <a href=\"https://github.com/leanprover-community/ProofWidgets4\">https://github.com/leanprover-community/ProofWidgets4</a> to '.\\.\\.lake/packages\\proofwidgets'<br>\ninfo: importGraph: cloning <a href=\"https://github.com/leanprover-community/import-graph\">https://github.com/leanprover-community/import-graph</a> to '.\\.\\.lake/packages\\importGraph'<br>\ninfo: Cli: cloning <a href=\"https://github.com/leanprover/lean4-cli\">https://github.com/leanprover/lean4-cli</a> to '.\\.\\.lake/packages\\Cli'<br>\n✔ [1/10] Fetched proofwidgets:optRelease<br>\n✖ [2/10] Building Cache.IO<br>\ntrace: .&gt; LEAN_PATH=.\\.\\.lake/packages\\batteries\\.lake\\build\\lib;.\\.\\.lake/packages\\Qq\\.lake\\build\\lib;.\\.\\.lake/packages\\aesop\\.lake\\build\\lib;.\\.\\.lake/packages\\proofwidgets\\.lake\\build\\lib;.\\.\\.lake/packages\\Cli\\.lake\\build\\lib;.\\.\\.lake/packages\\importGraph\\.lake\\build\\lib;.\\.\\.lake/packages\\mathlib\\.lake\\build\\lib;.\\.\\.lake\\build\\lib PATH c:\\Users\\Jan Grabowski\\.elan\\toolchains\\leanprover--lean4---v4.10.0-rc2\\bin\\lean.exe -Dpp.unicode.fun=true -DautoImplicit=false -DrelaxedAutoImplicit=false .\\.\\.lake/packages\\mathlib\\.\\.\\Cache\\IO.lean -R .\\.\\.lake/packages\\mathlib\\.\\. -o .\\.\\.lake/packages\\mathlib\\.lake\\build\\lib\\Cache\\IO.olean -i .\\.\\.lake/packages\\mathlib\\.lake\\build\\lib\\Cache\\IO.ilean -c .\\.\\.lake/packages\\mathlib\\.lake\\build\\ir\\Cache\\IO.c --json<br>\n<strong>error: failed to execute 'c:\\Users\\Jan Grabowski\\.elan\\toolchains\\leanprover--lean4---v4.10.0-rc2\\bin\\lean.exe': unspecified system_category error (error code: 193)</strong><br>\nSome builds logged failures:</p>\n<ul>\n<li>Cache.IO<br>\nerror: build failed<br>\n=&gt; Operation failed. Exit code: 1.</li>\n</ul>",
        "id": 455341652,
        "sender_full_name": "Jan Grabowski",
        "timestamp": 1722421048
    },
    {
        "content": "<p>PS. I get the same error manually running \"lake exe cache get\" in a Command Prompt or PowerShell, so VS Code appears not to be to blame.</p>",
        "id": 455344920,
        "sender_full_name": "Jan Grabowski",
        "timestamp": 1722422126
    },
    {
        "content": "<p>PPS. Turns out an alternative that works is to install Lean into an Ubuntu on Windows Subsystem for Linux :-)</p>\n<p>Edit: and VS Code appears to be quite smart wrt WSL - since it had already logged me in to my Github account, I think it must  be running the Windows version but connects to WSL to do stuff.</p>",
        "id": 455347093,
        "sender_full_name": "Jan Grabowski",
        "timestamp": 1722422818
    },
    {
        "content": "<p>Is there a file <code>c:\\Users\\Jan</code> (i.e. does the file <code>Jan</code> in <code>c:\\Users</code> exist)?</p>",
        "id": 455352664,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1722424586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span> there's just a space in my Windows username - other things succeeded in that directory structure so I don't think that's the issue.</p>",
        "id": 455352862,
        "sender_full_name": "Jan Grabowski",
        "timestamp": 1722424677
    },
    {
        "content": "<p>Still, does that file exist?</p>",
        "id": 455352955,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1722424697
    },
    {
        "content": "<p>Yes, it does.</p>",
        "id": 455353007,
        "sender_full_name": "Jan Grabowski",
        "timestamp": 1722424722
    },
    {
        "content": "<p>In that case, <a href=\"#narrow/stream/270676-lean4/topic/VS.20Code.20lean.20server.20crash/near/453296158\">you can try deleting it</a>.<br>\nThis will be fixed in the next release candidate (fixed in <a href=\"https://github.com/leanprover/lean4/pull/4515\">lean4#4515</a> that releases in the next couple of days).</p>",
        "id": 455353144,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1722424787
    },
    {
        "content": "<p>I'm still not entirely sure which program creates these files, though! It's likely another program that does not deal with user names that contain spaces correctly.</p>",
        "id": 455353448,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1722424912
    },
    {
        "content": "<p>Ah. I see what's happening - thanks for linking to the other thread.  Deleting the 5 random files has fixed the original problem.  Now I can just decide whether to work in Win or Linux, I guess...  Much appreciated, <span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span> and useful to know that there's a fix in progress.</p>",
        "id": 455354889,
        "sender_full_name": "Jan Grabowski",
        "timestamp": 1722425484
    }
]