[
    {
        "content": "<p>I'm looking at using vanilla lean4+mathlib to do what <code>extra</code> does in MoP.</p>\n<p>I've found two lemmas which look useful, but I can't see what the difference is? The signatures look almost the same:</p>\n<p>Left version:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_add_of_nonneg_left</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">AddZeroClass</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">AddRightMono</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span>\n<span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>Right version:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">le_add_of_nonneg_right</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">AddZeroClass</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">AddLeftMono</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span>\n<span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>\n<p>Both take <code>(h : 0 ≤ b)</code> as a required hypothesis, and both conclude <code>a ≤ a </code>+ b.</p>\n<p>I don't know what <code> [AddRightMono α] </code>and <code>[AddLeftMono α]</code> mean.</p>",
        "id": 490926948,
        "sender_full_name": "rzeta0",
        "timestamp": 1735256428
    },
    {
        "content": "<p>No they don't both conclude the same: le_add_of_nonneg_<strong>left</strong> has <code>b</code> on the <strong>left</strong> and le_add_of_nonneg_<strong>right</strong> has <code>b</code> on the <strong>right</strong></p>",
        "id": 490927102,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1735256589
    },
    {
        "content": "<p>so does this mean the two are required for objects where A + B does not necessarily equal B + A ?</p>\n<p>(which isn't the case for naturals, integers, rationals, reals, complex numbers)</p>",
        "id": 490927310,
        "sender_full_name": "rzeta0",
        "timestamp": 1735256770
    },
    {
        "content": "<hr>\n<p>Actually both give me an <code>unknown tactic</code> error so maybe these are internal only?</p>",
        "id": 490927361,
        "sender_full_name": "rzeta0",
        "timestamp": 1735256854
    },
    {
        "content": "<p>Exactly, they work in that generality. This is more common for the similar lemmas about multiplication, but it's more consistent to have them for addition as well, and it's more convenient than having to rewrite with <code>add_comm</code> first anyway.</p>\n<p>If you get \"<code>unknown tactic</code>\", you're writing a lemma name where a tactic is expected</p>",
        "id": 490927601,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1735257065
    },
    {
        "content": "<p><code>a + b</code> and <code>b + a</code> are provably equal <em>numbers</em> but they are definitely not equal as <em>expressions</em>.</p>",
        "id": 490928294,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735257642
    },
    {
        "content": "<p>You wouldn't expect <code>rw [add_zero]</code> to work on <code>0 + x = y</code> right?</p>",
        "id": 490928600,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735257749
    },
    {
        "content": "<p>thanks for explaining - and the \"unknown tactic\" hint is really useful too</p>",
        "id": 490928736,
        "sender_full_name": "rzeta0",
        "timestamp": 1735257855
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 490928738,
        "sender_full_name": "Notification Bot",
        "timestamp": 1735257857
    }
]