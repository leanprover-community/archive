[
    {
        "content": "<p>Not sure why <code>sq_sub_sq</code> is not working...</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">33</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"bp\">+</span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"bp\">-</span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">33</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">sq_sub_sq</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 505872126,
        "sender_full_name": "spamegg",
        "timestamp": 1742062531
    },
    {
        "content": "<p><code>sq_sub_sq</code> only applies to commutative rings, and <code>ℕ</code> is not a commutative ring.  If you change <code>ℕ</code> to <code>ℤ</code>, your example will work.</p>",
        "id": 505873243,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1742063334
    },
    {
        "content": "<p>Note that subtraction in <code>ℕ</code> is difficult to work with.  If <code>a</code> and <code>b</code> are natural numbers and <code>a &lt; b</code>, then <code>a - b = 0</code>.  As a result, algebra involving subtraction of natural numbers doesn't always work the way you might expect.  For example, it is not in general true that <code>a - b + b = a</code>.</p>",
        "id": 505874003,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1742063855
    },
    {
        "content": "<p>Use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Init.html#Nat.sq_sub_sq\">Nat.sq_sub_sq</a></p>",
        "id": 505928146,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1742107855
    },
    {
        "content": "<p>Also when you expect a fact to exist in mathlib, a very effective (though intrusive) method is to write a small example with the hypothesis you think are needed and the target fact, and then write <code>exact?</code> or <code>apply?</code> to get lean to infer the theorem if already in mathlib</p>",
        "id": 505928259,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1742107944
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"766787\">spamegg</span> has marked this topic as resolved.</p>",
        "id": 505928980,
        "sender_full_name": "Notification Bot",
        "timestamp": 1742108587
    }
]