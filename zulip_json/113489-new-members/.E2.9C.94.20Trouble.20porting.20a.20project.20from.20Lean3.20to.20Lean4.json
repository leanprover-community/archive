[
    {
        "content": "<p>Hello party people!</p>\n<p>I am currently formalizing Lawvere's fixed point theorem and some of its consequences for a class. In particular, I want to show a consequence for elementary topoi, but I do not want to formalize topos theory from scratch.</p>\n<p>I found <a href=\"https://github.com/b-mehta/topos/\">this</a> project formalizing basic topos theory, but it is written in Lean3. Then I tried to port it using <a href=\"https://github.com/leanprover-community/mathport\">mathport</a>. I followed the steps on how to set it up, but after running </p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>make<span class=\"w\"> </span><span class=\"nb\">source</span>\n</code></pre></div>\n<p>bash returned</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>...\nbash:<span class=\"w\"> </span>line<span class=\"w\"> </span><span class=\"m\">1</span>:<span class=\"w\"> </span>leanproject:<span class=\"w\"> </span><span class=\"nb\">command</span><span class=\"w\"> </span>not<span class=\"w\"> </span>found\nmake:<span class=\"w\"> </span>***<span class=\"w\"> </span><span class=\"o\">[</span>Makefile:54:<span class=\"w\"> </span>mathbin-source<span class=\"o\">]</span><span class=\"w\"> </span>Error<span class=\"w\"> </span><span class=\"m\">127</span>\n</code></pre></div>\n<p>I tried installing mathlibtools, but apparently the package does not exist (I use Linux Mint).</p>\n<p>How should I proceed?</p>",
        "id": 497280323,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738521769
    },
    {
        "content": "<p>(Maybe <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> has thoughts)</p>",
        "id": 497280459,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1738521869
    },
    {
        "content": "<p>You shouldn't need a Linux package to install leanproject, you can use your python package manager to install mathlibtools</p>",
        "id": 497280517,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738521925
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497280517\">said</a>:</p>\n<blockquote>\n<p>you can use your python package manager to install mathlibtools</p>\n</blockquote>\n<p>I did that, but I am still getting the same error.</p>",
        "id": 497280992,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738522310
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497280459\">said</a>:</p>\n<blockquote>\n<p>(Maybe <span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> has thoughts)</p>\n</blockquote>\n<p>I'll contact him</p>",
        "id": 497281084,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738522370
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"218940\">@Charlie Conneen</span> is working on this. See the thread <a href=\"#narrow/channel/287929-mathlib4/topic/topos.20theory.20repository\">here</a> as well as <a href=\"https://github.com/leanprover-community/mathlib4/pull/21269\">#21269</a>.</p>",
        "id": 497281578,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738522776
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"873607\">@Johannes Folttmann</span> By mentioning Bhavik, he's already pinged and he'll notice this thread :-) )</p>",
        "id": 497281763,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1738522903
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873607\">Johannes Folttmann</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497280992\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497280517\">said</a>:</p>\n<blockquote>\n<p>you can use your python package manager to install mathlibtools</p>\n</blockquote>\n<p>I did that, but I am still getting the same error.</p>\n</blockquote>\n<p>which error? The one saying <code>leanproject</code> not found? Is it actually existing now? What does <code>type -a leanproject</code> say?</p>",
        "id": 497282029,
        "sender_full_name": "Julian Berman",
        "timestamp": 1738523104
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497281763\">said</a>:</p>\n<blockquote>\n<p>(<span class=\"user-mention silent\" data-user-id=\"873607\">Johannes Folttmann</span> By mentioning Bhavik, he's already pinged and he'll notice this thread :-) )</p>\n</blockquote>\n<p>Ah, that makes sense. Thank you</p>",
        "id": 497282077,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738523149
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"776338\">Nick Ward</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497281578\">said</a>:</p>\n<blockquote>\n<p>I think <span class=\"user-mention silent\" data-user-id=\"218940\">Charlie Conneen</span> is working on this. See the thread <a href=\"#narrow/channel/287929-mathlib4/topic/topos.20theory.20repository\">here</a> as well as <a href=\"https://github.com/leanprover-community/mathlib4/pull/21269\">#21269</a>.</p>\n</blockquote>\n<p>Thanks. I don't know how I didn't find this earlier</p>",
        "id": 497282192,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738523233
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497282029\">said</a>:</p>\n<blockquote>\n<p>which error? The one saying <code>leanproject</code> not found? Is it actually existing now? What does <code>type -a leanproject</code> say?</p>\n</blockquote>\n<p>Yes,  the one saying leanproject not found.<br>\n'type - a leanproject' says</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>bash:<span class=\"w\"> </span>type:<span class=\"w\"> </span>leanproject:<span class=\"w\"> </span>not<span class=\"w\"> </span>found\n</code></pre></div>",
        "id": 497282355,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738523384
    },
    {
        "content": "<p>Well that sounds like it's not installed then :) how did you install it?</p>",
        "id": 497282411,
        "sender_full_name": "Julian Berman",
        "timestamp": 1738523408
    },
    {
        "content": "<p>Porting this is going to be tough - iirc mathport works best on the most recent version of Lean 3, and this repo was never updated to that. The best place to look is Charlie's version of the code, in the earlier linked thread.</p>",
        "id": 497283137,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1738524065
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497282411\">said</a>:</p>\n<blockquote>\n<p>Well that sounds like it's not installed then :) how did you install it?</p>\n</blockquote>\n<p>Oopsie daisy, looks like I didn't. I thought I installed it together with elan and Lean4, but I just realized that leanproject is only for Lean3. After installing mathlibtools with pip like <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> recommended, it still doesn't work.</p>",
        "id": 497283171,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738524105
    },
    {
        "content": "<p>\"it still doesn't work\" is not a bug report that people can work with. But I would take heed of Bhavik's comments above and give up on this.</p>",
        "id": 497283374,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738524254
    },
    {
        "content": "<p>I don't know if you were involved with the port but honestly even if you spend the time to get mathport over the line, you'll have a bunch of files which will still need a huge amount of editing. The program did not spit out working lean 4 code. What happened in practice was that it spat out something, and that thing was certainly closer to lean 4 code than lean 3 code, but in almost all cases it still needed a lot of work to get it compiling.</p>",
        "id": 497283529,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738524395
    },
    {
        "content": "<p>And note that <span class=\"user-mention\" data-user-id=\"218940\">@Charlie Conneen</span> has already gone through the effort of updating a nontrivial portion of the code in my repo to Lean 4, so you'd save a lot of work by looking at their repo.</p>",
        "id": 497283591,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1738524467
    },
    {
        "content": "<p>Mathport was good enough to be a very useful tool but what really got the port over the line was the extraordinary community we have here of people who were prepared to spend many many hours manually fixing up thousands of files produced by that program.</p>",
        "id": 497283661,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738524506
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/113489-new-members/topic/Trouble.20porting.20a.20project.20from.20Lean3.20to.20Lean4/near/497283374\">said</a>:</p>\n<blockquote>\n<p>\"it still doesn't work\" is not a bug report that people can work with.</p>\n</blockquote>\n<p>Sorry, I meant that I still get the same error message as before.<br>\nI didn't see Bhavik's comment before sending my message. I will not continue using mathport and instead look at <span class=\"user-mention\" data-user-id=\"218940\">@Charlie Conneen</span>'s project.<br>\nThank you all for your quick and helpful responses!</p>",
        "id": 497284243,
        "sender_full_name": "Johannes Folttmann",
        "timestamp": 1738524938
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873607\">Johannes Folttmann</span> has marked this topic as resolved.</p>",
        "id": 497284318,
        "sender_full_name": "Notification Bot",
        "timestamp": 1738524988
    },
    {
        "content": "<p>Hi there. I would love any collaboration formalizing results on elementary topoi. Feel free to ask any questions you have about the existing code. Do note that there will be several large refactors coming soon to that topos theory repo as a result of ongoing PR reviews. See <a href=\"https://github.com/leanprover-community/mathlib4/pull/21281\">#21281</a> to see how <code>Classifier.lean</code> has been updated so far.</p>",
        "id": 497285462,
        "sender_full_name": "Charlie Conneen",
        "timestamp": 1738525915
    }
]