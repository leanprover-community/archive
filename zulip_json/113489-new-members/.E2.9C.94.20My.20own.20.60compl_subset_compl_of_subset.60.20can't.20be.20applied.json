[
    {
        "content": "<p>I'm a newbie to Lean4 and am trying to learn Lean by proving some trivial set theories myself. My code is as follows:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">MySet</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">U</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">U</span><span class=\"o\">)</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">U</span><span class=\"o\">)</span>\n\n<span class=\"bp\">...</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">compl_subset_compl_of_subset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_compl_iff</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_compl_iff</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n<span class=\"w\">  </span><span class=\"n\">by_contra</span><span class=\"w\"> </span><span class=\"n\">hc</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"n\">hc</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"n\">h3</span>\n\n<span class=\"w\">  </span><span class=\"c1\">-- ...in some other theorem</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">compl_subset_compl_of_subset</span><span class=\"w\"> </span><span class=\"n\">h1</span>\n<span class=\"w\">    </span><span class=\"c1\">-- where h1 is Bᶜ ⊆ Aᶜ</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">MySet</span>\n</code></pre></div>\n<p>However lean4 refuses to accept it with </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">application</span><span class=\"w\"> </span><span class=\"n\">type</span><span class=\"w\"> </span><span class=\"n\">mismatch</span>\n<span class=\"w\">  </span><span class=\"n\">compl_subset_compl_of_subset</span><span class=\"w\"> </span><span class=\"n\">h1</span>\n<span class=\"n\">argument</span>\n<span class=\"w\">  </span><span class=\"n\">h1</span>\n<span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">B</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"m\">1261</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n</code></pre></div>\n<p>Replacing my own version of compl_subset_compl_of_subset with <code>Set.compl_subset_compl_of_subset</code> works. Why is this happening?</p>",
        "id": 516463875,
        "sender_full_name": "Yi Cao",
        "timestamp": 1746542650
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/My.20own.20.02klzzwxh.3A0000.03.20can.27t.20be.20applied\">#lean4 &gt; My own <code>compl_subset_compl_of_subset</code> can't be applied</a> by <span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span>.</p>",
        "id": 516464465,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746542812
    },
    {
        "content": "<p>In your version, the arguments <code>A</code> and <code>B</code> are explicit.</p>",
        "id": 516464523,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746542830
    },
    {
        "content": "<p><code>variable {A B : Set U}</code> will do <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 516464585,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1746542845
    },
    {
        "content": "<p>Or you have to call it using <code>compl_subset_compl_of_subset A B h1</code></p>",
        "id": 516464714,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746542877
    },
    {
        "content": "<p>Many thanks</p>",
        "id": 516466056,
        "sender_full_name": "Yi Cao",
        "timestamp": 1746543196
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> has marked this topic as resolved.</p>",
        "id": 516466557,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746543313
    },
    {
        "content": "<p>How can I make my theorem implicit like the mathlib version?</p>",
        "id": 516468377,
        "sender_full_name": "Yi Cao",
        "timestamp": 1746543756
    },
    {
        "content": "<p>Either </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">U</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>(this will make <code>A</code> and <code>B</code> implicit in any theorem that uses them), or</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">compl_subset_compl_of_subset</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">U</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n</code></pre></div>\n<p>(to make them explicit just for this one theorem)</p>",
        "id": 516478782,
        "sender_full_name": "Philippe Duchon",
        "timestamp": 1746546563
    },
    {
        "content": "<p><a href=\"https://b-mehta.github.io/formalising-mathematics-notes/Part_1/brackets.html\">https://b-mehta.github.io/formalising-mathematics-notes/Part_1/brackets.html</a></p>",
        "id": 516531206,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746564339
    }
]