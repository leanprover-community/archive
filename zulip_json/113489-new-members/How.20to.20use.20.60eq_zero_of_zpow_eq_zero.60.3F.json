[
    {
        "content": "<p>Over <code>ℝ</code> I'd like to inferre <code>(-1) = 0</code> from <code>(-1) ^ n = 0</code> in a proof by contradiction where <code>n : ℕ</code>. It seemed that <code>eq_zero_of_zpow_eq_zero</code> was the right theorem, however I get an error.<br>\nSo I thought I should do a simple explicit example and  tried</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>to get:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">application</span><span class=\"w\"> </span><span class=\"n\">type</span><span class=\"w\"> </span><span class=\"n\">mismatch</span>\n<span class=\"w\">  </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"n\">argument</span>\n<span class=\"w\">  </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">type</span>\n<span class=\"w\">  </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"m\">46818</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"m\">46819</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>What am I doing wrong?</p>",
        "id": 544332496,
        "sender_full_name": "Thomas Preu",
        "timestamp": 1760199455
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"680252\">@Thomas Preu</span> firstly, use <code>#check</code> instead of <code>#eval</code></p>",
        "id": 544332757,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760199755
    },
    {
        "content": "<p>and then secondly, please inspect the result of <code>#check eq_zero_of_zpow_eq_zero</code>. your error suggests that it's simply due to misaligned arguments (i.e. maybe u mistook the second argument for the first argument, etc.)</p>",
        "id": 544332790,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760199790
    },
    {
        "content": "<p>zpow means internet exponent, not natural</p>",
        "id": 544333071,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760200031
    },
    {
        "content": "<p>*integer</p>",
        "id": 544333085,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760200053
    },
    {
        "content": "<p>Damnit autocorrect</p>",
        "id": 544333095,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760200064
    },
    {
        "content": "<p>Does <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=eq_zero_of_pow_eq_zero#doc\">docs#eq_zero_of_pow_eq_zero</a> exist?</p>",
        "id": 544333147,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760200110
    },
    {
        "content": "<p>I see, I misread the error</p>",
        "id": 544333160,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760200123
    },
    {
        "content": "<p>Nope</p>",
        "id": 544333164,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760200132
    },
    {
        "content": "<p>That's a 404</p>",
        "id": 544333174,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760200140
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> _ ^ (_ : Nat) = 0</p>",
        "id": 544333194,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760200159
    },
    {
        "content": "<p>Failure! Bot is unavailable</p>",
        "id": 544333216,
        "sender_full_name": "loogle",
        "timestamp": 1760200180
    },
    {
        "content": "<p>lol</p>",
        "id": 544333220,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760200185
    },
    {
        "content": "<p>I think it's just called <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=pow_eq_zero#doc\">docs#pow_eq_zero</a></p>",
        "id": 544333337,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760200301
    },
    {
        "content": "<p>here an example :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_contra</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>",
        "id": 544333389,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1760200353
    },
    {
        "content": "<p>I'm going to rename eq_zero_of_zpow_eq_zero to match</p>",
        "id": 544334318,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760201248
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30443\">#30443</a></p>",
        "id": 544334682,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760201612
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544333337\">said</a>:</p>\n<blockquote>\n<p>I think it's just called <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=pow_eq_zero#doc\">docs#pow_eq_zero</a></p>\n</blockquote>\n<p>First I tried pow_eq_zero, but VSCode put it in strike-through, told me it's deprecated and better use eq_zero_of_zpow_eq_zero.</p>",
        "id": 544334804,
        "sender_full_name": "Thomas Preu",
        "timestamp": 1760201709
    },
    {
        "content": "<p>Huh, that's really odd, pow_eq_zero doesn't seem to be deprecated</p>",
        "id": 544334850,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760201759
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"942100\">ecyrbe</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544333389\">said</a>:</p>\n<blockquote>\n<p>here an example :</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_contra</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Usually an implication can be applied like a function. Why is the apply tactic necessary here?<br>\nAnd thank you for showing a use case, that's very helpful.</p>",
        "id": 544335056,
        "sender_full_name": "Thomas Preu",
        "timestamp": 1760201966
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"680252\">Thomas Preu</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544335056\">said</a>:</p>\n<blockquote>\n<p>Usually an implication can be applied like a function. Why is the apply tactic necessary here?</p>\n</blockquote>\n<p>because you said apply, what do you mean?</p>",
        "id": 544335700,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760202563
    },
    {
        "content": "<p>it isn't strictly necessary</p>",
        "id": 544335707,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760202570
    },
    {
        "content": "<p><code>have := eq_zero_of_zpow_eq_zero h</code> would also work</p>",
        "id": 544335720,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760202584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"680252\">@Thomas Preu</span> in another thread <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> pointed out what the real error was, i didn't even notice it, you wrote in a proposition instead of the proof; in Lean the statement and the proof are two distinct things, e.g. <code>h : P</code> means that <code>h</code> is a proof of <code>P</code>, here <code>h</code> is the proof and <code>P</code> is the statement</p>",
        "id": 544336013,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760202903
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"680252\">Thomas Preu</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544332496\">said</a>:</p>\n<blockquote>\n<p><code>eq_zero_of_zpow_eq_zero ((2 : ℝ) ^ (3 : ℤ) = (0 : ℝ) : Prop)</code></p>\n</blockquote>\n<p>the <em>function</em> <code>eq_zero_of_zpow_eq_zero</code> eats in a proof of a proposition, so something like:</p>\n<p><code>eq_zero_of_zpow_eq_zero (h : (2 : ℝ) ^ (3 : ℤ) = (0 : ℝ))</code></p>",
        "id": 544336073,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760202961
    },
    {
        "content": "<p>notice how the statement appears to the right of the colon in my correct version and to the left of the colon in your version</p>",
        "id": 544336106,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760202979
    },
    {
        "content": "<p>(<a href=\"#narrow/channel/270676-lean4/topic/Confusing.20error.20message.3A.20a.20scaling.20problem/near/544335878\">here</a> is my message)</p>",
        "id": 544336159,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1760203035
    },
    {
        "content": "<p>to make it absolutely clearer what this error means, 37 is a natural number, in Lean we write <code>37 : Nat</code>, which means \"37 is a <em>term</em> of the type Nat\". if there's a function <code>Nat.fib : Nat -&gt; Nat</code>that takes in a natural number (i.e a term of type <code>Nat</code>), then it would be nonsense to write:<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> <code>Nat.fib (Nat : Type)</code><br>\nThe correct thing to write would be:<br>\n<span aria-label=\"check\" class=\"emoji emoji-2705\" role=\"img\" title=\"check\">:check:</span> <code>Nat.fib (37 : Nat)</code>.</p>",
        "id": 544336231,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760203121
    },
    {
        "content": "<p>Anyway, that's why your explicit example failed, but the zpow lemma was still the wrong one if your n is a natural number</p>",
        "id": 544336264,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760203148
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544336264\">said</a>:</p>\n<blockquote>\n<p>Anyway, that's why your explicit example failed, but the zpow lemma was still the wrong one if your n is a natural number</p>\n</blockquote>\n<p>I got to make it work using casts. It looks like this now:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h11</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h11</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"n\">h11a</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h11b</span>\n</code></pre></div>\n<p>Is this the way you are supposed to go about these type issues?</p>",
        "id": 544340674,
        "sender_full_name": "Thomas Preu",
        "timestamp": 1760207632
    },
    {
        "content": "<p>well you don't have to use the zpow lemma</p>",
        "id": 544340703,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760207661
    },
    {
        "content": "<p>Right, this is the straightforward solution:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h11</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">pow_eq_zero</span><span class=\"w\"> </span><span class=\"n\">h11</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n</code></pre></div>",
        "id": 544340783,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760207730
    },
    {
        "content": "<p>But also, if that's not an option and you want to use a result about integers, you generally would use the coercion rather than <code>Int.ofNat</code>, and your <code>apply h11</code> is hiding that it's relying on the fact that nonnegative integer powers are <em>defined as</em> natural powers, which is somewhat brittle. (This is \"definitional equality\" versus \"propositional equality\".) Compare:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h11</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ofNat_eq_coe</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">zpow_natCast</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h11</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"c1\">-- ^ No longer relying on the specific way integer powers are defined</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"n\">h11a</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h11b</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h11</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"c1\">-- ^ More typical way of writing the embedding of ℕ into ℤ</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">zpow_natCast</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h11</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"n\">h11a</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h11b</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h11</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">zpow_natCast</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h11</span>\n<span class=\"w\">  </span><span class=\"c1\">-- ^ Just shorter</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h11b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_zero_of_zpow_eq_zero</span><span class=\"w\"> </span><span class=\"n\">h11</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h11b</span>\n</code></pre></div>",
        "id": 544341187,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760208129
    },
    {
        "content": "<p>Thank you, these type casts still confuse me.<br>\nSo the upshot is that it works, because we coerce naturals to integers and because of the way powers over the integers are defined, right?<br>\nIf I had some (arbitrary) result over the rationals or reals, say, and would want to specialize to the natural numbers, it wouldn't work this way - or does it?</p>",
        "id": 544350526,
        "sender_full_name": "Thomas Preu",
        "timestamp": 1760216788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"680252\">@Thomas Preu</span> so, different types are distinct, period. however, sometimes there are standard functions to transport from one type to another. for the sake of confusion, let's call them <code>coe</code>. So for example you have <code>n : Nat</code>, and then you can have <code>coe n : Int</code>.</p>\n<p>Note, there is always a <em>function</em>, and it is always called <em>coe</em>, it is <strong>never</strong> <code>n : Int</code>.</p>\n<p>Now lean also does some magic to kinda hide it from you when you see it so that it doesn't clutter your view (lean hides a lot of things because otherwise each goal would be 10 pages long), so when you type <code>n : Int</code>, it does typecheck, and Lean automatically inserts the <code>coe</code>; and to help you out, Lean automatically prints a little uparrow, so you <em>see</em> it as <code>↑n : Int</code>.</p>",
        "id": 544350753,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217008
    },
    {
        "content": "<p>one code is worth a 1000 words, so:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c1\">-- ↑n : Int</span>\n</code></pre></div>",
        "id": 544350772,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217035
    },
    {
        "content": "<p>note again that there is always a function that you sometimes don't need to type, but that doesn't mean it's not there; that means that in other contexts it will fail, such as:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c1\">-- type mismatch</span>\n</code></pre></div>",
        "id": 544350906,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217128
    },
    {
        "content": "<p>this makes no sense to Lean because <code>Int</code> and <code>Nat</code> are never the same</p>",
        "id": 544350916,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217141
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544350906\">said</a>:</p>\n<blockquote>\n<p>in other contexts</p>\n</blockquote>\n<p>i.e. when it's in a \"binder\", i.e. when it's the variable in a forall or exists or etc, those can never be coerced (that's what \"coe\" stands for)</p>",
        "id": 544351056,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217256
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"680252\">Thomas Preu</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544350526\">said</a>:</p>\n<blockquote>\n<p>So the upshot is that it works, because we coerce naturals to integers and because of the way powers over the integers are defined, right?</p>\n</blockquote>\n<p>it's because of the way integers are defined, an integer is defined to be either <code>Int.ofNat n</code> for some <code>n : Nat</code>, or <code>Int.negSucc n</code> for some <code>n : Nat</code>, and \"these are the only ways you can build an integer\"</p>",
        "id": 544351188,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217356
    },
    {
        "content": "<p>because of the promise in the last part, to define a function with domain <code>Int</code>, you can split it into those two cases automatically</p>",
        "id": 544351221,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217377
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">negSucc</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"bp\">#</span><span class=\"n\">reduce</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n<span class=\"bp\">#</span><span class=\"n\">reduce</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">3</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 544351282,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217442
    },
    {
        "content": "<p>this is a specific property of <code>Int</code> that <strong>happens to be true</strong> because of how we've set things up; in other words, it's an \"implementation detail\", and not an inherently true mathematical property</p>",
        "id": 544351313,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217476
    },
    {
        "content": "<p>that's why we've said that it's bad to rely on this implementation detail</p>",
        "id": 544351352,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217496
    },
    {
        "content": "<p>the standard way to interact with an object is with theorems, and not with the underlying definition</p>",
        "id": 544351374,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217518
    },
    {
        "content": "<p>in the example above, the theorems you should use are:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ofNat</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">negSucc</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo_natCast</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo_neg_natCast</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">natCast_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">natCast_one</span><span class=\"o\">,</span>\n<span class=\"w\">      </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">negSucc_eq</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>",
        "id": 544351518,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217649
    },
    {
        "content": "<p>this is a more \"mathematical\" way to interact with integers</p>",
        "id": 544351530,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217661
    },
    {
        "content": "<p>the fact that negSucc exists is mathematically messy because it doesn't start at 0, so all our standard lemmas should use the standard forms instead, which are n and -n (that's how we mathematically think about natural numbers)</p>",
        "id": 544351581,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217695
    },
    {
        "content": "<p>Do I understand correctly that the theorems (usually) work via the coe functions?<br>\nI guess the rationals extend the naturals in a way, that includes the naturals just as an isomorphic (wrt. certain relevant structures) copy, but that does not literally contain the naturals in the same way as you explained above in the case of integers containing the natural numbers. Do I understand correctly that this is why theorems using coe would be needed to apply a result for rationals to natural numbers?</p>",
        "id": 544351677,
        "sender_full_name": "Thomas Preu",
        "timestamp": 1760217842
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"680252\">Thomas Preu</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20use.20.60eq_zero_of_zpow_eq_zero.60.3F/near/544351677\">said</a>:</p>\n<blockquote>\n<p>but that does not literally contain the naturals in the same way as you explained above in the case of integers containing the natural numbers.</p>\n</blockquote>\n<p>Now I'm worried you might have a misunderstanding about <em>how</em> the integers contain the naturals</p>",
        "id": 544351765,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760217949
    },
    {
        "content": "<p>that's partially correct, it's more accurate to say that we have certain \"standard forms\" of terms of given types; for <code>Int</code> the standard forms are <code>n</code> and <code>-n</code>, but for other types the standard forms can be different; for <code>Rat</code> the standard form would be <code>n / d</code> with <code>n : Int</code> and <code>d : Nat</code>; for <code>Real</code> there's no standard form (for set theory reasons) but you can have things like <code>Real.sqrt 2</code> etc.</p>",
        "id": 544351776,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760217959
    },
    {
        "content": "<p>for polynomials the standard form would be sums of <code>C r * X ^ n</code>, no <code>coe</code> anywhere</p>",
        "id": 544351818,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760218015
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"680252\">@Thomas Preu</span> in other words, certain types have standard constructors, i.e. IKEA instruction manuals to build terms of that type</p>",
        "id": 544352006,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760218233
    },
    {
        "content": "<p>for the simplest type Nat, you are given two tools, <code>Nat.zero</code> gives you a natural number that you call zero, and if you have a natural number already, you can keep apply <code>Nat.succ</code> to get a higher and higher natural number</p>",
        "id": 544352040,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760218268
    },
    {
        "content": "<p>without these tools you have no way to interact with every natural number</p>",
        "id": 544352066,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760218286
    },
    {
        "content": "<p>Can't you just square it?</p>",
        "id": 544401121,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1760276073
    },
    {
        "content": "<p>squaring works in any nontrivial ring, while eq_zero_of_zpow_eq_zero generalizes to reduced rings at best</p>",
        "id": 544401176,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1760276120
    },
    {
        "content": "<p>or units</p>",
        "id": 544401195,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1760276138
    }
]