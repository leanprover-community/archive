[
    {
        "content": "<p>Every time I've tried to update Lean and mathlib it has failed, even following various recipes I've found online.</p>\n<p>I just saw that video 4.11 is out <a class=\"stream-topic\" data-stream-id=\"113486\" href=\"/#narrow/stream/113486-announce/topic/v4.2E11.2E0\">#announce &gt; v4.11.0</a> and would like to update without having to rebuild from scratch and recopy my lean files from backup.</p>\n<p>I use VSC and the Lean extension.</p>\n<p>I have <strong>only two</strong> files in my GitHub from I believe the absolute <strong>minimum</strong>. ( I wish it was just one file referring to the lean version number and nothing else).</p>\n<p><strong>Question: What is the reliable and recommended way to update in VSC?</strong></p>\n<hr>\n<p>Here is my <code>makefile.lean</code></p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>import Lake\nopen Lake DSL\n\npackage «leantest» where\n  -- Settings applied to both builds and interactive editing\n  leanOptions := #[\n    ⟨`pp.unicode.fun, true⟩ -- pretty-prints `fun a ↦ b`\n  ]\n  -- add any additional package configuration options here\n\nrequire mathlib from git\n  \"https://github.com/leanprover-community/mathlib4.git\" @ \"v4.10.0\"\n\n\n@[default_target]\nlean_lib «Leantest» where\n  -- add any library configuration options here\n</code></pre></div>\n<hr>\n<p>Here is my <code>lean-toolchain</code></p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>leanprover/lean4:v4.10.0\n</code></pre></div>",
        "id": 474138435,
        "sender_full_name": "rzeta0",
        "timestamp": 1727821706
    },
    {
        "content": "<ol>\n<li>Change <code>@ \"v4.10.0\"</code> to <code>@ \"v4.11.0\"</code></li>\n<li>Run <code>lake update</code>. This should update the <code>lean-toolchain</code> for you, and fetch the new cache</li>\n</ol>",
        "id": 474138697,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1727821844
    },
    {
        "content": "<p>At that point, if you run <code>lake build</code>, it should only build your own code</p>",
        "id": 474138875,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1727821926
    },
    {
        "content": "<p>If it starts building mathlib, stop it and come back here to ask for more help</p>",
        "id": 474138913,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1727821952
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> - the last time I did this, it broke.</p>\n<p>Also can I check: shouldn't it be as simple as me changing 4.10 to 4.11 and the letting VSC handle the updating with no need for me to manually enter any commands into a terminal? I don't want to go under VSC and lead to an inconsistency.</p>",
        "id": 474139303,
        "sender_full_name": "rzeta0",
        "timestamp": 1727822166
    },
    {
        "content": "<p>just tried it - and this time it worked, no problems.</p>",
        "id": 475161279,
        "sender_full_name": "rzeta0",
        "timestamp": 1728260587
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 475161280,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728260592
    }
]