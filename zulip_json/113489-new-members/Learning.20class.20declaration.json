[
    {
        "content": "<p>I am trying to learn about class declaration and tried to define an Abelian group like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">AbGroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">HMul</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Inv</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">One</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">mul_assoc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">one_mul</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">mul_inv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"n\">mul_comm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x</span>\n</code></pre></div>\n<p>In the mul_assoc type, I get an error message saying</p>\n<blockquote>\n<p>typeclass instance problem is stuck, it is often due to metavariables<br>\n  HMul ?m.31 (?m.39 x y z) (?m.35 x y z)</p>\n</blockquote>\n<p>Could anyone help me understand why?</p>",
        "id": 554178250,
        "sender_full_name": "Luiz Kazuo Takei",
        "timestamp": 1762458873
    },
    {
        "content": "<p>Does it work with <code>∀ x y z : G, ...</code>?</p>",
        "id": 554178451,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1762458934
    },
    {
        "content": "<p>Yes, it does! Thanks!</p>",
        "id": 554178608,
        "sender_full_name": "Luiz Kazuo Takei",
        "timestamp": 1762459005
    },
    {
        "content": "<p>By the way, I read somewhere that I should avoid using the class <code>Mul</code> and instead use <code>HMul</code>. Is this correct?</p>",
        "id": 554178805,
        "sender_full_name": "Luiz Kazuo Takei",
        "timestamp": 1762459073
    },
    {
        "content": "<p>I'm not sure I'd agree with that</p>",
        "id": 554181447,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1762460016
    },
    {
        "content": "<p>But perhaps it was in a context where this was relevant</p>",
        "id": 554181511,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1762460037
    },
    {
        "content": "<p>It must be an AI hallucination then... :P I believe it even said that Mul was deprecated and was there only to be compatible with Lean 3.</p>\n<p>Thanks for clarifying it.</p>",
        "id": 554181993,
        "sender_full_name": "Luiz Kazuo Takei",
        "timestamp": 1762460212
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Group#doc\">docs#Group</a></p>",
        "id": 554204976,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762470335
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Semigroup#doc\">docs#Semigroup</a></p>",
        "id": 554205042,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762470368
    },
    {
        "content": "<p>Yeah mathlib's <code>Group</code> extends <code>Semigroup</code> (via <code>Monoid</code> etc) and <code>Semigroup</code> uses <code>Mul</code>.</p>",
        "id": 554205158,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762470421
    }
]