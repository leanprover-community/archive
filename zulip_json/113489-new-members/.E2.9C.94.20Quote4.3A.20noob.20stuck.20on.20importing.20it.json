[
    {
        "content": "<p>New to Lean; new to Zulip; keen to get coding; know ECC+inductive types, Haskell, some proof theory.  I've got so far with manually creating and mungeing Exprs but Quote4 sounds a lot better.  I've tried a number of ways of getting it imported.  Any guidance much appreciated!</p>",
        "id": 472583003,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217059
    },
    {
        "content": "<p>Do you have a project created? Can you show the contents of your <code>lakefile.lean</code>?</p>",
        "id": 472583168,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217159
    },
    {
        "content": "<p>I've tried inserting <code>require quote4 from git \"https://github.com/leanprover-community/quote4\" @ \"main\"</code> but lake really doesn't seem to like it</p>",
        "id": 472583226,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217201
    },
    {
        "content": "<p>oh thanks Julian: yes I've a project and here's the lakefile in entirety<br>\n<a href=\"/user_uploads/3121/43Q6T3lwi5bk1G3XG3WR47le/lakefile.lean\">lakefile.lean</a></p>",
        "id": 472583280,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217242
    },
    {
        "content": "<p>it's short and the upload is clumsy:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lake</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">DSL</span>\n\n<span class=\"n\">package</span><span class=\"w\"> </span><span class=\"s2\">\"LaxLogic\"</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">v!</span><span class=\"s2\">\"0.1.0\"</span>\n<span class=\"w\">  </span><span class=\"n\">keywords</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"s2\">\"math\"</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">leanOptions</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span>\n<span class=\"w\">    </span><span class=\"bp\">⟨</span><span class=\"ss\">`pp.unicode.fun</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"c1\">-- pretty-prints `fun a ↦ b`</span>\n<span class=\"w\">  </span><span class=\"o\">]</span>\n\n<span class=\"n\">require</span><span class=\"w\"> </span><span class=\"s2\">\"leanprover-community\"</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"s2\">\"mathlib\"</span>\n<span class=\"c1\">-- require quote4 from git \"https://github.com/leanprover-community/quote4\" -- @ \"main\"</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">default_target</span><span class=\"kd\">]</span>\n<span class=\"n\">lean_lib</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">LaxLogic</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"c1\">-- add any library configuration options here</span>\n</code></pre></div>",
        "id": 472583346,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217283
    },
    {
        "content": "<p>btw also want to explore SlimCheck and similarly haven't got a way yet of importing it</p>",
        "id": 472583454,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217356
    },
    {
        "content": "<p>The default branch name seems to be <code>master</code> for one</p>",
        "id": 472583544,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217414
    },
    {
        "content": "<p>And you have to use the package name it looks like, not the repo name, so <code>Qq</code></p>",
        "id": 472583588,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217465
    },
    {
        "content": "<p>So the two of those together means here it looks like <code>require Qq from git \"https://github.com/leanprover-community/quote4\"  @ \"master\"</code> works</p>",
        "id": 472583599,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217478
    },
    {
        "content": "<p>But probably <code>require \"leanprover-community\" / \"quote4\"</code> will too, let's see.</p>",
        "id": 472583647,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217492
    },
    {
        "content": "<p>yes, perhaps that's required, ach should have thought of that. yes first seems to work.  Second I'm going to test...</p>",
        "id": 472583938,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217709
    },
    {
        "content": "<p>No it seems not, which is slightly surprising, I guess I don't really understand the new reservoir syntax. <code>require Qq</code> (with nothing else) works, but then produces an error message when you try to use the package.</p>",
        "id": 472583996,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217729
    },
    {
        "content": "<p>But yeah the <code>from git</code> syntax appears to work.</p>",
        "id": 472584015,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727217748
    },
    {
        "content": "<p>ok right.  I've learned a lot in the last 10 minutes.  Cheers Julian!</p>",
        "id": 472584050,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727217782
    },
    {
        "content": "<p>in trying it out though, the README examples don't all work, it seems </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">betterApp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)}</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">((</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">α</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">   </span><span class=\"n\">q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>has an issue with the type of f and reports: unsupported implicit auto-bound: α is not a level name<br>\nI'm also completely new to Lean language configuration; so perhaps I have to ask for implicit auto-bounds?  Or it may be a Qq bug or version issue.</p>",
        "id": 472586052,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727219115
    },
    {
        "content": "<p>I don't really know anything at all about Qq, but I see the version in the <a href=\"https://github.com/leanprover-community/quote4/blob/2c8ae451ce9ffc83554322b14437159c1a9703f9/examples/betterApp.lean\">examples directory</a> differs from the README in slight ways.</p>\n<p>That version seems to work here.</p>",
        "id": 472586932,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727219712
    },
    {
        "content": "<p>I don't see an open PR fixing the README, so maybe you should wait for <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> or Kim to chime in and confirm whether a small fix PR is welcome, both of whom I know know all about Quote4, probably one is though if you care to.</p>",
        "id": 472587065,
        "sender_full_name": "Julian Berman",
        "timestamp": 1727219798
    },
    {
        "content": "<p>oh thanks so much; I clearly have a lot to learn about the social aspects here, I did raise a PR after all.   You've been kind.</p>",
        "id": 472587603,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727220205
    },
    {
        "content": "<p>Doc PRs are definitely welcome, and will be reviewed if you ping me enough</p>",
        "id": 472588572,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727220958
    },
    {
        "content": "<p>The working version is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Qq</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Qq</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">betterApp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)}</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">((</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">α</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">   </span><span class=\"n\">q</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">a</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>with one more dollar</p>",
        "id": 472588700,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727221065
    },
    {
        "content": "<p>worth more than a dollar to me!</p>",
        "id": 472589360,
        "sender_full_name": "Matthew Fairtlough",
        "timestamp": 1727221588
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"759359\">Matthew Fairtlough</span> has marked this topic as resolved.</p>",
        "id": 473371820,
        "sender_full_name": "Notification Bot",
        "timestamp": 1727547503
    }
]