[
    {
        "content": "<p>I am trying to prove something very simple and I stumbled upon the following \"result\":</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">what</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">linarith</span>\n</code></pre></div>\n<p>This seems like a contradiction to me because if <code>N = 1</code> and <code>b = 1</code> this would imply <code>-1 ≥ 0</code>. Am I misunderstanding something?</p>",
        "id": 490122656,
        "sender_full_name": "Maris Ozols",
        "timestamp": 1734686436
    },
    {
        "content": "<p>It's because <code>Nat</code> subtraction stops at 0.</p>",
        "id": 490123102,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1734686609
    },
    {
        "content": "<p>OK, thanks.</p>",
        "id": 490123603,
        "sender_full_name": "Maris Ozols",
        "timestamp": 1734686800
    },
    {
        "content": "<p>If you use naturals you'll get results in naturals, whether you like it or not. If you want negative numbers as outputs, you can use integers, and if you want some of them to be non-negative you can just put <code>a &gt;= 0</code> as a hypothesis. This is a common beginner \"gotcha\", that <code>0 - 1 =0</code> for naturals. It's because the type of subtraction is <code>A -&gt; A -&gt; A</code>, i.e. if you give it two naturals it must return a natural. Note that division is equally weird -- <code>5 / 2 = 2</code> for example, for the same reason. If you want a working division as well then use rationals.</p>",
        "id": 490139076,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734692668
    },
    {
        "content": "<p>Also note that if you have natural numbers <code>a,b</code>, you can still subtract them and get an integer by explicity annotating the type as <code>(a - b : ℤ)</code>, <code>(a : ℤ) - b</code> or <code>a - (b : ℤ)</code> - in all three cases, <code>a</code> and <code>b</code> will both get converted to integers before the subtraction happens. So you don't need to already have integers if you want integer subtraction, you just need to tell lean at some point that you don't want to stay in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span></span></span></span>.</p>",
        "id": 490145468,
        "sender_full_name": "Ben Eltschig",
        "timestamp": 1734695095
    }
]