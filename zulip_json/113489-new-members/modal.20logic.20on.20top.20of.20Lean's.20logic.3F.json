[
    {
        "content": "<p>I was wondering if it's possible to prove theorems of modal logic by defining necessity as an opaque function with the type <code>Prop â†’ Prop</code> and adding axioms like so:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">Necessary</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">notation</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\"â–¡\"</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"mi\">40</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Necessary</span><span class=\"w\"> </span><span class=\"n\">p</span>\n\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">necessitation</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"bp\">â–¡</span><span class=\"n\">A</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">distribution</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">â–¡</span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">â–¡</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"bp\">â–¡</span><span class=\"n\">B</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>However, my understanding of necessitation is that it's a kind of meta-logical rule, saying that if a theory entails <code>A</code>, then it also entails <code>â–¡A</code>, which is technically different from saying \"this theory entails the implication <code>A â†’ â–¡A</code>\". Otherwise necessitation would imply modal axiom 4.</p>\n<p>Does this mean that the only way to prove anything about modal logic in Lean is to define a notion of logical system from scratch, like in <a href=\"https://github.com/FormalizedFormalLogic/Foundation\">https://github.com/FormalizedFormalLogic/Foundation</a>? Or is there some part of modal logic that can be formalized the \"easy way\" by simply adding axioms on top of Lean's logical system?</p>",
        "id": 491675276,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1735857507
    },
    {
        "content": "<p>I suppose you could add another function <code>Provable</code> and then the axioms become</p>\n<div class=\"codehilite\" data-code-language=\"import\"><pre><span></span><code>opaque Necessary (A : Prop) : Prop\nopaque Provable (A : Prop) : Prop\n\nnotation:max \"â–¡\" p:40 =&gt; Necessary p\nnotation:max \"âŠ¢\" p:40 =&gt; Provable p\n\naxiom necessitation {A : Prop} : âŠ¢ A â†’ âŠ¢ â–¡A\naxiom distribution {A B : Prop} : âŠ¢ (â–¡(A â†’ B) â†’ (â–¡A â†’ â–¡B))\n</code></pre></div>\n<p>But this is really just a toy setup because it allows you to express undesired things like <code>  â–¡(âŠ¢A)</code>,<br>\nand doesn't allow for negative result like \"S4 doesn't imply S5\".</p>",
        "id": 491682964,
        "sender_full_name": "BjÃ¸rn Kjos-Hanssen",
        "timestamp": 1735862525
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"380294\">Matt Diamond</span> <a href=\"#narrow/channel/113489-new-members/topic/modal.20logic.20on.20top.20of.20Lean's.20logic.3F/near/491675276\">said</a>:</p>\n<blockquote>\n<p>I was wondering if it's possible to prove theorems of modal logic by defining necessity as an opaque function with the type <code>Prop â†’ Prop</code> and adding axioms like so:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">Necessary</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">notation</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\"â–¡\"</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"mi\">40</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Necessary</span><span class=\"w\"> </span><span class=\"n\">p</span>\n\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">necessitation</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"bp\">â–¡</span><span class=\"n\">A</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">distribution</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">â–¡</span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">â–¡</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"bp\">â–¡</span><span class=\"n\">B</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>However, my understanding of necessitation is that it's a kind of meta-logical rule, saying that if a theory entails <code>A</code>, then it also entails <code>â–¡A</code>, which is technically different from saying \"this theory entails the implication <code>A â†’ â–¡A</code>\". Otherwise necessitation would imply modal axiom 4.</p>\n<p>Does this mean that the only way to prove anything about modal logic in Lean is to define a notion of logical system from scratch, like in <a href=\"https://github.com/FormalizedFormalLogic/Foundation\">https://github.com/FormalizedFormalLogic/Foundation</a>? Or is there some part of modal logic that can be formalized the \"easy way\" by simply adding axioms on top of Lean's logical system?</p>\n</blockquote>\n<p>My fuzzy understanding is that this cannot be done precisely because of the trouble with necessitation that you point out. There are type-theoretic renderings of modal logic, but all the ones I know involve some kind of extension of the system. A nice paper in this area is <a href=\"https://arxiv.org/pdf/1710.08326\">Fitch-Style Modal Lambda Calculi</a>. It's simply-typed, but this approach has been extended to DTT.</p>",
        "id": 491796668,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1735930005
    },
    {
        "content": "<p>Do we have anything about Kripke semantics in Mathlib? I've been playing around with Kripke Frames/Models in Lean, deriving various \"axioms\" from frame conditions, and it's been pretty easy to work with so far</p>",
        "id": 491837631,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1735957638
    },
    {
        "content": "<p>Not in Mathlib, but in <a href=\"https://formalizedformallogic.github.io/Foundation/docs/Logic/Logic/Kripke/Basic.html#LO.Kripke.Frame\">FormalizedFormalLogic</a>.</p>",
        "id": 491839165,
        "sender_full_name": "Miyahara KÅ",
        "timestamp": 1735959169
    },
    {
        "content": "<p>Ah okay, I'll take a look there. Thanks!</p>",
        "id": 491839309,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1735959321
    }
]