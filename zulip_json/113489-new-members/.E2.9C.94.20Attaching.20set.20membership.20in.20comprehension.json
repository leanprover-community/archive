[
    {
        "content": "<p>I'm trying my hand at formalising my topology textbook as an exercise. In doing so I want to express the fact that arbitrary intersections of closed sets are closed. My attempt at doing so stranded at:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">intersection_of_closed_sets_is_closed</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">isClosed</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">isClosed</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⋂₀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">complements</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>where I want to continue by \"mapping\" the definition of <code>isClosed</code> (namely that the complement satisfies the ambient <code>isOpen</code> proposition) over this set of complements of closed sets.</p>\n<p>How can I go about constructing the set that contains the complements of sets in <code>S</code> along with a proof that the original values are elements of <code>S</code>? I.e., a value of type <code>Set (Σ (C: Set X) (C ∈ S))</code>? Or is there a better / more suitable way to show the property I want? Please feel free to \"X/Y problem\" me here.</p>",
        "id": 521602215,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748812646
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"819173\">@Simeon Duwel</span> It should be <code>∪₀ complements</code></p>",
        "id": 521602975,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748813105
    },
    {
        "content": "<p>I don't think I quite understand what you mean. The way I'd like to prove the statement is indeed by using the fact that the union of complements of these closed sets is equal to the complement of the intersection of all the closed sets (by De Morgan); but surely i need the fact that the union of the complements of closed sets is a union of opens and hence open? And for that I need the fact that every one of those individual complements is itself open, for which I need to use the property that all sets <code>C ∈ S</code> are closed.</p>",
        "id": 521603769,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748813589
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"819173\">@Simeon Duwel</span> in particular, <code>Set.sInter_eq_compl_sUnion_compl</code> seems to be the one you want? It says <code>⋂₀ S = (⋃₀ (compl '' S))ᶜ</code>. Maybe I'm misunderstanding you here. You already know that all <code>C ∈ S</code> are closed, because that's one of your assumptions and you call it <code>h</code>. I don't think there's a need to bundle it in an object in any way, unless you want to define the type <code>Open X</code> and <code>Closed X</code> separately, containing sets that are open and closed respectively in <code>X</code>.</p>\n<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> \"union\", \"compl\", \"inter\"</p>",
        "id": 521608047,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748816520
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Set/Basic.html#Set.inter_union_compl\">Set.inter_union_compl</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Set/Basic.html#Set.inter_eq_compl_compl_union_compl\">Set.inter_eq_compl_compl_union_compl</a>, and <a href=\"https://loogle.lean-lang.org/?q=%22union%22%2C%20%22compl%22%2C%20%22inter%22\">10 more</a></p>",
        "id": 521608100,
        "sender_full_name": "loogle",
        "timestamp": 1748816532
    },
    {
        "content": "<blockquote>\n<p>How can I go about constructing the set that contains the complements of sets in <code>S</code> along with a proof that the original values are elements of <code>S</code>?</p>\n</blockquote>\n<p>What's wrong with <code>let complements := {Cᶜ | C ∈ S}</code>? Is your question about deriving the proof that the complements of the complements are elements of S?</p>",
        "id": 521609514,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748817505
    },
    {
        "content": "<p>The concrete issue I'm hitting upon, I suppose, is taking the info that elements of <code>S</code> are closed into account. Indeed, using the lemma <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span>  mentioned, I can rework the goal to <code>isOpen (⋃₀ (compl '' S))ᶜᶜ</code> which I suppose I can easily rewrite further to <code>isOpen (⋃₀ (compl '' S))</code> (though I haven't found yet how to do that). But how can I use the knowledge that all elements of <code>S</code> are closed? I obviously want to use that, in order to apply the rule I defined in my <code>Topology</code> typeclass that allows me to conclude that arbitrary unions of opens are open, but I don't know where I can \"squeeze in\" that information, if that makes sense?</p>",
        "id": 521610020,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748817893
    },
    {
        "content": "<p>For completeness' sake, here is my current code:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">intersectionClosed</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">isClosed</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">isClosed</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⋂₀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">complements</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⋃₀</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">compl</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">sInter_eq_compl_sUnion_compl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">complementClosedEquivOpen</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>where <code>complementClosedEquivOpen</code> is the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">complementGeslotenClosedOpen</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">isClosed</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">isOpen</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"bp\">ᶜ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">C</span>\n<span class=\"w\">  </span><span class=\"n\">constructor</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hP</span>\n<span class=\"w\">    </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">isClosed</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hP</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hP</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hQ</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">isClosed</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hQ</span>\n</code></pre></div>\n<p>and <code>isClosed</code> is simply <code>def isClosed (C: Set X) : Prop :=  isOpen Cᶜ</code>.</p>",
        "id": 521610250,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748818053
    },
    {
        "content": "<p>could you post a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>? I can't open that in the playground</p>",
        "id": 521610401,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748818156
    },
    {
        "content": "<p>sure, but all names will be in Dutch (I've been translating them on the fly as I've been typing it in here haha), though it should be obvious from context what everything means normally</p>\n<p>here's a <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0B5KAEwFMocBlYmAOQhhWAgDsAoUSWRFDbHAERRIKVHACEkAZ2ABjNuGjxkaTLgH1hMHABkUMGcRYQwxJnEowWLALRW4fYgDNgTYHuJwAjDi9eW09JIScAAqRhDoEADmwO4AFAAaAFwhAJ7GAJRwAO6opAZwcMASeMZMyeZw8XCASYRwAApQRpYFRSUmAPoAri4AbqQSnSDJraVw3cA9LC3Fpe3oxMSRwzMmcICgRM2FK0zthBDQEkzEJMmAAERwAKpwAGoANFttple1I6vXNQ+jsVeAlEQ36VNPh1xsQzmZ7rFzsE4IAIInBQNMwUyL22cFigGGiQABBGYASwSA4QmEItFiDgjCYggBvJKpYwAXzgAG1QpBiTFKgBdODlKhoirxTKJAC8gIkVDwBJZ4SiMRwr1YLB6SCgwCQWHmcEplWSwTS7jpiuVqvV7mZRJl7niHMs+IR3LMvKqtQaRm5QsJrItcu2lhsIVIIGc0pJnm8OAALDg8Y4tgBxYgSCIwVaxADCPPgAvtLrAbsB8rgqcAObiWNDEaDEEBwaQQcDzEAmGDxxN0EwAUQAjp0Jo8wemHZn7kVm0nVqm4IAUwjtxbdcCwKXzTBgjULgJrTAky860hg0EBAHbCkuV6g6oCCt0HOFCHGE6PTCg4Kfz3BiAAPJA7p9ngqH5zLiAnwARRfKAsiZYc71bJhrQKAp30/eBUBA6xbC0SsQCQUMvAAVijFgywrKs9gOI4SBHaD7XOcgMz5R10ghc5xzhcghwkCjk1MVNkVvFtOLRQAhomxchBXdedFwAswn0BeZ4BrOtK0bVZhTgLEzDlTDIjifciwBAowKZcwcAkABJJdSHaYgO3aeSwHQdoJAuFxmBs2s7PuWz60bDj2y7HtSmtUVoCgFIgA\">Playground link</a></p>",
        "id": 521610585,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748818300
    },
    {
        "content": "<p>well, here's one way to solve it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">doorsnedeGesloten</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">isGesloten</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">isGesloten</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⋂₀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">sInter_eq_compl_sUnion_compl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">complementGeslotenEquivOpen</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">compl_compl</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Topologie</span><span class=\"bp\">.</span><span class=\"n\">isOpen_unie</span>\n<span class=\"w\">  </span><span class=\"n\">simpa</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>",
        "id": 521611592,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748818989
    },
    {
        "content": "<p><code>simpa</code> feels like cheating, but it's a very powerful tactic</p>",
        "id": 521611625,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748819013
    },
    {
        "content": "<p>I wouldn't say it's cheating, more like magic hahahah</p>",
        "id": 521611727,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748819074
    },
    {
        "content": "<p>it says \"simplify the goal, simplify <code>h</code>, and then do <code>exact h</code>\"</p>",
        "id": 521611738,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748819079
    },
    {
        "content": "<p>anyway, the point is that by rewriting with <code>compl_compl</code> and then applying <code>Topologie.isOpen_unie</code>, you're basically there</p>",
        "id": 521611837,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748819152
    },
    {
        "content": "<p>Oooh, that sounds useful across the board. In fact, I think there's a few spots in the code I already had where it would come in handy. In any case, thanks a ton! Time and time again I am amazed by the welcoming nature of this community and the readiness to help beginners.</p>",
        "id": 521611910,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748819179
    },
    {
        "content": "<p>I'm not sure if that really answers your question, since I think you were trying to solve it from a different angle</p>",
        "id": 521611911,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748819179
    },
    {
        "content": "<p>oh sure, no problem! happy to help</p>",
        "id": 521611939,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748819198
    },
    {
        "content": "<blockquote>\n<p>I think you were trying to solve it from a different angle</p>\n</blockquote>\n<p>Kind of, yeah, but as a beginner it's very easy to get stuck in thinking a particular way of writing a proof is the most obvious route, whereas people with more experience know of the more idiomatic / appropriate approaches.</p>",
        "id": 521612007,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748819256
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"819173\">@Simeon Duwel</span> well I think it might also be useful to try the low-level approach first, in some situations</p>",
        "id": 521612681,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748819711
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"819173\">@Simeon Duwel</span> <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0B5KAEwFMocBlYmAOQhhWAgDsAoUSWRFDbHAERRIKVHACEkAZ2ABjNuGjxkaTLgH1hMHABkUMGcRYQwxJnEowWLALRW4fYgDNgTYHuJwAjDi9eW09JIScAAqRhDoEADmwO4AFAAacABcIQCexgCUcADuqKQGcHDAEnjGTCnmcImASYRwAApQRpaFxaUmAPoAri4AbqQSnSAprWVw3cA9LC0lZe3oxMSRwzMmcICgRM1FK0zthBDQEkzEJCmAAERwAKpwAGoANFttple1I6vXcC/bcLFXgJRENxkpg9ZuNiGczPdYudgnBABBEEOBq2CWU+j2+gGGiQABBGZASwSA4QmEItFiDgjCYggBveIpYLpYgAXzgAG1QpBiTEqgBdZJmKjfSrxLJJAC8QIkVDwBLZ4SiMRwr1YLB6SCgwCQWHmcGpvLpxgZytV6s17lZRLl7niXMs5NMMo5BmstmCpBAzllJM83hwABYcHjHFsAOLECQRGCrWIAYV5guF9UaYGSYumaKjgBzcSxoYjQYggODSCDgeYgEwwENhugmACiAEdOhNHuCYxV+fF7sUK+HVjHACmEiNMGeTcCwqSBzhgjTgUaBhaYEknnWkMGgQIA7UUmJOIHBUHUgYVug5woRg6Hu6YULv94VCsQAB5IZfX9eb7e7gCKB7gUGyLM755Vkw1q3nAD5PvAqBfk6cBaHmIBIF6XgAKz+tmub5nsBxHCQXZAby5zkLG/KxHGkLnDG8LkB2Eh4RGg4omelb0d8gBDRNi5DCiKI5ji0W5TkRqBAvM8CFsWeZlqsopwFiZgKghkRxGu6aAoUv4suYOASAAklupDtMQtbtGJYDoO0EgXC4zDGUWpn3CZJZlnRNb1o2ZQgT+f7Mg5NnFh5SBgKZqQDl0LgFG+U4wqgFhqdIkihru8DZK4qBwIAF+QXPcqCdIAgQRZZ0gBBBIAl+RAupzKAAmEu6Ff5gXoMFQl3o+z7ZTlQA\">here</a> is the low-level solution</p>",
        "id": 521613229,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748820075
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- Lemma 1.1.5.</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">doorsnedeGesloten</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">isGesloten</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">isGesloten</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⋂₀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">complementen</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⋃₀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·ᶜ</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">sInter_eq_compl_sUnion_compl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">complementGeslotenEquivOpen</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">compl_compl</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">isOpen_unie</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n<span class=\"w\">  </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">U</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hu₁</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hu₂</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">hu₂</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hu₁</span>\n</code></pre></div>",
        "id": 521613241,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748820084
    },
    {
        "content": "<p>(just to be clear, <code>let complementen := ⋃₀ S.image (·ᶜ)</code> is not necessary in that solution either)</p>",
        "id": 521613344,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1748820155
    },
    {
        "content": "<p>you are both wonderful people, thank you so much!<br>\nit turns out learning Lean in the exam period is a bit too good of a distraction hahaha</p>",
        "id": 521613396,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748820200
    },
    {
        "content": "<p>(that is to say, I lost track of time and suddenly it's 1:30am <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>)</p>",
        "id": 521613651,
        "sender_full_name": "Simeon Duwel",
        "timestamp": 1748820378
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"819173\">Simeon Duwel</span> has marked this topic as resolved.</p>",
        "id": 521675814,
        "sender_full_name": "Notification Bot",
        "timestamp": 1748851603
    }
]