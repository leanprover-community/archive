[
    {
        "content": "<p>So it seems that I'm stuck in coercion hell again.</p>\n<p>Defining falling/lower factorials:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Int</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Finset</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">fallfac</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∏</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Simple property of factorials:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">fac_as_prod</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">factorial</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∏</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction'</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">IH</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">factorial_succ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">prod_range_succ</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">IH</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">ring</span>\n</code></pre></div>\n<p>Now trying to prove that factorials are falling factorials:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">fac_as_fallfac</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">factorial</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">fallfac</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">fallfac</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">fac_as_prod</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"c1\">-- trying to do rw [Finset.prod_range_reflect]</span>\n<span class=\"w\">  </span><span class=\"c1\">-- this has the form ∏ j ∈ Finset.range n, f (n - 1 - j) = ∏ j ∈ Finset.range n, f j</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">ring</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>But the rewrite doesn't work...</p>",
        "id": 547000821,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761340617
    },
    {
        "content": "<p>the proof state at this rewrite is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span>\n<span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">}),</span><span class=\"w\"> </span><span class=\"bp\">↑↑</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"bp\">↑↑</span><span class=\"n\">i</span><span class=\"o\">)</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"bp\">∏</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∏</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">i</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 547000894,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761340668
    },
    {
        "content": "<p>and the error says</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">rewrite'</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">did</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">pattern</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">expression</span>\n<span class=\"w\">  </span><span class=\"bp\">↑↑?</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>",
        "id": 547000914,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761340680
    },
    {
        "content": "<p>What I'm trying to do is to get the <code>(↑i + 1)</code> inside the  product converted into <code>(n : ℤ) - (n - 1 - i)</code> in order to then fall into the pattern of <code>Finset.prod_range_reflect</code></p>",
        "id": 547001022,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761340748
    },
    {
        "content": "<p>Is there a reason you wrote <code>have h (i : range n)</code>?</p>",
        "id": 547001359,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1761340948
    },
    {
        "content": "<p>Something with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hi</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>\n<p>might work better</p>",
        "id": 547001418,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1761340986
    },
    {
        "content": "<p>oh, because if i write <code>(i : range n)</code> then i also has some proof in it?</p>",
        "id": 547001610,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341115
    },
    {
        "content": "<p>that's a very good point</p>",
        "id": 547001614,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341121
    },
    {
        "content": "<p>still it's weird that it fails at using <code>h</code> as opposed to proving <code>h </code></p>",
        "id": 547001642,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341142
    },
    {
        "content": "<p>weird, that doesn't seem to work</p>",
        "id": 547001713,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341196
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">synthesize</span>\n<span class=\"w\">  </span><span class=\"n\">Membership</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ℤ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 547001733,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341208
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"375375\">Darij Grinberg</span> <a href=\"#narrow/channel/113489-new-members/topic/.5CN.20to.20.5CZ.20again/near/547001642\">said</a>:</p>\n<blockquote>\n<p>still it's weird that it fails at using <code>h</code></p>\n</blockquote>\n<p><code>i : range n</code> doesn't mean what you think it means (not really sure what you expected it to mean in the first place)</p>",
        "id": 547001898,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761341324
    },
    {
        "content": "<p>i've replaced it by <code>i : \\N</code> now</p>",
        "id": 547001986,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341384
    },
    {
        "content": "<p>same problem</p>",
        "id": 547002001,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341394
    },
    {
        "content": "<p>oh fuck, i've gotten my Ns and Zs confused :/</p>",
        "id": 547002158,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341484
    },
    {
        "content": "<p>also there is both <code>Int.range</code> and <code>Finset.range</code> and i suspect you're using the wrong one</p>",
        "id": 547002358,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761341612
    },
    {
        "content": "<p>aaargh thank you!</p>",
        "id": 547002369,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341620
    },
    {
        "content": "<p>maybe i should be doing <code>Int.range</code> in the first place</p>",
        "id": 547002440,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341672
    },
    {
        "content": "<p>if there are bigops over that</p>",
        "id": 547002454,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761341682
    },
    {
        "content": "<p>OK, my next approach is failing to rewrite something under a product sign</p>",
        "id": 547003314,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342236
    },
    {
        "content": "<p>I guess this is what the <code>conv</code> mode is for, but what is the right command?</p>",
        "id": 547003337,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342247
    },
    {
        "content": "<p>the pattern I'm looking for is: rewrite the factor of an indexed product using a hypothesis applied to something that requires the index to satisfy the condition under the product sign</p>",
        "id": 547003526,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342386
    },
    {
        "content": "<p>(it doesn't suffice that the index merely belongs to the right type)</p>",
        "id": 547003544,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342393
    },
    {
        "content": "<p>rw cannot rewrite under the binder, and simp can</p>",
        "id": 547003723,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761342463
    },
    {
        "content": "<p>yeah, but this is not a <code>simp</code> rule</p>",
        "id": 547003833,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342534
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span>\n<span class=\"n\">hdiff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"bp\">∏</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∏</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>This is what I'm failing to do...</p>",
        "id": 547003871,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342554
    },
    {
        "content": "<p>OK, maybe the problem is it's not syntactic</p>",
        "id": 547003976,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342607
    },
    {
        "content": "<p>yeah... had to use <code>Finset.prod_congr</code></p>",
        "id": 547004123,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761342704
    },
    {
        "content": "<p>indeed simp cannot automatically guess the assumptions needed</p>",
        "id": 547004165,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761342725
    },
    {
        "content": "<p>because they're hidden under the binder</p>",
        "id": 547004179,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761342734
    },
    {
        "content": "<p><code>simp +contextual</code> will use hypotheses inside binders</p>",
        "id": 547005010,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761343318
    },
    {
        "content": "<p>What are binders? Are they related to bound variables?</p>",
        "id": 547006298,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761344249
    },
    {
        "content": "<p>btw just in case OP is not familiar with these:</p>\n<ul>\n<li><code>fallfac</code>: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.descFactorial_eq_prod_range#doc\">docs#Nat.descFactorial_eq_prod_range</a></li>\n<li><code>fac_as_prod</code>: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.factorial_eq_prod_range_add_one#doc\">docs#Nat.factorial_eq_prod_range_add_one</a></li>\n<li><code>fac_as_fallfac</code>: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.descFactorial_self#doc\">docs#Nat.descFactorial_self</a></li>\n</ul>",
        "id": 547006575,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761344508
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/113489-new-members/topic/.5CN.20to.20.5CZ.20again/near/547006298\">said</a>:</p>\n<blockquote>\n<p>What are binders? Are they related to bound variables?</p>\n</blockquote>\n<p>yes, like <code>∃ x, x = 3</code> introduces a new bound variable <code>x</code>, so <code>∃</code> is a binder</p>",
        "id": 547007462,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761345250
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"933054\">@Snir Broshi</span> Thanks, but the links don't seem to open?</p>",
        "id": 547008621,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761346324
    },
    {
        "content": "<p>oh they do, just slowly</p>",
        "id": 547008654,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761346348
    },
    {
        "content": "<p>anyway, good point, but these are in \\N, with the saturated \\N-subtraction</p>",
        "id": 547008722,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761346398
    },
    {
        "content": "<p>I want \\Z</p>",
        "id": 547008724,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761346400
    },
    {
        "content": "<p>So, after all the torture with Nat.sub and <a href=\"http://Finset.prod\">Finset.prod</a>, proving Pascal's recursion (for lower factorials) was easy...</p>",
        "id": 547010673,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761348023
    },
    {
        "content": "<p>( <a href=\"https://gist.github.com/darijgr/cda322003b5a89ca2bc3b2a4a885f1ac\">https://gist.github.com/darijgr/cda322003b5a89ca2bc3b2a4a885f1ac</a> )</p>",
        "id": 547010736,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761348083
    },
    {
        "content": "<p>(this is a stream of consciousness by design, i'm preparing a talk in case we don't find any experts for the Lean club here)</p>",
        "id": 547010777,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761348127
    },
    {
        "content": "<p>anyway lots of stuff to fix there, still some intfacs left over</p>",
        "id": 547010944,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761348271
    },
    {
        "content": "<p>Descending factorials are expressed as evaluations of descending Pochhammer polynomials. Some of it is in RingTheory/Binomial.</p>",
        "id": 547045460,
        "sender_full_name": "Scott Carnahan",
        "timestamp": 1761386652
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"630477\">Scott Carnahan</span> oh, that's very much what I was looking for! thank you!</p>",
        "id": 547056015,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761397182
    }
]