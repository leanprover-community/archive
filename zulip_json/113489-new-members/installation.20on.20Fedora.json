[
    {
        "content": "<p>Hi All, <br>\ntest. Do you see my message?</p>",
        "id": 271582224,
        "sender_full_name": "mario",
        "timestamp": 1644588840
    },
    {
        "content": "<p>Hi <br>\nlean newbie here.<br>\nI am trying to install and looking at the tutorial package -https://leanprover-community.github.io/install/project.html <br>\nI get</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"o\">[</span><span class=\"n\">mario</span><span class=\"bp\">@</span><span class=\"n\">localhost</span> <span class=\"n\">lean</span><span class=\"o\">]</span><span class=\"bp\">$</span> <span class=\"n\">leanproject</span> <span class=\"n\">get</span> <span class=\"n\">tutorials</span>\n<span class=\"n\">Cloning</span> <span class=\"k\">from</span> <span class=\"n\">git</span><span class=\"bp\">@</span><span class=\"n\">github.com</span><span class=\"o\">:</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">tutorials.git</span>\n<span class=\"n\">The</span> <span class=\"n\">authenticity</span> <span class=\"n\">of</span> <span class=\"n\">host</span> <span class=\"bp\">'</span><span class=\"n\">github.com</span> <span class=\"o\">(</span><span class=\"mi\">140</span><span class=\"bp\">.</span><span class=\"mi\">82</span><span class=\"bp\">.</span><span class=\"mi\">121</span><span class=\"bp\">.</span><span class=\"mi\">4</span><span class=\"o\">)</span><span class=\"bp\">'</span> <span class=\"n\">can't</span> <span class=\"n\">be</span> <span class=\"n\">established.</span>\n<span class=\"n\">ED25519</span> <span class=\"n\">key</span> <span class=\"n\">fingerprint</span> <span class=\"n\">is</span> <span class=\"n\">SHA256</span><span class=\"o\">:</span><span class=\"bp\">+........</span>\n<span class=\"n\">This</span> <span class=\"n\">key</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">known</span> <span class=\"kd\">by</span> <span class=\"n\">any</span> <span class=\"n\">other</span> <span class=\"n\">names</span>\n<span class=\"n\">Are</span> <span class=\"n\">you</span> <span class=\"n\">sure</span> <span class=\"n\">you</span> <span class=\"n\">want</span> <span class=\"n\">to</span> <span class=\"n\">continue</span> <span class=\"n\">connecting</span> <span class=\"o\">(</span><span class=\"n\">yes</span><span class=\"bp\">/</span><span class=\"n\">no</span><span class=\"bp\">/</span><span class=\"o\">[</span><span class=\"n\">fingerprint</span><span class=\"o\">])</span><span class=\"bp\">?</span> <span class=\"n\">yes</span>\n<span class=\"n\">Error</span> <span class=\"n\">cloning</span> <span class=\"n\">via</span> <span class=\"n\">SSH</span><span class=\"o\">,</span> <span class=\"n\">trying</span> <span class=\"n\">HTTPS...</span>\n<span class=\"n\">Cloning</span> <span class=\"k\">from</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">tutorials.git</span>\n<span class=\"o\">[</span><span class=\"n\">Errno</span> <span class=\"mi\">2</span><span class=\"o\">]</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span><span class=\"o\">:</span> <span class=\"bp\">'</span><span class=\"n\">leanpkg'</span>\n</code></pre></div>\n<p>which error is that?</p>",
        "id": 271583132,
        "sender_full_name": "mario",
        "timestamp": 1644589233
    },
    {
        "content": "<p>I am on a Fedora  35 machine</p>",
        "id": 271583184,
        "sender_full_name": "mario",
        "timestamp": 1644589262
    },
    {
        "content": "<p>Have you followed the installation instructions from here: <a href=\"https://leanprover-community.github.io/install/linux.html\">https://leanprover-community.github.io/install/linux.html</a></p>",
        "id": 271583288,
        "sender_full_name": "Julian Berman",
        "timestamp": 1644589309
    },
    {
        "content": "<p>That error essentially means Lean (or elan) isn't installed, or isn't findable.</p>",
        "id": 271583368,
        "sender_full_name": "Julian Berman",
        "timestamp": 1644589328
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/Test\">#general &gt; Test</a> by <span class=\"user-mention silent\" data-user-id=\"110596\">Rob Lewis</span></p>",
        "id": 271583401,
        "sender_full_name": "Notification Bot",
        "timestamp": 1644589352
    },
    {
        "content": "<p>(The first part is unrelated and has something to do with your SSH setup, but is some separate issue that can be fixed after)</p>",
        "id": 271583445,
        "sender_full_name": "Julian Berman",
        "timestamp": 1644589378
    },
    {
        "content": "<p>Yes, I did. I tried VisualCode too, I create a test.lean, write #eval 1+2, and see 2.</p>",
        "id": 271583810,
        "sender_full_name": "mario",
        "timestamp": 1644589561
    },
    {
        "content": "<p>OK -- can you show us what <code>type -a elan</code> says?</p>",
        "id": 271584618,
        "sender_full_name": "Julian Berman",
        "timestamp": 1644589929
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/stream/113489-new-members/topic/installation.20on.20Fedora/near/271584618\">said</a>:</p>\n<blockquote>\n<p>OK -- can you show us what <code>type -a elan</code> says?</p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code> <span class=\"n\">type</span> <span class=\"bp\">-</span><span class=\"n\">a</span> <span class=\"n\">elan</span>\n<span class=\"n\">elan</span> <span class=\"n\">is</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mario</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n<span class=\"n\">elan</span> <span class=\"n\">is</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mario</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n<span class=\"n\">elan</span> <span class=\"n\">is</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">mario</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n</code></pre></div>\n<p>BUT, something I miss on my shell. Above on the tab I  did <code>PATH=$PATH:$HOME/.elan/bin</code>. On the tab I  launch <code>leanproject get tutorials</code>, i just get <code>type -a elan  &gt; bash: type: elan: not found</code></p>",
        "id": 271585297,
        "sender_full_name": "mario",
        "timestamp": 1644590242
    },
    {
        "content": "<p>Is that the shell you first ran the installation instructions on? Can you restart your terminal and try <code>leanproject get tutorials</code> in a new one?</p>",
        "id": 271585482,
        "sender_full_name": "Julian Berman",
        "timestamp": 1644590322
    },
    {
        "content": "<p>My fault. I have two attempts of install, somehow mixed up. I clean my mess and try again. Thanks for now.</p>",
        "id": 271586317,
        "sender_full_name": "mario",
        "timestamp": 1644590731
    },
    {
        "content": "<p>Running a command like <code>PATH=$PATH:$HOME/.elan/bin</code> in a shell will only affect that shell (in your case, that tab).</p>",
        "id": 271586749,
        "sender_full_name": "Reid Barton",
        "timestamp": 1644590920
    },
    {
        "content": "<p>But the elan installation process should also have added this command to your shell's startup scripts, so it should work automatically in new shells.</p>",
        "id": 271586813,
        "sender_full_name": "Reid Barton",
        "timestamp": 1644590954
    },
    {
        "content": "<p>It seems it works fine now. Thanks.</p>",
        "id": 271641406,
        "sender_full_name": "mario",
        "timestamp": 1644615453
    },
    {
        "content": "<p>Hi, has anyone had success with the lean installer in vscode on Fedora 41 Workstation?</p>",
        "id": 491336510,
        "sender_full_name": "jgart",
        "timestamp": 1735597678
    },
    {
        "content": "<p><a href=\"#narrow/channel/113489-new-members/topic/installation.20on.20Fedora/near/491336510\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Could.20someone.20help.20for.20proving.20this.20problem.20.28identity.20212.29.3F\">#new members &gt; Could someone help for proving this problem (identity 212)?</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 491336607,
        "sender_full_name": "Notification Bot",
        "timestamp": 1735597724
    },
    {
        "content": "<p>The installer assumes that it can append into my ~/.profile but that is read-only.</p>",
        "id": 491336878,
        "sender_full_name": "jgart",
        "timestamp": 1735597878
    },
    {
        "content": "<p>I didn't have any issues, but I also have elan appended to my ~/.profile (I don't think I put it there).</p>",
        "id": 491338390,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1735598906
    },
    {
        "content": "<p>Thanks for the feedback.</p>\n<p>I know why my ~/.profile is read-only now. It's because of an immutable package manager that I am using for my home dotfiles (Guix which is like Nix).</p>\n<p>Is it possible to have the elan write this configuration somewhere else?</p>",
        "id": 491338590,
        "sender_full_name": "jgart",
        "timestamp": 1735599039
    },
    {
        "content": "<p>Another interesting thing is that the installer checks that step green, signifying that it completed the step successfully when it actually failed to do so because of not being able to write to ~/.profile.</p>",
        "id": 491338820,
        "sender_full_name": "jgart",
        "timestamp": 1735599187
    },
    {
        "content": "<p>Does it require that to actually install everything else, or is that just part of the installation process? My first thought would be to just run the thing and put what it would have put in your profile wherever it needs to go in order for the PATH stuff to work. The string it writes is <code>export PATH=\"$HOME/.elan/bin:$PATH\"</code></p>",
        "id": 491339152,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1735599410
    },
    {
        "content": "<p>This is what my ~/.profile contains:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$<span class=\"w\"> </span>cat<span class=\"w\"> </span>.profile\n<span class=\"nv\">HOME_ENVIRONMENT</span><span class=\"o\">=</span><span class=\"nv\">$HOME</span>/.guix-home\n.<span class=\"w\"> </span><span class=\"nv\">$HOME_ENVIRONMENT</span>/setup-environment\n<span class=\"nv\">$HOME_ENVIRONMENT</span>/on-first-login\n</code></pre></div>",
        "id": 491339186,
        "sender_full_name": "jgart",
        "timestamp": 1735599430
    },
    {
        "content": "<p>But that ~/.profile is read-only.</p>",
        "id": 491339226,
        "sender_full_name": "jgart",
        "timestamp": 1735599465
    },
    {
        "content": "<p>If you've already run the installer, do you have a <code>.elan</code> folder?</p>",
        "id": 491339340,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1735599529
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"228466\">Chris Bailey</span> <a href=\"#narrow/channel/113489-new-members/topic/installation.20on.20Fedora/near/491339152\">said</a>:</p>\n<blockquote>\n<p>My first thought would be to just run the thing and put what it would have put in your profile wherever it needs to go in order for the PATH stuff to work. The string it writes is <code>export PATH=\"$HOME/.elan/bin:$PATH\"</code></p>\n</blockquote>\n<p>I was thinking that as well but I was also wondering where exactly it failed in that install step and what might it had failed to run after attempting to write the <code>export</code> command.</p>\n<p>I'll have to read this install script source code closely. I haven't looked at that yet.</p>",
        "id": 491339394,
        "sender_full_name": "jgart",
        "timestamp": 1735599583
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"228466\">Chris Bailey</span> <a href=\"#narrow/channel/113489-new-members/topic/installation.20on.20Fedora/near/491339340\">said</a>:</p>\n<blockquote>\n<p>If you've already run the installer, do you have a <code>.elan</code> folder?</p>\n</blockquote>\n<p>I do</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$<span class=\"w\"> </span>ls<span class=\"w\"> </span>.elan/bin/\nelan<span class=\"w\">  </span>lake<span class=\"w\">  </span>lean<span class=\"w\">  </span>leanc<span class=\"w\">  </span>leanchecker<span class=\"w\">  </span>leanmake<span class=\"w\">  </span>leanpkg\n</code></pre></div>",
        "id": 491339502,
        "sender_full_name": "jgart",
        "timestamp": 1735599625
    },
    {
        "content": "<p>Given the above, it sounds like I can just put that directory on PATH and proceed.</p>",
        "id": 491339555,
        "sender_full_name": "jgart",
        "timestamp": 1735599653
    },
    {
        "content": "<p>It sounds like maybe the installer should handle such a case in a less intrusive way. Maybe it could just suggest the user to add ~/.elan to PATH. If it wants to make that more user friendly it can print to standard output some ideas on how to do that instead of trying to write to <code>~/.profile</code> on the user's behalf.</p>",
        "id": 491339691,
        "sender_full_name": "jgart",
        "timestamp": 1735599724
    },
    {
        "content": "<p><code>--no-modify-path</code> will tell the installer not to touch your system</p>",
        "id": 491339700,
        "sender_full_name": "Julian Berman",
        "timestamp": 1735599730
    },
    {
        "content": "<p>And then yes you simply append to your PATH however you like</p>",
        "id": 491339714,
        "sender_full_name": "Julian Berman",
        "timestamp": 1735599743
    },
    {
        "content": "<blockquote>\n<p><code>--no-modify-path</code> will tell the installer not to touch your system</p>\n</blockquote>\n<p>TIL: Thanks.</p>",
        "id": 491339768,
        "sender_full_name": "jgart",
        "timestamp": 1735599785
    },
    {
        "content": "<p>I was also thinking that I might want to run the Lean installer in a toolbox or distrobox (podman container with access to host home) so that I don't modify my file system with various paths I'm not tracking or don't want to worry about how to clean up later.</p>",
        "id": 491339882,
        "sender_full_name": "jgart",
        "timestamp": 1735599871
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113489-new-members/topic/installation.20on.20Fedora/near/491339700\">said</a>:</p>\n<blockquote>\n<p><code>--no-modify-path</code> will tell the installer not to touch your system</p>\n</blockquote>\n<p>If I remember correctly, though, I migh have just clicked a button in vscode in order to start the process so not sure how I might have passed in that flag <span aria-label=\"duck\" class=\"emoji emoji-1f986\" role=\"img\" title=\"duck\">:duck:</span></p>",
        "id": 491339942,
        "sender_full_name": "jgart",
        "timestamp": 1735599938
    },
    {
        "content": "<p>I guess I should not follow the vscode GUI installation steps and find command line install steps instead <span aria-label=\"duck\" class=\"emoji emoji-1f986\" role=\"img\" title=\"duck\">:duck:</span></p>",
        "id": 491340030,
        "sender_full_name": "jgart",
        "timestamp": 1735599979
    },
    {
        "content": "<p>Looks like maybe this might have been the culprit. I'll try to reproduce the issue later and maybe report it:</p>\n<p><a href=\"https://github.com/leanprover/elan/blob/417e1abbd6e24781dde778e2d75d51361378f242/src/elan-cli/self_update.rs#L264\">https://github.com/leanprover/elan/blob/417e1abbd6e24781dde778e2d75d51361378f242/src/elan-cli/self_update.rs#L264</a></p>",
        "id": 491345412,
        "sender_full_name": "jgart",
        "timestamp": 1735603949
    },
    {
        "content": "<p>Thanks for the help with this. Much appreciated.</p>",
        "id": 491345423,
        "sender_full_name": "jgart",
        "timestamp": 1735603966
    }
]