[
    {
        "content": "<p>I have the following proof that I'm working on:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">--Auxilary ψ is continuousely differentiable on I</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">revParamTransform_contDiffOn_aux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">contDiffOn_iff_continuousOn_differentiableOn_deriv</span><span class=\"w\"> </span><span class=\"n\">hI</span><span class=\"bp\">.</span><span class=\"n\">uniqueDiffOn</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">mpr</span>\n<span class=\"w\">  </span><span class=\"n\">constructor</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">hm</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h'm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">h'm</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">h'm</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h'm</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h'm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">iteratedDerivWithin_zero</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">revParamTransform_continuousOn_aux</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"n\">hI</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h'm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">iteratedDerivWithin_one</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>And for some reason, when I use the thorem <code>iteratedDerivWithin_zero</code> it works, but when I use the theorem <code>iteratedDerivWithin_one</code> it doesn't work - lean doesn't recognize the pattern, even though the only difference between the two cases as far as I can see is that in first we have 0 and in the second we have 1. Do you have any idea what could be the reason for that?</p>",
        "id": 565108148,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766474015
    },
    {
        "content": "<p>This is the error that I get:<br>\n<code>Tactic `rewrite` failed: Did not find an occurrence of the pattern\n  iteratedDerivWithin 1 ?m.119 ?m.120 ?m.121\nin the target expression\n  ContinuousOn (iteratedDerivWithin 1 ψ I) I\n</code></p>",
        "id": 565109828,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766475129
    },
    {
        "content": "<p>This snippet doesn't compile.</p>",
        "id": 565111968,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1766476314
    },
    {
        "content": "<p>Here is all the previous code:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span><span class=\"w\"> </span><span class=\"n\">intervalIntegral</span>\n\n<span class=\"sd\">/-- This is a version of the first part of FTC for a function which is continuous on an interval.</span>\n<span class=\"sd\">    Credit to Aaron Liu. -/</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">derivWithin_integral_of_continuousOn_interval</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">OrdConnected</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContinuousOn</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">HasDerivWithinAt</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\">  </span><span class=\"bp\">∫</span><span class=\"w\"> </span><span class=\"n\">τ</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">x₀</span><span class=\"bp\">..</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">τ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">intervalIntegral</span><span class=\"bp\">.</span><span class=\"n\">FTCFilter</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">intervalIntegral</span><span class=\"bp\">.</span><span class=\"n\">FTCFilter</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟨?_⟩</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">tendsto_smallSets_iff</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_nhdsWithin_iff_exists_mem_nhds_inter</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n<span class=\"w\">      </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">u</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hu</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hut</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n<span class=\"w\">      </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">haxb</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">habx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">habu</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">exists_Icc_mem_subset_of_mem_nhds</span><span class=\"w\"> </span><span class=\"n\">hu</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∩</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">        </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">inter_comm</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">inter_mem_nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">habx</span>\n<span class=\"w\">      </span><span class=\"n\">filter_upwards</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">prod_mem_prod</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">hi</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"bp\">⟩</span>\n<span class=\"w\">      </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">subset_trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">subset_inter</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">hut</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">subset_trans</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"n\">habu</span>\n<span class=\"w\">        </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hk</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">hi</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">⟩</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hk</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc_subset</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">hi</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Ioc_subset_Icc_self</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">pure_le_nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin_le_nhds</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">inf_isMeasurablyGenerated</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">OrdConnected</span><span class=\"bp\">.</span><span class=\"n\">measurableSet</span><span class=\"w\"> </span><span class=\"bp\">‹_›</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">principal_isMeasurablyGenerated</span>\n<span class=\"w\">  </span><span class=\"n\">intervalIntegral</span><span class=\"bp\">.</span><span class=\"n\">integral_hasDerivWithinAt_right</span>\n<span class=\"w\">    </span><span class=\"o\">((</span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">mono</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">OrdConnected</span><span class=\"bp\">.</span><span class=\"n\">uIcc_subset</span><span class=\"w\"> </span><span class=\"bp\">‹_›</span><span class=\"w\"> </span><span class=\"n\">hx₀</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">intervalIntegrable</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">stronglyMeasurableAtFilter_nhdsWithin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">OrdConnected</span><span class=\"bp\">.</span><span class=\"n\">measurableSet</span><span class=\"w\"> </span><span class=\"bp\">‹_›</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">continuousWithinAt</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">section</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- Auxiliary definition, this is the reversed (inverse) parameter transformation</span>\n<span class=\"sd\">for the arclength reparametrization. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">arclengthParamTransformAux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">∫</span><span class=\"w\"> </span><span class=\"n\">τ</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"bp\">..</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">τ</span><span class=\"bp\">‖</span>\n\n<span class=\"c1\">--This is parameter transformation used to construct the arc-length reparametrization.</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">arclengthParamTransform</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">letI</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">arclengthParamTransformAux</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">t₀</span>\n<span class=\"w\">  </span><span class=\"n\">ψ</span><span class=\"bp\">.</span><span class=\"n\">invFun</span>\n\n<span class=\"c1\">--Unit speed / arclength reparametrization of a parametrized curve</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">arclengthReparamFrom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">letI</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">arclengthParamTransform</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">t₀</span>\n<span class=\"w\">  </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">φ</span>\n\n<span class=\"c1\">-- We now also assume c is a parametrized curve of class Cʳ from the interval I, r≥1.</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">OrdConnected</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"bp\">∞</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span>\n\n<span class=\"c1\">--Auxilary definition, so we don't have to type the full long expression everytime</span>\n<span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"ψ\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">arclengthParamTransformAux</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">t₀</span>\n\n<span class=\"c1\">-- The 'speed' function of a parametrized curve is continuous</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">speed_continuousOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">ContinuousOn</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">‖</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Continuous</span><span class=\"bp\">.</span><span class=\"n\">comp_continuousOn'</span><span class=\"w\"> </span><span class=\"n\">continuous_norm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"bp\">.</span><span class=\"n\">continuousOn_deriv_of_isOpen</span><span class=\"w\"> </span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"n\">once_diff</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- An auxiliary lemma giving us the derivitive of ψ on I. -/</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">revParamTransform_deriv_eq_aux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HasDerivWithinAt</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">arclengthParamTransformAux</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">derivWithin_integral_of_continuousOn_interval</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">speed_continuousOn</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"n\">once_diff</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n\n<span class=\"c1\">--Auxilary lemma - ψ is continuous</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">revParamTransform_continuousOn_aux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContinuousOn</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"bp\">↦</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">revParamTransform_deriv_eq_aux</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"n\">hI</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">continuousWithinAt</span>\n\n<span class=\"c1\">--Auxilary ψ is continuousely differentiable on I</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">revParamTransform_contDiffOn_aux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hI</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContDiffOn</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">ψ</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">contDiffOn_iff_continuousOn_differentiableOn_deriv</span><span class=\"w\"> </span><span class=\"n\">hI</span><span class=\"bp\">.</span><span class=\"n\">uniqueDiffOn</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">mpr</span>\n<span class=\"w\">  </span><span class=\"n\">constructor</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">hm</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h'm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">h'm</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">h'm</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h'm</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h'm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">iteratedDerivWithin_zero</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">revParamTransform_continuousOn_aux</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">t₀</span><span class=\"w\"> </span><span class=\"n\">once_diff</span><span class=\"w\"> </span><span class=\"n\">ht₀</span><span class=\"w\"> </span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"n\">hI</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h'm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">iteratedDerivWithin_one</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 565112889,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766476747
    },
    {
        "content": "<p>The rewrite works fine on live lean?</p>",
        "id": 565113314,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1766476898
    },
    {
        "content": "<p>what is live lean?</p>",
        "id": 565113374,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766476928
    },
    {
        "content": "<p>place your mouse over the code snippet and click the top right most button</p>",
        "id": 565113413,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1766476951
    },
    {
        "content": "<p>I'm using nvim, is it possible to do it with nvim? If not I could try to open the file in vscode.</p>",
        "id": 565113747,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766477139
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/channel/113489-new-members/topic/two.20very.20similiar.20theorems.20but.20only.20one.20is.20working/near/565113413\">said</a>:</p>\n<blockquote>\n<p>place your mouse over the code snippet and click the top right most button</p>\n</blockquote>\n<p>And when you say the code snippet do you mean the last rw line?</p>",
        "id": 565113893,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766477213
    },
    {
        "content": "<p>no, place your mouse over the code box in the browser. Look at the top right, it gives a link to open your code in the live editor</p>",
        "id": 565114080,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1766477300
    },
    {
        "content": "<p>do you mean in vscode?</p>",
        "id": 565114221,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766477385
    },
    {
        "content": "<p>No, I mean in the browser in Zulip. Here's the <a href=\"https://live.lean-lang.org/#codez=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\">link</a></p>",
        "id": 565114294,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1766477433
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"761203\">Vlad Tsyrklevich</span> <a href=\"#narrow/channel/113489-new-members/topic/two.20very.20similiar.20theorems.20but.20only.20one.20is.20working/near/565114294\">said</a>:</p>\n<blockquote>\n<p>No, I mean in the browser in Zulip. Here's the <a href=\"https://live.lean-lang.org/#codez=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\">link</a></p>\n</blockquote>\n<p>Oh, I'm sorry, thank you very, I didn't know that this exists</p>",
        "id": 565114408,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766477498
    },
    {
        "content": "<p>It says that there is an error in the line before the last line (line 89) : <code>    · rw [h'm] </code>, although in my computer there isn't such an error. I also can't see what the error says exactly, probably because I'm used to a different editor, it's a bit confusing.</p>",
        "id": 565115192,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766477935
    },
    {
        "content": "<p>Although it also seems like the last rw (in line 90) did work, even though there is an error sign in the previous line. Very weird.</p>",
        "id": 565115694,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766478203
    },
    {
        "content": "<p>If you put your cursor over the red squiggles it says \"unsolved goal\", e.g. it's just highlighting that that arm of the case statement does not have a completed proof.</p>",
        "id": 565118284,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1766479464
    },
    {
        "content": "<p>Oh, right. Thank you very much! The question remains why do I get the error in my computer? Could it be that I need to update the version of Mathlib or, maybe something else?</p>",
        "id": 565119187,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766479884
    },
    {
        "content": "<p>I tried to change the Mathlib version in the live lean editor to Mathlib v4.24.0 and then I get the same error that I get on my computer. So it does seem like this is related to the Mathlib version.</p>",
        "id": 565123923,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766482024
    },
    {
        "content": "<p>Which mathlib version is your computer using?</p>",
        "id": 565126463,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1766483257
    },
    {
        "content": "<p>O.k. I did <code>lake update</code> in my project directory and it solved the problem. I don't know which version I'm using but I can check it if you know which command to type (if it's still relevant).</p>",
        "id": 565127228,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766483616
    },
    {
        "content": "<p>Great that it's solved! For future reference, looking at <code>lean-toolchain</code> tells you the Lean version you're using.</p>",
        "id": 565129540,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1766484601
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 565129804,
        "sender_full_name": "Michael Novak",
        "timestamp": 1766484717
    }
]