[
    {
        "content": "<p>Is it possible to do the same, but without having to mention <code>some_long_and_complicated_expr</code>? E.g., by selecting it with <code>conv =&gt; lhs</code>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span>\n</code></pre></div>",
        "id": 566624624,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1767734787
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 566624880,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767734902
    },
    {
        "content": "<p>Is there a way to do <code>let</code> instead of <code>set</code>?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span>\n</code></pre></div>",
        "id": 566625340,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1767735132
    },
    {
        "content": "<p>I guess I can just <code>unfold p</code>.</p>",
        "id": 566625467,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1767735194
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">zeta</span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 566625480,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735201
    },
    {
        "content": "<p>Is that idiomatic? I could find any use of that pattern in mathlib.</p>",
        "id": 566625834,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1767735403
    },
    {
        "content": "<p>no idea</p>",
        "id": 566625880,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735425
    },
    {
        "content": "<p>but it works</p>",
        "id": 566625885,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735428
    },
    {
        "content": "<p>I don't really know a better way</p>",
        "id": 566625902,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735440
    },
    {
        "content": "<p>I would've first thought about</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 566626016,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1767735514
    },
    {
        "content": "<p>then you end up with a named metavariable</p>",
        "id": 566626103,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735567
    },
    {
        "content": "<p>so it doesn't work for example if there's already something called <code>?a</code></p>",
        "id": 566626132,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735586
    },
    {
        "content": "<p>and you also can't ever use the name <code>?a</code> again in that proof</p>",
        "id": 566626173,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735611
    },
    {
        "content": "<p>or maybe in the <code>by</code> block? I don't really know how this works</p>",
        "id": 566626198,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767735620
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>seems to work</p>",
        "id": 566626248,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1767735646
    },
    {
        "content": "<p>Does it work robustly? I haven't a clue</p>",
        "id": 566626521,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1767735810
    },
    {
        "content": "<p>I wonder if we can get like an expression language? to manipulate expressions</p>",
        "id": 566626900,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767736000
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span> Isn't that <code>conv</code>? Maybe we could have a conv tactic that does set/let on current conv goal? Something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">conv</span>\n<span class=\"w\">  </span><span class=\"n\">lhs</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span>\n</code></pre></div>",
        "id": 566628037,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1767736596
    },
    {
        "content": "<p>not really</p>",
        "id": 566628108,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767736625
    },
    {
        "content": "<p><code>conv</code> has to prove the new expression is equal to the original</p>",
        "id": 566628133,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767736634
    },
    {
        "content": "<p>I think a tactic like <code>foo ?p = ?x + ?y</code> would be cool</p>",
        "id": 566628224,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1767736669
    },
    {
        "content": "<p>Unfortunately all mentioned ways require repeating names of functions and don't work well with dot notation.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">some_long_function_name</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"bp\">.</span><span class=\"n\">some_long_function_name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">some_long_function_name</span><span class=\"w\"> </span><span class=\"n\">p</span>\n</code></pre></div>",
        "id": 566629724,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1767737411
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">some_long_function_name</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"bp\">.</span><span class=\"n\">some_long_function_name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">conv</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">enter</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">  </span><span class=\"n\">guard_target</span><span class=\"w\"> </span><span class=\"bp\">=ₛ</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">some_long_function_name</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 566629974,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767737565
    },
    {
        "content": "<p>you can also use <code>change</code> with metavariables before the <code>set</code> statement (e.g. <code>change ?x = ?y; set x := ?x; set y := ?y</code>) but I'm guessing that runs into the same drawbacks as the other approaches (with the additional drawback that Lean complains about the <code>change</code> tactic not accomplishing anything)</p>",
        "id": 566632945,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1767739475
    },
    {
        "content": "<p>Is there a way discussed here that works for reducing duplication in the declaration of the statement to prove? (In plain words, what if <code>some_long_and_complicated_expr</code> appears within the statement many times?)</p>",
        "id": 568388922,
        "sender_full_name": "Bbbbbbbbba",
        "timestamp": 1768555088
    },
    {
        "content": "<p><del>Exactly the same should work, because <code>set</code> replaces all occurrences of an expression. It doesn't work for you?</del><br>\nNvm, it indeed doesn't work with <code>set p := _; conv</code> approach.</p>",
        "id": 568401665,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1768559287
    },
    {
        "content": "<p>It works with <code>change</code> if you repeat <code>p</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span>\n<span class=\"w\">  </span><span class=\"n\">guard_target</span><span class=\"w\"> </span><span class=\"bp\">=ₛ</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"n\">guard_target</span><span class=\"w\"> </span><span class=\"bp\">=ₛ</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">conv</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">lhs</span>\n<span class=\"w\">    </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">p</span>\n<span class=\"w\">  </span><span class=\"n\">guard_target</span><span class=\"w\"> </span><span class=\"bp\">=ₛ</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>Anyone understands why the last one doesn't work, and whether we could fix this? Tbh, I don't even understand why it even works in the first place, specifically why it only works with <code>set</code>, but not <code>let</code> or <code>have</code>.</p>",
        "id": 568402847,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1768559629
    },
    {
        "content": "<p>It's because <code>set</code> does replacement when you run the tactic and not at any time after</p>",
        "id": 568409301,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768561748
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"870257\">Jakub Nowak</span> <a href=\"#narrow/channel/113489-new-members/topic/Way.20to.20use.20.60set.60.20without.20having.20to.20copy-paste.20expression.3F/near/568402847\">said</a>:</p>\n<blockquote>\n<p>Tbh, I don't even understand why it even works in the first place, specifically why it only works with <code>set</code>, but not <code>let</code> or <code>have</code>.</p>\n</blockquote>\n<p>Maybe a metavariables thing?</p>",
        "id": 568409534,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1768561817
    },
    {
        "content": "<p>This works:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">opaque</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">some_long_and_complicated_expr</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">conv</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">lhs</span>\n<span class=\"w\">    </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">p'</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">p'</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">zeta</span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">p'</span>\n<span class=\"w\">  </span><span class=\"n\">clear</span><span class=\"w\"> </span><span class=\"n\">p'</span>\n</code></pre></div>",
        "id": 568409870,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1768561932
    },
    {
        "content": "<p>Is there a tactic that combines <code>unfold</code>, <code>set</code>, and <code>clear</code>?</p>",
        "id": 568410116,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1768562006
    }
]