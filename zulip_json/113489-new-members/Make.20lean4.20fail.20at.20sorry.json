[
    {
        "content": "<p>Hi there, noob question: is there a way to make lean4 fail when it encounters a sorry, instead of writing a warning <code>declaration uses 'sorry'</code>?<br>\nUPD: fail as in \"elevate it to an error\"</p>",
        "id": 473447971,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1727615417
    },
    {
        "content": "<p>what is it you mean with \"fail\"? do you want to elevate it to an error? do you want the server/compiler to panic?</p>",
        "id": 473448791,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727616114
    },
    {
        "content": "<p>I meant for it to elevate it to an error</p>",
        "id": 473448853,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1727616152
    },
    {
        "content": "<p>You can run <code>lake build --wfail</code></p>",
        "id": 473450425,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727617373
    },
    {
        "content": "<p>This makes all warnings cause it to fail</p>",
        "id": 473450445,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1727617398
    },
    {
        "content": "<p>Thanks! Is there something more specific to <code>sorry</code> maybe? Or a way to check if code uses a sorry?</p>",
        "id": 473451307,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1727618068
    },
    {
        "content": "<p>E.g. I've read that mathlib CI checks that there are no sorries, but I'm not sure where in the github workflow it does that...</p>",
        "id": 473451498,
        "sender_full_name": "Vadim Fomin",
        "timestamp": 1727618201
    },
    {
        "content": "<p>in order to check if a declaration uses <code>sorry</code> you can use <code>#print axioms foo</code>. however, i believe mathlib uses other ways to guard against this.</p>",
        "id": 473451699,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727618372
    }
]