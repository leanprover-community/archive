[
    {
        "content": "<p>I've just made a very simple PR, but it's not passing the lint-style step.</p>\n<p>This is the error I'm getting:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"mi\">32</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">Zlattice</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n</code></pre></div>\n<p>I have not touched anything in that file. However, I do see that it's right there in Mathlib!<br>\n<a href=\"/user_uploads/3121/mQtdltMqskZlH-QAfUegqbtV/Screenshot-2024-10-21-at-9.46.19PM.png\">Screenshot 2024-10-21 at 9.46.19‚ÄØPM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/mQtdltMqskZlH-QAfUegqbtV/Screenshot-2024-10-21-at-9.46.19PM.png\" title=\"Screenshot 2024-10-21 at 9.46.19‚ÄØPM.png\"><img data-original-dimensions=\"1582x1432\" src=\"/user_uploads/thumbnail/3121/mQtdltMqskZlH-QAfUegqbtV/Screenshot-2024-10-21-at-9.46.19PM.png/840x560.webp\"></a></div><p>And then I'm getting this message from the bot:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">@</span><span class=\"n\">github</span><span class=\"bp\">-</span><span class=\"n\">actions</span><span class=\"o\">[</span><span class=\"n\">bot</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">commented</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">pull</span><span class=\"w\"> </span><span class=\"n\">request</span><span class=\"bp\">.</span>\n\n<span class=\"n\">In</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span>\n\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"bp\">@@</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">514</span><span class=\"o\">,</span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"mi\">515</span><span class=\"o\">,</span><span class=\"mi\">9</span><span class=\"w\"> </span><span class=\"bp\">@@</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">Range</span>\n<span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">RestrictScalars</span>\n<span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Torsion</span>\n<span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ULift</span>\n<span class=\"bp\">-</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZLattice</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"bp\">-</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZLattice</span><span class=\"bp\">.</span><span class=\"n\">Covolume</span>\n<span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZMod</span>\n<span class=\"o\">[</span><span class=\"n\">imports</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">comment</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"s2\">\"bot fix style\"</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">all</span><span class=\"w\"> </span><span class=\"n\">style</span><span class=\"w\"> </span><span class=\"n\">suggestions</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"n\">reported</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">reviewdog</span><span class=\"w\"> </span><span class=\"bp\">üê∂</span>\n\n<span class=\"bp\">‚¨áÔ∏è</span><span class=\"w\"> </span><span class=\"n\">Suggested</span><span class=\"w\"> </span><span class=\"n\">change</span>\n<span class=\"bp\">-</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZMod</span>\n<span class=\"bp\">+</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZLattice</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"bp\">+</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZLattice</span><span class=\"bp\">.</span><span class=\"n\">Covolume</span>\n<span class=\"bp\">+</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">ZMod</span>\n<span class=\"n\">In</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span>\n\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Zlattice</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"bp\">+</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Zlattice</span><span class=\"bp\">.</span><span class=\"n\">Covolume</span>\n<span class=\"o\">[</span><span class=\"n\">imports</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">comment</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"s2\">\"bot fix style\"</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">all</span><span class=\"w\"> </span><span class=\"n\">style</span><span class=\"w\"> </span><span class=\"n\">suggestions</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"n\">reported</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">reviewdog</span><span class=\"w\"> </span><span class=\"bp\">üê∂</span>\n\n<span class=\"bp\">‚¨áÔ∏è</span><span class=\"w\"> </span><span class=\"n\">Suggested</span><span class=\"w\"> </span><span class=\"n\">change</span>\n<span class=\"bp\">-</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Zlattice</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"bp\">-</span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Zlattice</span><span class=\"bp\">.</span><span class=\"n\">Covolume</span>\n</code></pre></div>\n<p>I sincerely doubt I should be manually messing around with files unrelated to my PR</p>",
        "id": 478185461,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729561777
    },
    {
        "content": "<p>do I need to further update mathlib somehow? I did git pull on the master branch, and then made my own branch from there. this was all today, so I cannot imagine it would be <em>that</em> out-of-date</p>",
        "id": 478185584,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729561849
    },
    {
        "content": "<p>I don't know much about how this works in Mathlib4's CI but I see your PR (which is <a href=\"https://github.com/leanprover-community/mathlib4/pull/18036/files\">https://github.com/leanprover-community/mathlib4/pull/18036/files</a> for anyone else) makes changes to <code>Mathlib.lean</code> -- how did you make those / was it by hand? IIRC the one thing I do know is I think that file is supposed to be auto-generated by some script in the repo.</p>",
        "id": 478195419,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729566588
    },
    {
        "content": "<p>In particular I think you're adding a new file, so something should be adding it to <code>Mathlib.lean</code>, but I think that's not something you do by hand (but let's find out...).</p>",
        "id": 478195488,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729566610
    },
    {
        "content": "<p>Depending on the answer to ^, what's there now doesn't look right (i.e. the PR is breaking something AFAICT), so I'd run <code>lake exe mk_all</code> again -- you should end up with a diff that only adds one line to <code>Mathlib.lean</code>, not one that adds a line and changes the case on others. (If that doesn't happen, then probably come back and mention that).</p>",
        "id": 478196526,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729567217
    },
    {
        "content": "<p>Oh, yup, that's very weird (in the Mathlib.lean). I did not generate it by hand - I ran lake exe mk_all</p>",
        "id": 478272936,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600165
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/4XDy_D1p-68MLcEoTdx0JeNd/Screenshot-2024-10-22-at-8.31.38AM.png\">Screenshot 2024-10-22 at 8.31.38‚ÄØAM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/4XDy_D1p-68MLcEoTdx0JeNd/Screenshot-2024-10-22-at-8.31.38AM.png\" title=\"Screenshot 2024-10-22 at 8.31.38‚ÄØAM.png\"><img data-original-dimensions=\"1626x1266\" src=\"/user_uploads/thumbnail/3121/4XDy_D1p-68MLcEoTdx0JeNd/Screenshot-2024-10-22-at-8.31.38AM.png/840x560.webp\"></a></div>",
        "id": 478273078,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600208
    },
    {
        "content": "<p>Trying to run it again made no changes</p>",
        "id": 478273138,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600235
    },
    {
        "content": "<p>But I see that somehow the order of imports is different from that in the master branch:<br>\n<a href=\"/user_uploads/3121/QR7vyE240NcLzkt-7Eb4HaDk/Screenshot-2024-10-22-at-8.32.03AM.png\">Screenshot 2024-10-22 at 8.32.03‚ÄØAM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/QR7vyE240NcLzkt-7Eb4HaDk/Screenshot-2024-10-22-at-8.32.03AM.png\" title=\"Screenshot 2024-10-22 at 8.32.03‚ÄØAM.png\"><img data-original-dimensions=\"1760x744\" src=\"/user_uploads/thumbnail/3121/QR7vyE240NcLzkt-7Eb4HaDk/Screenshot-2024-10-22-at-8.32.03AM.png/840x560.webp\"></a></div>",
        "id": 478273212,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600267
    },
    {
        "content": "<p>The shell script that existed before the lean executable explicitly specified what order to sort the files.  I thought that the lean executable would have a similar test, but I do not remember the details, I would have to look at this again.</p>",
        "id": 478273592,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600398
    },
    {
        "content": "<p>I checked out your PR and ran <code>mk_all</code> and on my computer it reorders the files:</p>\n<div class=\"codehilite\" data-code-language=\"Diff\"><pre><span></span><code>$ lake exe mk_all --git\nUpdating 'Mathlib.lean'\n\n$ git diff\n<span class=\"gh\">diff --git a/Mathlib.lean b/Mathlib.lean</span>\n<span class=\"gh\">index 647e3836db..36da462b51 100644</span>\n<span class=\"gd\">--- a/Mathlib.lean</span>\n<span class=\"gi\">+++ b/Mathlib.lean</span>\n<span class=\"gu\">@@ -515,9 +515,9 @@ import Mathlib.Algebra.Module.Submodule.Range</span>\n<span class=\"w\"> </span>import Mathlib.Algebra.Module.Submodule.RestrictScalars\n<span class=\"w\"> </span>import Mathlib.Algebra.Module.Torsion\n<span class=\"w\"> </span>import Mathlib.Algebra.Module.ULift\n<span class=\"gi\">+import Mathlib.Algebra.Module.ZLattice.Basic</span>\n<span class=\"gi\">+import Mathlib.Algebra.Module.ZLattice.Covolume</span>\n<span class=\"w\"> </span>import Mathlib.Algebra.Module.ZMod\n<span class=\"gd\">-import Mathlib.Algebra.Module.Zlattice.Basic</span>\n<span class=\"gd\">-import Mathlib.Algebra.Module.Zlattice.Covolume</span>\n<span class=\"w\"> </span>import Mathlib.Algebra.MonoidAlgebra.Basic\n<span class=\"w\"> </span>import Mathlib.Algebra.MonoidAlgebra.Defs\n<span class=\"w\"> </span>import Mathlib.Algebra.MonoidAlgebra.Degree\n</code></pre></div>",
        "id": 478274148,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600570
    },
    {
        "content": "<p>So, it looks like the ordering of files is computer dependent... again!  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 478274299,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600613
    },
    {
        "content": "<p>For the moment, just go with the order that CI wants.  I will try to figure out where the correct \"locale\" should be used.</p>",
        "id": 478274548,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600680
    },
    {
        "content": "<p>Hmm, I just manually re-ordered it, but it's still not finding the file?<br>\n<a href=\"/user_uploads/3121/BmT3kwpLfDHKB4WWZ6UUIxmh/Screenshot-2024-10-22-at-8.41.20AM.png\">Screenshot 2024-10-22 at 8.41.20‚ÄØAM.png</a><br>\nSo maybe I have deeper issues</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BmT3kwpLfDHKB4WWZ6UUIxmh/Screenshot-2024-10-22-at-8.41.20AM.png\" title=\"Screenshot 2024-10-22 at 8.41.20‚ÄØAM.png\"><img data-original-dimensions=\"1842x1028\" src=\"/user_uploads/thumbnail/3121/BmT3kwpLfDHKB4WWZ6UUIxmh/Screenshot-2024-10-22-at-8.41.20AM.png/840x560.webp\"></a></div>",
        "id": 478274777,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600755
    },
    {
        "content": "<p>Sorry, there is a <em>capitalization</em> issue.</p>",
        "id": 478274855,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600784
    },
    {
        "content": "<p>(Not sure if someone had already mentioned this, but I just noticed.)</p>",
        "id": 478274895,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600798
    },
    {
        "content": "<p>oh I see it!</p>",
        "id": 478274957,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600805
    },
    {
        "content": "<p><code>ZLattice</code> vs <code>Zlattice</code></p>",
        "id": 478275002,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729600826
    },
    {
        "content": "<p>Right, it is <code>ZL...</code> not <code>Zl...</code>!  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 478275005,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600828
    },
    {
        "content": "<p>Oy gevalt! But it's lowercase throughout my entire copy of Mathlib</p>",
        "id": 478275091,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600862
    },
    {
        "content": "<p>So, that is good, I think: sorting should be machine-independent, but casing affects the alphabetical order (as expected).</p>",
        "id": 478275127,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600874
    },
    {
        "content": "<p>Ok, this is a completely separate issue from <code>mk_all</code> not working: this is progress, we are zooming in on where the root issue is.</p>",
        "id": 478275229,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600911
    },
    {
        "content": "<p>You are probably on a case-insensitive system (Windows, maybe)?</p>",
        "id": 478275307,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600926
    },
    {
        "content": "<p>Is there any way to automatically get that fixed?<br>\nIt seems like I am not on an updated copy of mathlib?</p>",
        "id": 478275322,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600932
    },
    {
        "content": "<p>I'm on a Mac<br>\nin VSCode</p>",
        "id": 478275355,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600943
    },
    {
        "content": "<p>Sonoma 14.6.1</p>",
        "id": 478275412,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729600969
    },
    {
        "content": "<p>Ok, it is weird that lean had not complained earlier about wrong capitalization, then...</p>",
        "id": 478275430,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729600976
    },
    {
        "content": "<p>I am not sure that I know how to fix the root cause, but currently lean is only complaining about the files in Mathlib.lean, right?  Simply use what CI wants and let's hope that at least the PR is fixed.</p>",
        "id": 478275601,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601028
    },
    {
        "content": "<p>fingers crossed! waiting to see if it will build now</p>",
        "id": 478276690,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729601330
    },
    {
        "content": "<p>Ok, linting seems to have gone through!</p>",
        "id": 478276795,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601355
    },
    {
        "content": "<p>I am wondering why you have a <code>lake-manifest</code> change: that should not be there either.</p>",
        "id": 478276877,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601383
    },
    {
        "content": "<p>That only appeared after I ran \"lake update\" and \"lake exe cache get\"<br>\n(Which I did because I thought that might automatically fix the Mathlib.lean)</p>",
        "id": 478277090,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729601445
    },
    {
        "content": "<p>Ok, <code>lake update</code> is something that you should never have to use with mathlib.  <code>lake exe cache get</code> is something that you should <em>always</em> use!  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 478277329,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601518
    },
    {
        "content": "<p>I would probably revert the lake-manifest change, since the dependencies of mathlib have to be carefully picked for everything to work \"in-sync\" and it is a very delicate issue.</p>",
        "id": 478277612,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601597
    },
    {
        "content": "<p>so, if I'm working on a branch of mathlib, how should I update mathlib? (I originally did <br>\n<code>git pull</code> on the master branch, and then made a new branch for my PR. but what if I want to update mathlib once I've started working on the PR? is that <code>git merge master</code>?)</p>",
        "id": 478277935,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729601682
    },
    {
        "content": "<p>Yes, exactly. <code>git merge master</code> or <code>git rebase master</code></p>",
        "id": 478278073,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1729601732
    },
    {
        "content": "<p>Yes, <code>git pull</code> retrieves the latest version of everything, after that, <code>git merge origin/master</code> will put the master changes on your branch.</p>",
        "id": 478278125,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601748
    },
    {
        "content": "<p>thanks!</p>",
        "id": 478278128,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729601749
    },
    {
        "content": "<p>ohh okay, so I switch back to master, <code>git pull</code> there, and then go to my branch and do <code>git merge master</code></p>",
        "id": 478278255,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729601784
    },
    {
        "content": "<p>I need to go now, but I think that the CI issues are either resolved, or almost resolved!</p>",
        "id": 478278257,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601785
    },
    {
        "content": "<p>thank you so much for your help!! I truly appreciate it</p>",
        "id": 478278315,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1729601803
    },
    {
        "content": "<p><code>git pull</code> will pull everything and <code>origin/master</code> (rather than <code>master</code>) is where it will store the changes to master, if you are on a branch.</p>",
        "id": 478278396,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729601825
    },
    {
        "content": "<p>(I noticed it was a capitalization issue, and suspected you were on macOS with case insensitive filesytems, but I didn't see where the bug could be, as as far as I could tell <code>mk_all</code> is using the Lean file walking APIs. I only scanned the rest of the thread, but it does seem worth minimizing if we suspect there's an actual bug.)</p>",
        "id": 478281426,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729602654
    },
    {
        "content": "<p>Summarizing, it seems that <code>mk_all</code> produced a case-desensitivized list of module names.  <code>mk_all</code> gets this like from (ultimately) <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=System.FilePath.walkDir#doc\">docs#System.FilePath.walkDir</a> and we are wondering whether this is a bug in <code>walkDir</code> or whether it is some post-processing (that does not appear to be there) after that.</p>",
        "id": 478289459,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729604774
    },
    {
        "content": "<p>Does this sound right?</p>",
        "id": 478289506,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729604788
    },
    {
        "content": "<p>That sounds right -- \"surely\" <code>ZLattice</code> isn't the only module which begins with two capitals is it? Surely there's some other module called <code>ZMod</code> or something? Because the output was just title casing those two lines.</p>",
        "id": 478294533,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729606108
    },
    {
        "content": "<p>Anything containing <code>NNRat</code>, <code>NNReal</code>, <code>ENNReal</code> for sure, yes</p>",
        "id": 478295056,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1729606275
    },
    {
        "content": "<p>Oh I bet I know what the issue is.</p>",
        "id": 478296217,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729606566
    },
    {
        "content": "<p>Hah yes I guessed right. (But I need to figure out why my guess is right before I spoil the fun.)</p>",
        "id": 478296365,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729606606
    },
    {
        "content": "<p>OK I can't guess how it happened, but some Eric (or other equivalent) may come along and have a guess. Anyways, I think what happened is ZLattice was recently renamed from <code>Zlattice</code> in <a href=\"https://github.com/leanprover-community/mathlib4/commit/85d6c78ac5782869d041c2ca6d3ca83cdde412c3\">https://github.com/leanprover-community/mathlib4/commit/85d6c78ac5782869d041c2ca6d3ca83cdde412c3</a> -- and somehow on your filesystem this change wasn't picked up. What I <em>don't</em> have a guess on is why -- on macOS renames of this sort are invisible because the two paths are equivalent, but git mv normally is good enough that even macOS is OK with picking this up when pulling a branch with commits that do these moves.</p>",
        "id": 478299158,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729607413
    },
    {
        "content": "<p>TL;DR there's a bug somewhere in something, but pretty sure my guess would be \"not Lean and not mk_all.lean\", it's somewhere else in the workflow, and I can't reproduce it with \"obvious\" things like \"clone mathlib4 from before that commit and then pull after it\", doing so produces the correct result, so something else must have happened but not 100% sure what.</p>",
        "id": 478299456,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729607500
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/113489-new-members/topic/PR.20.3A.20lint.20style.20not.20finding.20file/near/478299158\">said</a>:</p>\n<blockquote>\n<p>I think what happened is ZLattice was recently renamed from <code>Zlattice</code> in <a href=\"https://github.com/leanprover-community/mathlib4/commit/85d6c78ac5782869d041c2ca6d3ca83cdde412c3\">https://github.com/leanprover-community/mathlib4/commit/85d6c78ac5782869d041c2ca6d3ca83cdde412c3</a></p>\n</blockquote>\n<p><del>The opposite rename happened, as per the commit you are linking</del> Nevermind I can't read</p>",
        "id": 478302379,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1729608405
    },
    {
        "content": "<p>It's pretty cool how case-insensitivity is a hindrance to mathematical development.</p>",
        "id": 478316356,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1729611807
    }
]