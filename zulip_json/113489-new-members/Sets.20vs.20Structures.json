[
    {
        "content": "<p>Why are sets defined as a function instead of the following?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">    </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span>\n<span class=\"w\">    </span><span class=\"n\">prop</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">val</span>\n</code></pre></div>\n<p>Defining sub-algebraic structures (e.g. subgroups, etc) seem to be easier using this definition, since the set itself is a type instead of a term.</p>",
        "id": 480558468,
        "sender_full_name": "Luna",
        "timestamp": 1730771118
    },
    {
        "content": "<p>The general idea is that Set is a type that lets you do set operations (like unions, intersections etc) and then there is a coercion to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subtype#doc\">docs#Subtype</a> (your type) when you want to treat the set as a type, which doesn't have a good way to have these operations.</p>\n<p>This is used heavily by algebraic subobjects. The carrier set is coerced to a type when the subobject is treated like an object.</p>",
        "id": 480561110,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1730772865
    },
    {
        "content": "<p>Ok that makes sense. So why does Mathlib opt to create \"sub-\" versions of algebraic structures instead of interpreting <code>Group (Subtype P)</code> as a subgroup? Is it just preference or is there a technical benefit to create individual \"sub-\" classes for each algebraic structure?</p>",
        "id": 480563927,
        "sender_full_name": "Luna",
        "timestamp": 1730774713
    },
    {
        "content": "<p>Also just out of curiosity, is there a way to abuse the notational system in lean to accept <code>(a : (Set P₁) ∩ (Set P₂))</code> where intersection is given by</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">inter</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P₁</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P₂</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 480564067,
        "sender_full_name": "Luna",
        "timestamp": 1730774803
    },
    {
        "content": "<p>One of the important reasons to have e.g., <code>Subgroup</code>, is that there is a natural lattice structure on this type. Likewise for other subobject classes. Moreover, morphisms in the relevant categories will act on these subobjects too. In short: we don't care only that subgroups are groups, but about many more things besides.</p>",
        "id": 480564797,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1730775245
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"769874\">Luna</span> <a href=\"#narrow/channel/113489-new-members/topic/Sets.20vs.20Structures/near/480563927\">said</a>:</p>\n<blockquote>\n<p>instead of interpreting <code>Group (Subtype P)</code> as a subgroup?</p>\n</blockquote>\n<p>This is basically what mathlib does in the end to give subgroups a group structure. The way it works is that is that given <code>S : Subgroup G</code>, then there's a <code>Group (Subtype S.carrier)</code> structure.</p>",
        "id": 480566133,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1730775915
    },
    {
        "content": "<p>Ah! That makes sense. I was just expecting the definition of a <code>Subgroup</code> to be the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subtype</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 480566565,
        "sender_full_name": "Luna",
        "timestamp": 1730776106
    }
]