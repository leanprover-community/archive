[
    {
        "content": "<p>I tried moogle, leanexplore and even loogle (which is not the most beginner friendly) but I can't find what must be a standard result. I could use help with the specific theorem but also with what did I miss when searching for results?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">sum_eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hbd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">z</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">z</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">z</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 538324196,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1757370836
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> ∑ x ∈ ?s, ?f x = ∑ x ∈ ?s, ?g x</p>",
        "id": 538324624,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1757371183
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/BigOperators/Group/Finset/Defs.html#Equiv.Perm.sum_comp\">Equiv.Perm.sum_comp</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/BigOperators/Group/Finset/Defs.html#Equiv.Perm.sum_comp%27\">Equiv.Perm.sum_comp'</a>, and <a href=\"https://loogle.lean-lang.org/?q=%E2%88%91%20x%20%E2%88%88%20%3Fs%2C%20%3Ff%20x%20%3D%20%E2%88%91%20x%20%E2%88%88%20%3Fs%2C%20%3Fg%20x\">58 more</a></p>",
        "id": 538324633,
        "sender_full_name": "loogle",
        "timestamp": 1757371188
    },
    {
        "content": "<p>I haven't found it yet, but the first step is to realize this lemma can actually be generalized</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">sum_eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">bound</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hbd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">bound</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">heq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bound</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">bound</span>\n</code></pre></div>\n<p>(pseudo code)</p>",
        "id": 538324647,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1757371193
    },
    {
        "content": "<p>The ~10th hit is: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sum_eq_sum_iff_of_le#doc\">docs#Finset.sum_eq_sum_iff_of_le</a> which is what you want.</p>",
        "id": 538324679,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1757371205
    },
    {
        "content": "<p>I chose this pattern for loogle because it seemed the most specific of the expressions involved, but then I abstracted away the details to get more hits for this pattern.</p>",
        "id": 538324880,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1757371345
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/113489-new-members/topic/Searching.20for.20a.20statement.20about.20finset.20sum.20of.20positive.20terms/near/538324624\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"644391\">loogle</span> ∑ x ∈ ?s, ?f x = ∑ x ∈ ?s, ?g x</p>\n</blockquote>\n<p>That's amazing, you found it?! So when we are searching with loogle I take it ?s is a placeholder and you're just looking for search results where we have equality between two sums over the same set but arbitrary expressions within them to see what it comes up with?</p>",
        "id": 538329788,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1757375002
    },
    {
        "content": "<p>And actually, if you add another expression, you get only one hit: <span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> ∀ x, ?h x ≤ ?j x, ∑ x ∈ ?s, ?f x = ∑ x ∈ ?s, ?g x</p>",
        "id": 538340102,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1757384405
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Order/BigOperators/Group/Finset.html#Finset.sum_eq_sum_iff_of_le\">Finset.sum_eq_sum_iff_of_le</a></p>",
        "id": 538340107,
        "sender_full_name": "loogle",
        "timestamp": 1757384408
    },
    {
        "content": "<p>In the above, morally and in your head <code>h = f</code> and <code>j = g</code>, but it's not necessary in this case to reduce the search space sufficiently.</p>",
        "id": 538340226,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1757384514
    }
]