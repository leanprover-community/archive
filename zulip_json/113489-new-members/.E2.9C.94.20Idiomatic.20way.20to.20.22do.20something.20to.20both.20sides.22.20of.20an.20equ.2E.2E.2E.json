[
    {
        "content": "<p>Suppose I have <code>hÂ :Â a â‹„ b = ğŸ™</code>. I want to rewrite it to <code>aâ»Â¹ â‹„ (a â‹„ b) = aâ»Â¹ â‹„ ğŸ™</code>. In other words, I want to add <code>aâ»Â¹ â‹„</code> to both the left and the right side of <code>h</code>.</p>\n<p>Right now the only way I know to do this is by explicitly writing down the new statement in full and proving it by <code>congr</code>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">inv_eq_of_dia</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Groupâ‚</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">â‹„</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">ğŸ™</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"bp\">â‹„</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">â‹„</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"bp\">â‹„</span><span class=\"w\"> </span><span class=\"mi\">ğŸ™</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">congr</span>\n</code></pre></div>\n<p>Is there any different (more idiomatic?) way? I think I was assuming <code>rw</code> can somehow help me but couldn't see a way.</p>",
        "id": 503471001,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1741169519
    },
    {
        "content": "<p>The <code>apply_fun</code> tactic allows you to apply a function to both sides of <code>h</code></p>",
        "id": 503471314,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1741169614
    },
    {
        "content": "<p>So <code>apply_fun (aâ»Â¹ â‹„ \\.) at h</code> should work. Where <code>\\.</code> is the center-dot.</p>",
        "id": 503471482,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1741169659
    },
    {
        "content": "<p>You can also do <code>have h2 := congr(aâ»Â¹ â‹„ $h)</code> if you want more control (you can also put multiple equalities there).</p>",
        "id": 503471558,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1741169681
    },
    {
        "content": "<p>Neat, thanks!</p>",
        "id": 503471984,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1741169800
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"418569\">Dan Abramov</span> has marked this topic as resolved.</p>",
        "id": 503471998,
        "sender_full_name": "Notification Bot",
        "timestamp": 1741169803
    }
]