[
    {
        "content": "<p>Searching for <code>¬∅.Nonempty</code> on Loogle fails to find <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.not_nonempty_empty#doc\">docs#Set.not_nonempty_empty</a>, but searching for <code>¬(∅ : Set _).Nonempty</code> or <code>¬Set.Nonempty ∅</code> works. The failure is weird; it says:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Found</span><span class=\"w\"> </span><span class=\"mi\">9019</span><span class=\"w\"> </span><span class=\"n\">declarations</span><span class=\"w\"> </span><span class=\"n\">mentioning</span><span class=\"w\"> </span><span class=\"n\">Not</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Of</span><span class=\"w\"> </span><span class=\"n\">these</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">9010</span><span class=\"w\"> </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">pattern</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Of</span><span class=\"w\"> </span><span class=\"n\">these</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">first</span><span class=\"w\"> </span><span class=\"mi\">200</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">shown</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>so it completely ignores everything except for the negation.</p>\n<p>The bad query asks it to find a type that has <code>.Nonempty</code> and an instance of <code>EmptyCollection</code>, which maybe it can't do, but I expected it to either work or show an error.</p>\n<p>Is this a bug?</p>",
        "id": 546270049,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761061235
    },
    {
        "content": "<p>There's no capacity in Loogle for \"a type that mentions a constant with name fragment x\", so \"something that mentions <code>__.Nonempty</code>\" isn't handled. Since it can't infer the type of <code>∅.Nonempty</code>, I think it quits there and doesn't look for deeper terms it could resolve.</p>\n<p>Compare with loogling for <code>(1 : ℝ) ≤ (5 + ?a).ugly</code>. Since it doesn't know what <code>???.ugly</code> is, it can't resolve the terms inside either, so it just ignores the <code>5</code> and the <code>+</code>. But if you do <code>(1 : ℝ) ≤ (Real.pi + ?a).ugly</code>, then it can figure out that <code>Real.pi + ?a</code> must also be a real, and so it can deduce that must be <code>Real.ugly</code>, and then it complains that that doesn't exist.</p>",
        "id": 546294983,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1761068520
    },
    {
        "content": "<p>I wouldn't consider it a \"bug\", since it's just kind of how Lean's elaborator has to work. But yeah I guess you could imagine an improvement here</p>",
        "id": 546295189,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1761068586
    },
    {
        "content": "<p>So is the \"ignoring\" behavior in Loogle or Lean itself?</p>",
        "id": 546296809,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761069077
    }
]