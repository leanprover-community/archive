[
    {
        "content": "<p>In <a href=\"https://leanprover-community.github.io/mathematics_in_lean/C10_Topology.html#fundamentals\">sec.10.3.1</a> of <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a>, there is the following passage:</p>\n<blockquote>\n<p>The first constraint is thatÂ <code>ğ“Â x</code>, seen as a generalized set, contains the setÂ <code>{x}</code>Â seen as the generalized setÂ <code>pureÂ x</code>Â (explaining this weird name would be too much of a digression, so we simply accept it for now). Another way to say it is that if a predicate holds for points close toÂ <code>x</code>then it holds atÂ <code>x</code>.</p>\n<p>example (x : X) : pure x â‰¤ ğ“ x :=<br>\n  pure_le_nhds x</p>\n</blockquote>\n<p>What is <code>pure x</code> in this context?  More precisely, what exactly is <code>pure x</code> as a set of subsets of X?  Where can I find the definition?  F12 sends me to the definition of the typeclass <code>Pure</code>, which is not very helpful.</p>\n<p>Also, <code>check ğ“ x</code> tells me that <code>ğ“ x</code> is of type <code>Filter X</code>.  But even <code>#check pure x : Filter X</code> fails to infer the type: <code>pure x : ?m.2222 X</code>.  Why?</p>",
        "id": 486613560,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1733530110
    },
    {
        "content": "<p>It is the set of all sets that contain <code>x</code></p>",
        "id": 486617081,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1733532951
    },
    {
        "content": "<p>You need to put parentheses around <code>pure x : Filter X</code> in order to do the type ascription. Try <code>#check (pure x : Filter X)</code>.</p>",
        "id": 486617301,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1733533115
    },
    {
        "content": "<p>See here: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Filter/Defs.html#Filter.instPure\">Filter.instPure</a></p>",
        "id": 486617506,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1733533272
    },
    {
        "content": "<p>Thanks!  I was able to prove it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“Ÿ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n</code></pre></div>",
        "id": 486625128,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1733539615
    },
    {
        "content": "<p>I think it's good to use something like <code>simp?</code> learn why it is that these are equal â€” that points to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.principal_singleton#doc\">docs#Filter.principal_singleton</a> in Mathlib.Order.Filter.Basic, so at least that equality is meant to be part of the basic theory. If not for technical reasons, it could be proved with <code>rfl</code> (it could be by definition). Here's the definition of pure: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.instPure#doc\">docs#Filter.instPure</a></p>\n<p>If you want to know a bit more details, <code>Filter</code> forms a monad via <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.monad#doc\">docs#Filter.monad</a>, which is where this odd <code>pure</code> terminology is coming from.</p>",
        "id": 486628907,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1733542763
    },
    {
        "content": "<p>Thanks!  How does <code>Filter</code> form a monad?  What are the monad operations?</p>",
        "id": 486646997,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1733558925
    }
]