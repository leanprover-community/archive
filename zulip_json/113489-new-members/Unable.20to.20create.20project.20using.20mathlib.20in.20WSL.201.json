[
    {
        "content": "<p>I get the following error message:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">new_math1</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"o\">:</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">main'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">utils</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">utils</span><span class=\"bp\">.</span><span class=\"n\">rs</span><span class=\"o\">:</span><span class=\"mi\">472</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span>\n<span class=\"n\">called</span><span class=\"w\"> </span><span class=\"ss\">`Result</span><span class=\"bp\">::</span><span class=\"n\">unwrap</span><span class=\"o\">()</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"ss\">`Err</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">value</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">description</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Couldn't resolve host name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">extra</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"o\">(</span><span class=\"s2\">\"Could not resolve host: github.com\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"ss\">`RUST_BACKTRACE</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>\n<span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Operation</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">101.</span>\n</code></pre></div>\n<p>But I can access <code>github.com</code> e.g. <code>curl https://github.com</code> looks fine.</p>",
        "id": 510260211,
        "sender_full_name": "Qinshi Wang",
        "timestamp": 1743789412
    },
    {
        "content": "<p>Are you on windows? Did you try disabling your antivirus?</p>",
        "id": 510338087,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743832918
    },
    {
        "content": "<p>Yes. I'm using WSL 1 on Windows. I'm not using any antivirus except Windows itself. I don't think Windows' protection blocks Github.</p>",
        "id": 510489853,
        "sender_full_name": "Qinshi Wang",
        "timestamp": 1743951358
    },
    {
        "content": "<p>Well something is blocking GitHub I guess...</p>",
        "id": 510492447,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743953218
    },
    {
        "content": "<p>Yes this is going to be some not-really-Lean-related networking issue typically, often you being man-in-the-middled by some entity, and then your curl has been modified to deal with that.</p>",
        "id": 510499927,
        "sender_full_name": "Julian Berman",
        "timestamp": 1743958300
    },
    {
        "content": "<p>A concrete first suggestion would be to do what the error says, run <code>RUST_BACKTRACE=1 lean +...etc</code>. A second suggestion would be to run <code>dig github.com</code> and/or <code>nslookup github.com</code>.</p>",
        "id": 510500004,
        "sender_full_name": "Julian Berman",
        "timestamp": 1743958342
    },
    {
        "content": "<p>For another data point, I setup WSL1 Debian inside of a windows guest, running inside virtualbox on a linux host. <span class=\"user-mention\" data-user-id=\"869659\">@Qinshi Wang</span>, I tried the <code>lean</code> command you provided and, for what its worth, it does work.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">win11</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">mnt</span><span class=\"bp\">/</span><span class=\"n\">c</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">derek</span><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"o\">:</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.19</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">unknown</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">fafd381c9059</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 510500044,
        "sender_full_name": "Derek Rhodes",
        "timestamp": 1743958378
    },
    {
        "content": "<p>From <span class=\"user-mention\" data-user-id=\"317929\">@Derek Rhodes</span>'s comment, it is clear that there is a network connection issue. The reason is not clear. I'm in HK, not mainland China. I tried the diagnosis suggested above.<br>\nThe result of <code>dig github.com</code> looks normal:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">dig</span><span class=\"w\"> </span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span>\n\n<span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"bp\">&lt;&lt;&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">DiG</span><span class=\"w\"> </span><span class=\"mf\">9.16</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">-</span><span class=\"n\">Ubuntu</span><span class=\"w\"> </span><span class=\"bp\">&lt;&lt;&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">global</span><span class=\"w\"> </span><span class=\"n\">options</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">cmd</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">Got</span><span class=\"w\"> </span><span class=\"n\">answer</span><span class=\"o\">:</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"bp\">-&gt;&gt;</span><span class=\"n\">HEADER</span><span class=\"bp\">&lt;&lt;-</span><span class=\"w\"> </span><span class=\"n\">opcode</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">QUERY</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NOERROR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">45191</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">flags</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">qr</span><span class=\"w\"> </span><span class=\"n\">rd</span><span class=\"w\"> </span><span class=\"n\">ra</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">QUERY</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ANSWER</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AUTHORITY</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ADDITIONAL</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">OPT</span><span class=\"w\"> </span><span class=\"n\">PSEUDOSECTION</span><span class=\"o\">:</span>\n<span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">EDNS</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">flags</span><span class=\"o\">:</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">udp</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">512</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">QUESTION</span><span class=\"w\"> </span><span class=\"n\">SECTION</span><span class=\"o\">:</span>\n<span class=\"bp\">;</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">.</span><span class=\"w\">                    </span><span class=\"n\">IN</span><span class=\"w\">      </span><span class=\"n\">A</span>\n\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">ANSWER</span><span class=\"w\"> </span><span class=\"n\">SECTION</span><span class=\"o\">:</span>\n<span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">.</span><span class=\"w\">             </span><span class=\"mi\">60</span><span class=\"w\">      </span><span class=\"n\">IN</span><span class=\"w\">      </span><span class=\"n\">A</span><span class=\"w\">       </span><span class=\"mf\">20.205</span><span class=\"bp\">.</span><span class=\"m\">243</span><span class=\"bp\">.</span><span class=\"m\">166</span>\n\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">Query</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"w\"> </span><span class=\"n\">msec</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">SERVER</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">10.30</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">#</span><span class=\"mi\">53</span><span class=\"o\">(</span><span class=\"mf\">10.30</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">)</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">WHEN</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Mon</span><span class=\"w\"> </span><span class=\"n\">Apr</span><span class=\"w\"> </span><span class=\"mi\">07</span><span class=\"w\"> </span><span class=\"mi\">02</span><span class=\"o\">:</span><span class=\"mi\">50</span><span class=\"o\">:</span><span class=\"mi\">22</span><span class=\"w\"> </span><span class=\"n\">CST</span><span class=\"w\"> </span><span class=\"mi\">2025</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">MSG</span><span class=\"w\"> </span><span class=\"n\">SIZE</span><span class=\"w\">  </span><span class=\"n\">rcvd</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">55</span>\n</code></pre></div>\n<p>But <code>nslookup github.com</code> looks strange, that it <strong>returns a valid IP address but shows connection timed out</strong>. But I can ping the IP address and visit it in the browser.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">nslookup</span><span class=\"w\"> </span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span>\n<span class=\"n\">Server</span><span class=\"o\">:</span><span class=\"w\">         </span><span class=\"mf\">10.30</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">.</span><span class=\"m\">2</span>\n<span class=\"n\">Address</span><span class=\"o\">:</span><span class=\"w\">        </span><span class=\"mf\">10.30</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">#</span><span class=\"mi\">53</span>\n\n<span class=\"n\">Non</span><span class=\"bp\">-</span><span class=\"n\">authoritative</span><span class=\"w\"> </span><span class=\"n\">answer</span><span class=\"o\">:</span>\n<span class=\"n\">Name</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span>\n<span class=\"n\">Address</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">20.205</span><span class=\"bp\">.</span><span class=\"m\">243</span><span class=\"bp\">.</span><span class=\"m\">166</span>\n<span class=\"bp\">;;</span><span class=\"w\"> </span><span class=\"n\">connection</span><span class=\"w\"> </span><span class=\"n\">timed</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">servers</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">reached</span>\n</code></pre></div>",
        "id": 510510541,
        "sender_full_name": "Qinshi Wang",
        "timestamp": 1743966070
    },
    {
        "content": "<p><code>20.205.243.166</code> looks like it probably is the right IP from where you are. You could check <code>mtr 20.205.243.166</code> perhaps, which will tell you if somewhere in between you and GitHub is dropping your packets -- you could also check to see how your browser is configured in terms of proxy settings. It looks like maybe you're on a university network? You might also be able to ask them what's up. You can also run <code>curl -v github.com</code> and see if where it ends up talking to matches that IP or not. None of the above is Lean related though so others may recommend you look elsewhere to solve your issue and come back when it's fixed!</p>",
        "id": 510512841,
        "sender_full_name": "Julian Berman",
        "timestamp": 1743967865
    }
]