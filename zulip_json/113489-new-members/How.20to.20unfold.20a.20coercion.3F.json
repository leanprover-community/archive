[
    {
        "content": "<p>I am having a goal that contains both <code>ofNat</code> and <code>↑</code> in it. From what I understand, the latter is just an alias of the former, but this suffices to confuse <code>rw</code>. I can use <code>erw</code> to break through this wall, but is there a way to just replace <code>↑</code> throughout the goal?</p>",
        "id": 546992131,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761336259
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"375375\">@Darij Grinberg</span> they aren't literally the same, otherwise you would see the same result; the solution is that usually there are simp lemmas to convert a non-standard form to a standard form</p>",
        "id": 546992838,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761336590
    },
    {
        "content": "<p>how can I find the one that unfolds a coercion? I'm not sure it's even a lemma; looks like it is the definition of the ↑ here</p>",
        "id": 546992908,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761336627
    },
    {
        "content": "<p>which ofNat are you looking at?</p>",
        "id": 546992921,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761336634
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a></p>",
        "id": 546992942,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761336643
    },
    {
        "content": "<p>if you don't have mwe (which you should, try <code>extract_goal</code>), can you at least post a screenshot after you click into the ofNat that appears in the goal</p>",
        "id": 546993258,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761336777
    },
    {
        "content": "<p>Int.ofNat</p>",
        "id": 546993503,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761336894
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/aBGyCwlWq54xrv_8iO5SWEOL/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/aBGyCwlWq54xrv_8iO5SWEOL/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1437x879\" src=\"/user_uploads/thumbnail/3121/aBGyCwlWq54xrv_8iO5SWEOL/image.png/840x560.webp\"></a></div>",
        "id": 546993593,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761336934
    },
    {
        "content": "<p>the arrow is @Nat.cast ℤ instNatCastInt n : ℤ<br>\nthe ofNat is ofNat : ℕ → ℤ</p>",
        "id": 546993646,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761336962
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"375375\">@Darij Grinberg</span> the simmp lemma is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Int/Basic.html#Int.ofNat_eq_coe\">Int.ofNat_eq_coe</a> which is already tagged with simp</p>",
        "id": 546993745,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337004
    },
    {
        "content": "<p>ah thak you!</p>",
        "id": 546993770,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337016
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"375375\">Darij Grinberg</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20unfold.20a.20coercion.3F/near/546992908\">said</a>:</p>\n<blockquote>\n<p>how can I find the one that unfolds a coercion?</p>\n</blockquote>\n<p>this is the wrong question, we keep getting into an <a href=\"https://en.wikipedia.org/wiki/XY_problem\">#xy</a> problem, you shouldn't \"unfold coercion\", the correct thing is to do it the other way</p>",
        "id": 546993823,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337032
    },
    {
        "content": "<p>oh lol, i see i can finish the proof with <code>simp</code> at that point</p>",
        "id": 546993975,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337093
    },
    {
        "content": "<p>it's a beginners' trap to try to unfold everything, that is rarely the best way to do things</p>",
        "id": 546994018,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337115
    },
    {
        "content": "<p>i don't mind the coercion per se, i mind having two different forms of it :)</p>",
        "id": 546994051,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337129
    },
    {
        "content": "<p>which one should i be using in definitions?</p>",
        "id": 546994086,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337147
    },
    {
        "content": "<p>what do you mean two different forms</p>",
        "id": 546994109,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337163
    },
    {
        "content": "<p>↑ and <code>ofNat</code></p>",
        "id": 546994137,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337181
    },
    {
        "content": "<p>and what do you mean use in definition</p>",
        "id": 546994147,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337185
    },
    {
        "content": "<p>coercion only refers to the uparrow</p>",
        "id": 546994155,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337191
    },
    {
        "content": "<p>Int.ofNat is just another random function from Nat to Int</p>",
        "id": 546994215,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337211
    },
    {
        "content": "<p>i have<br>\n<code>def intfac (n : ℕ) := Int.ofNat (factorial n)</code><br>\nand i'm wondering if i should replace it by<br>\n<code>def intfac (n : ℕ) := ↑(factorial n)</code></p>",
        "id": 546994249,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337224
    },
    {
        "content": "<p>you shouldn't have it in the first place, what's the point of it</p>",
        "id": 546994292,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337247
    },
    {
        "content": "<p>i guess not much now that the arrow is so short</p>",
        "id": 546994320,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337261
    },
    {
        "content": "<p>no, you should never type the arrow, that's another beginner's trap (some people have disagreed with me on this point, but I stand by it)</p>",
        "id": 546994390,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337294
    },
    {
        "content": "<p>OK. what <em>is</em> it i should be doing? I want n! as an integer, not as a nonnegative integer</p>",
        "id": 546994437,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337313
    },
    {
        "content": "<p>the correct way is <code>(factorial n : ℤ)</code> (and not a separate definition)</p>",
        "id": 546994445,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337316
    },
    {
        "content": "<p>ah!</p>",
        "id": 546994491,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337336
    },
    {
        "content": "<p>yeah i guess it's pretty pointless given how simple this is</p>",
        "id": 546994562,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337368
    },
    {
        "content": "<p>and btw <code>n.factorial</code> is more preferred</p>",
        "id": 546994642,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337398
    },
    {
        "content": "<p>because it's closer to the math notation?</p>",
        "id": 546994703,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337431
    },
    {
        "content": "<p>no, dot notation is just preferred</p>",
        "id": 546994817,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337487
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/113489-new-members/topic/How.20to.20unfold.20a.20coercion.3F/near/546994817\">said</a>:</p>\n<blockquote>\n<p>no, dot notation is just preferred</p>\n</blockquote>\n<p>how come I've never heard of this</p>",
        "id": 546994871,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761337514
    },
    {
        "content": "<p>sorry i meant I personally prefer it, I should have been clear</p>",
        "id": 546994924,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761337543
    },
    {
        "content": "<p><span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
        "id": 546994972,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761337564
    }
]