[
    {
        "content": "<p>This may be a more philosophical and/or mathematical question than a question about Lean per se but I was wondering if there is any informal guidance on this. (I have no math background.)</p>\n<p>I've read that generally mathematicians prefer direct proofs over proofs by contradiction because <a href=\"https://mathoverflow.net/questions/12342/reductio-ad-absurdum-or-the-contrapositive/12400#12400\">a direct proof generates more useful information</a> that's known not to rely on a false premise. I could see that point.</p>\n<p>So would it be fair to say that in the Lean world, correspondingly, a direct proof (or a <code>contrapose!</code> proof) is considered superior to a proof using <code>by_contra</code>?</p>\n<p>A related question is about choice and law of excluded middle. Would it be fair to say that it's considered good form in Lean to avoid relying on them unless it's absolutely necessary? So that the proof is more general. Or am I reading too much into it, and it basically doesn't matter unless you're formalizing something with very specific constraints?</p>\n<p>If this is not specific enough, maybe I could narrow it down — would Mathlib take contributions of new formalizations that rely on <code>by_contra</code> or <code>em</code> where it isn't strictly necessary? Or would those be called out in code review with a request to simplify?</p>\n<p>Thanks.</p>",
        "id": 499276008,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1739377475
    },
    {
        "content": "<blockquote>\n<p>would Mathlib take contributions of new formalizations that rely on <code>by_contra</code> or <code>lem</code> where it isn't strictly necessary?</p>\n</blockquote>\n<p>Yes</p>\n<blockquote>\n<p>Or would those be called out in code review with a request to simplify?</p>\n</blockquote>\n<p>Usually only in the form \"this proof is much shorter if you &lt;approach that doesn't use <code>by_contra</code>&gt;\"</p>",
        "id": 499276275,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739377551
    },
    {
        "content": "<p>Also, except for some of the very initial results in mathlib, I think that the vast majority of lemmas in mathlib already depend on the \"maths axioms\": <code>propext, Classical.choice, Quot.sound</code>.</p>",
        "id": 499278562,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739378162
    },
    {
        "content": "<p>This means that very likely, it is not by changing a new proof that you actually avoid depending on those axioms.</p>",
        "id": 499278572,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739378163
    },
    {
        "content": "<p>I think there is a small subset of mathlib in which a small group of people would prefer to avoid the <code>Classical.choice</code> axiom when possible, but right now there is no machinery to enforce it. I don't think there is anyone who seriously objects to <code>propext</code> and <code>Quot.sound</code>.</p>",
        "id": 499280454,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739378664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"418569\">Dan Abramov</span> has marked this topic as resolved.</p>",
        "id": 499282990,
        "sender_full_name": "Notification Bot",
        "timestamp": 1739379367
    },
    {
        "content": "<p>OK that's very helpful, thanks!</p>",
        "id": 499283015,
        "sender_full_name": "Dan Abramov",
        "timestamp": 1739379373
    },
    {
        "content": "<blockquote>\n<p>I've read that generally mathematicians prefer direct proofs over proofs by contradiction</p>\n</blockquote>\n<p>I would say (in my rather outspoken way) that this assertion did not remotely align with my experience as a mathematician, and that it is only people interested in foundations of mathematics (e.g. logicians, who form quite a small subset of the mathematical community) who would care at all about this sort of thing. So I think a more accurate claim would be that generally people who are concerned with the foundations of mathematics (who form a small proportion of mathematicians) might have an opinion on direct proofs v proofs by contradiction, but that the vast majority of mathematicians would not have any opinion whatsoever. Lean's mathematics library is specifically being written as a tool which is usable by all mathematicians and as a result I would say that it has barely been influenced by the views of people interested in foundations. This is in stark contrast to for example a lot of the mathematics being formalised in Coq, where the community is far more skewed towards computer scientists who care far more about constructivism, because they care about programs, and a proof in constructive mathematics is very closely related to a program.</p>\n<p>Perhaps a summary of what I am saying is that the point that Hamkins is making is that a direct proof may give you extra information but that many mathematicians might not care about this information.</p>\n<p>It is however also the case that a direct proof might be easier to formalise :-)</p>",
        "id": 499295604,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739383133
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> I think there's <em>something</em> to mathematicians hesitating to use proofs by contradiction. More direct proofs have a feeling of causality to them, where you can see how things follow from other things, so when you read them you can feel how they're true, and they're easier to believe.</p>\n<p>Contradiction proofs are slipperier, since any mistake you make might introduce an apparent contradiction, and you may mistakenly believe the proof is complete.</p>\n<p>With Lean however, these considerations no longer apply, since the computer makes sure we're not accidentally admitting any mistakes into our arguments.</p>",
        "id": 499298516,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739384015
    },
    {
        "content": "<p>I guess there's one case where people might care: when you prove P by assuming not P, then proving P without reference to the hypothesis, and then claiming that your hypotheses P and not P are in contradiction</p>",
        "id": 499299161,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1739384227
    },
    {
        "content": "<p>I'm not sure about this \"extra information\" business though. Maybe it's extra information in the sense of \"stuff that makes you believe the proof more\" (or \"stuff that you know will help patch the proof even if it's wrong as written\" :-) ).</p>",
        "id": 499299174,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739384231
    },
    {
        "content": "<p>Another interesting anecdote is that in Miles Reid's book on undergraduate alg geom, in his proof that the Zariski topology on a variety is a topology (which basically involves proving several small results), he says that it's all straightforward apart from one argument which he'll give in full, and that one argument is precisely the one which needs LEM. So there we see a mathematician specifically emphasising a proof by contradiction because they think that it's more subtle for the readers to find.</p>",
        "id": 499299406,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739384304
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/channel/113489-new-members/topic/.E2.9C.94.20Is.20it.20good.20form.20to.20avoid.20by_contra.20and.2For.20em.3F/near/499299161\">said</a>:</p>\n<blockquote>\n<p>I guess there's one case where people might care: when you prove P by assuming not P, then proving P without reference to the hypothesis, and then claiming that your hypotheses P and not P are in contradiction</p>\n</blockquote>\n<p>I definitely flag this when I see my first year students do this. I also remember <span class=\"user-mention silent\" data-user-id=\"479731\">Lenny Taelman</span> correcting such a \"mistake\" in my BSc thesis <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
        "id": 499382212,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1739424367
    }
]