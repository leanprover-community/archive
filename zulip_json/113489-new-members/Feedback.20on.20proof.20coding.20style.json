[
    {
        "content": "<p>Hi everyone! I'm new to Lean and have been learning by formalizing results from algebraic geometry. I've worked on Lemma 5.7 from G√∂rtz-Wedhorn's \"Algebraic Geometry\" (2nd edition), which you can find here:<br>\n<strong>Lean file:</strong>¬†<a href=\"https://github.com/ADA-Projects/Lean-AG/blob/main/GWchap5/gw_sect5-3.lean\">https://github.com/ADA-Projects/Lean-AG/blob/main/GWchap5/gw_sect5-3.lean</a><br>\n<strong>Blueprint:</strong>¬†<a href=\"https://ada-projects.github.io/Lean-AG/\">https://ada-projects.github.io/Lean-AG/</a></p>\n<p>I have two questions:</p>\n<ol>\n<li><strong>Does this result already exist in mathlib?</strong>¬†I couldn't find it, but I may have missed something.</li>\n<li><strong>Any suggestions for making the proof more elegant?</strong>¬†The current proof is quite lengthy‚Äîlikely due to my inexperience with Lean proof style and the need to establish many \"trivial\" intermediate steps. I'd appreciate any feedback on improving the approach or making it more concise.</li>\n</ol>\n<p>Thanks in advance for any insights!<br>\n<em>P.S. Thanks to Pietro Monticone for the excellent Lean project template:</em>¬†<a href=\"https://github.com/pitmonticone/LeanProject\">https://github.com/pitmonticone/LeanProject</a></p>",
        "id": 539764273,
        "sender_full_name": "Alessandro D'Angelo",
        "timestamp": 1758028131
    },
    {
        "content": "<p>Welcome! One or two lemmas in your file is indeed in mathlib (e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Topology.IsEmbedding.closure_eq_preimage_closure_image#doc\">docs#Topology.IsEmbedding.closure_eq_preimage_closure_image</a>) but the majority is not, and they look really promising. I agree that the proof looks lengthy at places but it is already really impressive as a beginner. For the next step I would suggest you open PRs (following the <a href=\"https://leanprover-community.github.io/contribute/index.html\">contribution guideline</a>) of chunks of your file (IMO a good first chunk is everything up to <code>top_KrullDim_subspace_le</code>) and I or other mathlib reviewers can give you fine-grained feedbacks to the code.</p>",
        "id": 539767903,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1758028984
    },
    {
        "content": "<p>great! Thank you very much, will do!</p>",
        "id": 539773917,
        "sender_full_name": "Alessandro D'Angelo",
        "timestamp": 1758030435
    },
    {
        "content": "<p>OOC, why so many comments. Some are quite trivial, e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">    </span><span class=\"c1\">-- Step 2: `apply (WithBot.ne_bot_iff_exists).mpr`</span>\n<span class=\"w\">    </span><span class=\"c1\">-- This applies the `‚Üê` direction of the key `iff` lemma.</span>\n<span class=\"w\">    </span><span class=\"c1\">-- The goal becomes `topologicalKrullDim X ‚â† ‚ä•`.</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">WithBot</span><span class=\"bp\">.</span><span class=\"n\">ne_bot_iff_exists</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">mp</span>\n</code></pre></div>\n<p>I think to anyone familiar with Lean just <code>apply (WithBot.ne_bot_iff_exists).mp</code> is enough for this line.</p>",
        "id": 539919981,
        "sender_full_name": "Rado Kirov",
        "timestamp": 1758077322
    },
    {
        "content": "<p>Was this done with an agentic AI setup? If so, what was the setup if you don‚Äôt mind me asking?</p>",
        "id": 539920123,
        "sender_full_name": "Lawrence Wu (llllvvuu)",
        "timestamp": 1758077475
    },
    {
        "content": "<p>The use of emojis in the README definitely look like telltale sign (not that using AI is a problem).</p>",
        "id": 539920963,
        "sender_full_name": "Rado Kirov",
        "timestamp": 1758078249
    },
    {
        "content": "<p>I would say that its often nicer instead of</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">    </span><span class=\"n\">constructor</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"c1\">-- Goal 1: Prove `‚Üëy ‚àà Y`. This is true by definition of the subtype Y.</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">.</span><span class=\"n\">property</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"c1\">-- Goal 2: Prove `‚Üëy ‚àà closure ((‚Üë) '' A)`.</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Apply the fact that any set is a subset of its closure.</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">subset_closure</span>\n<span class=\"w\">      </span><span class=\"c1\">-- Now, the goal is to prove that `‚Üëy` is in the set itself.</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">mem_image_of_mem</span><span class=\"w\"> </span><span class=\"n\">Subtype</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">hy_in_A</span>\n</code></pre></div>\n<p>to have something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">.</span><span class=\"n\">property</span><span class=\"o\">,</span><span class=\"w\">  </span><span class=\"n\">subset_closure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mem_image_of_mem</span><span class=\"w\"> </span><span class=\"n\">Subtype</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">hy_in_A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚ü©</span>\n</code></pre></div>\n<p>I would avoid using multiple new lines of <code>apply</code> followed by new lines of <code>exact</code> for shorter proofs.  You should try go in and golf the LLM output as much as you can, because LLM can be very verbose and inefficient.</p>",
        "id": 539922213,
        "sender_full_name": "Yan Yablonovskiy üá∫üá¶",
        "timestamp": 1758079477
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"488971\">@Rado Kirov</span> <br>\nYeah the comments were more meant for myself, for learning. I've polished the file following mathlib guidelines, I'll push it soon.</p>\n<p><span class=\"user-mention\" data-user-id=\"607118\">@Lawrence Wu (llllvvuu)</span> <br>\nYes, I've used Gemini to help me with the Lean syntax that I still don't know well</p>",
        "id": 539933753,
        "sender_full_name": "Alessandro D'Angelo",
        "timestamp": 1758088492
    }
]