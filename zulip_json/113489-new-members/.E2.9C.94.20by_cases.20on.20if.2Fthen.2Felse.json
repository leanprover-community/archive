[
    {
        "content": "<p>Picking up Lean again, but I got stuck with doing a simple case distinction on an if/then/else.<br>\nI have this setup:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">test1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span>\n</code></pre></div>\n<p>...and now I don't know how to reduce the <code>ite</code>, given that its condition <code>pred i</code> is true (<code>simp</code> only does it if I inline <code>pred</code> in the theorem).<br>\n<a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOlZZQCmAbnGCQCZwAUwAXHICSEAlHAwLxwAscAPHGBxA5ERC4gEyI4AVjxpi0YiDgxiAZxgBGOoxbsm9AGYVq4+QDs4SOMXRricLO25GZk8WOGCAbCtTFLa1t7R31uLABPHDhHCIB9AGMkezU4VCZKYhpgaLg1UDA4AG1UAF04AFoKuAB3VAi4Kgh1cwByeDRgVJroAGsAfly1aCgonHlFZVUNACYdJjYOHWM+QWFPd2k/AKsbOwcnOBdgYy2pdfEfbcC9kMOuWNzIxOT1NIzTHJj88GKyyuqnW6fTUAEIhiMxuN/JM4CB4sBVHEYFAAK4OADecEATcBMAAqETADgAvnAsQAFJjkqAQQqkooAEWICWAVAI6Ac5PKtHScHJ7Fo1iwTGxrAMJz5112wQOzl2D0iQwKcSQ6HQcAg5nQDSKgGTCaiohLEACSqlKchhJCm6hgAGZ5nolq5MtkpUF9qEjss3OdRJc4L4LNKPfdwlEYs8kil3iYskI8DEqiokAkYMAEnBWiQalBEcRWnBDEhgByqAAaRqsuDmCDwQzAczZcwaJDmI0a4zyCgoVRQSwN7bJqAAc2I8GIAA9Mmp8pq4AADCUusz+Sz9d0hfpYee5KA1YrwuJ55Fohz/JMAdVQKDgSVR0aBNigNKggxiQA\">Here is my MRE.</a></p>\n<p>In particular I don't understand the error message of the <code>rw</code> in test3 that I tried:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">rewrite'</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">did</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">pattern</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">expression</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">b</span>\n</code></pre></div>\n<p>I guess this has something to do with the hidden type instance?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">@</span><span class=\"n\">instDecidableAnd</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">decLt</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">decLe</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Decidable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>I know that <code>split</code> would do it, but in my actual situation <code>split</code> picks the wrong if/then/else. Also I would like to understand how to work with <code>cases_by</code>.</p>\n<p>Do you know what is going on?</p>",
        "id": 505849352,
        "sender_full_name": "Henning Dieterichs",
        "timestamp": 1742046192
    },
    {
        "content": "<p><code>a</code> and <code>b</code> are not defined</p>",
        "id": 505850281,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1742046945
    },
    {
        "content": "<p>You can notice that they're grey, since you used them Lean automatically introduced <code>a b : α✝</code>, where <code>α✝</code> is some random type that is completely unrelated to all the rest.</p>",
        "id": 505850401,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1742047019
    },
    {
        "content": "<p>You probably want them to be integers</p>",
        "id": 505850431,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1742047036
    },
    {
        "content": "<blockquote>\n<p><code>a</code> and <code>b</code> are not defined</p>\n</blockquote>\n<p>It seems like they are inferred to be a generic type.<br>\n<a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOlZZQCmAbnGCQCZwAUwAXHICSEAlHAwLxwAscAPHGBxA5ERC4gEyI4AVjxpi0YiDgxiAZxgBGOAG9AjcABfOkjhYme9vSZsm9AGYVq4+QDs4J4ujXFT7bvZlJcTFhQQA2FVRiNw8vHyx2LlMATxw4FIB9AGMkbzU4VCZKYhpgNLg1UDA4AG1UAF04AFomuAB3VGS4Kgh1FwByeDRgfLboAGsAfnK1aChU9NmoebkoxWVVDQAmXUNjU3NLRhZWW2AHPkFhEKDpSOj3OE9vXzh/c8Cpa/Fw+5inuKvJJYBaZHJ5ApFJxlRZVWoNZqtYajCZqACEMzmoKWK1WChIyhAyQywFUGRgUAArj4dHBAE3ATAAKskwD4jLSAApMDlQCDVIw1AAixCywCoBHQPg5jVohTgHMsJjM9NOdA+HL+j2e8T8j2B2KqGSQ6HQcAgLnQXRqgGTCaiUrLEACSqnqePWKnUMAAzLsjLQlYc1dZVQFiqVNbEXgk3mqHHcvqIfnAIq4tYDo/ryiDsrl1JDHCUhHh0i0VEgsjBgFk4P0SG0oKTiP04HYkMBJVQADTdMVwFwQeB2YAuUouDRIFwOs0OeQUFCqKBuYf3MtQADmxHgxAAHsU1JVzXAAAYfMPOKJuSaRnyTLBH8pQNq1IkkskU6kFRqlgDqqBQcBySkIWRJ5lmgaZ0iAA\">I updated the example here to make these parameters explicit.</a></p>\n<p>It doesn't change the error though.</p>",
        "id": 505850877,
        "sender_full_name": "Henning Dieterichs",
        "timestamp": 1742047356
    },
    {
        "content": "<blockquote>\n<p>You probably want them to be integers</p>\n</blockquote>\n<p>In this example, I really want them to be an arbitrary value, a and b just have to have the same type. I don't see how that is problematic?</p>",
        "id": 505850951,
        "sender_full_name": "Henning Dieterichs",
        "timestamp": 1742047418
    },
    {
        "content": "<p>I figured out why my example does not work: The simp needed the <code>abbrev</code> definition as argument and the the rewrite failed because <code>α</code> was of <code>Type u</code> in the test theorem and of <code>Type 0</code>in the reduce theorem.</p>\n<p><a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOlZZQCmAbnGCQCZwAUwAXHICSEAlHAwLxwAscAPHGBxA5ERC4gEyI4AVjxpi0YiDgxiAZxgBGOAG9AjcABfOkjhYme9vSZsm9AGYVq4+QDs4J4ujXFT7bvZlJcTFhQQA2FVRiNw8vHyx2LlMATxw4FIB9AGMkbzU4VCZKYhpgNLg1UDA4AG1UABpHEoBdOABaNrgAd1RkuCoIdRcAcng0YHyu6ABrAH5ytWgoVPTFqGW5KMVlVQ0AJl1DY1NzS0YWVltgBz5BYRCg6Ujo9zhPb184f2vAqXvxcLPGJvOKfJJYFaZHJ5ApFJxlVZVWqoVodSITbozNQAQgWS0haw2mwUJGUIGSGWAqgyMCgAFcfPojDo4AAFJisqAQapGGoAEWIWWAVAI6B8rNatEKbMsJjMcAsVwcrKBr3e8T8r3BBKqGSQ6HQcAgLnQfRqgGTCah0rLEACSqmaxO2KnUMAAzIcjLQ5ac6OcbH6HMVSqrYh8El9A79ggC4BFXGrQRHteUIdlcupYU1Snh0miYEgsjBgFk4MMSF0oFTiMM4HYkMAxVRGlRhXAXBB4HZgC5Si4NEgXDajQ55BQUKooG4e88VEgoABzYjwYgAD2KakqxrgAAMfsHnFE3LMwz5Zlgd+UxfBVxxuOTKdTaQyCq9cOkoF1aqvUZ0AOqoCgcA5HSMLjPkxDrNA8zpEAA\">This updated example works as expected.</a></p>",
        "id": 505852113,
        "sender_full_name": "Henning Dieterichs",
        "timestamp": 1742048183
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"234196\">Henning Dieterichs</span> has marked this topic as resolved.</p>",
        "id": 505852118,
        "sender_full_name": "Notification Bot",
        "timestamp": 1742048187
    },
    {
        "content": "<p>Another alternative is <code>split</code> which works in all cases. You might then need <code>rename_i</code> though</p>",
        "id": 505881562,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1742069594
    },
    {
        "content": "<p>You can also use <code>if_pos h</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">test1</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">if_pos</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I'm confused as to why <code>pred</code> needs to be passed in to reduce the <code>if</code>. The strange thing is that the second case does simplifies as you'd expect with just <code>h</code> and once the first case can finish the goal, the <code>pred</code> is no longer needed. For example,</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n<span class=\"c1\">-- if they finish the goal, neither case needs `pred`</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">test1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">omega</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">omega</span><span class=\"o\">]</span>\n<span class=\"c1\">-- first case needs `pred` to make progress, the second doesn't</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">test1'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pred</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- needs `pred`</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- does not need `pred`</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 505882361,
        "sender_full_name": "Eric Paul",
        "timestamp": 1742070196
    }
]