[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasurableSpace</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">generateFrom_mono'</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">generateFrom</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">generateFrom</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n</code></pre></div>\n<p>displays as </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MeasurableSet</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"n\">MeasurableSet</span><span class=\"w\"> </span><span class=\"n\">t</span>\n</code></pre></div>\n<p>which is confusing. If I use</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">reduce</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">ht</span>\n<span class=\"w\">  </span><span class=\"n\">reduce</span>\n</code></pre></div>\n<p>then I can see</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GenerateMeasurable</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"n\">GenerateMeasurable</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"w\"> </span><span class=\"n\">t</span>\n</code></pre></div>\n<p>which is easier to understand. Is there a way to make this clearer display happen without me doing <code>reduce</code> every time?</p>",
        "id": 491024061,
        "sender_full_name": "Iocta",
        "timestamp": 1735327728
    },
    {
        "content": "<p>If you hover over the terms you can see what's going on without unfolding</p>",
        "id": 491041819,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735342034
    },
    {
        "content": "<p>I can't make it display like that normally?</p>",
        "id": 491041904,
        "sender_full_name": "Iocta",
        "timestamp": 1735342091
    },
    {
        "content": "<p><code>set_option pp.implicit true</code> or something like that should switch implicits on globally.</p>",
        "id": 491042038,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735342237
    },
    {
        "content": "<p><code>set_option pp.explicit true</code> is a little noisy but yeah that works</p>",
        "id": 491042228,
        "sender_full_name": "Iocta",
        "timestamp": 1735342421
    },
    {
        "content": "<p>In general one would only expect one measurable space structure on a type so this isn't an issue. If you have more than one then I think it's just generally expected that you know what you're doing eg know the hover trick. Poor display will probably be the least of your worries -- typeclass synthesis being annoying will be more problematic</p>",
        "id": 491042864,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735343001
    }
]