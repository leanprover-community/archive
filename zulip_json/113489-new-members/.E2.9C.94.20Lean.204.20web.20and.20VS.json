[
    {
        "content": "<p>While having the same code on these two plateforms, \" unknown identifier 'f'\" is given on VS but not on web.  Adding  (variable..) can solve it. But I am wondering, why?</p>",
        "id": 397621835,
        "sender_full_name": "Ming Li",
        "timestamp": 1697773785
    },
    {
        "content": "<p>Do you have a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> ?</p>",
        "id": 397628255,
        "sender_full_name": "Utensil Song",
        "timestamp": 1697777029
    },
    {
        "content": "<p>Without the <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> we can only guess. Is autoImplicit true in the web editor?</p>",
        "id": 397628803,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1697777429
    },
    {
        "content": "<p>The code is  from Patrick's <a href=\"https://github.com/leanprover-community/tutorials4/tree/master/Tutorials/Solutions\">#tutorial4</a>. I study part of it on Lean 4 web.  Being too long , so it is splitted as follows. </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">--import Mathlib</span>\n\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Int.Parity</span>\n<span class=\"c1\">-- We want to be able to use Lean's built-in \"help\" functionality</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic.LibrarySearch</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Analysis.SpecificLimits.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Int.Parity</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Topology.Sequences</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Init.Data.Int.Order</span>\n\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Order.Ring.Canonical</span>\n\n\n<span class=\"kn\">open</span> <span class=\"n\">Set</span> <span class=\"n\">Filter</span>\n<span class=\"kd\">def</span> <span class=\"n\">ContinuousAtPt</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">x₀</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∀</span> <span class=\"n\">ε</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">δ</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"bp\">|</span><span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"n\">x₀</span><span class=\"bp\">|</span> <span class=\"bp\">≤</span> <span class=\"n\">δ</span> <span class=\"bp\">→</span> <span class=\"bp\">|</span><span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"n\">f</span> <span class=\"n\">x₀</span><span class=\"bp\">|</span> <span class=\"bp\">≤</span> <span class=\"n\">ε</span>\n<span class=\"kd\">def</span> <span class=\"n\">TendstoInfinity</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∀</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span> <span class=\"bp\">≥</span> <span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">≥</span> <span class=\"n\">A</span>\n<span class=\"kd\">def</span> <span class=\"n\">UpperBound</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∀</span> <span class=\"n\">a</span> <span class=\"bp\">∈</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">≤</span> <span class=\"n\">x</span>\n<span class=\"kd\">def</span> <span class=\"n\">IsSup</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"n\">UpperBound</span> <span class=\"n\">A</span> <span class=\"n\">x</span> <span class=\"bp\">∧</span> <span class=\"bp\">∀</span> <span class=\"n\">y</span><span class=\"o\">,</span> <span class=\"n\">UpperBound</span> <span class=\"n\">A</span> <span class=\"n\">y</span> <span class=\"bp\">→</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">y</span>\n\n\n<span class=\"c1\">-- 0076</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">squeeze_infinity</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"o\">:</span> <span class=\"n\">TendstoInfinity</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">huv</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">≤</span> <span class=\"n\">v</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">TendstoInfinity</span> <span class=\"n\">v</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"n\">intro</span> <span class=\"n\">A</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hu</span> <span class=\"n\">A</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">huv</span> <span class=\"n\">n</span>\n  <span class=\"n\">linarith</span>\n  <span class=\"c1\">-- sorry</span>\n\n  <span class=\"kd\">theorem</span> <span class=\"n\">seqLimit_id</span> <span class=\"o\">:</span> <span class=\"n\">TendstoInfinity</span> <span class=\"k\">fun</span> <span class=\"n\">n</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">A</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">exists_nat_gt</span> <span class=\"n\">A</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"bp\">≥</span> <span class=\"n\">N</span><span class=\"bp\">;</span> <span class=\"n\">exact_mod_cast</span> <span class=\"n\">hn</span>\n  <span class=\"n\">linarith</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">Extraction</span> <span class=\"o\">(</span><span class=\"n\">φ</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∀</span> <span class=\"n\">n</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">&lt;</span> <span class=\"n\">m</span> <span class=\"bp\">→</span> <span class=\"n\">φ</span> <span class=\"n\">n</span> <span class=\"bp\">&lt;</span> <span class=\"n\">φ</span> <span class=\"n\">m</span>\n<span class=\"kd\">def</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">l</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∀</span> <span class=\"n\">ε</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span> <span class=\"bp\">≥</span> <span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"bp\">|</span><span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"n\">l</span><span class=\"bp\">|</span> <span class=\"bp\">≤</span> <span class=\"n\">ε</span>\n<span class=\"kd\">def</span> <span class=\"n\">ClusterPoint</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∃</span> <span class=\"n\">φ</span><span class=\"o\">,</span> <span class=\"n\">Extraction</span> <span class=\"n\">φ</span> <span class=\"bp\">∧</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"bp\">∘</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"n\">a</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">bolzano_weierstrass</span> <span class=\"o\">{</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∃</span> <span class=\"n\">c</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">ClusterPoint</span> <span class=\"n\">u</span> <span class=\"n\">c</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rcases</span><span class=\"o\">(</span><span class=\"n\">isCompact_Icc</span> <span class=\"o\">:</span> <span class=\"n\">IsCompact</span> <span class=\"o\">(</span><span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">tendsto_subseq</span> <span class=\"n\">h</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">c</span><span class=\"o\">,</span> <span class=\"n\">c_in</span><span class=\"o\">,</span> <span class=\"n\">φ</span><span class=\"o\">,</span> <span class=\"n\">hφ</span><span class=\"o\">,</span> <span class=\"n\">lim</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">c</span><span class=\"o\">,</span> <span class=\"n\">c_in</span><span class=\"o\">,</span> <span class=\"n\">φ</span><span class=\"o\">,</span> <span class=\"n\">hφ</span>\n  <span class=\"n\">simp_rw</span> <span class=\"o\">[</span><span class=\"n\">Metric.tendsto_nhds</span><span class=\"o\">,</span> <span class=\"n\">eventually_atTop</span><span class=\"o\">,</span> <span class=\"n\">Real.dist_eq</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">lim</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">lim</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">exact</span> <span class=\"n\">le_of_lt</span> <span class=\"o\">(</span><span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"n\">hn</span><span class=\"o\">)</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">id_le_extraction</span> <span class=\"o\">{</span><span class=\"n\">φ</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">Extraction</span> <span class=\"n\">φ</span> <span class=\"bp\">→</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">≤</span> <span class=\"n\">φ</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">hyp</span> <span class=\"n\">n</span>\n  <span class=\"n\">induction'</span> <span class=\"n\">n</span> <span class=\"k\">with</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"bp\">·</span> <span class=\"n\">exact</span> <span class=\"n\">Nat.zero_le</span> <span class=\"n\">_</span>\n  <span class=\"bp\">·</span> <span class=\"n\">exact</span> <span class=\"n\">Nat.succ_le_of_lt</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span> <span class=\"o\">[</span><span class=\"n\">hyp</span> <span class=\"n\">n</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)])</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">ge_max_iff</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">_</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">LinearOrder</span> <span class=\"n\">α</span><span class=\"o\">]</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">r</span> <span class=\"bp\">≥</span> <span class=\"n\">max</span> <span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span> <span class=\"bp\">≥</span> <span class=\"n\">p</span> <span class=\"bp\">∧</span> <span class=\"n\">r</span> <span class=\"bp\">≥</span> <span class=\"n\">q</span> <span class=\"o\">:=</span>\n  <span class=\"n\">max_le_iff</span>\n\n\n<span class=\"kd\">theorem</span> <span class=\"n\">lt_sup</span> <span class=\"o\">{</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hx</span> <span class=\"o\">:</span> <span class=\"n\">IsSup</span> <span class=\"n\">A</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">y</span><span class=\"o\">,</span> <span class=\"n\">y</span> <span class=\"bp\">&lt;</span> <span class=\"n\">x</span> <span class=\"bp\">→</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span> <span class=\"bp\">∈</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">y</span> <span class=\"bp\">&lt;</span> <span class=\"n\">a</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">y</span>\n  <span class=\"n\">contrapose</span><span class=\"bp\">!</span>\n  <span class=\"n\">exact</span> <span class=\"n\">hx.right</span> <span class=\"n\">y</span>\n\n <span class=\"kd\">theorem</span> <span class=\"n\">squeeze</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"n\">v</span> <span class=\"n\">w</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">l</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hw</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">w</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">≤</span> <span class=\"n\">v</span> <span class=\"n\">n</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h'</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">v</span> <span class=\"n\">n</span> <span class=\"bp\">≤</span> <span class=\"n\">w</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">v</span> <span class=\"n\">l</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hu</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hw</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N'</span><span class=\"o\">,</span> <span class=\"n\">hN'</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">ge_max_iff</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">hn</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN'</span> <span class=\"n\">n</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">h</span> <span class=\"n\">n</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">h'</span> <span class=\"n\">n</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">abs_le</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"bp\">*</span>\n  <span class=\"n\">constructor</span> <span class=\"bp\">&lt;;&gt;</span> <span class=\"n\">linarith</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">inv_succ_le_all</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">ε</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">N</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span> <span class=\"bp\">≥</span> <span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"bp\">≤</span> <span class=\"n\">ε</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">convert</span> <span class=\"n\">Metric.tendsto_atTop.mp</span> <span class=\"n\">tendsto_one_div_add_atTop_nhds_0_nat</span> <span class=\"n\">using</span> <span class=\"mi\">0</span>\n  <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">Real.dist_eq</span><span class=\"o\">,</span> <span class=\"n\">sub_zero</span><span class=\"o\">]</span>\n  <span class=\"n\">constructor</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span> <span class=\"o\">(</span><span class=\"n\">ε</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">abs_of_pos</span> <span class=\"o\">(</span><span class=\"n\">Nat.one_div_pos_of_nat</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">)]</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">linarith</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span> <span class=\"n\">ε</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">abs_of_pos</span> <span class=\"o\">(</span><span class=\"bp\">@</span><span class=\"n\">Nat.one_div_pos_of_nat</span> <span class=\"n\">ℝ</span> <span class=\"n\">_</span> <span class=\"n\">n</span><span class=\"o\">)]</span> <span class=\"n\">at</span> <span class=\"n\">hN</span>\n  <span class=\"n\">linarith</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">limit_of_sub_le_inv_succ</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"bp\">|</span><span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"n\">x</span><span class=\"bp\">|</span> <span class=\"bp\">≤</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">))</span> <span class=\"o\">:</span>\n    <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">inv_succ_le_all</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">h</span> <span class=\"n\">n</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">linarith</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">limit_const_sub_inv_succ</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">n</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">))</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">refine'</span> <span class=\"n\">limit_of_sub_le_inv_succ</span> <span class=\"k\">fun</span> <span class=\"n\">n</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">_</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"k\">show</span> <span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">))</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span><span class=\"o\">,</span> <span class=\"n\">abs_neg</span><span class=\"o\">,</span> <span class=\"n\">abs_of_pos</span><span class=\"o\">]</span>\n  <span class=\"n\">linarith</span> <span class=\"o\">[</span><span class=\"bp\">@</span><span class=\"n\">Nat.one_div_pos_of_nat</span> <span class=\"n\">ℝ</span> <span class=\"n\">_</span> <span class=\"n\">n</span><span class=\"o\">]</span>\n\n\n<span class=\"kd\">theorem</span> <span class=\"n\">limit_const</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">_</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"k\">fun</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"bp\">=&gt;</span>\n  <span class=\"o\">⟨</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"k\">fun</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"bp\">=&gt;</span> <span class=\"kd\">by</span> <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">le_of_lt</span> <span class=\"n\">ε_pos</span><span class=\"o\">]⟩</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">le_of_le_add_all</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">ε</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">y</span> <span class=\"bp\">≤</span> <span class=\"n\">x</span> <span class=\"bp\">+</span> <span class=\"n\">ε</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">y</span> <span class=\"bp\">≤</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">contrapose</span><span class=\"bp\">!</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span>\n  <span class=\"n\">use</span> <span class=\"o\">(</span><span class=\"n\">y</span> <span class=\"bp\">-</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span>\n  <span class=\"n\">constructor</span> <span class=\"bp\">&lt;;&gt;</span> <span class=\"n\">linarith</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">lim_le</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">ineg</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">≤</span> <span class=\"n\">y</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">y</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">apply</span> <span class=\"n\">le_of_le_add_all</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hu</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">N</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">ineg</span> <span class=\"n\">N</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">abs_le</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">hN</span>\n  <span class=\"n\">linarith</span>\n\n<span class=\"c1\">-- 0072</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">isSup_iff</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">IsSup</span> <span class=\"n\">A</span> <span class=\"n\">x</span> <span class=\"bp\">↔</span> <span class=\"n\">UpperBound</span> <span class=\"n\">A</span> <span class=\"n\">x</span> <span class=\"bp\">∧</span> <span class=\"bp\">∃</span> <span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">,</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">x</span> <span class=\"bp\">∧</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">∈</span> <span class=\"n\">A</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">constructor</span>\n  <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">h</span>\n    <span class=\"n\">constructor</span>\n    <span class=\"bp\">·</span><span class=\"c1\">-- sorry</span>\n      <span class=\"n\">exact</span> <span class=\"n\">h.left</span>\n    <span class=\"c1\">-- sorry</span>\n    <span class=\"bp\">·</span> <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span> <span class=\"bp\">∈</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">&lt;</span> <span class=\"n\">a</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n        <span class=\"n\">intro</span> <span class=\"n\">n</span>\n        <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span> <span class=\"o\">:=</span> <span class=\"n\">Nat.one_div_pos_of_nat</span>\n        <span class=\"c1\">-- sorry</span>\n        <span class=\"n\">exact</span> <span class=\"n\">lt_sup</span> <span class=\"n\">h</span> <span class=\"n\">_</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n      <span class=\"c1\">-- sorry</span>\n      <span class=\"n\">choose</span> <span class=\"n\">u</span> <span class=\"n\">hu</span> <span class=\"n\">using</span> <span class=\"n\">this</span>\n      <span class=\"c1\">-- sorry</span>\n      <span class=\"n\">use</span> <span class=\"n\">u</span>\n      <span class=\"n\">constructor</span>\n      <span class=\"bp\">·</span> <span class=\"n\">apply</span> <span class=\"n\">squeeze</span> <span class=\"o\">(</span><span class=\"n\">limit_const_sub_inv_succ</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">limit_const</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n        <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">n</span>\n          <span class=\"n\">exact</span> <span class=\"n\">le_of_lt</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n        <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">n</span>\n          <span class=\"n\">exact</span> <span class=\"n\">h.1</span> <span class=\"n\">_</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n      <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">n</span>\n        <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"bp\">·</span> <span class=\"n\">rintro</span> <span class=\"o\">⟨</span><span class=\"n\">maj</span><span class=\"o\">,</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">limu</span><span class=\"o\">,</span> <span class=\"n\">u_in</span><span class=\"o\">⟩</span>\n    <span class=\"c1\">-- sorry</span>\n    <span class=\"n\">constructor</span>\n    <span class=\"bp\">·</span> <span class=\"n\">exact</span> <span class=\"n\">maj</span>\n    <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">y</span> <span class=\"n\">ymaj</span>\n      <span class=\"n\">apply</span> <span class=\"n\">lim_le</span> <span class=\"n\">limu</span>\n      <span class=\"n\">intro</span> <span class=\"n\">n</span>\n      <span class=\"n\">apply</span> <span class=\"n\">ymaj</span>\n      <span class=\"n\">apply</span> <span class=\"n\">u_in</span>\n  <span class=\"c1\">-- sorry</span>\n\n<span class=\"c1\">-- 0073</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">seq_continuous_of_continuous</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"n\">ContinuousAtPt</span> <span class=\"n\">f</span> <span class=\"n\">x₀</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">x₀</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"bp\">∘</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">x₀</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hf</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">δ</span><span class=\"o\">,</span> <span class=\"n\">δ_pos</span><span class=\"o\">,</span> <span class=\"n\">hδ</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hu</span> <span class=\"n\">δ</span> <span class=\"n\">δ_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">apply</span> <span class=\"n\">hδ</span>\n  <span class=\"n\">exact</span> <span class=\"n\">hN</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"c1\">-- sorry</span>\n\n\n <span class=\"c1\">-- 0075</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">subseq_tendstoInfinity</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">TendstoInfinity</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hφ</span> <span class=\"o\">:</span> <span class=\"n\">Extraction</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">TendstoInfinity</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"bp\">∘</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"n\">intro</span> <span class=\"n\">A</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span> <span class=\"n\">A</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">apply</span> <span class=\"n\">hN</span>\n  <span class=\"k\">calc</span>\n    <span class=\"n\">N</span> <span class=\"bp\">≤</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"n\">hn</span>\n    <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"n\">φ</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"n\">id_le_extraction</span> <span class=\"n\">hφ</span> <span class=\"n\">n</span>\n  <span class=\"c1\">-- sorry</span>\n\n\n<span class=\"kd\">theorem</span> <span class=\"n\">not_seqLimit_of_tendstoInfinity</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">TendstoInfinity</span> <span class=\"n\">u</span> <span class=\"bp\">→</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"bp\">¬</span><span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">lim_infinie</span> <span class=\"n\">x</span> <span class=\"n\">lim_x</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">lim_x</span> <span class=\"mi\">1</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">lim_infinie</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N'</span><span class=\"o\">,</span> <span class=\"n\">hN'</span><span class=\"o\">⟩</span>\n  <span class=\"k\">let</span> <span class=\"n\">N₀</span> <span class=\"o\">:=</span> <span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"n\">N₀</span> <span class=\"o\">(</span><span class=\"n\">le_max_left</span> <span class=\"n\">_</span> <span class=\"n\">_</span><span class=\"o\">)</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN'</span> <span class=\"n\">N₀</span> <span class=\"o\">(</span><span class=\"n\">le_max_right</span> <span class=\"n\">_</span> <span class=\"n\">_</span><span class=\"o\">)</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">abs_le</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">hN</span>\n  <span class=\"n\">linarith</span>\n</code></pre></div>\n<p>The second part is next post.</p>",
        "id": 397632537,
        "sender_full_name": "Ming Li",
        "timestamp": 1697779985
    },
    {
        "content": "<p>For the last example, the word \"unique\" is occupied. Changing it solves the error. Why? </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- 0077</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">bdd_above_segment</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">ContinuousAtPt</span> <span class=\"n\">f</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∃</span> <span class=\"n\">M</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">M</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"n\">by_contra</span> <span class=\"n\">H</span>\n  <span class=\"n\">push_neg</span>  <span class=\"n\">at</span> <span class=\"n\">H</span>\n  <span class=\"k\">have</span> <span class=\"n\">clef</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"bp\">∧</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">&gt;</span> <span class=\"n\">n</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span>\n  <span class=\"n\">apply</span> <span class=\"n\">H</span>\n  <span class=\"n\">clear</span> <span class=\"n\">H</span>\n  <span class=\"n\">choose</span> <span class=\"n\">u</span> <span class=\"n\">hu</span> <span class=\"n\">using</span> <span class=\"n\">clef</span>\n  <span class=\"k\">have</span> <span class=\"n\">lim_infinie</span> <span class=\"o\">:</span> <span class=\"n\">TendstoInfinity</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"bp\">∘</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n  <span class=\"n\">apply</span> <span class=\"n\">squeeze_infinity</span> <span class=\"n\">seqLimit_id</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hu</span> <span class=\"n\">n</span>\n  <span class=\"n\">dsimp</span>\n  <span class=\"n\">linarith</span>\n  <span class=\"k\">have</span> <span class=\"n\">bornes</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">u</span> <span class=\"n\">n</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span>\n  <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">hu</span> <span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">bolzano_weierstrass</span> <span class=\"n\">bornes</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">c</span><span class=\"o\">,</span> <span class=\"n\">c_dans</span><span class=\"o\">,</span> <span class=\"n\">φ</span><span class=\"o\">,</span> <span class=\"n\">φ_extr</span><span class=\"o\">,</span> <span class=\"n\">lim</span><span class=\"o\">⟩</span>\n  <span class=\"k\">have</span> <span class=\"n\">lim_infinie_extr</span> <span class=\"o\">:</span> <span class=\"n\">TendstoInfinity</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"bp\">∘</span> <span class=\"n\">u</span> <span class=\"bp\">∘</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">subseq_tendstoInfinity</span> <span class=\"n\">lim_infinie</span> <span class=\"n\">φ_extr</span>\n  <span class=\"k\">have</span> <span class=\"n\">lim_extr</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"bp\">∘</span> <span class=\"n\">u</span> <span class=\"bp\">∘</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">c</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">seq_continuous_of_continuous</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"n\">c</span> <span class=\"n\">c_dans</span><span class=\"o\">)</span> <span class=\"n\">lim</span>\n  <span class=\"n\">exact</span> <span class=\"n\">not_seqLimit_of_tendstoInfinity</span> <span class=\"n\">lim_infinie_extr</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">c</span><span class=\"o\">)</span> <span class=\"n\">lim_extr</span>\n  <span class=\"c1\">-- sorry</span>\n<span class=\"c1\">-- 0078</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">continuous_opposite</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x₀</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">ContinuousAtPt</span> <span class=\"n\">f</span> <span class=\"n\">x₀</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">ContinuousAtPt</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">x</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">-</span><span class=\"n\">f</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"n\">x₀</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">δ</span><span class=\"o\">,</span> <span class=\"n\">h</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">δ_pos</span><span class=\"o\">,</span> <span class=\"n\">h</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">δ</span><span class=\"o\">,</span> <span class=\"n\">δ_pos</span>\n  <span class=\"n\">intro</span> <span class=\"n\">y</span> <span class=\"n\">hy</span>\n  <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"bp\">-</span><span class=\"n\">f</span> <span class=\"n\">y</span> <span class=\"bp\">-</span> <span class=\"bp\">-</span><span class=\"n\">f</span> <span class=\"n\">x₀</span> <span class=\"bp\">=</span> <span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">y</span> <span class=\"bp\">-</span> <span class=\"n\">f</span> <span class=\"n\">x₀</span><span class=\"o\">)</span><span class=\"bp\">;</span> <span class=\"n\">ring</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">this</span><span class=\"o\">,</span> <span class=\"n\">abs_neg</span><span class=\"o\">]</span>\n  <span class=\"n\">exact</span> <span class=\"n\">h</span> <span class=\"n\">y</span> <span class=\"n\">hy</span>\n  <span class=\"c1\">-- sorry</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">bdd_below_segment</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span> <span class=\"bp\">→</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">ContinuousAtPt</span> <span class=\"n\">f</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∃</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">m</span> <span class=\"bp\">≤</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">M</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">M</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">apply</span> <span class=\"n\">bdd_above_segment</span>\n    <span class=\"n\">intro</span> <span class=\"n\">x</span> <span class=\"n\">x_dans</span>\n    <span class=\"n\">exact</span> <span class=\"n\">continuous_opposite</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"n\">x</span> <span class=\"n\">x_dans</span><span class=\"o\">)</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">this</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">M</span><span class=\"o\">,</span> <span class=\"n\">hM</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"bp\">-</span><span class=\"n\">M</span>\n  <span class=\"n\">intro</span> <span class=\"n\">x</span> <span class=\"n\">x_dans</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hM</span> <span class=\"n\">x</span> <span class=\"n\">x_dans</span>\n  <span class=\"n\">linarith</span>\n  <span class=\"c1\">-- sorry</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">sup_segment</span> <span class=\"o\">{</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hnonvide</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">⊆</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∃</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">IsSup</span> <span class=\"n\">A</span> <span class=\"n\">x</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"k\">have</span> <span class=\"n\">b_maj</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">,</span> <span class=\"n\">y</span> <span class=\"bp\">∈</span> <span class=\"n\">A</span> <span class=\"bp\">→</span> <span class=\"n\">y</span> <span class=\"bp\">≤</span> <span class=\"n\">b</span> <span class=\"o\">:=</span> <span class=\"k\">fun</span> <span class=\"n\">y</span> <span class=\"n\">y_in</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"n\">y_in</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n  <span class=\"k\">have</span> <span class=\"n\">Sup_maj</span> <span class=\"o\">:</span> <span class=\"n\">UpperBound</span> <span class=\"n\">A</span> <span class=\"o\">(</span><span class=\"n\">sSup</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">intro</span> <span class=\"n\">x</span>\n    <span class=\"n\">apply</span> <span class=\"n\">le_csSup</span>\n    <span class=\"n\">use</span> <span class=\"n\">b</span>\n    <span class=\"n\">exact</span> <span class=\"n\">b_maj</span>\n  <span class=\"n\">refine'</span> <span class=\"o\">⟨</span><span class=\"n\">sSup</span> <span class=\"n\">A</span><span class=\"o\">,</span> <span class=\"n\">_</span><span class=\"o\">,</span> <span class=\"n\">_</span><span class=\"o\">⟩</span>\n  <span class=\"bp\">·</span> <span class=\"n\">constructor</span>\n    <span class=\"bp\">·</span> <span class=\"n\">rcases</span> <span class=\"n\">hnonvide</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x_in</span><span class=\"o\">⟩</span>\n      <span class=\"n\">exact</span> <span class=\"n\">le_trans</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"n\">x_in</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"o\">(</span><span class=\"n\">Sup_maj</span> <span class=\"n\">_</span> <span class=\"n\">x_in</span><span class=\"o\">)</span>\n    <span class=\"bp\">·</span> <span class=\"n\">apply</span> <span class=\"n\">csSup_le</span> <span class=\"n\">hnonvide</span> <span class=\"n\">b_maj</span>\n  <span class=\"bp\">·</span> <span class=\"n\">exact</span> <span class=\"o\">⟨</span><span class=\"n\">Sup_maj</span><span class=\"o\">,</span> <span class=\"k\">fun</span> <span class=\"n\">y</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">csSup_le</span> <span class=\"n\">hnonvide</span><span class=\"o\">⟩</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">eq_of_abs_sub_le_all</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"n\">y</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">∀</span> <span class=\"n\">ε</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">|</span><span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"n\">y</span><span class=\"bp\">|</span> <span class=\"bp\">≤</span> <span class=\"n\">ε</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">x</span> <span class=\"bp\">=</span> <span class=\"n\">y</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span>\n  <span class=\"n\">apply</span> <span class=\"n\">eq_of_abs_sub_nonpos</span>\n  <span class=\"n\">by_contra</span> <span class=\"n\">H</span>\n  <span class=\"n\">push_neg</span> <span class=\"n\">at</span> <span class=\"n\">H</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">h</span> <span class=\"o\">(</span><span class=\"bp\">|</span><span class=\"n\">x</span> <span class=\"bp\">-</span> <span class=\"n\">y</span><span class=\"bp\">|</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n  <span class=\"n\">linarith</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">unique_limit</span> <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"n\">l</span> <span class=\"n\">l'</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">l</span> <span class=\"bp\">→</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">l'</span> <span class=\"bp\">→</span> <span class=\"n\">l</span> <span class=\"bp\">=</span> <span class=\"n\">l'</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">hl</span> <span class=\"n\">hl'</span>\n  <span class=\"n\">apply</span> <span class=\"n\">eq_of_abs_sub_le_all</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hl</span> <span class=\"o\">(</span><span class=\"n\">ε</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hl</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hl'</span> <span class=\"o\">(</span><span class=\"n\">ε</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">)</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">hl'</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N'</span><span class=\"o\">,</span> <span class=\"n\">hN'</span><span class=\"o\">⟩</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">le_max_left</span> <span class=\"n\">_</span> <span class=\"n\">_</span><span class=\"o\">)</span>\n  <span class=\"n\">specialize</span> <span class=\"n\">hN'</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">le_max_right</span> <span class=\"n\">_</span> <span class=\"n\">_</span><span class=\"o\">)</span>\n  <span class=\"k\">calc</span>\n    <span class=\"bp\">|</span><span class=\"n\">l</span> <span class=\"bp\">-</span> <span class=\"n\">l'</span><span class=\"bp\">|</span> <span class=\"bp\">=</span> <span class=\"bp\">|</span><span class=\"n\">l</span> <span class=\"bp\">-</span> <span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">l'</span><span class=\"o\">)</span><span class=\"bp\">|</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring_nf</span>\n    <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"bp\">|</span><span class=\"n\">l</span> <span class=\"bp\">-</span> <span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span><span class=\"bp\">|</span> <span class=\"bp\">+</span> <span class=\"bp\">|</span><span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">l'</span><span class=\"bp\">|</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">apply</span> <span class=\"n\">abs_add</span>\n    <span class=\"n\">_</span> <span class=\"bp\">=</span> <span class=\"bp\">|</span><span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">l</span><span class=\"bp\">|</span> <span class=\"bp\">+</span> <span class=\"bp\">|</span><span class=\"n\">u</span> <span class=\"o\">(</span><span class=\"n\">max</span> <span class=\"n\">N</span> <span class=\"n\">N'</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">l'</span><span class=\"bp\">|</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">abs_sub_comm</span><span class=\"o\">]</span>\n    <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"n\">ε</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">+</span> <span class=\"n\">ε</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">linarith</span>\n    <span class=\"n\">_</span> <span class=\"bp\">=</span> <span class=\"n\">ε</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">subseq_tendsto_of_tendsto</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"n\">u</span> <span class=\"n\">l</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hφ</span> <span class=\"o\">:</span> <span class=\"n\">Extraction</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"bp\">∘</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"n\">l</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span> <span class=\"n\">ε</span> <span class=\"n\">ε_pos</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">N</span><span class=\"o\">,</span> <span class=\"n\">hN</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">N</span>\n  <span class=\"n\">intro</span> <span class=\"n\">n</span> <span class=\"n\">hn</span>\n  <span class=\"n\">apply</span> <span class=\"n\">hN</span>\n  <span class=\"k\">calc</span>\n    <span class=\"n\">N</span> <span class=\"bp\">≤</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"n\">hn</span>\n    <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"n\">φ</span> <span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"n\">id_le_extraction</span> <span class=\"n\">hφ</span> <span class=\"n\">n</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hab</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">≤</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">ContinuousAtPt</span> <span class=\"n\">f</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∃</span> <span class=\"n\">x₀</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">f</span> <span class=\"n\">x₀</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- sorry</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">bdd_below_segment</span> <span class=\"n\">hf</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">hm</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">bdd_above_segment</span> <span class=\"n\">hf</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">M</span><span class=\"o\">,</span> <span class=\"n\">hM</span><span class=\"o\">⟩</span>\n  <span class=\"k\">let</span> <span class=\"n\">A</span> <span class=\"o\">:=</span> <span class=\"o\">{</span> <span class=\"n\">y</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"n\">x</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">a</span> <span class=\"n\">b</span><span class=\"o\">,</span> <span class=\"n\">y</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"n\">x</span> <span class=\"o\">}</span>\n  <span class=\"n\">obtain</span> <span class=\"o\">⟨</span><span class=\"n\">y₀</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"o\">,</span> <span class=\"n\">y_sup</span><span class=\"o\">⟩</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">y₀</span> <span class=\"bp\">∈</span> <span class=\"n\">Icc</span> <span class=\"n\">m</span> <span class=\"n\">M</span><span class=\"o\">,</span> <span class=\"n\">IsSup</span> <span class=\"n\">A</span> <span class=\"n\">y₀</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">apply</span> <span class=\"n\">sup_segment</span>\n    <span class=\"bp\">·</span> <span class=\"n\">exact</span> <span class=\"o\">⟨</span><span class=\"n\">f</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"o\">⟨</span><span class=\"kd\">by</span> <span class=\"n\">linarith</span><span class=\"o\">,</span> <span class=\"n\">hab</span><span class=\"o\">⟩,</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span><span class=\"o\">⟩</span>\n    <span class=\"bp\">·</span> <span class=\"n\">rintro</span> <span class=\"n\">y</span> <span class=\"o\">⟨</span><span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x_in</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n      <span class=\"n\">exact</span> <span class=\"o\">⟨</span><span class=\"n\">hm</span> <span class=\"n\">x</span> <span class=\"n\">x_in</span><span class=\"o\">,</span> <span class=\"n\">hM</span> <span class=\"n\">x</span> <span class=\"n\">x_in</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">isSup_iff</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">y_sup</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">y_sup</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">y_maj</span><span class=\"o\">,</span> <span class=\"n\">u</span><span class=\"o\">,</span> <span class=\"n\">lim_u</span><span class=\"o\">,</span> <span class=\"n\">u_in</span><span class=\"o\">⟩</span>\n  <span class=\"n\">choose</span> <span class=\"n\">v</span> <span class=\"n\">hv</span> <span class=\"n\">using</span> <span class=\"n\">u_in</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">forall_and.mp</span> <span class=\"n\">hv</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">v_dans</span><span class=\"o\">,</span> <span class=\"n\">hufv</span><span class=\"o\">⟩</span>\n  <span class=\"n\">replace</span> <span class=\"n\">hufv</span> <span class=\"o\">:</span> <span class=\"n\">u</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">∘</span> <span class=\"n\">v</span> <span class=\"o\">:=</span> <span class=\"n\">funext</span> <span class=\"n\">hufv</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">bolzano_weierstrass</span> <span class=\"n\">v_dans</span> <span class=\"k\">with</span> <span class=\"o\">⟨</span><span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">x₀_in</span><span class=\"o\">,</span> <span class=\"n\">φ</span><span class=\"o\">,</span> <span class=\"n\">φ_extr</span><span class=\"o\">,</span> <span class=\"n\">lim_vφ</span><span class=\"o\">⟩</span>\n  <span class=\"n\">use</span> <span class=\"n\">x₀</span><span class=\"o\">,</span> <span class=\"n\">x₀_in</span>\n  <span class=\"n\">intro</span> <span class=\"n\">x</span> <span class=\"n\">x_dans</span>\n  <span class=\"k\">have</span> <span class=\"n\">lim</span> <span class=\"o\">:</span> <span class=\"n\">SeqLimit</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"bp\">∘</span> <span class=\"n\">v</span> <span class=\"bp\">∘</span> <span class=\"n\">φ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">x₀</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">apply</span> <span class=\"n\">seq_continuous_of_continuous</span>\n    <span class=\"n\">exact</span> <span class=\"n\">hf</span> <span class=\"n\">x₀</span> <span class=\"n\">x₀_in</span>\n    <span class=\"n\">exact</span> <span class=\"n\">lim_vφ</span>\n  <span class=\"k\">have</span> <span class=\"n\">unique</span> <span class=\"o\">:</span> <span class=\"n\">f</span> <span class=\"n\">x₀</span> <span class=\"bp\">=</span> <span class=\"n\">y₀</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">apply</span> <span class=\"n\">unique_limit</span> <span class=\"n\">lim</span>\n    <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">hufv</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">lim_u</span>\n    <span class=\"n\">exact</span> <span class=\"n\">subseq_tendsto_of_tendsto</span> <span class=\"n\">lim_u</span> <span class=\"n\">φ_extr</span>\n\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">unique</span><span class=\"o\">]</span>\n  <span class=\"n\">apply</span> <span class=\"n\">y_maj</span>\n  <span class=\"n\">use</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"n\">x_dans</span>\n</code></pre></div>",
        "id": 397632891,
        "sender_full_name": "Ming Li",
        "timestamp": 1697780209
    },
    {
        "content": "<p>This is surely a working-example, although not really \"minimal\".</p>\n<p>If I copy paste that into lean4web the error at <code>rw [unique]</code> says <code>failed to rewrite using equation theorems for 'Filter.unique'</code> which means that it tries to use <code>Filter.unique</code> and not your local assumption <code>unique</code>.</p>\n<p>(which I don't know if that's the priority we would generally want, but apparently that's what we have currently)</p>\n<p>One solution is to rename your local assumption to something else. If I name it <code>have unique2</code> and <code>rw [unique2]</code> I don't get any errors anymore.</p>",
        "id": 397752792,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1697823723
    },
    {
        "content": "<blockquote>\n<p>Without the <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> we can only guess. Is autoImplicit true in the web editor?</p>\n</blockquote>\n<p>And setting <code>set_option autoImplicit false</code> at the top of the file does indeed give the error about <code>f</code> so this is correct. In VSCode, these options are defined inside your projects <code>lakefile.lean</code>, maybe you see something like <code>\"-DautoImplicit=false\"</code> in there, which would turn this option off. The #tutorial4 does not have this, so my guess is that you copied this code into a file in another project that had autoImplicits turned off. You can in any case put <code>set_option autoImplicit true</code> at the top below the imports to toggle the option for this file only.</p>",
        "id": 397754130,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1697824372
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"654654\">ming</span> <a href=\"#narrow/stream/113489-new-members/topic/Lean.204.20web.20and.20VS/near/397632891\">said</a>:</p>\n<blockquote>\n<p>For the last example, the word \"unique\" is occupied. Changing it solves the error. Why? </p>\n</blockquote>\n<p>I asked about this priority issue (<code>unique</code> vs <code>Filter.unique</code>) here: <a href=\"#narrow/stream/270676-lean4/topic/rw.20bug.20priority.20of.20variables/near/397755221\">Zulip question</a>. It does feel to me like it should be undesired for the <code>Filter.unique</code> to take priority.</p>",
        "id": 397755570,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1697825082
    },
    {
        "content": "<p>Thanks a lot. I like your explanation.</p>",
        "id": 397788116,
        "sender_full_name": "Ming Li",
        "timestamp": 1697844529
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"654654\">ming</span> has marked this topic as resolved.</p>",
        "id": 397814024,
        "sender_full_name": "Notification Bot",
        "timestamp": 1697863333
    }
]