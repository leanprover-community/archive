[
    {
        "content": "<p>I feel like every additive monoid should be viewable as a (multiplicative) monoid. How to do this, in a way that doesn't lead to conflicting instances down the line?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_2</span><span class=\"o\">}</span><span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">AddMonoid</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">AddLeftCancelMonoid</span><span class=\"bp\">.</span><span class=\"n\">toAddMonoid</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Monoid</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 517331326,
        "sender_full_name": "Bj√∏rn Kjos-Hanssen",
        "timestamp": 1746945145
    },
    {
        "content": "<p>Are you looking for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiplicative#doc\">docs#Multiplicative</a> or something else?</p>",
        "id": 517332150,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1746945883
    },
    {
        "content": "<p>How would you use that here?</p>",
        "id": 517332305,
        "sender_full_name": "Bj√∏rn Kjos-Hanssen",
        "timestamp": 1746946038
    },
    {
        "content": "<p>Well, you wouldn't have an instance of <code>Monoid E</code>, but you would (and do) have an instance of <code>Monoid (Multiplicative E)</code> and the ability to convert back and forth</p>",
        "id": 517332414,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1746946142
    },
    {
        "content": "<p>since you have <code>NormedAddCommGroup E</code>, you automatically get a <code>NormedCommGroup (Multiplicative E)</code> instance</p>",
        "id": 517332560,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1746946310
    },
    {
        "content": "<p>Ah, very good!</p>",
        "id": 517332625,
        "sender_full_name": "Bj√∏rn Kjos-Hanssen",
        "timestamp": 1746946336
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"347475\">Bj√∏rn Kjos-Hanssen</span> has marked this topic as resolved.</p>",
        "id": 517334235,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746947863
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"347475\">Bj√∏rn Kjos-Hanssen</span> has marked this topic as unresolved.</p>",
        "id": 517418156,
        "sender_full_name": "Notification Bot",
        "timestamp": 1747017482
    },
    {
        "content": "<p>Still struggling with this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">extracted_1</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u_2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ùïú</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">inst</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RCLike</span><span class=\"w\"> </span><span class=\"n\">ùïú</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">inst_1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">CommMonoid</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Monoid</span><span class=\"bp\">.</span><span class=\"n\">PushoutI</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">MonoidHom</span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">ùïú</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Multiplicative</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Certainly seems like a pushout of commutative monoids should be commutative, but how to prove?</p>",
        "id": 517418194,
        "sender_full_name": "Bj√∏rn Kjos-Hanssen",
        "timestamp": 1747017535
    },
    {
        "content": "<p>Are you sure that's true? Doesn't sound true to me. Free product of two copies of the integers is free group on two generators</p>",
        "id": 517437967,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747030207
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Monoid.PushoutI#doc\">docs#Monoid.PushoutI</a></p>",
        "id": 517438040,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747030235
    },
    {
        "content": "<p>This is amalgamated product, what you're asking is not true</p>",
        "id": 517438323,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747030338
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> I am really trying to do pushouts of vector spaces but apparently got off track!</p>",
        "id": 517438972,
        "sender_full_name": "Bj√∏rn Kjos-Hanssen",
        "timestamp": 1747030618
    }
]