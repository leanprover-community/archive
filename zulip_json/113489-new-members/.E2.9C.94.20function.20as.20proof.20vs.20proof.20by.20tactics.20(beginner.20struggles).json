[
    {
        "content": "<p>I'm working through Chapter 3 of TPIL4 .. and it is slow progress because the perspective is not of \"pen-paper\" maths proofs but about lean and type theory - but that's what I need.</p>\n<p>Anyway, the following shows an example <code>t1</code> from the chapter, and <code>t2</code> is my own proof.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span>\n\n<span class=\"c1\">-- TIPL4 chapter 3 example</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">t1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">hq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n\n<span class=\"c1\">-- how I would do it</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">t2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h1</span>\n</code></pre></div>\n<p>I'm trying to understand what the book's example is doing. Is the following correct:</p>\n<ul>\n<li>the book's proof is not \"by tactics' but \"by function\" - is this an example of the infamous \"tactic mode vs term mode\"?</li>\n<li>if I do <code>#check @(fun hp : p =&gt; fun hq : q =&gt; hp)</code> I get <code>fun hp hq =&gt; hp : p → q → p</code> which tells me the function has type <code>p → q → p</code></li>\n<li>that matches the theorem statement so is a proof (which is a new idea for me if true)</li>\n</ul>\n<p>So as long as an expression has a type that matches the type of the theorem statement - it is a valid proof?</p>\n<p>This seems too good to be true. For example, a theorem statement <code>3:ℕ</code> has type <code>ℕ</code> but <code>2:ℕ</code> is not a proof. So what am I missing?</p>",
        "id": 493394439,
        "sender_full_name": "rzeta0",
        "timestamp": 1736785910
    },
    {
        "content": "<p>Yes, <code>t1</code>'s proof is in \"term mode\". And exactly: a proof of <code>P : Prop</code> in lean <strong>is exactly</strong> a term of the type <code>P</code></p>",
        "id": 493396316,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736786395
    },
    {
        "content": "<p>Note that <code>P</code> has to be a <code>Prop</code> for this; this is the difference with <code>3 : Nat</code></p>",
        "id": 493396462,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736786419
    },
    {
        "content": "<p>And \"tactic mode\" is simply a way to create proof terms more easily</p>",
        "id": 493396577,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736786455
    },
    {
        "content": "<p>If you write a question mark after <code>by</code> like this (also changing the names of the hypotheses)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">t2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"bp\">?</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"n\">hq</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n</code></pre></div>\n<p>it shows that you've created the term <code>fun hp hq =&gt; hp</code></p>",
        "id": 493397077,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736786606
    },
    {
        "content": "<p>That is helpful, thanks.</p>\n<p>I think I <strong>finally</strong> understand the difference between term and tactic mode (6 months later).</p>",
        "id": 493397178,
        "sender_full_name": "rzeta0",
        "timestamp": 1736786638
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> <a href=\"#narrow/channel/113489-new-members/topic/function.20as.20proof.20vs.20proof.20by.20tactics.20.28beginner.20struggles.29/near/493394439\">said</a>:</p>\n<blockquote>\n<ul>\n<li>the book's proof is not \"by tactics' but \"by function\" - is this an example of the infamous \"tactic mode vs term mode\"?</li>\n</ul>\n</blockquote>\n<p>Yes.  TPIL starts with term-mode proofs, and what you've been writing up to now is tactic-mode proofs.</p>\n<blockquote>\n<p>So as long as an expression has a type that matches the type of the theorem statement - it is a valid proof?</p>\n<p>This seems too good to be true. For example, a theorem statement <code>3:ℕ</code> has type <code>ℕ</code> but <code>2:ℕ</code> is not a proof. So what am I missing?</p>\n</blockquote>\n<p>If <code>p</code> is a proposition (i.e., it has type <code>Prop</code>), then yes, any expression of type <code>p</code> is a proof of <code>p</code>.   But <code>ℕ</code> is not a proposition, so although <code>2</code> has type <code>ℕ</code>, it is not a proof.</p>",
        "id": 493397236,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1736786645
    },
    {
        "content": "<p>(If you add <code>set_option pp.funBinderTypes true</code> it shows <code>fun (hp : p) (hq : q) =&gt; hp</code>, which might be clearer)</p>",
        "id": 493397262,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736786654
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> has marked this topic as resolved.</p>",
        "id": 493398004,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736786870
    }
]