[
    {
        "content": "<p>Hey all, I've been looking a bit at Dafny and noticed that it compiles to a bunch of different languages (Go, Python, Java, etc).  Wondering if there's anything similar in Lean or any desire for something like this?  Just would be cool if you could write a verified program in Lean and then compile it to another more common language for use there</p>",
        "id": 462927937,
        "sender_full_name": "Daniel Geisz",
        "timestamp": 1723867113
    },
    {
        "content": "<p>Honestly, I'm satisfied with using Dafny to write a verified program and compile it into other languages.</p>",
        "id": 462946464,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1723877343
    },
    {
        "content": "<p>Atm the only options are C and WebASM I think</p>",
        "id": 462958628,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723886827
    },
    {
        "content": "<p>Writing CPython / lean bindings would be a nice project</p>",
        "id": 462959646,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723887525
    },
    {
        "content": "<p>(that is, code to convert between basic <code>lean_object*</code> types and <code>PyObject*</code>s)</p>",
        "id": 462959781,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723887565
    },
    {
        "content": "<p>Then you could compile lean to C code, then write / generate a small wrapper to create python bindings for that C code</p>",
        "id": 462959848,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723887587
    },
    {
        "content": "<p>The general answer here is that Lean does not compile to other languages as it is a general-purpose language in itself. So you do like you do in other general-purpose languages and use FFI to communicate with external languages.</p>",
        "id": 462965311,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1723891026
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113489-new-members/topic/Lean.20Compilation.20to.20Other.20Languages/near/462959848\">said</a>:</p>\n<blockquote>\n<p>Then you could compile lean to C code, then write / generate a small wrapper to create python bindings for that C code</p>\n</blockquote>\n<p>I've been trying to compile lean to C code but is not working for me</p>",
        "id": 472931527,
        "sender_full_name": "David⚛️",
        "timestamp": 1727367106
    },
    {
        "content": "<p>What have you tried? This is supported natively by lake</p>",
        "id": 472942068,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727370961
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113489-new-members/topic/Lean.20Compilation.20to.20Other.20Languages/near/462959646\">said</a>:</p>\n<blockquote>\n<p>Writing CPython / lean bindings would be a nice project</p>\n</blockquote>\n<p>I am about to embark on reading more about Lean's FFI, even though my understanding is that it's still... provisional/unstable?  </p>\n<p>I've done a lot of work with Python/C++ bindings.  What are you imagining you would use the bindings for?  Are you looking to call compiled Lean code from Python, or calling Python functionality (e.g. numpy?) from Lean?</p>",
        "id": 472957104,
        "sender_full_name": "Tom",
        "timestamp": 1727376975
    }
]