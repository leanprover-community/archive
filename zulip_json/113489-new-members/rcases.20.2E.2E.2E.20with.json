[
    {
        "content": "<p>Here is an expanded version of <code>even_of_even_sqr</code> from MiL 5.1</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Nat.Prime</span>\n<span class=\"kn\">open</span> <span class=\"n\">Nat</span>\n<span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">2</span> <span class=\"bp\">∣</span> <span class=\"n\">m</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span> <span class=\"bp\">→</span>  <span class=\"mi\">2</span> <span class=\"bp\">∣</span> <span class=\"n\">m</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">pow_two</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">h</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">prime_two.dvd_mul</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">h</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">h</span>\n  <span class=\"bp\">·</span> <span class=\"n\">assumption</span>\n  <span class=\"bp\">·</span> <span class=\"n\">assumption</span>\n  <span class=\"n\">done</span>\n</code></pre></div>\n<p>I would like to get it to work with the construct <code>cases ... with</code> like in </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">&lt;</span> <span class=\"bp\">|</span><span class=\"n\">y</span><span class=\"bp\">|</span> <span class=\"bp\">→</span> <span class=\"n\">x</span> <span class=\"bp\">&lt;</span> <span class=\"n\">y</span> <span class=\"bp\">∨</span> <span class=\"n\">x</span> <span class=\"bp\">&lt;</span> <span class=\"bp\">-</span><span class=\"n\">y</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n<span class=\"n\">rcases</span> <span class=\"n\">le_or_gt</span> <span class=\"mi\">0</span> <span class=\"n\">y</span> <span class=\"k\">with</span> <span class=\"n\">h</span> <span class=\"bp\">|</span> <span class=\"n\">h</span>\n</code></pre></div>\n<p>but whatever I put after <code>rcases</code> results in the error <code>rcases tactic failed: x✝ : Prop is not an inductive datatype</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">2</span> <span class=\"bp\">∣</span> <span class=\"n\">m</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span> <span class=\"bp\">→</span>  <span class=\"mi\">2</span> <span class=\"bp\">∣</span> <span class=\"n\">m</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">h</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">pow_two</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">h</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">prime_two.dvd_mul</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">h</span>\n  <span class=\"n\">rcases</span> <span class=\"n\">Even</span> <span class=\"n\">m</span> <span class=\"k\">with</span> <span class=\"n\">h₁</span> <span class=\"bp\">|</span> <span class=\"n\">h₁</span>\n</code></pre></div>\n<p>or</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">rcases</span> <span class=\"mi\">2</span> <span class=\"bp\">∣</span> <span class=\"n\">m</span> <span class=\"k\">with</span> <span class=\"n\">h₁</span> <span class=\"bp\">|</span> <span class=\"n\">h₁</span>\n</code></pre></div>\n<p>Please explain the error and how to use <code>rcases ... with</code></p>",
        "id": 406583514,
        "sender_full_name": "Moti Ben-Ari",
        "timestamp": 1701967942
    },
    {
        "content": "<p><code>rcases h with h₁ | h₁ </code></p>",
        "id": 406583913,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1701968069
    }
]