[
    {
        "content": "<p>Hi, I've been working with iSup quite a bit lately and there is some aspect of its syntax that confuses me. <br>\nLet's say we have the following variables: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">κ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CompleteLattice</span><span class=\"w\"> </span><span class=\"n\">κ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CompleteLattice</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">κ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">κ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>1) What is <code>(⨆ j, ⨆ (_ : ¬j = i), f j k)</code> exactly? (i think I understand this but it can't hurt to ask)</p>\n<p>2) In this setting I can consider both <code>(⨆ j, ⨆ (_ : ¬j = i), f j k)</code> and <code>(⨆ j, ⨆ (_ : j ≠ i), f j) k)</code>. How do they differ exactly? I understand that they are not the same thing to Lean, and that there is a theorem that turns one into the other (iSup_apply) but I'd like to understand what they are. My hunch is that the first takes a sup over the f j k, which are elements in α, and the latter takes a sup over functions  κ → α, then applies it at k - and those things happen to be equal because we're implicitly working with  a nice enough lattice structure on functions κ → α. Is that it? </p>\n<p>3) The file for the theory of <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/CompleteLattice.html\">complete lattices</a> uses iSup₂ and biiSup to refer to doubles supremums. How are they defined exactly and how do they differ from each other? </p>\n<p>Thank you very much for your help :)</p>",
        "id": 480428182,
        "sender_full_name": "VayusElytra",
        "timestamp": 1730721606
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=iSup_apply#doc\">docs#iSup_apply</a></p>",
        "id": 480431406,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1730722772
    },
    {
        "content": "<p>2 sounds correct</p>",
        "id": 480431628,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1730722833
    },
    {
        "content": "<p>Regarding (2), I believe <code>Sup</code> of functions is simply defined pointwise, so they are equal</p>",
        "id": 480431683,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1730722855
    },
    {
        "content": "<p>In (1) you have a supremum over all <code>j</code> of the supremum over all <strong>proofs of <code>i ≠ j</code></strong> of <code>f j k</code>. When <code>j = i</code> that will be the supremum of an empty type, which will be the bottom element, otherwise you have a constant function whose supremum is <code>f j k</code></p>",
        "id": 480432003,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1730722971
    },
    {
        "content": "<p>In (3) from what I'm seeing it's just terminology for an <code>iSup</code> inside an <code>iSup</code></p>",
        "id": 480432360,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1730723104
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/113489-new-members/topic/iSup.20syntax/near/480432360\">said</a>:</p>\n<blockquote>\n<p>In (3) from what I'm seeing it's just terminology for an <code>iSup</code> inside an <code>iSup</code></p>\n</blockquote>\n<p>Not quite. An <code>iSup</code> inside an <code>iSup</code> is <code>iSup₂</code>. The special case of an <code>iSup</code> indexed by a Prop inside an <code>iSup</code> is called <code>biSup</code>. <a href=\"https://github.com/leanprover-community/mathlib4/blob/b83615e9d3f2c90f7570bce22f78b27e9a49014f/Mathlib/Order/CompleteLattice.lean#L27-L39\">This is all explained in the docstring</a></p>",
        "id": 480437712,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1730724914
    },
    {
        "content": "<p>This special case is important due to things like monotonicity in the Prop, attainment of the sup when the inner Prop only has finitely many true values, etc... all things which don't make sense for a general <code>iSup₂</code></p>",
        "id": 480438055,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1730725040
    },
    {
        "content": "<p>so sorry - i forgot to say thank you all! that was very helpful :)</p>",
        "id": 482209926,
        "sender_full_name": "VayusElytra",
        "timestamp": 1731514475
    }
]