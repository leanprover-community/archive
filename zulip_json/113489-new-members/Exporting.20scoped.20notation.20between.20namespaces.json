[
    {
        "content": "<p>Say I define a notation in some namespace, e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Hello</span>\n\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">infixl</span><span class=\"o\">:</span><span class=\"mi\">81</span><span class=\"w\"> </span><span class=\"s2\">\" ‚ãâ \"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">bleh</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Hello</span>\n</code></pre></div>\n<p>Is there an idiomatic way to re-export this to another namespace, e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Hello2</span>\n\n<span class=\"o\">(</span><span class=\"n\">somehow</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"bp\">‚ãâ</span><span class=\"o\">)</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Hello2</span>\n</code></pre></div>\n<p>such that there won't be a conflict if both namespaces are open?</p>",
        "id": 497971822,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738785138
    },
    {
        "content": "<p>Do you want something like <code>open scoped Hello</code>?</p>",
        "id": 497972368,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738785368
    },
    {
        "content": "<p>Will that work if I import <code>Hello2</code>?</p>",
        "id": 497972607,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738785482
    },
    {
        "content": "<p>What I'd like is to be able to do</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Hello2</span>\n\n<span class=\"o\">(</span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"bp\">‚ãâ</span><span class=\"w\"> </span><span class=\"n\">without</span><span class=\"w\"> </span><span class=\"n\">knowing</span><span class=\"w\"> </span><span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">exists</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 497972727,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738785513
    },
    {
        "content": "<p>You could use <code>scoped[Hello2] notation</code> to put the notation into a namespace different from where it is defined.</p>",
        "id": 497973197,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738785688
    },
    {
        "content": "<p>So if you did <code>scoped[Shared] notation ..</code> then both <code>Hello</code> and <code>Hello2</code> could <code>open scoped Shared</code>.</p>",
        "id": 497973371,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738785732
    },
    {
        "content": "<p>Ah, let me try it...</p>",
        "id": 497973440,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738785758
    },
    {
        "content": "<p>Hmm... can we avoid that? I don't want to complicate the API, since most people will only ever use <code>Hello2</code> (not <code>Hello</code> or <code>Shared</code>)?</p>",
        "id": 497974144,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738786023
    },
    {
        "content": "<p>You could put it directly into <code>Hello2</code> with <code>scoped[Hello2] notation</code> from <code>Hello</code>.</p>",
        "id": 497974463,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738786153
    },
    {
        "content": "<p>(it's also possible re-exporting is a thing and I've just never stumbled across it).</p>",
        "id": 497974543,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738786188
    },
    {
        "content": "<p>Do you know about <code>export</code>?</p>",
        "id": 497974826,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1738786296
    },
    {
        "content": "<p>Yes, but that's for names right</p>",
        "id": 497975484,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738786562
    },
    {
        "content": "<p>Like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">export</span><span class=\"w\"> </span><span class=\"n\">PremonoidalCategory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ltimes</span><span class=\"w\"> </span><span class=\"n\">rtimes</span><span class=\"w\"> </span><span class=\"n\">Pentagon</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 497975540,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738786573
    },
    {
        "content": "<p>What I'm experimenting with is moving</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- Notation for the monoidal `associator`: `(X ‚äó Y) ‚äó Z ‚âÉ X ‚äó (Y ‚äó Z)` -/</span>\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"Œ±_\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">MonoidalCategoryStruct</span><span class=\"bp\">.</span><span class=\"n\">associator</span>\n\n<span class=\"sd\">/-- Notation for the `leftUnitor`: `ùüô_C ‚äó X ‚âÉ X` -/</span>\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"Œª_\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">MonoidalCategoryStruct</span><span class=\"bp\">.</span><span class=\"n\">leftUnitor</span>\n\n<span class=\"sd\">/-- Notation for the `rightUnitor`: `X ‚äó ùüô_C ‚âÉ X` -/</span>\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"œÅ_\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">MonoidalCategoryStruct</span><span class=\"bp\">.</span><span class=\"n\">rightUnitor</span>\n</code></pre></div>\n<p>to <code>PremonoidalCategory</code> and somehow re-exporting it</p>",
        "id": 497975594,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738786603
    },
    {
        "content": "<p>I did not! Maybe the following would work?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">add1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"~\"</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"s2\">\"~\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">add1</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Bar</span>\n<span class=\"kn\">export</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">note</span><span class=\"o\">)</span>\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Bar</span>\n</code></pre></div>",
        "id": 497975612,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738786611
    },
    {
        "content": "<p>Yes, exactly, notations too have names, so I would hope they can be similarly exported (I have no clue whether they actually can)</p>",
        "id": 497976158,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1738786827
    },
    {
        "content": "<p>Nope I get <code>unknown constant 'CategoryTheory.MonoidalCategoryStruct.tensorObjNotation'</code></p>",
        "id": 497979217,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738788127
    },
    {
        "content": "<p>Sorry, had a typo, now I get <code>invalid 'export', self export</code></p>",
        "id": 497979293,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738788181
    },
    {
        "content": "<p>No wait it works</p>",
        "id": 497979327,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738788194
    },
    {
        "content": "<p>I am very sleep deprived, ignore that</p>",
        "id": 497979339,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738788201
    },
    {
        "content": "<p>Not sure if the above actually worked or not, but the better solution might be a \"neutral\" namespace, where you define all of the notation (whether in <code>PremonoidalCategory</code> or <code>MonoidalCategory</code>) as <code>scoped[Monoidal] notation</code>, then everyone just does <code>open scoped Monoidal</code> instead of <code>open scoped MonoidalCategory</code>.</p>",
        "id": 497980285,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738788591
    },
    {
        "content": "<p>So it works but then other things in other files broke in subtle ways, so I decided to just leave it for now</p>",
        "id": 497987806,
        "sender_full_name": "Jad Ghalayini",
        "timestamp": 1738791563
    }
]