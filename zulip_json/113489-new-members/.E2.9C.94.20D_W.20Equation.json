[
    {
        "content": "<p>Calling all #Lean4 experts! Seeking guidance on formalizing the Darcy-Weisbach equation in Lean 4. Need assistance with the implementation. Any help would be greatly appreciated! </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Defs</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic.LibrarySearch</span>\n\n<span class=\"c1\">-- declare all variables to be real number</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">H_loss</span> <span class=\"n\">p₁</span> <span class=\"n\">p₂</span> <span class=\"n\">z₁</span> <span class=\"n\">z₂</span> <span class=\"n\">u₁</span> <span class=\"n\">u₂</span> <span class=\"n\">U</span> <span class=\"n\">g</span> <span class=\"n\">d</span> <span class=\"n\">L</span> <span class=\"n\">r</span> <span class=\"n\">ρ</span> <span class=\"n\">f₁</span> <span class=\"n\">π</span>  <span class=\"n\">F</span> <span class=\"n\">F₁</span> <span class=\"n\">F₂</span> <span class=\"n\">P</span> <span class=\"n\">f'</span> <span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"c1\">-- Head loss due to friction</span>\n\n<span class=\"c1\">-- Premise</span>\n<span class=\"o\">(</span><span class=\"n\">h₀</span><span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span><span class=\"o\">)</span>  <span class=\"c1\">-- from Bernoulli's principle</span>\n<span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"o\">:</span> <span class=\"n\">z₁</span> <span class=\"bp\">=</span> <span class=\"n\">z₂</span><span class=\"o\">)</span> <span class=\"c1\">-- for horizontal pipe (inlet and outlet of pipe are at same level from reference plane)</span>\n<span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"o\">:</span> <span class=\"n\">u₁</span> <span class=\"bp\">=</span> <span class=\"n\">u₂</span><span class=\"o\">)</span> <span class=\"c1\">-- uniform diameter of pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₃</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"c1\">-- Frictional force given as the product of the frictional resistance, wetted perimeter, length, and velocity.</span>\n<span class=\"o\">(</span><span class=\"n\">h₄</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">-</span><span class=\"n\">F₂</span> <span class=\"bp\">-</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the forces along the horizontal section of the pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₅</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 1</span>\n<span class=\"o\">(</span><span class=\"n\">h₆</span><span class=\"o\">:</span> <span class=\"n\">F₂</span> <span class=\"bp\">=</span> <span class=\"n\">p₂</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 2 (pressure is the driving force for the fluid, so there must be pressure gradient of p₁ and p₂)</span>\n<span class=\"o\">(</span><span class=\"n\">h₇</span><span class=\"o\">:</span> <span class=\"n\">p₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span> <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the 3 forces acting on the fluid gives us the pressure gradient as a function of the frictional force and Area of pipe.</span>\n<span class=\"o\">(</span><span class=\"n\">h₈</span><span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"bp\">/</span> <span class=\"n\">A</span> <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">/</span> <span class=\"n\">d</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h₉</span><span class=\"o\">:</span> <span class=\"n\">f₁</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">=</span> <span class=\"n\">f'</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span>  <span class=\"c1\">-- f' is the coefficient of friction and f₁ is the frictional resistance</span>\n<span class=\"o\">(</span><span class=\"n\">h₁₀</span><span class=\"o\">:</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">=</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"c1\">-- f is the friction factor</span>\n<span class=\"c1\">-- Constraints</span>\n<span class=\"o\">(</span><span class=\"n\">h0</span><span class=\"o\">:</span> <span class=\"n\">ρ</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"o\">:</span> <span class=\"n\">g</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h2</span><span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span> <span class=\"n\">d</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h4</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n\n\n<span class=\"c1\">-- declare theorem and its argument</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">Darcy_Weisbach</span> <span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span>\n   <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₀</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₁</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₂</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">p₁</span> <span class=\"bp\">-</span>  <span class=\"n\">p₂</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                 <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                      <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₃</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                            <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₁₀</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 370533896,
        "sender_full_name": "David⚛️",
        "timestamp": 1687976704
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"587824\">@David⚛️</span> Are you sure what you wrote has the correct order of operations? In <code>(F / A) / ρ * g</code> the <code>ρ</code> is in the denominator, in <code>F / A * ρ * g</code> it's in the numerator.</p>",
        "id": 370542216,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1687978278
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370542216\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"587824\">David⚛️</span> Are you sure what you wrote has the correct order of operations? In <code>(F / A) / ρ * g</code> the <code>ρ</code> is in the denominator, in <code>F / A * ρ * g</code> it's in the numerator.</p>\n</blockquote>\n<p>It should be in the denominator.<br>\nGood catch.</p>",
        "id": 370543460,
        "sender_full_name": "David⚛️",
        "timestamp": 1687978557
    },
    {
        "content": "<p>I think this issue is pervasive in what you have written.  Can you post a corrected version?</p>",
        "id": 370551581,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1687980321
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370551581\">said</a>:</p>\n<blockquote>\n<p>I think this issue is pervasive in what you have written.  Can you post a corrected version?</p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Defs</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic.LibrarySearch</span>\n\n<span class=\"c1\">-- declare all variables to be real number</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">H_loss</span> <span class=\"n\">p₁</span> <span class=\"n\">p₂</span> <span class=\"n\">z₁</span> <span class=\"n\">z₂</span> <span class=\"n\">u₁</span> <span class=\"n\">u₂</span> <span class=\"n\">U</span> <span class=\"n\">g</span> <span class=\"n\">d</span> <span class=\"n\">L</span> <span class=\"n\">r</span> <span class=\"n\">ρ</span> <span class=\"n\">f₁</span> <span class=\"n\">π</span>  <span class=\"n\">F</span> <span class=\"n\">F₁</span> <span class=\"n\">F₂</span> <span class=\"n\">P</span> <span class=\"n\">f'</span> <span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"c1\">-- Head loss due to friction</span>\n\n<span class=\"c1\">-- Premise</span>\n<span class=\"o\">(</span><span class=\"n\">h₀</span><span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span><span class=\"o\">)</span>  <span class=\"c1\">-- from Bernoulli's principle</span>\n<span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"o\">:</span> <span class=\"n\">z₁</span> <span class=\"bp\">=</span> <span class=\"n\">z₂</span><span class=\"o\">)</span> <span class=\"c1\">-- for horizontal pipe (inlet and outlet of pipe are at same level from reference plane)</span>\n<span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"o\">:</span> <span class=\"n\">u₁</span> <span class=\"bp\">=</span> <span class=\"n\">u₂</span><span class=\"o\">)</span> <span class=\"c1\">-- uniform diameter of pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₃</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"c1\">-- Frictional force given as the product of the frictional resistance, wetted perimeter, length, and velocity.</span>\n<span class=\"o\">(</span><span class=\"n\">h₄</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">-</span><span class=\"n\">F₂</span> <span class=\"bp\">-</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the forces along the horizontal section of the pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₅</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 1</span>\n<span class=\"o\">(</span><span class=\"n\">h₆</span><span class=\"o\">:</span> <span class=\"n\">F₂</span> <span class=\"bp\">=</span> <span class=\"n\">p₂</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 2 (pressure is the driving force for the fluid, so there must be pressure gradient of p₁ and p₂)</span>\n<span class=\"o\">(</span><span class=\"n\">h₇</span><span class=\"o\">:</span> <span class=\"n\">p₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span> <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the 3 forces acting on the fluid gives us the pressure gradient as a function of the frictional force and Area of pipe.</span>\n<span class=\"o\">(</span><span class=\"n\">h₈</span><span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"bp\">/</span> <span class=\"n\">A</span> <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">/</span> <span class=\"n\">d</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h₉</span><span class=\"o\">:</span> <span class=\"n\">f₁</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">=</span> <span class=\"n\">f'</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span>  <span class=\"c1\">-- f' is the coefficient of friction and f₁ is the frictional resistance</span>\n<span class=\"o\">(</span><span class=\"n\">h₁₀</span><span class=\"o\">:</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">=</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"c1\">-- f is the friction factor</span>\n<span class=\"c1\">-- Constraints</span>\n<span class=\"o\">(</span><span class=\"n\">h0</span><span class=\"o\">:</span> <span class=\"n\">ρ</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"o\">:</span> <span class=\"n\">g</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h2</span><span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span> <span class=\"n\">d</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h4</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n\n\n<span class=\"c1\">-- declare theorem and its argument</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">Darcy_Weisbach</span> <span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span>\n   <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₀</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₁</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₂</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">p₁</span> <span class=\"bp\">-</span>  <span class=\"n\">p₂</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                 <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                     <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₃</span><span class=\"o\">]</span> <span class=\"c1\">-- how do we substitute h₈: P/A = 4/d ?</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                            <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₁₀</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 370615480,
        "sender_full_name": "David⚛️",
        "timestamp": 1688006674
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"587824\">David⚛️</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370615480\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Still looks wrong.  Look at what happens to <code>g</code> here.</p>",
        "id": 370618153,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1688007857
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370618153\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"587824\">David⚛️</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370615480\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Still looks wrong.  Look at what happens to <code>g</code> here.</p>\n</blockquote>\n<p>I want the transformed equation to have <code>(A * ρ * g)</code> as the denominator leaving <code>F</code> as the numerator.</p>",
        "id": 370805369,
        "sender_full_name": "David⚛️",
        "timestamp": 1688048856
    },
    {
        "content": "<p>You are currently claiming</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mfrac><mrow><mi>F</mi><mi mathvariant=\"normal\">/</mi><mi>A</mi></mrow><mi>ρ</mi></mfrac><mi>g</mi><mo>=</mo><mfrac><mi>F</mi><mrow><mi>A</mi><mi>ρ</mi><mi>g</mi></mrow></mfrac><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">\\frac{F/A}{\\rho} g = \\frac{F}{A\\rho g}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.3074em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2408em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">ρ</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\">.</span></span></span></span></span></p>",
        "id": 370805920,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1688048958
    },
    {
        "content": "<p>I mean this is what your current Lean code says.</p>",
        "id": 370806018,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1688048976
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370805920\">said</a>:</p>\n<blockquote>\n<p>You are currently claiming</p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mfrac><mrow><mi>F</mi><mi mathvariant=\"normal\">/</mi><mi>A</mi></mrow><mi>ρ</mi></mfrac><mi>g</mi><mo>=</mo><mfrac><mi>F</mi><mrow><mi>A</mi><mi>ρ</mi><mi>g</mi></mrow></mfrac><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">\\frac{F/A}{\\rho} g = \\frac{F}{A\\rho g}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.3074em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2408em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">ρ</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\">.</span></span></span></span></span><br>\n</p>\n</blockquote>\n<p>Really... I want it to be in this form </p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mfrac><mrow><mi>F</mi><mi mathvariant=\"normal\">/</mi><mi>A</mi></mrow><mrow><mi>ρ</mi><mi>g</mi></mrow></mfrac><mo>=</mo><mfrac><mi>F</mi><mrow><mi>A</mi><mi>ρ</mi><mi>g</mi></mrow></mfrac><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">\\frac{F/A}{\\rho g}  = \\frac{F}{A\\rho g}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:2.3074em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.427em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ρ</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.2408em;vertical-align:-0.8804em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">ρ</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8804em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mord\">.</span></span></span></span></span></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>\n</code></pre></div>",
        "id": 370806949,
        "sender_full_name": "David⚛️",
        "timestamp": 1688049123
    },
    {
        "content": "<p>So</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>not</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>\n</code></pre></div>",
        "id": 370807826,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1688049257
    },
    {
        "content": "<p>David, you need to read things about operation priorities. First google hit is <a href=\"https://thirdspacelearning.com/blog/what-is-bodmas/\">https://thirdspacelearning.com/blog/what-is-bodmas/</a></p>",
        "id": 370808548,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1688049384
    },
    {
        "content": "<p>Note that Lean helps you in the tactic state. You can move your cursor above the equations displayed in the tactic state to see how Lean groups terms.</p>",
        "id": 370809735,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1688049584
    },
    {
        "content": "<p>I've seen physics textbooks use <code>x / y * z</code> to mean <code>x / (y * z)</code>, so if that's your past experience watch out that in Lean both <code>/</code> and <code>*</code> have the same precedence, so it's interpreted left-to-right as <code>(x / y) * z</code></p>",
        "id": 370810410,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1688049694
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370810410\">said</a>:</p>\n<blockquote>\n<p>I've seen physics textbooks use <code>x / y * z</code> to mean <code>x / (y * z)</code>, so if that's your past experience watch out that in Lean both <code>/</code> and <code>*</code> have the same precedence, so it's interpreted left-to-right as <code>(x / y) * z</code></p>\n</blockquote>\n<p>Exactly my experience. I see I've got a lot to learn to be proficient with Lean.</p>",
        "id": 370811513,
        "sender_full_name": "David⚛️",
        "timestamp": 1688049877
    },
    {
        "content": "<p>I made this correction to the previous code.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">Darcy_Weisbach</span> <span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span>\n   <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₀</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₁</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₂</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">p₁</span> <span class=\"bp\">-</span>  <span class=\"n\">p₂</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                               <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                     <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₃</span><span class=\"o\">]</span> <span class=\"c1\">-- how do we substitute h₈: P/A = 4/d ?</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                            <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">h₁₀</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 370812023,
        "sender_full_name": "David⚛️",
        "timestamp": 1688049964
    },
    {
        "content": "<p>You also need to fix the denominators of your first 4 lines in the calc block, and in your statement.</p>",
        "id": 370812421,
        "sender_full_name": "Sebastien Gouezel",
        "timestamp": 1688050022
    },
    {
        "content": "<p>The first sorry is still not true for exactly the reasons which you now understand.</p>",
        "id": 370812431,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1688050023
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370812431\">said</a>:</p>\n<blockquote>\n<p>The first sorry is still not true for exactly the reasons which you now understand.</p>\n</blockquote>\n<p>That's true let me revisit it .</p>",
        "id": 370812776,
        "sender_full_name": "David⚛️",
        "timestamp": 1688050076
    },
    {
        "content": "<p>How about this corrected codes</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">Darcy_Weisbach</span> <span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span>\n   <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span>                                        <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">p₁</span> <span class=\"bp\">-</span>  <span class=\"n\">p₂</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                          <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                            <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span> <span class=\"c1\">-- how do we substitute h₈: P/A = 4/d ?</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                               <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                               <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 370815413,
        "sender_full_name": "David⚛️",
        "timestamp": 1688050530
    },
    {
        "content": "<p>Well you can check it yourself by filling in some of the sorrys!</p>\n<p>Can you understand that if you know <code>P / A = 4 / d</code> then it is still some work to deduce <code>f₁ * P * L * U^2 / (A * ρ * g) = f₁ * 4 * L * U^2 / d * ρ * g</code> ? Because <code>f₁ * 4 * L * U^2 / d * ρ * g</code> actually means <code>((((((f₁ * 4) * L) * U^2) / d) * ρ) * g)</code>, so Lean can't see any <code>4 / d</code> in there because there isn't any <code>4 / d</code> there. So the first thing to do is to make Lean see <code>4 / d</code> by rearranging (or to make Lean see <code>P / A</code> in the other expression).</p>\n<p>It is still the case that not all of your sorries are true, e.g. the one I quoted above isn't true (it's always the same mistake).</p>",
        "id": 370817155,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1688050827
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370817155\">said</a>:</p>\n<blockquote>\n<p>Well you can check it yourself by filling in some of the sorrys!</p>\n<p>Can you understand that if you know <code>P / A = 4 / d</code> then it is still some work to deduce <code>f₁ * P * L * U^2 / (A * ρ * g) = f₁ * 4 * L * U^2 / d * ρ * g</code> ? Because <code>f₁ * 4 * L * U^2 / d * ρ * g</code> actually means <code>((((((f₁ * 4) * L) * U^2) / d) * ρ) * g)</code>, so Lean can't see any <code>4 / d</code> in there because there isn't any <code>4 / d</code> there. So the first thing to do is to make Lean see <code>4 / d</code> by rearranging (or to make Lean see <code>P / A</code> in the other expression).</p>\n<p>It is still the case that not all of your sorries are true, e.g. the one I quoted above isn't true (it's always the same mistake).</p>\n</blockquote>\n<p>Good feedback. <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> <br>\nI need to make lean see <code>P/A</code></p>",
        "id": 370819208,
        "sender_full_name": "David⚛️",
        "timestamp": 1688051169
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Defs</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic.LibrarySearch</span>\n\n<span class=\"c1\">-- declare all variables to be real number</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">H_loss</span> <span class=\"n\">p₁</span> <span class=\"n\">p₂</span> <span class=\"n\">z₁</span> <span class=\"n\">z₂</span> <span class=\"n\">u₁</span> <span class=\"n\">u₂</span> <span class=\"n\">U</span> <span class=\"n\">g</span> <span class=\"n\">d</span> <span class=\"n\">L</span> <span class=\"n\">r</span> <span class=\"n\">ρ</span> <span class=\"n\">f₁</span> <span class=\"n\">π</span>  <span class=\"n\">F</span> <span class=\"n\">F₁</span> <span class=\"n\">F₂</span> <span class=\"n\">P</span> <span class=\"n\">f'</span> <span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"c1\">-- Head loss due to friction</span>\n\n<span class=\"c1\">-- Premise</span>\n<span class=\"o\">(</span><span class=\"n\">h₀</span><span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span><span class=\"o\">)</span>  <span class=\"c1\">-- from Bernoulli's principle</span>\n<span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"o\">:</span> <span class=\"n\">z₁</span> <span class=\"bp\">=</span> <span class=\"n\">z₂</span><span class=\"o\">)</span> <span class=\"c1\">-- for horizontal pipe (inlet and outlet of pipe are at same level from reference plane)</span>\n<span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"o\">:</span> <span class=\"n\">u₁</span> <span class=\"bp\">=</span> <span class=\"n\">u₂</span><span class=\"o\">)</span> <span class=\"c1\">-- uniform diameter of pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₃</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"c1\">-- Frictional force given as the product of the frictional resistance, wetted perimeter, length, and velocity.</span>\n<span class=\"o\">(</span><span class=\"n\">h₄</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">-</span><span class=\"n\">F₂</span> <span class=\"bp\">-</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the forces along the horizontal section of the pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₅</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 1</span>\n<span class=\"o\">(</span><span class=\"n\">h₆</span><span class=\"o\">:</span> <span class=\"n\">F₂</span> <span class=\"bp\">=</span> <span class=\"n\">p₂</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 2 (pressure is the driving force for the fluid, so there must be pressure gradient of p₁ and p₂)</span>\n<span class=\"o\">(</span><span class=\"n\">h₇</span><span class=\"o\">:</span> <span class=\"n\">p₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span> <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the 3 forces acting on the fluid gives us the pressure gradient as a function of the frictional force and Area of pipe.</span>\n<span class=\"o\">(</span><span class=\"n\">h₈</span><span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"bp\">/</span> <span class=\"n\">A</span> <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">/</span> <span class=\"n\">d</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h₉</span><span class=\"o\">:</span> <span class=\"n\">f₁</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">=</span> <span class=\"n\">f'</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span>  <span class=\"c1\">-- f' is the coefficient of friction and f₁ is the frictional resistance</span>\n<span class=\"o\">(</span><span class=\"n\">h₁₀</span><span class=\"o\">:</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">=</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"c1\">-- f is the friction factor</span>\n<span class=\"c1\">-- Constraints</span>\n<span class=\"o\">(</span><span class=\"n\">h0</span><span class=\"o\">:</span> <span class=\"n\">ρ</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"o\">:</span> <span class=\"n\">g</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h2</span><span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span> <span class=\"n\">d</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h4</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n\n\n<span class=\"c1\">-- declare theorem and its argument</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">Darcy_Weisbach</span> <span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span>\n   <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₀</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₁</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₂</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span>                                        <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">p₁</span> <span class=\"bp\">-</span>  <span class=\"n\">p₂</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                          <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                            <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₃</span><span class=\"o\">]</span> <span class=\"c1\">-- how do we substitute h₈: P/A = 4/d ?</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span>                               <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">f'</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                               <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">*</span> <span class=\"n\">d</span>                                    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 370819465,
        "sender_full_name": "David⚛️",
        "timestamp": 1688051218
    },
    {
        "content": "<p>David, did you understand my comment about how the tactic state can help you?<br>\n<a href=\"/user_uploads/3121/jpK5s93Ysdqx-agSLPwbTOSM/bidmas.gif\">bidmas.gif</a><br>\nDon't look at the tooltips, only the blue highlighting.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/jpK5s93Ysdqx-agSLPwbTOSM/bidmas.gif\" title=\"bidmas.gif\"><img src=\"/user_uploads/3121/jpK5s93Ysdqx-agSLPwbTOSM/bidmas.gif\"></a></div>",
        "id": 370819750,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1688051277
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/113489-new-members/topic/D_W.20Equation/near/370819750\">said</a>:</p>\n<blockquote>\n<p>David, did you understand my comment about how the tactic state can help you?<br>\n<a href=\"/user_uploads/3121/jpK5s93Ysdqx-agSLPwbTOSM/bidmas.gif\">bidmas.gif</a><br>\nDon't look at the tooltips, only the blue highlighting.</p>\n</blockquote>\n<p>Let me fix it. <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 370820256,
        "sender_full_name": "David⚛️",
        "timestamp": 1688051369
    },
    {
        "content": "<p>(This highlighting is also in the editor, not just the tactic state, but it's a much more subtle color)</p>",
        "id": 370820936,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1688051485
    },
    {
        "content": "<p>I appreciate all the help. I was able to close all the goals <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <br>\nI'd appreciate more helpful tutorials and resources for beginners in Lean 4.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Real.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.Group.Defs</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic.LibrarySearch</span>\n\n<span class=\"c1\">-- declare all variables to be real number</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">H_loss</span> <span class=\"n\">p₁</span> <span class=\"n\">p₂</span> <span class=\"n\">z₁</span> <span class=\"n\">z₂</span> <span class=\"n\">u₁</span> <span class=\"n\">u₂</span> <span class=\"n\">U</span> <span class=\"n\">g</span> <span class=\"n\">d</span> <span class=\"n\">L</span> <span class=\"n\">r</span> <span class=\"n\">ρ</span> <span class=\"n\">f₁</span> <span class=\"n\">π</span>  <span class=\"n\">F</span> <span class=\"n\">F₁</span> <span class=\"n\">F₂</span> <span class=\"n\">P</span> <span class=\"n\">f'</span> <span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"c1\">-- Head loss due to friction</span>\n\n<span class=\"c1\">-- Premise</span>\n<span class=\"o\">(</span><span class=\"n\">h₀</span><span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span><span class=\"o\">)</span>  <span class=\"c1\">-- from Bernoulli's principle</span>\n<span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"o\">:</span> <span class=\"n\">z₁</span> <span class=\"bp\">=</span> <span class=\"n\">z₂</span><span class=\"o\">)</span> <span class=\"c1\">-- for horizontal pipe (inlet and outlet of pipe are at same level from reference plane)</span>\n<span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"o\">:</span> <span class=\"n\">u₁</span> <span class=\"bp\">=</span> <span class=\"n\">u₂</span><span class=\"o\">)</span> <span class=\"c1\">-- uniform diameter of pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₃</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"c1\">-- Frictional force given as the product of the frictional resistance, wetted perimeter, length, and velocity.</span>\n<span class=\"o\">(</span><span class=\"n\">h₄</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">-</span><span class=\"n\">F₂</span> <span class=\"bp\">-</span> <span class=\"n\">F</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the forces along the horizontal section of the pipe</span>\n<span class=\"o\">(</span><span class=\"n\">h₅</span><span class=\"o\">:</span> <span class=\"n\">F₁</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 1</span>\n<span class=\"o\">(</span><span class=\"n\">h₆</span><span class=\"o\">:</span> <span class=\"n\">F₂</span> <span class=\"bp\">=</span> <span class=\"n\">p₂</span> <span class=\"bp\">*</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- net force acting at point 2 (pressure is the driving force for the fluid, so there must be pressure gradient of p₁ and p₂)</span>\n<span class=\"o\">(</span><span class=\"n\">h₇</span><span class=\"o\">:</span> <span class=\"n\">p₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span> <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"c1\">-- Resolving all the 3 forces acting on the fluid gives us the pressure gradient as a function of the frictional force and Area of pipe.</span>\n<span class=\"o\">(</span><span class=\"n\">h₈</span><span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"bp\">/</span> <span class=\"n\">A</span> <span class=\"bp\">=</span> <span class=\"mi\">4</span> <span class=\"bp\">/</span> <span class=\"n\">d</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h₉</span><span class=\"o\">:</span> <span class=\"n\">f₁</span> <span class=\"bp\">/</span> <span class=\"n\">ρ</span> <span class=\"bp\">=</span> <span class=\"n\">f'</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span>  <span class=\"c1\">-- f' is the coefficient of friction and f₁ is the frictional resistance</span>\n<span class=\"o\">(</span><span class=\"n\">h₁₀</span><span class=\"o\">:</span> <span class=\"n\">f'</span><span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">=</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"c1\">-- f is the friction factor</span>\n<span class=\"c1\">-- Constraints</span>\n<span class=\"o\">(</span><span class=\"n\">h0</span><span class=\"o\">:</span> <span class=\"n\">ρ</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"o\">:</span> <span class=\"n\">g</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h2</span><span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h3</span><span class=\"o\">:</span> <span class=\"n\">d</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">h4</span><span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n\n\n<span class=\"c1\">-- declare theorem and its argument</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">Darcy_Weisbach</span> <span class=\"o\">:</span> <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span>\n   <span class=\"n\">H_loss</span> <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₁</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₀</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₁</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₁</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">z₂</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">u₂</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">z₂</span>  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₂</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">p₁</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"n\">p₂</span><span class=\"bp\">/</span><span class=\"o\">(</span><span class=\"n\">ρ</span><span class=\"bp\">*</span><span class=\"n\">g</span><span class=\"o\">)</span>                                        <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">p₁</span> <span class=\"bp\">-</span>  <span class=\"n\">p₂</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                       <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                          <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₇</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">F</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                            <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"n\">P</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₃</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">P</span><span class=\"bp\">/</span><span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"bp\">/</span><span class=\"n\">d</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₈</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f₁</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">ρ</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">f₁</span><span class=\"bp\">/</span><span class=\"n\">ρ</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">f'</span><span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₉</span><span class=\"o\">]</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f'</span> <span class=\"bp\">*</span> <span class=\"mi\">4</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                             <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n   <span class=\"n\">_</span>      <span class=\"bp\">=</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">L</span> <span class=\"bp\">*</span> <span class=\"n\">U</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">d</span> <span class=\"bp\">*</span> <span class=\"n\">g</span><span class=\"o\">)</span>                                  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">h₁₀</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 370830540,
        "sender_full_name": "David⚛️",
        "timestamp": 1688053105
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"587824\">David⚛️</span> has marked this topic as resolved.</p>",
        "id": 370962468,
        "sender_full_name": "Notification Bot",
        "timestamp": 1688087777
    },
    {
        "content": "<p>I would like to comment on the style of the code.</p>\n<p>It is really not clear to me what are the actual assumptions. Some assumptions, like <code>F_1 = p_1 * A</code>, are more like definitions and you should use <code>let F_1 := p_1 * A</code>. The theorem seems to have way too many variables, do you have an example on how would you use this theorem? </p>\n<p>Wiki says that the law is an empirical one, so it is really not clear to me what is the theorem supposed to say.</p>",
        "id": 371190399,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1688136269
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"346070\">@Tomas Skrivan</span> Now that David has this simpler proof put together, we will be refactoring it to use a collection of definitions, rather than a collection of hypotheses. </p>\n<p>Indeed, Wiki calls it empirical. Maybe we’ll edit the page, and call it semi-empirical 🙂. From my understanding, the treatment of friction is empirical, but the DW equation can be understood as derivable from other equations and assumptions, along with the empirical friction factor.</p>",
        "id": 371574523,
        "sender_full_name": "Tyler Josephson ⚛️",
        "timestamp": 1688245996
    },
    {
        "content": "<p>I'm looking forward to seeing a refactored version where it is clear what are the assumptions, definitions and empirical facts!</p>",
        "id": 371749736,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1688310145
    }
]