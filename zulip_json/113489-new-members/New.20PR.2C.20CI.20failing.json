[
    {
        "content": "<p>Hi! I moved some code over from infinity-categories in the PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/35287\">#35287</a>. The guide mentioned announcing this on zulip. Is this the right channel for that?</p>\n<p><del>Also, how do I get the label <code>infinity-cosmos</code> to be added to the PR?</del><br>\nAh, apparently I had to write <code>infinity-cosmos</code> without backticks.</p>\n<p>And the CI <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/22013407550/job/63611236181?pr=35287\">seems to be failing, because the file I added \"cannot be imported\"</a>? I generated <code>Mathlib.lean</code> using <code>lake exe mk_all</code>, but it seems that this change is breaking the CI.</p>",
        "id": 573874253,
        "sender_full_name": "Arnoud van der Leer",
        "timestamp": 1771054488
    },
    {
        "content": "<p>The error is because you need some adjustments to use the new module system. You'll see most other files begin with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">module</span>\n\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">expose</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">section</span>\n</code></pre></div>",
        "id": 573874927,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771055265
    },
    {
        "content": "<p>Also you'll want to run <code>lake exe mk_all --module</code>.</p>",
        "id": 573875018,
        "sender_full_name": "Chris Henson",
        "timestamp": 1771055391
    },
    {
        "content": "<p>Ah, thanks</p>",
        "id": 573875703,
        "sender_full_name": "Arnoud van der Leer",
        "timestamp": 1771056121
    },
    {
        "content": "<p>Once I fixed that, I was getting a lot of errors of the form</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"n\">declaration</span><span class=\"w\"> </span><span class=\"ss\">`Category</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">exists</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">imported</span><span class=\"w\"> </span><span class=\"n\">privately</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">consider</span><span class=\"w\"> </span><span class=\"n\">adding</span><span class=\"w\"> </span><span class=\"ss\">`public</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"bp\">`.</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">AlgebraicTopology</span><span class=\"bp\">/</span><span class=\"n\">SimplicialSet</span><span class=\"bp\">/</span><span class=\"n\">CoherentIso</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">61</span><span class=\"o\">:</span><span class=\"mi\">23</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unknown</span><span class=\"w\"> </span><span class=\"n\">identifier</span><span class=\"w\"> </span><span class=\"ss\">`Category</span><span class=\"bp\">`</span>\n</code></pre></div>\n<p>I have tried to fix that by adding about 8 <code>public import</code> statements. Was that indeed the correct fix?</p>",
        "id": 573882080,
        "sender_full_name": "Arnoud van der Leer",
        "timestamp": 1771062528
    },
    {
        "content": "<p>Just copy what is done in other files in mathlib and you should be ok</p>",
        "id": 573884124,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1771064595
    }
]