[
    {
        "content": "<p>Discussion topic for the talk.</p>",
        "id": 569312142,
        "sender_full_name": "RÃ©my Degenne",
        "timestamp": 1769016056
    },
    {
        "content": "<p>For <a href=\"https://github.com/JovanGerb/infoview_search/blob/master/InfoviewSearch/InfoviewSearch.lean#L322\">enabling infoview_search</a> everywhere, does calling <code>addPanelWidgetGlobal</code> instead of <code>addPanelWidgetLocal</code> not work? Are the <code>ref</code>s above causing issues for importing?</p>",
        "id": 569313254,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1769016340
    },
    {
        "content": "<p>For posterity, I asked: you added a ranking to find the best match for a selection, would it be possible to also find near-misses and show why they don't match? Sometimes a <code>rw</code> using a local hypothesis seems possible but there's a type mismatch that's impossible to see.<br>\nThe answer was that the current data structure (discrimination tree) can't find near-misses, but it can find instance mismatches, which can help when there are diamond problems.<br>\n(this is the context for the question if anyone is interested <a class=\"message-link\" href=\"/#narrow/channel/270676-lean4/topic/Error.20messages.20suggestions/near/564798304\">#lean4 &gt; Error messages suggestions @ ğŸ’¬</a>)</p>",
        "id": 569316357,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1769017155
    },
    {
        "content": "<p>btw this is how I looked during the talk: <span aria-label=\"star struck\" class=\"emoji emoji-1f929\" role=\"img\" title=\"star struck\">:star_struck:</span></p>",
        "id": 569316368,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1769017159
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"128280\">ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’</span> <a href=\"#narrow/channel/557175-Lean-Together-2026/topic/Jovan.20Gerbscheid.20-.20Writing.20proofs.20by.20clicking/near/569313254\">said</a>:</p>\n<blockquote>\n<p>For <a href=\"https://github.com/JovanGerb/infoview_search/blob/master/InfoviewSearch/InfoviewSearch.lean#L322\">enabling infoview_search</a> everywhere, does calling <code>addPanelWidgetGlobal</code> instead of <code>addPanelWidgetLocal</code> not work?</p>\n</blockquote>\n<p>I think this should work, indeed. There are 2 small concerns:</p>\n<ul>\n<li>If this were to be imported in mathlib in the future, I think it might be polite to not turn it on in projects that depend on mathlib. What we could do is to have a <code>set_option</code> that is false by default, set to true in mathlib (in the lakefile), and the widget doesn't show anything if if the option is set to false.</li>\n<li>There is a startup cost of 5-10 seconds when writing <code>#infoview_suggest</code>. The advantage of having the <code>#infoview_suggest</code> command is that you don't need to wait for this the first time that you shift-click. This is not a big problem, thanks to the <code>RefreshComponent</code> because it can let you know that it is still starting up.</li>\n</ul>",
        "id": 569319323,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1769018001
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/557175-Lean-Together-2026/topic/Jovan.20Gerbscheid.20-.20Writing.20proofs.20by.20clicking/near/569316357\">said</a>:</p>\n<blockquote>\n<p>(this is the context for the question if anyone is interested <a href=\"#narrow/channel/270676-lean4/topic/Error.20messages.20suggestions/near/564798304\">#lean4 &gt; Error messages suggestions @ ğŸ’¬</a>)</p>\n</blockquote>\n<p>Since the mismatch is in the types, the lemma in question will indeed not be found unfortunately.</p>",
        "id": 569324346,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1769019424
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/557175-Lean-Together-2026/topic/Jovan.20Gerbscheid.20-.20Writing.20proofs.20by.20clicking/near/569319323\">said</a>:</p>\n<blockquote>\n<ul>\n<li>If this were to be imported in mathlib in the future, I think it might be polite to not turn it on in projects that depend on mathlib.</li>\n</ul>\n</blockquote>\n<p>That makes sense. One could also have a dedicated module <code>Mathlib.Tactic.Widget.InfoviewSearch</code> (or whatever name) importing which enables the widget globally, but which would be linted to prevent importing it outside of development; but an option sounds more ergonomic.</p>",
        "id": 569331647,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1769021670
    },
    {
        "content": "<p>There is a small problem when using <code>#infoview_search</code> to add a rewrite into an existing chain of rewrites, namely that the tactic state doesn't update. It does update after you move the cursor (which is what I did during the talk).</p>\n<p>The problem is that the cursor position didn't change, so the tactic state doesn't have a reason to update. Does anyone have an idea how to fix this?</p>",
        "id": 569366873,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1769033529
    },
    {
        "content": "<p>Hm, the tactic state should update when the file is reelaborated, even if the cursor hasn't moved. If it doesn't, there might be unsound caching happening somewhere.</p>",
        "id": 569367918,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1769033925
    },
    {
        "content": "<p>It's a bit hard to reproduce this without the widget, because whenever I edit something in a file my cursor also moves...</p>",
        "id": 569368297,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1769034070
    }
]