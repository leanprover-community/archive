[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112165\">rss-bot</span> <a href=\"#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/292986665\">said</a>:</p>\n<blockquote>\n<p><strong><a href=\"https://github.com/leanprover-community/mathlib/commit/66b8fa75438f7669c3bbf2cc54058014d9bca024\">feat(topology/algebra/uniform_group): drop commutativity assumption in <code>topological_group.to_uniform_space</code></a></strong> (<a href=\"https://github.com/leanprover-community/mathlib/pull/16004\">mathlib#16004</a>)</p>\n<p>Authored-by: <a href=\"https://github.com/ocfnash\">ocfnash</a> <a href=\"https://github.com/leanprover-community/mathlib/commit/66b8fa75438f7669c3bbf2cc54058014d9bca024\">(commit)</a></p>\n</blockquote>\n<p>Wait this one is a bit misleading right? IIUC the commutativity assumption was here as mental barrier because in the noncommutative case there are two sensible uniformities here. And sure the docstring mentions this is the \"right\" one (which I always found confusing, is it right as \"not left\" or as \"correct\") but somehow it feels wrong to claim we can take \"the\" uniformity associated to a noncommutative topological group if we only have one of them. I'm not saying that we should keep the useless assumption, but this should at least be mentionned in a docstring imo</p>",
        "id": 293016159,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1660255311
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> <span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span></p>",
        "id": 293016283,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1660255357
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268315\">Anatole Dedecker</span> <a href=\"#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/293016159\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112165\">rss-bot</span> <a href=\"#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster/near/292986665\">said</a>:</p>\n<blockquote>\n<p><strong><a href=\"https://github.com/leanprover-community/mathlib/commit/66b8fa75438f7669c3bbf2cc54058014d9bca024\">feat(topology/algebra/uniform_group): drop commutativity assumption in <code>topological_group.to_uniform_space</code></a></strong> (<a href=\"https://github.com/leanprover-community/mathlib/pull/16004\">mathlib#16004</a>)</p>\n<p>Authored-by: <a href=\"https://github.com/ocfnash\">ocfnash</a> <a href=\"https://github.com/leanprover-community/mathlib/commit/66b8fa75438f7669c3bbf2cc54058014d9bca024\">(commit)</a></p>\n</blockquote>\n<p>Wait this one is a bit misleading right? IIUC the commutativity assumption was here as mental barrier because in the noncommutative case there are two sensible uniformities here. And sure the docstring mentions this is the \"right\" one (which I always found confusing, is it right as \"not left\" or as \"correct\") but somehow it feels wrong to claim we can take \"the\" uniformity associated to a noncommutative topological group if we only have one of them. I'm not saying that we should keep the useless assumption, but this should at least be mentionned in a docstring imo</p>\n</blockquote>\n<p>I am all in favour of updating the doc string to clarify this, especially because of the unfortunate possibility of somebody taking wrong meaning of \"right\". However I definitely think we should not have the artificial <code>comm_group</code> class here because there are real cases where we will want just <code>group</code>. For example this would not have been possible prior to this PR:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">topology.algebra.uniform_group</span>\n<span class=\"kn\">import</span> <span class=\"n\">topology.uniform_space.compact_separated</span>\n\n<span class=\"kn\">local</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"kd\">instance</span><span class=\"o\">]</span> <span class=\"n\">topological_group.to_uniform_space</span>\n\n<span class=\"kd\">variables</span> <span class=\"o\">(</span><span class=\"n\">G</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">group</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">topological_space</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">topological_group</span> <span class=\"n\">G</span><span class=\"o\">]</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">topological_group_is_uniform'</span> <span class=\"o\">[</span><span class=\"n\">compact_space</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">t2_space</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">:</span> <span class=\"n\">uniform_group</span> <span class=\"n\">G</span> <span class=\"o\">:=</span>\n<span class=\"o\">⟨</span><span class=\"kd\">begin</span>\n  <span class=\"n\">haveI</span> <span class=\"o\">:</span> <span class=\"n\">separated_space</span> <span class=\"n\">G</span> <span class=\"o\">:=</span> <span class=\"n\">separated_iff_t2.mpr</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">apply_instance</span><span class=\"o\">),</span>\n  <span class=\"n\">apply</span> <span class=\"n\">compact_space.uniform_continuous_of_continuous</span><span class=\"o\">,</span>\n  <span class=\"n\">exact</span> <span class=\"n\">continuous_div'</span><span class=\"o\">,</span>\n<span class=\"kd\">end</span><span class=\"o\">⟩</span>\n</code></pre></div>",
        "id": 293066346,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1660293223
    },
    {
        "content": "<p>To be clear though, I appreciate the spirit of your comment: there is a real potential for misleading somebody unfamiliar here (e.g., myself a year or two ago). If I have time this afternoon, I'll follow up to adjust the doc string and request your review (and maybe add the above fact about compact groups).</p>",
        "id": 293066704,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1660293381
    },
    {
        "content": "<p>A message was moved here from <a class=\"stream-topic\" data-stream-id=\"116290\" href=\"/#narrow/stream/116290-rss/topic/Recent.20Commits.20to.20mathlib.3Amaster\">#rss &gt; Recent Commits to mathlib:master</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 293514076,
        "sender_full_name": "Notification Bot",
        "timestamp": 1660567733
    },
    {
        "content": "<p>I've moved this to a new thread to reduce the chance it's forgotten about slightly</p>",
        "id": 293514549,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1660567933
    },
    {
        "content": "<p>Note that this conversation triggered a follow-up PR: <a href=\"https://github.com/leanprover-community/mathlib/pull/16027\">#16027</a></p>",
        "id": 293515082,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1660568134
    },
    {
        "content": "<p>(and there is a related, PR <a href=\"https://github.com/leanprover-community/mathlib/pull/16011\">#16011</a>)</p>",
        "id": 293515200,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1660568165
    }
]