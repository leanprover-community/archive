[
    {
        "content": "<p>Hello,<br>\nI just submitted <a href=\"https://github.com/leanprover-community/mathlib4/pull/34393\">this PR</a> defining Polygons. This is my first mathlib PR so some of the stylistic choices might not be ideal, but I wanted to quickly explain them here and invite discussion. <code>Polygon</code>s are defined as generally as possible. The type <code>P</code> of the points must an affine space to define the edges in multiple useful ways. The <code>RealModule</code>section provides some definitions that only work in the common setting where the ambient space is a module over the reals. The <code>EuclideanPolygon</code> extends <code>Polygon</code> for the case when the ambient space is <code>EuclideanSpace ℝ (Fin 2)</code>, and <code>EuclideanTriangle</code> extends further to the case <code>n = 3</code>. I chose to require noncollinearity for a <code>EuclideanTriangle</code> to allow for interconversion with <code>Affine.Triangle</code>. Existing results in <code>EuclideanGeometry</code> play well with these definitions, e.g. it is simple to prove the law of cosines for <code>EuclideanTriangle</code>s using the existing <code>EuclideanGeometry.law_cos</code>. </p>\n<p>After establishing these basic definitions, I have two ideas for rich areas building on this framework. The first is proving more triangle theorems in a separate EuclideanTriangle file, including both conversions of existing proved facts in a general affine context in EuclideanGeometry and a good context for unformalized theorems like Ceva's Theorem. The second is working with the area of polygons. In order to move toward introducing area, I also have a file SimpleEuclideanPolygons about EuclideanPolygons with the additional simplicity properties that no two vertices are adjacent, all non-consecutive edges are disjoint, and any two consecutive edges intersect only at their shared vertex. This file contains a working proof that SimpleEuclideanPolygons have a bounded interior as expected, but it takes the general Jordan Curve Theorem as an axiom, so I don't know how Mathlib would feel about that.</p>",
        "id": 569918664,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1769307965
    },
    {
        "content": "<p>For now just take the JCT as a hypothesis rather than an axiom!</p>",
        "id": 569935976,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1769326338
    },
    {
        "content": "<p>Actually, I don't think we should be talking about interiors of polygons before we have at the very least the polygonal version of the Jordan curve theorem. Otherwise we're going to have to carry that hypothesis around everywhere.</p>",
        "id": 569947512,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1769339903
    },
    {
        "content": "<p>Is there any progress on that? I hear that there's elementary-ish proofs in the case of polygons.</p>",
        "id": 569947532,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1769339936
    },
    {
        "content": "<p>I'd just like to warn that polygons are a very tricky thing to work with, despite how intuitive they might look. There's a reason we don't yet have them in Mathlib.</p>",
        "id": 569949841,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1769342587
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/Polygons.20PR/near/569947512\">said</a>:</p>\n<blockquote>\n<p>Otherwise we're going to have to carry that hypothesis around everywhere.</p>\n</blockquote>\n<p>Can you just <code>variable [JCT]</code> at the top of the file?</p>\n<p>Hopefully that makes it almost transparent. And then when JCT is filled in, we can just remove that line (plus epsilon inevitable fixes).</p>",
        "id": 570028386,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1769414587
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/Polygons.20PR/near/569947532\">said</a>:</p>\n<blockquote>\n<p>Is there any progress on that? I hear that there's elementary-ish proofs in the case of polygons.</p>\n</blockquote>\n<p>I'd really love to do this (<a href=\"https://webhomes.maths.ed.ac.uk/~v1ranick/papers/hales3.pdf\">this is the elementary-ish proof I know</a>), but I'm not sure we should. I thought we're waiting for algebraic-geometry to prove the full theorem, and that proving JCT without it (even just for polygons) won't be accepted.</p>",
        "id": 570059097,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1769424418
    },
    {
        "content": "<p>btw do we have a statement of JCT that was checked by experts?</p>",
        "id": 570059556,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1769424557
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/Polygons.20PR/near/570059556\">said</a>:</p>\n<blockquote>\n<p>btw do we have a statement of JCT that was checked by experts?</p>\n</blockquote>\n<p>This is what I'd like to know too. I think polygon area depends fundamentally on the JCT, so it's ok to carry that around as a hypothesis and then replace and fix once the JCT is formalized, like <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> said. But that requires a good formulation of the JCT that will be the one actually formalized later.</p>",
        "id": 570402565,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1769541161
    },
    {
        "content": "<p>You don't <em>need</em> JCT to define polygon areas, though you probably want it anyways. Here's me talking about this three weeks ago: <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Pick's.20Theorem/near/566191613\">https://leanprover.zulipchat.com/#narrow/channel/217875-Is-there-code-for-X.3F/topic/Pick's.20Theorem/near/566191613</a></p>",
        "id": 570414123,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1769545016
    },
    {
        "content": "<p>Personally I think it makes more sense to bake in the JCT than to make area definitionally equal to shoelace</p>",
        "id": 570427856,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1769549945
    },
    {
        "content": "<p>Maybe we can have both? Define a <code>signedArea</code> via shoelace, a normal <code>area</code> via JCT, and then prove the shoelace formula <code>|signedArea| = area</code> (for simple polygons)</p>",
        "id": 571341105,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1770003840
    },
    {
        "content": "<p>Yes that's more what I was thinking. That makes the shoelace theorem an actual theorem. Also, <a href=\"https://github.com/leanprover-community/mathlib4/pull/34697\">this open PR</a> will definitely be relevant to defining the area of polygons.</p>",
        "id": 571554950,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1770081876
    },
    {
        "content": "<p>Given winding numbers of continuous curves (which I don't think Mathlib has atm?) there is a third definition <code>windingArea</code> where you integrate the function mapping p to the winding number of the polygon about p, which coincides with <code>signedArea</code> for not-necessarily-simple polygons, and this seems like a natural intermediary between the two other definitions since <code>|windingArea| = area</code> is \"easy\" for Jordan curves</p>",
        "id": 573653520,
        "sender_full_name": "Albert Smith",
        "timestamp": 1770950579
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"1008461\">A. M. Berns</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/Polygons.20PR/near/571554950\">said</a>:</p>\n<blockquote>\n<p>Also, <a href=\"https://github.com/leanprover-community/mathlib4/pull/34697\">this open PR</a> will definitely be relevant to defining the area of polygons.</p>\n</blockquote>\n<p>FYI if you write the PR number explicitly a bot will show the PR's status in an emoji reaction:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/34697\">#34697</a><br>\n(if you mention multiple PRs it will show the status of the first one I believe)</p>",
        "id": 573656374,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770952660
    },
    {
        "content": "<p>First polygons PR: <a href=\"https://github.com/leanprover-community/mathlib4/pull/34393\">#34393</a></p>",
        "id": 573656456,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770952709
    },
    {
        "content": "<p>Nondegeneracy and triangles: <a href=\"https://github.com/leanprover-community/mathlib4/pull/34598\">#34598</a></p>",
        "id": 573656489,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770952731
    },
    {
        "content": "<p>Simple polygons and boundary map: <a href=\"https://github.com/leanprover-community/mathlib4/pull/35069\">#35069</a></p>",
        "id": 573656519,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770952757
    },
    {
        "content": "<p>btw the last PR doesn't have the dependency setup correctly for the dependencies bot to detect (so it would add the label <code>blocked-by-other-PR</code>). Try this format: <code>- [ ] depends on: #34598</code></p>",
        "id": 573656963,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770952997
    },
    {
        "content": "<p>Thanks for the tips!</p>",
        "id": 573667168,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1770959451
    }
]