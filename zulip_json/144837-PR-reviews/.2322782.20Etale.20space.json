[
    {
        "content": "<p>My PR <del>#22782</del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/31925\">#31925</a> on etale spaces is finally ready for review: about one week ago I realized that instead of constructing the etale space directly from a sheaf, I should construct the etale space associated to a <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Sheaves/LocalPredicate.html#TopCat.LocalPredicate\">TopCat.LocalPredicate</a> on sections of a type family, and everything fell into place. (This is a departure from my original plan when I talked to <span class=\"user-mention\" data-user-id=\"648495\">@Christian Merten</span> a while ago.)</p>\n<p>The latest motivation for me to work on this is to show the existence of a primitive of a holomorphic function on any simply connected domain, which is needed for the Riemann mapping theorem, and would also yield Cauchy's integral theorem for an arbitrary contour in the domain, as desired by <a class=\"stream-topic\" data-stream-id=\"509682\" href=\"/#narrow/channel/509682-Sphere-packing-in-8-dimensions/topic/Complex.20analysis/with/553685447\">#Sphere packing in 8 dimensions &gt; Complex analysis</a>. I've basically shown that the etale space associated to a \"locally constant\" predicate (such as being a primitive of a given holomorphic function, or more generally a closed 1-form) <a href=\"https://github.com/leanprover-community/mathlib4/blob/9734a63165a8e36bba68c87137cbdd41043eea31/Mathlib/Topology/EtaleSpace.lean#L230\">is a covering map</a>, so we can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Homotopy/Lifting.html#IsCoveringMap.existsUnique_continuousMap_lifts\">IsCoveringMap.existsUnique_continuousMap_lifts</a> to obtain a section of the etale space over any simply connected domain, and then use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Logic/Equiv/Basic.html#Equiv.piEquivSubtypeSigma\">Equiv.piEquivSubtypeSigma</a> to obtain the desired primitive. However, the definition of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCoveringMap#doc\">docs#IsCoveringMap</a> needs to be fixed first (<a href=\"https://github.com/leanprover-community/mathlib4/pull/24983\">#24983</a>). Also, <span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span>'s <a href=\"https://github.com/leanprover-community/mathlib4/pull/9598\">#9598</a> and/or <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span>'s <a href=\"https://github.com/leanprover-community/mathlib4/pull/24019\">#24019</a> are probably needed to verify the second part of the <a href=\"https://github.com/leanprover-community/mathlib4/blob/9734a63165a8e36bba68c87137cbdd41043eea31/Mathlib/Topology/Sheaves/LocalPredicate.lean#L196-L197\">\"locally constant\" condition</a>.</p>\n<p>Another application of this would be the development of a satisfactory theory of integration of a closed 1-form along any continuous path: this would be defined as the monodromy (<a href=\"https://github.com/leanprover-community/mathlib4/pull/22771\">#22771</a>) of the covering space in the previous paragraph. The way it is defined, it's automatically <br>\n(1) invariant under any continuous deformation (HomotopyRel) of the path/contour and respects concatenation and reversal of paths;<br>\n(2) given any primitive f of the 1-form on a domain containing the path, the integral equals the difference of the values of f at the start point and the end point. And it then follows<br>\n(3) if the path <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Î³</mi></mrow><annotation encoding=\"application/x-tex\">\\gamma</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span></span></span></span> is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>C</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">C^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span>, the integral can be computed as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mo>âˆ«</mo><mn>0</mn><mn>1</mn></msubsup><mi>f</mi><mo stretchy=\"false\">(</mo><mi>Î³</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><msup><mi>Î³</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mtext>â€‰</mtext><mi>d</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">\\int_0^1 f(\\gamma(t))\\gamma&#x27;(t)\\,dt</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3648em;vertical-align:-0.3558em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"margin-right:0.19445em;position:relative;top:-0.0006em;\">âˆ«</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.009em;\"><span style=\"top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span><span style=\"top:-3.2579em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3558em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">))</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">t</span></span></span></span>: this is easy to prove if there's a primitive <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> in a neighborhood of the path, since <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi><mo stretchy=\"false\">(</mo><mi>Î³</mi><mo stretchy=\"false\">(</mo><mo>â‹…</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">F(\\gamma(\\cdot))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mopen\">(</span><span class=\"mord\">â‹…</span><span class=\"mclose\">))</span></span></span></span> is then a primitive of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>Î³</mi><mo stretchy=\"false\">(</mo><mo>â‹…</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><msup><mi>Î³</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">â€²</mo></msup><mo stretchy=\"false\">(</mo><mo>â‹…</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f(\\gamma(\\cdot))\\gamma&#x27;(\\cdot)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0019em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"mopen\">(</span><span class=\"mord\">â‹…</span><span class=\"mclose\">))</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05556em;\">Î³</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">â€²</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\">â‹…</span><span class=\"mclose\">)</span></span></span></span>; in general we can subdivide the path so that each piece is contained in a disk, and use additivity from (1).<br>\nThis might have been mostly done in <span class=\"user-mention\" data-user-id=\"242586\">@Vincent Beffara</span>'s <a href=\"https://github.com/vbeffara/Curvint\">CurvInt</a> project, and it would be nice to rebase the work on etale spaces.</p>\n<p>We can also define the <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/winding.20number/with/392290819\">winding number</a> as the integral of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>z</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><mi>Ï€</mi><mi>i</mi><mo stretchy=\"false\">(</mo><mi>z</mi><mo>âˆ’</mo><msub><mi>z</mi><mn>0</mn></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">dz/2\\pi i (z-z_0)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mord\">/2</span><span class=\"mord mathnormal\">Ï€i</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.04398em;\">z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.044em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> and use it to state and prove the argument principle and residue theorem without worrying about defining whether a point is in the inside or outside of a simple loop. (Once we have the Jordan curve theorem we'll be able to characterize the inside/outside by winding number (1/0).) Of course we can show by continuity that the winding number is constant on each connected component of the complement of the loop.</p>\n<p>A final application would be the construction of the universal cover as an etale space; again, the only thing to do is to verify a certain predicate is locally constant.</p>\n<p>Also cc <span class=\"user-mention\" data-user-id=\"373986\">@Kalle KytÃ¶lÃ¤</span> in response to the comment at <a class=\"message-link\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/integrating.20on.20a.20piecewise.20differentiable.20curve/near/373289540\">#Is there code for X? &gt; integrating on a piecewise differentiable curve @ ðŸ’¬</a>.</p>",
        "id": 527381645,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1751846556
    },
    {
        "content": "<p>Thanks! By the way, at the Simons meeting a week ago, John Morgan and I worked on a blueprint for a topological proof of the fundamental theorem of algebra using covering spaces: <a href=\"https://alexkontorovich.github.io/CoveringSpacesProject/web/dep_graph_document.html\">https://alexkontorovich.github.io/CoveringSpacesProject/web/dep_graph_document.html</a></p>",
        "id": 527729328,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1751991103
    }
]