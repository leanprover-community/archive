[
    {
        "content": "<p>Hello,<br>\nPR <a href=\"https://github.com/leanprover-community/mathlib4/pull/7300\">#7300</a> intends to formulate plane geometry synthetically using the approach of Jeremy Avigad. Would it be better to try and formulate synthetic geometry for mathlib in terms of Hilbert's (or possibly Tarski's?) approach? My reasoning is as follows:</p>\n<ol>\n<li><a href=\"https://www.andrew.cmu.edu/user/avigad/Papers/formal_system_for_euclids_elements.pdf\">Avigad's paper</a> says that these axioms were primarily created to make proofs feel more like Euclid's original text, rather than because of mathematical motivations. Because they describe the same plane geometry, it seems like it would be better to formalize a version geared towards mathematicians (rather than philosophers)</li>\n<li>Avigad's formulation is based on 65 axioms. This is 5 times <a href=\"https://www.corelab.ntua.gr/studygroup/Tarski_ElGeom.pdf\">Tarski's approach</a> which us 13 axioms (albeit missing angles), and &gt;3 times Hilbert's approach which uses 20. Reading through the paper, a lot of the axioms feel redundant and geared towards making it possible to write proofs that look like plain English</li>\n<li>Even with 65 axioms, the system still only describes plane geometry, whereas something like <a href=\"https://www.gutenberg.org/ebooks/17384\">Hilbert's treatment</a> is able to describe both 2d and 3d space</li>\n<li>Hilbert's axioms are grouped together in a way that seems better for library integration. For example, incidence geometries can be studied in combinatorics (and algebra?), and neatly correspond with (the 2-d subset) of the \"Connection Axioms\"</li>\n<li>More has been done with Hilbert's system, including proofs of independence of axioms, geometric constructions of real addition/multiplication, and outlines of identifications with analytic geometry.</li>\n</ol>\n<p>(apologies if any of this comes off as rude, I'm a bit new to the world of code contribution :D)</p>",
        "id": 487224021,
        "sender_full_name": "Justin Shaw",
        "timestamp": 1733829902
    },
    {
        "content": "<p>It's not coming over as rude to me. I don't have any opinions on how or indeed if we should be doing synthetic geometry in mathlib, however I will remark that getting a 2000+ line PR merged is extremely difficult (and in fact basically impossible) to do nowadays. Probably there needs to be a discussion about whether mathlib even wants this and, if it does, things probably need to be broken into far smaller pieces. That's my guess at least. I don't know if here is the best place for that discussion but perhaps it's as good a place as any.</p>",
        "id": 487225596,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733830408
    },
    {
        "content": "<p>I'm interested in a synthetic/axiomatic approach to geometry. But I would like it to mesh in with the rest of mathlib if possible. So it would be good to know that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\R^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> is a model of this typeclass. (And while we are at it, all torsors as well.)<br>\nAs Yury points out on the PR, we probably want the points and lines to be parameters of the typeclass, instead of fields.</p>\n<p>For me, the goal would be to have this coexist in a synergetic way with the approach that <span class=\"user-mention\" data-user-id=\"266253\">@Joseph Myers</span> has been developing in mathlib.</p>",
        "id": 487251986,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1733837979
    },
    {
        "content": "<p>I have a pretty large development of Tarski geometry around somewhere, plus a proof that R^2 is a model of it. But I still think that a version using Avigad's axioms would be useful: my take is that the \"default\" way of doing geometry is (and should be) the way Joseph has already set up, but it'd be useful to also be able to study synthetic geometry using different axiom systems (plus having the model theory of these would also be nice).</p>",
        "id": 487298088,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1733849393
    },
    {
        "content": "<p>One important question here is who's up for doing reviews here</p>",
        "id": 487310914,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1733853480
    },
    {
        "content": "<p>I think it makes sense to have multiple developments of axiomatic geometry (Avigad, Tarski, Hilbert), each developed as far as a full classification of the instances of the axioms (i.e., how those instances relate to existing mathlib classes such as affine spaces for real inner product spaces, with the operations mapping between the axiomatic version and the inner product space version being defined in both directions with all the API needed to transport results in both directions).</p>",
        "id": 487360211,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1733874718
    },
    {
        "content": "<p>A particular case of interest is axioms for geometry without the parallel postulate and showing that the models of those are exactly Euclidean and hyperbolic spaces (so ticking off independence of the parallel postulate from Freek's list). This indicates it may be useful where possible to structure the developments of axiomatic geometry in a way that allows such subsets of the axioms to be studied.</p>",
        "id": 487360396,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1733874826
    },
    {
        "content": "<p>I'll also repeat what I've said in previous discussions: the starting point (axioms, inner product spaces, etc.) for how things are defined should be largely independent of how proofs work once all the API is set up. So if there are particular kinds of rigorous arguments you'd like to make that seem excessively cumbersome with the existing Euclidean geometry content in mathlib, that certainly indicates scope for adding new lemmas, maybe new definitions, maybe new tactics to avoid needing to manage various low-level details by hand - but it shouldn't need a new axiomatic setup for Euclidean geometry and should be essentially independent of adding axiomatic geometry to mathlib.</p>",
        "id": 487360829,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1733875051
    },
    {
        "content": "<p>I have a very radical point of view on this: Euclid's axioms, and all the other axiomatic systems that have arisen to fill in its gaps, are all mathematically obsolete. They attempt to nail down a very specific model of Euclidean space through indirect characterizations, but nowadays we can just state that we're working within a two-dimensional real inner product space which gives us the exact object we want to talk about, alongside many other nice properties like a norm, an inner product, a topology... that would not naturally arise from these axiomatic foundations.</p>\n<p>This is not to say that Euclid-style geometry is totally outdated. It's still a great didactic tool and it can introduce students to very hands-on mathematics without having to take an analysis course and a linear algebra course. But I don't believe it's within Mathlib's scope.</p>",
        "id": 488015383,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733892931
    },
    {
        "content": "<p>This is somewhat tangential, but I'd love to see <em>projective</em> geometry in Mathlib. It has much fewer axioms but still leads to a very mathematically rich theory that isn't as specifically constrained as Euclidean geometry.</p>",
        "id": 488015508,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733893004
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> why the laugh react? Maybe I misinterpret but that seems a bit rude)</p>",
        "id": 488016343,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733893383
    },
    {
        "content": "<p>Okay, I'll remove the emoji, I agree it wasn't the right one.</p>",
        "id": 488016403,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733893435
    },
    {
        "content": "<p>We don't see eye to eye on what belongs in Mathlib, I think. Euclid's axioms should be there before Chomp. :-)</p>",
        "id": 488016540,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733893506
    },
    {
        "content": "<p>I'd be quite surprised if we didn't already have proofs of Euclid's axioms on affine / inner product spaces</p>",
        "id": 488016594,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733893556
    },
    {
        "content": "<p>I'm not at all opposed to having Euclidean geometry in Mathlib. I am opposed to abstracting it behind a typeclass which is morally only instanced by ℝ² (or other two-dimensional vector spaces)</p>",
        "id": 488016674,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733893600
    },
    {
        "content": "<p>I agree with Violeta here, at least regarding the point that this is not a good use for typeclasses. We don't have a typeclass for the real numbers, even though they are also regularly presented axiomatically in the literature. (Or if we do have a typeclass, it should only be used for the theorem \"every instance of these axioms is isomorphic to the canonical model\".) In mathlib we generally use typeclasses to actually abstract over different things, not just to provide a list of properties true of exactly one object.</p>",
        "id": 488154404,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733939432
    },
    {
        "content": "<p>On the other hand, there <em>are</em> clearly versions of euclid's axioms that admit multiple models: just drop the 5th axiom and you get a class of models that was studied for quite some time. (It's not clear to me whether euclid's axioms are the best modern characterization of non-euclidean geometries though.)</p>",
        "id": 488154822,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733939582
    },
    {
        "content": "<p>One thing you probably want from a non-euclidean geometry is a riemannian metric and a measure space, I don't think you get this with just euclid's axioms</p>",
        "id": 488155090,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733939674
    },
    {
        "content": "<p>Actually <span class=\"user-mention silent\" data-user-id=\"266253\">Joseph Myers</span> is making roughly this point <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/487360211\">above</a> by saying that the main role of the traditional geometry axiomatizations in mathlib is to be related to the more bourbaki-style structures that we use as our workhorses, like affine spaces.</p>",
        "id": 488155780,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733939931
    },
    {
        "content": "<p><del>what ever happened to <span class=\"user-mention\" data-user-id=\"407577\">@André Hernández-Espiet (Rutgers)</span>'s PR of Avigad's axioms?</del> (This <em>is</em> Andre's PR...)</p>",
        "id": 488159722,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1733941302
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488015508\">said</a>:</p>\n<blockquote>\n<p>This is somewhat tangential, but I'd love to see <em>projective</em> geometry in Mathlib. It has much fewer axioms but still leads to a very mathematically rich theory that isn't as specifically constrained as Euclidean geometry.</p>\n</blockquote>\n<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Configuration.ProjectivePlane#doc\">docs#Configuration.ProjectivePlane</a> if that's what you're talking about.</p>",
        "id": 488170165,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1733945000
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488016674\">said</a>:</p>\n<blockquote>\n<p>I'm not at all opposed to having Euclidean geometry in Mathlib. I am opposed to abstracting it behind a typeclass which is morally only instanced by ℝ² (or other two-dimensional vector spaces)</p>\n</blockquote>\n<p>No, this is not true at all. ℝ² is way too much information. Doing Euclidean geometry in ℝ² would be ridiculous. A Euclidean plane has no preferred frame. And it gets worse if you do more refined things like doing affine geometry before doing Euclidean geometry etc.</p>",
        "id": 488180958,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1733948578
    },
    {
        "content": "<p>Isn't doing Euclidean geometry in ℝ² the entire point of analytic geometry?</p>",
        "id": 488669685,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734020021
    },
    {
        "content": "<p>I agree that ℝ² has extra information and that the actual correct structure is an affine space... but an affine space is just a vector space where you ignore the origin</p>",
        "id": 488670058,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734020116
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488154822\">said</a>:</p>\n<blockquote>\n<p>On the other hand, there <em>are</em> clearly versions of euclid's axioms that admit multiple models: just drop the 5th axiom and you get a class of models that was studied for quite some time. (It's not clear to me whether euclid's axioms are the best modern characterization of non-euclidean geometries though.)</p>\n</blockquote>\n<p>Euclid's axioms are not a good system of axioms to begin with. The very first proposition in Euclid's book relies on the fact that two circles with radii r₁ and r₂ with centers at a distance d with r₁, r₂, d satisfying the triangle inequality intersect at a point. This is not at all a consequence of the five axioms. These sorts of problems plague the entire book.</p>",
        "id": 488671440,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734020505
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488670058\">said</a>:</p>\n<blockquote>\n<p>but an affine space is just a vector space where you ignore the origin</p>\n</blockquote>\n<p>No, it’s not. You write this because you don’t know enough affine spaces. What is the ignored origin of the space of lines transverse to a given line in a 2d vector space for instance?</p>",
        "id": 488671578,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734020536
    },
    {
        "content": "<p>...whichever line you choose?</p>",
        "id": 488672185,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734020742
    },
    {
        "content": "<p>I guess I should be more accurate in my wording - every vector space can be turned into an affine space in a canonical manner, and every affine space can be turned into a vector space in a non-canonical manner</p>",
        "id": 488672307,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734020768
    },
    {
        "content": "<p>But if we're only considering <em>the</em> Euclidean space then surely ℝ² counts as a canonical conversion from the affine structure to the vector structure</p>",
        "id": 488672466,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734020820
    },
    {
        "content": "<p>There are certain \"coordinatization\" results in this subject which would be cumbersome to state without the synthetic geometry axioms. I'm thinking specifically about (one part of) the fundamental theorem of projective geometry, but there are analogous statements for Euclidean geometry as well (I think I even used one in a draft of one of my papers!)</p>",
        "id": 488717897,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1734037470
    },
    {
        "content": "<p>Regarding this PR, Andre now works for Harmonic, and so I highly doubt he will <em>ever</em> have time to see this PR through to Mathlib. So for it to get there (if that's something we want...), someone would have to take over. (If I add it to my own TODO list, it might get done in 2030...) Any takers?... (If not, there's actually a middle schooler learning geometry whom I might deputize for the task... but again, that too will go rather slowly...)</p>",
        "id": 488733206,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1734044000
    },
    {
        "content": "<p>There are a few other issues with this PR (missing axioms, missing assumptions). I don't remember the details now. I think that any PR adding synthetic geometry axioms should come with proofs that</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb R^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">C</span></span></span></span> is a model for these axioms;</li>\n<li>there are no other models (or make a choice to allow other models and explain this choice).</li>\n</ul>",
        "id": 488738621,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1734047168
    },
    {
        "content": "<p>Including these proofs in the initial PR may be too much, but they should exist (even if not follow Mathlib coding style) somewhere.</p>",
        "id": 488738692,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1734047230
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488672307\">said</a>:</p>\n<blockquote>\n<p>I guess I should be more accurate in my wording - every vector space can be turned into an affine space in a canonical manner, and every affine space can be turned into a vector space in a non-canonical manner</p>\n</blockquote>\n<p>Do you understand what this means? Non-canonical is not simply a word we write to sound fancy. It has actual consequences. Morphisms of affine spaces don’t have to preserve your random choice of “origin”. </p>\n<p>Do you also suggest which remove from Mathlib our notion of finite dimensional <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-vector spaces, because it’s “morally only instanced by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>K</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">K^n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span>”? Or do you think we should remove the definition of finite groups since it only ever applies to subgroups of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"fraktur\">S</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathfrak{S}_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8414em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathfrak\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>?</p>",
        "id": 488777269,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734073242
    },
    {
        "content": "<p>I don't think Violeta is suggesting to remove the concept of affine spaces</p>",
        "id": 488811857,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734086547
    },
    {
        "content": "<p>And I don't see anything wrong with this use of \"non-canonical\". There is one obvious and natural way to turn a vector space into an affine space, which is to consider its space of differences, and there is an (almost always nontrivial) family of obvious and natural ways to turn an affine space into a vector space, by picking a point and considering differences to it</p>",
        "id": 488812438,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734086749
    },
    {
        "content": "<p>I don't think that exhausts the space of isomorphisms, but it meets my informal understanding of the word \"canonical\" as it is used in mathematics</p>",
        "id": 488812615,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734086805
    },
    {
        "content": "<p>I don't think it's possible to have a formal understanding of the word but I agree that this is how it's used. Patrick's point is the crucial one -- just because every vector space has a basis doesn't mean that we don't develop an abstract theory of vector spaces anyway, and similarly I don't think there's a strong argument for saying \"we don't need this because we have R^2\".</p>",
        "id": 488836275,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734095190
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> Is \"affine space over an oriented 2-dimensional real inner space\" the right generality for Euclidean geometry?</p>",
        "id": 488847621,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1734098729
    },
    {
        "content": "<p>I think we should try to capture a typeclass with the correct notion of endomorphisms (which I think means taking an affine space and then \"forgetting\" orientation as well), but the specific axiomatization of this typeclass should look more vector-space oriented than euclidean-mathematics oriented (i.e. points, lines, planes, betweenness). In particular Euclidean geometry generalizes naturally to n dimensions, but the classic axiomatization bakes in 2 dimensionality in several places</p>",
        "id": 488871749,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734105476
    },
    {
        "content": "<p>Is mirroring considered an euclidean transformation? It's an isometry but I think euclidean transformations may need to preserve orientation</p>",
        "id": 488872095,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734105560
    },
    {
        "content": "<p>We need orientation once we want to talk about oriented angles, otherwise we can drop it.</p>",
        "id": 488880512,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1734108241
    },
    {
        "content": "<p>Plane Euclidean geometry indeed takes place in affine spaces over 2-dimensional real vector spaces equipped with an inner product. Orientation plays a role for part of it but it requires one extra bit of information.</p>",
        "id": 488887044,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734110429
    },
    {
        "content": "<p>And I don’t care much about axiomatic geometry. It would be nice to have some list of axioms and theorems saying there what I wrote above give a model and every model is isomorphic to it. But the more important thing is what Joseph wrote: we need the proper modern back-end based on affine spaces and (abstract) linear algebra and we need lots theorems that allow to do geometry without caring about foundations (just like with any kind of maths).</p>",
        "id": 488887525,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734110594
    },
    {
        "content": "<p>I was really reacting to the “we only need ℝ²” non-sense.</p>",
        "id": 488887679,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734110644
    },
    {
        "content": "<p>Fine - we only really need a two-dimensional real inner product space</p>",
        "id": 488896655,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734113952
    },
    {
        "content": "<p>I'm not saying we shouldn't have affine spaces or finite-dimensional vector spaces. I've worked with dual spaces, and I totally understand why we distinguish between <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>V</mi><mo>∗</mo></msup></mrow><annotation encoding=\"application/x-tex\">V^*</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6887em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∗</span></span></span></span></span></span></span></span></span></span></span> even if they're isomorphic. That's not my point.</p>\n<p>My larger point is that the convoluted axiomatizations of Euclidean geometry that exist in literature provide barely if any more generality than the concrete descriptions in the language of linear algebra. I am not aware of any mathematical structure that can describe planar geometry which allows basic geometric constructions to work (constructing any regular polygon, taking the area of a circle) which is not isomorphic (in multiple senses of the word) to ℝ². </p>\n<p>We don't necessarily have to set <code>Fin 2 → ℝ</code> within our theorems, we can use <code>Module ℝ E + finrank ℝ E = 2 + MetricSpace E + MeasurableSpace E + TopologicalSpace E</code> or whatever. What we should <em>not</em> do is take some random set of 65 axioms which ultimately attempts to describe the exact same set of structures.</p>",
        "id": 488899334,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734114985
    },
    {
        "content": "<p>So, basically what Mario already said.</p>",
        "id": 488899515,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734115064
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488896655\">said</a>:</p>\n<blockquote>\n<p>Fine - we only really need a two-dimensional real inner product space</p>\n</blockquote>\n<p>No. This is still not true. We need affine spaces over such spaces. I don’t understand what you don’t understand here, so I cannot help you more. Do you know the definition of affine spaces?</p>",
        "id": 488901198,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734115713
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488899515\">said</a>:</p>\n<blockquote>\n<p>So, basically what Mario already said.</p>\n</blockquote>\n<p>And no, this is not what Mario said.</p>",
        "id": 488901252,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734115741
    },
    {
        "content": "<p>Ok sorry, an affine space such that the vector space of differences is a two-dimensional real inner product space</p>",
        "id": 488901580,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734115855
    },
    {
        "content": "<p>You're getting caught up in the affine space / vector space distinction. I agree with you that they are distinct objects. My point is that ultimately they are the objects we should be using in order to talk about Euclidean geometry in Mathlib.</p>",
        "id": 488901705,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734115920
    },
    {
        "content": "<blockquote>\n<p>think we should try to capture a typeclass with the correct notion of endomorphisms (which I think means taking an affine space and then \"forgetting\" orientation as well), but the specific axiomatization of this typeclass should look more vector-space oriented than euclidean-mathematics oriented</p>\n</blockquote>\n<p>that</p>",
        "id": 488901805,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734115941
    },
    {
        "content": "<p>You are the one getting caught since you keep writing the wrong thing if you mean affine space when you write vector space.</p>",
        "id": 488901981,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734116020
    },
    {
        "content": "<p>And indeed the message by Mario that you quoted is not saying what you wrote but something sensible instead.</p>",
        "id": 488902145,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734116076
    },
    {
        "content": "<p>Whatever, then just pretend I said nothing and that I'm just agreeing with Mario on the things that are relevant</p>",
        "id": 488902203,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734116107
    },
    {
        "content": "<p>I'm only an outsider to this conversation. I must say that as a member of the community (albeit with no seniority), I am disappointed at the manner in which the valid disagreements were carried out here. The same things could've been said in more respectable ways. I do not think this kind of attitude is befitting of a professor speaking to a student. As one of probably many people who learn by \"lurking\" in these threads, I might get the wrong idea about the <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/CODE_OF_CONDUCT.md\">kind of community</a> we're trying to foster here.</p>",
        "id": 489034570,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1734218115
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237300.20synthetic.20geometry/near/488871749\">said</a>:</p>\n<blockquote>\n<p>I think we should try to capture a typeclass with the correct notion of endomorphisms (which I think means taking an affine space and then \"forgetting\" orientation as well), but the specific axiomatization of this typeclass should look more vector-space oriented than euclidean-mathematics oriented (i.e. points, lines, planes, betweenness). In particular Euclidean geometry generalizes naturally to n dimensions, but the classic axiomatization bakes in 2 dimensionality in several places</p>\n</blockquote>\n<p>I don't know which classic axiomatization you have in mind, but this is not true for Tarski's geometry, a large part of the development is made in arbitrary dimension, and without the parallel postulate, and without continuity axioms.</p>",
        "id": 525846844,
        "sender_full_name": "Julien Narboux",
        "timestamp": 1750925248
    },
    {
        "content": "<p>I would like to know if MatLib would be interested in having synthetic geometry. In GeoCoq, we have the definitions of several type classes for Hilbert/Tarski/Euclid axiom systems (with variants depending on the upper dimension of the space, or using the parallel postulate or not) and the link to analytic geometry in the Euclidean case. We also have some algebraic models in the Euclidean case (2D and nD). Should we consider porting and cleaning GeoCoq  to have it in Lean/Matlib ?  GeoCoq has already been ported to Isabelle by Roland Coghetto.</p>",
        "id": 525848754,
        "sender_full_name": "Julien Narboux",
        "timestamp": 1750925906
    },
    {
        "content": "<p>In my view, it's reasonable to add synthetic geometry axiom systems (<code>Mathlib.Geometry.Tarski</code>, <code>Mathlib.Geometry.Hilbert</code>, <code>Mathlib.Geometry.Avigad</code> etc.) that develop <strong>just enough</strong> theory around those axioms to provide a complete classification of models (show that everything satisfying those axioms is e.g. an affine space over a real inner product space in the case of axioms for Euclidean geometry, and show conversely that an affine space over a real inner product space satisfies the axioms, and show that the mappings between geometrical concepts in both directions are inverses).</p>\n<p>Note 1: maybe we only have two-dimensional hyperbolic space in mathlib and not n-dimensional, in which case we'd need to add n-dimensional hyperbolic space before we can show that all instances of an axiom system for n-dimensional geometry without the parallel postulate are Euclidean or hyperbolic n-dimensional spaces.</p>\n<p>Note 2: there may well be various geometrical definitions and lemmas that are useful to add to mathlib to support certain styles of reasoning for the geometry that's fully integrated with the rest of mathlib. Adding such API to the fully integrated mathlib should be independent of showing how axiom systems relate to things such as inner product spaces.</p>\n<p>Note 3: in particular, given a suitable result about the models for some axioms that are a reasonable notion of \"geometry without the parallel postulate\", we can check off that item from the 100-theorems list. (And arguably, checking off that item is the main goal of axiomatic geometry in mathlib.)</p>",
        "id": 525993876,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1750981927
    },
    {
        "content": "<p>Julien, note that you can create a GeoLean repository in any case. The discussion is only about how much will end up in Mathlib itself. There is a lot of ongoing work devoted to bring nice tooling to libraries depending on Mathlib.</p>",
        "id": 526191764,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751102670
    }
]