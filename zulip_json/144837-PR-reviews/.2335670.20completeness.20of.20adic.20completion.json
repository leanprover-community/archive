[
    {
        "content": "<p>I am opening this thread to discuss whether we should use <code>directSum</code>, <code>Pi</code>, or <code>finsuppSum</code> for this PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/34936\">#34936</a>.</p>\n<p>As <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> mentioned, <code>directSum</code> and <code>Pi</code> are typically intended for dependent sums and products, which is the main reason we chose <code>finsuppSum</code>.</p>\n<p>While using <code>directSum</code> or <code>Pi</code> would definitely work and allow us to rely on existing APIs, I believe <code>AdicCompletion.finsuppSum</code> is a useful addition that we still need. Because of this, my preference is to stick with the current <code>finsuppSum</code> approach rather than reverting it.</p>\n<p><span class=\"user-mention\" data-user-id=\"749361\">@Nailin Guan</span> <span class=\"user-mention\" data-user-id=\"648495\">@Christian Merten</span>, what are your thoughts on this?</p>",
        "id": 575126014,
        "sender_full_name": "Bingyu Xia",
        "timestamp": 1771723712
    },
    {
        "content": "<p>I have nothing against this, you have the final decision whether it is useful, we can have a separate PR for  it.<br>\nI only intend to spilt this PR, it seems being a little too big for review (</p>",
        "id": 575150581,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1771753626
    },
    {
        "content": "<p>If it turns out to be useful to also have a <code>Finsupp</code> version, we can have it, but we should try to deduce the isomorphism directly from the <code>DirectSum</code> version via <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=finsuppLEquivDirectSum#doc\">docs#finsuppLEquivDirectSum</a>.</p>",
        "id": 575155866,
        "sender_full_name": "Christian Merten",
        "timestamp": 1771759528
    },
    {
        "content": "<p>Sounds good, thanks both for the feedback! I agree the current PR is getting a bit too large. My next steps will be to close this PR and break it down into smaller, more manageable pieces. In the process, I will rewrite the isomorphism part as Christian suggested.</p>",
        "id": 575159422,
        "sender_full_name": "Bingyu Xia",
        "timestamp": 1771763848
    },
    {
        "content": "<p>I have finished splitting PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/34936\">#34936</a>. The last and largest piece is <a href=\"https://github.com/leanprover-community/mathlib4/pull/35670\">#35670</a>, which depends on almost all of the smaller pieces.</p>",
        "id": 575218473,
        "sender_full_name": "Bingyu Xia",
        "timestamp": 1771816382
    }
]