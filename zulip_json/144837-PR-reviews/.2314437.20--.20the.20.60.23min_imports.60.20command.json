[
    {
        "content": "<p>I just opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/14437\">#14437</a> that adds a <code>#min_imps</code> command.  The idea would be that this command may substitute most of the uses of <code>#find_home</code>.  In particular, I hope that it is both faster and more flexible.</p>\n<p>The main difference with <code>#find_home</code> is that it has a mechanism to inspect the <em>syntax</em> of a declaration and also add it to the dependencies.  For instance, it should find implied notation and tactics.  For the command to be able to get access to the syntax, you can use it like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">MinImports</span><span class=\"w\">  </span><span class=\"c1\">-- this is the new file where the command is defined</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"bp\">#</span><span class=\"n\">min_imps</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"w\">  </span><span class=\"c1\">-- pass it an identifier</span>\n<span class=\"c1\">-- import Init.Data.Int.Basic</span>\n\n<span class=\"bp\">#</span><span class=\"n\">min_imps</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">add_comm</span><span class=\"w\"> </span><span class=\"c1\">-- or a lemma</span>\n<span class=\"c1\">-- import Init.Data.Nat.Basic</span>\n\n<span class=\"bp\">#</span><span class=\"n\">min_imps</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\">  </span><span class=\"c1\">-- or just a notation</span>\n<span class=\"c1\">-- import Mathlib.Data.Real.Basic</span>\n\n<span class=\"bp\">#</span><span class=\"n\">min_imps</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"w\">  </span><span class=\"c1\">-- you can pass any command</span>\n<span class=\"c1\">-- ℤ : Type</span>\n<span class=\"c1\">-- import Mathlib.Init.Data.Int.Basic</span>\n\n<span class=\"bp\">#</span><span class=\"n\">min_imps</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">tactic</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">extract_goal</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">on_goal</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">))</span><span class=\"w\">  </span><span class=\"c1\">-- or just about any piece of syntax</span>\n<span class=\"c1\">-- import Batteries.Tactic.Init</span>\n<span class=\"c1\">-- import Batteries.Tactic.PermuteGoals</span>\n<span class=\"c1\">-- import Mathlib.Tactic.ExtractGoal</span>\n</code></pre></div>",
        "id": 449235953,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720163723
    },
    {
        "content": "<p>If you have any \"challenging\" lemma on which <code>#find_home</code> failed you, let me know and I will see how <code>#min_imps</code> performs on them!</p>",
        "id": 449236175,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720163767
    },
    {
        "content": "<p>This looks very useful!</p>",
        "id": 449250711,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1720168111
    },
    {
        "content": "<p><code>#min_imps</code> is too short/confusing a name. Can we just plan to replace <code>#find_home</code>?</p>",
        "id": 449418339,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720226101
    },
    {
        "content": "<p>I'm happy to replace <code>#find_home</code>, and indeed it was my motivation for writing <code>#min_imps</code>.  However, there is a difference between what the two commands set out to do (regardless of whether they succeed at it or not):</p>\n<ul>\n<li><code>#min_imps x</code> gives a list of imports that taken together suffice to make <code>x</code> \"work\";</li>\n<li><code>#find_home x</code> further computes which modules import all the imports determined before.</li>\n</ul>",
        "id": 449420169,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720227854
    },
    {
        "content": "<p>I think that both commands should exist (though renaming is certainly good with me!):</p>\n<ul>\n<li><code>#min_imps</code> is useful for instance in minimizing or creating a new file;</li>\n<li><code>#find_home</code> is useful to insert a new lemma into existing code.</li>\n</ul>",
        "id": 449420184,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720227866
    },
    {
        "content": "<p>I do think that the implementation of <code>#find_home</code> will benefit from relying on the code of an \"ideal implementation\" of the <code>#min_imps</code> command!</p>",
        "id": 449420186,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720227870
    },
    {
        "content": "<p>(Also related to this discussion is <code>#minimize_imports</code> of course, whose goal is similar to <code>#min_imps</code> but whose scope is every declaration in the file.  I have not yet worked out how to make <code>#minimize_imports</code> use syntax information, though.)</p>",
        "id": 449420539,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720228165
    },
    {
        "content": "<p>Concerning the name of <code>#min_imps</code>: could <code>#minimize_imports</code> take an optional argument, in which case it behaves like <code>#min_imps</code>, but when it doesn't get an argument, it works on all decls in the file?</p>",
        "id": 449436053,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1720239798
    },
    {
        "content": "<p>Possibly even better: Could you rename<br>\n<code>#min_imps</code> to <code>#minimize_imports in</code>? This would forbid using <code>#minimize_imports</code> on declarations that are autogenerated/not in the file, which seems like correct behaviour to me</p>",
        "id": 449446524,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720247056
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2314437.20--.20the.20.60.23min_imps.60.20command/near/449418339\">said</a>:</p>\n<blockquote>\n<p><code>#min_imps</code> is too short/confusing a name. Can we just plan to replace <code>#find_home</code>?</p>\n</blockquote>\n<p>Is this reasoning the cause for <code>#minimize_imports</code> to have such a long name? It is really annoying to type out, especially since autocomplete doesn't help me unless I have some <code>#minimize_imports</code> written in the file already <span aria-label=\"woman facepalming\" class=\"emoji emoji-1f926-200d-2640\" role=\"img\" title=\"woman facepalming\">:woman_facepalming:</span></p>",
        "id": 449446786,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720247285
    },
    {
        "content": "<p>Could we at least rename it to <code>#min_imports</code>? It's still readable and after all it could also stand for \"minimal imports\".</p>",
        "id": 449446854,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720247392
    },
    {
        "content": "<p>I would love to be able to right-click on a decl and then click \"Minimize imports\"</p>",
        "id": 449446855,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1720247395
    },
    {
        "content": "<p>I like the suggestion of renaming to <code>#min_imports in</code> the new command, as well as renaming <code>#minimize_imports</code> to <code>#min_imports</code>.  I am going ahead with the rename of the new command in my PR and will prepare a fresh PR with the name-change of <code>#minimize_imports</code>.</p>\n<p>Also, <code>#min_imports</code> could stand for <code>#minimise_imports</code>.</p>",
        "id": 449514063,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720280948
    },
    {
        "content": "<p>(Btw, the name of the file already is <code>MinImports.lean</code>. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> )</p>",
        "id": 449514630,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720281117
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/import-graph/pull/16\">importGraph#16</a></p>",
        "id": 449520480,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720282769
    },
    {
        "content": "<p>To go back to the current <code>#minimize_imports</code> behaviour, that inspects the whole file, the new command can mimick that as well: it suffices to make it take as input a sequence of commands.  Here is a possible syntax for it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">min_imports</span><span class=\"w\"> </span><span class=\"n\">start</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">ℤ</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">ohMy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">extract_goal</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">change?</span><span class=\"w\"> </span><span class=\"bp\">_;</span><span class=\"w\"> </span><span class=\"n\">trivial</span>\n<span class=\"n\">until</span>\n<span class=\"c1\">-- import Mathlib.Tactic.Change</span>\n<span class=\"c1\">-- import Mathlib.Tactic.ExtractGoal</span>\n<span class=\"c1\">-- import Mathlib.Tactic.Lemma</span>\n<span class=\"c1\">-- import Mathlib.Init.Data.Int.Basic</span>\n</code></pre></div>\n<p>and the <code>until</code> could be optional: leaving it out, means that the command reports minimal imports for the file from where <code>#min_imports start</code> is planted until the end.</p>",
        "id": 449524882,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720284186
    },
    {
        "content": "<p>(the <code>start</code> may also not be there, but I wanted to maintain a difference with <code>minimize_imports</code>, at least in the development phase.)</p>",
        "id": 449524917,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720284229
    },
    {
        "content": "<p>I am really hoping that this command will be a step in the direction of automated (not really minimal but) working examples that do not depend on a given subset of imports, e.g. all the <code>Mathlib</code> ones!</p>",
        "id": 449525293,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720284422
    },
    {
        "content": "<p>Could this be used to automatically \"fix\" the file when <code>shake</code> fails? (i.e. remove unnecessary imports or add to <code>noshake.json</code>). If I understand correctly, this accurately determines when an import is needed for syntax and/or tactics?</p>",
        "id": 449665761,
        "sender_full_name": "Richard Osborn",
        "timestamp": 1720362496
    },
    {
        "content": "<p>The idea is indeed that it \"accurately determines imports\".  In practice, I have done only very minimal testing, so I am not sure how reliable it is.</p>",
        "id": 449665810,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720362550
    },
    {
        "content": "<p>Also, to make it run \"dry\" on a file, it would require some re-parsing of the file (or thinking of a different strategy than the current one).</p>",
        "id": 449665942,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720362617
    },
    {
        "content": "<p>I don't think re-parsing the file is a big downside if it's done only when <code>shake</code> fails.</p>",
        "id": 449666407,
        "sender_full_name": "Richard Osborn",
        "timestamp": 1720362994
    },
    {
        "content": "<p>Anyway, I am hoping that it will be useful also for <code>shake</code>, but I would still like <code>#min_imports</code> to receive much more testing, before integrating it with other commands.</p>",
        "id": 449666532,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720363106
    },
    {
        "content": "<p>(Btw, the rename of <code>#minimize_import</code> was merged: thanks Kim!)</p>",
        "id": 449666550,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720363136
    },
    {
        "content": "<p>(I imagine that it will take a little bit to trickle down to mathlib, but the change is in <code>import-graph</code>.)</p>",
        "id": 449666580,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720363162
    },
    {
        "content": "<p>Also, I would think the easiest way to test this command would be to run it on an entire mathlib file and check if it agrees with the current mathlib imports (which are hopefully minimized).</p>",
        "id": 449667022,
        "sender_full_name": "Richard Osborn",
        "timestamp": 1720363478
    },
    {
        "content": "<p>Now that I have a prototype of <code>#min_imports</code> that runs on a sequence of commands, I am going to test it out on a few files and see how it performs.</p>",
        "id": 449668416,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720364590
    },
    {
        "content": "<p>I have now a (probably working) version of <code>#min_imports</code> as a linter: <a href=\"https://github.com/leanprover-community/mathlib4/pull/14480\">#14480</a>.  The linter accumulates the imports, so you can use <code>set_option linter.minImports in</code> in front of a few declarations and it will report imports that work for all of them simultaneously.</p>\n<p>If you simply activate the linter without <code>in</code>, then it will report on each command that makes the imports increase, what the new minimal imports are.</p>",
        "id": 450177135,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720532695
    },
    {
        "content": "<p>Exciting!</p>\n<p>(I'm facetiously tempted to suggest turning this on in every file, starting at line 500! The idea being that you're not allowed to required new imports late in a file, and should instead split.)</p>",
        "id": 450316006,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720571132
    },
    {
        "content": "<p>This is a cool idea!  I'm still testing, but I could test it by checking on which files the import requirements change after line 500.</p>",
        "id": 450336304,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720582657
    },
    {
        "content": "<p>My gut feeling is that it will flag files which are perfectly fine</p>",
        "id": 450337765,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720583418
    },
    {
        "content": "<p>Of course some might argue that any file over 500 lines is already not fine.</p>",
        "id": 450353750,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720592248
    },
    {
        "content": "<p>I'm now running an experiment where the linter flags all import bumps and, at the end of the file, prints the actual imports listed at the beginning.  I'm going to investigate when the latest import bump is reported at a line ≥ 500 (as well as how the actual imports match the ones expected by the linter).</p>",
        "id": 450355462,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720592840
    },
    {
        "content": "<p>This is an interesting import progression:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⚠</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">3258</span><span class=\"bp\">/</span><span class=\"mi\">4806</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Mathport</span><span class=\"bp\">.</span><span class=\"n\">Rename</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">Defs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">50</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">55</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Coeff</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">67</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Degree</span><span class=\"bp\">.</span><span class=\"n\">Definitions</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">180</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Eval</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">238</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Finiteness</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Eval</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">532</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Finiteness</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RingDivision</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">814</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Noetherian</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RingDivision</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">847</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Noetherian</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RingDivision</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">849</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Noetherian</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">Equiv</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RingDivision</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">921</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">UniqueFactorizationDomain</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">Equiv</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RingDivision</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">955</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">UniqueFactorizationDomain</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">Equiv</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Roots</span><span class=\"o\">]</span>\n\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1350</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span>\n<span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">Equiv</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Content</span><span class=\"o\">]</span>\n\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1360</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Init</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharP</span><span class=\"bp\">.</span><span class=\"n\">ExpChar</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">GeomSum</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">CommRing</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">Equiv</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Content</span><span class=\"o\">,</span>\n<span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">UniqueFactorizationDomain</span><span class=\"o\">]</span>\n<span class=\"w\"> </span><span class=\"bp\">```</span>\n<span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">latest</span><span class=\"w\"> </span><span class=\"n\">place</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">there</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">bump</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">introduce</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"ss\">`private</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">brings</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"ss\">`MvPolynomial</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">picture</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mf\">1350.</span>\n</code></pre></div>",
        "id": 450359292,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720594053
    },
    {
        "content": "<p>This also highlights an issue with my linter in dealing with open namespaces.</p>",
        "id": 450359394,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720594070
    },
    {
        "content": "<p>And there are redundant imports in the file.</p>",
        "id": 450359498,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720594085
    },
    {
        "content": "<p>This is a very interesting tool! Thanks for posting those results!</p>",
        "id": 450359584,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720594128
    },
    {
        "content": "<p>I wasn't being too serious about the 500 line max but I've always had it in my head that 1000 lines is plenty for a file, and perhaps the output above is arguing that this file should be split.</p>",
        "id": 450359996,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720594248
    },
    {
        "content": "<p>And this is a selection of the files whose latest import bump happens at or above line 1000 (each with the position of the last import bump):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"mi\">1511</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1159</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Span</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2515</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Matrix</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1133</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Atoms</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1353</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Ring</span><span class=\"bp\">/</span><span class=\"n\">Subsemiring</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1388</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Num</span><span class=\"bp\">/</span><span class=\"n\">Lemmas</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1463</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">MeasurableSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1979</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1085</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">NNReal</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1958</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Game</span><span class=\"bp\">/</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2122</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">UniqueFactorizationDomain</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">3055</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Subgroup</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1147</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">/</span><span class=\"n\">Shapes</span><span class=\"bp\">/</span><span class=\"n\">Kernels</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1209</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Localization</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1367</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Real</span><span class=\"bp\">/</span><span class=\"n\">EReal</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2113</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Lattice</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1085</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">Primrec</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1007</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1031</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Field</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1557</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finsupp</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1809</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">UniformSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1778</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Multilinear</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">3493</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1156</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Degree</span><span class=\"bp\">/</span><span class=\"n\">Definitions</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1424</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">/</span><span class=\"n\">Shapes</span><span class=\"bp\">/</span><span class=\"n\">BinaryProducts</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1396</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">PartialHomeomorph</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2097</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Set</span><span class=\"bp\">/</span><span class=\"n\">Lattice</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2216</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Separation</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2064</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">List</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1104</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Set</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1244</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Cardinal</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2365</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TuringMachine</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1158</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1849</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">BigOperators</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1182</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finsupp</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1318</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">OrderOfElement</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1065</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">Zsqrtd</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1188</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">MonoidAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1025</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">Bases</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1391</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">FreeGroup</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1031</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Star</span><span class=\"bp\">/</span><span class=\"n\">NonUnitalSubalgebra</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1168</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">LocalizedModule</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1241</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Notation</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1701</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Floor</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1789</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Constructions</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1146</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Convex</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2530</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1764</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Cardinal</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1542</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2375</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Combinatorics</span><span class=\"bp\">/</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">/</span><span class=\"n\">Connectivity</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1350</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1864</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">DFinsupp</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1078</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Interval</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1185</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1413</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1107</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">Perm</span><span class=\"bp\">/</span><span class=\"n\">Cycle</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1037</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">/</span><span class=\"n\">Shapes</span><span class=\"bp\">/</span><span class=\"n\">Images</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1648</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1592</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Basis</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1482</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Submonoid</span><span class=\"bp\">/</span><span class=\"n\">Operations</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1031</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">ZFC</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1285</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">BigOperators</span><span class=\"bp\">/</span><span class=\"n\">Finprod</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2725</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Multiset</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1057</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Preadditive</span><span class=\"bp\">/</span><span class=\"n\">Biproducts</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1195</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">MonoidLocalization</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1880</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">AtTopBot</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1102</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">LinearIndependent</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1008</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">GCDMonoid</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1244</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n</code></pre></div>",
        "id": 450361940,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720594830
    },
    {
        "content": "<p>The bumps that happen above line 3k are probably trying to tell us something...</p>",
        "id": 450362765,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720595098
    },
    {
        "content": "<p>For instance, on line 3493 of <code>Mathlib/Data/Finset/Basic.lean</code> there is the first lemma that uses <code>import Mathlib.Logic.Equiv.Set</code>.</p>",
        "id": 450365558,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720595827
    },
    {
        "content": "<p>Please let me have dibs on <code>Data.Finset.Basic</code>. I've been thinking about it for several months</p>",
        "id": 450365962,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720595903
    },
    {
        "content": "<p>Sure, I am not going to embark on splitting files as well!</p>\n<p>I am going to focus on getting this tool to correctly report the minimum direct imports for each declaration.</p>",
        "id": 450366543,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720596016
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> Thanks, this is a really tool!</p>",
        "id": 450381671,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1720599902
    },
    {
        "content": "<p><a href=\"https://gist.github.com/adomani/aa0e28b17c366a668e0ac749fdb33f14#file-import_bumps-txt\">This gist</a> contains the successive import bumps per file, ending with the actual imports of each file.  Different files are separated by <code>---</code>.</p>",
        "id": 450385491,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720600954
    },
    {
        "content": "<p>The data is possibly not completely reliable, since there are certainly bugs in the program that generated it, but if you want to play with it, I would be very happy to hear comments and complaints!</p>",
        "id": 450385588,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720600994
    },
    {
        "content": "<p>E.g. this</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">---</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Imports</span><span class=\"w\"> </span><span class=\"n\">increased</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Mathport</span><span class=\"bp\">.</span><span class=\"n\">Rename</span><span class=\"o\">]</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">67</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Mathport</span><span class=\"bp\">.</span><span class=\"n\">Rename</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Common</span><span class=\"o\">]</span>\n<span class=\"c1\">---</span>\n</code></pre></div>\n<p>is an indication that the file <code>Mathlib/Algebra/Quotient.lean</code> has an <code>#align</code> statement on line 9, but is also importing <code>Mathlib.Tactic.Common</code> \"for no reason\".  Of course, in cases like this, \"for no reason\" may simply be \"so that common tactics are available later on\".  The file really does not need <code>Mathlib.Tactic.Common</code>.</p>",
        "id": 450386038,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720601145
    },
    {
        "content": "<p>Does it only use uncommon tactics??</p>",
        "id": 450392264,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720603072
    },
    {
        "content": "<p>I realize that what you said was a joke, but the file is actually entirely in term-mode!</p>",
        "id": 450393015,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720603284
    },
    {
        "content": "<p>I was just reviewing <a href=\"https://github.com/leanprover-community/mathlib4/pull/14501\">#14501</a> and noticed in <code>Mathlib/CategoryTheory/Limits/ConcreteCategory.lean</code> the import <code>import Mathlib.Tactic.ApplyFun</code>, which I thought was surprising; I removed it and the file still compiled. I thought that in these shakey days this couldn't happen!</p>",
        "id": 450462584,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720620533
    },
    {
        "content": "<p>The <code>noshake.json</code> needs to be cleaned.</p>",
        "id": 450462723,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1720620578
    },
    {
        "content": "<p>We tell shake to ignore all (most?) tactic imports</p>",
        "id": 450462888,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1720620617
    },
    {
        "content": "<p>I'm not sure if it can reliably detect whether a tactic was used anyway, from the term-mode proof that comes out</p>",
        "id": 450462996,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1720620648
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2314437.20--.20the.20.60.23min_imports.60.20command/near/450361940\">said</a>:</p>\n<blockquote>\n<p>And this is a selection of the files whose latest import bump happens at or above line 1000 (each with the position of the last import bump):</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"mi\">1511</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1159</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Span</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2515</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Matrix</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1133</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Atoms</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1353</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Ring</span><span class=\"bp\">/</span><span class=\"n\">Subsemiring</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1388</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Num</span><span class=\"bp\">/</span><span class=\"n\">Lemmas</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1463</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">MeasurableSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1979</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1085</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">NNReal</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1958</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Game</span><span class=\"bp\">/</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2122</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">UniqueFactorizationDomain</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">3055</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Subgroup</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1147</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">/</span><span class=\"n\">Shapes</span><span class=\"bp\">/</span><span class=\"n\">Kernels</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1209</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Localization</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1367</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Real</span><span class=\"bp\">/</span><span class=\"n\">EReal</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2113</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Lattice</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1085</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">Primrec</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1007</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1031</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Field</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1557</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finsupp</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1809</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">UniformSpace</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1778</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Multilinear</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">3493</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1156</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Degree</span><span class=\"bp\">/</span><span class=\"n\">Definitions</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1424</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">/</span><span class=\"n\">Shapes</span><span class=\"bp\">/</span><span class=\"n\">BinaryProducts</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1396</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">PartialHomeomorph</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2097</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Set</span><span class=\"bp\">/</span><span class=\"n\">Lattice</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2216</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Separation</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2064</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">List</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1104</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Set</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1244</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Cardinal</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2365</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TuringMachine</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1158</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1849</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">BigOperators</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1182</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finsupp</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1318</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">OrderOfElement</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1065</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">Zsqrtd</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1188</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">MonoidAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1025</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">Bases</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1391</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">FreeGroup</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1031</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Star</span><span class=\"bp\">/</span><span class=\"n\">NonUnitalSubalgebra</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1168</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">LocalizedModule</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1241</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Notation</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1701</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Floor</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1789</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Constructions</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1146</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Convex</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2530</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Pointwise</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1764</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Cardinal</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1542</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2375</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Combinatorics</span><span class=\"bp\">/</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">/</span><span class=\"n\">Connectivity</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1350</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">Polynomial</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1864</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">DFinsupp</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1078</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Interval</span><span class=\"bp\">/</span><span class=\"n\">Finset</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1185</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1413</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1107</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">Perm</span><span class=\"bp\">/</span><span class=\"n\">Cycle</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1037</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Limits</span><span class=\"bp\">/</span><span class=\"n\">Shapes</span><span class=\"bp\">/</span><span class=\"n\">Images</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1648</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1592</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Basis</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1482</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Submonoid</span><span class=\"bp\">/</span><span class=\"n\">Operations</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1031</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">ZFC</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1285</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">BigOperators</span><span class=\"bp\">/</span><span class=\"n\">Finprod</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">2725</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Multiset</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1057</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">/</span><span class=\"n\">Preadditive</span><span class=\"bp\">/</span><span class=\"n\">Biproducts</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1195</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">MonoidLocalization</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1880</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">Filter</span><span class=\"bp\">/</span><span class=\"n\">AtTopBot</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1102</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">LinearIndependent</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1008</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">GCDMonoid</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">1244</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p><code>SimpleGraph/Connectivity.lean</code> does not seem to actually require <code>Data/List/Rotate</code>: the file builds fine without.</p>",
        "id": 450674510,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1720694085
    },
    {
        "content": "<p>Is this list something that we can automatically generate on a regular basis? I feel like this is something like the longest pole where it will pay off if we can gradually work on the worst offenders. Even including the \"latest import\" in the technical debt bot each week might be helpful.</p>",
        "id": 451781012,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1721142521
    },
    {
        "content": "<p>Yes, definitely.</p>\n<p>I think that some of the linters that I worked on recently are best run every once in a while: they accumulate a lot of data and they are slow.  Moreover, they do not return information that needs to be processed straight-away, so running them on a schedule is also what I had in mind.</p>",
        "id": 451781775,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1721142661
    },
    {
        "content": "<p>I am not sure that I can set this up for a day or two, but I can prepare something probably towards the end of this week.</p>",
        "id": 451781913,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1721142697
    },
    {
        "content": "<p>(The <code>#min_imports</code> linter still does not actually catch all import information, but I have not been able to figure out exactly what it is missing: it is fairly accurate but something still passes it by.)</p>",
        "id": 451782137,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1721142739
    }
]