[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26021\">#26021</a> is the third longest PR on the queue which is assigned, but stale. It's short (+64/-0), <code>t-data</code> and has not seen much review activity. Any volunteers for reviewing it? (I don't want to ask Yael on all of them. We need help here!)</p>",
        "id": 535813635,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1755963667
    },
    {
        "content": "<p>Maybe Ya--- oh</p>",
        "id": 535813661,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1755963698
    },
    {
        "content": "<p>Assign it to me, I'll take a look at it; I had a student do this once but never PR it.</p>",
        "id": 535862027,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1755980942
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 535862933,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1755982114
    },
    {
        "content": "<p>I think Yakov's work on positional reals should be taken into account when evaluating this PR though. That is, do we want one or the other, or both?</p>",
        "id": 535913748,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1756054929
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/13964\">#13964</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/13965\">#13965</a> are the PRs to which I'm referring.</p>",
        "id": 535913930,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1756055152
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> pinging just to make sure you see this.</p>",
        "id": 535914157,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1756055386
    },
    {
        "content": "<p>After a gruelling week I've had the time to look at least at the content of these PRs. Yakov's is formalizing a cute paper of de Bruijn but do we need another construction of the reals? He doesn't even define multiplication (and IMO multiplication is by far the hardest part, not least if the definition is \"don't allow 0.199999999...\" rather than \"allow it but let it be 0.2\"). It's a lovely little project but given that we already have the reals and the p-adics, do we want it in mathlib?</p>",
        "id": 536867275,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1756505341
    },
    {
        "content": "<p>Multiplication works by showing that there is an endomorphism on the new type that is identity on 1. In any case, I think it's fine to abandon or \"archive\" the de Bruijn construction, in terms of the reals. For p-adics, however, it might still be useful since computational representations of the p-adics often are via digit representations/approximations. And we don't currently have a nice ofDigits and digits equivalent for p-adics, nor results that about periodic representations etc.</p>",
        "id": 536871610,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1756508793
    },
    {
        "content": "<p>All that being said, I don't think my PRs should hold up the ones here leading to the Cantor set.</p>",
        "id": 536871631,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1756508818
    },
    {
        "content": "<p>My instinct is that multiplication will be hard</p>",
        "id": 536921796,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1756567934
    },
    {
        "content": "<p>I think another advantage of the positional system as a construction for <code>ℝ</code> is that the prerequisites are minimal.</p>",
        "id": 536939027,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1756586677
    },
    {
        "content": "<p><a href=\"https://ncatlab.org/nlab/show/Eudoxus+real+number\">Eudoxus reals</a> are another very minimal construction of <code>ℝ</code> I'm personally more partial to</p>",
        "id": 536978252,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756642080
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/representation.20of.20reals.20in.20.5B0.2C.201.5D.20in.20positional.20system/near/536871631\">said</a>:</p>\n<blockquote>\n<p>All that being said, I don't think my PRs should hold up the ones here leading to the Cantor set.</p>\n</blockquote>\n<p>We aren't defining the Cantor set in terms of digit expansions, are we?</p>",
        "id": 536978570,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756642345
    },
    {
        "content": "<p>If I had to define the Cantor set in Lean I'd do it something like this</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n\n<span class=\"kn\">private</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">cantorAux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">cantorAux</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">cantorAux</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">cantor</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">⋂</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">cantorAux</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">n</span>\n</code></pre></div>",
        "id": 536978816,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756642647
    },
    {
        "content": "<p>imo \"the cantor set consists of reals whose base 3 digits are not 1\" is the kind of result that's relegated to a leaf file</p>",
        "id": 536979080,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756642944
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=cantorSet#doc\">docs#cantorSet</a></p>",
        "id": 536981689,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1756645373
    },
    {
        "content": "<p>oh we already have the cantor set</p>",
        "id": 536981726,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1756645397
    },
    {
        "content": "<p>huh, then what material on the Cantor set depends on digit expansions?</p>",
        "id": 536982566,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756646231
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26021\">#26021</a> &gt; <a href=\"https://github.com/leanprover-community/mathlib4/pull/26096\">#26096</a> &gt; <a href=\"https://github.com/leanprover-community/mathlib4/pull/26136\">#26136</a></p>",
        "id": 536984047,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1756647655
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 537409814,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756881633
    },
    {
        "content": "<p>Surely there are other (perhaps even more direct) ways to prove the Cantor set is homeomorphic to ℕ → Bool?</p>\n<p>The function <code>g : cantorSet → ℕ → Bool</code> certainly does not require digit expansions to construct, you can corecursively construct it such that </p>\n<ul>\n<li><code>g x 0 = x ≥ 2/3</code> </li>\n<li><code>g x (n + 1) = g (3 * x) n</code> if <code>x ≤ 1/3</code></li>\n<li><code>g x (n + 1) = g (3 * x - 2) n</code> otherwise.</li>\n</ul>",
        "id": 537410615,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756882039
    },
    {
        "content": "<p>In fact, <code>cantorSet</code> is homeomorphic to <code>Bool × cantorSet</code> by the <code>3 * x</code> or <code>3 * x - 2</code> map I mentioned. Can't you use that for a more direct proof somehow?</p>",
        "id": 537413290,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756883305
    },
    {
        "content": "<p>(Surely <code>ℕ → Bool</code> can be at least continuously embedded into any topological space with that property?)</p>",
        "id": 537413484,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756883392
    },
    {
        "content": "<p>I would argue that regardless of whether we want positional reals in Mathlib, we shouldn't be using them for topological results like these.</p>",
        "id": 537560718,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756937137
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/representation.20of.20reals.20in.20.5B0.2C.201.5D.20in.20positional.20system/near/537410615\">said</a>:</p>\n<blockquote>\n<p>Surely there are other (perhaps even more direct) ways to prove the Cantor set is homeomorphic to ℕ → Bool?</p>\n</blockquote>\n<p>til a space is homeomorphic to the cantor set iff it is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nonempty#doc\">docs#Nonempty</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PerfectSpace#doc\">docs#PerfectSpace</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompactSpace#doc\">docs#CompactSpace</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TotallyDisconnectedSpace#doc\">docs#TotallyDisconnectedSpace</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopologicalSpace.MetrizableSpace#doc\">docs#TopologicalSpace.MetrizableSpace</a></p>",
        "id": 537570750,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1756944720
    },
    {
        "content": "<p>so the ternary cantor set is homeomorphic to the cantor set?</p>",
        "id": 537621418,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1756975799
    },
    {
        "content": "<p>yeah i guess that's possible</p>",
        "id": 537621482,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1756975816
    },
    {
        "content": "<p>yeah that's true! Put it another way, the 2-adic integers <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> and the 3-adic integers <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> are homeomorphic as topological spaces (and they're also homeomorphic to the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic integers). An explicit homeomorphism is: given an infinite ternary string like 012012222101102... send 0 to 0, 1 to 10 and 2 to 11 and you'll get an infinite binary string; it's not hard to check that this is a bijection, and both the forward and inverse maps must be continuous because the description works in constructive mathematics where all functions are continuous (to be honest I have no idea if this is a rigorous argument; it's not hard to check continuity by hand though)</p>",
        "id": 537645827,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1756983958
    },
    {
        "content": "<p>N -&gt; Fin n is homeomorphic to N -&gt; Bool for n ≥ 2 <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 537703375,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1757000782
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/representation.20of.20reals.20in.20.5B0.2C.201.5D.20in.20positional.20system/near/537570750\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/representation.20of.20reals.20in.20.5B0.2C.201.5D.20in.20positional.20system/near/537410615\">said</a>:</p>\n<blockquote>\n<p>Surely there are other (perhaps even more direct) ways to prove the Cantor set is homeomorphic to ℕ → Bool?</p>\n</blockquote>\n<p>til a space is homeomorphic to the cantor set iff it is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nonempty#doc\">docs#Nonempty</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PerfectSpace#doc\">docs#PerfectSpace</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompactSpace#doc\">docs#CompactSpace</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TotallyDisconnectedSpace#doc\">docs#TotallyDisconnectedSpace</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopologicalSpace.MetrizableSpace#doc\">docs#TopologicalSpace.MetrizableSpace</a></p>\n</blockquote>\n<p>Then I believe this is what we should be proving, rather than proving that one specific subset of R which happens to be nicely described by base-3 expansions is.</p>",
        "id": 537703659,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1757000867
    },
    {
        "content": "<p>Ah, but there's always some value in different representations. For instance, the Cantor set has Lebesgue measure zero, but there are \"fat\" Cantor sets with positive Lebesgue measure.</p>",
        "id": 537704321,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1757001073
    },
    {
        "content": "<p>I think that's a nice result for the archive, but I wonder if we want to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=cantorSet#doc\">docs#cantorSet</a> to write it down. What about: there are subsets of R homeomorphic with N -&gt; Bool of any (finite?) Lebesgue measure?</p>",
        "id": 537704794,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1757001222
    },
    {
        "content": "<p><span aria-label=\"hot pepper\" class=\"emoji emoji-1f336\" role=\"img\" title=\"hot pepper\">:hot_pepper:</span>: if we have much nicer characterizations for the topology of <code>cantorSet</code>, do we even want it in Mathlib?</p>",
        "id": 537704930,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1757001268
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> Your comments on <a href=\"https://github.com/leanprover-community/mathlib4/pull/26021\">#26021</a> seem to have been addressed except for 2 on indentation style; my feeling is there's some room for disagreement here and if we care we should make the style guide clearer. Want to give this a last look?</p>",
        "id": 538908292,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757610063
    },
    {
        "content": "<p>Ah, I missed that there was still an open question about using <code>PNat</code> instead. I've asked <span class=\"user-mention\" data-user-id=\"552388\">@Vasilii Nesterov</span> to say something about it there.</p>",
        "id": 538911183,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757611210
    },
    {
        "content": "<p>Sorry, I'm travelling now and it will be hard for me to find time to review for the next two weeks. Basically my position is:</p>\n<p>1) I think it would be an interesting experiment if we tried using PNat rather than Nat, but<br>\n2) I don't have the time to do this myself, and <br>\n3) if Nesterov doesn't want to do it either then I think we should just merge.</p>\n<p>If it comes out nicer with PNat then we should change to PNat but my experience is telling me that probably it will just come out worse.</p>",
        "id": 538924804,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757616905
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> I have cleaned up the file in <a href=\"https://github.com/leanprover-community/mathlib4/pull/29566\">#29566</a></p>",
        "id": 538942080,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1757624467
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"552388\">@Vasilii Nesterov</span></p>",
        "id": 538942114,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1757624483
    }
]