[
    {
        "content": "<p>I've just fixed the merge conflicts blocking <a href=\"https://github.com/leanprover-community/mathlib4/pull/7162\">#7162</a>, and merged the dependent PR - it is ready for review.</p>\n<p><span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span> you might be interested in re-reviewing this.</p>",
        "id": 495193575,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737518510
    },
    {
        "content": "<p>What does this PR do again? What do we mean here by \"separate out\"?</p>",
        "id": 495202740,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737524425
    },
    {
        "content": "<p>Move <code>Relabelling</code> to a separate file for:</p>\n<ul>\n<li>easier deprecation</li>\n<li>makes it easier to see when a file explicitly depends on Relabelling (i.e. Short)</li>\n</ul>",
        "id": 495202787,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737524469
    },
    {
        "content": "<p>Oh, I see. Though, it does feel a bit weird to separate this definition into its own dedicated file if we're ultimately planning to shoot it in the back.</p>",
        "id": 495202883,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737524544
    },
    {
        "content": "<p>The second item there means that the <a href=\"https://github.com/leanprover-community/mathlib4/pull/14760\">IGame PR</a> has no explicit Relabelling dependency.</p>",
        "id": 495202922,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737524579
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237162.20refactor.3A.20separate.20out.20PGame.2Erelabelling/near/495202883\">said</a>:</p>\n<blockquote>\n<p>Oh, I see. Though, it does feel a bit weird to separate this definition into its own dedicated file if we're ultimately planning to shoot it in the back.</p>\n</blockquote>\n<p>It does make the deprecations a lot more streamlined: we won't have deprecations scattered across PGame, but just in their own file - we can even move it to Deprecated.</p>",
        "id": 495202967,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737524620
    },
    {
        "content": "<p>I think moving the file directly to Deprecated would better signal our intentions with it. Putting it in its own file like this suggests that there's still some chance for it to be useful.</p>",
        "id": 495203044,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737524660
    },
    {
        "content": "<p>(just to make sure... we do in fact want to get rid of relabellings entirely, right?)</p>",
        "id": 495203100,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737524706
    },
    {
        "content": "<p>We can make another PR to make that move, since I believe <code>Short</code>'s definition still depends on <code>Relabelling</code>.</p>",
        "id": 495203102,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737524706
    },
    {
        "content": "<p>I <em>think</em> files can still depend on things on the Deprecated folder, but it's implied that they should be refactored so that they no longer do so</p>",
        "id": 495203151,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737524749
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237162.20refactor.3A.20separate.20out.20PGame.2Erelabelling/near/495203100\">said</a>:</p>\n<blockquote>\n<p>(just to make sure... we do in fact want to get rid of relabellings entirely, right?)</p>\n</blockquote>\n<p>The only use I could think of for Relabellings was to define an IGame. It's short, but I believe someone else in that conversation came up with a much nicer definition, so I believe we do <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 495203220,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737524784
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237162.20refactor.3A.20separate.20out.20PGame.2Erelabelling/near/495203151\">said</a>:</p>\n<blockquote>\n<p>I <em>think</em> files can still depend on things on the Deprecated folder, but it's implied that they should be refactored so that they no longer do so</p>\n</blockquote>\n<p>(This is just from opening a few files in Deprecated) but they come with this warning:</p>\n<blockquote>\n<p>This file is deprecated, and is no longer imported by anything in mathlib other than other<br>\ndeprecated files, and test files. You should not need to import it.</p>\n</blockquote>",
        "id": 495203270,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737524832
    },
    {
        "content": "<p>I recall <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> had also brought up computational applications, though I think we decided that this could be achieved by just bundling the appropriate data within <code>Short</code></p>",
        "id": 495203308,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737524865
    },
    {
        "content": "<p>Just found the relevant conversation about using <code>IGame.Short</code> computationally:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/116395-maths/topic/What.20to.20do.20about.20PGame/near/491199450\">said</a>:</p>\n<blockquote>\n<p>I don't see any reason it shouldn't already be possible to do computations with a short <code>IGame</code>, provided that <code>SetTheory.IGame.Short</code> is data rather than merely a proposition. (Specifically, it would be the data of a short <code>PGame</code> that is in the identity class defined by the <code>IGame</code>.)</p>\n</blockquote>",
        "id": 495203618,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737525049
    },
    {
        "content": "<p>Yeah, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.IGame.Short#doc\">docs#SetTheory.IGame.Short</a> is already data.</p>",
        "id": 495203643,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737525065
    },
    {
        "content": "<p>Then I think it's a cut and dry thing.</p>",
        "id": 495203657,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737525075
    },
    {
        "content": "<p>But yeah, we shouldn't move the file into the deprecated folder until we have dealt with its dependents</p>",
        "id": 495203678,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737525093
    },
    {
        "content": "<p>I hate suggesting even more auxiliary PRs but, I think we could separate <code>PGame.Relabelling</code> in a first PR, then get rid of its usages in one or more subsequent PRs.</p>",
        "id": 495203983,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737525281
    },
    {
        "content": "<p>The first PR should hopefully contain the brunt of the diff</p>",
        "id": 495204015,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737525305
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"455791\">@Yuyang Zhao</span></p>",
        "id": 495219130,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737532792
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237162.20refactor.3A.20separate.20out.20PGame.2Erelabelling/near/495204015\">said</a>:</p>\n<blockquote>\n<p>The first PR should hopefully contain the brunt of the diff</p>\n</blockquote>\n<p>By the way, if there's any procedure for doing so, I don't mind splitting the PRs myself.</p>",
        "id": 495368585,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737577925
    },
    {
        "content": "<p>I'm not sure if there's a \"procedure\" here. But what I'm thinking is, we can make a new PR that simply moves the relabeling stuff and fixes whatever breaks in the PGame file. Then this PR, which fixes a few other files as well, can be made a dependent.</p>",
        "id": 495377527,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737581531
    },
    {
        "content": "<p>But I might be misunderstanding the situation, and maybe this PR is the smallest possible which moves the relabeling stuff and makes Mathlib build. If so, then no change is needed.</p>",
        "id": 495377729,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737581630
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.237162.20refactor.3A.20separate.20out.20PGame.2Erelabelling/near/495377729\">said</a>:</p>\n<blockquote>\n<p>But I might be misunderstanding the situation, and maybe this PR is the smallest possible which moves the relabeling stuff and makes Mathlib build. If so, then no change is needed.</p>\n</blockquote>\n<p>This does combine two PRs: refactoring out relabeling and moving definitions to not rely on relabeling, so your definition is correct.</p>",
        "id": 495388759,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737586765
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.237162.20refactor.3A.20separate.20out.20PGame.2Erelabelling/near/495377527\">said</a>:</p>\n<blockquote>\n<p>I'm not sure if there's a \"procedure\" here. But what I'm thinking is, we can make a new PR that simply moves the relabeling stuff and fixes whatever breaks in the PGame file. Then this PR, which fixes a few other files as well, can be made a dependent.</p>\n</blockquote>\n<p>Oh, I just mean as if there's a good way to split a PR while making Yuyang Zhao a co-author.</p>",
        "id": 495441966,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1737618544
    },
    {
        "content": "<p>You can name them as a co-author in the PR description.</p>",
        "id": 495462946,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737626326
    }
]