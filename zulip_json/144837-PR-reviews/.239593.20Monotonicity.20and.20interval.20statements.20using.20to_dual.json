[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>, is this really just to make statements look better in the documentation? because it's really a technical lemma and isn't meant to be used besides proving dual statements. A docstring would disambiguate just as well. Apart from that, I do not mind this change so long as it doesn't degrade performance.</p>",
        "id": 256561219,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1633605932
    },
    {
        "content": "<p>It also prevents you getting nonsense goal states that look like <code>a &lt; b</code> but are actually <code>has_lt.lt (order_dual T) _ _ a b = b &lt; a</code> under the hood</p>",
        "id": 256561353,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633605996
    },
    {
        "content": "<p>Anything that looks wonky in the documentation also ends  up wonky in goal states</p>",
        "id": 256561374,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633606015
    },
    {
        "content": "<p>But does it make the unifier work harder?</p>",
        "id": 256561560,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1633606115
    },
    {
        "content": "<p>Probably, but all it has to do is unfold <code>to_dual</code> and <code>of_dual</code> to see they're defined as <code>id</code>. I guess we'll have to wait and see what CI thinks.</p>",
        "id": 256562108,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633606437
    },
    {
        "content": "<p>Most of the impacts on the proofs (rather than statements) has been the substitution of <code>@foo (order_dual _) _ _ _ x</code> for <code>foo (to_dual x)</code>, which I'd argue is a readability win.</p>",
        "id": 256562413,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633606576
    },
    {
        "content": "<p>Wait, couldn't that work already before?</p>",
        "id": 256562763,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1633606752
    },
    {
        "content": "<p>I don't think the simp lemmas would match correctly</p>",
        "id": 256562817,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633606785
    },
    {
        "content": "<p>(also note that one reason nothing was done this way before was that <code>to_dual</code> wasn't importable when it would be needed)</p>",
        "id": 256562895,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633606812
    },
    {
        "content": "<p>Ah okay, I didn't know that.</p>",
        "id": 256562932,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1633606834
    },
    {
        "content": "<p>CI seems happy on <a href=\"https://github.com/leanprover-community/mathlib/issues/9593\">#9593</a> now. Adding <code>has_le.le.dual</code> made the changes less painful.</p>",
        "id": 256663278,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633647727
    },
    {
        "content": "<p>In that PR, <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> requests a <code>has_ge.ge.dual</code>. Should that have a conclusion of type <code>has_ge.ge</code>? Do we have <a href=\"https://leanprover-community.github.io/mathlib_docs/find/ge.trans\">docs#ge.trans</a> etc to match <a href=\"https://leanprover-community.github.io/mathlib_docs/find/has_le.le.trans\">docs#has_le.le.trans</a> already?</p>",
        "id": 256758340,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633707398
    },
    {
        "content": "<p>I think the <code>{ge,gt}.foobar</code> lemmas should have conclusions in terms of <code>{le,lt}</code></p>",
        "id": 256759561,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1633707889
    },
    {
        "content": "<p>In that case it seems like no action is needed, because dot notation on <code>ge</code> <em>usually</em> sees through to <code>has_le.le</code></p>",
        "id": 256759684,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633707948
    },
    {
        "content": "<p>Hmm, I had it complain recently.</p>",
        "id": 256759835,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1633707993
    },
    {
        "content": "<p>I had a <code>gt</code> in my context, but Lean didn't like me writing <code>h.ne'</code></p>",
        "id": 256759898,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1633708026
    },
    {
        "content": "<p>I think if you're not careful lean unfolds the <code>le</code> at the same time and looks at what's underneath</p>",
        "id": 256759970,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633708065
    },
    {
        "content": "<p>We should use <code>le</code>/<code>lt</code> in the output where possible.</p>",
        "id": 256760070,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1633708091
    },
    {
        "content": "<p>This looks like pretty good evidence we shouldn't add things under the <code>ge</code> namespace:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"k\">#print</span> <span class=\"kd\">prefix</span> <span class=\"n\">ge</span>\n<span class=\"c1\">-- ge : Π {α : Type u} [_inst_1 : has_le α], α → α → Prop</span>\n<span class=\"c1\">-- ge.equations._eqn_1 : ∀ {α : Type u} [_inst_1 : has_le α] (a b : α), a ≥ b = (b ≤ a)</span>\n<span class=\"c1\">-- ge.le : ∀ {α : Type u} [_inst_1 : has_le α] {x y : α}, x ≥ y → y ≤ x</span>\n</code></pre></div>",
        "id": 256760121,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1633708130
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/FHuUF0vUddy9GkONrMHTKUBF/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/FHuUF0vUddy9GkONrMHTKUBF/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/FHuUF0vUddy9GkONrMHTKUBF/image.png\"></a></div>",
        "id": 256762500,
        "sender_full_name": "Reid Barton",
        "timestamp": 1633709143
    },
    {
        "content": "<p>hahaha</p>",
        "id": 256764480,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1633709878
    }
]