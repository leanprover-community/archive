[
    {
        "content": "<p>The ring theory library already unbundles classes like <code>IsDomain</code>, and it's unusual for the monoid library to use bundled cancellative classes, leading to anti-patterns synthesizing bundled from unbundled like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDomain.toCancelMonoidWithZero#doc\">docs#IsDomain.toCancelMonoidWithZero</a>.</p>\n<p>This PR removes <code>Cancel(Comm)MonoidWithZero</code> in favor of <code>[(Comm)MonoidWithZero] [IsCancelMulZero]</code>. In exchange, <code>UniqueFactorizationMonoid</code> and <code>(Normalized)GCDMonoid</code> now extend <code>IsCancelMul</code>.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/33851#issuecomment-3736660348\">Benchmark result</a> is mixed, with a net effect of 0.1% speedup for build instructions.<br>\n<code>set_option synthInstance.maxHeartbeats 40000</code> and two instance reminders need to be added in two files.</p>",
        "id": 567433366,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1768185852
    },
    {
        "content": "<p>The deprecated classes need to be converted to structures to correctly benchmark. Otherwise, they will still generate unnecessary instances.</p>",
        "id": 567442136,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1768193829
    },
    {
        "content": "<p><code>IsCancelMulZero</code> seems very un-grammatical as a name to me...</p>",
        "id": 567473354,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1768209484
    },
    {
        "content": "<p>It was added in 2022 by Riccardo Brasca in <a href=\"https://github.com/leanprover-community/mathlib3/pull/17716\">mathlib3#17716</a>; I think it means \"<strong>Cancel</strong>lative <strong>Mul</strong>tiplication in the presence of a <strong>Zero</strong>\"  and I can't think of a better name.</p>",
        "id": 567502610,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1768216358
    },
    {
        "content": "<blockquote>\n<p>The deprecated classes need to be converted to structures to correctly benchmark. Otherwise, they will still generate unnecessary instances.</p>\n</blockquote>\n<p>Implemented this and build instructions are down to -196.9G from -139.4G previously.</p>",
        "id": 567548218,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1768227930
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/33851\">#33851</a></p>",
        "id": 567552441,
        "sender_full_name": "Violeta HernÃ¡ndez",
        "timestamp": 1768228835
    },
    {
        "content": "<p>This has now grown a dependent PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/33904\">#34179</a> which refactors <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Polynomial/Content.html#Polynomial.normalizedGcdMonoid\">Polynomial.normalizedGcdMonoid</a> to show the polynomial ring over any GCD domain is a GCD domain: see <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Finset.20version.20of.20IsRelPrime/near/568164387\">#mathlib4 &gt; Finset version of IsRelPrime @ ðŸ’¬</a></p>",
        "id": 568172385,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1768472930
    }
]