[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22948\">#22948</a> defines <code>AddMonoidHom</code> that preserves the structrue of <code>DirectSum.Decomposition</code> and proves some basic properties about it. This will be used to define <code>GradedRingHom</code> that preserves the structrue of GradedRing. Additionally, the linter detected that <code>Decomposition.decompose</code> was missing a docstring, so I added an annotation there.</p>",
        "id": 505847999,
        "sender_full_name": "Yiming Fu",
        "timestamp": 1742045109
    },
    {
        "content": "<p>Mathematically, are you confident that your definition</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">component_wise</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">FA</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">FB</span><span class=\"w\"> </span><span class=\"n\">i</span>\n</code></pre></div>\n<p>is more useful than</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">component_wise</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">FA</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">FB</span><span class=\"w\"> </span><span class=\"n\">i</span>\n</code></pre></div>\n<p>? (I am not sure which is best, but when I read your description I realised that I didn't know what the \"best\" definition of a graded morphism of graded rings would be)</p>",
        "id": 505857581,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742052120
    },
    {
        "content": "<p>Thanks for the suggestion. The latter seems more useful mathematically. However, if we assume both are decompositions, the two definitions might be equivalent. I'm also considering how to better define <code>GradedRingHom</code>. I plan to discuss with my partner, who will be using this definition in the future, which approach is better.</p>",
        "id": 505859621,
        "sender_full_name": "Yiming Fu",
        "timestamp": 1742053505
    },
    {
        "content": "<p>Oh you're right that for direct sums they might be the same!</p>",
        "id": 505865362,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742057530
    },
    {
        "content": "<p>The former looks better, otherwise the map has to be injective</p>",
        "id": 505895031,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1742080760
    },
    {
        "content": "<p>Eg consider a map that discards odd grades, sending them to zero</p>",
        "id": 505895102,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1742080805
    },
    {
        "content": "<p>(I guess that only works for a graded linear map)</p>",
        "id": 505895169,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1742080872
    },
    {
        "content": "<p>Aah yes, I was thinking about graded ideals and subrings, where the maps are automatically injective.</p>",
        "id": 505896547,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742082112
    },
    {
        "content": "<p>Okay. As Eric mentioned, and after discussing it with my partner, we now agree that the former is better.</p>",
        "id": 505904688,
        "sender_full_name": "Yiming Fu",
        "timestamp": 1742089188
    }
]