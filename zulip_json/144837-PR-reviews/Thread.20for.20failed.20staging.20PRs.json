[
    {
        "content": "<p>This thread is for asking maintainers to re-send to bors PRs that have been sent to bors but failed staging for a technical reason (cache failed, unexpected failure after build step, etc.)</p>\n<p>cc <span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span></p>",
        "id": 419763409,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1707107695
    },
    {
        "content": "<p>There is <a href=\"#narrow/stream/345428-mathlib-reviewers/topic/auto-merge/near/391933718\">a certain label</a> you should feel free to add if you're granted <code>bors d+</code> or <code>r+</code> (the link may not work for everyone).</p>",
        "id": 419890924,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1707153694
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/10167\">#10167</a> failed at cache</p>",
        "id": 420361108,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1707348802
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/10360\">#10360</a> failed at cache</p>",
        "id": 420590984,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1707458474
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/7018\">#7018</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/7815\">#7815</a> failed at build mathlib</p>",
        "id": 421232065,
        "sender_full_name": "Wen Yang",
        "timestamp": 1707826730
    },
    {
        "content": "<p>Thanks, I took them off the queue</p>",
        "id": 421235384,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1707827898
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/10233\">#10233</a> needed a fix for the FunLike changes but is green again</p>",
        "id": 421316205,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707854447
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/10419\">#10419</a> failed at build, I merged master, could someone give it another go?</p>",
        "id": 421333730,
        "sender_full_name": "Christian Merten",
        "timestamp": 1707862179
    },
    {
        "content": "<p>The error didn't come from your PR, fwiw</p>",
        "id": 421334649,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707862647
    },
    {
        "content": "<p>I guessed so, but thought maybe merging master helps anyway. Probably it didn't make any difference though.</p>",
        "id": 421335080,
        "sender_full_name": "Christian Merten",
        "timestamp": 1707862854
    },
    {
        "content": "<p>Fortunately it didn't, though if your PR had been in the batch that bors is currently running, you would have cancelled that and bors would need to start over with the rest of the batch</p>",
        "id": 421335285,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707862953
    },
    {
        "content": "<p>Ah, that's good to know. So if I push to a PR that bors is currently running on, the whole batch is cancelled?</p>",
        "id": 421336065,
        "sender_full_name": "Christian Merten",
        "timestamp": 1707863365
    },
    {
        "content": "<p>Yeah</p>",
        "id": 421337057,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707863862
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/10987\">#10987</a> needs remerging – the staging commit containing it was cancelled but for some reason it was not automatically re-queued or cancelled by bors</p>",
        "id": 423664066,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1709055943
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 423665737,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1709056515
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/Thread.20for.20failed.20staging.20PRs/near/423665737\">said</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n</blockquote>\n<p>It failed again, this time at cache...</p>",
        "id": 423676066,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1709060304
    },
    {
        "content": "<p>Failed yet again at cache. I've merged master</p>",
        "id": 423723735,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1709079919
    },
    {
        "content": "<p><span class=\"user-group-mention\" data-user-group-id=\"2494\">@maintainers</span>?</p>",
        "id": 423724291,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1709080209
    },
    {
        "content": "<p>I am hoping it is transient network error. There is a failure to connect to the cache server in there</p>",
        "id": 423724908,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1709080535
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598052\">Jeremy Tan</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/Thread.20for.20failed.20staging.20PRs/near/423724291\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-group-mention silent\" data-user-group-id=\"2494\">maintainers</span>?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"598052\">@Jeremy Tan</span>, please use @maintainers sparingly (in particular, not in this thread, unless there's at least a 24 delay.)</p>",
        "id": 423726683,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1709081325
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/11045\">#11045</a> failed at getting the cache; it built successfully before</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Failed</span> <span class=\"n\">to</span> <span class=\"n\">connect</span> <span class=\"n\">to</span> <span class=\"n\">lakecache.blob.core.windows.net</span> <span class=\"n\">port</span> <span class=\"mi\">443</span> <span class=\"n\">after</span> <span class=\"mi\">1360</span> <span class=\"n\">ms</span><span class=\"o\">:</span> <span class=\"n\">Connection</span> <span class=\"n\">reset</span> <span class=\"kd\">by</span> <span class=\"n\">peer</span>\n<span class=\"n\">Failed</span> <span class=\"n\">to</span> <span class=\"n\">connect</span> <span class=\"n\">to</span> <span class=\"n\">lakecache.blob.core.windows.net</span> <span class=\"n\">port</span> <span class=\"mi\">443</span> <span class=\"n\">after</span> <span class=\"mi\">1362</span> <span class=\"n\">ms</span><span class=\"o\">:</span> <span class=\"n\">Connection</span> <span class=\"n\">reset</span> <span class=\"kd\">by</span> <span class=\"n\">peer</span>\n</code></pre></div>",
        "id": 423805448,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1709122443
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/Thread.20for.20failed.20staging.20PRs/near/423805448\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/11045\">#11045</a> failed at getting the cache; it built successfully before</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Failed</span> <span class=\"n\">to</span> <span class=\"n\">connect</span> <span class=\"n\">to</span> <span class=\"n\">lakecache.blob.core.windows.net</span> <span class=\"n\">port</span> <span class=\"mi\">443</span> <span class=\"n\">after</span> <span class=\"mi\">1360</span> <span class=\"n\">ms</span><span class=\"o\">:</span> <span class=\"n\">Connection</span> <span class=\"n\">reset</span> <span class=\"kd\">by</span> <span class=\"n\">peer</span>\n<span class=\"n\">Failed</span> <span class=\"n\">to</span> <span class=\"n\">connect</span> <span class=\"n\">to</span> <span class=\"n\">lakecache.blob.core.windows.net</span> <span class=\"n\">port</span> <span class=\"mi\">443</span> <span class=\"n\">after</span> <span class=\"mi\">1362</span> <span class=\"n\">ms</span><span class=\"o\">:</span> <span class=\"n\">Connection</span> <span class=\"n\">reset</span> <span class=\"kd\">by</span> <span class=\"n\">peer</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Thanks for the notification, kicked it back on the queue!</p>",
        "id": 423830252,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1709130673
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/9550\">#9550</a> failed at the first attempt because of not being adapted to 4.7.1. I've pushed a simple merge/fix; would like maintainers to resend to bors</p>",
        "id": 425005799,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1709700241
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/12267\">#12267</a> failed at cache</p>",
        "id": 434406960,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1713548163
    },
    {
        "content": "<p>Restarted.</p>",
        "id": 434477988,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1713597461
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15864\">#15864</a> failed because of a deprecation, which has now been fixed</p>",
        "id": 464672618,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1724426796
    },
    {
        "content": "<p>Anyone free to re-send the above PR to bors?</p>",
        "id": 464697879,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1724433070
    },
    {
        "content": "<p>I think bors is now failing (stalled on the current staging) because a rate limit has been hit</p>",
        "id": 469852929,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726204179
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/QdPpBLpp5dH5fVqsUB-4dCz_/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/QdPpBLpp5dH5fVqsUB-4dCz_/image.png\" title=\"image.png\"><img data-original-dimensions=\"640x916\" src=\"/user_uploads/thumbnail/3121/QdPpBLpp5dH5fVqsUB-4dCz_/image.png/840x560.webp\"></a></div>",
        "id": 469855366,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726205239
    },
    {
        "content": "<p>The staging PR has completed all its stages but is not returning the success exit code</p>",
        "id": 469856209,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726205601
    },
    {
        "content": "<p>nevermind, I kicked the workflow and it went through the second time</p>",
        "id": 469858395,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1726206771
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22284\">#22284</a> (and apparently some contemporaries) failed at installing elan for some reason</p>",
        "id": 502963537,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1740989485
    },
    {
        "content": "<p>Would somebody like to delegate or re-bors <a href=\"https://github.com/leanprover-community/mathlib4/pull/22783\">#22783</a>? (I accrued a merge conflict in the bors stage; I just merged master to be safe.)</p>",
        "id": 504646662,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1741627326
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23294\">#23294</a> passed all CI in staging, but was not actually merged</p>",
        "id": 509094676,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1743392066
    },
    {
        "content": "<p>Can someone <code>bors merge</code> it again</p>",
        "id": 509095150,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1743392416
    },
    {
        "content": "<p>Are you sure we don't just need to wait longer?</p>",
        "id": 509095812,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1743392899
    },
    {
        "content": "<p>I don't know why the merge did not take place after all CI passed</p>",
        "id": 509095890,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1743392985
    },
    {
        "content": "<p>Patience, sometimes bors needs time to think. If it had taken &gt;6 hours, then it is worth pinging people about.</p>",
        "id": 509095958,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1743393018
    },
    {
        "content": "<p>The specific staging build is at <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/14162654813\">https://github.com/leanprover-community/mathlib4/actions/runs/14162654813</a></p>\n<p>Right now (as I write this) there is no PR staged. I think no amount of waiting alone will get the PR merged, that there really has been an error and we should try again</p>",
        "id": 509099481,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1743395498
    },
    {
        "content": "<p>(does bors periodically scan for PRs with ready-to-merge label and push them on?)</p>",
        "id": 509099605,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1743395576
    },
    {
        "content": "<p>bors did indeed crash about 2.5 hours ago, dropping all the PRs on the queue. I'll go through them now.<br>\n<strong>edit</strong>: it looks like <a href=\"https://github.com/leanprover-community/mathlib4/pull/23294\">#23294</a> was the only affected PR. Thanks for your patience!</p>",
        "id": 509100162,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1743396020
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23917\">#23917</a>: <a href=\"https://github.com/leanprover-community/mathlib4/pull/23917#issuecomment-2795688276\">OP complained</a></p>",
        "id": 511547518,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1744338921
    },
    {
        "content": "<p>(same issue as <a href=\"https://github.com/leanprover-community/mathlib4/pull/23294\">#23294</a>, I think)</p>",
        "id": 511547546,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1744338940
    }
]