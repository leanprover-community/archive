[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15610\">#15610</a> introduces a syntax linter that checks when a file exceeds the \"expected\" number of lines (1500) and, if so, complains about it but also suggests in-place silencing of the linter, via <code>set_option linter.style.longFile 2000</code>.</p>",
        "id": 466074568,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724952655
    },
    {
        "content": "<p>This should make the style-exceptions file to record the exceptions no longer needed and hopefully will result in a better experience for everyone around long files.</p>",
        "id": 466074581,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724952659
    },
    {
        "content": "<p>The lingering question is whether <code>set_option linter.style.longFile x</code> can be used anywhere in the file or maybe only as the last command of each file.</p>",
        "id": 466074599,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724952664
    },
    {
        "content": "<p>Any preference?  Vote <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> for \"the option should only be set at the bottom\", vote <span aria-label=\"up down\" class=\"emoji emoji-2195\" role=\"img\" title=\"up down\">:up_down:</span> for \"anywhere is fine\".</p>",
        "id": 466074604,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724952668
    },
    {
        "content": "<p>(I voted for both to simplify voting, but my personal preference is <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> )</p>",
        "id": 466074729,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724952722
    },
    {
        "content": "<p>I imagine that a vote of <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> means to put the option at the start of the file.  While I agree that this may be a good idea, it does mean that if you want to tinker with the linter, you then have to wait for the whole file to be parsed.  In particular, the linter inspects just the last line of the file and draws its conclusion when the parsing gets there.  For this reason, I find that putting the option at the start was not really s good idea.  But I'm happy to go with the majority!</p>\n<p>(And, to avoid biasing the results, I also voted for <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> )</p>",
        "id": 466092740,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724958177
    },
    {
        "content": "<p>I can also see an argument for both the top and the bottom. (At a random place in the middle strikes me as bad style.)<br>\nFor the top: this makes apparent that this file is huge and wants to be split.<br>\nFor the bottom: when you split the file, it tends to be towards the end (and I agree with what Damiano said about reparsing).</p>",
        "id": 466124768,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724971999
    },
    {
        "content": "<p>The longFile linter is in mathlib!  I hope that it will make dealing with long files simpler, but do report any issues that you encounter with the linter!</p>",
        "id": 466251034,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725018992
    }
]