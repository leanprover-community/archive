[
    {
        "content": "<p>(deleted)</p>",
        "id": 565297485,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766592459
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/33257\">#33257</a></p>",
        "id": 565297505,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766592484
    },
    {
        "content": "<p>I have two helper lemmas that might be verbose and should be removed, and because they didn't consider some simpler proof methods.</p>",
        "id": 565301389,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766595477
    },
    {
        "content": "<p>The tactics <code>refine'</code> and <code>induction'</code> show yellow warnings, but they allow me to use some implicit variables. Now I can't even locate these implicit variables, so fixing them might be difficult. For <code>variable [DecidableEq V]</code>, if I delete it, the line <code>h_even_bypass : Even w.length â†” Even w.bypass.length</code> shows an error. But if I keep it, it shows:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"ss\">`bipartite_iff_all_cycles_even</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">hypothesis</span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">#</span><span class=\"mi\">3</span><span class=\"o\">)</span>\n<span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">used</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">remainder</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">type</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 565329107,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766623549
    },
    {
        "content": "<p>And also a build failed in <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/20496391398/job/58896657356\">https://github.com/leanprover-community/mathlib4/actions/runs/20496391398/job/58896657356</a>, which does not happen if I run locally.</p>\n<p><a href=\"/user_uploads/3121/vbb1fFJxQquLIILQk_7KcJDP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/vbb1fFJxQquLIILQk_7KcJDP/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1059x578\" src=\"/user_uploads/thumbnail/3121/vbb1fFJxQquLIILQk_7KcJDP/image.png/840x560.webp\"></a></div>",
        "id": 565329879,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766624720
    },
    {
        "content": "<p>you should put <code>classical</code> (that's a tactic) at the start of you proof then</p>",
        "id": 565330148,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1766625180
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/33257/files\">https://github.com/leanprover-community/mathlib4/pull/33257/files</a></p>",
        "id": 565333485,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766630364
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2333257.20Odd.20Cycle.20Theorem/near/565330148\">said</a>:</p>\n<blockquote>\n<p>you should put <code>classical</code> (that's a tactic) at the start of you proof then</p>\n</blockquote>\n<p>Sorry Aaron, maybe that's I don't understand that. I add <code>classical</code> after all the proof (after <code>by</code>) in my section, but it still built failed with the same output</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">âš </span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">7799</span><span class=\"bp\">/</span><span class=\"mi\">7801</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">ConcreteColorings</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">3.6</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">progress</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">starting</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"mi\">7800</span><span class=\"bp\">/</span><span class=\"mi\">7801</span><span class=\"o\">]</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">targets</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">ConcreteColorings</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"n\">completed</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mf\">1.</span>\n</code></pre></div>",
        "id": 565333776,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766630844
    },
    {
        "content": "<p>For example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">bipartite_iff_all_cycles_even</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">   </span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">IsBipartite</span><span class=\"w\"> </span><span class=\"bp\">â†”</span><span class=\"w\"> </span><span class=\"bp\">âˆ€</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">Walk</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">.</span><span class=\"n\">IsCycle</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">Even</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">   </span><span class=\"n\">classical</span>\n<span class=\"w\">   </span><span class=\"n\">constructor</span>\n<span class=\"w\">   </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"gr\">admit</span>\n<span class=\"w\">   </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"gr\">admit</span>\n</code></pre></div>\n<p>Okay, now it fixed because I realized that I should delete <code>[Decidable Eq V]</code>.</p>",
        "id": 565333860,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766630963
    },
    {
        "content": "<blockquote>\n<p>And also a build failed in <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/20496391398/job/58896657356\">https://github.com/leanprover-community/mathlib4/actions/runs/20496391398/job/58896657356</a>, which does not happen if I run locally.</p>\n</blockquote>\n<p>I think to answer this question, it is because mathlib pretty much build with \"warning = error\" on CI, so you just need to focus on all the warnings it gave</p>",
        "id": 565336598,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1766635082
    },
    {
        "content": "<p>Okay, since the <code>refine'</code> and <code>induction'</code> will always be a big problem (for code generated by Aristotle), I should give a report about <code>'</code>. But now I cannot find a good way to fix the implict variable problem, so I use a silly way <code>set_option â€¦style false</code> to avoid the conflict between Aristotle-style code and GitHub-check.</p>",
        "id": 565362388,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766661376
    },
    {
        "content": "<p><code>refine</code> and <code>refine'</code> diverge through a single parameter: <code>allowNaturalHoles</code>. When set false in <code>refine</code>, natural holes (<code>_</code> and implicit arguments) must be resolved immediately or elaboration fails. In contrast, <code>refine'</code> sets this flag true, enabling a specialized elaboration context where <code>holesAsSyntheticOpaque</code> is activated and <code>withAssignableSyntheticOpaque</code> permits such holes to persist as new proof obligations.</p>\n<p>Converting <code>refine'</code> to <code>refine</code> therefore requires eliminating dependencies on this automatic hole conversion. Proofs must be restructured to explicitly provide all required terms or use explicit synthetic holes (<code>?name</code>). This often involves decomposing constructions into sequential <code>apply</code>/<code>constructor</code> steps, trading some brevity for complete transparency in proof dependencies and eliminating hidden automation that can obscure reasoning.</p>",
        "id": 565362392,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766661381
    },
    {
        "content": "<p><code>induction'</code> emerges as a backward-compatibility wrapper that bridges Lean 3 and Lean 4 syntax conventions. Unlike the core <code>induction</code> tactic which requires explicit constructor naming and structured case blocks, <code>induction'</code> adopts a more flexible naming scheme reminiscent of Lean 3. It processes the <code>with</code> argument differentlyâ€”accepting simple binder identifiers rather than requiring full constructor patternsâ€”making it more accessible for developers transitioning from older codebases while sacrificing some of the structured proof benefits of the modern approach.</p>\n<p>The implementation reveals <code>induction'</code> as essentially a configuration layer over the same underlying elimination machinery. It shares the core <code>ElimApp</code> infrastructure with <code>induction</code> but modifies how names are processed through <code>ElimApp.evalNames</code>. This adaptation allows simpler syntax like <code>induction' n with n ih</code> instead of the more verbose case block syntax, trading explicit structure for conciseness in simple induction proofs while maintaining compatibility with existing proof patterns from earlier Lean versions.</p>",
        "id": 565362471,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1766661455
    },
    {
        "content": "<p>As Mathlib maintainers, we expect the code submitted for review to pass through human inspection. It should be easy to manually replace those calls to <code>refine'</code> and <code>induction'</code> with <code>refine</code> and <code>induction</code>.</p>",
        "id": 565385952,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1766688286
    },
    {
        "content": "<p>(with Harmonic hat on): in the future, we may provide support for that on our side, but not right now.</p>",
        "id": 565385968,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1766688326
    },
    {
        "content": "<p>(Mathlib maintainer hat back on) We assume that a user who submits a PR is responsible for all the code in the PR, even if AI was used to generates (large) parts of it. In particular, if AI output doesn't match our coding standards, then you should fix the issues, not turn off the linters.</p>",
        "id": 565386055,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1766688482
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2333257.20Odd.20Cycle.20Theorem/near/565386055\">said</a>:</p>\n<blockquote>\n<p>(Mathlib maintainer hat back on) We assume that a user who submits a PR is responsible for all the code in the PR, even if AI was used to generates (large) parts of it. In particular, if AI output doesn't match our coding standards, then you should fix the issues, not turn off the linters.</p>\n</blockquote>\n<p>The AI style is fixed in this PR, and also Aristotle is in the author list.</p>",
        "id": 565745841,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1767070787
    },
    {
        "content": "<p>But there is a CI problem. It seems that CI problem does not make the PR fail. Should I try to find out the problem?</p>\n<p>[NickAdfor/mathlib4] Daily CI Workflow workflow run</p>\n<p>Daily CI Workflow: Some jobs were not successful<br>\nDaily CI Workflow / check-mathlib_test_executable<br>\nSkipped<br>\nDaily CI Workflow / notify-lean4checker (master)<br>\nFailed in 12 seconds<br>\nDaily CI Workflow / notify-lean4checker (nightly)<br>\nFailed in 53 second<br>\nDaily CI Workflow / notify-mathlib_test_executable (nightly)<br>\nFailed in 52 seconds<br>\nDaily CI Workflow / check-lean4checker<br>\nSkipped<br>\nDaily CI Workflow / notify-mathlib_test_executable (master)<br>\nFailed in 14 seconds</p>\n<p><a href=\"https://github.com/NickAdfor/mathlib4/actions/runs/20587247774\">https://github.com/NickAdfor/mathlib4/actions/runs/20587247774</a></p>",
        "id": 565746045,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1767070880
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"877182\">Nick_adfor</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2333257.20Odd.20Cycle.20Theorem/near/565746045\">said</a>:</p>\n<blockquote>\n<p>But there is a CI problem. It seems that CI problem does not make the PR fail. Should I try to find out the problem?</p>\n<p><a href=\"https://github.com/NickAdfor/mathlib4/actions/runs/20587247774\">https://github.com/NickAdfor/mathlib4/actions/runs/20587247774</a></p>\n</blockquote>\n<p>The workflow you linked to seems unrelated to your PR.</p>",
        "id": 565762752,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1767085066
    },
    {
        "content": "<p>That particular error should go away if you update the <code>master</code> commit in your fork of mathlib, but it may be better to disable github actions in your fork via the repo settings (cf. <a href=\"https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-github-actions-settings-for-a-repository\">this help page</a>).</p>",
        "id": 565764293,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1767085952
    },
    {
        "content": "<p>All the existing question about <a href=\"https://github.com/leanprover-community/mathlib4/pull/33257\">#33257</a> has been fixed. Any new question is welcomed!</p>",
        "id": 566012195,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1767320508
    },
    {
        "content": "<p>Where can I check if this theorem can be merged?</p>",
        "id": 569056714,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1768922656
    },
    {
        "content": "<p>The \"awaiting-author\" label means that we're waiting for you</p>",
        "id": 569071467,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1768925798
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"877182\">Nick Adfor</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2333257.20Odd.20Cycle.20Theorem/near/565746045\">said</a>:</p>\n<blockquote>\n<p>But there is a CI problem. It seems that CI problem does not make the PR fail. Should I try to find out the problem?</p>\n<p>[NickAdfor/mathlib4] Daily CI Workflow workflow run</p>\n<p>Daily CI Workflow: Some jobs were not successful<br>\nDaily CI Workflow / check-mathlib_test_executable<br>\nSkipped<br>\nDaily CI Workflow / notify-lean4checker (master)<br>\nFailed in 12 seconds<br>\nDaily CI Workflow / notify-lean4checker (nightly)<br>\nFailed in 53 second<br>\nDaily CI Workflow / notify-mathlib_test_executable (nightly)<br>\nFailed in 52 seconds<br>\nDaily CI Workflow / check-lean4checker<br>\nSkipped<br>\nDaily CI Workflow / notify-mathlib_test_executable (master)<br>\nFailed in 14 seconds</p>\n<p><a href=\"https://github.com/NickAdfor/mathlib4/actions/runs/20587247774\">https://github.com/NickAdfor/mathlib4/actions/runs/20587247774</a></p>\n</blockquote>\n<p>It seems to be this CI problem. I'll check it later.</p>",
        "id": 569166892,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1768967408
    },
    {
        "content": "<p>I believe this will be addressed if you follow what I suggested earlier in this thread: <a class=\"message-link\" href=\"/#narrow/channel/144837-PR-reviews/topic/.2333257.20Odd.20Cycle.20Theorem/near/565764293\">#PR reviews &gt; #33257 Odd Cycle Theorem @ ðŸ’¬</a></p>",
        "id": 569167342,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1768967825
    },
    {
        "content": "<p>In any case the CI on your PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/33257\">#33257</a> is already green; the log you linked to is in your own fork of mathlib4, not the main repository. </p>\n<p>As Ruben said above, the reason your PR is not getting reviewed currently is because it still has the \"awaiting-author\" label on it. If you believe that you've addressed all reviewer comments, you can comment <code>-awaiting-author</code> on your PR to remove that label. </p>\n<p>Please see <a href=\"https://leanprover-community.github.io/contribute/index.html#lifecycle-of-a-pr\">Lifecycle of a PR</a> for more details.</p>",
        "id": 569167479,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1768967988
    },
    {
        "content": "<p>Here is a new <a href=\"https://github.com/leanprover-community/mathlib4/pull/34141\">#34141</a></p>",
        "id": 569394499,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1769047796
    },
    {
        "content": "<p>Sorry, but since <span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> messaged that \"re-written by a human where you understand every step of it\" yet I do not think that there's any need to cut <code>aesop</code>or rewrite, I'd better ask for a mathematical seminar about Odd Cycle Theorem.</p>",
        "id": 571173751,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1769845974
    },
    {
        "content": "<p>If there are audience these days I will start a Zoom meeting or something else to deal with that. Any new good ideas are welcomed to dm :)</p>",
        "id": 571173908,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1769846136
    },
    {
        "content": "<p>I think you misunderstand my comment to be about <code>aesop</code>--what I am saying is that the proof of that one particular lemma is AI generated and that you do not seem to understand the mechanism by which it actually works; otherwise you could rewrite it more efficiently.</p>",
        "id": 571199421,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1769868837
    },
    {
        "content": "<p>Sorry, but let's leave this as a topic for others to discuss. I do think that if cut all the <code>aesop</code> we will accept it as a good proof but if there're more <code>aesop</code> we will be hard to understand it.</p>",
        "id": 571199916,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1769869244
    },
    {
        "content": "<p>There's already discussion here before<br>\n<a href=\"#narrow/stream/287929-mathlib4/topic/Formalizing.20Graph.20Theory.20-.20The.20Odd.20Cycle.20Theorem.20in.20Lean\">https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Formalizing.20Graph.20Theory.20-.20The.20Odd.20Cycle.20Theorem.20in.20Lean</a></p>",
        "id": 571200525,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1769869679
    }
]