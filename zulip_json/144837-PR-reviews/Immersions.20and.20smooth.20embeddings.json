[
    {
        "content": "<p>I think I have found a good way to formalise immersions and smooth embeddings, in a manner encompassing infinite-dimensional manifolds. As my overall PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/23040\">#23040</a> is growing large (around 1000 lines already), let me open this topic to track the overall progress.<br>\nProving everything nice one would like about immersions and embeddings is still a moment away (as this requires the inverse function theorem), but quite a few things can already be said.</p>\n<p>Already reviewable are</p>\n<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/23175\">#23175</a> (an injective bounded linear operator has closed range iff it is anti-Lipschitz) and</li>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/23219\">#23219</a> (preliminaries about local diffeomorphisms)</li>\n</ul>\n<p>The latter will also unblock <a href=\"https://github.com/leanprover-community/mathlib4/pull/8738\">#8738</a>, which has been sitting idle for about a year now.</p>",
        "id": 507485889,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1742672921
    },
    {
        "content": "<p>Thanks for the two reviews already! The next PR in this series is <a href=\"https://github.com/leanprover-community/mathlib4/pull/8738\">#8738</a> (local diffeomorphisms have isomorphic differential).</p>",
        "id": 508034872,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1742912080
    },
    {
        "content": "<p>I have resumed my work on this, to get things over the line. There are a few PRs which are reviewable already.</p>",
        "id": 535895258,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756032810
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28701\">#28701</a> (+92/-2) feat: the maximal atlas is closed under restriction<br>\nAn auxiliary lemma, which seems useful to have anyways, and is used to provide a more intuitive constructor for immersions (in the next PR).</p>",
        "id": 535895297,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756032866
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28793\">#28793</a> (+276/--4) defines smooth immersions and provides two basic constructors.<br>\nI intentionally kept this small to ease reviewing, future PRs will prove more interesting properties.</p>",
        "id": 535895391,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756032983
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28840\">#28840</a> (+35/-0) feat: add ContinuousLinearEquiv.prodProdProdComm<br>\njust got bors-ed already (thanks)</p>",
        "id": 535895409,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756033007
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28796\">#28796</a> (building on 28793, 100 additional lines) proves that immersions are automatically smooth</p>",
        "id": 535895450,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756033076
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28853\">#28853</a> (building on 28796, 150 additional lines) proves that products of immersions are immersions</p>",
        "id": 535895467,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756033105
    },
    {
        "content": "<p>As you see, the current bottle-neck is the first PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/28701\">#28701</a>. <span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> As you brought structure groupoids into mathlib, if I understand correctly, is that something you'd like to take a look at?</p>",
        "id": 535895484,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756033142
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28793\">#28793</a> is now ready for review</p>",
        "id": 538379391,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1757406554
    },
    {
        "content": "<p>At long last, mathlib just gained the definition of smooth immersions <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>. Thanks to Christian Merten and SÃ©bastien Gouezel for the patient and meticuluous reviews, which have helped refine the design a lot.</p>",
        "id": 560855137,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764364472
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30356\">#30356</a> is the next PR in that series: just 31 lines, for a little API lemma.</p>",
        "id": 560855178,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764364491
    },
    {
        "content": "<p>After that, it will be <a href=\"https://github.com/leanprover-community/mathlib4/pull/28853\">#28853</a>: the product of immersions is an immersion (+172/-30)</p>",
        "id": 560858977,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764367547
    },
    {
        "content": "<p>(Note that <a href=\"https://github.com/leanprover-community/mathlib4/pull/30356\">#30356</a> is in fact ready for review again.)</p>",
        "id": 560859653,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764367973
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/Immersions.20and.20smooth.20embeddings/near/560858977\">said</a>:</p>\n<blockquote>\n<p>After that, it will be <a href=\"https://github.com/leanprover-community/mathlib4/pull/28853\">#28853</a>: the product of immersions is an immersion (+172/-30)</p>\n</blockquote>\n<p>This PR is ready for review now. (CI fails, <del>but that's a false positive. I can report this on zulip soon.</del> Actually, I had copy-pasted some typeclass hypotheses twice, so the error was legitimate. It's fixed now.)</p>",
        "id": 560984618,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764495467
    },
    {
        "content": "<p>Products of immersions just got merged! Next PRs up for review are<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/28796\">#28796</a> (+156/-3): immersions are smooth (automatically)</p>",
        "id": 562907756,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765358755
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/32589\">#32589</a> (+97) defines smooth embeddings<br>\nIt mentions two statements which cannot be proven yet (because they require the corresponding immersion result); I'm happy to remove their statements if preferred.</p>",
        "id": 562907949,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765358805
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/32760\">#32760</a> (+49/-6) proves that the inclusion of an open subset is an immersion</p>",
        "id": 563606384,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765617861
    },
    {
        "content": "<p>Proving it is an open embedding will be easy, once that PR is merged. (Edit: eine and merged)</p>",
        "id": 563606394,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1765617877
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28796\">#28796</a> is ready for review again (the emojibot is lagging behind a bit)</p>",
        "id": 564504723,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1766075121
    },
    {
        "content": "<p>The next PR in the sequence will be <a href=\"https://github.com/leanprover-community/mathlib4/pull/28905\">#28905</a> (proving the immersions are locally embeddings).</p>",
        "id": 564514535,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1766077496
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/Immersions.20and.20smooth.20embeddings/near/564504723\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28796\">#28796</a> is ready for review again (the emojibot is lagging behind a bit)</p>\n</blockquote>\n<p>Three-week review ping</p>",
        "id": 566922666,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1767872440
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/34991\">#34991</a> (+284 lines) feat: continuous linear maps with a continuous left/right inverseContinuousinverse<br>\nis the next step for proving that the composition of immersions/embeddings/submersions is an immersion/embedding/submersion.</p>",
        "id": 572640292,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1770574451
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> The emojibot didn't pick up the unlabelling on the above PR. (It was from a comment containing <code>-awaiting-author</code>.) I just manually added and removed the label; that worked.<br>\nI'm happy to work around this, as I know the workaround... but a fix is certainly useful.</p>",
        "id": 573258546,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1770808359
    },
    {
        "content": "<p>This is because events triggered using the default <code>GITHUB_TOKEN</code> used in <code>labels_from_comment.yml</code> cannot trigger further workflow runs. We have a few options. (Mostly notes to my future self)</p>\n<p>First, we could try to use another token in <code>labels_from_comment.yml</code>; because we want it to work on PRs from forks, we will have to split out the part that uses secrets into a second <code>workflow_run</code>-triggered workflow. </p>\n<p>Second, we could add a workflow_run trigger to zulip_emoji_labelling.yml (or a new workflow file to keep the logic sane, I guess) to run the script that applies emoji manually after labeling.</p>\n<p>I'm leaning towards the second since the first would require a chain of 3 workflows (labels_from_comment trigger by comment -&gt; labels_from_comment trigger by workflow run applies the label with a non-default token -&gt; zulip emoji labeling picks up the labeling event and applies the emoji) and the second would only need 2 (labels_from_comment runs and applies the label -&gt; workflow run triggers script directly).</p>",
        "id": 573263914,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1770810114
    },
    {
        "content": "<p>Thanks for the prompt review on the previous PR! The next one is<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/35057\">#35057</a> (+157/-5) feat: equivalent characterisation of split continuous linear maps</p>",
        "id": 573404744,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1770851346
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/35284\">#35284</a> (+50/-20) generalises <code>(m)differentiableAt_of_isInvertible_(m)fderiv</code> and friends: this should be easy to review</p>",
        "id": 573922937,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771099078
    }
]