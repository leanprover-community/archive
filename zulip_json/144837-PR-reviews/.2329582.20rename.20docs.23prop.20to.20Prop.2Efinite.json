[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/29582\">#29582</a> has turned into a really bike-sheddy PR, but so be it. It is about the name of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=prop#doc\">docs#prop</a>, the instance showing <code>Finite p</code> for any <code>p : Prop</code>. Given that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Prop.instFinite#doc\">docs#Prop.instFinite</a> (showing <code>Finite Prop</code>) also exists...</p>",
        "id": 540925270,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758600668
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 540925329,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758600743
    },
    {
        "content": "<p>/poll ... what should the Finite p for p : Prop instance be called?</p>\n<ul>\n<li>finite_prop</li>\n<li>Prop.finite</li>\n<li>Anything but the statu quo prop</li>\n</ul>",
        "id": 540925364,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758600768
    },
    {
        "content": "<p>how do we normally distinguish <code>Finite (p : Prop)</code> from <code>Finite Prop</code>?</p>",
        "id": 540968803,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758619902
    },
    {
        "content": "<p>What do you mean by \"normally\"? My above message seems to be the first time this community cares about distinguishing this</p>",
        "id": 540971256,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758620730
    },
    {
        "content": "<p>hmm, I guess it only applies for this particular case</p>",
        "id": 540972339,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758621088
    },
    {
        "content": "<p>The countable instance has a prime</p>",
        "id": 540974747,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758621876
    },
    {
        "content": "<p>We also have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=instSubsingleton#doc\">docs#instSubsingleton</a>, which would suggest to call it <code>instFinite</code></p>",
        "id": 540975356,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758622110
    },
    {
        "content": "<p>That has the advantage of not conflicting with an instance for <code>Prop</code></p>",
        "id": 540975502,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758622164
    },
    {
        "content": "<p>and it's in core</p>",
        "id": 540975527,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758622174
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540975356\">said</a>:</p>\n<blockquote>\n<p>We also have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=instSubsingleton#doc\">docs#instSubsingleton</a>, which would suggest to call it <code>instFinite</code></p>\n</blockquote>\n<p>That looks like a terrible name as well! There's no <code>Prop</code> anywhere</p>",
        "id": 540975940,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758622327
    },
    {
        "content": "<p>Exactly, because it is about an arbitrary <code>p</code>, not about <code>Prop</code> <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 540976064,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758622377
    },
    {
        "content": "<p>and it's an autogenerated name so I'm not confident any thought was put into it</p>",
        "id": 540976136,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758622402
    },
    {
        "content": "<p><code>instHAdd</code> is also not called <code>instHAddType</code>...</p>",
        "id": 540976261,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758622449
    },
    {
        "content": "<p>In general when I see instances being given a name explicitly, e.g. <code>Foo.group</code> instead of <code>Foo.instGroup</code>, I never understand why, because this just makes the naming less consistent.</p>",
        "id": 540976375,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758622492
    },
    {
        "content": "<p>I thought usually we didn't care about instance names</p>",
        "id": 540976971,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758622744
    },
    {
        "content": "<p>and I haven't seen it written down anywhere</p>",
        "id": 540977053,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758622780
    },
    {
        "content": "<p>That would be another reason in favour of the auto generated name</p>",
        "id": 540977146,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758622807
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540977146\">said</a>:</p>\n<blockquote>\n<p>That would be another reason in favour of the auto generated name</p>\n</blockquote>\n<p>Why is that?</p>",
        "id": 540978001,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758623158
    },
    {
        "content": "<p>To save space in the source code</p>",
        "id": 540978856,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758623484
    },
    {
        "content": "<p>Often the autogenerated name isn't the one we would write down, and so we write it explicitly to make the instance searchable</p>",
        "id": 540979247,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758623637
    },
    {
        "content": "<p>but you never search for an instance using name</p>",
        "id": 540979426,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758623710
    },
    {
        "content": "<p>I disagree. I think that if we stick to the auto generated names, they become more searchable. Because then if you search for a name, you don't need to do a case split on whether it was or wasn't named explicitly.</p>",
        "id": 540979459,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758623723
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540979426\">said</a>:</p>\n<blockquote>\n<p>but you never search for an instance using name</p>\n</blockquote>\n<p>Maybe <em>you</em> don't, but I almost always do</p>",
        "id": 540990254,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758627543
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540976375\">said</a>:</p>\n<blockquote>\n<p>In general when I see instances being given a name explicitly, e.g. <code>Foo.group</code> instead of <code>Foo.instGroup</code>, I never understand why, because this just makes the naming less consistent.</p>\n</blockquote>\n<p>Quite a few of those may be relics from lean3, which didn't use the <code>inst</code> prefix</p>",
        "id": 540991057,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1758627800
    },
    {
        "content": "<p>Sometimes the autogenerated names are like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=NonUnitalStarSubalgebra.instCanLiftSetCoeAndMemOfNatForallForallForallForallHAddForallForallForallForallHMulForallForallForallHSMulForallForallStar#doc\">docs#NonUnitalStarSubalgebra.instCanLiftSetCoeAndMemOfNatForallForallForallForallHAddForallForallForallForallHMulForallForallForallHSMulForallForallStar</a></p>",
        "id": 540996195,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758629327
    },
    {
        "content": "<p>I think if it makes the name shorter and it's still searchable and we refer to the name explicitly then we should change it?</p>",
        "id": 540996420,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758629406
    },
    {
        "content": "<p>Well yes, it's impossible to refer to that name without violating the 100 character limit <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 540997166,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758629604
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540990254\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540979426\">said</a>:</p>\n<blockquote>\n<p>but you never search for an instance using name</p>\n</blockquote>\n<p>Maybe <em>you</em> don't, but I almost always do</p>\n</blockquote>\n<p>what is the advantage of that over <code>#synth</code>?</p>",
        "id": 541008715,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758632577
    },
    {
        "content": "<p>The very big advantage for me is that I don't need to have a working Lean environment with the instance imported. This is useful when:</p>\n<ol>\n<li>I don't have any copy of mathlib open</li>\n<li>I work within mathlib and don't want to download a lot of cache</li>\n<li>I work within mathlib and cannot import the possible files where the instance would be be because I am working upstream of them</li>\n</ol>",
        "id": 541011212,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758633190
    },
    {
        "content": "<p>I have my browser configured such that I can open lean web in a few button presses. That's how I would search for instances</p>",
        "id": 541011661,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758633312
    },
    {
        "content": "<p>in fact lean web is the primary way for me to review (my own or other people's) PRs</p>",
        "id": 541015783,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758634339
    },
    {
        "content": "<p>(sorry i don't want to spend 3 minutes downloading cache)</p>",
        "id": 541015835,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758634351
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/541011661\">said</a>:</p>\n<blockquote>\n<p>I have my browser configured such that I can open lean web in a few button presses. That's how I would search for instances</p>\n</blockquote>\n<p>But Lean web is slower than searching by name in the docs.</p>",
        "id": 541016966,
        "sender_full_name": "Christian Merten",
        "timestamp": 1758634609
    },
    {
        "content": "<p>yeah but names are unreliable (oh no we've gone full circle)</p>",
        "id": 541017700,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758634779
    },
    {
        "content": "<p>also, <code>#synth</code> allows you to not have to know whether they defined the LE instance first or the LinearOrder instance first</p>",
        "id": 541017786,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758634802
    },
    {
        "content": "<p>A major limitation of <code>#synth</code> is that it will be useless if you miss an assumption</p>",
        "id": 541029858,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1758637827
    },
    {
        "content": "<p>When I know the conclusion but not the hypotheses, I go to the mathlib docs entry for the type class, and look at the dropdown under <code>instances</code></p>",
        "id": 541030700,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758638032
    },
    {
        "content": "<p>Then there are like 70 instances you need to go through</p>",
        "id": 541030846,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758638074
    },
    {
        "content": "<p>and it could also be that it's inherited from a stronger class</p>",
        "id": 541030978,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758638104
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2329582.20rename.20docs.23prop.20to.20Prop.2Efinite/near/540979459\">said</a>:</p>\n<blockquote>\n<p>I disagree. I think that if we stick to the auto generated names, they become more searchable. Because then if you search for a name, you don't need to do a case split on whether it was or wasn't named explicitly.</p>\n</blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=instModuleFinite#doc\">docs#instModuleFinite</a> would like to have a word with you <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 542205029,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1759218561
    },
    {
        "content": "<p>That sounds like an instance of Module on the type Finite. It should at least mention in the name what type the instance is on...</p>",
        "id": 542205645,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1759218775
    },
    {
        "content": "<p>I think the name generator wouldn't use the name prefix Module</p>",
        "id": 542205827,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1759218836
    }
]