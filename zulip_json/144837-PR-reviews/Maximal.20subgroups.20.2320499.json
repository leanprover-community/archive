[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/20499\">#20499</a>, <span class=\"user-mention\" data-user-id=\"406490\">@María Inés de Frutos Fernández</span> and I formalize maximal subgroups of a group, by merely copying what is done for maximal ideals in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.IsMaximal#doc\">docs#Ideal.IsMaximal</a>, but encapsulating the notion in a one-field structure that says <code>IsCoatom K</code>.</p>\n<p>In the review process, the issue was raised of whether we shouldn't simply use an abbrev to <code>IsCoatom K</code>. But then, maximal ideals should be phrased in the same way.<br>\nAnd maybe mathlib users should just learn about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCoatom#doc\">docs#IsCoatom</a> and use it instead of the mathematically more idiomatic (but also more ambiguous, since maximal ideals are not maximal elements of the lattice of ideals) terminology.</p>",
        "id": 492589427,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1736372995
    },
    {
        "content": "<p>Thing about ideals is that there, the class aspect is used for theorems that take the IsMaximal hypothesis as a TC argument</p>",
        "id": 492593357,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1736375080
    },
    {
        "content": "<p>While IsCoatom is not a class, so one can't do the same</p>",
        "id": 492593381,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1736375094
    },
    {
        "content": "<p>In particular, I believe the IsMaximal for ideals is set up this way so that a quotient by an ideal can be synthesized by TC inference to be a Field, in the appropriate situation</p>",
        "id": 492593575,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1736375183
    },
    {
        "content": "<p>I do agree that maximal ideals could be refactored to use <code>IsCoatom</code>. The current situation is a historical artifact: maximal ideals in mathlib are older than <code>IsCoatom</code>.</p>",
        "id": 492894058,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736495305
    },
    {
        "content": "<p>The point about <code>IsMaximal</code> being a class in order to get a field instance on the quotient is valid. And I don't think a similar argument applies to maximal subgroups. So it is probably easier to work directly with <code>IsCoatom</code> there.</p>",
        "id": 492894213,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736495383
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span> Do you have thoughts on this?</p>",
        "id": 492894316,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736495421
    },
    {
        "content": "<p>Yes, those are basically my thoughts. I can't immediately think of a situation where typeclass inference would be helpful for working with maximal subgroups, although I can't rule it out.</p>",
        "id": 492895931,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1736496145
    },
    {
        "content": "<p><code>Ideal.IsMaximal</code> is already defined as</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">IsMaximal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsCoatom</span><span class=\"w\"> </span><span class=\"n\">I</span>\n</code></pre></div>",
        "id": 492946071,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1736514211
    },
    {
        "content": "<p>Thanks for pointing that out (-;</p>",
        "id": 492946204,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1736514244
    },
    {
        "content": "<p>pointing that <code>out</code> <span aria-label=\"looking\" class=\"emoji emoji-1f440\" role=\"img\" title=\"looking\">:looking:</span></p>",
        "id": 492967526,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736521153
    },
    {
        "content": "<p>That seems like an easy rename for the field.</p>",
        "id": 492967898,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1736521268
    }
]