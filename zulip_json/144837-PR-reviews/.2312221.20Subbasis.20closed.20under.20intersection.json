[
    {
        "content": "<p>I have a PR here: <a href=\"https://github.com/leanprover-community/mathlib4/pull/12221\">https://github.com/leanprover-community/mathlib4/pull/12221</a> which shows that a subbasis closed under finite intersection and containing the universal set is in fact a basis for a topology.</p>\n<p>This seems to me to be useful (see e.g.  <a href=\"https://github.com/leanprover-community/mathlib4/pull/12234\">https://github.com/leanprover-community/mathlib4/pull/12234</a>) - but perhaps it is already in Mathlib somewhere and I overlooked it?</p>\n<p>Despite staring at it for some time, I had difficult <a href=\"https://github.com/leanprover-community/mathlib4/pull/12234/files#diff-215c5f7d081a5c6c914ce2d6657bb4e8318a4155fd8f9d9de469a046d1a6e2b0R134\">moving between</a> <code>Finset</code> and <code>Finite</code>. Perhaps someone can please suggest a better way of doing this?</p>\n<p>Thanks,</p>\n<p>Christopher</p>",
        "id": 450901510,
        "sender_full_name": "Christopher Hoskin",
        "timestamp": 1720770857
    },
    {
        "content": "<p>Have you seen <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopologicalSpace.isTopologicalBasis_of_subbasis#doc\">docs#TopologicalSpace.isTopologicalBasis_of_subbasis</a> ? The statement is mathematically the same, although formalized in a slightly different way. Would it be enough?</p>",
        "id": 450903563,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720771514
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"300245\">Filippo A. E. Nuccio</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2312221.20Subbasis.20closed.20under.20intersection/near/450903563\">said</a>:</p>\n<blockquote>\n<p>Have you seen <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopologicalSpace.isTopologicalBasis_of_subbasis#doc\">docs#TopologicalSpace.isTopologicalBasis_of_subbasis</a> ? The statement is mathematically the same, although formalized in a slightly different way. Would it be enough?</p>\n</blockquote>\n<p>I use <code>TopologicalSpace.isTopologicalBasis_of_subbasis</code> in my PR. The work is getting to a point where I can apply it: <a href=\"https://github.com/leanprover-community/mathlib4/pull/12234/files#diff-215c5f7d081a5c6c914ce2d6657bb4e8318a4155fd8f9d9de469a046d1a6e2b0R125-R144\">https://github.com/leanprover-community/mathlib4/pull/12234/files#diff-215c5f7d081a5c6c914ce2d6657bb4e8318a4155fd8f9d9de469a046d1a6e2b0R125-R144</a></p>",
        "id": 451045081,
        "sender_full_name": "Christopher Hoskin",
        "timestamp": 1720808621
    },
    {
        "content": "<p>You can simplify the proof of the theorem to</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">isTopologicalBasis_of_subbasis_of_finiteInter</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hsg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">generateFrom</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hsi</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FiniteInter</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsTopologicalBasis</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">isTopologicalBasis_of_subbasis</span><span class=\"w\"> </span><span class=\"n\">hsg</span>\n<span class=\"w\">  </span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"n\">T</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">mem_image</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mem_setOf_eq</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">hT</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">Exists.intro</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">T</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">finite_singleton</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">singleton_subset_iff</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hT</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">and_self</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">sInter_singleton</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">forall_exists_index</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">and_imp</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">rintro</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hxi</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"n\">simpa</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Finite.coe_toFinset</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">using</span>\n<span class=\"w\">    </span><span class=\"n\">hsi.finiteInter_mem</span><span class=\"w\"> </span><span class=\"n\">hx.toFinset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Finite.coe_toFinset</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hxi</span><span class=\"o\">])</span>\n</code></pre></div>",
        "id": 451572604,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1721065943
    }
]