[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/28169\">#28169</a>, I added the proof that the monoid of ideals of a Dedekind domain is torsion-free. It is proved by reducing to the principal case using localization. I proved this case since it is the one I'll need (and the proof is easy) but it is possible that there is a more general proof. In that case, I'll be happy to modify this PR.</p>",
        "id": 533616370,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1754794745
    },
    {
        "content": "<p>but it's always torsion free <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 533630375,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811173
    },
    {
        "content": "<p>if J^n = 1 then there is j1, ..., jn whose product is 1, so j1 is a unit, so J=1</p>",
        "id": 533630409,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811206
    },
    {
        "content": "<p>That's not what being torsion-free means. Torsion-free means <code>n ≠ 0 → I ^ n = J ^ n → I = J</code></p>",
        "id": 533630479,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754811285
    },
    {
        "content": "<p>oh...</p>",
        "id": 533630530,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811350
    },
    {
        "content": "<p>spent too long in groups</p>",
        "id": 533630534,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811357
    },
    {
        "content": "<p>what's J^n=1 -&gt; J=1 called?</p>",
        "id": 533630558,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811377
    },
    {
        "content": "<p>I have no clue</p>",
        "id": 533630623,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1754811446
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2328169.20Monoid.20of.20ideals.20of.20a.20Dedekind.20domain.20is.20torsion-free/near/533630409\">said</a>:</p>\n<blockquote>\n<p>if J^n = 1 then there is j1, ..., jn whose product is 1, so j1 is a unit, so J=1</p>\n</blockquote>\n<p>actually, this proof is wrong lol</p>",
        "id": 533630675,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811493
    },
    {
        "content": "<p>wait, J^n &lt;= J, so J^n = 1 implies J = 1 already</p>",
        "id": 533630796,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754811621
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"488648\">@Xavier Roblot</span> I have golfed two of your proofs and antigolfed the third one</p>",
        "id": 533635207,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754814745
    },
    {
        "content": "<p>Submitted <a href=\"https://github.com/leanprover-community/mathlib4/pull/28177\">#28177</a> to fix confusing docstrings of IsMul/AddTorsionFree</p>\n<p>I like the proof through UniqueFactorizationMonoid, and maybe this is a good opportunity to add the isomorphism <code>M ≃* WithZero (Mˣ × Multiplicative ({m : M // Irreducible M} →₀ ℕ))</code>.</p>",
        "id": 533641411,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1754820973
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span> uh, that's not true because you haven't normalised the irreducibles</p>",
        "id": 533641568,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754821174
    },
    {
        "content": "<p>it only works in this case because of subsingleton units (which I saw that you did not assume because you mentioned units)</p>",
        "id": 533641581,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1754821190
    },
    {
        "content": "<p>Thanks! Maybe we can be satisfied with the existence of an indexing type s.t. ...</p>\n<p>Oh I also forgot the Multiplicative.</p>",
        "id": 533641803,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1754821441
    },
    {
        "content": "<p>I thought of the proof via factorization, but I had the feeling it needed stronger imports</p>",
        "id": 533641921,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1754821560
    },
    {
        "content": "<p>In that case maybe keep your proof and add the UFM result separately.</p>",
        "id": 533642070,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1754821669
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"488648\">Xavier Roblot</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2328169.20Monoid.20of.20ideals.20of.20a.20Dedekind.20domain.20is.20torsion-free/near/533641921\">said</a>:</p>\n<blockquote>\n<p>I thought of the proof via factorization, but I had the feeling it needed stronger imports</p>\n</blockquote>\n<p>Well, it seems it's more or less the same actually...</p>",
        "id": 533642600,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1754822218
    },
    {
        "content": "<p>In any case, I am also interested to know if the result holds in more generality.</p>",
        "id": 533642718,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1754822340
    },
    {
        "content": "<p>I'd guess it holds for Krull rings.</p>",
        "id": 534549737,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1755201159
    }
]