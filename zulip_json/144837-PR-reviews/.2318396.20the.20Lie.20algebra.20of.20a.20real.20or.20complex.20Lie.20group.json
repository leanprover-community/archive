[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/18396\">#18396</a>, I construct the Lie algebra of a Lie group (defining the bracket as the Lie bracket of left-invariant vector fields associated to elements of the Lie algebra), and I prove that this is indeed a Lie algebra, per general properties of the Lie bracket of vector fields on manifolds.</p>\n<p>This is only over real or complex manifolds for now, because the extension to (analytic) Lie groups is blocked by the ongoing refactor of smooth maps in <a href=\"https://github.com/leanprover-community/mathlib4/pull/17152\">#17152</a> (currently stalled on <a href=\"https://github.com/leanprover-community/mathlib4/pull/17169\">#17169</a>). Both of <a href=\"https://github.com/leanprover-community/mathlib4/pull/17152\">#17152</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/18396\">#18396</a> are pretty big, so I am curious which one will get in first. Once both of them are in mathlib, I will do a final cleanup to get Lie algebras in the general setting.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18396\">#18396</a> is way too big (+5500 / -600), but I have split a few independent chunks out of it to start with:</p>",
        "id": 479527935,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730221695
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/17927\">#17927</a> (+309/-130) cleans up the API around <code>ContinuousWithinAt</code>(I am planning to do the same for <code>ContDiffWithinAt</code>, and so on, once this one is in).</p>",
        "id": 479528097,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730221750
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18399\">#18399</a> (+231/-4) expands the API around maps with symmetric second derivatives<br>\n<img alt=\":merge:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/37577b95.png\" title=\"merge\"></p>",
        "id": 479528160,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730221775
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18402\">#18402</a> (+138/-15) introduces a predicate <code>ContinuousLinearMap.IsInvertible</code><br>\n<img alt=\":merge:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/37577b95.png\" title=\"merge\"></p>",
        "id": 479528219,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730221797
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18403\">#18403</a> (+157 /-4) changes the definition of models with corners, requiring that interior points are dense in the range</p>",
        "id": 479528374,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730221854
    },
    {
        "content": "<p>Anyway, there is no hurry here, it will get in when it gets in...</p>",
        "id": 479528587,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730221935
    },
    {
        "content": "<p>I’m curious to know why you chose this definition rather than the definition using the adjoint representation.</p>",
        "id": 479529281,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730222209
    },
    {
        "content": "<p>Because of the Jacobi identity, which is a mess to check with the adjoint representation while it is straightfoward with vector fields.</p>\n<p>And also because I wanted to see how one could develop a nice API for pullbacks and Lie brackets of vector fields, as a model for what we will have to do for differential forms. In a sense, the Lie algebra is just a nice byproduct of the general theory of vector fields on manifolds with this approach.</p>",
        "id": 479529629,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730222338
    },
    {
        "content": "<p>I definitely agree that vector fields are very much worth the trouble.</p>",
        "id": 479529840,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730222416
    },
    {
        "content": "<p>But I don’t understand the comment about Jacobi being a mess.</p>",
        "id": 479529980,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730222477
    },
    {
        "content": "<p>If you prove that the derivative at 1 of a Lie group morphism is compatible with the Lie bracket and apply this to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>d</mi><mo>:</mo><mi>G</mi><mo>→</mo><mi>G</mi><mi>L</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"fraktur\">g</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Ad : G → GL(\\mathfrak{g})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">d</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord mathfrak\">g</span><span class=\"mclose\">)</span></span></span></span> then you immediately get the Jacobi identity.</p>",
        "id": 479530385,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730222617
    },
    {
        "content": "<p>Yes, there is something nontrivial to prove here. If I understand correctly, it boils down to the symmetry of some second derivative (which is why you will need analyticity over fields others than <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">C</span></span></span></span> -- I was a little bit shocked to realize that there is a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>C</mi><mi mathvariant=\"normal\">∞</mi></msup></mrow><annotation encoding=\"application/x-tex\">C^\\infty</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">∞</span></span></span></span></span></span></span></span></span></span></span> map over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">∂</mi><mn>2</mn></msup><mi>f</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">∂</mi><mi>x</mi><mi mathvariant=\"normal\">∂</mi><mi>y</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">\\partial^2 f/\\partial x \\partial y = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord\">/</span><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\">x</span><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">∂</mi><mn>2</mn></msup><mi>f</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">∂</mi><mi>y</mi><mi mathvariant=\"normal\">∂</mi><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\partial^2 f /\\partial y \\partial x = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord\">/</span><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord\" style=\"margin-right:0.05556em;\">∂</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>), so abstract nonsense will not save you and, whatever proof you use, you will need to get your hands dirty at some point.</p>",
        "id": 479531866,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730223141
    },
    {
        "content": "<p>We'll also need:</p>\n<ul>\n<li>the Lie alg of GL is End</li>\n<li>the Lie bracket coming from GL is the commutator bracket</li>\n</ul>\n<p>Both are defeqs on paper <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span> <br>\nI guess the first point will actually will also be defeq in Lean.</p>",
        "id": 479548677,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1730229750
    },
    {
        "content": "<p>Yes, the first one is defeq, and the second one is not (but not even on paper :-)</p>",
        "id": 479549838,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730230195
    },
    {
        "content": "<p>Do you have a reference for that p-adic example? Sounds like a nice object for <code>Counterexamples/</code></p>",
        "id": 479549920,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1730230219
    },
    {
        "content": "<p>No, I couldn't find a reference, so I came up with the example. On <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><mn>2</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1972em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span>, I think <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mo>∑</mo><msub><mi>x</mi><mi>k</mi></msub><msup><mi>p</mi><mi>k</mi></msup><mo separator=\"true\">,</mo><mo>∑</mo><msub><mi>y</mi><mi>k</mi></msub><msup><mi>p</mi><mi>k</mi></msup><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi>k</mi><mo>&lt;</mo><mi>l</mi></mrow></msub><msub><mi>x</mi><mi>k</mi></msub><msub><mi>y</mi><mi>l</mi></msub><msup><mi>p</mi><mrow><mi>k</mi><mo>+</mo><mi>l</mi></mrow></msup></mrow><annotation encoding=\"application/x-tex\">f(\\sum x_k p^k, \\sum y_k p^k) = \\sum_{k&lt;l} x_k y_l p^{k+l}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0991em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1762em;vertical-align:-0.3271em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1864em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mrel mtight\">&lt;</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3271em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span></span></span></span></span></span></span></span></span></span></span></span> works. There is also the famous example that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mo>∑</mo><msub><mi>x</mi><mi>k</mi></msub><msup><mi>p</mi><mi>k</mi></msup><mo stretchy=\"false\">)</mo><mo>=</mo><mo>∑</mo><msub><mi>x</mi><mi>k</mi></msub><msup><mi>p</mi><mrow><mn>2</mn><mi>k</mi></mrow></msup></mrow><annotation encoding=\"application/x-tex\">g(\\sum x_k p^k) =\\sum x_k p^{2k}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0991em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0991em;vertical-align:-0.25em;\"></span><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span></span></span></span></span> is a homeomorphism on its image, but it has zero derivative everywhere.</p>",
        "id": 479550756,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730230574
    },
    {
        "content": "<p>Of course symmetry of second derivatives is crucial, but not for the Jacobi identity. In this approach through <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Ad</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">d</span></span></span></span> it is crucial for antisymmetry of the Lie bracket.</p>",
        "id": 479563174,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730235053
    },
    {
        "content": "<p>But it will be crucial also for the left-invariant vector fields way.</p>",
        "id": 479563228,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730235080
    },
    {
        "content": "<p>In case you wonder how I have this in mind: this term I’m teaching a M2 course on Lie groups (and then Riemannian geometry), so I had to explain all this in detail about one month ago.</p>",
        "id": 479563366,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730235147
    },
    {
        "content": "<p>I think that in practice these pathologies about <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>C</mi><mi mathvariant=\"normal\">∞</mi></msup></mrow><annotation encoding=\"application/x-tex\">C^\\infty</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">∞</span></span></span></span></span></span></span></span></span></span></span> functions on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> are solved in practice by never considering <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>C</mi><mi mathvariant=\"normal\">∞</mi></msup></mrow><annotation encoding=\"application/x-tex\">C^\\infty</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">∞</span></span></span></span></span></span></span></span></span></span></span> functions on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>. The <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic analogues of real/complex manifolds used in practice are rigid spaces/Berkovich spaces/adic spaces, where the functions under consideration are basically by definition locally analytic, and all the subtleties are bundled into the glueing of the functions (for example in Tate's presentation of the theory you are not allowed to define a function on opens and then glue on overlaps, the opens and the open cover have to be \"admissible\" in some way, and it is not true that an arbitrary open cover of an open set is admissible). </p>\n<p>Sometimes when I see what the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}/\\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">R</span><span class=\"mord\">/</span><span class=\"mord mathbb\">C</span></span></span></span> people are doing I shout \"oh make sure you include the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic case here\" (for example, the exponential function), but I am definitely not shouting this when it comes to Lie algebras of a Lie group. For applications to the Langlands philosophy (for example the definition of an automorphic form) we would only need the the Lie algebra construction for real Lie groups, even though the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic numbers are also heavily involved in the definition.</p>",
        "id": 479567669,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1730237056
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2318396.20the.20Lie.20algebra.20of.20a.20real.20or.20complex.20Lie.20group/near/479563174\">said</a>:</p>\n<blockquote>\n<p>Of course symmetry of second derivatives is crucial, but not for the Jacobi identity. In this approach through <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">Ad</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mord mathnormal\">d</span></span></span></span> it is crucial for antisymmetry of the Lie bracket.</p>\n</blockquote>\n<p>You're right! That's where I saw a difficulty when I started thinking on this approach, I remember now.</p>",
        "id": 479619682,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730272882
    },
    {
        "content": "<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic analytic Lie groups are important, so I definitely want to include them!</p>",
        "id": 479619824,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730272934
    },
    {
        "content": "<p>And I agree that people never use <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>C</mi><mi mathvariant=\"normal\">∞</mi></msup></mrow><annotation encoding=\"application/x-tex\">C^\\infty</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">∞</span></span></span></span></span></span></span></span></span></span></span> functions on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, just because there is nothing interesting to say there.</p>",
        "id": 479619892,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730272973
    },
    {
        "content": "<p>Next one is <a href=\"https://github.com/leanprover-community/mathlib4/pull/18447\">#18447</a> (+317/-105), cleaning up the <code>ContDiffWithinAt</code> API to match the <code>ContinuousAt</code> API</p>",
        "id": 479724061,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730306542
    },
    {
        "content": "<p>Kevin, I am sure that you know of some purely <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbf Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9722em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>-adic arguments that have important consequences. For example, the non-existence of elements of finite order in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi mathvariant=\"normal\">S</mi><mi mathvariant=\"normal\">L</mi></mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo separator=\"true\">,</mo><msub><mi mathvariant=\"bold\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathrm{SL}(n,\\mathbf Z_p)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">SL</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> which are congruent to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> modulo <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span> (for odd <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>; when <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">p=2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span>, look modulo <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">4</span></span></span></span>) follows readily from the convergence properties of the exponential map of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic Lie group.</p>\n<p>Moreover, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"bold\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbf Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9722em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> as an affine line is genuinely different from the rigid analytic affine line, in whatever model.</p>",
        "id": 479774106,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1730327419
    },
    {
        "content": "<p>Sure p-adic exponential is important but your argument is just using topological groups here, not lie groups</p>",
        "id": 479795150,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1730342675
    },
    {
        "content": "<p>How is exponential “just using topological groups”?</p>",
        "id": 479826629,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730363388
    },
    {
        "content": "<p>I’m guessing in that case the exponential is good old <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=NormedSpace.exp#doc\">docs#NormedSpace.exp</a> ?</p>",
        "id": 479841117,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1730368721
    },
    {
        "content": "<p>I'm confused about Antoine's claim that the argument above has got something to do with p-adic Lie groups. To me it looks like an argument about metric spaces.</p>",
        "id": 479841601,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1730368891
    },
    {
        "content": "<p>Sure, this is good old <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=NormedSpace.exp#doc\">docs#NormedSpace.exp</a>, but it is still a special case of the Lie group exponential, hence morally much more part of Lie group theory than topological group theory.</p>",
        "id": 479841962,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730369017
    },
    {
        "content": "<p>Oh sure. I'm just saying that if I had to formalise this in lean I don't think I'd be using the manifold library.</p>",
        "id": 479842182,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1730369087
    },
    {
        "content": "<p>Oh yes.</p>",
        "id": 479842505,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1730369170
    },
    {
        "content": "<p>Next one is <a href=\"https://github.com/leanprover-community/mathlib4/pull/18512\">#18512</a> (+280/-91), again an easy one expanding a little bit the API around <code>fderiv</code> and cleaning up a few names throughout the library.</p>\n<p>Thanks to everyone for the reviews!</p>",
        "id": 480034651,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730459428
    },
    {
        "content": "<p>Next one is <a href=\"https://github.com/leanprover-community/mathlib4/pull/18623\">#18623</a> (+735/-60). It may seem long, but it's completely boring, porting to <code>mfderiv</code> API we already have for <code>fderiv</code> and that was missing, in a systematic way.<br>\n<img alt=\":merge:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/37577b95.png\" title=\"merge\"></p>",
        "id": 480773074,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730829121
    },
    {
        "content": "<p>Next one in the project is <a href=\"https://github.com/leanprover-community/mathlib4/pull/18724\">#18724</a> (+366/-398), a very satisfactory one because I add material on smoothness of manifold derivatives within sets, but it allows me to replace a messy 250 lines proof by a cute 25 lines proof, so overall this decreases the number of lines.</p>",
        "id": 481104603,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730980933
    },
    {
        "content": "<p>There is also <a href=\"https://github.com/leanprover-community/mathlib4/pull/18399\">#18399</a> (+231/-4) which is still open. It expands the API around maps with symmetric second derivatives. I need this one to start PRing things on the pullback and Lie bracket of vector fields in vector spaces.<br>\n<img alt=\":merge:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/37577b95.png\" title=\"merge\"></p>",
        "id": 481104882,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1730981025
    },
    {
        "content": "<p>Great golf!</p>",
        "id": 481338488,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731080170
    },
    {
        "content": "<p>The second PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/18399\">#18399</a> is also introducing <code>IsAdmissableSmoothness</code>. It looks very reasonable but I'm not really in a position to review this, and I would like to hear from <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span>, <span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> or <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> what they think about this.</p>",
        "id": 481339718,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731080586
    },
    {
        "content": "<p>Note that <code>IsAdmissibleSmoothness</code> is not really necessary now, it will only become relevant at the end of the refactor. So if it helps the review, I can remove it for now.</p>",
        "id": 481340048,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1731080682
    },
    {
        "content": "<p>It would certainly help <em>my</em> review <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 481340174,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731080721
    },
    {
        "content": "<p>ok, let me do that.</p>",
        "id": 481340521,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1731080847
    },
    {
        "content": "<p>Done.</p>",
        "id": 481340906,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1731080989
    },
    {
        "content": "<p>Thanks, I left a comment</p>",
        "id": 481355350,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731086055
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 481357247,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1731086852
    },
    {
        "content": "<p>A small update on the path towards Lie algebras over any normed field in mathlib:</p>",
        "id": 486949586,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1733737715
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/19696\">#19696</a> (+1367/-1044) extends the smoothness index of manifolds to include analytic manifolds.</li>\n</ul>",
        "id": 486949601,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1733737718
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/19769\">#19769</a> (+297/-19) extends the API around <code>IteratedFDeriv</code>. This will be used in <a href=\"https://github.com/leanprover-community/mathlib4/pull/19770\">#19770</a> computing the iterated derivative of analytic maps, and showing that they are symmetric.</li>\n</ul>",
        "id": 486949846,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1733737802
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/19637\">#19637</a> (+113/-5) shows that the homeomorphism between the tangent bundle to the model space and the product is a diffeomorphism</li>\n</ul>",
        "id": 486950081,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1733737884
    },
    {
        "content": "<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/19636\">#19636</a> (+149/-0) ports to mdifferentiable maps some API for contmdiff functions, on sections of vector bundles.</li>\n</ul>",
        "id": 486950318,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1733737959
    },
    {
        "content": "<p>The latter two are prerequisites to define the pullback and the Lie bracket of vector fields on manifolds (the analogues in vector spaces have already been merged)</p>",
        "id": 486950412,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1733737993
    },
    {
        "content": "<p>Now that the smoothness of manifolds has been extended to allow for analytic manifolds, I can resume the sequence of PRs leading to the Lie algebra of a Lie group (but now thanks to this extension it will be over a general field, not only <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span> or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">C</span></span></span></span>). Next PR is</p>\n<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/20639\">#20639</a> (+340/-0) starting the study of properties of vector fields on manifolds (notably, define the pullback of a vector field, and show that the pullback of a differentiable vector field under a <code>C^2</code>  function is differentiable).</li>\n</ul>",
        "id": 492980422,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1736525225
    },
    {
        "content": "<p>Left a few comments: looks great!</p>",
        "id": 492998336,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1736531610
    },
    {
        "content": "<p>The final Lie algebra PR is now ready, in <a href=\"https://github.com/leanprover-community/mathlib4/pull/18396\">#18396</a> (+266 / -3)</p>",
        "id": 511346133,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1744273932
    }
]