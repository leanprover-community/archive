[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> and I have been working towards geodesics and the Levi-Civita connection, building on <span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span>'s work on Riemannian manifolds <a href=\"#narrow/channel/144837-PR-reviews/topic/Riemannian.20manifolds/near/524656474\">here</a>. We don't have these defined yet, but I'm optimistic we can reach those (or very closely) within the next two weeks. See <a href=\"https://github.com/leanprover-community/mathlib4/pull/26221\">#26221</a> for the current status.</p>",
        "id": 527040884,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562036
    },
    {
        "content": "<p>In the mean-time, I made some PRs. The following are already ready for review:</p>",
        "id": 527040894,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562042
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26676\">#26676</a> (+11/-0): add contMDiffWithinAt_zeroSection</p>",
        "id": 527040904,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562046
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26677\">#26677</a> (+5/-5): make argument s implicit in contMDiff(Within)At_{section,totalSpace}</p>",
        "id": 527040912,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562050
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26672\">#26672</a> (+20/-0): add continuousOn_iUnion</p>",
        "id": 527040924,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562054
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26673\">#26673</a> (+40/-0): add contMDiffOn_iUnion_iff_of_isOpen (the analogous statement for manifold C^k maps)</p>",
        "id": 527040939,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562058
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26678\">#26678</a> (+43/-0): check smoothness of a C^k section in any trivialisation (not just the preferred one)</p>",
        "id": 527040961,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751562067
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26688\">#26688</a> (+48/-0): ContDiffOn.iUnion (analogue of the above for C^k maps on normed spaces)</p>",
        "id": 527046182,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751564264
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26686\">#26686</a> (+49/-0): DifferentiableOn.iUnion (analogue for DifferentiableOn)</p>",
        "id": 527046279,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751564303
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26687\">#26687</a> (+50/-0): MDifferentiableOn.iUnion (analogue for MDifferentiableOn)</p>",
        "id": 527046466,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751564382
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26702\">#26702</a> (+26/-0): add missing API for MDifferentiable*.{add,neg}</p>",
        "id": 527059174,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751569672
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26700\">#26700</a> (+49/-0): add version of fderiv_const_smul without differentiability hypotheses</p>",
        "id": 527059275,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751569711
    },
    {
        "content": "<p>I'm aware this is a long list. Fortunately, all of these are quite small (or trivially mirroring what another PR does).</p>",
        "id": 527059337,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751569746
    },
    {
        "content": "<p>Thanks a lot for the really fast reviews; this is great! If you're feeling bored, there are two more PRs above --- but let me also add a few more:</p>",
        "id": 527140525,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751620755
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26725\">#26725</a> (+73/-28): the product rule for Lie brackets (normed space version)<br>\nThis PR was created by a new contributor; I just fixed up the last pieces.</p>",
        "id": 527140687,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751620805
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26709\">#26709</a> (+29/-0): missing congruence lemmas for mdifferentiability</p>",
        "id": 527141381,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751621044
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26732\">#26732</a> (+51/-0): Lie bracket with zero is zero</p>",
        "id": 527169126,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751631156
    },
    {
        "content": "<p>You say the Levi-Civita connection. Do you mean the unique connection that respects the metric and is torsion free? It would be nice to be able to define connections without reference to a metric.</p>",
        "id": 527174624,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1751633256
    },
    {
        "content": "<p>Don't worry, we'll have a general definition of connections on any vector bundle, and of torsion (of any connection) --- perhaps by the end of today.</p>",
        "id": 527175175,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751633468
    },
    {
        "content": "<p>The above branch now contains an (almost sorry-free) definition of torsion of any connection, and an outline for the existence and uniqueness of the Levi-Civita connection.</p>",
        "id": 527351533,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751813401
    },
    {
        "content": "<p>Now ready for review:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/26674\">#26674</a> (+187/-42) finite sum, difference, scalar product of C^k sections is C^k</p>",
        "id": 527351633,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751813505
    },
    {
        "content": "<p>Have you already checked that a connection on a vector bundle gives rise to a connection on the dual vector bundle? I'm asking because it would be a good sanity check that the definition of connection you are using is correct in full generality. The definition I had first written in mathlib of vector bundles looked nice, but it was in fact too weak to ensure that the dual of a vector bundle was a vector bundle, and it had to be refactored (in fact rewritten from scracth!) later on by Heather and Floris to fix this shortcoming. I'd rather avoid that story for connections :-)</p>",
        "id": 527427378,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1751877462
    },
    {
        "content": "<p>Do you mean in infinite dimension?</p>",
        "id": 527434477,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751879760
    },
    {
        "content": "<p>I must say we are mostly aiming for finite dimensional manifolds here. I don’t really want to get stuck forever just in case someone could need infinite dimensional cases for some unspecified application in some unspecified future. I’d be happy to read about specific applications you could have in mind.</p>",
        "id": 527434744,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751879846
    },
    {
        "content": "<p>I mean that if there are 3 definitions which are equivalent in finite dimension and are roughly of the same difficulty to implement, but only one of them works well in infinite dimension, that's the one we should use because then there will be less assumptions in the theorems. (I haven't thought at all about the various definitions of connections, it's just a sanity check)</p>",
        "id": 527435869,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1751880204
    },
    {
        "content": "<p>(And I don't have any specific application in mind, so if you tell me that all standard definitions of connections only work in finite dimension then I'm perfectly fine with adding this in the theorems)</p>",
        "id": 527436823,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1751880517
    },
    {
        "content": "<p>I took a quick look at Lang: my take-away is that</p>\n<ul>\n<li>the theory of connections seems mostly specific to finite dimensions. (Lang mentions them briefly, but doesn't use them at all. This matches my memory: when studying e.g. your favourite Banach manifold of maps <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>W</mi><mrow><mi>k</mi><mo separator=\"true\">,</mo><mi>p</mi></mrow></msup><mo stretchy=\"false\">(</mo><mi>M</mi><mo separator=\"true\">,</mo><mi>N</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">W^{k,p}(M,N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0991em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span><span class=\"mpunct mtight\">,</span><span class=\"mord mathnormal mtight\">p</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span>, you don't think \"how to construct a connection here, and how to deal with the fact that partitions of unity may not exist?\", but you choose a connection on (I believe) M, and use that.</li>\n<li>you can define the exponential map and geodesic flow in infinite dimensions, but you need to pick a different approach (using sprays). I gather that's the correct abstraction, but at this point I'd rather merge some reasonable definition into mathlib and leave a TODO for whoever needs sprays.</li>\n</ul>",
        "id": 527438505,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751881035
    },
    {
        "content": "<ul>\n<li>the definition using horizontal and vertical sub-bundle seems to work in infinite dimensions. I'm not sure how much it is used, though.</li>\n</ul>",
        "id": 527438630,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751881075
    },
    {
        "content": "<p>I have many questions. Is it best to ask them here rather than on the PRs themselves. They are rather general. E.g. how do I specify a connection? Is it via the covariant derivative structure? Is it possible to do what I do in SageManifold and specify connection coefficients with respect to a frame?</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"n\">polar</span><span class=\"o\">.&lt;</span><span class=\"n\">th</span><span class=\"p\">,</span><span class=\"n\">ph</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"n\">S2</span><span class=\"o\">.</span><span class=\"n\">chart</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">'th:(0,pi):\\theta ph:(0,2*pi):\\phi'</span><span class=\"p\">)</span>\n<span class=\"n\">epolar</span> <span class=\"o\">=</span> <span class=\"n\">polar</span><span class=\"o\">.</span><span class=\"n\">frame</span><span class=\"p\">()</span>\n\n<span class=\"n\">ch_basis</span> <span class=\"o\">=</span> <span class=\"n\">S2</span><span class=\"o\">.</span><span class=\"n\">automorphism_field</span><span class=\"p\">()</span>\n<span class=\"n\">ch_basis</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">ch_basis</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">th</span><span class=\"p\">)</span>\n<span class=\"n\">e</span> <span class=\"o\">=</span> <span class=\"n\">S2</span><span class=\"o\">.</span><span class=\"n\">default_frame</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">new_frame</span><span class=\"p\">(</span><span class=\"n\">ch_basis</span><span class=\"p\">,</span> <span class=\"s1\">'e'</span><span class=\"p\">)</span>\n\n<span class=\"n\">nab</span> <span class=\"o\">=</span> <span class=\"n\">S2</span><span class=\"o\">.</span><span class=\"n\">affine_connection</span><span class=\"p\">(</span><span class=\"s1\">'nabla'</span><span class=\"p\">,</span> <span class=\"n\">latex_name</span><span class=\"o\">=</span><span class=\"sa\">r</span><span class=\"s1\">'\\nabla'</span><span class=\"p\">)</span>\n<span class=\"n\">nab</span><span class=\"o\">.</span><span class=\"n\">add_coef</span><span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">)</span>\n\n<span class=\"n\">nab</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"p\">(</span><span class=\"n\">epolar</span><span class=\"p\">))</span>\n</code></pre></div>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">Γ</mi><mi>ϕ</mi></msup><msub><mrow></mrow><mrow><mi>ϕ</mi><mi>θ</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>cos</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>θ</mi><mo stretchy=\"false\">)</mo></mrow><mrow><mi>sin</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>θ</mi><mo stretchy=\"false\">)</mo></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">\\Gamma^\\phi{ }_{\\phi \\theta}=\\frac{\\cos (\\theta)}{\\sin (\\theta)}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1352em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord\">Γ</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">ϕ</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">ϕθ</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.53em;vertical-align:-0.52em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">s</span><span class=\"mtight\">i</span><span class=\"mtight\">n</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mclose mtight\">)</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">c</span><span class=\"mtight\">o</span><span class=\"mtight\">s</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.52em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></p>\n<p>This says that parallel lines are parallel on the Mercator projection. NB this does have torsion.</p>",
        "id": 527441527,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1751882043
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527438630\">said</a>:</p>\n<blockquote>\n<ul>\n<li>the definition using horizontal and vertical sub-bundle seems to work in infinite dimensions. I'm not sure how much it is used, though.</li>\n</ul>\n</blockquote>\n<p>I am hoping to produce the latter definition which is what I think of as the Ehresmann connection but progress is slow. This top down approach should then match what you are doing here.</p>",
        "id": 527442293,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1751882239
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527438630\">said</a>:</p>\n<blockquote>\n<ul>\n<li>the definition using horizontal and vertical sub-bundle seems to work in infinite dimensions. I'm not sure how much it is used, though.</li>\n</ul>\n</blockquote>\n<p>See Gauge Theory and Variational Principles by David Bleecker for example.</p>",
        "id": 527444272,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1751882773
    },
    {
        "content": "<p>It looks to me that the definition with horizontal spaces works fine, indeed. Over the full bundle <code>E</code>, you have two vector bundles, the tangent bundle <code>TE</code>, and the vertical bundle <code>VE</code> (points in the tangent bundle that are mapped to 0 by the differential of the projection from E to B). Then you can look at the bundle <code>TE -&gt;L[k] VE</code>, and look for smooth  (or whatever regularity you want) sections of these which, additionally, are projections (i.e., the identity on points of <code>VE</code>) and with a suitable linearity property (to make sure that parallel transport is a linear map).</p>",
        "id": 527444334,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1751882799
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527441527\">said</a>:</p>\n<blockquote>\n<p>I have many questions. Is it best to ask them here rather than on the PRs themselves. They are rather general. E.g. how do I specify a connection? Is it via the covariant derivative structure? Is it possible to do what I do in SageManifold and specify connection coefficients with respect to a frame?</p>\n</blockquote>\n<p>Yes.</p>",
        "id": 527446960,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751883744
    },
    {
        "content": "<p>And the correspondance between covariant derivatives and Ehresmann connections is work in progress.</p>",
        "id": 527447114,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751883791
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527351633\">said</a>:</p>\n<blockquote>\n<p>Now ready for review:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/26674\">#26674</a> (+187/-42) finite sum, difference, scalar product of C^k sections is C^k</p>\n</blockquote>\n<p>Ready for review again. Two more PRs are incoming soon.</p>",
        "id": 527463719,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751889804
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527447114\">said</a>:</p>\n<blockquote>\n<p>And the correspondance between covariant derivatives and Ehresmann connections is work in progress.</p>\n</blockquote>\n<p>Where should I look for both of those?</p>\n<p>I assume you will use the subspace definition for the Ehresmann connection but I want the equivalent definitions via Lie algebra-valued 1-forms. I guess that would be dependent on the work on forms?</p>",
        "id": 527478701,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1751894338
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26221\">#26221</a> (mentioned in this title) has \"all\" the current code. (Some of it is being PRed, hence being tweaked there. Those PRs should be mentioned here, and also linked in the mother PR.)</p>",
        "id": 527488858,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751897421
    },
    {
        "content": "<p>Lest you run out of PRs to review, I have a few new ones for you:</p>",
        "id": 527488908,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751897439
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26864\">#26864</a> (+14/-8) performs some minor clean-up of VectorBundle/{Basic,MDifferentiable}.<br>\nNot required, but found in passing.</p>",
        "id": 527489068,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751897483
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26865\">#26865</a> (+47/-0): some basic API for mdifferentiable sections</p>",
        "id": 527489193,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751897518
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26866\">#26866</a> (+78/-0): mdifferentiability results for coordChange</p>",
        "id": 527489278,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751897542
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26870\">#26870</a> (+125/-0): proving differentiability of sections in a preferred trivialisation, analogous to <code>26678</code></p>",
        "id": 527490586,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751897925
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26871\">#26871</a> (also blocked) will prove the analogue of <code>26674</code>.</p>",
        "id": 527505383,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751902228
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26671\">#26671</a> (+32/-1): contMDiff_section_of_tsupport<br>\nA product <code>f s</code> of a C^k function <code>f</code> and a section <code>s</code> is C^k once <code>f</code> is C^k on an open set containing <code>tsupport f</code>.</p>",
        "id": 527551672,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751918035
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26894\">#26894</a> (+20-/-16) chore(Gram-Schmidt): small tweaks<br>\nin preparation for making a version for sections of Riemannian vector bundles</p>",
        "id": 527715275,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1751987413
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26921\">#26921</a> (+56/-0) adds mdifferentiable analogues of C^n metric lemmas</p>",
        "id": 527822356,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752045691
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26922\">#26922</a> (+162/-1) add mdifferentiable version of hom bundle smoothness lemmas<br>\nIs a bit larger, but should be straightforward to review.</p>",
        "id": 527828718,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752048059
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27020\">#27020</a> (+6/-0): choose <em>some</em> linear order on a fintype</p>",
        "id": 528442688,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752309360
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27021\">#27021</a> (+652/-0) feat: custom elaborators for differential geometry<br>\nSee <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Differential.20geometry.20elaborators.20experiment/with/528443896\">#mathlib4 &gt; Differential geometry elaborators experiment</a> for discussion and context. Half of the diff is adding tests.</p>",
        "id": 528442765,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752309429
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27023\">#27023</a> (+15/-0) add gramSchmidtNormed_linearIndependent</p>",
        "id": 528444320,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752311058
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27024\">#27024</a> (+322/-1) Gram-Schmidt orthonormalisation for sections of a vector bundle</p>",
        "id": 528444799,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752311690
    },
    {
        "content": "<p>A propos this last one: is there a notion (in mathlib) of vector bundles over a mere topological space? It seems to me that most of what is done would apply in this context  without any modification. On the other hand, that would probably be easy to copy-paste-adjust if actually needed.</p>",
        "id": 528701872,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1752511254
    },
    {
        "content": "<p>Yes, there are vector bundles over topological spaces.</p>",
        "id": 528705301,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1752512582
    },
    {
        "content": "<p>And I will try to make all Gram-Schmidt arguments apply in this setting as well.</p>",
        "id": 528865440,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752587154
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527822356\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26921\">#26921</a> (+56/-0) adds mdifferentiable analogues of C^n metric lemmas</p>\n</blockquote>\n<p>This is now ready for review.</p>",
        "id": 529179954,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752707872
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/527490586\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26870\">#26870</a> (+125/-0): proving differentiability of sections in a preferred trivialisation, analogous to <code>26678</code></p>\n</blockquote>\n<p>This is now ready for review.</p>",
        "id": 529279096,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752758808
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27349\">#27349</a> (+57/-0): the sum of a locally finite collection of C^n sections is C^n</p>",
        "id": 530167710,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753196985
    },
    {
        "content": "<p>This PR blocks <a href=\"https://github.com/leanprover-community/mathlib4/pull/26875\">#26875</a> (by a new contributor) --- which is in turn a pre-requisite to proving the existence of a Riemannian metric.</p>",
        "id": 530167861,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753197032
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28048\">#28048</a> (+42/-0) locally finite finsums of C^n sections are C^n</p>",
        "id": 533129555,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754494837
    },
    {
        "content": "<p>This may seem redundant with the previous PR, but this spelling is more convenient for use with partitions of unity. (One needs to take a convex combination there, and those use <code>finsum</code>s.)</p>",
        "id": 533129739,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754494895
    },
    {
        "content": "<p>I couldn't find the definition of the Ehresmann connection. Maybe someone could give me a link? I started playing with this and came up with this for the vertical subspace:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Bundle</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">FiberBundle</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">FiberBundle</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"bp\">.</span><span class=\"n\">proj</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">LinearMap</span><span class=\"bp\">.</span><span class=\"n\">ker</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mfderiv</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"bp\">.</span><span class=\"n\">proj</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"o\">)</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)]</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModelWithCorners</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ITotal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModelWithCorners</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsManifold</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsManifold</span><span class=\"w\"> </span><span class=\"n\">ITotal</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)]</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiberBundle</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n\n<span class=\"kn\">noncomputable</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">verticalSubspace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TangentSpace</span><span class=\"w\"> </span><span class=\"n\">ITotal</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">LinearMap</span><span class=\"bp\">.</span><span class=\"n\">ker</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mfderiv</span><span class=\"w\"> </span><span class=\"n\">ITotal</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"bp\">.</span><span class=\"n\">proj</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 533941346,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754990864
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"754300\">@Dominic Steinitz</span> If you open <a href=\"https://github.com/leanprover-community/mathlib4/pull/26221\">#26221</a>, <code>Bundle.vert</code> in <code>CovariantDerivative.lean</code> should be the mathlib-general version of what you're stating.</p>",
        "id": 533942942,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754991452
    },
    {
        "content": "<p>There are some sorries to be filled, which I'm slowly working towards. I'll be on holiday for a week plus epsilon, though. (The other question is getting everything reviewed. Help with that is certainly welcome; <a href=\"https://github.com/leanprover-community/mathlib4/pull/27021\">#27021</a> is the biggest blocker.)</p>",
        "id": 533944627,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754992080
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/533944627\">said</a>:</p>\n<blockquote>\n<p>There are some sorries to be filled, which I'm slowly working towards. I'll be on holiday for a week plus epsilon, though. (The other question is getting everything reviewed. Help with that is certainly welcome; <a href=\"https://github.com/leanprover-community/mathlib4/pull/27021\">#27021</a> is the biggest blocker.)</p>\n</blockquote>\n<p>And now I need to learn what an \"elaborator\" is. Well I will try.</p>",
        "id": 533945053,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754992232
    },
    {
        "content": "<p>In short, an elaborator takes the Lean code you have written and fills in all the invisible information: implicit arguments, holes (<code>_</code>), typeclass inference, resolving dot notation and more. <a href=\"https://lean-lang.org/doc/reference/latest/Elaboration-and-Compilation/#--tech-term-Elaboration\">The language reference</a> has some overview.</p>",
        "id": 533945799,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754992518
    },
    {
        "content": "<p>In practical terms, the PR above adds a custom elaborator, i.e. extend's Lean's built-in elaboration with a mechanism that allows you to omit the model with corners when writing \"f is C^n\". Shorter notation, easier to read code, everybody is happy (or so).</p>",
        "id": 533946003,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754992589
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/533942942\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> If you open <a href=\"https://github.com/leanprover-community/mathlib4/pull/26221\">#26221</a>, <code>Bundle.vert</code> in <code>CovariantDerivative.lean</code> should be the mathlib-general version of what you're stating.</p>\n</blockquote>\n<p>Yes - and I made the rookie error of checking out the branch and now the whole world is being rebuilt. Clearly I should have separate mathlibs; one for each branch and not try to switch branches.</p>",
        "id": 533950028,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754994175
    },
    {
        "content": "<p>You can switch branches; I do that all the time!</p>",
        "id": 533950451,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754994334
    },
    {
        "content": "<p>Just: close all open files in VS code right now, and run <code>lake exe cache get!</code> to get you an updated cache.</p>",
        "id": 533950524,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1754994358
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get!</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">branch</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HEAD</span>\n<span class=\"n\">Using</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">origin</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">idontgetoutmuch</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span>\n<span class=\"n\">Attempting</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"mi\">7013</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"w\"> </span><span class=\"n\">cache</span>\n<span class=\"n\">Downloaded</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">4166</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">attempted</span><span class=\"w\"> </span><span class=\"mi\">4292</span><span class=\"bp\">/</span><span class=\"mi\">7013</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">61</span><span class=\"bp\">%</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 533951899,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754994901
    },
    {
        "content": "<p>How did you checkout the branch?</p>",
        "id": 533951994,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1754994944
    },
    {
        "content": "<p>I just tried with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">gh</span><span class=\"w\"> </span><span class=\"n\">pr</span><span class=\"w\"> </span><span class=\"n\">checkout</span><span class=\"w\"> </span><span class=\"mi\">26221</span>\n</code></pre></div>\n<p>and then <code>lake exe cache get</code> downloads all the files, with a message</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">branch</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MR</span><span class=\"bp\">-</span><span class=\"n\">covariant</span><span class=\"bp\">-</span><span class=\"n\">derivatives</span>\n<span class=\"n\">Using</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">grunweg</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">grunweg</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span>\n</code></pre></div>",
        "id": 533952331,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1754995090
    },
    {
        "content": "<p>I used magit b b I think (in emacs)</p>",
        "id": 533952417,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754995126
    },
    {
        "content": "<p>Do my commands work for you?</p>",
        "id": 533952492,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1754995161
    },
    {
        "content": "<p>I don't know what <code>gh</code> is (nor does my computer) :-( Maybe it is something to install?</p>",
        "id": 533952725,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754995262
    },
    {
        "content": "<p>I am brew installing it right now</p>",
        "id": 533952915,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754995344
    },
    {
        "content": "<p>Hmm it seems to not want to use my SSH key - thanks for the help but I don't understand what security implications this has so I won't proceed further (my ignorance I am sure)</p>",
        "id": 533953760,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1754995710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> I left one comment on Ehresmann connections just while I had it in my head. I will now move on to <a href=\"https://github.com/leanprover-community/mathlib4/pull/27021\">https://github.com/leanprover-community/mathlib4/pull/27021</a>. I hope my comments will prove useful.</p>",
        "id": 533984193,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1755006019
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/533952725\">said</a>:</p>\n<blockquote>\n<p>I don't know what <code>gh</code> is (nor does my computer) :-( Maybe it is something to install?</p>\n</blockquote>\n<p><a href=\"https://cli.github.com\">https://cli.github.com</a></p>",
        "id": 533984257,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755006041
    },
    {
        "content": "<p>oh it looks like you figured it out</p>",
        "id": 533984404,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755006078
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/533984404\">said</a>:</p>\n<blockquote>\n<p>oh it looks like you figured it out</p>\n</blockquote>\n<p>Thank you anyway</p>",
        "id": 533984468,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1755006099
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2326221.20Towards.20geodesics.20and.20the.20Levi-Civita.20connection/near/533944627\">said</a>:</p>\n<blockquote>\n<p>There are some sorries to be filled, which I'm slowly working towards. I'll be on holiday for a week plus epsilon, though. (The other question is getting everything reviewed. Help with that is certainly welcome; <a href=\"https://github.com/leanprover-community/mathlib4/pull/27021\">#27021</a> is the biggest blocker.)</p>\n</blockquote>\n<p>I read through that PR but I don't think there is anything useful I can say. I mean they (the elaborators) all look useful and seem to work.</p>",
        "id": 534455898,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1755169393
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26871\">#26871</a> (+179/-3) feat: finite sum, difference, scalar product of differentiable sections is differentiable<br>\nis now ready for review: this is merely copying API for C^n sections to differentiable ones.</p>",
        "id": 539641789,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1757967842
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/29686\">#29686</a> (+122) feat: <code>finsum</code> and locally finite sums of differentiable sections are differentiable<br>\nmirrors more API for C^n sections to differentiable ones</p>",
        "id": 541798090,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1758972354
    },
    {
        "content": "<p>I finally finished proving that the Mobius strip as a fibre bundle is a smooth manifold <code>#synth IsManifold ((𝓡 1).prod (𝓡 1)) ⊤ (TotalSpace (EuclideanSpace ℝ (Fin 1)) Mobius'.Fiber)</code> and now I can turn my attention to Ehresmann connections and at least my definition of a vertical subspace matches yours (although I don't understand why I had to say <code>@verticalSubSpace</code> rather than just <code>verticalSubSpace</code>).</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Bundle</span><span class=\"w\"> </span><span class=\"n\">FiberBundle</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">IsManifold</span><span class=\"w\"> </span><span class=\"n\">Manifold</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">ModelWithCorners</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E_base</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E_base</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">E_base</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModelWithCorners</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">E_base</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ChartedSpace</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"bp\">∞</span><span class=\"o\">)</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiberBundle</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span>\n\n<span class=\"c1\">-- Copied from https://github.com/leanprover-community/mathlib4/pull/26221/files#diff-5299ff7f9b0ed6c90a7e2caecbbe13bbe74307087ae1455d82c9a93bec81b28d</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">verticalSubspaceGeneral</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TangentSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"n\">𝓘</span><span class=\"o\">(</span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">LinearMap</span><span class=\"bp\">.</span><span class=\"n\">ker</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mfderiv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"n\">𝓘</span><span class=\"o\">(</span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"bp\">.</span><span class=\"n\">proj</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">MyDefinition</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiberBundle</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModelWithCorners</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsManifold</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ChartedSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)]</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">verticalSubspace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TangentSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IM</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"n\">𝓘</span><span class=\"o\">(</span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">LinearMap</span><span class=\"bp\">.</span><span class=\"n\">ker</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mfderiv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IM</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"n\">𝓘</span><span class=\"o\">(</span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"bp\">.</span><span class=\"n\">proj</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">)</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"bp\">∞</span><span class=\"o\">)</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">verticalSubspace'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">    </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TangentSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IM</span><span class=\"bp\">.</span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"n\">𝓘</span><span class=\"o\">(</span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">verticalSubspaceGeneral</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">MyDefinition</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">Verification</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiberBundle</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModelWithCorners</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsManifold</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ChartedSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"bp\">∞</span><span class=\"o\">)</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">verticalSubspace</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">verticalSubspace'</span><span class=\"w\"> </span><span class=\"n\">e</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">verticalSubspace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">verticalSubspace'</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"n\">e</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TotalSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"bp\">@</span><span class=\"n\">verticalSubspace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">  </span><span class=\"bp\">@</span><span class=\"n\">verticalSubspace'</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">IM</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Verification</span>\n</code></pre></div>",
        "id": 541878661,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1759052090
    },
    {
        "content": "<p>Since the differential geometry elaborators are now merged, local frames are now ready for review. I have split the PR in two again, the first part is<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/30338\">#30338</a> feat: local frames in a vector bundle (+284 lines)</p>",
        "id": 543794881,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759942479
    },
    {
        "content": "<p>The part for the construction of local frames is <a href=\"https://github.com/leanprover-community/mathlib4/pull/30083\">#30083</a> (+355/-6), now ready for review.</p>",
        "id": 546724412,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761237015
    },
    {
        "content": "<p>A new PR from this saga is ready for review: <a href=\"https://github.com/leanprover-community/mathlib4/pull/26743\">#26743</a> (+194/-17) proves the product rule for the Lie bracket on manifolds</p>",
        "id": 574464028,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1771407403
    }
]