[
    {
        "content": "<p>In this PR, I proved that any Galois group is profinite.<br>\n<a href=\"/user_uploads/3121/fJGjXWtxDwhPC_dGlpgW5o7q/1fb303d16958f9f032af47583b782d6.jpg\">1fb303d16958f9f032af47583b782d6.jpg</a><br>\nThe dependency grapgh is above. 4 PRs related to this one in total.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/fJGjXWtxDwhPC_dGlpgW5o7q/1fb303d16958f9f032af47583b782d6.jpg\" title=\"1fb303d16958f9f032af47583b782d6.jpg\"><img data-original-dimensions=\"1576x1080\" src=\"/user_uploads/thumbnail/3121/fJGjXWtxDwhPC_dGlpgW5o7q/1fb303d16958f9f032af47583b782d6.jpg/840x560.webp\"></a></div>",
        "id": 471899980,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1726904465
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/34be5bsGhU1XEbM-dMZ-NU_C/60dfa0436d29869bd7cec02af5dac72.jpg\">60dfa0436d29869bd7cec02af5dac72.jpg</a><br>\nDependency grapgh of all the PRs related.<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/16976\">#16976</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16977\">#16977</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16978\">#16978</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16979\">#16979</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16980\">#16980</a> and # 16991 have no dependency.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/34be5bsGhU1XEbM-dMZ-NU_C/60dfa0436d29869bd7cec02af5dac72.jpg\" title=\"60dfa0436d29869bd7cec02af5dac72.jpg\"><img data-original-dimensions=\"1590x1080\" src=\"/user_uploads/thumbnail/3121/34be5bsGhU1XEbM-dMZ-NU_C/60dfa0436d29869bd7cec02af5dac72.jpg/840x560.webp\"></a></div>",
        "id": 471900460,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1726904780
    },
    {
        "content": "<p>Asking review of PR:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/16976\">#16976</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16978\">#16978</a><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/16979\">#16979</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16991\">#16991</a><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/16992\">#16992</a><br>\nThank you.</p>",
        "id": 472035624,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1727000443
    },
    {
        "content": "<p>This seems to duplicate your other message. Please be careful not to spam!</p>",
        "id": 472116814,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727060944
    },
    {
        "content": "<p>I got some problem here :  I tried to rearrange the files for Galois extensions into a folder, PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/16978\">#16978</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16979\">#16979</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16982\">#16982</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/16993\">#16993</a> are based on it. But because of change in the file FieldTheory.Galois.lean, there are conflicts, how should I resolve it? rebase did nothing.</p>",
        "id": 472395461,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1727153095
    },
    {
        "content": "<p>Does this help? <a href=\"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line\">https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line</a></p>",
        "id": 472403090,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1727157135
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2316993.20Galois.20Group.20is.20Profinite/near/472395461\">said</a>:</p>\n<blockquote>\n<p>I got some problem here :  I tried to rearrange the files for Galois extensions into a folder, PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/16978\">#16978</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16979\">#16979</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16982\">#16982</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/16993\">#16993</a> are based on it. But because of change in the file FieldTheory.Galois.lean, there are conflicts, how should I resolve it? rebase did nothing.</p>\n</blockquote>\n<p>Resolved, I just merge <code>master</code> into it.</p>",
        "id": 472412534,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1727161182
    },
    {
        "content": "<p>I found that having this instance  default priority may be not very good: <code>IntermediateField.instSMulSubtypeMemOfAlgebra</code><br>\nIt was noticed by the reach of Maximalheartbeat in one of the theorem in this PR.<br>\nI lowered the priority in <a href=\"https://github.com/leanprover-community/mathlib4/pull/19704\">#19704</a>, can anybody have a look?</p>",
        "id": 485833325,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1733227649
    },
    {
        "content": "<p>Where is the max heartbeat problem in this PR?</p>",
        "id": 486717421,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733616886
    },
    {
        "content": "<p>All these <code>instSMulSubtypeMem</code>-type instances cause problems. For example in <a href=\"#narrow/channel/144837-PR-reviews/topic/.2314987.20Relative.20rank.20of.20intermediate.20fields/near/485734538\">this thread</a> <span class=\"user-mention\" data-user-id=\"366779\">@Jz Pan</span> was also having timeout problems, and in their case I think it's due to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">Subalgebra</span><span class=\"bp\">.</span><span class=\"n\">instSMulSubtypeMem</span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommSemiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SMul</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subalgebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"n\">SMul</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↥</span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">α</span>\n</code></pre></div>\n<p>The pattern is always the same: to find an instance of <code>SMul (↥S) α</code> where <code>S : Subtype A</code> or some generalisation e.g. Subalgebra etc, it suffices to find an instance of <code>SMul A α</code>, but the problem is that quite often such an instance doesn't exist and it takes a long time to fail. I think your proposal is a good one.</p>",
        "id": 486718184,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733617624
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2316993.20Galois.20Group.20is.20Profinite/near/486717421\">said</a>:</p>\n<blockquote>\n<p>Where is the max heartbeat problem in this PR?</p>\n</blockquote>\n<p><code>finGaloisGroupMap.map_comp</code>, due to the five level scalar tower. It is already in <code>master</code> so I don't really know if it would cause problem, but at least it can be fixed just by just laying out the <code>SMul</code>s explicitly.</p>",
        "id": 486927974,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1733731560
    },
    {
        "content": "<p>However the lower of the priority of this instance didn't fix the problem for this theorem completely, also the benchmark result isn't that satisfying (some files runed slower quite a bit) , I think this still need some investigation.</p>",
        "id": 486928948,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1733731841
    },
    {
        "content": "<p>This is the final PR for infinite Galois theory, everything else is already merged, can anybody have a look?<br>\nReason for the \"large import\" label: the file <code>FiledTheory.Galois.Profinite</code> is created in an earlier PR, however it only contain some basic definition in it at that time. In this PR, I made that file end at proving Galois group is profinite, so I still think they should be put in the same file.</p>",
        "id": 495258986,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1737545073
    },
    {
        "content": "<p>I left some comments.</p>",
        "id": 495428049,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1737610834
    }
]