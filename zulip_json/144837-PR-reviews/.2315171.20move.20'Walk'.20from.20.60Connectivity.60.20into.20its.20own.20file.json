[
    {
        "content": "<p>Any reviews are highly appreciated! I've followed <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span>'s suggestion <a href=\"https://github.com/leanprover-community/mathlib4/pull/14582#discussion_r1674784675\">here</a> on how to do this split.</p>",
        "id": 454348718,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722017036
    },
    {
        "content": "<p>It's definitely good to cut this file up, but the new file still fails the long-file linter! I wonder if there's another break we could make here, maybe <code>/-! ### Trails, paths, circuits, cycles -/</code> is a reasonable point for that</p>",
        "id": 454476769,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1722090546
    },
    {
        "content": "<p>Looking at <code>Mathlib/Combinatorics/SimpleGraph/Connectivity.lean</code> on master, <code>linter.minImports</code> shows that these declarations are import-bumps:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"c1\">-- sufficient until</span>\n<span class=\"c1\">-- `SimpleGraph.Walk.darts` increases to</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">Dart</span>\n<span class=\"c1\">-- sufficient until</span>\n<span class=\"c1\">-- `SimpleGraph.Walk.map` increases to</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">Maps</span>\n<span class=\"c1\">-- sufficient until</span>\n<span class=\"c1\">-- `SimpleGraph.ConnectedComponent.mem_coe_supp_of_adj` increases to</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">Subgraph</span>\n</code></pre></div>\n<p>Btw, the last import is used <em>only</em> by <code>SimpleGraph.ConnectedComponent.mem_coe_supp_of_adj</code>: the rest of the file builds with <code>import Mathlib.Combinatorics.SimpleGraph.Maps</code>.</p>",
        "id": 454479022,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722091399
    },
    {
        "content": "<p>From scrolling around, it looks like <code>.Walk.darts</code> is pretty early in the file (l453), and <code>.Walk.map</code> is pretty late (l1370), leaving the chunk in the middle still around 800 lines, so maybe cutting along either of these could work but you'd still be left with a pretty long file</p>",
        "id": 454479617,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1722091632
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2315171.20move.20'Walk'.20from.20.60Connectivity.60.20into.20its.20own.20file/near/454479022\">said</a>:</p>\n<blockquote>\n<p>Btw, the last import is used <em>only</em> by <code>SimpleGraph.ConnectedComponent.mem_coe_supp_of_adj</code>: the rest of the file builds with <code>import Mathlib.Combinatorics.SimpleGraph.Maps</code>.</p>\n</blockquote>\n<p>I wonder if its okay to move this theorem elsewhere. Maybe to <code>SimpleGraph.Matching</code>?</p>",
        "id": 454479921,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722091753
    },
    {
        "content": "<p>Does it make sense to have a parallel stream</p>\n<p><code>Mathlib.Combinatorics.SimpleGraph.Xyz</code> <code>Mathlib.Combinatorics.SimpleGraph.ConnectivityXyz</code>?</p>",
        "id": 454481417,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722092592
    },
    {
        "content": "<p>I'd also like to hear <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span>'s thoughts here</p>",
        "id": 454482994,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1722093238
    },
    {
        "content": "<p><code>IsTrail</code> depends on edges, which depend on darts, so moving darts out of the file is not simple.</p>",
        "id": 454523877,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722111364
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2315171.20move.20'Walk'.20from.20.60Connectivity.60.20into.20its.20own.20file/near/454476769\">said</a>:</p>\n<blockquote>\n<p>It's definitely good to cut this file up, but the new file still fails the long-file linter! I wonder if there's another break we could make here, maybe <code>/-! ### Trails, paths, circuits, cycles -/</code> is a reasonable point for that</p>\n</blockquote>\n<p>Rida, what do you think of breaking the file here?</p>",
        "id": 454620314,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1722178228
    },
    {
        "content": "<p>I'll give it a try!</p>",
        "id": 454620406,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722178301
    },
    {
        "content": "<p>Done! I'm note very sure about the way I did this and would love to hear your opinions.</p>",
        "id": 454652208,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722193684
    },
    {
        "content": "<p>I'm having difficulties resolving the merge conflicts, I will try again tomorrow,  any guidance to do so is appreciated, as I find git confusing &gt;.&lt;</p>",
        "id": 454962636,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722291801
    },
    {
        "content": "<p>Done.</p>",
        "id": 455009948,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1722310078
    },
    {
        "content": "<p>Thanks for your work Rida, and for review etc. by everyone else in this thread. I went ahead and merged, since it seems like a reasonable reorganization. I'm sure there will be further reorganizations down the line, but now the files are more manageable sizes.</p>",
        "id": 455030698,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1722316709
    },
    {
        "content": "<p>Thank you!</p>",
        "id": 455032201,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1722317472
    },
    {
        "content": "<p>I agree. The file structure looks nice now (but the folder structure might need some work)</p>",
        "id": 455053926,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1722325049
    }
]