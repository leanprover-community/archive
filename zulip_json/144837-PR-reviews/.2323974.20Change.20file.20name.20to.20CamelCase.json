[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23974\">#23974</a> changes a file name from lowerCamelCase to UpperCamelCase. This mostly matches the mathlib naming conventions (e.g. <code>Mathlib.Algebra.Polynomial.Module.AEval</code> is about <code>aeval</code>). Is this a universal convention; should this be codified?</p>",
        "id": 512533115,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744804091
    },
    {
        "content": "<p>If so, should the four other files (<code>Mathlib.Analysis.CStarAlgebra.lpSpace</code>, <code>Mathlib.Analysis.InnerProductSpace.l2Space</code>, <code>Mathlib.Analysis.Normed.Lp.lpSpace</code> and <code>Mathlib.LinearAlgebra.RootSystem.Finite.g2</code>) be renamed to match?</p>",
        "id": 512533346,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744804172
    },
    {
        "content": "<p>ooh thorny question!</p>",
        "id": 512569346,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744814065
    },
    {
        "content": "<p>I'm in favour of the PR, and changing the ones Michael mentions above.</p>",
        "id": 512700461,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744843401
    },
    {
        "content": "<p>Even though an <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"normal\">ℓ</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\ell_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9805em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord\">ℓ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> space is different from an <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>L</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">L_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9694em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> space?</p>",
        "id": 512703734,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744845118
    },
    {
        "content": "<p>And the Lie algebra <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"fraktur\">g</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">\\mathfrak{g}_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;vertical-align:-0.1891em;\"></span><span class=\"mord\"><span class=\"mord mathfrak\">g</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is not the same as its Lie group <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>G</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">G_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>?</p>",
        "id": 512703815,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744845147
    },
    {
        "content": "<p>Well, the root system is equally about the algebra or about the group... I'm not too concerned about the lp-space decision, that one certainly seems the strongest case for an exception to standard casing rules.</p>",
        "id": 512739476,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1744867287
    },
    {
        "content": "<p>I should have mentioned this in the PR description: the file containing <code>List.ofFn</code> is called <code>Init.Data.List.OfFn</code>.</p>",
        "id": 512793879,
        "sender_full_name": "Fabrizio Barroero",
        "timestamp": 1744886150
    },
    {
        "content": "<p>I think lp deserves an exception.</p>",
        "id": 512929769,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1744930629
    },
    {
        "content": "<p>Summarising so far, it seems that</p>\n<ul>\n<li>lp may deserve an exception</li>\n<li>the other four files should be renamed, and the PR extended to cover those as well.</li>\n</ul>\n<p>If there are no further comments by <time datetime=\"2025-04-22T19:00:00Z\">2025-04-22T21:00:00+02:00</time> , I'll approve the PR. (Perhaps, <span class=\"user-mention\" data-user-id=\"626233\">@Fabrizio Barroero</span>, would you like to rename the other three files also? And add a module deprecation --- these are very new; <a href=\"https://github.com/leanprover-community/mathlib4/pull/24024\">#24024</a> is an example.)</p>",
        "id": 513088056,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745005350
    },
    {
        "content": "<p>Let me add another question for this thread: should we make this a mathlib policy?</p>\n<blockquote>\n<p>File names should generally be UpperCamelCase. Exceptions (e.g., if the file describes objects with lower-case names in the literature) can be discussed on an individual bases).</p>\n</blockquote>\n<p>And how would people feel about a linter enforcing this (which could e.g. read Mathlib.lean)?</p>",
        "id": 513088593,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745005617
    },
    {
        "content": "<p>This is slightly off-topic, but yesterday, I realized that I had a file name (inadvertently) starting with a lowercase letter, that was OK for the local lean compiler, but CI did not work it out.</p>",
        "id": 513154477,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745056066
    },
    {
        "content": "<p>To clarify: the file was named in lower-case on your computer, but the <code>import</code> statement stated the file in upper-case? (If so, that could be an instance of \"you're working on windows, which is case-insensitive --- but CI runs on linux which is case-sensitive\".)</p>",
        "id": 513158938,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745060075
    },
    {
        "content": "<p>I run on MacOS, which, I believe print cases, but doesn't care. The import in mathlib.lean was ill cased.</p>",
        "id": 513168689,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1745068289
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2323974.20Change.20file.20name.20to.20CamelCase/near/513088056\">said</a>:</p>\n<blockquote>\n<p>If there are no further comments by <time datetime=\"2025-04-22T19:00:00Z\">2025-04-22T21:00:00+02:00</time> , I'll approve the PR. (Perhaps, <span class=\"user-mention silent\" data-user-id=\"626233\">Fabrizio Barroero</span>, would you like to rename the other three files also? And add a module deprecation --- these are very new; <a href=\"https://github.com/leanprover-community/mathlib4/pull/24024\">#24024</a> is an example.)</p>\n</blockquote>\n<p>I am not sure I understood correctly what you were asking me to do here. I tried adding a module deprecation under the old file name but it is failing CI (error \"Found files or folders with same name but different case.\"). Moreover, it was impossible to do it via VsCode and I had to do it in the browser.</p>\n<p>Also,  in Mathlib there are now 5 files in lowerCamelCase and two of them are called <code>lpSpace</code> and one <code>l2Space</code>. I am not sure what you meant by \"the other three files\".</p>",
        "id": 513296413,
        "sender_full_name": "Fabrizio Barroero",
        "timestamp": 1745174287
    },
    {
        "content": "<p>Having both <code>g2</code> and <code>G2</code> in the repository will confuse Windows clients, so we shouldn've have this.</p>",
        "id": 513297811,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745175597
    },
    {
        "content": "<p>There used to be a CI step that enforced that names of files were unique modulo upper/lower case changes, but maybe it got lost at some point?</p>",
        "id": 513559466,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1745313665
    },
    {
        "content": "<p>I think I removed it: I'll check within the next hour</p>",
        "id": 513570580,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745316894
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15027\">#15027</a> removed the step from <a href=\"http://lint-style.sh\">lint-style.sh</a>, but apparently another action was checking for the same</p>",
        "id": 513571446,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745317174
    },
    {
        "content": "<p>That step still exists: the case-checker action is supposed to error if two files which differ only in case are present</p>",
        "id": 513571821,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745317300
    },
    {
        "content": "<p>It's the first step of the \"lint style\" job</p>",
        "id": 513572053,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1745317354
    }
]