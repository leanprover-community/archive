[
    {
        "content": "<p>This PR adds definitions and basic facts about exponent of (purely inseparable) field extensions.</p>\n<p>It follows the <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Exponent.20of.20purely.20inseparable.20field.20extension\">discussion in other topic</a>.</p>\n<p>The definition of the exponent for an element now is meaningful only when <code>ringExpChar &gt; 1</code> (so it is prime). In all the application I encountered that is enough but maybe we need to extend the definition to <code>ringExpChar = 1</code> by setting the exponent of the element to <code>0</code>. The question is how to do it in the cleanest possible way? Naive option is to just introduce <code>if</code> but is it the best option?</p>\n<p>More general question: when working with exponential characteristic, is there any guideline as when to use instance parameter <code>[ExpChar K p]</code> and have <code>p</code>, and when to use <code>ringExpChar K</code>? It seems that with [ExpChar K p] the API is a bit more complicated (extra explicit parameter <code>p</code>) but OTOH, one can use <code>rcases ‹ExpChar K p› with _ | ⟨hp⟩</code> and there is no need to constantly use <code>ringExpChar.eq K p</code>.</p>",
        "id": 497445331,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1738591800
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"759408\">Michał Staromiejski</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2321372.20Exponent.20for.20.28purely.20inseparable.29.20field.20extensions/near/497445331\">said</a>:</p>\n<blockquote>\n<p>The definition of the exponent for an element now is meaningful only when <code>ringExpChar &gt; 1</code> (so it is prime). In all the application I encountered that is enough but maybe we need to extend the definition to <code>ringExpChar = 1</code> by setting the exponent of the element to <code>0</code>. The question is how to do it in the cleanest possible way? Naive option is to just introduce <code>if</code> but is it the best option?</p>\n</blockquote>\n<p>In your definition of <code>elemEncode</code>, if you use <code>Nat.find</code> instead of <code>Classical.choose</code>, you can guarantee that it's equal to zero for characteristic zero case.</p>",
        "id": 497705615,
        "sender_full_name": "Jz Pan",
        "timestamp": 1738685983
    },
    {
        "content": "<p>Can I use <code>Nat.find</code> on pairs?  What I want is for each <code>a : L</code> to get <code>e : ℕ</code> and <code>y : K</code> such that <code>a ^ p ^ e = y</code>.<br>\nI will experiment.</p>\n<p>In the meantime I've pushed changes addressing the comments.</p>",
        "id": 497858878,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1738751484
    },
    {
        "content": "<p><code>Nat.find</code> on <code>∃ (e : ℕ) (y : K), a ^ p ^ e = y</code> will do</p>",
        "id": 497859225,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1738751578
    },
    {
        "content": "<p>I used <code>Nat.find</code> together with <code>Classical.choose</code> and <code>Nat.find_spec</code> to retrieve both <code>e</code> and <code>y</code> and proved the needed facts. Thanks for hints!</p>",
        "id": 497920998,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1738769530
    },
    {
        "content": "<p>The PR is hopefully in its final state after couple of rounds with addressing review comments (thanks <span class=\"user-mention\" data-user-id=\"366779\">@Jz Pan</span> !). Someone else's review is highly welcome.</p>",
        "id": 498288670,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1738918460
    }
]