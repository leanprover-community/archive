[
    {
        "content": "<p>Upstreamed from the <a href=\"https://github.com/teorth/equational_theories\">EquationalTheories</a> project.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22639\">#22639</a> defines in the new file <code>Mathlib/GroupTheory/FreeGroup/ReducedWords.lean</code> some extra lemmas for free groups, in particular about (cyclically) reduced words.</p>\n<p>The theory of cyclically reduced words is then used to show that the power maps are injective on free groups.</p>\n<p>Co-authored-by: <span class=\"user-mention\" data-user-id=\"302984\">@Amir Livne Bar-on</span></p>",
        "id": 507934146,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1742882387
    },
    {
        "content": "<p>Would it be helpful for the review process to split this PR into smaller PRs? I could do something like </p>\n<ol>\n<li>Added lemmas in <code>FreeGroup/Basic.lean</code> and <code>FreeGroup/Reduce.lean</code></li>\n<li>The <code>FreeGroup/ReducedWords.lean</code> part about reduced words</li>\n<li>the part about cyclically reduced words</li>\n<li>Application: power maps are injective</li>\n</ol>\n<p>Any thoughts?</p>",
        "id": 508462039,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743066547
    },
    {
        "content": "<p>Yes, shorter PRs have a far bigger chance of being merged in finite time. Please also encourage the equational theories people to leave reviews -- some people seem to be under the misapprehension that only maintainers can leave reviews.</p>",
        "id": 508465023,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743067387
    },
    {
        "content": "<p>OK, I have split off already the following:</p>",
        "id": 508481815,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743072561
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23366\">#23366</a>: lemmas in <code>FreeGroup/Basic.lean</code></p>",
        "id": 508481913,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743072592
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23367\">#23367</a>: lemmas in <code>FreeGroup/Reduce.lean</code></p>",
        "id": 508482030,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743072619
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23368\">#23368</a>: basic part of <code>FreeGroup/ReducedWords.lean</code> about reduced words</p>",
        "id": 508482162,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743072658
    },
    {
        "content": "<p>So far they are all independent of each other</p>",
        "id": 508482410,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743072728
    },
    {
        "content": "<p>On a more fundamental level, I would also be interested to hear <span class=\"user-mention\" data-user-id=\"130377\">@David Wärn</span>'s thoughts on the relation with <code>GroupTheory/CoprodI</code>, where free products of monoids are constructed. I think there the notion of \"reduced words\" is already defined at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Monoid.CoprodI.Word#doc\">docs#Monoid.CoprodI.Word</a>. Probably one can generalize the results of the overall PR to free products of groups:</p>\n<ol start=\"0\">\n<li>There is a notion of cyclically reduced words in free products of groups, every element of the free product is conjugated to a cyclically reduced word.</li>\n<li>If an element of a free product of groups has finite order, it must be conjugated to an element coming from a single factor.</li>\n<li>If <code>x^n = y^n</code>, then <code>x = y</code> or there is <code>c</code>such that <code>c*x*c^(-1)</code> and <code>c*y*c^(-1)</code>live in the same factor. (Not 100% sure about this statement.) In particular, if taking n-th powers is injective on each factor, it is also on the free product.</li>\n</ol>\n<p>Would it make sense to do it in this generality instead or is it also convenient to have this more explicit version for free groups first?</p>",
        "id": 508505676,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1743079446
    },
    {
        "content": "<p>I don't have much to say about this except that I like the general statements better. I'm also not exactly sure how to state 2., but I guess you will have to modify it somehow since it could be that <code>x</code> and <code>y</code> are elements of finite order from different factors</p>",
        "id": 508725765,
        "sender_full_name": "David Wärn",
        "timestamp": 1743159782
    },
    {
        "content": "<p>Thanks for <span class=\"user-mention\" data-user-id=\"761203\">@Vlad Tsyrklevich</span> for the reviews! I hope that <a href=\"https://github.com/leanprover-community/mathlib4/pull/23367\">#23367</a> is now polished enough</p>",
        "id": 513563729,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1745314892
    },
    {
        "content": "<p>Left a few final comments, otherwise LGTM. Thanks for doing this, I'm working on defining Cayley graphs at the moment and I'm not sure yet but I think your <code>IsReduced</code> predicate may end up being useful for me.</p>",
        "id": 513923140,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1745427905
    },
    {
        "content": "<p>Thanks again for your comments! I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/23368\">#23368</a> is also now nicer with the proper dot notation lemmas</p>",
        "id": 514062939,
        "sender_full_name": "Bernhard Reinke",
        "timestamp": 1745486437
    }
]