[
    {
        "content": "<p>This PR (<a href=\"https://github.com/leanprover-community/mathlib4/pull/30244\">#30244</a>) is the result of me asking Codex to hunt for generalization opportunities in Mathlib.</p>\n<p>First of all, I'd like reviewers to consider whether this kind of PR is helpful. The generalizations aren't motivated by a particular purpose, and are proposed primarily because they're possible.</p>\n<p><del>Second, the generalizations resulted in the simpNF linter triggering, and I'm unsure whether to nolint the theorems in question or to do something different. I'd like advice if anyone finds the PR valuable enough.</del></p>\n<p>EDIT: Turns out the simpNF issues were due to Codex adding unsolicited simp tags.</p>",
        "id": 543193509,
        "sender_full_name": "Harald Husum",
        "timestamp": 1759699070
    },
    {
        "content": "<p>whether generalisation is useful will depend on the person you ask, i personally don't mind it</p>",
        "id": 543193953,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759699661
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767479\">Harald Husum</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2330244.20misc.2E.20generalizations.20by.20LLM/near/543193509\">said</a>:</p>\n<blockquote>\n<p>Second, the generalizations resulted in the simpNF linter triggering</p>\n</blockquote>\n<p>the generalisation didn't, you adding more <code>@[simp]</code> tags did</p>",
        "id": 543194102,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759699834
    },
    {
        "content": "<p>do you have a reason for adding more simp tags?</p>",
        "id": 543194116,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759699860
    },
    {
        "content": "<p>No. I guess this just showcases the dangers of relying to heavily on LLMs. I assumed Codex just moved the theorems verbatim to the new location, but it also snuck in the <code>@[simp]</code> tags. Sorry that I didn't check more carefully.</p>",
        "id": 543195643,
        "sender_full_name": "Harald Husum",
        "timestamp": 1759701671
    },
    {
        "content": "<p>I'll do a proper manual review and make sure we're left with only moving results around and no other sneaky business.</p>",
        "id": 543195713,
        "sender_full_name": "Harald Husum",
        "timestamp": 1759701746
    },
    {
        "content": "<p>Made sure there isn't any more unsolicited and hard-to-spot changes in the moved theorems now, so the PR should be ready for proper review. Thanks <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span>!</p>",
        "id": 543198461,
        "sender_full_name": "Harald Husum",
        "timestamp": 1759705130
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767479\">Harald Husum</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2330244.20misc.2E.20generalizations.20by.20LLM/near/543198461\">said</a>:</p>\n<blockquote>\n<p>unsolicited and hard-to-spot changes</p>\n</blockquote>\n<p><a href=\"/user_uploads/3121/dQTrVol8W5Ywn6oCL6ms3ceC/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/dQTrVol8W5Ywn6oCL6ms3ceC/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1498x265\" src=\"/user_uploads/thumbnail/3121/dQTrVol8W5Ywn6oCL6ms3ceC/image.png/840x560.webp\"></a></div>",
        "id": 543198584,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759705255
    },
    {
        "content": "<p>(it is a good change tho)</p>",
        "id": 543198588,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759705262
    },
    {
        "content": "<p>Introducing the <code>fun y _ =&gt;</code> is undesirable in my book.</p>",
        "id": 543214702,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759723178
    },
    {
        "content": "<p>Yeah, all of those are bad if left is old and right is new</p>",
        "id": 543222172,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1759729569
    },
    {
        "content": "<p>It is the other way round. Left is new.</p>",
        "id": 543225254,
        "sender_full_name": "Christian Merten",
        "timestamp": 1759731449
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/144837-PR-reviews/topic/.2330244.20misc.2E.20generalizations.20by.20LLM/near/543198588\">said</a>:</p>\n<blockquote>\n<p>(it is a good change tho)</p>\n</blockquote>\n<p>Haha, sorry for the confusion. Those changes <a href=\"https://github.com/leanprover-community/mathlib4/pull/30244/commits/11527541b31b3fc9e3e1adf60c1f6a8e69bc2292\">were a suggestion by themathqueen</a> that I added after I reverted all the sneaky LLM changes. Still hard-to-spot, but not unsolicited.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30244/commits/4c8e164bcea87dad22a62717d6344dc13d4b711b\">These were the LLM changes I reverted</a>, in case anyone is curious about what Codex did beyond moving the statements.</p>",
        "id": 543226621,
        "sender_full_name": "Harald Husum",
        "timestamp": 1759732256
    }
]