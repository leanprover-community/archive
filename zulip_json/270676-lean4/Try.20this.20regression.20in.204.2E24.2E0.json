[
    {
        "content": "<p>In 4.23.0, I could use</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">show_term</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n</code></pre></div>\n<p>and I would get two things in the infoview:<br>\n<a href=\"/user_uploads/3121/bfsDD4KddNF2gK9LH60vwN0K/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/bfsDD4KddNF2gK9LH60vwN0K/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"523x342\" src=\"/user_uploads/thumbnail/3121/bfsDD4KddNF2gK9LH60vwN0K/image.png/840x560.webp\"></a></div><ul>\n<li>A \"Try this\" suggestion which I could click to insert the term into the editor</li>\n<li>A regular message that contained an inspectable version of the <code>1 + 2</code> term, which allowed me to investigate which instance is being used in the middle of a larger term</li>\n</ul>\n<p>In the latest Lean, this second item is gone, and it seems impossible to inspect the term of the \"try this\" suggestion because clicking it just accepts it.</p>",
        "id": 540690498,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758496240
    },
    {
        "content": "<p>For context: this change was requested by people teaching with Lean because the duplicated information sometimes confuses students (<a href=\"https://github.com/leanprover/lean4/pull/9966\">lean4#9966</a>), but I didn't notice that we are losing interactivity by doing this.</p>\n<p>My proposal to fix this would be to move the link to apply the suggestion to the <code>Try this:</code>, change the (clickable) message to <code>Try this (click to apply):</code> and make the term after that interactive again. For <code>Try these:</code>, we'd have several terms with a clickable <code>(click to apply)</code> before them.</p>",
        "id": 540757070,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1758535051
    },
    {
        "content": "<p>I definitely like the removed duplication, and making the message in the <code>Suggestions</code> tab clickable seems perfect.</p>",
        "id": 540889829,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1758572801
    },
    {
        "content": "<p>I also really like the deduplication and making the <code>Try this</code> clickable and the term hoverable seems great!</p>",
        "id": 540890378,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758573035
    },
    {
        "content": "<p>Perhaps instead of (click to apply), which is a bit verbose, an icon of some kind could work too, with that as hover text?</p>",
        "id": 540891045,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758573310
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/270676-lean4/topic/Try.20this.20regression.20in.204.2E24.2E0/near/540891045\">said</a>:</p>\n<blockquote>\n<p>Perhaps instead of (click to apply), which is a bit verbose, an icon of some kind could work too, with that as hover text?</p>\n</blockquote>\n<p>I'd definitely prefer an icon as well, but I can't think of an obvious one that makes it absolutely clear to everyone that this is the icon that should be clicked. The best one I can come up with is a checkmark, and I don't think that will be clear enough.</p>",
        "id": 540891334,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1758573442
    },
    {
        "content": "<p>What if instead of <code>Try this</code> it were <code>Click this</code>?</p>",
        "id": 540892279,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758573871
    },
    {
        "content": "<p>Perhaps a broader thing to think through but I've thought it'd be nice if there were a \"Show UX Hints\" server setting (default on) which explains how to interact with various things which are \"non-obvious\", shift-click being the most notorious .But then if you turn it off then stuff should get \"less noisy\", e.g. not show even \"Try this\", just have it be link colored.</p>",
        "id": 540892516,
        "sender_full_name": "Julian Berman",
        "timestamp": 1758573978
    },
    {
        "content": "<p>Obviously that'd let the default be noisier since it'd be targeted to newer users.</p>",
        "id": 540892561,
        "sender_full_name": "Julian Berman",
        "timestamp": 1758574010
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/channel/270676-lean4/topic/Try.20this.20regression.20in.204.2E24.2E0/near/540892279\">said</a>:</p>\n<blockquote>\n<p>What if instead of <code>Try this</code> it were <code>Click this</code>?</p>\n</blockquote>\n<p>The \"Try this\" case isn't really the tricky one here since I think using link coloring for it would probably already suffice. The various cases in \"Try these\" are the tricky part.</p>",
        "id": 540892895,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1758574189
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/270676-lean4/topic/Try.20this.20regression.20in.204.2E24.2E0/near/540892516\">said</a>:</p>\n<blockquote>\n<p>Perhaps a broader thing to think through but I've thought it'd be nice if there were a \"Show UX Hints\" server setting (default on) which explains how to interact with various things which are \"non-obvious\", shift-click being the most notorious .But then if you turn it off then stuff should get \"less noisy\", e.g. not show even \"Try this\", just have it be link colored.</p>\n</blockquote>\n<p>FWIW, in the InfoView, we now provide context menu entries for most InfoView actions and options to make things more discoverable.</p>",
        "id": 540893086,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1758574279
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/10524\">lean4#10524</a></p>\n<p>I ended up using an <code>[apply]</code> prefix for the link. I tried the checkmark icon idea above, but it also suffers from the fact that both the <a href=\"https://microsoft.github.io/vscode-codicons/dist/codicon.html\">codicon</a> checkmark icon and the checkmark emoji usually don't play nice with monospace fonts, so when a long suggestion is broken up by the pretty-printer, it won't be aligned with the line above. I hope that <code>[apply]</code> will suffice as a compromise between brevity and clarity.</p>",
        "id": 541050546,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1758642979
    }
]