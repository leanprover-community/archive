[
    {
        "content": "<p>RFC: <a href=\"https://github.com/leanprover/lean4/pull/7099\">lean4#7099</a></p>\n<p>The short version is that it would be nice to make the algorithm for parent projection names be more deterministic. A way to do that is to have it be that for a parent <code>S ..</code>, the projection by default is <code>toS</code>, and otherwise you can supply a name with the syntax</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">toTheS</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span>\n</code></pre></div>\n<p>However, there's a wrinkle, which is that this is ambiguous with the resultant type syntax</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>I'd like to change this syntax to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">P</span>\n</code></pre></div>\n<p>This is a breaking change, but it's more natural. The parents to a structure are not part of the type constructor. They're more akin to fields. The elaboration order for <code>structure</code> goes binders, resultant type, parents, fields.</p>",
        "id": 499989993,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739693077
    },
    {
        "content": "<p>I'm able to make new syntax that still parses the old syntax and gives appropriate warnings/errors with how to update.</p>\n<p>It's not great having a breaking change like this, but I'm hoping we can agree that the change would be net positive.</p>",
        "id": 499990146,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739693247
    }
]