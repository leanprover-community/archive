[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">Class_mem_Class</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Membership</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">Class_mem_Class</span><span class=\"bp\">⟩</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"n\">W</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">W</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">Σ'</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">X</span>\n<span class=\"kn\">instance</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Membership</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨λ</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">λ</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"bp\">⟩</span>\n<span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">Extensionality</span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">)(</span><span class=\"n\">Y</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"n\">z</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Class</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"bp\">∈</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"bp\">∈</span><span class=\"n\">Y</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>So, I haven't touched Lean in about a year due to life circumstances, and have come to seem my beloved Lean 3 is deprecated.</p>\n<p>Jokes aside, however, I keep seeming to run into errors similar to the one above, which results in an error that it \"failed to synthesize Membership Class Class\"... while there's clear an instance on the third line. Am I missing something here? IT's very possible, my Lean is rusty.</p>",
        "id": 565722481,
        "sender_full_name": "Adalynn",
        "timestamp": 1767043656
    },
    {
        "content": "<p>Because it finds the <code>Membership Set Class</code> instance and then stops searching</p>",
        "id": 565723080,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767044236
    },
    {
        "content": "<p>see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=outParam#doc\">docs#outParam</a></p>",
        "id": 565723127,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767044299
    },
    {
        "content": "<p>basically, a type implementing <code>Membership</code> can only hold one kind of thing \"inside\"</p>",
        "id": 565723360,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1767044538
    },
    {
        "content": "<p>Ah crap, THAT'S probably why I remember doing some extremely funky things with notation and overrides I think. Thank you!</p>",
        "id": 565723965,
        "sender_full_name": "Adalynn",
        "timestamp": 1767045155
    }
]