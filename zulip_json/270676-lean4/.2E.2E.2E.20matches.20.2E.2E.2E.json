[
    {
        "content": "<p>Just a PSA, because I didn't know this existed: You can write <code>... matches ...</code> to do pattern matching! Here are very constructed examples:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">getElseZero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">n?</span><span class=\"w\"> </span><span class=\"n\">matches</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">    </span><span class=\"n\">n?</span><span class=\"bp\">.</span><span class=\"n\">get!</span>\n<span class=\"w\">  </span><span class=\"k\">else</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">isSome</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">n?</span><span class=\"w\"> </span><span class=\"n\">matches</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>\n<p><em><a href=\"https://github.com/leanprover/lean4/blob/37be918c50557523d3542bb387dda6de6a8576eb/src/Lean/Meta/Tactic/Grind/EMatchTheorem.lean#L678\">(Here's a real-world example)</a></em></p>\n<p>No need for <code>.is{ctor-name}</code> functions <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 537461250,
        "sender_full_name": "Marcus Rossel",
        "timestamp": 1756901314
    },
    {
        "content": "<p>I think this has been here (and used a lot) ever since Lean 4 was pre-released.</p>",
        "id": 537479877,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1756907101
    },
    {
        "content": "<p>But maybe it’s somehow missing from the manual, I don’t know. It’s always good to remind people that all those cool QOL stuff exist.</p>",
        "id": 537480027,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1756907149
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/270676-lean4/topic/.2E.2E.2E.20matches.20.2E.2E.2E/near/537480027\">said</a>:</p>\n<blockquote>\n<p>But maybe it’s somehow missing from the manual, I don’t know.</p>\n</blockquote>\n<p>Seems to be there :) <a href=\"https://lean-lang.org/doc/reference/latest/Terms/Pattern-Matching/#Lean____FLQQ_term_Matches_____FLQQ_\">https://lean-lang.org/doc/reference/latest/Terms/Pattern-Matching/#Lean____FLQQ_term_Matches_____FLQQ_</a></p>",
        "id": 537484604,
        "sender_full_name": "Marcus Rossel",
        "timestamp": 1756908458
    }
]