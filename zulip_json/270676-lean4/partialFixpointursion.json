[
    {
        "content": "<p>I just found this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">hello</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hello</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"n\">termination_by</span><span class=\"w\"> </span><span class=\"n\">partialFixpointursion</span>\n</code></pre></div>\n<p>which seems to be treated as a special case (try changing <code>partialFixpointursion</code> to something else).<br>\nThis seems to be some kind of leftover from testing perhaps. I love myself some \"partialFixpointursion\" lol</p>",
        "id": 505220221,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1741804987
    },
    {
        "content": "<p>the culprit is <a href=\"https://github.com/leanprover/lean4/blob/c3f61ba3a253276ab7d70730b54c4a1f3f78e921/src/Lean/Elab/PreDefinition/TerminationHint.lean#L130\">here</a></p>",
        "id": 505225543,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1741806441
    },
    {
        "content": "<p>cc: <span class=\"user-mention\" data-user-id=\"470149\">@Joachim Breitner</span></p>",
        "id": 505225669,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1741806481
    },
    {
        "content": "<p>Yeah I honestly only found this because of looking in the source code</p>",
        "id": 505230724,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1741807885
    },
    {
        "content": "<p><span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 505374144,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741860105
    },
    {
        "content": "<p>What's the emoji for hiding in a cave?</p>",
        "id": 505374192,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741860117
    },
    {
        "content": "<p>PR welcome :-D</p>",
        "id": 505374314,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741860141
    },
    {
        "content": "<p>(I wonder if I can blame the horrible interaction of <code>u</code> and <code>Ctrl-Z</code> when using VSCode with vim bindings.)</p>",
        "id": 505374602,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741860216
    },
    {
        "content": "<p>This was the main reason why I gave up on vim plugins in VSCode during the dark ages before lean.nvim. Of course now the issue is completely solved by lean.nvim.</p>",
        "id": 505375584,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1741860458
    },
    {
        "content": "<p>And donâ€™t forget to also use something like <a href=\"https://github.com/debugloop/telescope-undo.nvim\">https://github.com/debugloop/telescope-undo.nvim</a></p>",
        "id": 505376065,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1741860591
    },
    {
        "content": "<p>What's worse:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">hello</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hello</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"n\">termination_by</span><span class=\"w\"> </span><span class=\"n\">partialFixpointursion</span>\n</code></pre></div>",
        "id": 505460526,
        "sender_full_name": "Jz Pan",
        "timestamp": 1741881139
    },
    {
        "content": "<p>Why is this worse? You see the same behavior when you put something else there.</p>",
        "id": 505461117,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741881280
    },
    {
        "content": "<p>Oh sorry. I was thinking that it will get compiled... Seems that it reports the same error with OP's test code.</p>",
        "id": 505461363,
        "sender_full_name": "Jz Pan",
        "timestamp": 1741881338
    },
    {
        "content": "<p>I was thinking that it was the cheat code to bypass <code>termination_by</code> check</p>",
        "id": 505461709,
        "sender_full_name": "Jz Pan",
        "timestamp": 1741881413
    },
    {
        "content": "<p>it is a cheat code which takes you straight to the \"you lose\" screen</p>",
        "id": 505461828,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1741881440
    },
    {
        "content": "<p>A Bit Like <br>\n<a href=\"https://pbs.twimg.com/media/EWsJLGWXsAIhb0h?format=jpg&amp;name=4096x4096\">https://pbs.twimg.com/media/EWsJLGWXsAIhb0h?format=jpg&amp;name=4096x4096</a></p>",
        "id": 505534973,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741903617
    }
]