[
    {
        "content": "<p>For some reason I'm having some trouble installing Lean4 on a new Ubuntu machine (22.04). </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">raw</span><span class=\"bp\">.</span><span class=\"n\">githubusercontent</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">master</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init</span><span class=\"bp\">.</span><span class=\"n\">sh</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">sSf</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">sh</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"c1\">-- -y</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">installer</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">stable'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">uninstalling</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">paperspace</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">stable'</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">obsolete</span><span class=\"w\"> </span><span class=\"n\">format</span>\n<span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"n\">install</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">syncing</span><span class=\"w\"> </span><span class=\"n\">channel</span><span class=\"w\"> </span><span class=\"n\">updates</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">stable'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">latest</span><span class=\"w\"> </span><span class=\"n\">update</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">stable</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">15</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">binary</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">provided</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">linux'</span>\n</code></pre></div>\n<p>I don't know why it says it can't find the binary package for <code>linux</code>. I tried downloading the tarball directly, but then elan yells at me more. I'm kinda lost on what to do next. How can I fix this? Thanks!</p>",
        "id": 496867737,
        "sender_full_name": "Hanting Zhang",
        "timestamp": 1738270889
    },
    {
        "content": "<p>Works here</p>",
        "id": 496868758,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1738271290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"355764\">@Hanting Zhang</span> What does <code>which elan</code>, <code>elan --version</code> say?</p>",
        "id": 496870263,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1738271885
    },
    {
        "content": "<p>Huh, I ran <code>sudo apt upgrade</code> and now everything works again. Not sure why, but sorry for the noise!</p>",
        "id": 496870728,
        "sender_full_name": "Hanting Zhang",
        "timestamp": 1738272070
    },
    {
        "content": "<p>Do you somehow have multiple versions of elan installed? You should still fix that</p>",
        "id": 496870820,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1738272112
    },
    {
        "content": "<p>No, I don't think so? It looks fine:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"mf\">4.0</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">bb75b50d2</span><span class=\"w\"> </span><span class=\"mi\">2025</span><span class=\"bp\">-</span><span class=\"mi\">01</span><span class=\"bp\">-</span><span class=\"mi\">30</span><span class=\"o\">)</span>\n<span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">elan</span>\n<span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">hantingz</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n</code></pre></div>",
        "id": 496874281,
        "sender_full_name": "Hanting Zhang",
        "timestamp": 1738273455
    },
    {
        "content": "<p>How about <code>type -a elan</code>?</p>",
        "id": 496874697,
        "sender_full_name": "Julian Berman",
        "timestamp": 1738273626
    },
    {
        "content": "<p>Oh, hmm</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">type</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">elan</span>\n<span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">hanting</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n<span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n<span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">elan</span>\n</code></pre></div>\n<p>I suppose I should delete the 2nd and 3rd ones?</p>",
        "id": 496874903,
        "sender_full_name": "Hanting Zhang",
        "timestamp": 1738273701
    },
    {
        "content": "<p>Yes I think that's a bit too much elan</p>",
        "id": 496876022,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1738274184
    },
    {
        "content": "<p>Did you install lean via some kind of package, out of interest? At least a while ago the community were trying to eliminate lean packages in Linux repositories for exactly this sort of reason (you get stuck with old versions of software which sometimes aren't supported any more for example)</p>",
        "id": 496886504,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738279121
    },
    {
        "content": "<p>Yes, I think I tried <code>sudo apt install elan</code> at some point... that might have caused issues, although I don't see how. As long as the path defaults to the first elan the 2nd and 3rd shouldn't matter. Maybe updating fixed the paths or something?</p>",
        "id": 496892973,
        "sender_full_name": "Hanting Zhang",
        "timestamp": 1738282481
    },
    {
        "content": "<p>I wonder what caused it to be installed to <code>/bin</code>! I know some weird distros symlink <code>/bin</code> to <code>/usr/bin</code>, but I thought Debian wasn't one of them.</p>\n<p>Edit: Apparently I was wrong, <a href=\"https://wiki.debian.org/UsrMerge\">https://wiki.debian.org/UsrMerge</a> was completed a while ago.</p>",
        "id": 497004385,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1738329211
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"355764\">Hanting Zhang</span> <a href=\"#narrow/channel/270676-lean4/topic/Trouble.20installing.20Lean4.20on.20Ubuntu/near/496892973\">said</a>:</p>\n<blockquote>\n<p>Yes, I think I tried <code>sudo apt install elan</code> at some point... that might have caused issues, although I don't see how. As long as the path defaults to the first elan the 2nd and 3rd shouldn't matter. Maybe updating fixed the paths or something?</p>\n</blockquote>\n<p>You probably didn't restart your shell/terminal after installing <code>elan</code> via <code>curl</code>, and therefore <code>/home/hanting/.elan/</code> wasn't yet in PATH.</p>",
        "id": 497004872,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1738329359
    },
    {
        "content": "<p>Which the installation will tell you unless you pass <code>-y</code> to it as you did for some reason</p>",
        "id": 497005424,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1738329538
    }
]