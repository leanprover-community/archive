[
    {
        "content": "<p><a href=\"https://loogle.lean-lang.org/?q=%C2%AC%28_+%3D+true%29\">https://loogle.lean-lang.org/?q=%C2%AC%28_+%3D+true%29</a> suggests that there are quite a few theorem using the former non-simp-normal spelling. Should the latter be preferred in general?</p>",
        "id": 529976237,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753138315
    },
    {
        "content": "<p>Should we really be using ¬ with Bools?</p>",
        "id": 529977668,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1753139460
    },
    {
        "content": "<p>Right, that's really my question</p>",
        "id": 529977701,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753139490
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27335\">#27335</a> seems to make things more consistent in mathlib at least</p>",
        "id": 529977923,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753139648
    },
    {
        "content": "<p>Giving a concrete example, should</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">dropWhile_cons_of_neg</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">dropWhile</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">l</span>\n</code></pre></div>\n<p>be spelt instead as follows?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">dropWhile_cons_of_neg</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">dropWhile</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">l</span>\n</code></pre></div>",
        "id": 538039335,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757202991
    },
    {
        "content": "<p><code>¬ b = true</code> is the better spelling for <code>if h : b</code> statements (where it works out-of-the-box for the <code>else</code> branch)</p>",
        "id": 538105591,
        "sender_full_name": "Mac Malone",
        "timestamp": 1757279315
    },
    {
        "content": "<p>I guess you could imagine a <code>bif h : b</code> syntax which had the opposite property</p>",
        "id": 538105679,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757279435
    },
    {
        "content": "<p>More realistically though, it's pretty uncommon to use <code>if h : b</code> in a proof, which makes optimizing lemmas for it rather strange. <code>cases h : b</code> seems more appropriate in that scenario, which would produce <code>h : b = false</code> for the else branch</p>",
        "id": 538105767,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757279552
    },
    {
        "content": "<p>I think the simp lemma for this has gotten in my way many times, I would like to remove it</p>",
        "id": 538452709,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1757428322
    },
    {
        "content": "<p>Should it go in the other direction, preferring to replace <code>false</code> with <code>true</code>?</p>",
        "id": 538453373,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757428484
    },
    {
        "content": "<p>Or would you advocate for using <code>Decidable</code> <code>Prop</code> instead of <code>bool</code> arguments in general?</p>",
        "id": 538454707,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757428819
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/270676-lean4/topic/.60h.20.3A.20.C2.AC.28b.20.3D.20true.29.60.20vs.20.60h.20.3A.20b.20.3D.20false.60/near/538453373\">said</a>:</p>\n<blockquote>\n<p>Should it go in the other direction, preferring to replace <code>false</code> with <code>true</code>?</p>\n</blockquote>\n<p>It does sound like a good plan to me. And we should have simp lemma that replaces <code>b = false</code> with <code>¬b = true</code>. So in the reverse direction then what we currently do. I assume we already simplify <code>¬¬b = true</code> to <code>b = true</code>?</p>",
        "id": 538550851,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1757464583
    }
]