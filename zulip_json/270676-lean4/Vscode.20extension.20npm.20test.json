[
    {
        "content": "<p>(deleted)</p>",
        "id": 394237913,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1696180392
    },
    {
        "content": "<p>I cloned the vscode repo and followed the build and test process (on _windows_).  When running <code>npm test</code> I get</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code> <span class=\"bp\">&gt;</span>  <span class=\"n\">Lerna</span> <span class=\"o\">(</span><span class=\"n\">powered</span> <span class=\"kd\">by</span> <span class=\"n\">Nx</span><span class=\"o\">)</span>   <span class=\"n\">Running</span> <span class=\"n\">target</span> <span class=\"n\">test</span> <span class=\"n\">for</span> <span class=\"mi\">2</span> <span class=\"n\">projects</span> <span class=\"n\">failed</span>\n\n   <span class=\"n\">Failed</span> <span class=\"n\">tasks</span><span class=\"o\">:</span>\n\n   <span class=\"bp\">-</span> <span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">test</span>\n</code></pre></div>\n<p>Upon closer inspection the following error comes up as the first in the stack trace.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">lean4</span><span class=\"o\">:</span> <span class=\"mi\">16</span><span class=\"o\">:</span><span class=\"mi\">59</span><span class=\"o\">:</span><span class=\"mi\">07</span><span class=\"bp\">.</span><span class=\"mi\">213</span> <span class=\"bp\">-</span> <span class=\"bp\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class=\"n\">testsRoot</span><span class=\"bp\">=...\\</span><span class=\"n\">lean</span><span class=\"bp\">\\</span><span class=\"n\">vscode</span><span class=\"bp\">-</span><span class=\"n\">lean4</span><span class=\"bp\">\\</span><span class=\"n\">vscode</span><span class=\"bp\">-</span><span class=\"n\">lean4</span><span class=\"bp\">\\</span><span class=\"n\">out</span><span class=\"bp\">\\</span><span class=\"n\">test</span><span class=\"bp\">\\</span><span class=\"n\">suite</span><span class=\"bp\">\\</span><span class=\"n\">pre</span><span class=\"bp\">-</span><span class=\"n\">bootstrap</span>\n<span class=\"n\">lean4</span><span class=\"o\">:</span> <span class=\"n\">TypeError</span><span class=\"o\">:</span> <span class=\"n\">Cannot</span> <span class=\"n\">read</span> <span class=\"n\">properties</span> <span class=\"n\">of</span> <span class=\"n\">undefined</span> <span class=\"o\">(</span><span class=\"n\">reading</span> <span class=\"bp\">'</span><span class=\"n\">describe'</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 394238000,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1696180456
    },
    {
        "content": "<p>I have made sure my drive letter is upper-case. I read the other recommendation to purge the elan folder</p>",
        "id": 394238126,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1696180539
    },
    {
        "content": "<p>It says </p>\n<blockquote>\n<p>Try wiping your <code>.elan</code> folder and start over running all tests in order using <code>npm run tests</code>. This<br>\ncould fix some things, for example, if you have an incompatible default lean toolchain.</p>\n</blockquote>\n<p>This seems a bit overkill. Where should I look to find which toolchain to set as default?</p>",
        "id": 394238439,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1696180763
    },
    {
        "content": "<p>Fwiw, the current default toolchain is <code>leanprover/lean4:v4.1.0</code></p>",
        "id": 394239366,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1696181244
    },
    {
        "content": "<p>What's the fix for this?</p>",
        "id": 394239389,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1696181257
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/stream/270676-lean4/topic/Vscode.20repo.20test\">#lean4 &gt; Vscode repo test</a> by <span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span>.</p>",
        "id": 394239926,
        "sender_full_name": "Notification Bot",
        "timestamp": 1696181560
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/stream/270676-lean4/topic/Vscode.20extensionrepo.20test\">#lean4 &gt; Vscode extensionrepo test</a> by <span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span>.</p>",
        "id": 394239947,
        "sender_full_name": "Notification Bot",
        "timestamp": 1696181573
    }
]