[
    {
        "content": "<p>The following proof looks primed for using <code>bv_decide</code> i.e. this is something I just want to throw at a SMT solver! But it doesn't seem to work. Regular <code>decide</code> does, though - it is true.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">&lt;&lt;&lt;</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^^^</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x1B</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">BitVec</span><span class=\"bp\">.</span><span class=\"n\">ofFnBE</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mulTwo_eq_mulTwo'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>What am I doing wrong?</p>",
        "id": 542327735,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759252181
    },
    {
        "content": "<p><code>bv_decide</code> canot have knowledge of <code> BitVec.ofFnBE</code> its in batteries</p>",
        "id": 542327871,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759252229
    },
    {
        "content": "<p>Right. Is there a way I can specify that bit vector in a way it <em>will</em> understand or do I have to built it from scratch? What is allowed?</p>",
        "id": 542327968,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759252268
    },
    {
        "content": "<p><code>bv_decide</code> is supposed to work with all operations on bitvectors that core defines, if your simp set is powerful enough to dumb down BitVec.ofFnBE to that it will be fine</p>",
        "id": 542328126,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759252325
    },
    {
        "content": "<p>Hmm</p>",
        "id": 542329018,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759252629
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">&lt;&lt;&lt;</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^^^</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x1B</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">shiftConcat</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">b7</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mulTwo_eq_mulTwo'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span>\n<span class=\"w\">  </span><span class=\"n\">bv_decide</span><span class=\"w\"> </span><span class=\"c1\">-- nope</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mulTwo_eq_mulTwo'_decide</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span>\n<span class=\"w\">  </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"c1\">-- yep</span>\n</code></pre></div>",
        "id": 542329023,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759252632
    },
    {
        "content": "<p><code>shiftConcat</code> is in core, I think.</p>",
        "id": 542329050,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759252641
    },
    {
        "content": "<p>So what is forbidden here</p>",
        "id": 542329121,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759252665
    },
    {
        "content": "<p>That's an oversight in the coverage of <code>bv_decide</code>, feel free to open an issue about the fact that I missed <code>shiftConcat</code> and <code>concat</code>.</p>",
        "id": 542330483,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253063
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mulTwo_eq_mulTwo'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">mulTwo'</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BitVec</span><span class=\"bp\">.</span><span class=\"n\">shiftConcat</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">bv_decide</span>\n</code></pre></div>\n<p>works</p>",
        "id": 542330516,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253075
    },
    {
        "content": "<p>Aha!</p>",
        "id": 542330559,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253090
    },
    {
        "content": "<p>Thank you :)</p>",
        "id": 542330639,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253113
    },
    {
        "content": "<p>I open an issue in core's repo?</p>",
        "id": 542330680,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253129
    },
    {
        "content": "<p>Yes</p>",
        "id": 542330697,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253134
    },
    {
        "content": "<p>I'll get on that.</p>",
        "id": 542330725,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253142
    },
    {
        "content": "<p>You could even fix it yourself i you're interested in that?</p>",
        "id": 542331052,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253247
    },
    {
        "content": "<p>You'd have to prove a lemma such as <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=BitVec.twoPow_eq#doc\">docs#BitVec.twoPow_eq</a> for <code>shiftConcat</code> and <code>concat</code> and then tag it here <a href=\"https://github.com/leanprover/lean4/blob/master/src/Std/Tactic/BVDecide/Normalize/BitVec.lean#L153\">https://github.com/leanprover/lean4/blob/master/src/Std/Tactic/BVDecide/Normalize/BitVec.lean#L153</a> with <code>bv_normalize</code> + add your thing as a test.</p>",
        "id": 542331337,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253341
    },
    {
        "content": "<p>I will try to figure out how to do that. For <code>BitVec.ofFnBE</code> which I used originally, the issue seems to be that Fin.foldr is too crunchy for it to reason about.</p>",
        "id": 542332031,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253484
    },
    {
        "content": "<p>Yes <code>Fin.foldr</code> requires higher order reasoning, that's not doable. However when applied to a constant <code>Fin.foldr</code> should be sufficiently symbolically evaluatable using the simp set to make it vanish</p>",
        "id": 542332203,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253540
    },
    {
        "content": "<p>It looks like <code>BitVec.cons</code> might also be missing.</p>",
        "id": 542332350,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253591
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">mulTwo''</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">BitVec</span><span class=\"bp\">.</span><span class=\"n\">ofBoolListBE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"n\">xor</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b7</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">mulTwo_eq_mulTwo''</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">mulTwo''</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">mulTwo</span><span class=\"w\"> </span><span class=\"n\">mulTwo''</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BitVec</span><span class=\"bp\">.</span><span class=\"n\">ofBoolListBE</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">BitVec</span><span class=\"bp\">.</span><span class=\"n\">cons</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">bv_decide</span>\n</code></pre></div>",
        "id": 542332411,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253610
    },
    {
        "content": "<p>Could be, I mostly focused on the operations that are present in SMT-LIB as those are the ones people most commonly use and all the other ones can usually be expressed in terms of them.</p>",
        "id": 542332470,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253632
    },
    {
        "content": "<p>Yeah that is fair. I could look up an AES implementation and see how people normally do this operation anyway.</p>",
        "id": 542332560,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253661
    },
    {
        "content": "<p>Oh they most likely <code>extend</code> and then shift + or</p>",
        "id": 542332666,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253700
    },
    {
        "content": "<p>just how you would do it in C</p>",
        "id": 542332700,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759253708
    },
    {
        "content": "<p>Makes sense.</p>",
        "id": 542332726,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759253716
    },
    {
        "content": "<p><code>BitVec.fill</code> as well I think.</p>",
        "id": 542338478,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759255477
    },
    {
        "content": "<p>Didn't even know we had that one lol</p>",
        "id": 542338542,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759255497
    },
    {
        "content": "<p>Have managed to proof via bitsmashing that muliplication over Galois-256 is commutative so that is nice though.</p>",
        "id": 542338717,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759255536
    },
    {
        "content": "<p>If there's a way to improve <code>BitVec.ofFnBE</code> etc in Batteries so that it fits better with <code>bv_decide</code>, I would be happy to hear! I've been doing a little GF work and GF2 linear algebra for myself, which is why I added these functions but I never had time to tune the API.</p>",
        "id": 542382031,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1759274284
    },
    {
        "content": "<p>Oh cool, yeah pretty much me too.</p>",
        "id": 542388698,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759278885
    },
    {
        "content": "<p>Would be good to compare notes...</p>",
        "id": 542388705,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759278891
    },
    {
        "content": "<p>Actually proving it obeys the field axioms seems quite challenging and I was hoping maybe I could just bit blast my way through the problem.</p>",
        "id": 542388747,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759278922
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"330967\">@Wrenna Robson</span> do you still plan on submitting an issue and/or PR?</p>",
        "id": 542446757,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759310486
    },
    {
        "content": "<p>Yes, I just haven't yet!</p>",
        "id": 542446806,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759310500
    },
    {
        "content": "<p>I finished at 7PM yesterday so slow start this morning</p>",
        "id": 542446879,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759310519
    }
]