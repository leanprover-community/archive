[
    {
        "content": "<p>I noticed recently (but can't tell exactly when) that the suggestions <code>apply?</code> produces frequently contain names with tombstone; e.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"c1\">-- First suggestion is \"Try this: refine Eq.symm (Nat.eq_of_beq_eq_true ?a✝)\"</span>\n<span class=\"w\">  </span><span class=\"n\">apply?</span>\n</code></pre></div>\n<p>(There are more suggestions, and not all of them have tombstones.)</p>\n<p>This is annoying, as clicking on the suggestion gives you an error, and you have to remove the <code>✝</code> to make it work.</p>",
        "id": 482895588,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1731876915
    },
    {
        "content": "<p>It’s a known issue, but there isn’t really a good way to fix that. I guess understanding how to make inaccessible parameters accessible is something that for now we have to expert the user to do.</p>",
        "id": 482900894,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1731881527
    },
    {
        "content": "<p>It could set <code>pp.mvars</code> to false before pretty printing. I don't expect mvar names to be useful in the <code>apply?</code> output.</p>",
        "id": 482901630,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1731882268
    },
    {
        "content": "<p>Oh, it's an mvar, not a daggered hypothesis here. Sorry for not reading carefully</p>",
        "id": 482902926,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1731883645
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/6108\">lean#6108</a></p>",
        "id": 482908260,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731888797
    }
]