[
    {
        "content": "<p>I have a strange case where adding the exact type signature prevents it from being elaborated:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">section</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">â†’</span> <span class=\"kt\">Prop</span><span class=\"o\">)</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">foo</span> <span class=\"o\">:=</span> <span class=\"n\">PSigma</span> <span class=\"n\">B</span> <span class=\"c1\">-- succeeds</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">bar</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"o\">:=</span> <span class=\"n\">PSigma</span> <span class=\"n\">B</span> <span class=\"c1\">-- fails</span>\n<span class=\"kd\">end</span>\n</code></pre></div>\n<p>Do you think this can be fixed?</p>",
        "id": 254033956,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1632137124
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110789\">@Jakob von Raumer</span> I pushed a fix for this.</p>",
        "id": 254057850,
        "sender_full_name": "Leonardo de Moura",
        "timestamp": 1632147853
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110789\">Jakob von Raumer</span> has marked this topic as resolved.</p>",
        "id": 254060491,
        "sender_full_name": "Notification Bot",
        "timestamp": 1632148777
    },
    {
        "content": "<p>What was the issue here? Didn't you just add some annotations?</p>",
        "id": 254060636,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1632148822
    },
    {
        "content": "<p>I added a comment describing the issue here:<br>\n<a href=\"https://github.com/leanprover/lean4/commit/9e980b2a78b97981a07c1abce1d69b54dc2d22e3\">https://github.com/leanprover/lean4/commit/9e980b2a78b97981a07c1abce1d69b54dc2d22e3</a></p>",
        "id": 254060879,
        "sender_full_name": "Leonardo de Moura",
        "timestamp": 1632148911
    },
    {
        "content": "<p>BTW, I had to add a few annotations after the fix since the bug was helping us to \"solve\" some universe constraints. That is, the bug was producing a (correct) approximate solution in a few cases.</p>",
        "id": 254061438,
        "sender_full_name": "Leonardo de Moura",
        "timestamp": 1632149110
    },
    {
        "content": "<p>(<a class=\"stream\" data-stream-id=\"116290\" href=\"/#narrow/stream/116290-rss\">#rss</a> lists commits from a single batch in reverse order, which can be a bit confusing)</p>",
        "id": 254062320,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1632149455
    },
    {
        "content": "<p>Ah, thanks for the explanation :)</p>",
        "id": 254066492,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1632151111
    }
]