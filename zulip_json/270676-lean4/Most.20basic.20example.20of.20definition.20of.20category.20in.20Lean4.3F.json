[
    {
        "content": "<p>Can someone translate the definition of category from Lean3 to Lean4, or is that like a multi-month project?    Or can someone give me a simple definition of category to work with?  (Lean4)</p>",
        "id": 359946750,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684609963
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Category#doc\">docs4#CategoryTheory.Category</a></p>",
        "id": 359947062,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684610107
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"395550\">Henrik Böving</span> <a href=\"#narrow/stream/270676-lean4/topic/Most.20basic.20example.20of.20definition.20of.20category.20in.20Lean4.3F/near/359947062\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Category#doc\">docs4#CategoryTheory.Category</a></p>\n</blockquote>\n<p>Thanks!</p>",
        "id": 359947200,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684610167
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span>  so how does one go about using that definition?  I'm not all the way through TPIL 4, but by the end I will probably still ask the same question - usage example for category.  Thanks.</p>",
        "id": 359947946,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684610600
    },
    {
        "content": "<p>For example, how does one first import that library file?</p>",
        "id": 359948051,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684610644
    },
    {
        "content": "<p>You first create a lake project that depends on mathlib4, there is actually a built-in template for that: <code>lake new projectname math</code> and in that project you just import the file</p>",
        "id": 359948355,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684610793
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/UZOUmccofyP06jXQfr6Wy8H2/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/UZOUmccofyP06jXQfr6Wy8H2/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/UZOUmccofyP06jXQfr6Wy8H2/image.png\"></a></div>",
        "id": 359949360,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684611437
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span>   Can't see how to import given data on that page</p>",
        "id": 359949391,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684611458
    },
    {
        "content": "<p>Well sure you are just not copying all from the page: <code>import Mathlib.CategoryTheory.Category.Basic</code></p>",
        "id": 359949490,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684611501
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> <br>\n<a href=\"/user_uploads/3121/06L4E2CxoHOsTool5PWYSdkO/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/06L4E2CxoHOsTool5PWYSdkO/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/06L4E2CxoHOsTool5PWYSdkO/image.png\"></a></div>",
        "id": 359949596,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684611583
    },
    {
        "content": "<p>Right, the next issue is that you opened the parent directoy as a project inn vscode but in order for vscode to pick up on your project you need to open your project's directoy directly in vscode, not its parent.</p>",
        "id": 359949718,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684611638
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/lkQQB-iOpo4tuUyLfKlRBDk7/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/lkQQB-iOpo4tuUyLfKlRBDk7/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/lkQQB-iOpo4tuUyLfKlRBDk7/image.png\"></a></div><p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> <br>\nYes, good idea.  But I tried that and got that Lean4 couldn't start up.</p>",
        "id": 359950014,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684611819
    },
    {
        "content": "<p>Hm, interesting I don't know about that one I don't use vscode so I don't know why it acts like it does here.</p>",
        "id": 359950185,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684611900
    },
    {
        "content": "<p>What happens when you restart vscode? Again, to clarify, you should open the folder of the project you created.</p>",
        "id": 359951600,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1684612703
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/Oe8q5RD_RGAgmuVXCqAfmnrv/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Oe8q5RD_RGAgmuVXCqAfmnrv/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/Oe8q5RD_RGAgmuVXCqAfmnrv/image.png\"></a></div><p><span class=\"user-mention\" data-user-id=\"243562\">@Adam Topaz</span>  restarted VScode, opened correct folder, and same issue</p>",
        "id": 359956273,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684615566
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/myVZ6vYk03EBUZywVXtmgeUv/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/myVZ6vYk03EBUZywVXtmgeUv/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/myVZ6vYk03EBUZywVXtmgeUv/image.png\"></a></div>",
        "id": 359956411,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684615652
    },
    {
        "content": "<p>I re-installed using Elan and keep getting this:<br>\n<a href=\"/user_uploads/3121/fhpecv5b4wAupuJ66mT5Rvez/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/fhpecv5b4wAupuJ66mT5Rvez/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/fhpecv5b4wAupuJ66mT5Rvez/image.png\"></a></div>",
        "id": 359957466,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684616278
    },
    {
        "content": "<p>Try deleting the entire repository and then starting again following the instructions <a href=\"#narrow/stream/287929-mathlib4/topic/Trouble.20getting.20mathlib/near/359900547\">here</a> in that post and the one after. Does this fix the problem?</p>",
        "id": 359957962,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684616567
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>  Hi, we were just watching a YT video of yours about Lean4 proofs.  Anyway, are you saying clone that repository and then open the project's root folder in VS code?  I'll try it...</p>",
        "id": 359959684,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684617694
    },
    {
        "content": "<p>nonono, I meant \"follow the instructions in the precise message I linked to, and the one after it, to make a working Lean 4 project which depends on mathlib\"</p>",
        "id": 359959775,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684617740
    },
    {
        "content": "<p>I'll post the instructions again:</p>\n<p>Start again with <code>lake new hello math</code>. This is the recommended way to make a project called <code>hello</code> which has mathlib as a dependency.</p>\n<p>Then change directory into the new <code>hello</code> directory and type</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">lake</span> <span class=\"n\">update</span>\n<span class=\"n\">lake</span> <span class=\"n\">exe</span> <span class=\"n\">cache</span> <span class=\"n\">get</span>\n<span class=\"n\">lake</span> <span class=\"n\">build</span>\n</code></pre></div>\n<p>and it should all work. </p>\n<p>Now you can make project files, e.g. change the contents of <code>Hello.lean</code> to the line <code>import Hello.test</code>, make a <code>Hello</code> subdirectory and put a file <code>test.lean</code> in that subdirectory saying <code>import Mathlib.CategoryTheory.Category.Basic</code>. Then type <code>lake build</code> in the root folder and it should work fine.</p>",
        "id": 359959935,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684617880
    },
    {
        "content": "<p>I am unclear about how much variation you are allowed in the choice of <code>hello</code> v <code>Hello</code>.</p>",
        "id": 359960110,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684618025
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>   cd hello then <code>lake update</code> gives:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">PS</span> <span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">fruit</span><span class=\"bp\">\\</span><span class=\"n\">OneDrive</span><span class=\"bp\">\\</span><span class=\"n\">Desktop</span><span class=\"bp\">\\</span><span class=\"n\">Lean4</span><span class=\"bp\">\\</span><span class=\"n\">hello</span><span class=\"bp\">&gt;</span> <span class=\"n\">lake</span> <span class=\"n\">update</span>\n<span class=\"n\">mathlib</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">manifest</span> <span class=\"n\">entry</span><span class=\"bp\">;</span> <span class=\"n\">deleting</span> <span class=\"bp\">.\\</span><span class=\"n\">lean_packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span> <span class=\"n\">and</span> <span class=\"n\">cloning</span> <span class=\"n\">again</span>\n<span class=\"n\">cloning</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4.git</span> <span class=\"n\">to</span> <span class=\"bp\">.\\</span><span class=\"n\">lean_packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">.\\</span><span class=\"n\">lean_packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">lakefile.lean</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span>\n<span class=\"n\">unknown</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">default_target</span><span class=\"o\">]</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">.\\</span><span class=\"n\">lean_packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">lakefile.lean</span><span class=\"o\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span>\n<span class=\"n\">unknown</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">default_target</span><span class=\"o\">]</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">.\\</span><span class=\"n\">lean_packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">lakefile.lean</span><span class=\"o\">:</span> <span class=\"n\">package</span> <span class=\"n\">configuration</span> <span class=\"n\">has</span> <span class=\"n\">errors</span>\n<span class=\"n\">PS</span> <span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">fruit</span><span class=\"bp\">\\</span><span class=\"n\">OneDrive</span><span class=\"bp\">\\</span><span class=\"n\">Desktop</span><span class=\"bp\">\\</span><span class=\"n\">Lean4</span><span class=\"bp\">\\</span><span class=\"n\">hello</span><span class=\"bp\">&gt;</span>\n</code></pre></div>",
        "id": 359963994,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684620802
    },
    {
        "content": "<p>I think I have experienced something similar. Does <code>cp lake-packages/mathlib/lean-toolchain .</code> before the <code>lake exe cache get</code> solve the problem?</p>",
        "id": 359966431,
        "sender_full_name": "Kalle Kytölä",
        "timestamp": 1684622579
    },
    {
        "content": "<p>The issue is that your Lean version is not up to date as evident by the fact that you are using lean_packages</p>",
        "id": 359966744,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684622771
    },
    {
        "content": "<p>Why isn't the system using the version of lean suggested by mathlib? If the instructions I've posted are not 100% correct, how do I correct them?</p>",
        "id": 359967092,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1684623054
    },
    {
        "content": "<p>I'm guessing he is using a vversion of lean that did already have the math template but did not figure out the proper version based on the latest mathlib toolchain yet</p>",
        "id": 359967278,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684623194
    },
    {
        "content": "<p>And I guess the simplest way to fix this would be to make sure that you are running a kind of recent nightly as your default toolchain</p>",
        "id": 359967370,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1684623251
    },
    {
        "content": "<p>We used this setup process:<br>\nStarting in our project parent dir.  Mkdir \"my_project\",  Cd \"my_project\", lake init my_project math, lake build, lake update </p>\n<p>But I still get no import suggestions as depicted here:</p>\n<p><a href=\"/user_uploads/3121/79pCNaFLOTF5mMdOJU__Vo1P/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/79pCNaFLOTF5mMdOJU__Vo1P/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/79pCNaFLOTF5mMdOJU__Vo1P/image.png\"></a></div>",
        "id": 359973859,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684628819
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395550\">@Henrik Böving</span> , <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span></p>",
        "id": 359973875,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1684628838
    },
    {
        "content": "<p>That would be because import completion is not implemented yet</p>",
        "id": 360010223,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1684656384
    }
]