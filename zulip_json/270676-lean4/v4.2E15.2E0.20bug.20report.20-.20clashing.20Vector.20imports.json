[
    {
        "content": "<p>I know this is an old release, but the following does not work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"bp\">.</span><span class=\"n\">Lemmas</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Batteries</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"bp\">.</span><span class=\"n\">Lemmas</span>\n<span class=\"c1\">-- error: ././././Batteries/Data/Vector/Lemmas.lean:20:18: 'Vector.ext' has already been declared</span>\n</code></pre></div>\n<p>is there any mechanism in place to prevent this kind of regression in future?</p>",
        "id": 499715064,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739533018
    },
    {
        "content": "<p>(This slipped through the batteries CI because <code>Init.lean</code> did not transitively import <code>Init.Data.Vector.Lemmas</code>)</p>",
        "id": 499715181,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739533049
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/270676-lean4/topic/v4.2E15.2E0.20bug.20report.20-.20clashing.20Vector.20imports/near/499715181\">said</a>:</p>\n<blockquote>\n<p>(This slipped through the batteries CI because <code>Init.lean</code> did not transitively import <code>Init.Data.Vector.Lemmas</code>)</p>\n</blockquote>\n<p>Is this something which can or should be linted against?</p>",
        "id": 499717784,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1739533738
    },
    {
        "content": "<p>Would it be enough to have a CI step that imports \"everything from everywhere\"?</p>",
        "id": 499730904,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1739537051
    },
    {
        "content": "<p>We already have such a test, but \"everyhing\" is <code>import Mathlib</code>,<code>import Batteries</code> ..., not <code>import Mathlib.Foo</code> <code>import Batteries.Bar</code> ...</p>",
        "id": 499731543,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739537237
    }
]