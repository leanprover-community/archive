[
    {
        "content": "<p>I am a bit confused by this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">module</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">error: Cannot add attribute `[expose]`: This attribute can only be added when declaring a `def`</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">@[</span><span class=\"n\">expose</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">baz</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">expose</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">section</span>\n\n<span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">Foo'</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo'</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">bas</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo'</span>\n\n<span class=\"kn\">end</span>\n</code></pre></div>\n<p>Is this expected or a bug? Does it make sense to try to expose an inductive?</p>",
        "id": 560341912,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1764149194
    },
    {
        "content": "<p>I think <code>@[expose]</code> determines whether the value of a definition is visible to anyone importing it. But inductive types have no value - they cannot be unfolded.</p>",
        "id": 560343653,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1764149707
    },
    {
        "content": "<p>So here the <code>public</code> keyword just makes <code>Foo.bar</code> and <code>Foo.baz</code> public, and then it makes no sense to expose their \"value\", am I getting this right?</p>",
        "id": 560344117,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1764149840
    },
    {
        "content": "<p>Yes, and <code>Foo.bar</code> and <code>Foo.baz</code> also don't have a value. The only way you can \"get the value\" of the inductive type is by using <code>match</code>. I presume that <code>public</code> also makes the recursor <code>Foo.rec</code> public, which allows you to <code>match</code> on <code>Foo</code>.</p>",
        "id": 560345200,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1764150141
    }
]