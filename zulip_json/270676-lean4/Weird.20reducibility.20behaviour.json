[
    {
        "content": "<p>I've encoutered something weird in regards to reducibility hints and type-class inferece.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">abbrev</span> <span class=\"n\">Atom</span> <span class=\"o\">:=</span> <span class=\"n\">Nat</span>\n\n<span class=\"kd\">instance</span> <span class=\"n\">instAtomDecEq</span> <span class=\"o\">:</span> <span class=\"n\">DecidableEq</span> <span class=\"n\">Atom</span> <span class=\"o\">:=</span> <span class=\"n\">inferInstance</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span> <span class=\"n\">DecidableEq</span> <span class=\"n\">Atom</span> <span class=\"c1\">--works</span>\n\n<span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">irreducible</span><span class=\"o\">]</span> <span class=\"n\">Atom</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span> <span class=\"n\">DecidableEq</span> <span class=\"n\">Atom</span> <span class=\"c1\">--doesn't work ?</span>\n\n<span class=\"kd\">instance</span> <span class=\"o\">:</span> <span class=\"n\">DecidableEq</span> <span class=\"n\">Atom</span> <span class=\"o\">:=</span> <span class=\"n\">instAtomDecEq</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span> <span class=\"n\">DecidableEq</span> <span class=\"n\">Atom</span> <span class=\"c1\">--works again ?</span>\n</code></pre></div>\n<p>I would have expected the second #synth to work here, given that <code>instAtomDecEq</code> is there.  Is this the intended behaviour ?</p>",
        "id": 363464760,
        "sender_full_name": "Arthur Adjedj",
        "timestamp": 1685874223
    }
]