[
    {
        "content": "<p>Given a recursive function where each step contains actual data, is such a function always implemented through <code>.brecOn</code>? Otherwise, when are dataful recursive functions, i.e., recursive functions where there is data being manipulated at each step, implemented with <code>.brecOn</code>, and what is used to implement dataful functions in other cases?</p>",
        "id": 489094293,
        "sender_full_name": "nrs",
        "timestamp": 1734278630
    },
    {
        "content": "<p>Lean has two equation compilation (or \"derecursification\") strategies: bounded structural recursion, and well founded recursion. The former is used by most regular functions, while the latter typically involves using <code>termination_by</code> and <code>decreasing_by</code> (although lean makes its best guess at these if you don't specify). Bounded structural recursive definitions will have <code>T.brecOn</code> in the <code>#print</code> result, and well founded recursive definitions will have <code>WellFounded.fix</code> (hidden behind a <code>myfunc._unary</code> auxiliary).</p>",
        "id": 489118660,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734300339
    },
    {
        "content": "<p>Primitive structural recursion is actually not supported by lean, so you will not be able to get it to output definitions using <code>T.recOn</code> using the equation compiler</p>",
        "id": 489118748,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1734300398
    },
    {
        "content": "<p>I see! Thanks a lot for taking the time, I couldn't find this anywhere but was seeing a glimpse of this in <code>#print</code> results without understanding why</p>",
        "id": 489118900,
        "sender_full_name": "nrs",
        "timestamp": 1734300555
    }
]