[
    {
        "content": "<p>In the following scenario, there is a difference between the behaviour of <code>grind [...]</code> and <code>grind =&gt; instantiate [...]; finish</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Alice</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Bob</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">alice_0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Alice</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Alice</span><span class=\"bp\">.</span><span class=\"n\">toBob</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Alice</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Bob</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">blob</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bob</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">alice_0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Alice</span><span class=\"bp\">.</span><span class=\"n\">toBob</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- works</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">clob</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bob</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">alice_0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Alice</span><span class=\"bp\">.</span><span class=\"n\">toBob</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- doesnt</span>\n</code></pre></div>\n<p>As far as I'm aware there aren't currently claims made about the behaviour of <code>instantiate</code>, so this isn't really a \"bug\". But it would be nice for proof development to be able to do whatever the first <code>grind</code> is doing in interactive mode somehow.</p>",
        "id": 575889502,
        "sender_full_name": "Albert Smith",
        "timestamp": 1772060510
    },
    {
        "content": "<p><span aria-label=\"duck\" class=\"emoji emoji-1f986\" role=\"img\" title=\"duck\">:duck:</span> after some more experimentation I guess (without having actually read the code) that what the first grind does is more like <code>repeat instantiate</code>, and indeed <code>repeat instantiate</code> works. Good enough for me, although it would be nice to have a short alias for this for interactive proof development.</p>",
        "id": 575889855,
        "sender_full_name": "Albert Smith",
        "timestamp": 1772060620
    }
]