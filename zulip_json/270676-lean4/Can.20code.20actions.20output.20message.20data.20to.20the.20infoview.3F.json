[
    {
        "content": "<p>Is this possible? I thought asking would be quicker than picking through the code.</p>",
        "id": 462542859,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723725770
    },
    {
        "content": "<p>Eg: for <code>simp?</code>, I want to be able to jump to the suggested simp theorems</p>",
        "id": 462542962,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723725827
    },
    {
        "content": "<p>simp? outputs a widget, and then I think the widget provides the code-action?</p>",
        "id": 462547569,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723727423
    },
    {
        "content": "<p>I think the widget could certainly behave as you describe, but then the UX would need to change, as clicking the theorem name currently applies the suggestion</p>",
        "id": 462547650,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723727450
    },
    {
        "content": "<p>Ah you are right. I conflated steps.</p>",
        "id": 462547881,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723727525
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/270676-lean4/topic/Can.20code.20actions.20output.20message.20data.20to.20the.20infoview.3F/near/462547650\">said</a>:</p>\n<blockquote>\n<p>I think the widget could certainly behave as you describe, but then the UX would need to change, as clicking the theorem name currently applies the suggestion</p>\n</blockquote>\n<p>This is me living in nvim land</p>",
        "id": 462547983,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1723727574
    },
    {
        "content": "<p>Something does seem inconsistent but I'm not sure why/whose fault it is without doing a bit of digging (maybe later).</p>\n<p>But e.g. (in neovim):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">â†”</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"bp\">â†”</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">exact?</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp?</span>\n</code></pre></div>\n<p>The infoview for <code>exact?</code> will jump to <code>Iff.symm</code> if you <code>gd</code> on it.</p>\n<p>But the infoview will not do that with e.g. <code>mul_right_inv</code> in the simp call.</p>",
        "id": 462555203,
        "sender_full_name": "Julian Berman",
        "timestamp": 1723729840
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/270676-lean4/topic/Can.20code.20actions.20output.20message.20data.20to.20the.20infoview.3F/near/462547569\">said</a>:</p>\n<blockquote>\n<p>simp? outputs a widget, and then I think the widget provides the code-action?</p>\n</blockquote>\n<p>Code actions and widgets are entirely separate; you can have a widget which contains a link such as \"Try this: some_tac\" which inserts that tactic when clicked, but that is not a code action. Code actions are built into LSP, and editors have native support for executing them (e.g. with the lightbulb popup in VSCode). As an implementer, you use <code>savePanelWidgetInfo</code> for the former, and a globally registered <code>@[hole/tactic/command_code_action]</code> for the latter.</p>",
        "id": 462566971,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1723733408
    }
]