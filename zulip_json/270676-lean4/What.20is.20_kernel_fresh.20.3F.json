[
    {
        "content": "<p>I have a buggy tactic and I'm getting an error</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">free</span><span class=\"w\"> </span><span class=\"kn\">variable</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">kernel_fresh</span><span class=\"bp\">.</span><span class=\"m\">7154</span>\n</code></pre></div>\n<p>I have never seen this before. When is <code>_kernel_fresh</code> being created? What does it mean?</p>\n<p>Not sure if it matters but I'm working on a modified version of simp. Are <code>_kernel_fresh</code> fvars created somewhere in simp?</p>",
        "id": 454353552,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1722019343
    },
    {
        "content": "<p>It looks like it's a name prefix used by the kernel when it needs to do its own version of withLocalDecl, for example to infer the types of lambdas or lets, or when doing defeq checking of pi types, or when doing eta expansion.</p>\n<p>Look for uses of <code>m_ngen</code> in <code>src/kernel/type_checker.cpp</code></p>",
        "id": 454369024,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1722026097
    },
    {
        "content": "<p>Interesting, I wonder how I managed to screw up so badly that I confused the kernel.</p>",
        "id": 454389887,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1722035523
    }
]