[
    {
        "content": "<p>When declaring an instance of a complete lattice for a type I started by <code>sorry</code>ing out all fields. However I get the usual <code>rfl</code> error : </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Possible</span><span class=\"w\"> </span><span class=\"n\">reasons</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">goal</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">reflexive</span><span class=\"w\"> </span><span class=\"n\">relation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">neither</span><span class=\"w\"> </span><span class=\"bp\">`=`</span><span class=\"w\"> </span><span class=\"n\">nor</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">relation</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kd\">@[</span><span class=\"n\">refl</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">lemma</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">arguments</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">relation</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">equal</span><span class=\"bp\">.</span>\n<span class=\"n\">Try</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">reflexivity</span><span class=\"w\"> </span><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">relation</span><span class=\"w\"> </span><span class=\"n\">explicitly</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"ss\">`exact</span><span class=\"w\"> </span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"bp\">_`</span><span class=\"w\"> </span><span class=\"n\">or</span>\n<span class=\"ss\">`exact</span><span class=\"w\"> </span><span class=\"n\">HEq</span><span class=\"bp\">.</span><span class=\"n\">rfl</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">etc</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 472891532,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727355766
    },
    {
        "content": "<p>This makes no sense to me since I haven't even applied <code>rfl</code></p>",
        "id": 472891616,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727355791
    },
    {
        "content": "<p>I don't have a good <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> yet since I don't know where the error is coming from</p>",
        "id": 472891738,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727355831
    },
    {
        "content": "<p>Autoparams are being filled somewhere <code>by rfl</code> most likely</p>",
        "id": 472891904,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1727355875
    },
    {
        "content": "<p>If you use the code action for the maximal skeleton, you should be able to track it down</p>",
        "id": 472892020,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1727355909
    },
    {
        "content": "<p>how do I trigger this code action?</p>",
        "id": 472892109,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727355934
    },
    {
        "content": "<p><code>instance x : MyClass := _</code> I think</p>",
        "id": 472892245,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1727355965
    },
    {
        "content": "<p>The <span aria-label=\"light bulb\" class=\"emoji emoji-1f4a1\" role=\"img\" title=\"light bulb\">:light_bulb:</span> should pop over the hole</p>",
        "id": 472892313,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1727355989
    },
    {
        "content": "<p>okay so I need to use the <code>:=</code> instead of <code>where</code> clause to trigger it</p>",
        "id": 472892760,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727356132
    },
    {
        "content": "<p>I didn't get it when I tried with <code>where</code></p>",
        "id": 472892786,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727356141
    },
    {
        "content": "<p>While I trace down the issue,  I am wondering if the code action could be made to work with <code>where</code></p>",
        "id": 472893265,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727356257
    },
    {
        "content": "<p>It just looks neater to my haskell brain</p>",
        "id": 472893319,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727356266
    },
    {
        "content": "<p>That is reasonable request though you might want <code>where?</code> or something maybe.</p>",
        "id": 472893985,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1727356440
    },
    {
        "content": "<p>So this was a case of accidentally putting \\subset where I really wanted \\ssubset. But I was able to use <code>inferInstance</code> and make the whole issue go away</p>",
        "id": 472895271,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727356722
    }
]