[
    {
        "content": "<p>In the second <code>example</code>, <code>wlog</code> fails with the error message \"tactic 'introN' failed, insufficient number of binders\". This doesn't happen on a version of mathlib from a few months ago.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">wlog</span><span class=\"w\"> </span><span class=\"n\">obv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"c1\">-- works</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"n\">wlog</span><span class=\"w\"> </span><span class=\"n\">obv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"c1\">-- tactic 'introN' failed, insufficient number of binders</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 490686933,
        "sender_full_name": "Nir Paz",
        "timestamp": 1735053570
    },
    {
        "content": "<p>Can you <code>git bisect</code> the bad commit, please?</p>",
        "id": 490687369,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735053858
    },
    {
        "content": "<p>Running it myself.</p>",
        "id": 490689287,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735055244
    },
    {
        "content": "<p>The offending commit is <a href=\"https://github.com/leanprover-community/mathlib4/pull/19675\">#19675</a></p>",
        "id": 490689576,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735055442
    },
    {
        "content": "<p>Sorry it takes me a few minutes per commit just to get the cache</p>",
        "id": 490689621,
        "sender_full_name": "Nir Paz",
        "timestamp": 1735055491
    },
    {
        "content": "<p>That's why I minimized imports first and didn't get the cache.</p>",
        "id": 490689722,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735055538
    },
    {
        "content": "<p>This PR adds <code>(usedLetOnly := true)</code> to <code>mkAuxMVarType</code> call. If I change it to <code>(usedLetOnly := false)</code>, then this test works. <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> Is it the correct fix or should we do something else?</p>",
        "id": 490690020,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735055716
    },
    {
        "content": "<p>Sorry, missed this until now. Yes, this seems fine to change.</p>",
        "id": 501438601,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1740367905
    }
]