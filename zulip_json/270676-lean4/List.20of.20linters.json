[
    {
        "content": "<p>How do I get the list of all linters? I want my teaching lib to disable all linters but I don’t know what to put in my lakefile.</p>",
        "id": 492463514,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1736328043
    },
    {
        "content": "<p>You should be able to set <code>linter.all</code> to <code>false</code>. If that doesn't work, it is a bug in that specific linter</p>",
        "id": 492463744,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1736328122
    },
    {
        "content": "<p>If you actually want to know their names without hoping that they would trigger, this should be the list of all the linters in mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Command</span>\n\n<span class=\"kn\">elab</span><span class=\"w\"> </span><span class=\"s2\">\"#find_linters\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">stxLints</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Command</span><span class=\"bp\">.</span><span class=\"n\">lintersRef</span><span class=\"bp\">.</span><span class=\"n\">get</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">stxLints</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">stxLints</span><span class=\"bp\">.</span><span class=\"n\">qsort</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">name</span><span class=\"bp\">.</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·.</span><span class=\"n\">name</span><span class=\"bp\">.</span><span class=\"n\">toString</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span><span class=\"bp\">.</span><span class=\"n\">intercalate</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span>\n<span class=\"w\">    </span><span class=\"n\">s!</span><span class=\"s2\">\"{stxLints.size} syntax linters found:\"</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"s2\">\"\"</span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">stxLints</span><span class=\"bp\">.</span><span class=\"n\">toList</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">name</span><span class=\"bp\">.</span><span class=\"n\">toString</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">envL</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Batteries</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Lint</span><span class=\"bp\">.</span><span class=\"n\">batteriesLinterExt</span><span class=\"bp\">.</span><span class=\"n\">getState</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">getEnv</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">envLints</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">envL</span><span class=\"bp\">.</span><span class=\"n\">fold</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">init</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">shortName</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">option</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">envLints</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">envLints</span><span class=\"bp\">.</span><span class=\"n\">qsort</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">toString</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·.</span><span class=\"n\">toString</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span><span class=\"bp\">.</span><span class=\"n\">intercalate</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span>\n<span class=\"w\">    </span><span class=\"n\">s!</span><span class=\"s2\">\"{envLints.size} environment linters found:\"</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"s2\">\"\"</span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">envLints</span><span class=\"bp\">.</span><span class=\"n\">toList</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">toString</span>\n\n<span class=\"bp\">#</span><span class=\"n\">find_linters</span>\n<span class=\"c\">/-</span>\n<span class=\"cm\">30 syntax linters found:</span>\n\n<span class=\"cm\">Batteries.Linter.UnnecessarySeqFocus.unnecessarySeqFocusLinter</span>\n<span class=\"cm\">Batteries.Linter.UnreachableTactic.unreachableTacticLinter</span>\n<span class=\"cm\">Lean.Linter.MissingDocs.missingDocs</span>\n<span class=\"cm\">Lean.Linter.UnusedVariables.unusedVariables</span>\n<span class=\"cm\">Lean.Linter.constructorNameAsVariable</span>\n<span class=\"cm\">Lean.Linter.omit</span>\n<span class=\"cm\">Lean.Linter.suspiciousUnexpanderPatterns</span>\n<span class=\"cm\">Mathlib.Linter.AdmitLinter.admitLinter</span>\n<span class=\"cm\">Mathlib.Linter.CountHeartbeats.countHeartbeatsLinter</span>\n<span class=\"cm\">Mathlib.Linter.DocPrime.docPrimeLinter</span>\n<span class=\"cm\">Mathlib.Linter.DoubleImports.upstreamableDeclLinter</span>\n<span class=\"cm\">Mathlib.Linter.DupNamespaceLinter.dupNamespace</span>\n<span class=\"cm\">Mathlib.Linter.Flexible.flexibleLinter</span>\n<span class=\"cm\">Mathlib.Linter.HashCommandLinter.hashCommandLinter</span>\n<span class=\"cm\">Mathlib.Linter.MinImports.minImportsLinter</span>\n<span class=\"cm\">Mathlib.Linter.PPRoundtrip.ppRoundtrip</span>\n<span class=\"cm\">Mathlib.Linter.Style.cdotLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.dollarSyntax.dollarSyntaxLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.header.headerLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.lambdaSyntax.lambdaSyntaxLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.longFile.longFileLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.longLine.longLineLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.missingEnd.missingEndLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.multiGoal.multiGoalLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.oldObtainLinter</span>\n<span class=\"cm\">Mathlib.Linter.Style.setOption.setOptionLinter</span>\n<span class=\"cm\">Mathlib.Linter.UnusedTactic.unusedTacticLinter</span>\n<span class=\"cm\">Mathlib.Linter.globalAttributeInLinter.globalAttributeIn</span>\n<span class=\"cm\">Mathlib.Linter.haveLet.haveLetLinter</span>\n<span class=\"cm\">Mathlib.Linter.refineLinter</span>\n\n\n<span class=\"cm\">17 environment linters found:</span>\n\n<span class=\"cm\">Batteries.Tactic.Lint.checkType</span>\n<span class=\"cm\">Batteries.Tactic.Lint.checkUnivs</span>\n<span class=\"cm\">Batteries.Tactic.Lint.defLemma</span>\n<span class=\"cm\">Batteries.Tactic.Lint.deprecatedNoSince</span>\n<span class=\"cm\">Batteries.Tactic.Lint.docBlame</span>\n<span class=\"cm\">Batteries.Tactic.Lint.docBlameThm</span>\n<span class=\"cm\">Batteries.Tactic.Lint.dupNamespace</span>\n<span class=\"cm\">Batteries.Tactic.Lint.explicitVarsOfIff</span>\n<span class=\"cm\">Batteries.Tactic.Lint.impossibleInstance</span>\n<span class=\"cm\">Batteries.Tactic.Lint.nonClassInstance</span>\n<span class=\"cm\">Batteries.Tactic.Lint.simpComm</span>\n<span class=\"cm\">Batteries.Tactic.Lint.simpNF</span>\n<span class=\"cm\">Batteries.Tactic.Lint.simpVarHead</span>\n<span class=\"cm\">Batteries.Tactic.Lint.structureInType</span>\n<span class=\"cm\">Batteries.Tactic.Lint.synTaut</span>\n<span class=\"cm\">Batteries.Tactic.Lint.unusedArguments</span>\n<span class=\"cm\">Batteries.Tactic.Lint.unusedHavesSuffices</span>\n<span class=\"cm\">-/</span>\n</code></pre></div>",
        "id": 492520273,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1736347794
    }
]