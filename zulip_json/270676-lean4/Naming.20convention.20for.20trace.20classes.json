[
    {
        "content": "<p>As the title says: are there any naming conventions for trace class names? (Context: I added two classes in <a href=\"https://github.com/leanprover-community/mathlib4/pull/27021\">#27021</a>, and found little documented prior conventions on this.)</p>",
        "id": 543824849,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759953646
    },
    {
        "content": "<p>For instance: should my trace class start with <code>Elab.</code> or <code>elab.</code>? Doing <code>set_option trace.Elab.myFooOption</code> reads weirdly to me; <code>set_option trace.elab.myFooOption</code> seems more natural.</p>",
        "id": 543824992,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759953702
    },
    {
        "content": "<p>Looking in mathlib, there current convention seems to be</p>\n<ul>\n<li><code>lowercase</code>, sometimes <code>lowerCamelCase</code> (e.g. <code>adaptationNote</code>) or <code>snake_case</code> options (e.g., matching tactic names, such as <code>fun_prop</code>)</li>\n<li>sometimes prepended by a namespace, e.g. <code>Meta.gcongr</code> or <code>Tactic.to_additive</code></li>\n<li>there's no consistent pattern as to whether a tactic's trace class is in the root \"namespace\", the <code>Tactic</code> namespace or even <code>Meta.Tactic</code>. (The <code>cc</code> tactic also has <code>Debug.Meta.Tactic.cc</code>, in addition to e.g.<code>Meta.Tactic.cc.merge</code>.)</li>\n</ul>",
        "id": 543825395,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759953864
    },
    {
        "content": "<p>I think the last two bullets are important problems: it would be nice to have clear, predictable conventions on what the early components of the name should be.</p>\n<p>In particular, it might be useful to choose the conventions for namespace prefixes carefully such that we can take advantage of setting <code>inherited := true</code> for trace classes with that prefix.</p>",
        "id": 544633495,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760398103
    },
    {
        "content": "<p>The <code>cc</code> one probably came from <code>simp</code>, where we have <code>trace.Meta.Tactic.simp</code>, which I think is too long of a name.</p>",
        "id": 544694596,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1760432369
    },
    {
        "content": "<p>Cross-linking <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/544852852\">#mathlib4 &gt; Mathlib: the Missing Manuals @ üí¨</a></p>",
        "id": 544861938,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760492439
    },
    {
        "content": "<p>Here's the first step of listing the available trace classes, in a manner roughly similar to what <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span> said in that thread. :)</p>\n<p>This also sorts by name, and hijacks trace node folding to let you peek at the declaration module and docstring (if it has one). Uncomment <code>(collapsed := false)</code> to make all expanded by default. (Most of this code is for sorting by name, and probably already available somewhere...)</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>#show_trace_classes</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Name</span>\n\n<span class=\"kn\">protected</span><span class=\"w\"> </span><span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">Component</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"o\">)</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">toComponentsRev</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"bp\">.</span><span class=\"n\">Component</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">anonymous</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">toComponentsRev</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">toComponentsRev</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">toComponents</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"bp\">.</span><span class=\"n\">Component</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">toComponentsRev</span><span class=\"bp\">.</span><span class=\"n\">reverse</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ord</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"bp\">.</span><span class=\"n\">Component</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">compare</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">gt</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">lt</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">num</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">k</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">str</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">t</span>\n\n<span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ord</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">toComponents</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"bp\">.</span><span class=\"n\">toComponents</span>\n\n<span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ord</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Name</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">OptionDecl</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">o‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">o‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">compare</span><span class=\"w\"> </span><span class=\"n\">o‚ÇÅ</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">o‚ÇÇ</span><span class=\"bp\">.</span><span class=\"m\">1</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">getTraceClasses</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Name</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">OptionDecl</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">getOptionDeclsArray</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">filter</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"bp\">.</span><span class=\"n\">getRoot</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"ss\">`trace</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Environment</span><span class=\"bp\">.</span><span class=\"n\">getModuleName</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Environment</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">idx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">header</span><span class=\"bp\">.</span><span class=\"n\">modules</span><span class=\"o\">[</span><span class=\"n\">idx</span><span class=\"o\">]</span><span class=\"bp\">?.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬∑.</span><span class=\"n\">module</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">getModule</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Environment</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Name</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">getModuleIdxFor?</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">bind</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"bp\">.</span><span class=\"n\">getModuleName</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">getD</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">anonymous</span>\n\n<span class=\"c1\">-- Surely this exists somewhere already, implemented better.</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">Array</span><span class=\"bp\">.</span><span class=\"n\">tallyResult</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BEq</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">arr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">):=</span><span class=\"w\"> </span><span class=\"n\">Id</span><span class=\"bp\">.</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">mut</span><span class=\"w\"> </span><span class=\"n\">collected</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[]</span>\n<span class=\"w\">  </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">arr</span><span class=\"w\"> </span><span class=\"k\">do</span><span class=\"w\"> </span><span class=\"n\">collected</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">tallyOne</span><span class=\"w\"> </span><span class=\"n\">collected</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">collected</span>\n<span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">tallyOne</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">collected</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Id</span><span class=\"bp\">.</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">0.</span><span class=\"bp\">..</span><span class=\"n\">collected</span><span class=\"bp\">.</span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">collected</span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">collected</span><span class=\"bp\">.</span><span class=\"n\">modify</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">collected</span><span class=\"bp\">.</span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">)</span>\n\n<span class=\"kn\">elab</span><span class=\"w\"> </span><span class=\"s2\">\"#show_trace_classes\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">getEnv</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">arr</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">getTraceClasses</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">qsortOrd</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">arr</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">arr</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"n\">declName</span><span class=\"bp\">.</span><span class=\"n\">getModule</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">getRoot</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">trace</span><span class=\"o\">[</span><span class=\"n\">debug</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"s2\">\"Found {arr.size} trace classes.</span><span class=\"se\">\\n</span><span class=\"s2\">{arr.tallyResult (¬∑.1)}</span><span class=\"se\">\\n</span><span class=\"s2\">\"</span>\n<span class=\"w\">  </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mod</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">decl</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">arr</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"n\">withTraceNode</span><span class=\"w\"> </span><span class=\"ss\">`debug</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">m!</span><span class=\"s2\">\"{mod.getRoot.toString.rightpad 10}{name}\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\"> (collapsed := false) -/</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"n\">trace</span><span class=\"o\">[</span><span class=\"n\">debug</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"s2\">\"{mod}\"</span>\n<span class=\"w\">      </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">doc</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">findDocString?</span><span class=\"w\"> </span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"n\">decl</span><span class=\"bp\">.</span><span class=\"n\">declName</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">        </span><span class=\"n\">trace</span><span class=\"o\">[</span><span class=\"n\">debug</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"s2\">\"{doc}\"</span>\n\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">trace</span><span class=\"bp\">.</span><span class=\"n\">debug</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"bp\">#</span><span class=\"n\">show_trace_classes</span>\n</code></pre></div>\n</div></div>",
        "id": 544872761,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760501490
    },
    {
        "content": "<p>This code now also prefixes the list with the counts:</p>\n<blockquote>\n<p>Found 442 trace classes.<br>\n    [(Aesop, 13), (Mathlib, 56), (Lean, 365), (Batteries, 1), ([anonymous], 1), (Plausible, 6)]</p>\n</blockquote>",
        "id": 544874809,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760503065
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Lean trace classes, part 1</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>[debug] Lean      trace.Compiler ‚ñ∂<br>\n[debug] Lean      trace.Compiler.commonJoinPointArgs ‚ñ∂<br>\n[debug] Lean      trace.Compiler.cse ‚ñ∂<br>\n[debug] Lean      trace.Compiler.eagerLambdaLifting ‚ñ∂<br>\n[debug] Lean      trace.Compiler.elimDeadBranches ‚ñ∂<br>\n[debug] Lean      trace.Compiler.extendJoinPointContext ‚ñ∂<br>\n[debug] Lean      trace.Compiler.extractClosed ‚ñ∂<br>\n[debug] Lean      trace.Compiler.findJoinPoints ‚ñ∂<br>\n[debug] Lean      trace.Compiler.floatLetIn ‚ñ∂<br>\n[debug] Lean      trace.Compiler.inferVisibility ‚ñ∂<br>\n[debug] Lean      trace.Compiler.init ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Compiler.jp\">trace.Compiler.jp</a> ‚ñ∂<br>\n[debug] Lean      trace.Compiler.lambdaLifting ‚ñ∂<br>\n[debug] Lean      trace.Compiler.probe ‚ñ∂<br>\n[debug] Lean      trace.Compiler.pullFunDecls ‚ñ∂<br>\n[debug] Lean      trace.Compiler.pullInstances ‚ñ∂<br>\n[debug] Lean      trace.Compiler.reduceArity ‚ñ∂<br>\n[debug] Lean      trace.Compiler.reduceJpArity ‚ñ∂<br>\n[debug] Lean      trace.Compiler.result ‚ñ∂<br>\n[debug] Lean      trace.Compiler.saveBase ‚ñ∂<br>\n[debug] Lean      trace.Compiler.saveMono ‚ñ∂<br>\n[debug] Lean      trace.Compiler.simp ‚ñ∂<br>\n[debug] Lean      trace.Compiler.simp.inline ‚ñ∂<br>\n[debug] Lean      trace.Compiler.simp.jpCases ‚ñ∂<br>\n[debug] Lean      trace.Compiler.simp.stat ‚ñ∂<br>\n[debug] Lean      trace.Compiler.simp.step ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Compiler.simp.step.new\">trace.Compiler.simp.step.new</a> ‚ñ∂<br>\n[debug] Lean      trace.Compiler.specialize ‚ñ∂<br>\n[debug] Lean      trace.Compiler.specialize.candidate ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Compiler.specialize.info\">trace.Compiler.specialize.info</a> ‚ñ∂<br>\n[debug] Lean      trace.Compiler.specialize.step ‚ñ∂<br>\n[debug] Lean      trace.Compiler.stat ‚ñ∂<br>\n[debug] Lean      trace.Compiler.structProjCases ‚ñ∂<br>\n[debug] Lean      trace.Compiler.test ‚ñ∂<br>\n[debug] Lean      trace.Compiler.toMono ‚ñ∂<br>\n[debug] Lean      trace.Compiler.trace ‚ñ∂<br>\n[debug] Lean      trace.Debug.Meta.Tactic.simp ‚ñ∂<br>\n[debug] Lean      trace.Debug.Meta.Tactic.simp.congr ‚ñ∂<br>\n[debug] Lean      trace.Elab ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.RpcEncodable ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.beq ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.decEq ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.fromJson ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.hashable ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.inhabited ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.ord ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.repr ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.toExpr ‚ñ∂<br>\n[debug] Lean      trace.Elab.Deriving.toJson ‚ñ∂<br>\n[debug] Lean      trace.Elab.Tactic.Do.spec ‚ñ∂<br>\n[debug] Lean      trace.Elab.Tactic.Do.specAttr ‚ñ∂<br>\n[debug] Lean      trace.Elab.Tactic.Do.vcgen ‚ñ∂<br>\n[debug] Lean      trace.Elab.Tactic.monotonicity ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Elab.app\">trace.Elab.app</a> ‚ñ∂<br>\n[debug] Lean      trace.Elab.app.args ‚ñ∂<br>\n[debug] Lean      trace.Elab.app.elab_as_elim ‚ñ∂<br>\n[debug] Lean      trace.Elab.app.finalize ‚ñ∂<br>\n[debug] Lean      trace.Elab.app.propagateExpectedType ‚ñ∂<br>\n[debug] Lean      trace.Elab.async ‚ñ∂<br>\n[debug] Lean      trace.Elab.autoParam ‚ñ∂<br>\n[debug] Lean      trace.Elab.axiom ‚ñ∂<br>\n[debug] Lean      trace.Elab.binop ‚ñ∂<br>\n[debug] Lean      trace.Elab.binrel ‚ñ∂<br>\n[debug] Lean      trace.Elab.block ‚ñ∂<br>\n[debug] Lean      trace.Elab.cases ‚ñ∂<br>\n[debug] Lean      trace.Elab.coe ‚ñ∂<br>\n[debug] Lean      trace.Elab.command ‚ñ∂<br>\n[debug] Lean      trace.Elab.debug ‚ñ∂<br>\n[debug] Lean      trace.Elab.defaultInstance ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.body ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.eqns ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.fixedParams ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.header ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.mkClosure ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.partialFixpoint ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.partialFixpoint.induction ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.scc ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.structural ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.structural.eqns ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.unfoldEqn ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.value ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Elab.definition.wf\">trace.Elab.definition.wf</a> ‚ñ∂<br>\n[debug] Lean      trace.Elab.definition.wf.eqns ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Elab.do\">trace.Elab.do</a> ‚ñ∂<br>\n[debug] Lean      trace.Elab.eval ‚ñ∂<br>\n[debug] Lean      trace.Elab.implicitForall ‚ñ∂<br>\n[debug] Lean      trace.Elab.induction ‚ñ∂<br>\n[debug] Lean      trace.Elab.inductive ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Elab.info\">trace.Elab.info</a> ‚ñ∂<br>\n[debug] Lean      trace.Elab.input ‚ñ∂<br>\n[debug] Lean      trace.Elab.instance.mkInstanceName ‚ñ∂<br>\n[debug] Lean      trace.Elab.let ‚ñ∂<br>\n[debug] Lean      trace.Elab.let.decl ‚ñ∂<br>\n[debug] Lean      trace.Elab.letrec ‚ñ∂<br>\n[debug] Lean      trace.Elab.lint ‚ñ∂<br>\n[debug] Lean      trace.Elab.match ‚ñ∂<br>\n[debug] Lean      trace.Elab.match_syntax ‚ñ∂<br>\n[debug] Lean      trace.Elab.match_syntax.alt ‚ñ∂<br>\n[debug] Lean      trace.Elab.match_syntax.onMatch ‚ñ∂<br>\n[debug] Lean      trace.Elab.match_syntax.result ‚ñ∂<br>\n[debug] Lean      trace.Elab.postpone ‚ñ∂<br>\n[debug] Lean      trace.Elab.resume ‚ñ∂<br>\n[debug] Lean      trace.Elab.reuse ‚ñ∂<br>\n[debug] Lean      trace.Elab.snapshotTree ‚ñ∂<br>\n[debug] Lean      trace.Elab.step ‚ñ∂<br>\n[debug] Lean      trace.Elab.step.result ‚ñ∂<br>\n[debug] Lean      trace.Elab.struct ‚ñ∂<br>\n[debug] Lean      trace.Elab.struct.modifyOp ‚ñ∂<br>\n[debug] Lean      trace.Elab.structure ‚ñ∂<br>\n[debug] Lean      trace.Elab.structure.resolutionOrder ‚ñ∂<br>\n[debug] Lean      trace.Elab.tactic ‚ñ∂<br>\n[debug] Lean      trace.Elab.tactic.backtrack ‚ñ∂<br>\n[debug] Lean      trace.Kernel ‚ñ∂<br>\n[debug] Lean      trace.Meta ‚ñ∂<br>\n[debug] Lean      trace.Meta.AC ‚ñ∂<br>\n[debug] Lean      trace.Meta.FunInd ‚ñ∂<br>\n[debug] Lean      trace.Meta.IndPredBelow ‚ñ∂<br>\n[debug] Lean      trace.Meta.IndPredBelow.match ‚ñ∂<br>\n[debug] Lean      trace.Meta.Match ‚ñ∂<br>\n[debug] Lean      trace.Meta.Match.debug ‚ñ∂<br>\n[debug] Lean      trace.Meta.Match.match ‚ñ∂<br>\n[debug] Lean      trace.Meta.Match.matchEqs ‚ñ∂<br>\n[debug] Lean      trace.Meta.Match.unify ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.Do.cases ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.Do.specialize ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.acyclic ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Meta.Tactic.bv\">trace.Meta.Tactic.bv</a> ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.cases ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.contradiction ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.induction ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.sat ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.all ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.congr ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.discharge ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.ground ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.heads ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.loopProtection ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.numSteps ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.rewrite ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.simp.unify ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.solveByElim ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.splitIf ‚ñ∂<br>\n[debug] Lean      trace.Meta.Tactic.subst ‚ñ∂<br>\n[debug] Lean      trace.Meta.appBuilder ‚ñ∂<br>\n[debug] Lean      trace.Meta.appBuilder.error ‚ñ∂<br>\n[debug] Lean      trace.Meta.appBuilder.result ‚ñ∂<br>\n[debug] Lean      trace.Meta.check ‚ñ∂<br>\n[debug] Lean      trace.Meta.debug ‚ñ∂<br>\n[debug] Lean      trace.Meta.injective ‚ñ∂<br>\n[debug] Lean      trace.Meta.instantiateMVars ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign.beforeMkLambda ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign.checkTypes ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign.occursCheck ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign.outOfScopeFVar ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign.readOnlyMVarWithBiggerLCtx ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.assign.typeError ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.cache ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.constApprox ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.Meta.isDefEq.delta\">trace.Meta.isDefEq.delta</a> ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.delta.unfoldLeft ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.delta.unfoldLeftRight ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.delta.unfoldRight ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.eta.struct ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.foApprox ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.hint ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.onFailure ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.stuck ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.stuckMVar ‚ñ∂<br>\n[debug] Lean      trace.Meta.isDefEq.whnf.reduceBinOp ‚ñ∂<br>\n[debug] Lean      trace.Meta.isLevelDefEq ‚ñ∂<br>\n[debug] Lean      trace.Meta.isLevelDefEq.postponed ‚ñ∂<br>\n[debug] Lean      trace.Meta.isLevelDefEq.step ‚ñ∂<br>\n[debug] Lean      trace.Meta.isLevelDefEq.stuck ‚ñ∂<br>\n[debug] Lean      trace.Meta.letToHave ‚ñ∂<br>\n[debug] Lean      trace.Meta.letToHave.debug ‚ñ∂<br>\n[debug] Lean      trace.Meta.mkBRecOn ‚ñ∂<br>\n[debug] Lean      trace.Meta.mkCasesOn ‚ñ∂<br>\n[debug] Lean      trace.Meta.mkNoConfusion ‚ñ∂<br>\n[debug] Lean      trace.Meta.realizeConst ‚ñ∂<br>\n[debug] Lean      trace.Meta.sizeOf ‚ñ∂<br>\n[debug] Lean      trace.Meta.sizeOf.aux ‚ñ∂<br>\n[debug] Lean      trace.Meta.sizeOf.loop ‚ñ∂<br>\n[debug] Lean      trace.Meta.sizeOf.minor ‚ñ∂<br>\n[debug] Lean      trace.Meta.sizeOf.minor.step ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance.answer ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance.instances ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance.newAnswer ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance.resume ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance.tryResolve ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthInstance.unusedArgs ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthOrder ‚ñ∂<br>\n[debug] Lean      trace.Meta.synthPending ‚ñ∂<br>\n[debug] Lean      trace.Meta.whnf ‚ñ∂</p>\n</div></div>",
        "id": 544929468,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760523559
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Lean trace classes, part 2</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>[debug] Lean      trace.PrettyPrinter ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.delab ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.delab.input ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.format ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.format.backtrack ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.format.input ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.parenthesize ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.parenthesize.backtrack ‚ñ∂<br>\n[debug] Lean      trace.PrettyPrinter.parenthesize.input ‚ñ∂<br>\n[debug] Lean      trace.ReservedNameAction ‚ñ∂<br>\n[debug] Lean      trace.Tactic.librarySearch ‚ñ∂<br>\n[debug] Lean      trace.Tactic.librarySearch.lemmas ‚ñ∂<br>\n[debug] Lean      trace.Tactic.norm_cast ‚ñ∂<br>\n[debug] Lean      trace.Tactic.rewrites ‚ñ∂<br>\n[debug] Lean      trace.Tactic.rewrites.lemmas ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.compiler.ir\">trace.compiler.ir</a> ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.borrow ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.boxing ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.elim_dead ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.elim_dead_branches ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.expand_reset_reuse ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.inferMeta ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.init ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.push_proj ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.rc ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.reset_reuse ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.result ‚ñ∂<br>\n[debug] Lean      trace.compiler.ir.simp_case ‚ñ∂<br>\n[debug] Lean      trace.congr.thm ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.omega\">trace.omega</a> ‚ñ∂<br>\n[debug] Lean      trace.pp.analyze ‚ñ∂<br>\n[debug] Lean      trace.pp.analyze.annotate ‚ñ∂<br>\n[debug] Lean      trace.pp.analyze.error ‚ñ∂<br>\n[debug] Lean      trace.pp.analyze.tryUnify ‚ñ∂<br>\n[debug] Lean      trace.profiler ‚ñ∂<br>\n[debug] Lean      trace.profiler.output ‚ñ∂<br>\n[debug] Lean      trace.profiler.output.pp ‚ñ∂<br>\n[debug] Lean      trace.profiler.threshold ‚ñ∂<br>\n[debug] Lean      trace.profiler.useHeartbeats ‚ñ∂<br>\n[debug] Lean      trace.split.debug ‚ñ∂<br>\n[debug] Lean      trace.split.failure ‚ñ∂<br>\n[debug] Lean      trace.try ‚ñ∂<br>\n[debug] Lean      trace.try.collect ‚ñ∂<br>\n[debug] Lean      trace.try.collect.funInd ‚ñ∂<br>\n[debug] Lean      trace.try.debug ‚ñ∂<br>\n[debug] Lean      trace.try.debug.chain ‚ñ∂<br>\n[debug] Lean      trace.try.debug.funInd ‚ñ∂</p>\n</div></div>",
        "id": 544929526,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760523579
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Lean trace classes, part 3 (everything about grind)</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>[debug] Lean      trace.grind ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.ac\">trace.grind.ac</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.ac.assert ‚ñ∂<br>\n[debug] Lean      trace.grind.ac.basis ‚ñ∂<br>\n[debug] Lean      trace.grind.ac.internalize ‚ñ∂<br>\n[debug] Lean      trace.grind.assert ‚ñ∂<br>\n[debug] Lean      trace.grind.beta ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat.assert ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat.assert.nonlinear ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.cutsat.assert.store\">trace.grind.cutsat.assert.store</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat.assert.trivial ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat.assert.unsat ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat.model ‚ñ∂<br>\n[debug] Lean      trace.grind.cutsat.nonlinear ‚ñ∂<br>\n[debug] Lean      trace.grind.debug ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ac.check ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ac.eq ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ac.op ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ac.queue ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ac.simp ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ac.superpose ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.appMap ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.beta ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.debug.canon\">trace.grind.debug.canon</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.congr ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.elimEq ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.internalize ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.debug.cutsat.search\">trace.grind.debug.cutsat.search</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.search.assign ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.search.backtrack ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.search.cnstrs ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.search.conflict ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.search.reorder ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.search.split ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.subst ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.cutsat.toInt ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ematch ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ematch.activate ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ematch.pattern ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ext ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.debug.final\">trace.grind.debug.final</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.forallPropagator ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.internalize ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.debug.linarith.search\">trace.grind.debug.linarith.search</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.linarith.search.assign ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.linarith.search.backtrack ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.linarith.search.conflict ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.linarith.search.split ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.linarith.subst ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.matchCond ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.matchCond.lambda ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.matchCond.proveFalse ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.mbtc ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.offset ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.offset.proof ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.parent ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.proj ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.proof ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.proofs ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.proveEq ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.pushNewFact ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.basis ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.check ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.impEq ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.proof ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.rabinowitsch ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.simp ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.ring.simpBasis ‚ñ∂<br>\n[debug] Lean      trace.grind.debug.split ‚ñ∂<br>\n[debug] Lean      trace.grind.ematch ‚ñ∂<br>\n[debug] Lean      trace.grind.ematch.instance ‚ñ∂<br>\n[debug] Lean      trace.grind.ematch.instance.assignment ‚ñ∂<br>\n[debug] Lean      trace.grind.ematch.pattern ‚ñ∂<br>\n[debug] Lean      trace.grind.eqResolution ‚ñ∂<br>\n[debug] Lean      trace.grind.eqc ‚ñ∂<br>\n[debug] Lean      trace.grind.ext ‚ñ∂<br>\n[debug] Lean      trace.grind.ext.candidate ‚ñ∂<br>\n[debug] Lean      trace.grind.internalize ‚ñ∂<br>\n[debug] Lean      trace.grind.issues ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith.assert ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith.assert.ignored ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.linarith.assert.store\">trace.grind.linarith.assert.store</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith.assert.trivial ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith.assert.unsat ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith.internalize ‚ñ∂<br>\n[debug] Lean      trace.grind.linarith.model ‚ñ∂<br>\n[debug] Lean      trace.grind.lookahead ‚ñ∂<br>\n[debug] Lean      trace.grind.lookahead.add ‚ñ∂<br>\n[debug] Lean      trace.grind.lookahead.assert ‚ñ∂<br>\n[debug] Lean      trace.grind.lookahead.try ‚ñ∂<br>\n[debug] Lean      trace.grind.mbtc ‚ñ∂<br>\n[debug] Lean      trace.grind.offset ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.dist ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.eq ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.eq.from ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.offset.eq.to\">trace.grind.offset.eq.to</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.internalize ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.internalize.term ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.model ‚ñ∂<br>\n[debug] Lean      trace.grind.offset.propagate ‚ñ∂<br>\n[debug] Lean      trace.grind.ring ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.assert ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.assert.basis ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.assert.queue ‚ñ∂<br>\n[debug] Lean      <a href=\"http://trace.grind.ring.assert.store\">trace.grind.ring.assert.store</a> ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.assert.trivial ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.assert.unsat ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.impEq ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.internalize ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.simp ‚ñ∂<br>\n[debug] Lean      trace.grind.ring.superpose ‚ñ∂<br>\n[debug] Lean      trace.grind.simp ‚ñ∂<br>\n[debug] Lean      trace.grind.split ‚ñ∂<br>\n[debug] Lean      trace.grind.split.candidate ‚ñ∂<br>\n[debug] Lean      trace.grind.split.resolved ‚ñ∂<br>\n[debug] Lean      trace.grind.trace ‚ñ∂</p>\n</div></div>",
        "id": 544929575,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760523601
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>All trace classes not in Lean</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>[debug] Aesop     trace.Aesop.Util.EqualUpToIds ‚ñ∂<br>\n[debug] Mathlib   trace.CancelDenoms ‚ñ∂<br>\n[debug] Mathlib   <a href=\"http://trace.Debug.Meta.Tactic.cc\">trace.Debug.Meta.Tactic.cc</a> ‚ñ∂<br>\n[debug] Mathlib   <a href=\"http://trace.Debug.Meta.Tactic.cc.ac\">trace.Debug.Meta.Tactic.cc.ac</a> ‚ñ∂<br>\n[debug] Mathlib   trace.Debug.Meta.Tactic.cc.parentOccs ‚ñ∂<br>\n[debug] Mathlib   trace.Debug.Meta.Tactic.fun_prop ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.Deriving.fintype ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.DiffGeo ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.DiffGeo.MDiff ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.DiffGeo.TotalSpaceMk ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.ProxyType ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.congr ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.fast_instance ‚ñ∂<br>\n[debug] Mathlib   trace.Elab.fbinop ‚ñ∂<br>\n[debug] Mathlib   trace.Mathlib.Deriving.Encodable ‚ñ∂<br>\n[debug] Mathlib   trace.Mathlib.Deriving.countable ‚ñ∂<br>\n[debug] Mathlib   trace.Meta.CongrTheorems ‚ñ∂<br>\n[debug] Mathlib   trace.Meta.Tactic.cc.failure ‚ñ∂<br>\n[debug] Mathlib   trace.Meta.Tactic.cc.merge ‚ñ∂<br>\n[debug] Mathlib   trace.Meta.Tactic.fun_prop ‚ñ∂<br>\n[debug] Mathlib   trace.Meta.Tactic.fun_prop.attr ‚ñ∂<br>\n[debug] Mathlib   trace.Meta.gcongr ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.compute_degree ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.congrm ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.depRewrite ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.depRewrite.cast ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.depRewrite.visit ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.field_simp ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.generalize_proofs ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.move_oper ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.norm_num ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.positivity ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.positivity.failure ‚ñ∂<br>\n[debug] Mathlib   trace.Tactic.propose ‚ñ∂<br>\n[debug] Batteries trace.Tactic.trans ‚ñ∂<br>\n[debug] Mathlib   trace.abel ‚ñ∂<br>\n[debug] Mathlib   trace.abel.detail ‚ñ∂<br>\n[debug] Mathlib   trace.adaptationNote ‚ñ∂<br>\n[debug] Aesop     trace.aesop ‚ñ∂<br>\n[debug] Aesop     trace.aesop.debug ‚ñ∂<br>\n[debug] Aesop     trace.aesop.extraction ‚ñ∂<br>\n[debug] Aesop     trace.aesop.forward ‚ñ∂<br>\n[debug] Aesop     trace.aesop.forward.debug ‚ñ∂<br>\n[debug] Aesop     trace.aesop.proof ‚ñ∂<br>\n[debug] Aesop     trace.aesop.rpinf ‚ñ∂<br>\n[debug] Aesop     trace.aesop.ruleSet ‚ñ∂<br>\n[debug] Aesop     trace.aesop.script ‚ñ∂<br>\n[debug] Aesop     trace.aesop.stats ‚ñ∂<br>\n[debug] Aesop     trace.aesop.tree ‚ñ∂<br>\n[debug] Mathlib   trace.apply_fun ‚ñ∂<br>\n[debug] Mathlib   trace.bicategory ‚ñ∂<br>\n[debug] Mathlib   trace.bound.attribute ‚ñ∂<br>\n[debug] Mathlib   trace.congr! ‚ñ∂<br>\n[debug] Mathlib   trace.congr!.synthesize ‚ñ∂<br>\n[debug] [anonymous]trace.debug ‚ñ∂<br>\n[debug] Mathlib   trace.explode ‚ñ∂<br>\n[debug] Mathlib   trace.linarith ‚ñ∂<br>\n[debug] Mathlib   trace.linarith.detail ‚ñ∂<br>\n[debug] Mathlib   trace.monoidal ‚ñ∂<br>\n[debug] Mathlib   trace.notation3 ‚ñ∂<br>\n[debug] Mathlib   trace.order ‚ñ∂<br>\n[debug] Plausible trace.plausible.decoration ‚ñ∂<br>\n[debug] Plausible trace.plausible.discarded ‚ñ∂<br>\n[debug] Plausible trace.plausible.instance ‚ñ∂<br>\n[debug] Plausible trace.plausible.shrink.candidates ‚ñ∂<br>\n[debug] Plausible trace.plausible.shrink.steps ‚ñ∂<br>\n[debug] Plausible trace.plausible.success ‚ñ∂<br>\n[debug] Mathlib   <a href=\"http://trace.rw\">trace.rw</a>?? ‚ñ∂<br>\n[debug] Aesop     trace.saturate ‚ñ∂<br>\n[debug] Mathlib   trace.simps.debug ‚ñ∂<br>\n[debug] Mathlib   trace.simps.verbose ‚ñ∂<br>\n[debug] Mathlib   trace.string_diagram ‚ñ∂<br>\n[debug] Mathlib   trace.tactic.use ‚ñ∂<br>\n[debug] Mathlib   trace.tauto ‚ñ∂<br>\n[debug] Mathlib   trace.to_additive ‚ñ∂<br>\n[debug] Mathlib   trace.to_additive_detail ‚ñ∂<br>\n[debug] Mathlib   trace.variable? ‚ñ∂</p>\n</div></div>",
        "id": 544929777,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760523669
    }
]