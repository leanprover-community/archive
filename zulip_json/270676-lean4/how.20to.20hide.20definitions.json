[
    {
        "content": "<p>is there any way to hide definitions from outside modules in lean?<br>\nfor example, inside the module i would have:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">10</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">fact</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">repeat</span><span class=\"w\"> </span><span class=\"n\">constructor</span>\n</code></pre></div>\n<p>and then outside the module, i would have <code>a : Nat</code> and <code>fact : a &gt; 5</code>, but it should be impossible to prove <code>a = 10</code>.</p>",
        "id": 558767222,
        "sender_full_name": "Jacob Prinz",
        "timestamp": 1763768529
    },
    {
        "content": "<p>Maybe make <code>a</code> a <code>public def</code> and <code>fact</code> a <code>public theorem</code> but don't <code>@[expose]</code> the <code>a</code>?</p>",
        "id": 558767514,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763768712
    },
    {
        "content": "<p>still getting used to this module thing</p>",
        "id": 558767526,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763768721
    },
    {
        "content": "<p>that doesn't seem to work, unless i'm misunderstanding how to use modules. i also tried having a second private version of <code>a</code>, and setting the public version to the private version, but this also didn't work. <code>@[irreducible]</code> doesn't seem to help either.</p>",
        "id": 558768280,
        "sender_full_name": "Jacob Prinz",
        "timestamp": 1763769372
    },
    {
        "content": "<p>if it doesn't work then I have no more ideas</p>",
        "id": 558768864,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763769810
    },
    {
        "content": "<p>why doesn't it work?</p>",
        "id": 558768883,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763769826
    },
    {
        "content": "<p>none of those strategies stop the proof of <code>a = 10</code> going through in the other module, so it didn't get hidden.</p>",
        "id": 558769019,
        "sender_full_name": "Jacob Prinz",
        "timestamp": 1763769917
    },
    {
        "content": "<p>Did you make it a module?</p>",
        "id": 558769251,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763770088
    },
    {
        "content": "<p>It be great if you gave some code so I can see what you're doing and maybe reproduce it</p>",
        "id": 558769329,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763770140
    },
    {
        "content": "<p>i have a file <code>test1.lean</code> with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">module</span>\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">10</span>\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">fact</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">repeat</span><span class=\"w\"> </span><span class=\"n\">constructor</span>\n</code></pre></div>\n<p>and a second file <code>test2.lean</code> with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Project</span><span class=\"bp\">.</span><span class=\"n\">test1</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>the proof goes though, which is what i'm trying to prevent</p>",
        "id": 558769455,
        "sender_full_name": "Jacob Prinz",
        "timestamp": 1763770235
    },
    {
        "content": "<p>It only works if you make <code>test2.lean</code> also a <code>module</code> I think</p>",
        "id": 558769764,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763770511
    },
    {
        "content": "<p>otherwise you can't really hide anything</p>",
        "id": 558769843,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1763770579
    },
    {
        "content": "<p>thanks! that works</p>",
        "id": 558769850,
        "sender_full_name": "Jacob Prinz",
        "timestamp": 1763770585
    }
]