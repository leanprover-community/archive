[
    {
        "content": "<p>Hi, I want to add the ability for fuzzy searching workspace symbols in IJ. On the client end, there seems to be no way to determine when an LSP request should be sent to the server. As a result, many <code>workspace/symbol</code> requests are sent as the user types. When the user types new characters, the client now tries to cancel the old request with <code>$/cancelRequest</code>. However, it seems the responses are quite slow in the clientâ€™s trace log(testing with v4.11 and Mathlib and MIL)</p>\n<p><a href=\"/user_uploads/3121/YqShHoMUPJlC1Q-r3mWPEK90/E89F6BFA-74E1-4EA5-A6FC-5EEB093602A8.jpg\">E89F6BFA-74E1-4EA5-A6FC-5EEB093602A8.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/YqShHoMUPJlC1Q-r3mWPEK90/E89F6BFA-74E1-4EA5-A6FC-5EEB093602A8.jpg\" title=\"E89F6BFA-74E1-4EA5-A6FC-5EEB093602A8.jpg\"><img data-original-dimensions=\"1280x911\" src=\"/user_uploads/thumbnail/3121/YqShHoMUPJlC1Q-r3mWPEK90/E89F6BFA-74E1-4EA5-A6FC-5EEB093602A8.jpg/840x560.webp\"></a></div><p>Any ideas? I checked <a href=\"https://github.com/leanprover/lean4/blob/master/src/Lean/Server/Watchdog.lean#L844\">some code</a> and am not sure if the previous <code>workspace/symbol</code> request can be interrupted if it is still being handled by <code>$cancel/request</code>.</p>",
        "id": 490098001,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1734673793
    },
    {
        "content": "<p>VS Code works around this to some degree by only requesting the symbols when the user has stopped typing for a bit, though you can obviously still spam the server with requests if you add another character just after that. </p>\n<p>The performance of this request downstream of Mathlib is definitely pretty horrible and we don't really handle <code>$/cancelRequest</code> at the moment. I'll look into these at some point.</p>",
        "id": 490140573,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1734693231
    },
    {
        "content": "<p>Thanks for the information. Yeah some debouncing algorithms are nice work around. I will try them too</p>",
        "id": 490147762,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1734696056
    }
]