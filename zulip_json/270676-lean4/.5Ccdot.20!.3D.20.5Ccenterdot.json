[
    {
        "content": "<p>In my mind this is a mess, since the <code>c</code> in <code>\\cdot</code> sure stands for <code>center</code>, no?<br>\nCan we rename <code>\\cdot</code> (and also <code>\\dot</code>, since its the same)? <br>\nIt is not even a dot, it is a square!  <span aria-label=\"white small square\" class=\"emoji emoji-25ab\" role=\"img\" title=\"white small square\">:white_small_square:</span><br>\nMaybe <code>\\square</code> andor <code>\\csquare</code> would be less confusing to type?<br>\nMaybe we can also use a slighty more easier to differentiate (from a circle) square symbol?</p>",
        "id": 528312220,
        "sender_full_name": "Moritz R",
        "timestamp": 1752231044
    },
    {
        "content": "<p>Indeed, right now:</p>\n<ul>\n<li><code>\\cdot</code> is <code>⬝</code> <a href=\"https://www.compart.com/en/unicode/U+2B1D\">U+2B1D</a> \"Black Very Small Square\"</li>\n<li><code>\\centerdot</code> is <code>·</code> <a href=\"https://www.compart.com/en/unicode/U+00B7\">U+00B7</a> \"Middle Dot\"</li>\n</ul>",
        "id": 528314622,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752232009
    },
    {
        "content": "<p>Maybe we should just eliminate uses of the former entirely, since it seems semantically meaningless too</p>",
        "id": 528314797,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752232086
    },
    {
        "content": "<p>I believe in the past we used it for matrix multiplication, but now we only use it for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=dotProduct#doc\">docs#dotProduct</a></p>",
        "id": 528314827,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752232103
    },
    {
        "content": "<p>Perhaps we should switch dotProduct to use \\centerdot and see if anything breaks?</p>",
        "id": 528314937,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752232150
    },
    {
        "content": "<p>this reminded me of the notation for crossproduct (mentioned <a href=\"#narrow/channel/113489-new-members/topic/Using.20crossProduct.20in.20EuclideanSpace.20.28Fin.203.29/near/520119542\">here</a>):</p>\n<blockquote>\n<p>for cross products the corresponding symbol<br>\n<code>×₃</code> is typed using <code>\\x</code> or <code>\\times</code> or <code>\\multiplication</code>, but then there is <br>\n<code>⨯</code>which is <code>\\X</code> or <code>\\vectorproduct</code> or <code>\\crossproduct</code> which seem a bit odd.</p>\n</blockquote>",
        "id": 528317591,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752232999
    },
    {
        "content": "<p>I completely missed that message, I've moved it to a new thread for visibility</p>",
        "id": 528318553,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752233345
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/270676-lean4/topic/.5Ccdot.20!.3D.20.5Ccenterdot/near/528314797\">schrieb</a>:</p>\n<blockquote>\n<p>Maybe we should just eliminate uses of the former entirely, since it seems semantically meaningless too</p>\n</blockquote>\n<p>And make <code>\\cdot</code> then an abbreviation for <code>\\centerdot</code></p>",
        "id": 528356149,
        "sender_full_name": "Moritz R",
        "timestamp": 1752245565
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/270676-lean4/topic/.5Ccdot.20!.3D.20.5Ccenterdot/near/528314937\">said</a>:</p>\n<blockquote>\n<p>Perhaps we should switch dotProduct to use \\centerdot and see if anything breaks?</p>\n</blockquote>\n<p><code>\\centerdot</code> is core notation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">inc</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"c1\">-- 1</span>\n</code></pre></div>\n<p><a href=\"https://github.com/leanprover-community/vscode-lean4/pull/639\">vscode-lean4#639</a> adjusts <code>\\dot</code> and <code>\\cdot</code> to resolve to <code>·</code> instead. There are still two other abbreviations to type this notation (<code>\\tr</code> and <code>\\con</code>). Please let me know if this is what you want.</p>",
        "id": 530342879,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1753276853
    },
    {
        "content": "<p>My comment was that we should reuse the core notation</p>",
        "id": 530346328,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753277779
    },
    {
        "content": "<p>It has a subscript v after it in dotProduct so shouldn't be ambiguous</p>",
        "id": 530346379,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753277795
    },
    {
        "content": "<p>OK, but is the PR above reasonable for Mathlib?</p>",
        "id": 530347877,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1753278221
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"221921\">Marc Huisinga</span> <a href=\"#narrow/channel/270676-lean4/topic/.5Ccdot.20!.3D.20.5Ccenterdot/near/530342879\">said</a>:</p>\n<blockquote>\n<p>There are still two other abbreviations to type this notation</p>\n</blockquote>\n<p>To type which one?</p>",
        "id": 530350506,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753278806
    },
    {
        "content": "<p>\\tr and \\con types the black square (they are unchanged in the pr)</p>",
        "id": 530354811,
        "sender_full_name": "Moritz R",
        "timestamp": 1753279672
    },
    {
        "content": "<p>In my opinion, <a href=\"https://github.com/leanprover-community/vscode-lean4/pull/639\">vscode-lean4#639</a> is good for Mathlib, and in Mathlib we should just do a global search-and-replace from (the old) <code>\\cdot</code> to <code>\\.</code> (with a bit of checking that there are no exceptions that actually want the old notation).</p>",
        "id": 530378019,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1753285409
    },
    {
        "content": "<p>My claim is that we should do that replacement first</p>",
        "id": 530396567,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753290900
    },
    {
        "content": "<p>i tried the global replacement <a href=\"https://github.com/leanprover-community/mathlib4/pull/27399\">here</a>.<br>\nTurns out we also use <code>\\cdot</code> (without any subscript here!) for the composition of path homotopy classes:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"kn\">infixl</span><span class=\"o\">:</span><span class=\"mi\">70</span><span class=\"w\"> </span><span class=\"s2\">\" ⬝ \"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">comp</span>\n</code></pre></div>\n<p>in Mathlib\\Topology\\Homotopy\\Product.lean</p>",
        "id": 530416808,
        "sender_full_name": "Moritz R",
        "timestamp": 1753298168
    },
    {
        "content": "<p>If we replace it there as well, this file breaks (currently the only one)</p>",
        "id": 530416990,
        "sender_full_name": "Moritz R",
        "timestamp": 1753298240
    },
    {
        "content": "<p>and i don't know why</p>",
        "id": 530417019,
        "sender_full_name": "Moritz R",
        "timestamp": 1753298255
    },
    {
        "content": "<p>but i believe it has to do with <code>\\centerdot</code> also being a placeholder for a function argument?</p>",
        "id": 530417195,
        "sender_full_name": "Moritz R",
        "timestamp": 1753298342
    },
    {
        "content": "<p>Yeah, <code>·</code> is basically off-limits for user notation because of that. I'd expect <code>p · q</code> to parse as the function <code>p</code> with arguments <code>·</code> and <code>q</code>, where <code>·</code> is the core <code>·</code> term.</p>",
        "id": 530417550,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1753298500
    },
    {
        "content": "<p>Perhaps we can use <code>∘ₕ</code> or similar instead? Maybe we can ask the original authors of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Path.Homotopic.Quotient.comp#doc\">docs#Path.Homotopic.Quotient.comp</a></p>",
        "id": 530417793,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753298604
    },
    {
        "content": "<p>Maybe even just <code>∘</code> works</p>",
        "id": 530417958,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753298669
    },
    {
        "content": "<p><code>∘ₕ</code> and <code>∘</code> both work</p>",
        "id": 530418430,
        "sender_full_name": "Moritz R",
        "timestamp": 1753298852
    },
    {
        "content": "<p>Author of <code>Path.Homotopic.Quotient</code> is <span class=\"user-mention\" data-user-id=\"266440\">@Shing Tak Lam</span></p>",
        "id": 530418698,
        "sender_full_name": "Moritz R",
        "timestamp": 1753298959
    },
    {
        "content": "<p>(last active 6. Okt. 2022 though) <span aria-label=\"smiling face with tear\" class=\"emoji emoji-1f972\" role=\"img\" title=\"smiling face with tear\">:smiling_face_with_tear:</span></p>",
        "id": 530418880,
        "sender_full_name": "Moritz R",
        "timestamp": 1753299032
    },
    {
        "content": "<p>Author of the file defining the notation is <span class=\"user-mention\" data-user-id=\"437861\">@Praneeth Kolichala</span></p>",
        "id": 530419016,
        "sender_full_name": "Moritz R",
        "timestamp": 1753299091
    },
    {
        "content": "<p>For now I think just revert those changes</p>",
        "id": 530419329,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753299205
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/270676-lean4/topic/.5Ccdot.20!.3D.20.5Ccenterdot/near/530396567\">said</a>:</p>\n<blockquote>\n<p>My claim is that we should do that replacement first</p>\n</blockquote>\n<p>To be clear, the only replacement that I think really matters is dotProduct</p>",
        "id": 530419444,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753299250
    },
    {
        "content": "<p>Some additional context: The file in question only has 6 total occurences of this notation</p>",
        "id": 530420061,
        "sender_full_name": "Moritz R",
        "timestamp": 1753299494
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- `formatDiff z` uses `intDecs` to format an integer `z` as `±x.y⬝10⁹`. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">formatDiff</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">sgn</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">intDigs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">decDigs</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">intDecs</span><span class=\"w\"> </span><span class=\"n\">z</span>\n<span class=\"w\">  </span><span class=\"n\">s!</span><span class=\"s2\">\"{sgn}{intDigs}.{decDigs}⬝10⁹\"</span>\n</code></pre></div>",
        "id": 530427801,
        "sender_full_name": "Moritz R",
        "timestamp": 1753302572
    },
    {
        "content": "<p>I think we should also change this occurence, yes?</p>",
        "id": 530427841,
        "sender_full_name": "Moritz R",
        "timestamp": 1753302590
    },
    {
        "content": "<p>a square shouldn't be the symbol used here in my opinion</p>",
        "id": 530427934,
        "sender_full_name": "Moritz R",
        "timestamp": 1753302626
    },
    {
        "content": "<p>This is formatting from the benchmark file:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">This</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">contains</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">script</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">converts</span><span class=\"w\"> </span><span class=\"n\">data</span><span class=\"w\"> </span><span class=\"n\">retrieved</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">speed</span><span class=\"bp\">-</span><span class=\"n\">center</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"n\">shorter</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">accessible</span><span class=\"w\"> </span><span class=\"n\">format</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">post</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">comment</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">summary</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">github</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 530428131,
        "sender_full_name": "Moritz R",
        "timestamp": 1753302691
    },
    {
        "content": "<p>i have split the pr. The original one, only replaces the dot product.<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/27403\">This new one</a> replaces probably erroneous uses of <code>\\cdot</code> with <code>centerdot</code>.</p>",
        "id": 530430444,
        "sender_full_name": "Moritz R",
        "timestamp": 1753303711
    },
    {
        "content": "<p>This leaves only the 6 above mentioned instances in <code>Mathlib\\Topology\\Homotopy\\Product.lean</code></p>",
        "id": 530430691,
        "sender_full_name": "Moritz R",
        "timestamp": 1753303821
    },
    {
        "content": "<p>I'm going to throw a spanner in the works here; I just found <code>⋅ U+22C5 dot operator</code>, which seems like it's the symbol we should actually use for multiplication-y things</p>",
        "id": 530431097,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753303997
    },
    {
        "content": "<p>can we make this an independent discussion?<br>\nFor this PR the goal is to get rid of the ambiguity in typing cdot vs centerdot and have them both be the same symbol. Which one exactly can then more easily be changed</p>",
        "id": 530432144,
        "sender_full_name": "Moritz R",
        "timestamp": 1753304450
    },
    {
        "content": "<p>More detail: In <a href=\"https://www.unicode.org/charts/PDF/U0080.pdf\">https://www.unicode.org/charts/PDF/U0080.pdf</a>, one of the notes for 00B7 MIDDLE DOT says:</p>\n<blockquote>\n<p>also used as a raised decimal point or to denote multiplication; for multiplication 22C5 ⋅ is preferred</p>\n</blockquote>\n<p>and in <a href=\"https://www.unicode.org/charts/PDF/U2200.pdf\">https://www.unicode.org/charts/PDF/U2200.pdf</a>, the note for 22C5 DOT OPERATOR says:</p>\n<blockquote>\n<p>preferred to 00B7 · for denotation of multiplication</p>\n</blockquote>",
        "id": 530432356,
        "sender_full_name": "Joscha Mennicken",
        "timestamp": 1753304529
    },
    {
        "content": "<blockquote>\n<p>Which one exactly can then more easily be changed</p>\n</blockquote>\n<p>Changing the notation of dotProduct breaks every downstream project using it. We can deprecate the old notation to make it less annoying, but we should make sure not to change it more than once.</p>",
        "id": 530434984,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753305577
    },
    {
        "content": "<p>ok i see</p>",
        "id": 530435338,
        "sender_full_name": "Moritz R",
        "timestamp": 1753305712
    },
    {
        "content": "<p>When you suggest using 22C5, do you mean to also change the \\centerdot in its function-argument-dot role?<br>\nIf not, we would have both 00B7 and 22C5, which look exactly alike to me even with alot of zoom.</p>",
        "id": 530435770,
        "sender_full_name": "Moritz R",
        "timestamp": 1753305834
    },
    {
        "content": "<p>And then we would have to invent different aliases for them</p>",
        "id": 530435834,
        "sender_full_name": "Moritz R",
        "timestamp": 1753305852
    },
    {
        "content": "<p>and then we are in the current situation again, only this time its worse, since its both dots, no?</p>",
        "id": 530435934,
        "sender_full_name": "Moritz R",
        "timestamp": 1753305881
    },
    {
        "content": "<blockquote>\n<p>If not, we would have both 00B7 and 22C5, which look exactly alike to me even with alot of zoom.</p>\n</blockquote>\n<p>I claim this is not an issue, at least for <code>dotProduct</code> which also has the subscript v</p>",
        "id": 530436279,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753305990
    },
    {
        "content": "<p>You can tell which one it is based on whether the code compiles, which is the same for most other unicode confusables</p>",
        "id": 530436334,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753306008
    },
    {
        "content": "<p>This just makes it a frustrating typing experience</p>",
        "id": 530436709,
        "sender_full_name": "Moritz R",
        "timestamp": 1753306176
    },
    {
        "content": "<p>Adding <code>\\dotProduct</code> and <code>\\dotv</code> to the abbreviation list would probably alleviate that</p>",
        "id": 530436922,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753306261
    },
    {
        "content": "<p><code>\\cdot\\_v</code> is still pretty annoying to type</p>",
        "id": 530436966,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753306277
    },
    {
        "content": "<p>To understand your perspective i need your answers on:</p>\n<ul>\n<li>what is it we gain, from having 2 lookalike symbols? </li>\n<li>which one deserves both of the aliases cdot and \\centerdot? </li>\n<li>What could be the name of the other one?</li>\n</ul>",
        "id": 530437795,
        "sender_full_name": "Moritz R",
        "timestamp": 1753306692
    },
    {
        "content": "<blockquote>\n<ul>\n<li>what is it we gain, from having 2 lookalike symbols? </li>\n</ul>\n</blockquote>\n<p>This is a question for the unicode consortium <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span> </p>\n<blockquote>\n<p>which one deserves both of the aliases cdot and \\centerdot? </p>\n</blockquote>\n<p>The one that's built in to lean should claim both (the current <code>\\centerdot</code>)</p>\n<blockquote>\n<p>What could be the name of the other one?</p>\n</blockquote>\n<p><code>\\dotProduct</code> and <code>\\dotv</code>, when combined into a compound operator. We could call it <code>\\dotoperator</code> (which the extension would permit as <code>dotop</code>) if we really want a name for the standalone symbol</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code>\n</code></pre></div>",
        "id": 530437998,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753306802
    },
    {
        "content": "<p>But I think it's worth more opinions here before deciding</p>",
        "id": 530438194,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753306900
    },
    {
        "content": "<p>In the meantime, we could still fix all the mistakes you found in <a href=\"https://github.com/leanprover-community/mathlib4/pull/27403\">#27403</a>, if you revert the dotProduct changes from that PR</p>",
        "id": 530438248,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753306924
    },
    {
        "content": "<p>if we are considering changing the standard multiplication symbol, then the changes in <a href=\"https://github.com/leanprover-community/mathlib4/pull/27403\">#27403</a> can only be done once the dotproduct is also through, so i don't see the point in changing them now</p>",
        "id": 530438551,
        "sender_full_name": "Moritz R",
        "timestamp": 1753307073
    },
    {
        "content": "<p>The vast majority of <a href=\"https://github.com/leanprover-community/mathlib4/pull/27403\">#27403</a> is fixing mistakes where people meant to write <code>\\centerdot</code> all along</p>",
        "id": 530438683,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753307133
    },
    {
        "content": "<p>We can fix those without making any decisions</p>",
        "id": 530438715,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753307147
    },
    {
        "content": "<p>They meant mostly a multiplication dot, not the argdot ---- ok no, not mostly</p>",
        "id": 530439039,
        "sender_full_name": "Moritz R",
        "timestamp": 1753307303
    },
    {
        "content": "<p>ill do it when i'm bored at some point</p>",
        "id": 530439458,
        "sender_full_name": "Moritz R",
        "timestamp": 1753307497
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">This</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">question</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">unicode</span><span class=\"w\"> </span><span class=\"n\">consortium</span>\n</code></pre></div>\n<p>I think we should have a more convincing reason, if we are to implement different symbols ;)</p>",
        "id": 530439776,
        "sender_full_name": "Moritz R",
        "timestamp": 1753307652
    }
]