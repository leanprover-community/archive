[
    {
        "content": "<p>Say I have a list <code>l</code> and I want to do <code>induction l with | nil =&gt; ... | cons hd tl IH =&gt; ...</code>, how do I get Lean to produce the hypothesis <code>l = cons hd tl</code> in the second case? It would be similar to the <code>induction ... eqn:E</code> tactic from Coq, Thanks!</p>",
        "id": 481211914,
        "sender_full_name": "Andrey Yao",
        "timestamp": 1731019627
    },
    {
        "content": "<p>This feature doesn't exist yet for <code>induction</code>. If you use mathlib, <code>induction' h : l</code> would work, but then you don't get the <code>with</code> syntax. (For <code>induction'</code>, the <code>with</code> clause takes a list of all the variable names. It's like in the Lean 3 version of <code>induction</code>.)</p>",
        "id": 481212215,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1731019806
    },
    {
        "content": "<p>I think this simulates it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">generalize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">l'</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">l'</span><span class=\"w\"> </span><span class=\"n\">generalizing</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"n\">hd</span><span class=\"w\"> </span><span class=\"n\">tl</span><span class=\"w\"> </span><span class=\"n\">IH</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 481212390,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1731019938
    },
    {
        "content": "<p>That worked! Tysm</p>",
        "id": 481214507,
        "sender_full_name": "Andrey Yao",
        "timestamp": 1731021318
    }
]