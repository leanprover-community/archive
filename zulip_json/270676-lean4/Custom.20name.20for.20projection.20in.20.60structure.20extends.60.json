[
    {
        "content": "<p>Is it possible to rename the custom name for projection (the <code>toFoo</code>) in <code>structure extends</code>?<br>\nFor context, I'm trying to make <code>Scheme.Hom</code> extends <code>LocallyRingedSpace.Hom</code> extends <code>PresheafedSpace.Hom</code>, the <code>LocallyRingedSpace.Hom</code>-&gt; <code>PresheafedSpace.Hom</code> gets called <code>toHom</code>, and the <code>Scheme.Hom</code> -&gt; <code>LocallyRingedSpace.Hom</code> now becomes <code>toHom_1</code>, and the extra <code>_</code> is pissing off simps.</p>",
        "id": 453590415,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1721795085
    },
    {
        "content": "<p>I hit the same issue in <a href=\"https://github.com/leanprover-community/mathlib4/pull/10560\">#10560</a> with <code>toMinimalAxioms</code> and <code>toMinimalAxioms_1</code></p>",
        "id": 453595959,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1721797908
    },
    {
        "content": "<p>Okay the name seems to be hardcoded at <code>Lean.Elab.Command.mkToParentName</code>. IIRC we could write<br>\n<code>structue Foo extends (myBar : Bar)</code> in lean3 to rename the projections. Could we somehow restore this behaviour?</p>",
        "id": 453603185,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1721801090
    },
    {
        "content": "<p>Can you give a nicer alternative name using a manual <code>abbrev</code>?<br>\nAh, but too late for <code>simps</code>, I assume.</p>\n<p>Certainly worth recording as a lean issue, especially if it's a regression relative to lean 3.  Maybe also try to assess just how pressing this is for mathlib (relative to all the other things that could be worked on <span aria-label=\"man shrugging\" class=\"emoji emoji-1f937-200d-2642\" role=\"img\" title=\"man shrugging\">:man_shrugging:</span>)</p>",
        "id": 453603465,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1721801267
    },
    {
        "content": "<p>Is there still an online playground to test lean3 somewhere? If I was not hallucinating about that lean3 syntax I'll open an issue.<br>\nAnyways I'll start looking into <code>simps</code> to see if things can be improved from that side. Maybe a solution here is for simps to not consider <code>A</code> as a prefix of <code>B</code> if <code>B = A_someNumber</code>.</p>",
        "id": 453605000,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1721801829
    },
    {
        "content": "<p>That sounds useful too</p>",
        "id": 453606381,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1721802267
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> does the workaround for simps above sound reasonable? I could try to implement it if it is. (It would be better done by you but I assume you are busy with Carleson.)</p>",
        "id": 453606519,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1721802315
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/stream/270676-lean4/topic/Custom.20name.20for.20projection.20in.20.60structure.20extends.60/near/453605000\">said</a>:</p>\n<blockquote>\n<p>Is there still an online playground to test lean3 somewhere? If I was not hallucinating about that lean3 syntax I'll open an issue.</p>\n</blockquote>\n<p>Zulip should add a Lean 3 playground link to this</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">structure</span><span class=\"w\"> </span><span class=\"n\">my_prod</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">to_base</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">prod</span><span class=\"w\"> </span><span class=\"n\">nat</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n</code></pre></div>",
        "id": 453621417,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1721807525
    },
    {
        "content": "<p>I opened a tentative PR for the simps workaround <a href=\"https://github.com/leanprover-community/mathlib4/pull/15095\">#15095</a></p>",
        "id": 453623969,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1721808361
    }
]