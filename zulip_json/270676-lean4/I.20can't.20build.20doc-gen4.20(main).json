[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Fish\"><pre><span></span><code>✖ <span class=\"o\">[</span>125/125<span class=\"o\">]</span> Building «doc-gen4»\ntrace: .&gt; /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.20.0-rc5/bin/clang -o /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/bin/doc-gen4 /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/Main.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Base.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Hierarchy.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Attributes.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/NameInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/AxiomInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/TheoremInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/OpaqueInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/DefinitionInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/InstanceInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/StructureInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/InductiveInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/ClassInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/DocInfo.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Analyze.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Load.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/ToHtmlFormat.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Base.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Navbar.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Template.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Index.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Arg.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/MD4Lean/.lake/build/ir/MD4Lean.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/Types.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/CharacterDatabase.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/Hangul.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/TableLookup.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/DocString.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Inductive.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Structure.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Class.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Definition.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Instance.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/ClassInductive.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Module.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/NotFound.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Find.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/References.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/ParsecExtra.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/String.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Entry.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Parser.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/TexDiacritics.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Name.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Format.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Bibtex.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/SourceLinker.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Search.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/ToJson.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/FoundationalTypes.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/doc-gen4/.lake/build/ir/DocGen4.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/Cli/.lake/build/ir/Cli/Basic.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/Cli/.lake/build/ir/Cli/Extensions.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/Cli/.lake/build/ir/Cli.c.o.export /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/MD4Lean/.lake/build/lib/libleanmd4c.a -rdynamic -L /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.20.0-rc5/lib/lean --sysroot /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.20.0-rc5 -L /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.20.0-rc5/lib -L /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.20.0-rc5/lib/glibc -lc -lc_nonshared -Wl,--as-needed -l:ld.so -Wl,--no-as-needed -lpthread_nonshared -Wl,--as-needed -Wl,-Bstatic -lgmp -lunwind -luv -Wl,-Bdynamic -Wl,--no-as-needed -fuse-ld<span class=\"o\">=</span>lld -Wl,--start-group -lleancpp -lLean -Wl,--end-group -lStd -Wl,--start-group -lInit -lleanrt -Wl,--end-group -Wl,-Bstatic -lc++ -lc++abi -Wl,-Bdynamic -lLake -Wl,--as-needed -lgmp -luv -lpthread -ldl -lrt -Wl,--no-as-needed -lm -ldl -pthread\ninfo: stderr:\nld.lld: error: undefined symbol: lean_alloc_small\n<span class=\"o\">&gt;&gt;&gt;</span> referenced by wrapper.c\n<span class=\"o\">&gt;&gt;&gt;</span>               wrapper.o:<span class=\"o\">(</span>lean_alloc_ctor_memory<span class=\"o\">)</span> <span class=\"k\">in</span> archive /home/chabulhwi/lean-projects/tpil-solutions/.lake/packages/MD4Lean/.lake/build/lib/libleanmd4c.a\nclang: error: linker <span class=\"nb\">command </span>failed with <span class=\"k\">exit</span> code <span class=\"m\">1</span> <span class=\"o\">(</span>use -v to see invocation<span class=\"o\">)</span>\nerror: external <span class=\"nb\">command</span> <span class=\"s1\">'/home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.20.0-rc5/bin/clang'</span> exited with code 1\nSome required builds logged failures:\n- «doc-gen4»\nerror: build failed\n</code></pre></div>",
        "id": 517469317,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747039278
    },
    {
        "content": "<p>Since I'm unable to build doc-gen4, I can't generate the documents for my project.</p>",
        "id": 517470166,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747039469
    },
    {
        "content": "<p>I don't know much about doc-gen4 but maybe this is the same problem as discussed in <a href=\"#narrow/channel/416277-FLT/topic/doc-gen.20error/near/517447406\">this thread</a> ?</p>",
        "id": 517470495,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747039553
    },
    {
        "content": "<p>Correction: I tried to build the current <code>main</code> branch of <code>doc-gen4</code>, not v4.20.0-rc5. Currently, there's no tag for it.</p>",
        "id": 517471637,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747039818
    },
    {
        "content": "<p>Working fine for me.</p>",
        "id": 517472442,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747040015
    },
    {
        "content": "<p>I also failed to build the v4.19.0 release of doc-gen4:</p>\n<div class=\"codehilite\" data-code-language=\"Fish\"><pre><span></span><code>✖ <span class=\"o\">[</span>125/125<span class=\"o\">]</span> Building «doc-gen4»\ntrace: .&gt; /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/bin/clang -o ././../.lake/packages/doc-gen4/.lake/build/bin/doc-gen4 ././../.lake/packages/doc-gen4/.lake/build/ir/Main.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Base.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Hierarchy.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Attributes.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/NameInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/AxiomInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/TheoremInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/OpaqueInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/DefinitionInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/InstanceInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/StructureInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/InductiveInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/ClassInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/DocInfo.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process/Analyze.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Process.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Load.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/ToHtmlFormat.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Base.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Navbar.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Template.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Index.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Arg.c.o.export ././../.lake/packages/MD4Lean/.lake/build/ir/MD4Lean.c.o.export ././../.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/Types.c.o.export ././../.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/CharacterDatabase.c.o.export ././../.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/Hangul.c.o.export ././../.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic/TableLookup.c.o.export ././../.lake/packages/UnicodeBasic/.lake/build/ir/UnicodeBasic.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/DocString.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Inductive.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Structure.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Class.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Definition.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Instance.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/ClassInductive.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Module.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/NotFound.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Find.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/References.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/ParsecExtra.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/String.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Entry.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Parser.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/TexDiacritics.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Name.c.o.export ././../.lake/packages/BibtexQuery/.lake/build/ir/BibtexQuery/Format.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Bibtex.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/SourceLinker.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/Search.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/ToJson.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output/FoundationalTypes.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4/Output.c.o.export ././../.lake/packages/doc-gen4/.lake/build/ir/DocGen4.c.o.export ././../.lake/packages/Cli/.lake/build/ir/Cli/Basic.c.o.export ././../.lake/packages/Cli/.lake/build/ir/Cli/Extensions.c.o.export ././../.lake/packages/Cli/.lake/build/ir/Cli.c.o.export ././../.lake/packages/MD4Lean/.lake/build/lib/libleanmd4c.a -rdynamic --sysroot /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0 -L /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/lib -L /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/lib/glibc /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/lib/glibc/libc_nonshared.a /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/lib/glibc/libpthread_nonshared.a -Wl,--as-needed -Wl,-Bstatic -lgmp -lunwind -luv -Wl,-Bdynamic -Wl,--no-as-needed -fuse-ld<span class=\"o\">=</span>lld -L /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/lib/lean -Wl,--start-group -lleancpp -lLean -Wl,--end-group -lStd -Wl,--start-group -lInit -lleanrt -Wl,--end-group -Wl,-Bstatic -lc++ -lc++abi -Wl,-Bdynamic -lLake -Wl,--as-needed -lgmp -luv -lpthread -ldl -lrt -Wl,--no-as-needed -lm -ldl -pthread\ninfo: stderr:\nld.lld: error: undefined symbol: lean_alloc_small\n<span class=\"o\">&gt;&gt;&gt;</span> referenced by wrapper.c\n<span class=\"o\">&gt;&gt;&gt;</span>               wrapper.o:<span class=\"o\">(</span>lean_alloc_ctor_memory<span class=\"o\">)</span> <span class=\"k\">in</span> archive ././../.lake/packages/MD4Lean/.lake/build/lib/libleanmd4c.a\nclang: error: linker <span class=\"nb\">command </span>failed with <span class=\"k\">exit</span> code <span class=\"m\">1</span> <span class=\"o\">(</span>use -v to see invocation<span class=\"o\">)</span>\nerror: external <span class=\"nb\">command</span> <span class=\"s1\">'/home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.19.0/bin/clang'</span> exited with code 1\nSome required builds logged failures:\n- «doc-gen4»\nerror: build failed\n</code></pre></div>",
        "id": 517473719,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747040297
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/270676-lean4/topic/I.20can't.20build.20doc-gen4.20.28main.29/near/517472442\">said</a>:</p>\n<blockquote>\n<p>Working fine for me.</p>\n</blockquote>\n<p>Is anyone having the same issue as mine?</p>",
        "id": 517474166,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747040395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417769\">Bulhwi Cha</span> <a href=\"#narrow/channel/270676-lean4/topic/Weird.20filenames.20and.20doc4-gen/near/502179172\">said</a>:</p>\n<blockquote>\n<p>Let me try removing the <code>.lake</code> subdirectory and rebuilding it.</p>\n</blockquote>\n<p>After removing <code>.lake</code>, I can build doc-gen4.</p>",
        "id": 517475412,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747040689
    },
    {
        "content": "<p>Do I have to remove it every time I encounter a build error?</p>",
        "id": 517475617,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1747040748
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> This seems to be a dependency tracking issue with the MD4Lean FFI code. Should it be updated to the recent FFI additions, would that plausibly have helped?</p>",
        "id": 517475886,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1747040808
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/channel/270676-lean4/topic/I.20can't.20build.20doc-gen4.20.28main.29/near/517475886\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"315577\">Mac Malone</span> This seems to be a dependency tracking issue with the MD4Lean FFI code. Should it be updated to the recent FFI additions, would that plausibly have helped?</p>\n</blockquote>\n<p>Oops. In current MD4Lean no FFI related package is used. So I don't know what happens. PRs welcome.</p>",
        "id": 517564203,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747059700
    }
]