[
    {
        "content": "<p>I know it was previously <a href=\"#narrow/stream/270676-lean4/topic/Is.20inlay.20hints.20implemented.20or.20planning.20in.20the.20lsp.20server/near/467147130\">discussed</a> why inlay hints are currently put off, the reasons of which make sense.</p>\n<p>However even if not implemented for a while,  here is a proof of concept showing the possible benefits of having inlay goals displayed in an IDE to stir up some discussion. I believe this could especially be more helpful for beginners. Does anyone have any thoughts?</p>\n<p><a href=\"/user_uploads/3121/Qh0y19oa6tOH-3yJcu60iRIk/image.png\">image.png</a><br>\n<a href=\"/user_uploads/3121/QrjK803RvdjhLLxY0OimsVUE/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Qh0y19oa6tOH-3yJcu60iRIk/image.png\" title=\"image.png\"><img data-original-dimensions=\"648x188\" src=\"/user_uploads/thumbnail/3121/Qh0y19oa6tOH-3yJcu60iRIk/image.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/QrjK803RvdjhLLxY0OimsVUE/image.png\" title=\"image.png\"><img data-original-dimensions=\"1012x1318\" src=\"/user_uploads/thumbnail/3121/QrjK803RvdjhLLxY0OimsVUE/image.png/840x560.webp\"></a></div><p>In this implementation, type hints are given for expressions such as #check, #eval and the current target type is displayed on blank lines.</p>",
        "id": 468630230,
        "sender_full_name": "Manu Bhat",
        "timestamp": 1725830464
    },
    {
        "content": "<p>I use inlay type hints and argument names in other languages and find them very useful. I think they would be very useful for Lean also. Its a shame to hear that they are broken somehow.<br>\nThe pylance extension in particular has some great features like double clicking on the inlay hint to insert the hint into the file. This allows you to write the code in a lazy way see that it is correctly typed and then insert the type hints rapidly, whether this is more or less appropriate for Lean than python I find it hard to say.</p>",
        "id": 468633814,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1725832217
    },
    {
        "content": "<p>You can already get the first example without inlay hint. I think it’s enabled by default in neovim, and I got it from the error lens extension when I was using VSCode.</p>",
        "id": 468693511,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1725864318
    },
    {
        "content": "<p>Hi I made an initial attempt to display the type for some definitions, which is a typical use case for inlay hints. However, I still cannot distinguish between definitions that already have type annotations and those that omit them. I am wondering if it’s still possible with regular expressions or if I should use a parser. Currently, the semantic tokens do not seem to help here as they appear to be quite coarse.<br>\n<a href=\"/user_uploads/3121/wIAyv0vyD4YmXmjWtm4wV5Hy/5F68DD04-51B0-4370-B3C5-2EC293DD29BC.jpg\">5F68DD04-51B0-4370-B3C5-2EC293DD29BC.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/wIAyv0vyD4YmXmjWtm4wV5Hy/5F68DD04-51B0-4370-B3C5-2EC293DD29BC.jpg\" title=\"5F68DD04-51B0-4370-B3C5-2EC293DD29BC.jpg\"><img data-original-dimensions=\"762x434\" src=\"/user_uploads/thumbnail/3121/wIAyv0vyD4YmXmjWtm4wV5Hy/5F68DD04-51B0-4370-B3C5-2EC293DD29BC.jpg/840x560.webp\"></a></div>",
        "id": 470278640,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1726377569
    },
    {
        "content": "<p>I don't think this is possible with a regular expression (not regEx), because you can't match brackets. Using regEx is likely to result in ugly/unidiomatic code because of this, so I'd say the best way to go about this is to somehow leverage leans parser to do this for you</p>",
        "id": 470297094,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726387795
    }
]