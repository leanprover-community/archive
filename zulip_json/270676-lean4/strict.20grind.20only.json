[
    {
        "content": "<p>Now that <code>cc</code> has been moved away from Mathlib, it becomes more urgent to understand how <code>grind</code> could fully replace it. Is there any way to have a strict<code>grind only</code> that do <em>not</em> use local assumptions that it was not told to use?</p>",
        "id": 571289930,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1769955225
    },
    {
        "content": "<p>Is grind fast enough to close all the relevant goals without this restriction?</p>",
        "id": 571290989,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769956240
    },
    {
        "content": "<p>This has nothing to do with speed. It's about control.</p>",
        "id": 571291620,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1769956866
    },
    {
        "content": "<p>I secretly use cc in Verbose Lean where I need to control that students provide the relevant justifications.</p>",
        "id": 571291676,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1769956934
    },
    {
        "content": "<p>Can you <code>clear</code> all other assumptions before calling <code>grind only</code> in your wrapper tactic?</p>",
        "id": 571312614,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769976713
    },
    {
        "content": "<p>Sure, I could do that, and I even thought about it. But it’s really super inconvenient.</p>",
        "id": 571379112,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1770023503
    },
    {
        "content": "<p>What is the inconvenience? Just having to implement it, or is there a particular difficulty anticipated?</p>\n<p>How about we write <code>verbose_grind_wrapper [X, Y, Z]</code> which:</p>\n<ul>\n<li>checks which of X, Y, Z are names of local hypotheses</li>\n<li>clears all local hypotheses except those (and hypotheses these depend on)</li>\n<li>passes everything that was not a local hypothesis to <code>grind only [...]</code></li>\n</ul>\n<p>Is that the behaviour you want?</p>",
        "id": 571401951,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770029950
    },
    {
        "content": "<p>I've implemented a draft at <a href=\"https://github.com/kim-em/verbose-lean4/blob/grind_strict/Verbose/Tactics/Grind.lean\">https://github.com/kim-em/verbose-lean4/blob/grind_strict/Verbose/Tactics/Grind.lean</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">grind_strict</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">some_theorem</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Let me know if this matches what you need, or if you'd like adjustments.</p>",
        "id": 571405035,
        "sender_full_name": "Kim Morrison :bot:",
        "timestamp": 1770030897
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span>, just checking if this satisfies your needs or not.</p>",
        "id": 573157000,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1770760344
    },
    {
        "content": "<p>Sorry I haven’t found time to investigate yet. I must confess the bot thing is very off-putting too.</p>",
        "id": 573236570,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1770802072
    },
    {
        "content": "<p>you could also just depend on <a href=\"https://github.com/Komyyy/legacy-cc\">https://github.com/Komyyy/legacy-cc</a> in Verbose Lean?</p>",
        "id": 573971751,
        "sender_full_name": "Andrés Goens",
        "timestamp": 1771157587
    },
    {
        "content": "<p>As for me, it's fine temporarily, but if you can avoid the dependency, I can archive the repository and spend the maintenance time on other things.</p>",
        "id": 573977256,
        "sender_full_name": "Miyahara Kō",
        "timestamp": 1771162651
    }
]