[
    {
        "content": "<p>The code </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"n\">True</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">nope</span>\n</code></pre></div>\n<p>produces the error <code>unknown tactic</code>. How hard would it be to print the error <code>unknown tactic 'nope'</code>?</p>\n<p>I had some people using <code>suggest</code> (my alias for <code>library_search</code>) and they got the <code>unknown tactic</code> error. I realize only a few hours later that this error was because the <code>sugges</code> tactic is an unknown tactic, and the <code>suggest</code> tactic was still running.</p>",
        "id": 364278258,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1686144296
    },
    {
        "content": "<p>should be easy, the unknown tactic tactic is an ident parser</p>",
        "id": 364284133,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686145494
    },
    {
        "content": "<p>I agree that Floris' suggestion will already be a great improvement but it would also be nice to fix the underlying problem that this error message shouldn't stay like this. I noticed this is indeed very confusing.</p>",
        "id": 364322919,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1686153011
    },
    {
        "content": "<p>I'm confused what distinction you are making. Floris's suggestion is to improve the error message, no?</p>",
        "id": 364325907,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686153589
    },
    {
        "content": "<p>or do you think the behavior needs to change more radically?</p>",
        "id": 364326153,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686153626
    },
    {
        "content": "<p>Patrick, are you saying that the <code>unknown tactic</code> error message should disappear when <code>suggest</code> is running. I'm not sure if that is good. I definitely want to see the goal view while Lean is running.</p>",
        "id": 364330440,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1686154540
    },
    {
        "content": "<p>I want to see the goal but not the unknown tactic error</p>",
        "id": 364341709,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1686156951
    },
    {
        "content": "<p>One could imagine that the error is cleared when the next key is pressed. In Lean 3 you used to see weird errors like <code>unknown import data.real.basi</code> which were confusing when in the file you've clearly typed <code>data.real.basic</code>.</p>",
        "id": 364343954,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1686157441
    },
    {
        "content": "<p>Yes exactly. Here the outdated error stays on display for a very long time because Lean is working on something else.</p>",
        "id": 364344215,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1686157496
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/270676-lean4/topic/unknown.20tactic/near/364343954\">said</a>:</p>\n<blockquote>\n<p>One could imagine that the error is cleared when the next key is pressed. In Lean 3 you used to see weird errors like <code>unknown import data.real.basi</code> which were confusing when in the file you've clearly typed <code>data.real.basic</code>.</p>\n</blockquote>\n<p>This is annoying though because while you are typing you see no information, rather than an unbroken (if delayed) infoview</p>",
        "id": 364347227,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686158222
    },
    {
        "content": "<p>I would much rather have it hold the last message if it has nothing useful to display, possibly with a spinner or something to indicate it is out of date</p>",
        "id": 364347400,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686158264
    },
    {
        "content": "<p>this is especially important if you are typing something based on the goal view (e.g. the type of a hypothesis), since you might forget what it was halfway through typing</p>",
        "id": 364347799,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686158363
    },
    {
        "content": "<p>Couldn't that be mitigated by various <em>long</em>-running things sending more LSP diagnostics themselves, just not error ones?</p>",
        "id": 364403877,
        "sender_full_name": "Julian Berman",
        "timestamp": 1686175631
    },
    {
        "content": "<p>E.g. the <code>Processing...</code> LSP info diagnostic messages -- or tactic specific ones saying <code>suggest is searching through lemmas</code> or whatever that gets sent on start and cleared when it's done</p>",
        "id": 364403942,
        "sender_full_name": "Julian Berman",
        "timestamp": 1686175664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/270676-lean4/topic/unknown.20tactic/near/364347400\">said</a>:</p>\n<blockquote>\n<p>I would much rather have it hold the last message if it has nothing useful to display, possibly with a spinner or something to indicate it is out of date</p>\n</blockquote>\n<p>A visual indication on all outdated message would also be very helpful! With \"outdated message\" I mean here any message that is produced by a line in the \"yellow bar zone\" (i.e. that will be recompiled without any additional keystrokes). I think this should include the goal view, assuming the visual indication is not too obtrusive.</p>",
        "id": 364558753,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1686230154
    },
    {
        "content": "<p>Good point with the yellow bar, that should mean it's implementable in the extension without touching core</p>",
        "id": 364563828,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1686231229
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RationalRoot</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Degree</span><span class=\"bp\">.</span><span class=\"n\">Definitions</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">RingDivision</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linarith</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">SimpLemmas</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">NeZero</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n\n<span class=\"c1\">-- Define the polynomial f(x) = x^3 - 3x + 1</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"c1\">-- Prove that f(x) is irreducible over ℚ</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">f_irreducible</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Irreducible</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n\n<span class=\"w\">  </span><span class=\"c1\">-- Assume f is reducible, i.e., f = g * h, where g and h are polynomials</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"w\">  </span><span class=\"c1\">-- Assume f is reducible, i.e., f = g * h</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">g</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"w\">  </span><span class=\"c1\">-- Extract g and h from the assumption</span>\n\n<span class=\"w\">  </span><span class=\"c1\">-- Analyze the degrees of g and h next</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hg_deg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">degree_mul</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">;</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">lt_of_le_of_ne</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">degree_nonneg</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mul_ne_zero</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">)</span><span class=\"bp\">;</span>\n\n<span class=\"w\">  </span><span class=\"c1\">-- Discuss the degree of g by cases</span>\n<span class=\"w\">  </span><span class=\"n\">cases'</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">eq_zero_or_pos</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">**</span><span class=\"n\">g_zero</span><span class=\"bp\">**</span><span class=\"w\"> </span><span class=\"n\">g_pos</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"c1\">-- Case 1: The degree of g is 0, i.e., g is a constant</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">degree_eq_zero</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">g_zero</span>\n<span class=\"w\">    </span><span class=\"c1\">-- Since g is a constant and f is a cubic polynomial, f cannot be reducible</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">f</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_red</span>\n<span class=\"w\">    </span><span class=\"n\">linarith</span>\n<span class=\"w\">  </span><span class=\"o\">}</span><span class=\"bp\">;</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"c1\">-- Case 2: The degree of g is greater than 0</span>\n<span class=\"w\">    </span><span class=\"c1\">-- The degree of g is less than the degree of f (which is 3), so g cannot be a unit</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">lt_of_le_of_ne</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">degree_nonneg</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mul_ne_zero</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">}</span>\n</code></pre></div>\n<p>The bold part is told \"unknown tactic\" by Lean Infoview</p>",
        "id": 484750771,
        "sender_full_name": "Young",
        "timestamp": 1732722609
    },
    {
        "content": "<p>Does it work with <code>import Mathlib.Tactic</code> instead of <code>import Mathlib.Tactic.Linarith</code></p>",
        "id": 484751168,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732722740
    },
    {
        "content": "<p><code>#min_imports</code> doesn't work very well with tactics</p>",
        "id": 484751198,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732722755
    },
    {
        "content": "<p>Also please use code quotes for pasting lean code in zulip</p>",
        "id": 484751248,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732722776
    },
    {
        "content": "<p>No, Mathlib.Tactic does not work : (<span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span></p>",
        "id": 484757230,
        "sender_full_name": "Young",
        "timestamp": 1732724560
    },
    {
        "content": "<p>I think you are using math quotes. For multiline code snippets, the correct approach is <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a></p>",
        "id": 484757517,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732724655
    },
    {
        "content": "<p>Are you thinking of the <code>cases'</code> tactic, rather than <code>cases</code>?</p>",
        "id": 484757985,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1732724805
    },
    {
        "content": "<p>Thanks, the code quotes have been corrected.</p>",
        "id": 484759154,
        "sender_full_name": "Young",
        "timestamp": 1732725201
    },
    {
        "content": "<p>I think that this is an issue of a flawed <code>cases</code> syntax that mangles all errors.  The source of the issue is that the initial <code>intro</code> does not work.  However, <code>cases</code> masks it.  If you use <code>cases'</code>, you will see that Lean is unhappy about the final <code>,</code>.  Removing that, shows that the proof never really started.</p>",
        "id": 484759201,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1732725219
    },
    {
        "content": "<p>Maybe I did write  it terribly... How can I fix it? By start over or make minor changes?</p>",
        "id": 484763232,
        "sender_full_name": "Young",
        "timestamp": 1732726603
    },
    {
        "content": "<p>I think that an important first step is to have an informal proof of the statement.  I cannot really follow the informal argument that you have in mind from the comments to the code: can you explain how you would like to prove that <code>f</code> is irreducible?</p>",
        "id": 484763669,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1732726768
    },
    {
        "content": "<h3>1. Assume  is Reducible</h3>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"w\">  </span><span class=\"c1\">-- Assume f is reducible, i.e., f = g * h</span>\n<span class=\"n\">obtain</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">g</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"o\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"w\">  </span><span class=\"c1\">-- Extract g and h from the assumption</span>\n</code></pre></div>\n<ul>\n<li><code>intro h_red</code>: Introduces the assumption <code>h_red</code>, which states that f(x) is reducible. That is, there exist polynomials g and h such that f=g⋅h.</li>\n<li><code>obtain ⟨g, h, h_eq⟩ := h_red</code>: Deconstructs the assumption <code>h_red</code> into the polynomials g and h, and the equation f=g⋅h.</li>\n</ul>\n<h3>2. Analyze the Degrees of  and</h3>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hg_deg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">degree_mul</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">;</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">lt_of_le_of_ne</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">degree_nonneg</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mul_ne_zero</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"bp\">;</span>\n</code></pre></div>\n<ul>\n<li><code>degree_mul</code>: A theorem about polynomial multiplication that tells us that degree(f)≥degree(g)+degree(h).</li>\n<li><code>degree_nonneg _</code>: Ensures that the degrees of g and f are non-negative.</li>\n<li><code>mul_ne_zero h_red.1 h_red.2</code>: Ensures that both g and h are non-zero polynomials, i.e., their degrees are strictly greater than 0.</li>\n</ul>\n<p>This step concludes that degree(g)&lt;degree(f), i.e., the degree of g is strictly less than the degree of f.</p>\n<h3>3. Case Analysis on the Degree of</h3>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">cases'</span><span class=\"w\"> </span><span class=\"n\">Nat.eq_zero_or_pos</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">g_zero</span><span class=\"w\"> </span><span class=\"n\">g_pos</span>\n<span class=\"o\">{</span><span class=\"w\"> </span><span class=\"c1\">-- Case 1: The degree of g is 0, i.e., g is a constant</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">degree_eq_zero</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">g_zero</span>\n<span class=\"w\">  </span><span class=\"c1\">-- Since g is a constant and f is a cubic polynomial, f cannot be reducible</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">f</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">h_red</span>\n<span class=\"w\">  </span><span class=\"n\">linarith</span>\n<span class=\"o\">}</span><span class=\"bp\">;</span>\n<span class=\"o\">{</span><span class=\"w\"> </span><span class=\"c1\">-- Case 2: The degree of g is greater than 0</span>\n<span class=\"w\">  </span><span class=\"c1\">-- The degree of g is less than the degree of f (which is 3), so g cannot be a unit</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">lt_of_le_of_ne</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">degree_nonneg</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mul_ne_zero</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">h_red</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n<p>Here, we perform a case analysis on the degree of g.</p>\n<h4>Case 1: degree(g)=0 (i.e., g is a constant)</h4>\n<ul>\n<li><code>rw [degree_eq_zero] at g_zero</code>: Uses <code>degree_eq_zero</code> to apply the assumption that g has degree 0, meaning g is a constant.</li>\n<li><code>simp [f] at h_red</code>: Simplifies f=g⋅h using the fact that f is a cubic polynomial.</li>\n<li><code>linarith</code>: This tactic is used to solve linear inequalities, which will lead to a contradiction since f is cubic, but g is constant. Thus, f cannot be reducible.</li>\n</ul>\n<h4>Case 2: degree(g)&gt;0</h4>\n<ul>\n<li><code>exact lt_of_le_of_ne (degree_nonneg _) (mul_ne_zero h_red.1 h_red.2)</code>: In this case, degree(g) is less than degree(f), but since both g and h are non-zero polynomials, neither g nor h can be units. This implies g cannot be a unit, leading to a contradiction because f would then have to factor into polynomials of lower degree.</li>\n</ul>",
        "id": 484767549,
        "sender_full_name": "Young",
        "timestamp": 1732728169
    },
    {
        "content": "<p>Does the proof work now?</p>",
        "id": 484771566,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1732729759
    },
    {
        "content": "<p>I don't think that this argument is correct: it does not seem to deal <em>correctly</em> with the case in which a factor has degree 0, for instance.</p>",
        "id": 484771643,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1732729800
    },
    {
        "content": "<p>The proof does not work now...</p>",
        "id": 484773444,
        "sender_full_name": "Young",
        "timestamp": 1732730492
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span>  Maybe you are right, degree(0)=-∞. I have ignored that.</p>",
        "id": 484773701,
        "sender_full_name": "Young",
        "timestamp": 1732730581
    },
    {
        "content": "<p>I was referring to the case in which a factor has degree equal to <code>0</code>, so is a (non-zero) constant.</p>",
        "id": 484773847,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1732730641
    },
    {
        "content": "<p>The Lean sketch and the comments do not argue in any way anything close to Gauss' lemma.</p>",
        "id": 484773947,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1732730671
    }
]