[
    {
        "content": "<p>I copy-pasted some command to obtain a pretty-printed format and I get an error in the example below: am I using this wrong?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Elab</span><span class=\"bp\">.</span><span class=\"n\">Command</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Command</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">elab</span><span class=\"w\"> </span><span class=\"s2\">\"pretty \"</span><span class=\"w\"> </span><span class=\"n\">cmd</span><span class=\"o\">:</span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">fmt</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">liftCoreM</span><span class=\"w\"> </span><span class=\"k\">do</span><span class=\"w\"> </span><span class=\"n\">PrettyPrinter</span><span class=\"bp\">.</span><span class=\"n\">ppCategory</span><span class=\"w\"> </span><span class=\"ss\">`command</span><span class=\"w\"> </span><span class=\"n\">cmd</span>\n<span class=\"w\">  </span><span class=\"n\">dbg_trace</span><span class=\"w\"> </span><span class=\"n\">fmt</span>\n\n<span class=\"c1\">-- fails, the `|` in `command|` confuses `pretty`</span>\n<span class=\"n\">pretty</span><span class=\"w\"> </span><span class=\"n\">run_cmd</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"kn\">end</span><span class=\"o\">)</span>\n<span class=\"c\">/-</span>\n<span class=\"cm\">unknown constant '«|»'</span>\n<span class=\"cm\">-/</span>\n\n<span class=\"c1\">-- works</span>\n<span class=\"n\">pretty</span><span class=\"w\"> </span><span class=\"n\">run_cmd</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"kn\">end</span><span class=\"o\">)</span>\n<span class=\"c\">/-</span>\n<span class=\"cm\">run_cmd</span>\n<span class=\"cm\">  `(end)</span>\n<span class=\"cm\">-/</span>\n</code></pre></div>",
        "id": 456461085,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722842284
    },
    {
        "content": "<p><a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/stream/270676-lean4/topic/prettyprint.20command.20quotation\">#lean4 &gt; prettyprint command quotation</a></p>",
        "id": 456470520,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1722844732
    },
    {
        "content": "<p>Thanks!  And I had even looked for some related topic before posting!  <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 456470874,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722844790
    }
]