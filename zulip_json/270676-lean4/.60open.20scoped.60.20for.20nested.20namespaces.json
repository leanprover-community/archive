[
    {
        "content": "<p>It would be nice if <code>open scoped</code> had the same behavior as <code>open</code> for nested namespaces. To be clear with what I mean, consider:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Bar</span><span class=\"w\"> </span><span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Bar</span>\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Baz</span><span class=\"w\"> </span><span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Baz</span>\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n\n<span class=\"c1\">-- this works</span>\n<span class=\"c1\">--open Foo Bar Baz</span>\n\n<span class=\"c1\">-- unknown namespace `Bar`</span>\n<span class=\"c1\">-- open scoped Foo Bar Baz</span>\n\n<span class=\"c1\">-- this works</span>\n<span class=\"c1\">-- open scoped Foo Foo.Bar Foo.Baz</span>\n</code></pre></div>\n<p>On one hand this makes perfect sense if you look at  <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Elab.OpenDecl.elabOpenDecl#doc\">docs#Lean.Elab.OpenDecl.elabOpenDecl</a>, on the other it is an apparent point of inconsistency (especially from the perspective of new users) and more verbose. Is this something that has already been discussed previously?</p>",
        "id": 554607217,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762737977
    },
    {
        "content": "<p>I think we want <code>open scoped Foo Bar</code> to be the same as <code>open scoped Foo open scoped Bar</code></p>",
        "id": 554608575,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762739214
    },
    {
        "content": "<p>I think Lean's behavior is the right one: <code>open Foo</code> means that <code>Foo.Bar</code> is shortened to <code>Bar</code>. <code>open scoped Foo</code> doesn't do that. And therefore I don't think your <code>open scoped Foo Bar</code> should work.</p>",
        "id": 554699238,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1762780936
    },
    {
        "content": "<p>I tend to agree, but think it is symptomatic of semantics of <code>open</code> and <code>scoped</code> being mixed together in a single command. I believe it was <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> who recently discussed how there's an asymmetry in there not being an <code>open unscoped</code>. (Not advocating for any change per se, just thinking about pedagogy)</p>",
        "id": 554701331,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762781567
    },
    {
        "content": "<p>but \"open scoped\" explicitly means <em>don't</em> open the namespace</p>",
        "id": 554701479,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762781611
    },
    {
        "content": "<p>Hmm, yes. It would be even more inconsistent if it opened namespaces just for the <code>open scoped</code> command. Shorter commands are not worth that.</p>",
        "id": 554702220,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762781816
    }
]