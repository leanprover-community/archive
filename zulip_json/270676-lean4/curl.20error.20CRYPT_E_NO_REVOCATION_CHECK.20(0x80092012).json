[
    {
        "content": "<p>I am getting a curl error during mathlib 4 installation</p>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span>\n<span class=\"n\">PANIC</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"p\">.</span><span class=\"n\">toNat</span><span class=\"o\">!</span><span class=\"w\"> </span><span class=\"n\">Init</span><span class=\"p\">.</span><span class=\"n\">Data</span><span class=\"p\">.</span><span class=\"n\">String</span><span class=\"p\">.</span><span class=\"n\">Extra</span><span class=\"o\">:</span><span class=\"mi\">34</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"n\">expected</span>\n<span class=\"n\">installing</span><span class=\"w\"> </span><span class=\"n\">leantar</span><span class=\"w\"> </span><span class=\"mf\">0.1.15</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">failure</span><span class=\"w\"> </span><span class=\"n\">in</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"err\">#</span><span class=\"p\">[</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/digama0/leangz/releases/download/v0.1.15/leantar-v0.1.15-x86_64-pc-windows-msvc.zip, -L, -o, C:\\Users\\leanj\\.cache\\mathlib\\leantar-0.1.15.exe.zip]:</span>\n<span class=\"w\">  </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\">    </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Received</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Xferd</span><span class=\"w\">  </span><span class=\"n\">Average</span><span class=\"w\"> </span><span class=\"n\">Speed</span><span class=\"w\">   </span><span class=\"n\">Time</span><span class=\"w\">    </span><span class=\"n\">Time</span><span class=\"w\">     </span><span class=\"n\">Time</span><span class=\"w\">  </span><span class=\"n\">Current</span>\n<span class=\"w\">                                 </span><span class=\"n\">Dload</span><span class=\"w\">  </span><span class=\"n\">Upload</span><span class=\"w\">   </span><span class=\"n\">Total</span><span class=\"w\">   </span><span class=\"n\">Spent</span><span class=\"w\">    </span><span class=\"n\">Left</span><span class=\"w\">  </span><span class=\"n\">Speed</span>\n<span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\">     </span><span class=\"mi\">0</span>\n<span class=\"nl\">curl</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">35</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">schannel</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"n\">InitializeSecurityContext</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CRYPT_E_NO_REVOCATION_CHECK</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x80092012</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">revocation</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">unable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">revocation</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">certificate</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>Any ideas?<br>\nThanks</p>",
        "id": 541346363,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1758758186
    },
    {
        "content": "<p>Is this a public repo? Instructions for reproducing the failure locally are very helpful.</p>",
        "id": 541371370,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758777633
    },
    {
        "content": "<p>Hi Kim, thanks for your help.</p>\n<p>This  is the first installation of Mathlib in a new laptop, following the instructions in <a href=\"https://leanprover-community.github.io/install/project.html#working-on-an-existing-project\">https://leanprover-community.github.io/install/project.html#working-on-an-existing-project</a></p>\n<p>after this error, Mathlib4 fails to build.</p>\n<p>Is that enough to reproduce the error?</p>\n<p>Thanks again</p>",
        "id": 541423661,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1758796382
    },
    {
        "content": "<p>Hi all,<br>\nI've deleted the 'mathematics_in_lean' directory and run the installation process again.</p>\n<p>Attached you can find the traces of the installation process until it generates the same error above.<br>\n<a href=\"/user_uploads/3121/pTvLR3rrpfGYrMso4DQp_uuk/trace.txt\">trace.txt</a></p>\n<p>Actually, it generates a similar error before, but it seems to be on an optional file.</p>\n<p>Do you need any extra information?</p>",
        "id": 541557785,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1758842381
    },
    {
        "content": "<p>A sequence of commands someone could copy and paste into a terminal would be preferable. Your trace.txt has many commands, and it's unclear which are relevant.</p>",
        "id": 541568840,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758850594
    },
    {
        "content": "<p>Hi Kim,</p>\n<p>The sequence of commands is also in the trace.txt file. It is very simple:</p>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">leanj</span><span class=\"o\">&gt;</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/mathematics_in_lean.git</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">leanj</span><span class=\"o\">&gt;</span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mathematics_in_lean</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">leanj</span><span class=\"err\">\\</span><span class=\"n\">mathematics_in_lean</span><span class=\"o\">&gt;</span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span>\n</code></pre></div>\n<p>I just included their verbose output so an expert could see what's going on...</p>\n<p>The command that fails is 'lake exe cache get'</p>",
        "id": 541719385,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1758909275
    },
    {
        "content": "<p>It looks like <code>curl</code> is broken on your machine, either due to being outdated or due to bad network configuration</p>",
        "id": 541731848,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758914428
    },
    {
        "content": "<p>Hi Eric and Kim,</p>\n<p>I've tried the installation process in a different computer, and I get exactly the same error</p>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">mathematics_in_lean</span><span class=\"o\">&gt;</span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//releases.lean-lang.org/lean4/v4.21.0/lean-4.21.0-windows.tar.zst</span>\n<span class=\"mf\">360.1</span><span class=\"w\"> </span><span class=\"n\">MiB</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mf\">360.1</span><span class=\"w\"> </span><span class=\"n\">MiB</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\">   </span><span class=\"mf\">1.9</span><span class=\"w\"> </span><span class=\"n\">MiB</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">ETA</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">s</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">installing</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">elan</span><span class=\"err\">\\</span><span class=\"n\">toolchains</span><span class=\"err\">\\</span><span class=\"n\">leanprover</span><span class=\"o\">--</span><span class=\"n\">lean4</span><span class=\"o\">---</span><span class=\"n\">v4</span><span class=\"mf\">.21.0</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/mathlib4</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"mi\">308445</span><span class=\"n\">d7985027f538e281e18df29ca16ede2ba3</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">plausible</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/plausible</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">plausible</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"n\">c4aa78186d388e50a436e8362b947bae125a2933</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">LeanSearchClient</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/LeanSearchClient</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">LeanSearchClient</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"mi\">6</span><span class=\"n\">c62474116f525d2814f0157bb468bf3a4f9f120</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">importGraph</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/import-graph</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">importGraph</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"n\">d07bd64f1910f1cc5e4cc87b6b9c590080e7a457</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/ProofWidgets4</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"mf\">6980f</span><span class=\"mi\">6</span><span class=\"n\">ca164de593cb77cd03d8eac549cc444156</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">aesop</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/aesop</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">aesop</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"mf\">8f</span><span class=\"n\">f27701d003456fd59f13a9212431239d902aef</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Qq</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/quote4</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Qq</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"n\">e9c65db4823976353cd0bb03199a172719efbeb7</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">batteries</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover-community/batteries</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">batteries</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"mi\">8</span><span class=\"n\">d2067bf518731a70a255d4a61b5c103922c772e</span><span class=\"err\">'</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Cli</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cloning</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/leanprover/lean4-cli</span>\n<span class=\"nl\">info</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">Cli</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"err\">'</span><span class=\"mi\">7</span><span class=\"n\">c6aef5f75a43ebbba763b44d535175a1b04c9e0</span><span class=\"err\">'</span>\n<span class=\"n\">installing</span><span class=\"w\"> </span><span class=\"n\">leantar</span><span class=\"w\"> </span><span class=\"mf\">0.1.15</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">failure</span><span class=\"w\"> </span><span class=\"n\">in</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"err\">#</span><span class=\"p\">[</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/digama0/leangz/releases/download/v0.1.15/leantar-v0.1.15-x86_64-pc-windows-msvc.zip, -L, -o, C:\\Users\\jordi\\.cache\\mathlib\\leantar-0.1.15.exe.zip]:</span>\n<span class=\"w\">  </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\">    </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Received</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Xferd</span><span class=\"w\">  </span><span class=\"n\">Average</span><span class=\"w\"> </span><span class=\"n\">Speed</span><span class=\"w\">   </span><span class=\"n\">Time</span><span class=\"w\">    </span><span class=\"n\">Time</span><span class=\"w\">     </span><span class=\"n\">Time</span><span class=\"w\">  </span><span class=\"n\">Current</span>\n<span class=\"w\">                                 </span><span class=\"n\">Dload</span><span class=\"w\">  </span><span class=\"n\">Upload</span><span class=\"w\">   </span><span class=\"n\">Total</span><span class=\"w\">   </span><span class=\"n\">Spent</span><span class=\"w\">    </span><span class=\"n\">Left</span><span class=\"w\">  </span><span class=\"n\">Speed</span>\n<span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\">     </span><span class=\"mi\">0</span>\n<span class=\"nl\">curl</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">35</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">schannel</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"n\">InitializeSecurityContext</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CRYPT_E_NO_REVOCATION_CHECK</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x80092012</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">revocation</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">unable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">revocation</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">certificate</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>Is this an error that should be reported to Microsoft? it seems like the 'curl' version shipping with W11 at this point in time does not work well, doesn't it?<br>\nOr maybe it is the certificate of the leantar repo...</p>",
        "id": 542151364,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1759185625
    },
    {
        "content": "<p>Can you download <code>https://github.com/digama0/leangz/releases/download/v0.1.15/leantar-v0.1.15-x86_64-pc-windows-msvc.zip</code> from your browser though?</p>",
        "id": 542160837,
        "sender_full_name": "Gavin Zhao",
        "timestamp": 1759190588
    },
    {
        "content": "<p>Yes I can. It downloads with no problem</p>",
        "id": 542160962,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1759190692
    },
    {
        "content": "<p>In which directory should leantar.exe go?</p>",
        "id": 542161055,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1759190761
    },
    {
        "content": "<p>Hello again,</p>\n<p>I've upgraded to curl version 8.16.0 and I get the same error.</p>\n<p>Any ideas?</p>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"o\">&gt;</span><span class=\"n\">where</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Windows</span><span class=\"err\">\\</span><span class=\"n\">System32</span><span class=\"err\">\\</span><span class=\"n\">curl</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">AppData</span><span class=\"err\">\\</span><span class=\"n\">Local</span><span class=\"err\">\\</span><span class=\"n\">Microsoft</span><span class=\"err\">\\</span><span class=\"n\">WinGet</span><span class=\"err\">\\</span><span class=\"n\">Links</span><span class=\"err\">\\</span><span class=\"n\">curl</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"o\">&gt;</span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">PATH</span><span class=\"o\">=</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">AppData</span><span class=\"err\">\\</span><span class=\"n\">Local</span><span class=\"err\">\\</span><span class=\"n\">Microsoft</span><span class=\"err\">\\</span><span class=\"n\">WinGet</span><span class=\"err\">\\</span><span class=\"n\">Links</span><span class=\"err\">\\</span><span class=\"p\">;</span><span class=\"o\">%</span><span class=\"n\">PATH</span><span class=\"o\">%</span>\n\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"o\">&gt;</span><span class=\"n\">where</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">AppData</span><span class=\"err\">\\</span><span class=\"n\">Local</span><span class=\"err\">\\</span><span class=\"n\">Microsoft</span><span class=\"err\">\\</span><span class=\"n\">WinGet</span><span class=\"err\">\\</span><span class=\"n\">Links</span><span class=\"err\">\\</span><span class=\"n\">curl</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Windows</span><span class=\"err\">\\</span><span class=\"n\">System32</span><span class=\"err\">\\</span><span class=\"n\">curl</span><span class=\"p\">.</span><span class=\"n\">exe</span>\n\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"o\">&gt;</span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span>\n<span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"mf\">8.16.0</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">w64</span><span class=\"o\">-</span><span class=\"n\">mingw32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">libcurl</span><span class=\"o\">/</span><span class=\"mf\">8.16.0</span><span class=\"w\"> </span><span class=\"n\">LibreSSL</span><span class=\"o\">/</span><span class=\"mf\">4.1.0</span><span class=\"w\"> </span><span class=\"n\">zlib</span><span class=\"o\">/</span><span class=\"mf\">1.3.1</span><span class=\"p\">.</span><span class=\"n\">zlib</span><span class=\"o\">-</span><span class=\"n\">ng</span><span class=\"w\"> </span><span class=\"n\">brotli</span><span class=\"o\">/</span><span class=\"mf\">1.1.0</span><span class=\"w\"> </span><span class=\"n\">zstd</span><span class=\"o\">/</span><span class=\"mf\">1.5.7</span><span class=\"w\"> </span><span class=\"n\">WinIDN</span><span class=\"w\"> </span><span class=\"n\">libpsl</span><span class=\"o\">/</span><span class=\"mf\">0.21.5</span><span class=\"w\"> </span><span class=\"n\">libssh2</span><span class=\"o\">/</span><span class=\"mf\">1.11.1</span><span class=\"w\"> </span><span class=\"n\">nghttp2</span><span class=\"o\">/</span><span class=\"mf\">1.67.1</span><span class=\"w\"> </span><span class=\"n\">ngtcp2</span><span class=\"o\">/</span><span class=\"mf\">1.16.0</span><span class=\"w\"> </span><span class=\"n\">nghttp3</span><span class=\"o\">/</span><span class=\"mf\">1.12.0</span>\n<span class=\"n\">Release</span><span class=\"o\">-</span><span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2025-09-10</span>\n<span class=\"nl\">Protocols</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">ftp</span><span class=\"w\"> </span><span class=\"n\">ftps</span><span class=\"w\"> </span><span class=\"n\">gopher</span><span class=\"w\"> </span><span class=\"n\">gophers</span><span class=\"w\"> </span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"w\"> </span><span class=\"n\">imap</span><span class=\"w\"> </span><span class=\"n\">imaps</span><span class=\"w\"> </span><span class=\"n\">ipfs</span><span class=\"w\"> </span><span class=\"n\">ipns</span><span class=\"w\"> </span><span class=\"n\">ldap</span><span class=\"w\"> </span><span class=\"n\">ldaps</span><span class=\"w\"> </span><span class=\"n\">mqtt</span><span class=\"w\"> </span><span class=\"n\">pop3</span><span class=\"w\"> </span><span class=\"n\">pop3s</span><span class=\"w\"> </span><span class=\"n\">rtsp</span><span class=\"w\"> </span><span class=\"n\">scp</span><span class=\"w\"> </span><span class=\"n\">sftp</span><span class=\"w\"> </span><span class=\"n\">smb</span><span class=\"w\"> </span><span class=\"n\">smbs</span><span class=\"w\"> </span><span class=\"n\">smtp</span><span class=\"w\"> </span><span class=\"n\">smtps</span><span class=\"w\"> </span><span class=\"n\">telnet</span><span class=\"w\"> </span><span class=\"n\">tftp</span><span class=\"w\"> </span><span class=\"n\">ws</span><span class=\"w\"> </span><span class=\"n\">wss</span>\n<span class=\"nl\">Features</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">alt</span><span class=\"o\">-</span><span class=\"n\">svc</span><span class=\"w\"> </span><span class=\"n\">AsynchDNS</span><span class=\"w\"> </span><span class=\"n\">brotli</span><span class=\"w\"> </span><span class=\"n\">CAcert</span><span class=\"w\"> </span><span class=\"n\">HSTS</span><span class=\"w\"> </span><span class=\"n\">HTTP2</span><span class=\"w\"> </span><span class=\"n\">HTTP3</span><span class=\"w\"> </span><span class=\"n\">HTTPS</span><span class=\"o\">-</span><span class=\"n\">proxy</span><span class=\"w\"> </span><span class=\"n\">IDN</span><span class=\"w\"> </span><span class=\"n\">IPv6</span><span class=\"w\"> </span><span class=\"n\">Kerberos</span><span class=\"w\"> </span><span class=\"n\">Largefile</span><span class=\"w\"> </span><span class=\"n\">libz</span><span class=\"w\"> </span><span class=\"n\">NTLM</span><span class=\"w\"> </span><span class=\"n\">PSL</span><span class=\"w\"> </span><span class=\"n\">SPNEGO</span><span class=\"w\"> </span><span class=\"n\">SSL</span><span class=\"w\"> </span><span class=\"n\">SSLS</span><span class=\"o\">-</span><span class=\"n\">EXPORT</span><span class=\"w\"> </span><span class=\"n\">SSPI</span><span class=\"w\"> </span><span class=\"n\">threadsafe</span><span class=\"w\"> </span><span class=\"n\">UnixSockets</span><span class=\"w\"> </span><span class=\"n\">zstd</span>\n\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"o\">&gt;</span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mathematics_in_lean</span>\n\n<span class=\"nl\">C</span><span class=\"p\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">mathematics_in_lean</span><span class=\"o\">&gt;</span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">get</span>\n<span class=\"p\">...</span>\n\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"mi\">19</span><span class=\"o\">/</span><span class=\"mi\">19</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">cache</span>\n<span class=\"nl\">trace</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">elan</span><span class=\"err\">\\</span><span class=\"n\">toolchains</span><span class=\"err\">\\</span><span class=\"n\">leanprover</span><span class=\"o\">--</span><span class=\"n\">lean4</span><span class=\"o\">---</span><span class=\"n\">v4</span><span class=\"mf\">.21.0</span><span class=\"err\">\\</span><span class=\"n\">bin</span><span class=\"err\">\\</span><span class=\"n\">clang</span><span class=\"p\">.</span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">mathematics_in_lean</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">lake</span><span class=\"err\">\\</span><span class=\"n\">packages</span><span class=\"err\">\\</span><span class=\"n\">mathlib</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">lake</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">bin</span><span class=\"err\">\\</span><span class=\"n\">cache</span><span class=\"p\">.</span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"err\">@</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"err\">\\</span><span class=\"n\">Users</span><span class=\"err\">\\</span><span class=\"n\">jordi</span><span class=\"err\">\\</span><span class=\"n\">mathematics_in_lean</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">lake</span><span class=\"err\">\\</span><span class=\"n\">packages</span><span class=\"err\">\\</span><span class=\"n\">mathlib</span><span class=\"err\">\\</span><span class=\"p\">.</span><span class=\"n\">lake</span><span class=\"err\">\\</span><span class=\"n\">build</span><span class=\"err\">\\</span><span class=\"n\">bin</span><span class=\"err\">\\</span><span class=\"n\">cache</span><span class=\"p\">.</span><span class=\"n\">exe</span><span class=\"p\">.</span><span class=\"n\">rsp</span>\n<span class=\"n\">installing</span><span class=\"w\"> </span><span class=\"n\">leantar</span><span class=\"w\"> </span><span class=\"mf\">0.1.15</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">failure</span><span class=\"w\"> </span><span class=\"n\">in</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"err\">#</span><span class=\"p\">[</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"c1\">//github.com/digama0/leangz/releases/download/v0.1.15/leantar-v0.1.15-x86_64-pc-windows-msvc.zip, -L, -o, C:\\Users\\jordi\\.cache\\mathlib\\leantar-0.1.15.exe.zip]:</span>\n<span class=\"w\">  </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\">    </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Received</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"w\"> </span><span class=\"n\">Xferd</span><span class=\"w\">  </span><span class=\"n\">Average</span><span class=\"w\"> </span><span class=\"n\">Speed</span><span class=\"w\">   </span><span class=\"n\">Time</span><span class=\"w\">    </span><span class=\"n\">Time</span><span class=\"w\">     </span><span class=\"n\">Time</span><span class=\"w\">  </span><span class=\"n\">Current</span>\n<span class=\"w\">                                 </span><span class=\"n\">Dload</span><span class=\"w\">  </span><span class=\"n\">Upload</span><span class=\"w\">   </span><span class=\"n\">Total</span><span class=\"w\">   </span><span class=\"n\">Spent</span><span class=\"w\">    </span><span class=\"n\">Left</span><span class=\"w\">  </span><span class=\"n\">Speed</span>\n<span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\"> </span><span class=\"o\">--:--:--</span><span class=\"w\">     </span><span class=\"mi\">0</span>\n<span class=\"nl\">curl</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mi\">35</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">schannel</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"n\">InitializeSecurityContext</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CRYPT_E_NO_REVOCATION_CHECK</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x80092012</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">revocation</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">unable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">revocation</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">certificate</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>Thanks</p>",
        "id": 542375273,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1759270201
    },
    {
        "content": "<p>Hello again, it seems the problem with the curl revocation of certificates was caused by AVG Internet Security. I disabled the Firewall, Web protection, and Antivirus and it is now downloading with no problem.</p>",
        "id": 542376705,
        "sender_full_name": "Jordi Majó",
        "timestamp": 1759271139
    },
    {
        "content": "<p>Darn it, one of the canonical responses to \"I'm on Windows and am having trouble downloading stuff\" should be \"have you tried disabling your antivirus?\". Sorry we didn't suggest this earlier, this is a really common gotcha for new Windows users. I am very unclear about whether this is something which can be fixed at our (I mean the Lean community's) end.</p>",
        "id": 542486619,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1759323032
    },
    {
        "content": "<p>is it possible to register the things we need with the antivirus softwares?</p>",
        "id": 542487308,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759323238
    },
    {
        "content": "<p>A large chunk of these issues are very likely fixable if we add <code>--proxy-native-ca --native-ca</code> to the <code>curl</code> invocations that occur in <code>Cache</code>. These commands are currently only available at <code>curl</code> version <code>8.2.0</code> released mid 2023. I just took a look at the <code>curl</code> version check and we currently do seem to support versions quite a bit older than that. In particular on Linux/MacOS we do support just downloading a new, statically linked <code>curl</code> version but we do not on Windows (and even if we had this infra: how do we perform the download if the antivirus is blocking us :D). Thus this change would only make sense if we could confirm that a majority of windows users are operating at a version <code>&gt;= 8.2.0</code></p>\n<p>TLDR: Windows users please post the output of <code>curl --version</code> here to see if a fix is feasible.</p>",
        "id": 542493179,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759324742
    },
    {
        "content": "<p>In Git Bash:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\">Floris@Dell-E MINGW64 ~/projects/LeanCourse (master)</span>\n<span class=\"gp\">$ </span>curl<span class=\"w\"> </span>--version\n<span class=\"go\">curl 7.88.1 (x86_64-w64-mingw32) libcurl/7.88.1 OpenSSL/1.1.1t (Schannel) zlib/1.2.13 brotli/1.0.9 zstd/1.5.4 libidn2/2.3.4 libpsl/0.21.2 (+libidn2/2.3.3) libssh2/1.10.0 nghttp2/1.52.0</span>\n<span class=\"go\">Release-Date: 2023-02-20</span>\n<span class=\"go\">Protocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtsp scp sftp smb smbs smtp smtps telnet tftp</span>\n<span class=\"go\">Features: alt-svc AsynchDNS brotli HSTS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz MultiSSL NTLM PSL SPNEGO SSL SSPI threadsafe TLS-SRP UnixSockets zstd</span>\n</code></pre></div>\n<p>In WSL:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">floris@Dell-E:~/projects$ </span>curl<span class=\"w\"> </span>--version\n<span class=\"go\">curl 8.5.0 (x86_64-pc-linux-gnu) libcurl/8.5.0 OpenSSL/3.0.13 zlib/1.3 brotli/1.1.0 zstd/1.5.5 libidn2/2.3.7 libpsl/0.21.2 (+libidn2/2.3.7) libssh/0.10.6/openssl/zlib nghttp2/1.59.0 librtmp/2.3 OpenLDAP/2.6.7</span>\n<span class=\"go\">Release-Date: 2023-12-06, security patched: 8.5.0-2ubuntu10.6</span>\n<span class=\"go\">Protocols: dict file ftp ftps gopher gophers http https imap imaps ldap ldaps mqtt pop3 pop3s rtmp rtsp scp sftp smb smbs smtp smtps telnet tftp</span>\n<span class=\"go\">Features: alt-svc AsynchDNS brotli GSS-API HSTS HTTP2 HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM PSL SPNEGO SSL threadsafe TLS-SRP UnixSockets zstd</span>\n</code></pre></div>\n<p>In cmd/Powershell:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\">C:\\Users\\Floris&gt;curl --version</span>\n<span class=\"go\">curl 8.14.1 (Windows) libcurl/8.14.1 Schannel zlib/1.3.1 WinIDN</span>\n<span class=\"go\">Release-Date: 2025-06-09</span>\n<span class=\"go\">Protocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss</span>\n<span class=\"go\">Features: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</span>\n</code></pre></div>\n<p>I mostly used Git Bash for Lean stuff until now, but I'm slowly transitioning to WSL.</p>",
        "id": 542496498,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1759325579
    },
    {
        "content": "<p>So I don't think it's safe to assume that most Windows users use version <code>&gt;= 8.2.0</code>. But maybe not many users use Git Bash anymore, since it's not part of the official instructions for a while now(?)</p>",
        "id": 542496765,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1759325654
    },
    {
        "content": "<p>My understanding is that we only use the <code>curl</code> that you see in cmd/powershell because that is the one that is guaranteed to ship with Windows (if that's not the case we very much should make it the case)</p>",
        "id": 542497881,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759325912
    },
    {
        "content": "<p>windows powershell:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>&gt; curl --version\ncurl : The remote name could not be resolved: '--version'\nAt line:1 char:1\n+ curl --version\n+ ~~~~~~~~~~~~~~\n    + CategoryInfo          : InvalidOperation: (System.Net.HttpWebRequest:HttpWebRequest) [Invoke-WebRequest], WebExc\n   eption\n    + FullyQualifiedErrorId : WebCmdletWebResponseException,Microsoft.PowerShell.Commands.InvokeWebRequestCommand\n</code></pre></div>",
        "id": 542497889,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759325914
    },
    {
        "content": "<p>According to this very trustworthy <a href=\"https://lazyadmin.nl/powershell/using-curl/\">website</a> if you are in powershell you should do <code>curl.exe --version</code></p>",
        "id": 542498362,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759326030
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"395550\">Henrik Böving</span> <a href=\"#narrow/channel/270676-lean4/topic/curl.20error.20CRYPT_E_NO_REVOCATION_CHECK.20.280x80092012.29/near/542497881\">said</a>:</p>\n<blockquote>\n<p>My understanding is that we only use the <code>curl</code> that you see in cmd/powershell because that is the one that is guaranteed to ship with Windows (if that's not the case we very much should make it the case)</p>\n</blockquote>\n<p>That makes sense</p>",
        "id": 542498735,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1759326117
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>&gt; curl.exe --version\ncurl 8.13.0 (Windows) libcurl/8.13.0 Schannel zlib/1.3.1 WinIDN\nRelease-Date: 2025-04-02\nProtocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss\nFeatures: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets\n</code></pre></div>",
        "id": 542501419,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759326765
    },
    {
        "content": "<p>Windows 10 version 21H2 (which is supported by Lean and is also the version that Windows Server 2022, which is also supported by Lean, is based on) ships with curl <code>7.83.1</code>.</p>",
        "id": 542503759,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1759327258
    },
    {
        "content": "<p>Surely everyone will stop using Windows 10 in 14 days anyways :)</p>",
        "id": 542507807,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759328202
    },
    {
        "content": "<p>Though more seriously, I guess this could also just be a best effort type of solution where if we notice the version is sufficiently recent we set the flag and otherwise not?</p>",
        "id": 542509070,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759328509
    },
    {
        "content": "<p>One other trick we could try is <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-webrequest?view=powershell-7.5\">https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/invoke-webrequest?view=powershell-7.5</a> which hopefully just generally respects the windows certificate store, I don't know if it supports all the stuff we do with curl in <code>cache</code> though.</p>",
        "id": 542622265,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1759356954
    }
]