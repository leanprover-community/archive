[
    {
        "content": "<p>Minor issue, but linters repeat some error messages. E.g.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Core</span>\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">trivial</span>\n</code></pre></div>\n<p>outputs</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>Test.lean:2:0\nunknown option 'foo'\nTest.lean:2:0\nlinter Lean.Linter.MissingDocs.missingDocs failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.header.headerLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.DocPrime.docPrimeLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.globalAttributeInLinter.globalAttributeIn failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.HashCommandLinter.hashCommandLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.DupNamespaceLinter.dupNamespace failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.multiGoal.multiGoalLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.oldObtainLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.refineLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.UnusedTactic.unusedTacticLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.lambdaSyntax.lambdaSyntaxLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.dollarSyntax.dollarSyntaxLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.longFile.longFileLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.setOption.setOptionLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.longLine.longLineLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.cdotLinter failed: unknown option 'foo'\nTest.lean:2:0\nlinter Mathlib.Linter.Style.missingEnd.missingEndLinter failed: unknown option 'foo'\n</code></pre></div>",
        "id": 500627669,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1739964783
    },
    {
        "content": "<p>If it's just Mathlib linters, this should probably be moved to <a class=\"stream\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4\">#mathlib4</a>?</p>",
        "id": 500636720,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1739967751
    },
    {
        "content": "<p>I think it's the linter framework.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">trivial</span>\n</code></pre></div>\n<p>gives</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>Test.lean:2:0\nunknown option 'foo'\nTest.lean:2:0\nlinter Lean.Linter.MissingDocs.missingDocs failed: unknown option 'foo'\n</code></pre></div>",
        "id": 500646652,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1739970682
    },
    {
        "content": "<p>Ah, I missed that one. Could you file an issue?</p>",
        "id": 500650410,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1739971799
    },
    {
        "content": "<p>I think this is because the linters re-run the <code>set_option</code> commands so that they can read the modified options</p>",
        "id": 500650700,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739971869
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/7148\">lean#7148</a></p>",
        "id": 500654284,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1739972817
    }
]