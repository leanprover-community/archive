[
    {
        "content": "<p>Hi all,</p>\n<p>I was reading this old thread</p>\n<p><a href=\"https://leanprover-community.github.io/archive/stream/270676-lean4/topic/analogue.20of.20.23print.20notation.html\">https://leanprover-community.github.io/archive/stream/270676-lean4/topic/analogue.20of.20.23print.20notation.html</a></p>\n<p>which contains a utility that lets you automatically desugar the definition of a unicode symbol:</p>\n<p><a href=\"https://gist.github.com/pcpthm/b88152daeeb684948d768766a49f2534#file-print_notation-lean-L8\">https://gist.github.com/pcpthm/b88152daeeb684948d768766a49f2534#file-print_notation-lean-L8</a></p>\n<p>however, it seems to be written in an old version of Lean and doesn't work anymore.</p>\n<p>Is there any update on this problem? If I want a way to desugar some notation automatically is fixing the above code my best bet? (Also, the reason I want to do this is I'm trying to automatically remove open declarations and qualify every name, and I can't qualify unicode symbols by putting \"MyNamespace.\" in front of them. )</p>\n<p>Thanks,<br>\nPhillip</p>",
        "id": 528506519,
        "sender_full_name": "Phillip Harris",
        "timestamp": 1752386269
    },
    {
        "content": "<p>Could you give an example?  Does mathlib's <code>#find_syntax \"mySymbol\"</code> help?</p>",
        "id": 528507559,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1752387417
    },
    {
        "content": "<p>For example the symbol <code>ùìù</code>, it seems to be in the Filter namespace but you can't write `Filter.ùìù </p>\n<p>I didn't know about #find_syntax, that seems like what I'm looking for. Though I tried it just now on ùìù and it took almost 10 minutes... not sure why. Edit: Actually I'm a little confused about what this command returns? It seems to return objects of type Lean.ParserDescr and not the definition of ùìù itself, which would be <code>nhds</code></p>",
        "id": 528509754,
        "sender_full_name": "Phillip Harris",
        "timestamp": 1752390254
    },
    {
        "content": "<p>Your question aside: are you sure you want to remove every <code>open</code> statement? Outside of minimization, that doesn't seem useful --- notation is there to improve readability.</p>",
        "id": 528510379,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752391138
    },
    {
        "content": "<p>Ideally, each notation should have documentation showing that it denotes (if not, that's a \"bug\" in the notation).</p>",
        "id": 528510401,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752391172
    },
    {
        "content": "<p>It's for ML. The LLMs have trouble learning the namespaces.</p>",
        "id": 528510403,
        "sender_full_name": "Phillip Harris",
        "timestamp": 1752391174
    },
    {
        "content": "<p>Not sure if it's helpful, but maybe the LLMs can learn to do <code>open scoped Filter</code> to enable the filter notation without also opening the namespace?</p>",
        "id": 528678584,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1752504305
    },
    {
        "content": "<p>Hmm, that might be good enough. Maybe I can just take all the commonly used notations that are defined with <code>scoped notation</code> and don't overlap and open all of them at the start.</p>",
        "id": 528924887,
        "sender_full_name": "Phillip Harris",
        "timestamp": 1752606409
    }
]