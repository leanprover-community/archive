[
    {
        "content": "<p>I was pretty surprised to discover this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">path</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"s2\">\"/tmp/lean-zulip-example\"</span>\n<span class=\"w\">  </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">FS</span><span class=\"bp\">.</span><span class=\"n\">writeBinFile</span><span class=\"w\"> </span><span class=\"n\">path</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"s2\">\"Hello</span><span class=\"err\">\\</span><span class=\"s2\">x00(this is a very secret message that must never be shared) world\"</span><span class=\"bp\">.</span><span class=\"n\">toUTF8</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">FS</span><span class=\"bp\">.</span><span class=\"n\">readFile</span><span class=\"w\"> </span><span class=\"n\">path</span>\n<span class=\"w\">  </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">println</span><span class=\"w\"> </span><span class=\"n\">x</span>\n</code></pre></div>",
        "id": 455525244,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1722478370
    },
    {
        "content": "<p>(<a href=\"https://github.com/leanprover/lean4/pull/4891\">lean4#4891</a>)</p>",
        "id": 455525339,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1722478407
    },
    {
        "content": "<p>(sorry for the edits, I over-minimized this to begin with)</p>",
        "id": 455526576,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1722478814
    },
    {
        "content": "<p>Yep, this was fun to discover while validating Lake's TOML parser. Interesting, this behavior is noted <a href=\"https://github.com/leanprover/lean4/blob/647a5e94925791f6a16b629b6c16ffad60a7f478/src/runtime/io.cpp#L488-L493\">in the comments</a> of the C get line funciton, but nowhere in the Lean code.</p>",
        "id": 456094986,
        "sender_full_name": "Mac Malone",
        "timestamp": 1722657081
    },
    {
        "content": "<p>I have a fix for it, will PR next week</p>",
        "id": 456114939,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1722668663
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/4906\">https://github.com/leanprover/lean4/pull/4906</a></p>",
        "id": 456454835,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1722839939
    }
]