[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">trivial</span><span class=\"w\"> </span><span class=\"c1\">-- start here</span>\n</code></pre></div>\n<ol>\n<li>delete the comment <code>-- start here</code></li>\n<li>add a newline</li>\n<li>type <code>| cons =&gt; trivial</code></li>\n<li>observe that lean complains that <code>cons</code> hasn't  been provided</li>\n<li>add a space before <code>| cons</code> and then delete the space</li>\n<li>it's now magically fixed</li>\n</ol>",
        "id": 545769822,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760807828
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/oKzEdrjxwfr_lyDwbIaC-jQP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/oKzEdrjxwfr_lyDwbIaC-jQP/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1327x597\" src=\"/user_uploads/thumbnail/3121/oKzEdrjxwfr_lyDwbIaC-jQP/image.png/840x560.webp\"></a></div>",
        "id": 545769861,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760807861
    },
    {
        "content": "<p>(tested on live lean)</p>",
        "id": 545769866,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760807873
    },
    {
        "content": "<p>I had the same problem which sometimes I encounter it and sometimes it's fine, didn't think it was serious enough to report</p>",
        "id": 545770505,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760808659
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span>, can you please open an issue?</p>",
        "id": 545873908,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760927381
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/270676-lean4/topic/bug.20with.20spacing/near/545873908\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span>, can you please open an issue?</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover/lean4/pull/10847\">lean4#10847</a></p>",
        "id": 545897898,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760945250
    },
    {
        "content": "<p>That was <a href=\"https://github.com/leanprover/lean4/pull/10679\">lean4#10679</a>, wasn't it?</p>",
        "id": 545898623,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1760945488
    },
    {
        "content": "<p>but i tested it against a version after that date</p>",
        "id": 545898778,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760945537
    },
    {
        "content": "<p>the description is different, the one you linked is saying that the error message stays after removing the alternative, mine says that the error message appears after adding the alternative</p>",
        "id": 545898969,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760945598
    },
    {
        "content": "<p>which, if you think about it, how can there be an error message in the first place if there is an \"offending alternative\"?? that's my bug i think</p>",
        "id": 545899086,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760945634
    },
    {
        "content": "<p>I've had this problem before but I can't seem to reproduce it with your steps. You're probably right that this is still a problem but maybe there is a better way to reproduce it?</p>",
        "id": 545899978,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1760945917
    },
    {
        "content": "<p>did you delete the comment?</p>",
        "id": 545900051,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760945940
    },
    {
        "content": "<p>I have a reproducer</p>",
        "id": 545901033,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1760946248
    },
    {
        "content": "<p>Maybe I misunderstood something but:</p>\n<ol>\n<li>open in Lean 4 playground</li>\n<li>put <code>| cons =&gt; trivial</code> into the clipboard</li>\n<li>select <code> -- start here</code></li>\n<li>backspace</li>\n<li>enter</li>\n<li>paste</li>\n</ol>\n<p>causes no error to occur. I think a better repro is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">trivial</span>\n</code></pre></div>\n<ol>\n<li>Type a single <code>|</code> at the end of the last line.</li>\n<li>Wait until the error appears.</li>\n<li>Write <code>cons =&gt; trivial</code> =&gt; The error is still there</li>\n<li>Add a space before the <code>|</code> =&gt; The error disappears</li>\n</ol>",
        "id": 545901446,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1760946380
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/10848\">lean#10848</a>, a partial oversight from <a href=\"https://github.com/leanprover/lean4/pull/10679\">lean#10679</a></p>",
        "id": 545901648,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1760946448
    }
]