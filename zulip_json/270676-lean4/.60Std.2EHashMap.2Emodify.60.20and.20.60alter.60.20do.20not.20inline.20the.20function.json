[
    {
        "content": "<p>If you look at the IR (<code>set_option trace.compiler.ir.reset_reuse true</code>) when using the functions <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.HashMap.modify#doc\">docs#Std.HashMap.modify</a> or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.HashMap.alter#doc\">docs#Std.HashMap.alter</a>, you can see that the function argument isn't actually inlined. This is because <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.DHashMap.Internal.AssocList.modify#doc\">docs#Std.DHashMap.Internal.AssocList.modify</a> and the 3 following functions aren't tagged with <code>@[inline]</code>. These were added in <a href=\"https://github.com/leanprover/lean4/pull/6573\">lean4#6573</a>, by <span class=\"user-mention\" data-user-id=\"221653\">@Paul Reichert</span>.</p>\n<p>By the way, I'm very grateful that these have been added, but I'd like them to compile optimally.</p>",
        "id": 502107010,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1740591854
    },
    {
        "content": "<p>Thanks for the hint :) I will take a look at it and get back to you shortly! Please let me know if you stumble upon other problems -- <del>the API is still fresh from the oven</del> (just the tree map is).</p>",
        "id": 502107515,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1740592002
    },
    {
        "content": "<p>I think we can't <code>inline</code> them because they are recursive but we can <code>specialize</code> them, right?</p>",
        "id": 502109278,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1740592545
    },
    {
        "content": "<p>Hahaha, I was just about to write a message saying that it should be <code>specialize</code> instead of <code>inline</code></p>",
        "id": 502109422,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1740592583
    },
    {
        "content": "<p>I created <a href=\"https://github.com/leanprover/lean4/pull/7245\">https://github.com/leanprover/lean4/pull/7245</a>, which should get merged tomorrow.</p>",
        "id": 502111497,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1740593181
    }
]