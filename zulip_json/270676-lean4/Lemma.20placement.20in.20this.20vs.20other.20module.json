[
    {
        "content": "<p>I have a situation I am confused about. The directory and files I am working with are complicated, and it is unclear how to make a MWE for this, so let me try and explain with a simple example.</p>\n<p>I have a file A.lean: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">AModule1</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">ANamespace1</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">thisNameSpace</span>\n<span class=\"bp\">...</span>\n<span class=\"n\">Lots</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">defs</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"bp\">.</span>\n<span class=\"bp\">...</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">alpha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">alpha_statement</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">alpha_proof</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">thisNameSpace</span>\n</code></pre></div>\n<p>I have another file B.lean: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">A</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">ANamespace1</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">thisNameSpace</span>\n\n<span class=\"sd\">/-- exactly the same as alpha, just a different name --/</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">alpha'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">alpha_statement</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">alpha_proof</span>\n<span class=\"bp\">...</span>\n<span class=\"n\">Lots</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">defs</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"bp\">.</span>\n<span class=\"bp\">...</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">gamma</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"n\">gamma_statement</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">gamma_proof</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">beta</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">beta_statement</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">alpha</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">gamma</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- error here, but erw [gamma] works.</span>\n\n<span class=\"sd\">/-- exactly the same statement as beta. -/</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">beta'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">beta_statement</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">alpha'</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">gamma</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- no error here.</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">thisNameSpace</span>\n</code></pre></div>\n<p>I would assume <code>alpha</code> and <code>alpha'</code> to be identical and interchangeable. The only difference between them is that one appears at the end of <code>A.lean</code> and the other at the start of <code>B.lean</code>.  They are in the same namespaces with the same namespaces opened etc.</p>\n<p>However, they have a different effect down the line. Using <code>#check alpha</code> and <code>#check alpha'</code> gives not difference. </p>\n<p>I'm on Lean 4.12.0.</p>\n<p>Is this expected behaviour?</p>",
        "id": 478686310,
        "sender_full_name": "Joseph Tooby-Smith",
        "timestamp": 1729767077
    },
    {
        "content": "<p>I can only assume that at some point when you say \"exactly the same\" you actually mean \"not exactly the same but look exactly the same to me\". Try <code>set_option pp.all true</code> and take a good look at these exactly the same things and see if they're all still <em>exactly</em> the same.</p>",
        "id": 478807789,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1729808492
    }
]