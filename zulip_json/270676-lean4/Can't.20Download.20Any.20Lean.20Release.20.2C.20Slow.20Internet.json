[
    {
        "content": "<p>Gave up on having <code>elan toolchain install</code> or <code>lake build</code> in an existing project download a new toolchain.(or <code>lake exe cache get</code> etc..)<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/issues/29015\">https://github.com/leanprover-community/mathlib4/issues/29015</a></p>\n<p>Forgot about it for a while then i tried today going to lean 4 releases on github and just downloading from the browser, tried on different devices and networks to no avail, tried several versions like 4.21.0 , 4.23.0 to no avail.</p>\n<p>browser says something along the lines of network error , contact server administrator , can't read source file</p>",
        "id": 542236563,
        "sender_full_name": "Jad Abou Hawili",
        "timestamp": 1759227573
    },
    {
        "content": "<p>Interesting Observation:<br>\nThe error mentioned in the above github issue happens after the download reaches 200-240 megabytes and I have tested this multiple times.<br>\nI tried and was able to download the <a href=\"https://github.com/leanprover/lean4/releases/download/v4.9.0/lean-4.9.0-linux_x86.tar.zst\">v4.9.0 release</a> which is under 200 megabytes.</p>",
        "id": 542614889,
        "sender_full_name": "Jad Abou Hawili",
        "timestamp": 1759353698
    },
    {
        "content": "<p>I was able to download the v4.23.0 release by:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">aria2c</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mi\">16</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">releases</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">lang</span><span class=\"bp\">.</span><span class=\"n\">org</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">23</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"mf\">4.23</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">.</span><span class=\"n\">tar</span><span class=\"bp\">.</span><span class=\"n\">zst</span>\n</code></pre></div>\n<p>I tried to place this in an appropriate .elan/toolchain folder and doing lake update in my project that has mathlib as a dependency, but it fails with errors related to cache. im guessing there is a build step , how would i do this manually because <code>lake update</code> fails preventing these subsequent steps<br>\nedit: placing in .elan/toolchain and doing lake update would work</p>",
        "id": 542622607,
        "sender_full_name": "Jad Abou Hawili",
        "timestamp": 1759357145
    },
    {
        "content": "<p>This github <a href=\"https://github.com/orgs/community/discussions/169381\">discussion</a> discusses this , and possible workarounds when using curl. Im assuming <code>lake</code> uses curl so this should be relevant.</p>",
        "id": 542624230,
        "sender_full_name": "Jad Abou Hawili",
        "timestamp": 1759358014
    },
    {
        "content": "<p>tldr: if your internet is too slow , then jwt would expire because of the way github configured that. downloading using the <code>aria2c</code> command , or downloading chunks of the file using curl etc... would work and then placing in ~/.elan/toolchain. closing... although it would be desirable if <code>lake</code>'s usage of <code>curl</code> accounts for this(if possible)</p>",
        "id": 542632948,
        "sender_full_name": "Jad Abou Hawili",
        "timestamp": 1759363668
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Can.27t.20Download.20Any.20Lean.20Release\">#lean4 &gt; Can't Download Any Lean Release</a> by <span class=\"user-mention silent\" data-user-id=\"714864\">Jad Abou Hawili</span>.</p>",
        "id": 542633008,
        "sender_full_name": "Notification Bot",
        "timestamp": 1759363700
    }
]