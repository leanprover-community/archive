[
    {
        "content": "<p>(using Lean version 4.15.0-nightly-2024-11-15)</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">structure</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">q</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span>\n\n<span class=\"kd\">structure</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">q'</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">True</span>\n\n<span class=\"kd\">example</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">True</span>\n<span class=\"w\">  </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">True.intro</span>\n<span class=\"w\">  </span><span class=\"n\">q'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">_</span><span class=\"o\">,</span><span class=\"n\">_</span><span class=\"o\">⟩</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">True.intro</span>\n</code></pre></div>\n<p>gives the unexpected kernel error <code>(kernel) declaration has metavariables '_example'</code></p>\n<p>Mysteriously (to me), any one of the following changes make the error disappear:</p>\n<ul>\n<li>replacing <code>by exact True.intro</code> by <code>True.intro</code></li>\n<li>replacing <code>⟨_,_⟩</code> by <code>_</code></li>\n<li>moving any of <code>p</code>, <code>q</code> into <code>B</code> (or <code>q'</code> into <code>A</code>)</li>\n</ul>\n<p>Could someone shed some light on this?</p>",
        "id": 482766948,
        "sender_full_name": "Joris Roos",
        "timestamp": 1731760939
    },
    {
        "content": "<p>Sorry about the slow reply on this. I wonder if this is the same issue as <a href=\"https://github.com/leanprover/lean4/pull/5925\">lean#5925</a>.</p>",
        "id": 485729572,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733184466
    },
    {
        "content": "<p>If you want to open an issue, perhaps link to that one?</p>",
        "id": 485729644,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733184487
    },
    {
        "content": "<p>Thanks, I opened a new issue: <a href=\"https://github.com/leanprover/lean4/pull/6354\">lean#6354</a></p>",
        "id": 487235085,
        "sender_full_name": "Joris Roos",
        "timestamp": 1733833277
    },
    {
        "content": "<p><a href=\"#narrow/channel/270676-lean4/topic/Possible.20bug.3A.20.22unknown.20free.20variable.22/near/489833303\">(Discussion continues here)</a></p>",
        "id": 489867445,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1734569430
    }
]