[
    {
        "content": "<p>Not really a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>, but got this message when trying <code>omega</code> in <a href=\"https://raw.githubusercontent.com/LessnessRandomness/KRk/master/KRk/kinda_mwe.lean\">some situation</a>. (The last <code>omega</code>.) I copied it into <a href=\"https://live.lean-lang.org/\">https://live.lean-lang.org/</a> and had the same problem here.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">deterministic</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">timeout</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"ss\">`whnf</span><span class=\"bp\">`</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">maximum</span><span class=\"w\"> </span><span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">heartbeats</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">200000</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">been</span><span class=\"w\"> </span><span class=\"n\">reached</span>\n<span class=\"n\">use</span><span class=\"w\"> </span><span class=\"ss\">`set_option</span><span class=\"w\"> </span><span class=\"n\">maxHeartbeats</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">num</span><span class=\"bp\">&gt;`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">limit</span>\n<span class=\"n\">use</span><span class=\"w\"> </span><span class=\"ss\">`set_option</span><span class=\"w\"> </span><span class=\"n\">diagnostics</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">diagnostic</span><span class=\"w\"> </span><span class=\"n\">information</span>\n</code></pre></div>\n<p>Does this mean something bad?</p>",
        "id": 451756485,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1721135742
    },
    {
        "content": "<p>I'd be a little surprised if it is actually <code>omega</code> here, as it shouldn't spend much time inside of <code>whnf</code>. (But it is possible!)</p>\n<p>A <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> would be great. </p>\n<p>You might also try replacing your <code>simp</code> with <code>simp?</code>, accepting the suggestion, and seeing if that solves the problem.</p>",
        "id": 451769071,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1721139427
    },
    {
        "content": "<p>Tried to make <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>, for now it's only 50 lines instead of 100. <a href=\"https://github.com/LessnessRandomness/KRk/blob/master/KRk/kinda_mwe_2.lean\">Here</a></p>",
        "id": 451775182,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1721141102
    },
    {
        "content": "<p>Will poke it a bit more, maybe make it even smaller.</p>",
        "id": 451775315,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1721141148
    },
    {
        "content": "<p>Ok, it seems I can't make them smaller. :|</p>\n<p><a href=\"https://raw.githubusercontent.com/LessnessRandomness/KRk/master/KRk/kinda_mwe_2.lean\">mwe2</a> and <a href=\"https://raw.githubusercontent.com/LessnessRandomness/KRk/master/KRk/kinda_mwe_3.lean\">mwe3</a> is the best I have got.</p>",
        "id": 451785836,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1721143512
    },
    {
        "content": "<p>Oh, I see. You have many disjunctions in the hypotheses. <code>omega</code> is <em>extremely dumb</em> handling branches: it tries without either branch, then when it fails it picks the first disjunction it sees and splits it and retries.</p>\n<p>This is suitable for problems with one or two disjunctions, but <code>omega</code> is not suited for splitting many disjunctions.</p>",
        "id": 451811098,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1721149649
    },
    {
        "content": "<p>For now, you will need to provide the logic yourself. Eventually we will have better tactics for this, but perhaps not until next year.</p>",
        "id": 451811196,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1721149675
    },
    {
        "content": "<p>Oh, nice! Now I know the explanation.</p>\n<p>Thank you very much!</p>",
        "id": 451811658,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1721149791
    }
]