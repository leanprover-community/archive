[
    {
        "content": "<p>In the following snippet, the instance is a def and not a theorem. Is this intended?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n\n<span class=\"bp\">#</span><span class=\"n\">print</span><span class=\"w\"> </span><span class=\"n\">foo</span>\n<span class=\"c1\">-- def foo : Foo :=</span>\n<span class=\"c1\">-- { }</span>\n</code></pre></div>",
        "id": 446264983,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1719056552
    },
    {
        "content": "<p>I think this is known, and it would be nice to fix. It's not that high-priority though, since there is not actually too much downside having Prop-valued things be a <code>def</code>. Probably it would be fine if you make an RFC for this (I think there is no one yet).</p>\n<p>One issue this causes is that in Mathlib, if you make an alias of a Prop-valued instance, then the <code>defLemma</code> linter complains.</p>",
        "id": 482284334,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1731542599
    },
    {
        "content": "<p>I think this was reported in <a href=\"https://github.com/leanprover/lean4/pull/5672\">lean4#5672</a>, and fixed in <a href=\"https://github.com/leanprover/lean4/pull/5856\">lean4#5856</a></p>",
        "id": 482285523,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1731543295
    },
    {
        "content": "<p>Oh nice! <span class=\"user-mention\" data-user-id=\"651332\">@Sven Manthe</span> you still had an issue with this in your project, right? It's probably fixed in the latest release candidate.</p>",
        "id": 482359472,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1731580992
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/commit/c10e4c22564d6d7d8101d82a7f41efe250ca5d92\">https://github.com/leanprover/lean4/commit/c10e4c22564d6d7d8101d82a7f41efe250ca5d92</a> is not in any releases yet</p>",
        "id": 482364171,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1731582453
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/channel/270676-lean4/topic/defLemma.20and.20Prop-valued.20classes/near/482359472\">said</a>:</p>\n<blockquote>\n<p>Oh nice! <span class=\"user-mention silent\" data-user-id=\"651332\">Sven Manthe</span> you still had an issue with this in your project, right? It's probably fixed in the latest release candidate.</p>\n</blockquote>\n<p>I cannot remember this issue (and wasn't using much typeclass inference in the project, so this probably wasn't too relevant for my performance issues).</p>",
        "id": 482369937,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1731584295
    },
    {
        "content": "<p>Oh, maybe I misremembered who asked me (it was about <code>alias</code> triggering the <code>defLemma</code> linter).</p>",
        "id": 482380947,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1731587819
    },
    {
        "content": "<p>I did mention this at some point, but probably you are thinking of a student of yours</p>",
        "id": 482381104,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1731587880
    },
    {
        "content": "<p>We currently have a <code>nolint defLemma</code> on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Iff.eq#doc\">docs#Iff.eq</a>, which is an alias of <code>propext</code>. Is this related?</p>",
        "id": 494659929,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737307292
    },
    {
        "content": "<p>It's related insofar as also being worth a bug report</p>",
        "id": 494673595,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737317454
    }
]