[
    {
        "content": "<p>Hi I am stills  working on the basic support Lean in IntelliJ Idea. While handling caret update , should I wait till fileProgress finished and then invoke the rpc call getInteractiveGoals or just calling getInteractiveGoals even the current file is progressing?</p>",
        "id": 454698865,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1722220510
    },
    {
        "content": "<p>Now I am waiting the fileProgress notification finished. I dont know if itâ€™s necessary or not. It seems necessary? While the current file is progressing by the lsp server, getting goals seems no result?</p>",
        "id": 454699063,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1722220633
    },
    {
        "content": "<p>The point of the file progress notification, iirc, is to inform the user which postfix of the file is still being processed by the server. In vscode this shows up as orange bars in the left side gutter. You do NOT have to wait for the entire file to finish processing before requesting the goal state at a position: just that part of the file has to have finished processing. This is important for fast interactive feedback. Your code shouldn't have to handle this in any special way: the server will reply to getInteractiveGoals as soon as it can. You just have to wait for that reply asynchronously.</p>",
        "id": 454815076,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1722254891
    },
    {
        "content": "<p>Note that the server currently processes files top-to-bottom, linearized. This might change in the future.</p>",
        "id": 454815297,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1722254952
    },
    {
        "content": "<p>Thanks! Yeah decoupling the file progressing events and caret/mouse movement events eases the client impl some level. But maybe some debouncing is still necessary for reduce the pressure for the lsp server? I seems saw it in lean.nvim but cannot find it now</p>",
        "id": 454902282,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1722274913
    },
    {
        "content": "<p>Hmm, afair there is no code to do that in the vscode extension. Progress notifications are saved in order to display the orange bars, and also to add some visual information in the infoview when the cursor is at a position that is still loading (cf. <a href=\"https://github.com/leanprover/vscode-lean4/pull/470\">leanprover/vscode-lean4#470</a>), but it's not used otherwise.</p>",
        "id": 454909010,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1722276387
    },
    {
        "content": "<p>Yeah I get it now. Thanks for the help!</p>",
        "id": 455000352,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1722307413
    }
]