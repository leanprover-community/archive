[
    {
        "content": "<p><a href=\"https://live.lean-lang.org/#codez=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\">I am trying to prove (here in live.lean-lang.org)</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">proxy_bind_assoc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Proxy</span><span class=\"w\"> </span><span class=\"n\">Za'</span><span class=\"w\"> </span><span class=\"n\">Za</span><span class=\"w\"> </span><span class=\"n\">Wb'</span><span class=\"w\"> </span><span class=\"n\">Wb</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Proxy</span><span class=\"w\"> </span><span class=\"n\">Ya'</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"w\"> </span><span class=\"n\">Xb'</span><span class=\"w\"> </span><span class=\"n\">Xb</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wb</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Proxy</span><span class=\"w\"> </span><span class=\"n\">Wb'</span><span class=\"w\"> </span><span class=\"n\">Wb</span><span class=\"w\"> </span><span class=\"n\">Ya'</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- 1️⃣ (Proxy.Respond x k &gt;&gt;~ fun a =&gt; g a &gt;&gt;~ f) = Proxy.Respond x k &gt;&gt;~ g &gt;&gt;~ f</span>\n<span class=\"w\">    </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a2</span><span class=\"w\"> </span><span class=\"n\">k2</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">a2</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a3</span><span class=\"w\"> </span><span class=\"n\">k3</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x3</span><span class=\"w\"> </span><span class=\"n\">k3</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- 2️⃣ (Proxy.Respond x3 k3 &gt;&gt;~ fun a =&gt; k2 a &gt;&gt;~ f) = Proxy.Respond x3 k3 &gt;&gt;~ k2 &gt;&gt;~ f</span>\n<span class=\"w\">        </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x2</span><span class=\"w\"> </span><span class=\"n\">k2</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- 3️⃣ pushR.go k (Proxy.Respond x2 k2 &gt;&gt;~ f) = pushR.go k (Proxy.Respond x2 k2) &gt;&gt;~ f</span>\n<span class=\"w\">      </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x2</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x3</span><span class=\"w\"> </span><span class=\"n\">k3</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a3</span><span class=\"w\"> </span><span class=\"n\">k3</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">        </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- 4️⃣ pushR.go k (pushR.go k2 (Proxy.Request a3 k3)) = pushR.go (fun c' =&gt; pushR.go k (k2 c')) (Proxy.Request a3 k3)</span>\n<span class=\"w\">        </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">k2</span><span class=\"w\"> </span><span class=\"n\">a3</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">        </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a4</span><span class=\"w\"> </span><span class=\"n\">k4</span><span class=\"w\"> </span><span class=\"n\">ih4</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">          </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih4</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- 5️⃣ pushR.go k (Proxy.Request a4 k4 &gt;&gt;~ k3) = pushR.go k (Proxy.Request a4 k4) &gt;&gt;~ k3</span>\n<span class=\"w\">          </span><span class=\"gr\">sorry</span>\n<span class=\"w\">        </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x4</span><span class=\"w\"> </span><span class=\"n\">k4</span><span class=\"w\"> </span><span class=\"n\">ih4</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">          </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih4</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- 6️⃣ pushR.go k (Proxy.Respond x4 k4 &gt;&gt;~ k3) = pushR.go k (Proxy.Respond x4 k4) &gt;&gt;~ k3</span>\n<span class=\"w\">          </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>and 1 repeats with 2, 3 repeats with 6. (as of 4 and 5 <code>Request Request</code> case - they dont repeat, but rn, but probably will in future)</p>\n<p>what to do? I'm banging my head at it many days</p>\n<p>P.S. 1 related to <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/lean-pipes.3A.20could.20someone.20help.20me.20finish.3F/with/523108478\">#lean4 &gt; lean-pipes: could someone help me finish?</a> <br>\nP.S. 2 in coq-pipes this is <a href=\"https://github.com/jwiegley/coq-pipes/blob/ec4e7884dc2d2c1a55ee075103c964b4f65c7be6/src/Pipes/Core.v#L331\">https://github.com/jwiegley/coq-pipes/blob/ec4e7884dc2d2c1a55ee075103c964b4f65c7be6/src/Pipes/Core.v#L331</a></p>",
        "id": 526729277,
        "sender_full_name": "Serhii Khoma (srghma)",
        "timestamp": 1751438318
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"813382\">@Serhii Khoma (srghma)</span> you need <code>induction p generalizing f g</code></p>",
        "id": 526729699,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751438510
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> tnx ! tnx ! I did it!!! :)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">proxy_bind_assoc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Proxy</span><span class=\"w\"> </span><span class=\"n\">Za'</span><span class=\"w\"> </span><span class=\"n\">Za</span><span class=\"w\"> </span><span class=\"n\">Wb'</span><span class=\"w\"> </span><span class=\"n\">Wb</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Proxy</span><span class=\"w\"> </span><span class=\"n\">Ya'</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"w\"> </span><span class=\"n\">Xb'</span><span class=\"w\"> </span><span class=\"n\">Xb</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wb</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Proxy</span><span class=\"w\"> </span><span class=\"n\">Wb'</span><span class=\"w\"> </span><span class=\"n\">Wb</span><span class=\"w\"> </span><span class=\"n\">Ya'</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;~</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">generalizing</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">generalizing</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a2</span><span class=\"w\"> </span><span class=\"n\">k2</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x2</span><span class=\"w\"> </span><span class=\"n\">k2</span><span class=\"w\"> </span><span class=\"n\">ih2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x2</span><span class=\"w\"> </span><span class=\"n\">generalizing</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">k2</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">mx</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp_all</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Respond</span><span class=\"w\"> </span><span class=\"n\">x3</span><span class=\"w\"> </span><span class=\"n\">k3</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp_all</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">a3</span><span class=\"w\"> </span><span class=\"n\">k3</span><span class=\"w\"> </span><span class=\"n\">ih3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp_all</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">pushR</span><span class=\"bp\">.</span><span class=\"n\">go</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 526736476,
        "sender_full_name": "Serhii Khoma (srghma)",
        "timestamp": 1751441290
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"813382\">Serhii Khoma (srghma)</span> has marked this topic as resolved.</p>",
        "id": 526736493,
        "sender_full_name": "Notification Bot",
        "timestamp": 1751441296
    }
]