[
    {
        "content": "<p>I'd like to get the current date for a script running in CI. (Full context: mathlib is writing new tooling in Lean <a href=\"https://github.com/leanprover-community/mathlib4/pull/24861\">#24861</a> and it's generally a breeze <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>) Because CI runners can live in different timezones, using <code>Std.Time.PlainDate.now</code> seems wrong --- <a href=\"https://github.com/leanprover/lean4/blob/81b85203c90439fb7d7e0cec32130d62d8cb7a2e/src/Std/Time/Zoned.lean#L19-L28\">if I read the source right</a>, it uses the current timezone. (That would be too brittle for my use case, I don't want to make assumptions about the physical machines used in some github actions runners.)</p>\n<p>What's the best way to get the current date, but using UTC? Could there be a function for \"now, in a given timezone\"? CC <span class=\"user-mention\" data-user-id=\"481858\">@Sofia Rodrigues</span> since I gather you are the code author.</p>",
        "id": 517985132,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1747206133
    },
    {
        "content": "<p>(And secondly: would you accept a PR clarifying the docstring of <a href=\"http://PlainDate.now\">PlainDate.now</a>?)</p>",
        "id": 517985138,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1747206134
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.Time.PlainDate.now#doc\">docs#Std.Time.PlainDate.now</a></p>",
        "id": 517985879,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1747206401
    },
    {
        "content": "<p>You can use <code>(← Timestamp.now).toPlainDateAssumingUTC</code> (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.Time.Timestamp.toPlainDateAssumingUTC#doc\">docs#Std.Time.Timestamp.toPlainDateAssumingUTC</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.Time.Timestamp.now#doc\">docs#Std.Time.Timestamp.now</a>)</p>",
        "id": 517986062,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1747206467
    },
    {
        "content": "<p>I think I would do <code>(← DateTime.now (tz := .UTC)).toPlainDate</code>.</p>",
        "id": 517995112,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1747209414
    },
    {
        "content": "<p>And yes, we will consider suggestions to improve the docstring. The idea of <code>PlainDate.now</code> is that it is equivalent to looking at your wristwatch.</p>",
        "id": 517995804,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1747209611
    },
    {
        "content": "<p>Thanks! I created <a href=\"https://github.com/leanprover/lean4/pull/8331\">lean4#8331</a> with the minimal changes. Perhaps giving advice for \"here's how to use UTC instead\" would also be useful; I'm happy to include that as well if you deem it useful!</p>",
        "id": 518000740,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1747211033
    }
]