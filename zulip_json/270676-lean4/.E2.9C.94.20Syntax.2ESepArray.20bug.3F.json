[
    {
        "content": "<p>In the following example, I'm able to declare <code>syntax ident,+ : term</code> but I can't match against it:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">syntax</span> <span class=\"n\">ident</span><span class=\"o\">,</span><span class=\"bp\">+</span> <span class=\"o\">:</span> <span class=\"n\">term</span>\n\n<span class=\"n\">macro_rules</span>\n  <span class=\"bp\">|</span> <span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">ids</span><span class=\"o\">:</span><span class=\"n\">ident</span><span class=\"o\">,</span><span class=\"bp\">+</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">`</span><span class=\"o\">([])</span> <span class=\"c1\">-- failed: expected ')'</span>\n\n<span class=\"n\">macro_rules</span>\n  <span class=\"bp\">|</span> <span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">ids</span><span class=\"o\">:</span><span class=\"n\">ident</span><span class=\"o\">,</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">`</span><span class=\"o\">([])</span> <span class=\"c1\">-- works</span>\n</code></pre></div>\n<p>Am I doing something wrong or is this a bug?</p>",
        "id": 274308161,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1646576175
    },
    {
        "content": "<p><code>,+</code> is not syntax in match expressions. You are supposed to use <code>,*</code></p>",
        "id": 274310424,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1646579091
    },
    {
        "content": "<p>And then deal with the empty case manually?</p>",
        "id": 274311250,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1646580146
    },
    {
        "content": "<p>there is no empty case, since it was created with <code>,+</code></p>",
        "id": 274311268,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1646580170
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 274311284,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1646580200
    },
    {
        "content": "<p>you can be sure that the array is nonempty, but the type is just <code>Array Syntax</code> in any case</p>",
        "id": 274311286,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1646580201
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"451983\">Arthur Paulino</span> has marked this topic as resolved.</p>",
        "id": 274311293,
        "sender_full_name": "Notification Bot",
        "timestamp": 1646580222
    }
]