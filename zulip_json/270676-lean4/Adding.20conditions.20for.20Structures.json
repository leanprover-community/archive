[
    {
        "content": "<p>I am learning about structures, I was wondering there is anyway to add a condition to a structure. </p>\n<p>For example, I am creating a Structure called Example as such</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">current</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span>\n<span class=\"w\">  </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span>\n</code></pre></div>\n<p>In this example, I am wondering how to enforce that 'condition' has to belong to 'A' ?</p>",
        "id": 462614758,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1723747162
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">current</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span>\n<span class=\"w\">  </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"w\">  </span><span class=\"n\">condition_prop</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">A</span>\n<span class=\"w\">  </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span>\n</code></pre></div>",
        "id": 462614954,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1723747237
    },
    {
        "content": "<p>Proofs are values too, so you can add them as a field like for any other value.</p>",
        "id": 462615094,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1723747281
    },
    {
        "content": "<p>Thanks Kyle, if condition_prop is based on this, how can I initialize a 'Example' variable ?</p>",
        "id": 462617331,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1723748251
    },
    {
        "content": "<p>As I am constructing an example myself, it keeps showing a 'Type mismatch error' when I initialize condition_prop with a True (since I need condition <code>∈</code> A) but Lean keeps telling me that condition_prop must have a type of <br>\n<code>condition ∈ A</code></p>",
        "id": 462617695,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1723748389
    },
    {
        "content": "<p>Hopefully you're initializing <code>condition</code> with an element of <code>A</code>?</p>",
        "id": 462619179,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1723748848
    },
    {
        "content": "<p>Maybe a less generic mwe would help?</p>",
        "id": 462619388,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1723748907
    },
    {
        "content": "<p>Here is an example that I am wondering what I am doing wrong </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">set_proposition_example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">True</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Example_1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Example</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">set_proposition_example</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"n\">current</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">,</span>\n<span class=\"w\">  </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">simple_condition</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">transition_example</span><span class=\"bp\">.</span><span class=\"n\">condition</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">set_proposition_example</span>\n<span class=\"o\">}</span>\n</code></pre></div>",
        "id": 462620438,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1723749261
    },
    {
        "content": "<p>But Lean keeps alert me this: \"type mismatch<br>\n  Example_1.condition ∈ set_proposition_example<br>\nhas type<br>\n  Prop : Type<br>\nbut is expected to have type<br>\n  (1 &gt; 2) ∈ set_proposition_example : Prop\"</p>",
        "id": 462620651,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1723749336
    },
    {
        "content": "<p>In <code>simple_condition</code> you have to put a proof tha <code>1 &gt; 2</code> is in the <code>set_proposition_example</code>, what you're doing instead is just repeating the proposition statement.</p>\n<p><code>simple_condition := by simp[set_proposition_example]</code> should make it work.</p>",
        "id": 462644400,
        "sender_full_name": "Giacomo Stevanato",
        "timestamp": 1723757460
    }
]