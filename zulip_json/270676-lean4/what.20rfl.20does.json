[
    {
        "content": "<p>I want to understand what rfl tactic does.</p>\n<p>“if the outputs of #reduce A and #reduce B are equal, then A = B is provable by rfl” is correct?</p>",
        "id": 492615688,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1736388201
    },
    {
        "content": "<p>I suspect it calls <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Meta.isDefEq#doc\">docs#Lean.Meta.isDefEq</a></p>",
        "id": 492626953,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736395463
    },
    {
        "content": "<p>It can do a number of things. If the goal is an equality though, it's equivalent to <code>exact rfl</code>. Unfolding all the processes involved, this is \"if <code>A</code> is definitionally equal to <code>B</code>, then it closes the goal <code>A = B</code>\".</p>\n<p>The <code>rfl</code> tactic is able to handle reflexive relations too. Roughly speaking, the way it works is that it uses the registered <code>@[refl]</code> lemma for the relation <code>R</code> to convert the goal <code>R A B</code> to <code>A = B</code>, and then it does <code>exact rfl</code>.</p>",
        "id": 492628289,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1736396309
    },
    {
        "content": "<p>What's (likely) true is that if <code>#reduce A</code> and <code>#reduce B</code> are equal then <code>rfl</code> proves <code>A = B</code>, but definitional equality is complicated, and there are almost certainly cases where <code>A = B</code> is provable by <code>rfl</code> even if the <code>#reduce</code>s aren't the same.</p>",
        "id": 492628360,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1736396366
    },
    {
        "content": "<p>Thank you!!</p>",
        "id": 494400774,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1737132791
    }
]