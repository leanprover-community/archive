[
    {
        "content": "<p>Does anyone else sometimes see semantic highlighting stopping in the middle of a file, and returns only after reloading the file? If yes, is this a VSCode bug only or is it something that could be fixed on our side? <span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span></p>",
        "id": 402773450,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1700252095
    },
    {
        "content": "<p>I have not seen this.</p>",
        "id": 402820922,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1700275671
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> did you see this once?</p>",
        "id": 402850279,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1700296409
    },
    {
        "content": "<p>Yeah I've seen this a ton, it usually doesn't get fixed by restarting Lean but does by reloading the window</p>",
        "id": 402901761,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1700332341
    },
    {
        "content": "<p>I've had this too.</p>",
        "id": 402901985,
        "sender_full_name": "Yongyi Chen",
        "timestamp": 1700332485
    },
    {
        "content": "<p>This sounds a lot like the elusive <a href=\"https://github.com/leanprover/lean4/pull/1219\">lean4#1219</a>. I haven't investigated this myself yet, but the fact that restarting the server doesn't fix it strongly suggests that it's either a VS Code issue or a VS Code extension issue.</p>",
        "id": 403007350,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1700397942
    },
    {
        "content": "<p>I've seen highlighting get stuck in weird states without the server hanging but it's so rare that I couldn't even begin to speculate about how to reproduce it</p>",
        "id": 403007936,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1700398534
    },
    {
        "content": "<p>When this occurs, does it only affect highlighting or other features as well? (E.g. go-to-definition, diagnostics, the info view, ...)</p>",
        "id": 403009365,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1700399775
    },
    {
        "content": "<p>Anything on-demand definitely was not affected for me. I don't really use the document structure, problem view (in contrast to info view), or other persistent information enough to tell...</p>",
        "id": 403009481,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1700399890
    },
    {
        "content": "<p>I am pretty sure that only highlighting is affected but I will check next time it occurs.</p>",
        "id": 403020143,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1700407023
    },
    {
        "content": "<p>For me go-to-definition usually fails with it, and I think the info view too, but I'm less sure on the latter one. This occurs for me about once every day working in Lean 4, but I also have no idea how to reproduce it.</p>",
        "id": 403040782,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1700419036
    },
    {
        "content": "<p>I confirm that go-to-definition works.</p>",
        "id": 403069720,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1700441445
    }
]