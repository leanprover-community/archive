[
    {
        "content": "<p>&lt;<a href=\"https://lean-lang.org/doc/reference/latest/The-Module-System/\">https://lean-lang.org/doc/reference/latest/The-Module-System/</a>&gt;</p>\n<blockquote>\n<p><code>module</code>s can only import other <code>module</code>s so adoption has to be done top-down.</p>\n</blockquote>\n<p>Why does this restriction exist?</p>",
        "id": 561781286,
        "sender_full_name": "Mario Xerxes CastelÃ¡n Castro ðŸ‡²ðŸ‡½",
        "timestamp": 1764812939
    },
    {
        "content": "<p>Not sure, but if A imports B and B is a module, then B's restrictions on things like definitional equalities and private definitions only apply to A if A is a module as well. So if we could have X imports Y which imports Z, where X and Z are modules and Y isn't, then we could have that Y uses private theorems in Z, then we could have that X gains access to private definitions in Z indirectly.</p>",
        "id": 561782116,
        "sender_full_name": "Niels Voss",
        "timestamp": 1764813573
    },
    {
        "content": "<p><code>module</code>s impose certain restrictions that non-<code>module</code>s can easily break. For example, consider this non-module:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">private</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">myPrivateProposition</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">True</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">myPublicProof</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">myPrivateProposition</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">trivial</span>\n</code></pre></div>\n<p><code>module</code>s have the restriction that types of public declarations can't refer to private declarations. Why? Well, when in a module, private declarations are not imported by default. That means that if you could import this non-module in a module, you'd have a public declaration, <code>myPublicProof</code>, in the environment which refers to <code>myPrivateProposition</code> which, to the knowledge of the importer, doesn't exist!</p>",
        "id": 561938387,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1764869578
    }
]