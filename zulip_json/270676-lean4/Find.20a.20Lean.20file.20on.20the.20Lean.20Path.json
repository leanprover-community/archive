[
    {
        "content": "<p>I want to open the file which corresponds to the Lean module <code>Foo.Bar</code> which is somewhere on the Lean path. Is there some Lake CLI API for telling me where that file lives so I can directly open whatever path it ends up being without needing to go via the language server?</p>",
        "id": 515242334,
        "sender_full_name": "Julian Berman",
        "timestamp": 1746002334
    },
    {
        "content": "<p>I guess <code>lake lean</code> will do this for me if I know the answer for Lean itself. So maybe this reduces to a question about the <code>lean</code> CLI.</p>",
        "id": 515243113,
        "sender_full_name": "Julian Berman",
        "timestamp": 1746002550
    },
    {
        "content": "<p>(Now that the reference is back up, hooray) I guess concretely I want <code>Lake.findModule?</code> but where the return value is a <code>SystemPath</code> not the module? And scanning the rest of what's there I don't see that, so unless I've missed it I'll pick between my 3 options (1: stop wanting this entirely, 2: use a temporary file with <code>import Foo.Bar</code> + gotodefinition to get there in 2 steps since anyways that's what I'm going to do with the path, 3: manually search the search path given <code>Foo.Bar</code> is a fixed module in my case.)</p>",
        "id": 515246173,
        "sender_full_name": "Julian Berman",
        "timestamp": 1746003451
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/blob/4c497eaa32be75b4df1fb7affcf4036984dd901e/src/Lean/Util/Path.lean#L119\"><code>findLean</code></a> should be the function you're looking for. <code>lake env</code> should set the right <code>LEAN_SRC_PATH</code> for you, which you can get via <a href=\"https://github.com/leanprover/lean4/blob/4c497eaa32be75b4df1fb7affcf4036984dd901e/src/Lean/Util/Path.lean#L128\"><code>getSrcSearchPath</code></a>.</p>",
        "id": 515301713,
        "sender_full_name": "Jannis Limperg",
        "timestamp": 1746018832
    },
    {
        "content": "<p>Ah that's perfect! Looks like it doesn't show up in the reference yet. Thanks <span class=\"user-mention\" data-user-id=\"256311\">@Jannis Limperg</span> .</p>",
        "id": 515302077,
        "sender_full_name": "Julian Berman",
        "timestamp": 1746018917
    }
]