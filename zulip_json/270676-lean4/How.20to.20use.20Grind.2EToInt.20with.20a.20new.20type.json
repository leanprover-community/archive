[
    {
        "content": "<p>Some people in the area are working through the Lean companion to Tao's analysis book, and chapter 4 entails construction of <code>Int</code> as a quotient over pairs of <code>Nat</code>.</p>\n<p>I was curious whether some basic proofs (here <code>addAssoc</code> and <code>addComm</code>) could be completed by leaning on <code>Grind.ToInt</code> and the other related type classes (let's set aside that this sort of side steps the educational value). I'm curious why this strategy  seems to work if I manually invoke the relevant lemmas (like <code>ToInt.toInt_inj</code> and <code>ToInt.Add.toInt_add</code>), but does not \"just work\" with a single grind call, since it does seem to work with just a call to <code>grind</code> for types like <code>Fin</code>. The debug trace when invoked against <code>Fin</code> does show a \"found\" instance of <code>ToInt.toInt</code>, while the debug trace for <code>QInt</code> does not.</p>\n<p>There's a lot of noise/setup in this file, but the relevant proofs (and failures) are at the bottom: <a href=\"https://live.lean-lang.org/#project=mathlib-v4.24.0&amp;codez=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\">playground link</a></p>\n<p>Am I doing something wrong in the implementation here, or is this just not supported?</p>",
        "id": 565726557,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1767047545
    }
]