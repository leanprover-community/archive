[
    {
        "content": "<p>This is the code I'm working on, but I hit a snag trying to solve using the cases tactic.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/--</span>\n<span class=\"sd\">Every number greater than one can be uniquely represented as a power of a number which isn't a perfect power.</span>\n<span class=\"sd\">-/</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">utility_lemma</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„•</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">âˆƒ!</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„•</span><span class=\"w\"> </span><span class=\"bp\">Ã—</span><span class=\"w\"> </span><span class=\"n\">â„•</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">Â¬</span><span class=\"n\">IsPerfectPower</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">âˆ§</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IsPerfectPower</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">âˆ¨</span><span class=\"w\"> </span><span class=\"bp\">Â¬</span><span class=\"n\">IsPerfectPower</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">n_is_perfect_or_not</span><span class=\"w\"> </span><span class=\"n\">m</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">hp</span>\n<span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">And</span><span class=\"bp\">.</span><span class=\"n\">intro</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">âœ</span>\n</code></pre></div>\n<p>This code is giving me </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Messages</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">200</span><span class=\"o\">:</span><span class=\"mi\">12</span>\n<span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">identifier</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">h'</span>\n<span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">198</span><span class=\"o\">:</span><span class=\"mi\">2</span>\n<span class=\"n\">unsolved</span><span class=\"w\"> </span><span class=\"n\">goals</span>\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">right</span>\n<span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„•</span>\n<span class=\"n\">hm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">m</span>\n<span class=\"n\">h</span><span class=\"bp\">âœ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">Â¬</span><span class=\"n\">IsPerfectPower</span><span class=\"w\"> </span><span class=\"n\">m</span>\n<span class=\"bp\">âŠ¢</span><span class=\"w\"> </span><span class=\"bp\">âˆ€</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„•</span><span class=\"w\"> </span><span class=\"bp\">Ã—</span><span class=\"w\"> </span><span class=\"n\">â„•</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">â†¦</span><span class=\"w\"> </span><span class=\"bp\">Â¬</span><span class=\"n\">IsPerfectPower</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">âˆ§</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>As the goal state. I thought there was a way to name my cases, but I can't find anything by googling. Alternatively I couldn't find how to refer to the hâœ, as just pasting in the cross to the editor doesn't work. </p>\n<p>Thanks!</p>",
        "id": 481815064,
        "sender_full_name": "max",
        "timestamp": 1731361847
    },
    {
        "content": "<p>Lean intentionally prevents you from referring to things that you didn't explicitly give names to, as that would be relying on auto-generated names (a brittle thing to do). You can use <code>cases'</code> instead to give the hypothesis a name you like, such as <code>h</code>: <code>cases' hp with _ h</code>.</p>",
        "id": 481815367,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1731361970
    },
    {
        "content": "<p>ah thanks! just found <a href=\"https://proofassistants.stackexchange.com/questions/2588/in-lean-4-how-do-i-refer-to-variables-with-names-like-a\">https://proofassistants.stackexchange.com/questions/2588/in-lean-4-how-do-i-refer-to-variables-with-names-like-a</a>. let me try cases'</p>",
        "id": 481815558,
        "sender_full_name": "max",
        "timestamp": 1731362048
    },
    {
        "content": "<p>Better is to put your cursor after <code>cases hp</code> and use the <span aria-label=\"light bulb\" class=\"emoji emoji-1f4a1\" role=\"img\" title=\"light bulb\">:light_bulb:</span> to expand the structure</p>",
        "id": 481815592,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1731362069
    },
    {
        "content": "<p>Another workaround is <code>rename_i h</code></p>",
        "id": 481815626,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1731362083
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/r4yQKl9IkcD2JlKlVt1JtHBn/image.png\">image.png</a><br>\nwhere is the lightbulb? also cases' seems to work well</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/r4yQKl9IkcD2JlKlVt1JtHBn/image.png\" title=\"image.png\"><img data-original-dimensions=\"1919x1079\" src=\"/user_uploads/thumbnail/3121/r4yQKl9IkcD2JlKlVt1JtHBn/image.png/840x560.webp\"></a></div>",
        "id": 481815708,
        "sender_full_name": "max",
        "timestamp": 1731362125
    },
    {
        "content": "<p>oh i see it</p>",
        "id": 481815739,
        "sender_full_name": "max",
        "timestamp": 1731362141
    },
    {
        "content": "<p>thats handy</p>",
        "id": 481815764,
        "sender_full_name": "max",
        "timestamp": 1731362153
    },
    {
        "content": "<p>There's also <code>next h =&gt;</code> rather than the focusing dot</p>",
        "id": 481818754,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1731363472
    }
]