[
    {
        "content": "<p>The tactic <code>as_aux_lemma =&gt;</code> was added to core recently by <span class=\"user-mention\" data-user-id=\"221653\">@Paul Reichert</span>. Thank you for that, it comes in handy for <a href=\"https://github.com/leanprover-community/mathlib4/pull/22160\">#22160</a>.</p>\n<p>However, I noticed that the name of the lemma it creates is the generic <code>Lean.Elab.Tactic.AsAuxLemma.auxLemma‚úù</code>. Could it be changed so that the name is an extension of the declaration name, analogous to how <code>abstractNestedProofs</code> in a definition <code>foo</code> creates lemmas <code>foo.proof_1</code>, <code>foo.proof_2</code>? This could be implemented using <a href=\"https://leanprover-community.github.io/mathlib4_docs/Lean/Elab/Term.html#Lean.Elab.Term.getDeclName?\">Lean.Elab.Term.getDeclName?</a></p>",
        "id": 503651373,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1741215203
    },
    {
        "content": "<p>It could use <code>Term.mkAuxName</code>, it seems to be the right tool here (I wasn't paying attention to that when reviewing, so my bad).</p>",
        "id": 503651776,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741215375
    },
    {
        "content": "<p>For what do you want to rely on the aux lemma names? Do you actually want to manually refer to these aux lemmas? <a href=\"https://github.com/leanprover-community/mathlib4/pull/22160\">#22160</a> contains two invocations of <code>as_aux_lemma</code>, but with slightly different proof obligations if I see it correctly, so it's probably not possible to re-use one for the other, or am I misunderstanding the code?</p>",
        "id": 504036295,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1741335657
    },
    {
        "content": "<p>The main reason is that if I'm inspecting a proof term, I wan to understand where the constant came from. Currently, the constant is not ctrl+clickable, and the name doesn't give any information.</p>",
        "id": 504065935,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1741345034
    },
    {
        "content": "<p>In any case it should use the same lemma name generation approach like other aux declarations, not the least so that we only have to touch one place as we tackle the issue of name generation and async elaboration branches. <code>mkAuxLemma</code> seems to be the right entry point for that.</p>",
        "id": 504079015,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1741349288
    }
]