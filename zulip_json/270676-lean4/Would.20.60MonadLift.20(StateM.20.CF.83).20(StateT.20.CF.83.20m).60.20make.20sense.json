[
    {
        "content": "<p>I find it counterintuitive you can't bind a <code>StateM σ</code> in a <code>StateT σ Option</code>, for example. Would adding something like this make sense?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Pure</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonadLift</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">StateM</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">StateT</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">monadLift</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">σ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">σ</span>\n</code></pre></div>",
        "id": 570368933,
        "sender_full_name": "Mai",
        "timestamp": 1769531861
    },
    {
        "content": "<p>I think this is similar to the <code>Option</code>/<code>OptionT</code> matter from the other thread, in the sense that there is a different way to write what you want that is clearer than an implicit coercion.</p>\n<p>In particular, if <code>f : StateM σ α</code>, then you can write <code>modifyGet f : StateT σ m α</code>.</p>",
        "id": 570608228,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1769618347
    }
]