[
    {
        "content": "<p>So, for instance, I have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">sizeOf</span><span class=\"w\"> </span><span class=\"n\">state</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n</code></pre></div>\n<p>I now would like to use the fact that <code>sizeOf state = 0</code>. But as far as I can tell, lean doesn't give me access to that. It replaces <code>sizeOf state</code> with <code>0</code> in the goal, but that doesn't let me manipulate instances of <code>sizeOf state</code> that are in my context.</p>",
        "id": 508826470,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743188086
    },
    {
        "content": "<p><del><code>simp</code> knows about these lemmas</del></p>",
        "id": 508833846,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743190897
    },
    {
        "content": "<p>Do <code>induction h : sizeOf state with</code></p>",
        "id": 508834329,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743191073
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/How.20can.20I.20get.20the.20equation.20of.20a.20case.20in.20my.20context.3F/near/508834329\">said</a>:</p>\n<blockquote>\n<p>Do <code>induction h : sizeOf state with</code></p>\n</blockquote>\n<p>I get <code>unknown identifier h</code>.</p>",
        "id": 508834614,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743191174
    },
    {
        "content": "<p>What version of Lean are you on?</p>",
        "id": 508834748,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743191240
    },
    {
        "content": "<p>4.10</p>",
        "id": 508834773,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743191253
    },
    {
        "content": "<p>Try <code>generalize sizeOf state = x</code> and then <code>induction x generalizing state with</code></p>",
        "id": 508835017,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743191349
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/How.20can.20I.20get.20the.20equation.20of.20a.20case.20in.20my.20context.3F/near/508835017\">said</a>:</p>\n<blockquote>\n<p>Try <code>generalize sizeOf state = x</code> and then <code>induction x generalizing state with</code></p>\n</blockquote>\n<p>x is not in the proof state unfortunately.</p>",
        "id": 508836310,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743191935
    },
    {
        "content": "<p>Neither is <code>sizeOf state = 0</code></p>",
        "id": 508836601,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743192031
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"433876\">Alex Zani</span> <a href=\"#narrow/channel/270676-lean4/topic/How.20can.20I.20get.20the.20equation.20of.20a.20case.20in.20my.20context.3F/near/508836310\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/How.20can.20I.20get.20the.20equation.20of.20a.20case.20in.20my.20context.3F/near/508835017\">said</a>:</p>\n<blockquote>\n<p>Try <code>generalize sizeOf state = x</code> and then <code>induction x generalizing state with</code></p>\n</blockquote>\n<p>x is not in the proof state unfortunately.</p>\n</blockquote>\n<p><code>generalize</code> should add <code>x</code> to the proof state? If it doesn't then that's a bug.</p>",
        "id": 508838165,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743192638
    },
    {
        "content": "<p>It does. But it looks like it's removed in the induction cases.</p>",
        "id": 508838416,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743192753
    },
    {
        "content": "<p>Oh, that should be <code>generalize h : sizeOf state = x</code></p>",
        "id": 508838498,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743192797
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/How.20can.20I.20get.20the.20equation.20of.20a.20case.20in.20my.20context.3F/near/508838498\">said</a>:</p>\n<blockquote>\n<p>Oh, that should be <code>generalize h : sizeOf state = x</code></p>\n</blockquote>\n<p>Thanks, that worked!</p>",
        "id": 508838669,
        "sender_full_name": "Alex Zani",
        "timestamp": 1743192857
    }
]