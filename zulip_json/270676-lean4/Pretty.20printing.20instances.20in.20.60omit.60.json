[
    {
        "content": "<p>I found the pretty-printed spaces in the <code>omit</code>s below a bit strange.  Should the instance binders be separated by spaces as well?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Elab</span><span class=\"bp\">.</span><span class=\"n\">Command</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"c1\">-- no spaces around `[` and `]`</span>\n<span class=\"sd\">/-- info: omit a✝ b✝[A✝][B✝] -/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"n\">run_cmd</span>\n<span class=\"w\">  </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">omit</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">B</span><span class=\"o\">]))</span>\n\n<span class=\"c1\">-- here there the spaces are present</span>\n<span class=\"sd\">/-- info: variable [A✝] [B✝] -/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"n\">run_cmd</span>\n<span class=\"w\">  </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">B</span><span class=\"o\">]))</span>\n</code></pre></div>",
        "id": 515185216,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1745975973
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/8169\">lean4#8169</a></p>",
        "id": 515185705,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745976310
    },
    {
        "content": "<p>Thanks Eric!</p>",
        "id": 515185751,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1745976351
    },
    {
        "content": "<p>I think that <code>include</code> already \"worked\", since it only takes identifiers (right?) and those are separated by spaces anyway.</p>",
        "id": 515185895,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1745976432
    },
    {
        "content": "<p>Sure, but my change also (deliberately) makes</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">whatever</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n<span class=\"n\">include</span>\n<span class=\"n\">or</span>\n<span class=\"n\">omit</span>\n<span class=\"n\">whatever</span>\n</code></pre></div>\n<p>a syntax error, and forces you to write</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">whatever</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n\n<span class=\"n\">include</span>\n<span class=\"w\">  </span><span class=\"n\">or</span>\n<span class=\"n\">omit</span>\n<span class=\"w\">  </span><span class=\"n\">whatever</span>\n</code></pre></div>",
        "id": 515187264,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745977357
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/channel/270676-lean4/topic/Pretty.20printing.20instances.20in.20.60omit.60/near/515185895\">said</a>:</p>\n<blockquote>\n<p>I think that <code>include</code> already \"worked\", since it only takes identifiers (right?) and those are separated by spaces anyway.</p>\n</blockquote>\n<p>There are many examples of this (flawed) reasoning in lean parsers, I tried to fix most of them a while back. It's not robust reasoning exactly because anywhere an identifier can appear you can get a dagger after it (as in your example!) and daggers are not identifier characters. It's much better to actually put a space if you want a space</p>",
        "id": 515249041,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1746004252
    },
    {
        "content": "<p>I agree with all the discussion here: the quotation around <code>\"worked\"</code> were an attempt at making a joke, not aiming at modifying Eric's PR!  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 515283386,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1746014202
    }
]