[
    {
        "content": "<p>This is on 4.10.0-rc1.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">Q</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">omega</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"c1\">-- can't work out associativity of `+` with hover in the infoview</span>\n<span class=\"bp\">#</span><span class=\"n\">print</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"c1\">-- no problem here</span>\n</code></pre></div>\n<p>Inspecting the theorem statement by hovering in the infoview, I would expect to be able to see how the statement is being parsed, e.g. I would expect that hovering over both the <code>+</code>s in <code>P + Q + R</code> should tell me where the brackets are. This works with <code>#print</code> but it's not working for me with <code>#check</code> (either in VS Code or with the web editor). Are other people experiencing this? Is this expected?</p>",
        "id": 449380674,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720207128
    },
    {
        "content": "<p>Wow, that's not good, thanks for the report.</p>",
        "id": 449382766,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1720207728
    },
    {
        "content": "<p>This should be fixed in <a href=\"https://github.com/leanprover/lean4/pull/4665\">lean4#4665</a></p>",
        "id": 449399767,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1720214319
    },
    {
        "content": "<p>This turned out to have been around since 4.8.0, when a refactor accidentally made <code>#check</code> pretty print using the <code>pp.tagAppFns</code> option. This option is working as intended, but having it active during <code>#check</code> is not intended.</p>",
        "id": 449400284,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1720214691
    }
]