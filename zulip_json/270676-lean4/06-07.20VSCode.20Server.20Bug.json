[
    {
        "content": "<p>Attempting to update a project (Lake) from the 06-01 to the 06-07 nightly (on Windows) gives me the following errors when trying to start the server in VSCode:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>[Error - 1:17:42 AM] Server initialization failed.\n  Message: Pending response rejected since connection got disposed\n  Code: -32097\n[Error - 1:17:42 AM] Lean 4 client: couldn't create connection to server.\n  Message: Pending response rejected since connection got disposed\n  Code: -32097\n</code></pre></div>\n<p>These result in the server crashing and failing to recover regardless of the number of restarts.</p>",
        "id": 364444495,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686201633
    },
    {
        "content": "<p>Std4 is already on the 06-07 nightly, and seems to open okay in VSCode</p>",
        "id": 364468607,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686209881
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> Yeah, I was trying to bring Lake to the same version. I just tested std4 on my machine and it to is broken in VSCode.</p>",
        "id": 364469217,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686210041
    },
    {
        "content": "<p>What version of VSCode are you using Scott? Also did you try opening a Lean file?</p>",
        "id": 364469399,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686210095
    },
    {
        "content": "<p>I am on 1.78.2</p>",
        "id": 364469452,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686210116
    },
    {
        "content": "<p>std4 works on my vscode, although I was having issues opening the <code>hover.lean</code> test (could be unrelated)</p>",
        "id": 364469980,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686210252
    },
    {
        "content": "<p>What VSCode / OS version are you using, Mario?</p>",
        "id": 364470075,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686210281
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">code</span> <span class=\"c1\">--version</span>\n<span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">78</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n<span class=\"n\">b3e4e68a0bc097f0ae7907b217c1119af9e03435</span>\n<span class=\"n\">x64</span>\n</code></pre></div>\n<p>OS is Ubuntu 22.04</p>",
        "id": 364470236,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686210328
    },
    {
        "content": "<p>Okay, same VSCode version as me but not Windows.</p>",
        "id": 364470423,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686210369
    },
    {
        "content": "<p>vscode-lean4 v0.0.103</p>",
        "id": 364470442,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1686210375
    },
    {
        "content": "<p>I am on 64-bit Windows 10 22H2, VSCode 1.78.2, and vscode-lean4 v0.0.103</p>",
        "id": 364470672,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686210438
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">%</span> <span class=\"n\">code</span> <span class=\"c1\">--version</span>\n<span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">78</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n<span class=\"n\">b3e4e68a0bc097f0ae7907b217c1119af9e03435</span>\n<span class=\"n\">x64</span>\n</code></pre></div>",
        "id": 364473985,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686211303
    },
    {
        "content": "<p>on macos</p>",
        "id": 364474015,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686211312
    },
    {
        "content": "<p>I guess we need to ask for another Windows tester.</p>",
        "id": 364474243,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686211358
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/4847\">!4#4847</a> is an attempted bump of mathlib4 to 06-07, it is also fine in VSCode.</p>",
        "id": 364474359,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686211395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Scott Morrison</span> <a href=\"#narrow/stream/270676-lean4/topic/06-07.20VSCode.20Server.20Bug/near/364474243\">said</a>:</p>\n<blockquote>\n<p>I guess we need to ask for another Windows tester.</p>\n</blockquote>\n<p>I created a new Lean 4 project on windows with lean4:nightly-2023-06-07 and the Main.lean that is generated by default loads fine. Same Windows 10 version, VSC and vscode-lean4 as <span class=\"user-mention\" data-user-id=\"315577\">@Mac</span>.</p>",
        "id": 364486055,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1686214212
    },
    {
        "content": "<p>... Having built std4 now for a less trivial test, it loads fine as well.</p>",
        "id": 364487359,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1686214516
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221921\">@Marc Huisinga</span> Well that makes this confusing.</p>",
        "id": 364496811,
        "sender_full_name": "Mac Malone",
        "timestamp": 1686216618
    },
    {
        "content": "<p>I am sure some form of state is to blame <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 364497134,
        "sender_full_name": "Marc Huisinga",
        "timestamp": 1686216698
    }
]