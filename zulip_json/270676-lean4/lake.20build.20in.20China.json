[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">main'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">utils</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">utils</span><span class=\"bp\">.</span><span class=\"n\">rs</span><span class=\"o\">:</span><span class=\"mi\">472</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span>\n<span class=\"n\">called</span><span class=\"w\"> </span><span class=\"ss\">`Result</span><span class=\"bp\">::</span><span class=\"n\">unwrap</span><span class=\"o\">()</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"ss\">`Err</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">value</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">description</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Timeout was reached\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">28</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">extra</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"o\">(</span><span class=\"s2\">\"Failed to connect to github.com port 443 after 129334 ms: Couldn't connect to server\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"ss\">`RUST_BACKTRACE</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>\n</code></pre></div>\n<p>I have stale oleans for mathlib and figured that if I couldn't <code>lake exe cache get</code> in China (which I can't) then I'd just build mathlib from scratch. I was then surprised to find that I couldn't do that either :-( (the error is the same for both <code>lake build</code> and <code>lake exe cache get</code>). Is there a workaround for this?</p>",
        "id": 467868507,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725544954
    },
    {
        "content": "<p>I'm guessing it's trying to fetch the lean version you need?</p>",
        "id": 467869409,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1725545165
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"k\">show</span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">main'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">utils</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">/</span><span class=\"n\">utils</span><span class=\"bp\">.</span><span class=\"n\">rs</span><span class=\"o\">:</span><span class=\"mi\">472</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span>\n<span class=\"n\">called</span><span class=\"w\"> </span><span class=\"ss\">`Result</span><span class=\"bp\">::</span><span class=\"n\">unwrap</span><span class=\"o\">()</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"ss\">`Err</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">value</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">description</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Timeout was reached\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">28</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">extra</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"o\">(</span><span class=\"s2\">\"Failed to connect to github.com port 443 after 129875 ms: Couldn't connect to server\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"ss\">`RUST_BACKTRACE</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>\n<span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">$</span>\n</code></pre></div>\n<p>:-/<br>\nAre the FRO interested in making it easier to use Lean in China? Or are we just working on the assumption that everyone has a VPN?</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>buzzard@buster:~/lean-projects/mathlib$<span class=\"w\"> </span>git<span class=\"w\"> </span>checkout<span class=\"w\"> </span>755d1ebf513449da930670946a2a15c06c31b042\nHEAD<span class=\"w\"> </span>is<span class=\"w\"> </span>now<span class=\"w\"> </span>at<span class=\"w\"> </span>755d1ebf51<span class=\"w\"> </span>chore<span class=\"o\">(</span>ModelTheory<span class=\"o\">)</span>:<span class=\"w\"> </span>Add<span class=\"w\"> </span>@<span class=\"o\">[</span>simps<span class=\"o\">]</span><span class=\"w\"> </span>to<span class=\"w\"> </span>functions<span class=\"w\"> </span>creating<span class=\"w\"> </span>maps<span class=\"w\"> </span>from<span class=\"w\"> </span><span class=\"sb\">`</span>HomClass<span class=\"sb\">`</span><span class=\"w\"> </span>instances<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"c1\">#16193)</span>\nbuzzard@buster:~/lean-projects/mathlib$<span class=\"w\"> </span>more<span class=\"w\"> </span>lean-toolchain\nleanprover/lean4:v4.11.0-rc2\nbuzzard@buster:~/lean-projects/mathlib$<span class=\"w\"> </span>ls<span class=\"w\"> </span>~/.elan/toolchains/<span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>grep<span class=\"w\"> </span><span class=\"m\">11</span>\nleanprover--lean4---v4.11.0-rc1\nleanprover--lean4---v4.11.0-rc2\nbuzzard@buster:~/lean-projects/mathlib$<span class=\"w\"> </span>lake<span class=\"w\"> </span>build\ntrace:<span class=\"w\"> </span>././.lake/packages/Qq&gt;<span class=\"w\"> </span>git<span class=\"w\"> </span>fetch<span class=\"w\"> </span>--tags<span class=\"w\"> </span>--force<span class=\"w\"> </span>origin\ntrace:<span class=\"w\"> </span>stderr:\nfatal:<span class=\"w\"> </span>unable<span class=\"w\"> </span>to<span class=\"w\"> </span>access<span class=\"w\"> </span><span class=\"s1\">'https://github.com/leanprover-community/quote4/'</span>:<span class=\"w\"> </span>GnuTLS<span class=\"w\"> </span>recv<span class=\"w\"> </span>error<span class=\"w\"> </span><span class=\"o\">(</span>-110<span class=\"o\">)</span>:<span class=\"w\"> </span>The<span class=\"w\"> </span>TLS<span class=\"w\"> </span>connection<span class=\"w\"> </span>was<span class=\"w\"> </span>non-properly<span class=\"w\"> </span>terminated.\nerror:<span class=\"w\"> </span>external<span class=\"w\"> </span><span class=\"nb\">command</span><span class=\"w\"> </span><span class=\"s1\">'git'</span><span class=\"w\"> </span>exited<span class=\"w\"> </span>with<span class=\"w\"> </span>code<span class=\"w\"> </span><span class=\"m\">128</span>\nbuzzard@buster:~/lean-projects/mathlib$\n</code></pre></div>\n<p>Apparently it's not just about the version of lean :-)</p>",
        "id": 467873052,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725545708
    },
    {
        "content": "<p>They are blocking github.</p>",
        "id": 467873778,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1725545785
    },
    {
        "content": "<p>Right, but I don't want to use github, I just want to build mathlib locally on my machine. Is that too much to ask? I'll keep trying commits.</p>",
        "id": 467873976,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725545807
    },
    {
        "content": "<p>If you don't already have the toolchain on your machine, I am not sure how you get it there with this.</p>",
        "id": 467874528,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1725545879
    },
    {
        "content": "<p>I <em>do</em> have the toolchain on my machine for that commit. The last bash dump shows that it's not as simple as that. But I've got it working!</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>buzzard@buster:~/lean-projects/mathlib$<span class=\"w\"> </span>git<span class=\"w\"> </span>checkout<span class=\"w\"> </span>9427959b0501e0da0363adbf64c385fbe730c715\nPrevious<span class=\"w\"> </span>HEAD<span class=\"w\"> </span>position<span class=\"w\"> </span>was<span class=\"w\"> </span>b03feaaa78<span class=\"w\"> </span>feat<span class=\"o\">(</span>ContinuousFunctionalCalculus<span class=\"o\">)</span>:<span class=\"w\"> </span>show<span class=\"w\"> </span>that<span class=\"w\"> </span>the<span class=\"w\"> </span>non-unital<span class=\"w\"> </span>CFC<span class=\"w\"> </span>commutes<span class=\"w\"> </span>with<span class=\"w\"> </span>integration<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"c1\">#16255)</span>\nHEAD<span class=\"w\"> </span>is<span class=\"w\"> </span>now<span class=\"w\"> </span>at<span class=\"w\"> </span>9427959b05<span class=\"w\"> </span>feat:<span class=\"w\"> </span>Conditioning<span class=\"w\"> </span>an<span class=\"w\"> </span>event<span class=\"w\"> </span>by<span class=\"w\"> </span>itself<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"c1\">#16249)</span>\nbuzzard@buster:~/lean-projects/mathlib$<span class=\"w\"> </span>lake<span class=\"w\"> </span>build\n⣯<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"m\">1068</span>/5015<span class=\"o\">]</span><span class=\"w\"> </span>Running<span class=\"w\"> </span>Mathlib.Data.Set.Function<span class=\"w\"> </span><span class=\"o\">(</span>+<span class=\"w\"> </span><span class=\"m\">7</span><span class=\"w\"> </span>more<span class=\"o\">)</span>\n</code></pre></div>\n<p>Of course I just needed to find a commit where I had the toolchain for all the dependencies, not just lean. Oh -- or maybe \"toolchain\" means \"all the right versions of all the dependencies\"? In which case you're right.</p>",
        "id": 467875238,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725545980
    },
    {
        "content": "<blockquote>\n<p>Are the FRO interested in making it easier to use Lean in China?</p>\n</blockquote>\n<p>I don't know about the FRO's plans on this but from the top of my head one issue in doing this would be that either a FRO member or a sufficiently willing guinea pig would need to be in China in order to figure out if stuff is working.</p>",
        "id": 467876561,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1725546231
    },
    {
        "content": "<p>Kids here seem to be passing around USB sticks with oleans!</p>",
        "id": 467876894,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725546287
    },
    {
        "content": "<p>Related: there is a tool to download lean <del>and mathlib caches</del> using SJTU mirror. See <a href=\"#narrow/stream/113486-announce/topic/Release.20of.20.60glean.60.3A.20all-in-one.20.20tool.20for.20Lean.20mirror\">https://leanprover.zulipchat.com/#narrow/stream/113486-announce/topic/Release.20of.20.60glean.60.3A.20all-in-one.20.20tool.20for.20Lean.20mirror</a><br>\nupd: Oh, no, I think it can't download the caches yet.</p>",
        "id": 467879715,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1725546732
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 467942908,
        "sender_full_name": "A.",
        "timestamp": 1725560223
    }
]