[
    {
        "content": "<p>Suppose that a Lean file imports another Lean file that doesn't exist (which happens fairly frequently when bumping mathlib in a project, or merging master in a mathlib branch). Then, when trying <code>lake build</code>, the failure reported looks like this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">?/?</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Computing</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">jobs</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">UniformGroup</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">builds</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">Computing</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">jobs</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n</code></pre></div>\n<p>Here lake reports the file that doesn't exist, but not which file tried to import it. Would it be possible to make it output this information as well?</p>",
        "id": 494560489,
        "sender_full_name": "Frédéric Dupuis",
        "timestamp": 1737236932
    },
    {
        "content": "<p>CC <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> do we have a tracking issue for this already somewhere?</p>",
        "id": 494567758,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1737238503
    },
    {
        "content": "<p>I'd search the module name in the VSCode search box:<br>\n<a href=\"/user_uploads/3121/G5bu6MFyTUNrWB7qXp7neAuz/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/G5bu6MFyTUNrWB7qXp7neAuz/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"402x129\" src=\"/user_uploads/thumbnail/3121/G5bu6MFyTUNrWB7qXp7neAuz/image.png/840x560.webp\"></a></div>",
        "id": 494573996,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737239953
    },
    {
        "content": "<p>I think it's clear to everyone involved how to fix this issue and how to find the location where it's occuring from manually, the point is that you should not need to do this by hand as lake already knows what file is at fault when it throws this error.</p>",
        "id": 494574504,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1737240072
    },
    {
        "content": "<p>Speaking of, can we get rid of <code>./././</code>?</p>",
        "id": 494575848,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1737240376
    },
    {
        "content": "<p>Sorry, <code>././././</code></p>",
        "id": 494575990,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1737240387
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/channel/270676-lean4/topic/lake.20feature.20request.3A.20reporting.20nonexistent.20imports/near/494575990\">said</a>:</p>\n<blockquote>\n<p>Sorry, <code>././././</code></p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover/lean4/issues/6186\">https://github.com/leanprover/lean4/issues/6186</a></p>",
        "id": 494581238,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1737243284
    },
    {
        "content": "<p>Nice, and I've already +1'd it. I still find this disconcerting.</p>",
        "id": 494581279,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1737243328
    }
]