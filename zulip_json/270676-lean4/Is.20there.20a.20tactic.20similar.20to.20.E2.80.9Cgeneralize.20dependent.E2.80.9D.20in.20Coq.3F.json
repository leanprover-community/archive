[
    {
        "content": "<p>I am trying to prove the substitution lemma in logical relation, where the induction hypothesis <code>(Γ ⊢ t : T)</code> is independent of some variable <code>γ</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">substitution</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Γ</span><span class=\"w\"> </span><span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">γ</span><span class=\"w\"> </span><span class=\"bp\">⊨</span><span class=\"w\"> </span><span class=\"n\">Γ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·⊨</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">γ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n</code></pre></div>\n<p>In Coq, I would do <code>generalize dependent γ</code> before doing induction on the typing derivation. I can get around it by redefining the lemma as:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">substitution</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Γ</span><span class=\"w\"> </span><span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">γ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">γ</span><span class=\"w\"> </span><span class=\"bp\">⊨</span><span class=\"w\"> </span><span class=\"n\">Γ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·⊨</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">γ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n</code></pre></div>\n<p>and only introduce up to the typing derivation, which leaves <code>γ</code> universally quantified, thus being independent of the induction hypothesis.</p>\n<p>But I wonder if there is anything similar to Coq where we can regain the independence?</p>",
        "id": 495803563,
        "sender_full_name": "David Deng",
        "timestamp": 1737757785
    },
    {
        "content": "<p>Is <code>induction ... generalizing γ</code> what you are looking for?</p>",
        "id": 495806002,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1737759168
    },
    {
        "content": "<p>Yes. That's exactly what I am looking for. Thank you so much!</p>",
        "id": 496006571,
        "sender_full_name": "David Deng",
        "timestamp": 1737929435
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/Is.20there.20a.20tactic.20similar.20to.20.E2.80.9Cgeneralize.20dependent.E2.80.9D.20in.20Coq.3F/near/495806002\">said</a>:</p>\n<blockquote>\n<p>Is <code>induction ... generalizing γ</code> what you are looking for?</p>\n</blockquote>\n<p>Is there a list of tactics of all forms that I can use as a reference? For example, <a href=\"https://jldodds.github.io/coq-lean-cheatsheet/\">here</a> is a coq to lean mapping, but I think it is for lean 3 rather than lean 4...</p>",
        "id": 496008516,
        "sender_full_name": "David Deng",
        "timestamp": 1737931106
    },
    {
        "content": "<p>I know of <a href=\"https://seasawher.github.io/mathlib4-help/\">this page</a>.</p>",
        "id": 496009090,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1737931577
    }
]