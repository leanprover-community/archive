[
    {
        "content": "<p>modifying <code>lake exe graph</code>, I want it to read from a file <code>htmlTemplate.html</code> which is in the root folder of <code>import-graph</code>, so within this project it works fine to call <code>IO.FS.readFile &lt;| ← IO.FS.realPath (\".\" / \"htmlTemplate.html\")</code>.</p>\n<p>However, when used as a dependency (in mathlib) this breaks because now <code>.</code> should be <code>./.lake/packages/importGraph/</code>. Is there an intended way to get the path of an executable, i.e. to read local files?</p>",
        "id": 466731976,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725209190
    },
    {
        "content": "<p><code>IO.appPath</code></p>",
        "id": 466732097,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1725209256
    },
    {
        "content": "<p>Alternatively you might be interested in the current working directory</p>",
        "id": 466732253,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1725209319
    },
    {
        "content": "<p>ok I think</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">exeDir</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">FilePath</span><span class=\"bp\">.</span><span class=\"n\">parent</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"bp\">.</span><span class=\"n\">appPath</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">getD</span><span class=\"w\"> </span><span class=\"s2\">\".\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"s2\">\"..\"</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"s2\">\"..\"</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"s2\">\"..\"</span>\n</code></pre></div>\n<p>is the directory where the file might be. Fingers crossed that's more robust than it looks.</p>\n<p>The current working dir is correct as it is: I want to read a template which comes from the import-graph package and then write the output into the directory the user currently is</p>",
        "id": 466733971,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725210007
    }
]