[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odd_perfects</span> <span class=\"o\">:=</span>\n<span class=\"n\">nine_is_odd</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odds</span> <span class=\"o\">:=</span> <span class=\"o\">⟨</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n<span class=\"n\">nine_is_perfect_square</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">perfect_squares</span> <span class=\"o\">:=</span>  <span class=\"o\">⟨</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n</code></pre></div>\n<p>How do I prove 9 is odd and a perfect square using a proof within a proof?</p>",
        "id": 406423338,
        "sender_full_name": "Kevin Ikeland",
        "timestamp": 1701913498
    },
    {
        "content": "<p>Could you give a complete <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> for this example?</p>",
        "id": 406423482,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1701913592
    },
    {
        "content": "<p>what you have written is not valid syntax</p>",
        "id": 406423531,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1701913637
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">odds</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"o\">{</span> <span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">m</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"o\">}</span>\n<span class=\"kd\">def</span> <span class=\"n\">perfect_squares</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"o\">{</span> <span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">=</span> <span class=\"n\">m</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"o\">}</span>\n<span class=\"kd\">def</span> <span class=\"n\">odd_perfects</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"n\">odds</span> <span class=\"bp\">∩</span> <span class=\"n\">perfect_squares</span>\n<span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odd_perfects</span> <span class=\"o\">:=</span>\n<span class=\"n\">nine_is_odd</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odds</span> <span class=\"o\">:=</span> <span class=\"o\">⟨</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n<span class=\"n\">nine_is_perfect_square</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">perfect_squares</span> <span class=\"o\">:=</span>  <span class=\"o\">⟨</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span> <span class=\"bp\">```</span>  <span class=\"n\">This</span> <span class=\"n\">is</span> <span class=\"n\">the</span> <span class=\"n\">complete</span> <span class=\"n\">code</span><span class=\"o\">,</span> <span class=\"n\">I</span> <span class=\"n\">am</span> <span class=\"n\">not</span> <span class=\"n\">sure</span> <span class=\"n\">how</span> <span class=\"n\">to</span> <span class=\"n\">write</span> <span class=\"n\">it</span> <span class=\"k\">in</span> <span class=\"n\">valid</span> <span class=\"n\">syntax.</span>\n</code></pre></div>",
        "id": 406423683,
        "sender_full_name": "Kevin Ikeland",
        "timestamp": 1701913733
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Set.Basic</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">odds</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"o\">{</span> <span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">m</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"o\">}</span>\n<span class=\"kd\">def</span> <span class=\"n\">perfect_squares</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"o\">{</span> <span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"bp\">|</span> <span class=\"bp\">∃</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">=</span> <span class=\"n\">m</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"o\">}</span>\n<span class=\"kd\">def</span> <span class=\"n\">odd_perfects</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"n\">odds</span> <span class=\"bp\">∩</span> <span class=\"n\">perfect_squares</span>\n<span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odd_perfects</span> <span class=\"o\">:=</span>\n  <span class=\"k\">have</span> <span class=\"n\">nine_is_odd</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odds</span> <span class=\"o\">:=</span> <span class=\"o\">⟨</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n  <span class=\"k\">have</span> <span class=\"n\">nine_is_perfect_square</span> <span class=\"o\">:</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">perfect_squares</span> <span class=\"o\">:=</span>  <span class=\"o\">⟨</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n  <span class=\"k\">show</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odd_perfects</span> <span class=\"k\">from</span>\n  <span class=\"k\">show</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">odds</span> <span class=\"bp\">∧</span> <span class=\"mi\">9</span> <span class=\"bp\">∈</span> <span class=\"n\">perfect_squares</span> <span class=\"k\">from</span>\n  <span class=\"o\">⟨</span><span class=\"n\">nine_is_odd</span><span class=\"o\">,</span> <span class=\"n\">nine_is_perfect_square</span><span class=\"o\">⟩</span>\n</code></pre></div>",
        "id": 406423818,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1701913810
    },
    {
        "content": "<p>don't forget the imports</p>",
        "id": 406423834,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1701913822
    },
    {
        "content": "<p>the <code>show</code> lines are unnecessary but show what the goal is. In particular lean knows that <code>9 ∈ odd_perfects</code> means the same thing as <code>9 ∈ odds ∧ 9 ∈ perfect_squares</code> by the definition of intersection</p>",
        "id": 406423908,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1701913884
    },
    {
        "content": "<p>Okay got it. Thank you!</p>",
        "id": 406424043,
        "sender_full_name": "Kevin Ikeland",
        "timestamp": 1701913975
    }
]