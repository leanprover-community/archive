[
    {
        "content": "<p>What's the difference between</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">require</span><span class=\"w\"> </span><span class=\"s2\">\"leanprover-community\"</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"s2\">\"plausible\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"s2\">\"main\"</span>\n<span class=\"w\">  </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/plausible\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"main\"</span>\n</code></pre></div>\n<p>and</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">require</span><span class=\"w\"> </span><span class=\"n\">plausible</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/plausible\"</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"w\"> </span><span class=\"s2\">\"main\"</span>\n</code></pre></div>\n<p>Is the first <code>git \"main\"</code> completely ignored?</p>",
        "id": 492348708,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736268881
    },
    {
        "content": "<p>Might need to wait for <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> on this one!</p>",
        "id": 492421569,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736301850
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> You are correct. They both only use the <code>from</code> line to clone the dependency. The first version also tracks a bit more informaiton about the dependency so that it could potentially be looked up in a registry (like Reservoir). However, this currently has no pratical effect. </p>\n<p>In the future, when Lean packages have version-based dependency resolution the first <code>@</code> part (which is the version specifier) would be used to verify the that the version of the dependency cloned from the <code>from</code> source matches the formula specified. For example, <code>require ... @ \"~1.3\" from git ... @ \"main\"</code>  would check that the version specified in the source at <code>main</code> is some patch verison of <code>1.3</code> (e.g., <code>1.3.2</code>).</p>",
        "id": 492440122,
        "sender_full_name": "Mac Malone",
        "timestamp": 1736316344
    },
    {
        "content": "<p>What's the <code>lakefile.toml</code> syntax for this?</p>",
        "id": 492922534,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736505786
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> ^</p>",
        "id": 510763235,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744058486
    },
    {
        "content": "<p>Oh, sorry for not seeing this back then! For your initial example, the syntax in TOML would be:</p>\n<div class=\"codehilite\" data-code-language=\"TOML\"><pre><span></span><code><span class=\"k\">[[require]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"plausible\"</span>\n<span class=\"n\">scope</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"leanprover-community\"</span>\n<span class=\"n\">version</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"git#main\"</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/plausible\"</span>\n<span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"main\"</span>\n</code></pre></div>\n<p>FYI, <code>lake translate-config</code> is a great resource if you want to learn how some syntax looks in the other configuration format (if its supported).</p>",
        "id": 510764270,
        "sender_full_name": "Mac Malone",
        "timestamp": 1744058913
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 510764360,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744058947
    },
    {
        "content": "<p>(I pinged on the above only because it seemed relevant to another Zulip thread, not because it was blocking me)</p>",
        "id": 510764401,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744058966
    },
    {
        "content": "<p>Now that you mention it I think I actually did run <code>translate-config</code> and learnt what you wrote above, but it's nice to have a public record of it now at least</p>",
        "id": 510764474,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744059001
    }
]