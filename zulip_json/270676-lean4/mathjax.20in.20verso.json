[
    {
        "content": "<p>Hi,<br>\nI started using verso (v4.23.0) just recently and struggle to get formulas correctly rendered in HTML using expressions like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"bp\">$`\\</span><span class=\"n\">sum_</span><span class=\"o\">{</span><span class=\"n\">i</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">}</span><span class=\"bp\">^</span><span class=\"o\">{</span><span class=\"mi\">10</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">`</span>\n</code></pre></div>\n<p>for Verso.Genre Manual. <br>\nI expected that by importing Verso.Output.Html, the mathjax-JavaScript-library would be added and render the formula TeX-like.<br>\nHowever, the output (html-multi) does not contain any script-include that I could relate to MathJax (e.g. <code>*chtml.js</code>).<br>\nThe HTML-file contains </p>\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code><span class=\"p\">&lt;</span><span class=\"nt\">code</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">\"math inline\"</span><span class=\"p\">&gt;</span>\\sum_{i=0}^{10} i<span class=\"p\">&lt;/</span><span class=\"nt\">code</span><span class=\"p\">&gt;</span>\n</code></pre></div>\n<p>but I would have expected something like </p>\n<div class=\"codehilite\" data-code-language=\"HTML\"><pre><span></span><code>\\(\\sum_{i=0}^{10} i\\)\n</code></pre></div>\n<p>Can anybody provide me with an example that I can use as a template?<br>\nThanks in advance!<br>\nKind Regards, Stefan</p>",
        "id": 540577328,
        "sender_full_name": "Stefan Kusterer",
        "timestamp": 1758366097
    },
    {
        "content": "<p>The html looks correct, but it sounds like the JavaScript is either misconfigured or not loaded</p>",
        "id": 540604651,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758393685
    },
    {
        "content": "<p>Hi,</p>\n<p>Meanwhile I found out that:</p>\n<ol>\n<li>Verso does not use MathJax but KaTeX, so no wonder that <code>grep</code>-ing for MathJax doesn't lead to anything</li>\n<li>also KaTeX, even though being part of the Verso-package, is not added to the HTML-output by default</li>\n<li>adding</li>\n</ol>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">extraJs</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Output</span><span class=\"bp\">.</span><span class=\"n\">Html</span><span class=\"bp\">.</span><span class=\"n\">katex</span><span class=\"bp\">.</span><span class=\"n\">js</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Output</span><span class=\"bp\">.</span><span class=\"n\">Html</span><span class=\"bp\">.</span><span class=\"n\">math</span><span class=\"bp\">.</span><span class=\"n\">js</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">extraCss</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Output</span><span class=\"bp\">.</span><span class=\"n\">Html</span><span class=\"bp\">.</span><span class=\"n\">katex</span><span class=\"bp\">.</span><span class=\"n\">css</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">extraDataFiles</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Verso</span><span class=\"bp\">.</span><span class=\"n\">Output</span><span class=\"bp\">.</span><span class=\"n\">Html</span><span class=\"bp\">.</span><span class=\"n\">katexFonts</span>\n</code></pre></div>\n<p>to the configuration has the effect that math is rendered, but still now quite as I need it, because the parts are shown as formulas (TeX-like) <strong>and</strong> code.<br>\nSo, it would be great to see a working example of a Verso-document with math in it.</p>\n<p>The <a href=\"https://github.com/leanprover/verso/releases/download/latest/manual.pdf\">verso manual</a> describes how math can be set, but not which include-statement or configuration is required.  </p>\n<p>Regards, Stefan</p>",
        "id": 540641592,
        "sender_full_name": "Stefan Kusterer",
        "timestamp": 1758443146
    },
    {
        "content": "<p>Hi,<br>\nI created <a href=\"https://github.com/leanprover/verso/issues/534#issue-3438222228\">issue #534</a> and with <a href=\"https://github.com/runbikeswim/verso-test\">verso-test</a> a simple example for reproducing the problem.<br>\nRegards, Stefan</p>",
        "id": 540714490,
        "sender_full_name": "Stefan Kusterer",
        "timestamp": 1758521065
    },
    {
        "content": "<p>Hello,<br>\nThanks to <span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span> , the issue is solved.<br>\nFor being able to use <code>KaTeX</code>, one must \"activate\" it by applying <code>addKaTeX</code> to the <code>config</code>.<br>\nRepository <a href=\"https://github.com/runbikeswim/verso-test\">verso-test</a> contains a minimal and now working <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> example.<br>\nRegards, Stefan</p>",
        "id": 544335993,
        "sender_full_name": "Stefan Kusterer",
        "timestamp": 1760202880
    }
]