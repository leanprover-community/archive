[
    {
        "content": "<p>I just did <code>lake clean</code> then <code>lake exe cache get</code> and then <code>lake build</code>, and I see </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">NNG4</span><span class=\"bp\">$</span> <span class=\"n\">lake</span> <span class=\"n\">build</span>\n<span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">8</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">GameServer.AbstractCtx</span>\n<span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">9</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">GameServer.Graph</span>\n<span class=\"o\">[</span><span class=\"mi\">36</span><span class=\"bp\">/</span><span class=\"mi\">54</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.Definition</span>\n<span class=\"o\">[</span><span class=\"mi\">36</span><span class=\"bp\">/</span><span class=\"mi\">54</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.Rfl</span>\n<span class=\"o\">[</span><span class=\"mi\">41</span><span class=\"bp\">/</span><span class=\"mi\">54</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.Rw</span>\n<span class=\"o\">[</span><span class=\"mi\">153</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.IGiveUp</span>\n<span class=\"o\">[</span><span class=\"mi\">158</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.Use</span>\n<span class=\"o\">[</span><span class=\"mi\">187</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.Addition</span>\n<span class=\"o\">[</span><span class=\"mi\">195</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.Cases</span>\n<span class=\"o\">[</span><span class=\"mi\">201</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.Induction</span>\n<span class=\"o\">[</span><span class=\"mi\">219</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.TutorialLemmas</span>\n<span class=\"o\">[</span><span class=\"mi\">220</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.Multiplication</span>\n<span class=\"o\">[</span><span class=\"mi\">246</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">GameServer.EnvExtensions</span>\n<span class=\"o\">[</span><span class=\"mi\">254</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.LE</span>\n<span class=\"o\">[</span><span class=\"mi\">255</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.Power</span>\n<span class=\"o\">[</span><span class=\"mi\">1670</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.MyNat.PeanoAxioms</span>\n<span class=\"o\">[</span><span class=\"mi\">1670</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Tactic.Apply</span>\n<span class=\"o\">[</span><span class=\"mi\">1671</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">GameServer.Commands</span>\n<span class=\"o\">[</span><span class=\"mi\">1674</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Doc.Definitions</span>\n<span class=\"o\">[</span><span class=\"mi\">1674</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Doc.Tactics</span>\n<span class=\"o\">[</span><span class=\"mi\">1676</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Metadata</span>\n<span class=\"o\">[</span><span class=\"mi\">1677</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Levels.Tutorial.L01rfl</span>\n<span class=\"o\">[</span><span class=\"mi\">1677</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Levels.Tutorial.L06add_zero2</span>\n<span class=\"o\">[</span><span class=\"mi\">1677</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Levels.Tutorial.L02rw</span>\n<span class=\"o\">[</span><span class=\"mi\">1677</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Levels.Tutorial.L04rw_backwards</span>\n<span class=\"o\">[</span><span class=\"mi\">1677</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Levels.Tutorial.L05add_zero</span>\n<span class=\"o\">[</span><span class=\"mi\">1677</span><span class=\"bp\">/</span><span class=\"mi\">1742</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Game.Levels.Tutorial.L03two_eq_ss0</span>\n<span class=\"bp\">...</span>\n</code></pre></div>\n<p>I know that we're building the project. I know that having several 1677/1742 at the end means \"we've built 1677 files so far\" and that's just different cores or threads or whatever, simultaneously building different files which don't import each other. But I don't understand (a) the denominators, or whatever you want to call them, jumping randomly and (b) how I suddenly jumped from 255/1742 to 1670/1742 in 0 seconds flat. Idle question: what is going on here?</p>",
        "id": 398072257,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1698063384
    },
    {
        "content": "<p>I think it counts the mathlib modules, which are cached</p>",
        "id": 398072482,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1698063483
    },
    {
        "content": "<p>And the denominator changing is the result of discovering new dependencies as it builds</p>",
        "id": 398072546,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1698063502
    },
    {
        "content": "<p>It's separately discovering it needs to build things (bumping the denominator) and discovering that things are already built (bumping the numerator).</p>",
        "id": 398072749,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1698063586
    }
]