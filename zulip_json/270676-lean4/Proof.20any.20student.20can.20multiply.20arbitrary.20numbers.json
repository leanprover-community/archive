[
    {
        "content": "<p>For entertainment purposes I gave OpenAI ChatGPT-4-oh v1.2025.196 the following scenario</p>\n<p><strong>Q: Posit a scenario wherein an engineering student is not allowed to matriculate through his/her/their chosen curriculum with a aid of a calculator without first demonstrating an ability to multiply arbitrary groups of numbers by hand (perhaps as an in-hand way for university to ensure their students still perform at high levels without the use of calculators!) What is a method which can be expressed as a formal LEAN 4 proof which demonstrates a student that performs on such a proof is capable of multiplying arbitrary groups of numbers ?</strong></p>\n<p><strong>A:</strong> To express a method in <strong>Lean 4</strong> that formally proves a student is capable of multiplying arbitrary groups of numbers, we must <strong>identify a general multiplication algorithm</strong> and <strong>construct a formal inductive proof</strong> demonstrating that the algorithm works correctly on arbitrary natural numbers (or integers, if signed multiplicands are needed).</p>\n<p>The <strong>standard method of long multiplication</strong> — also known as <strong>\"schoolbook multiplication\"</strong> — is the most intuitive approach to represent formally and pedagogically relevant for university-level curricula.</p>\n<hr>\n<h3>Mathematical Concept</h3>\n<p>Let:</p>\n<ul>\n<li>\n<p><code>a</code> and <code>b</code> be arbitrary natural numbers</p>\n</li>\n<li>\n<p><code>a = aₙ * 10ⁿ + ... + a₁ * 10¹ + a₀</code></p>\n</li>\n<li>\n<p><code>b = bₘ * 10ᵐ + ... + b₁ * 10¹ + b₀</code></p>\n</li>\n</ul>\n<p>We want to show:</p>\n<blockquote>\n<p>The multiplication <code>a * b</code> can be correctly computed by summing all partial products of digits of <code>a</code> and <code>b</code>, each scaled by the appropriate power of 10.</p>\n</blockquote>\n<p>We formalize this by defining multiplication inductively over digits and/or positional decomposition.</p>\n<hr>\n<h2>Lean 4 Strategy</h2>\n<p>We define and prove the following in Lean 4:</p>\n<ol>\n<li>\n<p><strong>A function <code>digitMul</code></strong> for multiplying a number by a single-digit multiplier and returning the result.</p>\n</li>\n<li>\n<p><strong>A function <code>longMul</code></strong> which recursively multiplies digit groups and accumulates them according to their decimal position.</p>\n</li>\n<li>\n<p><strong>A theorem <code>longMul_correct</code></strong>: Proves that <code>longMul a b = a * b</code> for all natural numbers <code>a</code> and <code>b</code>.</p>\n</li>\n</ol>\n<hr>\n<h2>Lean 4 Formalization</h2>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Nat.Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Nat.Digits</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"c1\">-- Multiply a natural number by a single digit (0 through 9)</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">digitMul</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">d</span>\n<span class=\"c1\">-- Recursively perform long multiplication using base-10 digits</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">longMulAux</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">digitsB</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">place</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">digitsB</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"o\">[]</span><span class=\"w\">       </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">::</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"w\">  </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">digitMul</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">place</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">longMulAux</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">place</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"c1\">-- Compute long multiplication of a and b</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">longMul</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">longMulAux</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat.digits</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"c1\">-- Theorem: longMul computes the same value as standard multiplication</span>\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">longMul_correct</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">longMul</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">unfold</span><span class=\"w\"> </span><span class=\"n\">longMul</span>\n<span class=\"w\">  </span><span class=\"n\">generalize</span><span class=\"w\"> </span><span class=\"n\">hd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat.digits</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">digitsB</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">digitsB</span><span class=\"w\"> </span><span class=\"n\">generalizing</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">longMulAux</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hd</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nat.digits_zero</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"w\"> </span><span class=\"n\">ih</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">longMulAux</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">ofDigits</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"n\">hd</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">digits_cons_decompose_base</span>\n<span class=\"w\">      </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"c1\">-- 10 ≥ 2</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">this</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mul_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mul_comm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"n\">mul_assoc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"n\">ih</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"c1\">-- requires auxiliary lemmas about ofDigits, place value, etc.</span>\n</code></pre></div>\n<hr>\n<h2>Student Mastery Requirements (Informal Competency Outline)</h2>\n<p>To <strong>pass</strong> a calculator-free competency test grounded on this formal proof, a student must:</p>\n<ul>\n<li>\n<p><strong>Decompose</strong> any number <code>b</code> into its digits in base 10.</p>\n</li>\n<li>\n<p><strong>Compute</strong> each <code>digitMul a dᵢ</code>.</p>\n</li>\n<li>\n<p><strong>Apply</strong> the <code>10^i</code> weight correctly to each partial product.</p>\n</li>\n<li>\n<p><strong>Accumulate</strong> the results via addition.</p>\n</li>\n</ul>\n<p>Thus, the student demonstrates:</p>\n<ul>\n<li>\n<p>Mastery of positional base-10 decomposition.</p>\n</li>\n<li>\n<p>Mastery of single-digit multiplication by arbitrary multi-digit numbers.</p>\n</li>\n<li>\n<p>Mastery of exponentiation by small integers.</p>\n</li>\n<li>\n<p>Mastery of addition of arbitrarily large intermediate results.</p>\n</li>\n</ul>\n<hr>\n<h2>Lean Implications</h2>\n<p>Proving <code>longMul_correct</code> in Lean 4 assures us that any student capable of executing this decomposition and recomposition <strong>without a calculator</strong> is <strong>functionally equivalent</strong> to a student capable of computing arbitrary products.</p>\n<p>Such a proof could be part of a <strong>formal verification track</strong> within an engineering curriculum where:</p>\n<ul>\n<li>\n<p>Students not only perform the operations by hand,</p>\n</li>\n<li>\n<p>But also <strong>internalize the algorithmic structure</strong> by working through its <strong>formal proof</strong>.</p>\n</li>\n</ul>\n<p>This aligns with <strong>constructivist pedagogies</strong> and <strong>proof-as-program</strong> mindsets in advanced CS+Math education.</p>\n<hr>\n<h2>References</h2>\n<ul>\n<li>\n<p>Lean's <code>Nat.digits</code> and <code>Nat.ofDigits</code> implementation:<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Digits.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Digits.html</a></p>\n</li>\n<li>\n<p>Church’s Thesis and Constructive Computability:<br>\n<a href=\"https://plato.stanford.edu/entries/church-turing/\">https://plato.stanford.edu/entries/church-turing/</a></p>\n</li>\n<li>\n<p>Lean formalization tutorials:<br>\n<a href=\"https://leanprover.github.io/functional_programming_in_lean/\">https://leanprover.github.io/functional_programming_in_lean/</a></p>\n</li>\n</ul>\n<p>I enjoy prompting ChatGPT with scenarios such as these :) I strongly recommend prompting ChatGPT on the impact of a formal proof of the Langlands Conjecture on the notion of computability; and using Lean 4 Metaprogramming along with goal-directed ontology generators to abstract common groups of assumptions into <code>class</code>/<code>structure</code> definitions, which can be refactored and generalized, as code and proofs, to create arbitrary synergetic structures...</p>",
        "id": 530346903,
        "sender_full_name": "AbdulShabazz",
        "timestamp": 1753277949
    }
]