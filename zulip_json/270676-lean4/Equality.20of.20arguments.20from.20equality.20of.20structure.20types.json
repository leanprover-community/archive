[
    {
        "content": "<p>Any tips on how to prove this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Wrap</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">wrap_typeInj</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wrap</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Wrap</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I'm having a bad time with heqs and I'm stuck here.</p>",
        "id": 535318082,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755697649
    },
    {
        "content": "<p>it's not provable</p>",
        "id": 535318529,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755697793
    },
    {
        "content": "<p>any type lemmas are basically bad</p>",
        "id": 535318591,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755697812
    },
    {
        "content": "<p><em>This</em> isn't provable? I'm skeptical</p>",
        "id": 535318993,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755697939
    },
    {
        "content": "<p>I'm aware they're all \"basically bad\" but I kind of needed this.</p>",
        "id": 535319034,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755697954
    },
    {
        "content": "<p>I mean any inductive type is basically one more axiom, and there's absolutely nothing wrong for me to \"implement\" Unit and Fin 1 as two different types, but Wrap Unit and Wrap (Fin 1) as the same type</p>",
        "id": 535319299,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755698042
    },
    {
        "content": "<p>In general yes, but in this case it's not clear to me that that would hold here. I mean we know that <code>Wrap.mk</code> / <code>Wrap.x</code> have to get out the 'same type as I put in'</p>",
        "id": 535319965,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698240
    },
    {
        "content": "<p>Maybe I'm not following</p>",
        "id": 535320004,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698248
    },
    {
        "content": "<p>I thought this was the kind of lemma that <code>Wrap.noConfusion</code> was for</p>",
        "id": 535320089,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698271
    },
    {
        "content": "<p>this is not provable</p>",
        "id": 535320168,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698294
    },
    {
        "content": "<p><em>why</em> do you need this</p>",
        "id": 535320211,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698306
    },
    {
        "content": "<p>you should never need this</p>",
        "id": 535320225,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698310
    },
    {
        "content": "<p>No indeed, this lemma is true in the cardinality model, and false in <del>the other extremal model (whose name I forgot)</del> some intermediate model where some same-size elements of <code>Type u</code> are mapped to the same element of <code>Type u</code> under <code>Wrap</code></p>",
        "id": 535320292,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1755698325
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/270676-lean4/topic/Equality.20of.20arguments.20from.20equality.20of.20structure.20types/near/535320211\">said</a>:</p>\n<blockquote>\n<p><em>why</em> do you need this</p>\n</blockquote>\n<p>Because I'm working in an unpleasant category with a bunch of equalities between types, and some of these type equalities would be very convenient to move back and forth across inductive types</p>",
        "id": 535320869,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698467
    },
    {
        "content": "<p>the very similar looking <code>structure Wrap' (a : Type (u + 1)) : Type u where</code> is definitely not injective</p>",
        "id": 535320918,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698480
    },
    {
        "content": "<p>maybe that makes it a bit more believable</p>",
        "id": 535320933,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698486
    },
    {
        "content": "<p>Haha, not to me, I guess my intuition was that \"I have an <code>x</code> data inside which I can always get out\"</p>",
        "id": 535321105,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698517
    },
    {
        "content": "<p>haha, I tried a proof like that and there's nothing saying you can't get out data in two different ways from the same type</p>",
        "id": 535321273,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698550
    },
    {
        "content": "<p>and there's nothing special about a structure projection that you can use here either, it's just another way of getting data out</p>",
        "id": 535321548,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698622
    },
    {
        "content": "<p>don't know what you mean about \"two different ways\", but ok<br>\nWell it's not the end of the world. This doesn't mean the main thing that I want isn't unprovable, just that I'll need to carry around a lot of extra hypotheses that <code>α = β</code> as I move around, where I thought that my hypotheses <code>(x : Wrap α) ≍ (y :  Wrap β)</code> would keep it bundled together already</p>",
        "id": 535321733,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698674
    },
    {
        "content": "<p>Thanks <span aria-label=\"tear\" class=\"emoji emoji-1f972\" role=\"img\" title=\"tear\">:tear:</span></p>",
        "id": 535321828,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755698699
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/270676-lean4/topic/Equality.20of.20arguments.20from.20equality.20of.20structure.20types/near/535321105\">said</a>:</p>\n<blockquote>\n<p>Haha, not to me, I guess my intuition was that \"I have an <code>x</code> data inside which I can always get out\"</p>\n</blockquote>\n<p>You could interpret <code>Wrap'</code> as having all the data, because given a <code>Wrap'</code> you can get data of any type you want</p>",
        "id": 535321838,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755698701
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"448405\">Alex Meiburg</span> <a href=\"#narrow/channel/270676-lean4/topic/Equality.20of.20arguments.20from.20equality.20of.20structure.20types/near/535320089\">said</a>:</p>\n<blockquote>\n<p>I thought this was the kind of lemma that <code>Wrap.noConfusion</code> was for</p>\n</blockquote>\n<p>every lemma is about terms, there is basically nothing on types</p>",
        "id": 535326631,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755699992
    },
    {
        "content": "<p>I think you're confused between <code>Wrap.mk</code> being injective and <code>Wrap</code> itself being injective</p>",
        "id": 535326702,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700007
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/3CgzvBW7iAje5MYVy0Cly4MM/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/3CgzvBW7iAje5MYVy0Cly4MM/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1126x646\" src=\"/user_uploads/thumbnail/3121/3CgzvBW7iAje5MYVy0Cly4MM/image.png/840x560.webp\"></a></div>",
        "id": 535327000,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700075
    },
    {
        "content": "<p>consider this diagram where I'm too lazy to draw out the maps (basically X, Y, Z are disjoint sets, each with three elements, represented by the three dots)</p>",
        "id": 535327051,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700085
    },
    {
        "content": "<p>basically X -&gt; Z is injective, and Y -&gt; Z is injective</p>",
        "id": 535327082,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700091
    },
    {
        "content": "<p>but on the types, both X and Y are mapped to Z</p>",
        "id": 535327107,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700098
    },
    {
        "content": "<p>so {X, Y} -&gt; {Z} is not injective</p>",
        "id": 535327134,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700106
    },
    {
        "content": "<p>hope this clears your confusion</p>",
        "id": 535327188,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1755700116
    },
    {
        "content": "<p>That part was always no confusion of mine, but thanks <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> (pun intended)<br>\nI guess I thought this was part of Lean's type theory but it's not.</p>",
        "id": 535327489,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755700191
    }
]