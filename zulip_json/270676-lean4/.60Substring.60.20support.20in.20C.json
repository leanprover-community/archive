[
    {
        "content": "<p>I recently came across a situation where I wanted to use a <code>HashMap</code> of <code>Substring</code>s, and after a bit of digging, I noticed that unlike <code>String</code>, comparison and hashing for <code>Substring</code> either does not exist, or is implemented in Lean (in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=String.substrEq#doc\">docs#String.substrEq</a>, as compared to a <code>memcmp</code> for <code>String.decEq</code>). Is there a specific reason for their absence (maybe because then for substrings <code>a≤b</code> and <code>b≤a</code> does not imply <code>a=b</code>)?</p>",
        "id": 481464837,
        "sender_full_name": "Tasiro",
        "timestamp": 1731162088
    },
    {
        "content": "<p>The \"equality\" you need is implemented using the <code>BEq</code> class with notation <code>a == b</code>. Equality for <code>Substring</code> is not that useful: it checks that the two substrings are from the same base <code>String</code> and that their start and end positions match.</p>",
        "id": 481513686,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1731203446
    },
    {
        "content": "<p>You are right though, there is no <code>Hashable</code> instance for <code>Substring</code> since there are two options for equality, as described above.</p>",
        "id": 481514189,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1731203935
    }
]