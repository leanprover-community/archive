[
    {
        "content": "<p>Hey guys!</p>\n<p>So I've been trying to install Lean 4 on a new Ubuntu 22.04 machine following the instructions here:</p>\n<p><a href=\"https://leanprover.github.io/lean4/doc/quickstart.html\">https://leanprover.github.io/lean4/doc/quickstart.html</a></p>\n<p>But I get stuck at step 3 since the installation of elan fails:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">bash</span> <span class=\"bp\">-</span><span class=\"n\">c</span> <span class=\"bp\">'</span><span class=\"n\">curl</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">raw.githubusercontent.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">master</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init.sh</span> <span class=\"bp\">-</span><span class=\"n\">sSf</span> <span class=\"bp\">|</span> <span class=\"n\">sh</span> <span class=\"bp\">-</span><span class=\"n\">s</span> <span class=\"c1\">-- -y --default-toolchain leanprover/lean4:nightly ||bbentzen@bbentzen:~/Documents/projects/codes/test$ bash -c 'curl https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh -sSf | sh -s -- -y --default-toolchain leanprover/lean4:nightly || (echo &amp;&amp; read -n 1 -s -r -p \"Install failed, press ENTER to continue...\")' &amp;&amp; exit</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"n\">installer</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">curl</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">23</span><span class=\"o\">)</span> <span class=\"n\">Failure</span> <span class=\"n\">writing</span> <span class=\"n\">output</span> <span class=\"n\">to</span> <span class=\"n\">destination</span>\n<span class=\"n\">elan</span><span class=\"o\">:</span> <span class=\"n\">command</span> <span class=\"n\">failed</span><span class=\"o\">:</span> <span class=\"n\">curl</span> <span class=\"bp\">-</span><span class=\"n\">sSfL</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"n\">v1.4.2</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">unknown</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu.tar.gz</span> <span class=\"bp\">-</span><span class=\"n\">o</span> <span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">tmp.Er8s1lGl7t</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init.tar.gz</span>\n\n<span class=\"n\">Install</span> <span class=\"n\">failed</span><span class=\"o\">,</span> <span class=\"n\">press</span> <span class=\"n\">ENTER</span> <span class=\"n\">to</span> <span class=\"n\">continue...</span>\n</code></pre></div>\n<p>has anyone else experienced a similar error? For reference, the content of my /etc/ld.so.preload file is <code>/lib/$LIB/liblsp.so</code>.</p>",
        "id": 338001065,
        "sender_full_name": "Bruno Bentzen",
        "timestamp": 1677331456
    },
    {
        "content": "<p>I expect this is not a problem with Lean. I'd google around for the error (for example <a href=\"https://stackoverflow.com/questions/17723666/error-ld-so-object-ld-preload-cannot-be-preloaded-ignored\">here</a>)</p>",
        "id": 338011009,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1677335263
    },
    {
        "content": "<p>Thanks, Floris! Right, I did come across this page yesterday when I was first googling the error, but it's a bit old and the OP there seems to have the problem every time they type a command in the terminal, while I just have it when I try to install elan running <code>curl https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh -sSf | sh</code></p>",
        "id": 338019237,
        "sender_full_name": "Bruno Bentzen",
        "timestamp": 1677338314
    },
    {
        "content": "<p>Try replacing <code>sh</code> by <code>bash</code> after the pipe</p>",
        "id": 338019674,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1677338460
    },
    {
        "content": "<p>I assume your default shell (<code>dash</code>?) is misconfigured somehow</p>",
        "id": 338019810,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1677338522
    },
    {
        "content": "<p>Hi Mauricio, thanks for the suggestion! This is what I get after the replacement:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">curl</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">raw.githubusercontent.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">master</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init.sh</span> <span class=\"bp\">-</span><span class=\"n\">sSf</span> <span class=\"bp\">|</span> <span class=\"n\">bash</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"n\">installer</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">curl</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">23</span><span class=\"o\">)</span> <span class=\"n\">Failure</span> <span class=\"n\">writing</span> <span class=\"n\">output</span> <span class=\"n\">to</span> <span class=\"n\">destination</span>\n<span class=\"n\">elan</span><span class=\"o\">:</span> <span class=\"n\">command</span> <span class=\"n\">failed</span><span class=\"o\">:</span> <span class=\"n\">curl</span> <span class=\"bp\">-</span><span class=\"n\">sSfL</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"n\">v1.4.2</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">unknown</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu.tar.gz</span> <span class=\"bp\">-</span><span class=\"n\">o</span> <span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">tmp.dLdZzzsXsU</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init.tar.gz</span>\n</code></pre></div>",
        "id": 338026913,
        "sender_full_name": "Bruno Bentzen",
        "timestamp": 1677341104
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"132026\">Bruno Bentzen</span> <a href=\"#narrow/stream/270676-lean4/topic/elan.20installation.20ERROR.3A.20ld.2Eso.3A/near/338001065\">said</a>:</p>\n<blockquote>\n<p>For reference, the content of my /etc/ld.so.preload file is <code>/lib/$LIB/liblsp.so</code>.</p>\n</blockquote>\n<p>I think this must be a bug in whatever created that file.</p>",
        "id": 338027895,
        "sender_full_name": "Reid Barton",
        "timestamp": 1677341471
    },
    {
        "content": "<p>The <a href=\"http://ld.so\">ld.so</a> errors point to some very naughty software thinking it has to be injected into every process but are ultimately a red herring; the real issue probably is that Ubuntu now ships with a basically broken <code>curl</code>, breaking proven scripts left and right. I just pushed a workaround, please try running the same command again.</p>",
        "id": 338028894,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1677341883
    },
    {
        "content": "<p>Yes, Sebastian! It worked now. But, for reference, I should add that it only worked when I ran <code>curl https://raw.githubusercontent.com/leanprover/elan/master/elan-init.sh -sSf | sh</code> manually in the terminal. The automatic installation of elan through VScode failed:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">bash</span> <span class=\"bp\">-</span><span class=\"n\">c</span> <span class=\"bp\">'</span><span class=\"n\">curl</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">raw.githubusercontent.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">master</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init.sh</span> <span class=\"bp\">-</span><span class=\"n\">sSf</span> <span class=\"bp\">|</span> <span class=\"n\">sh</span> <span class=\"bp\">-</span><span class=\"n\">s</span> <span class=\"c1\">-- -y --default-toolchain leanprover/lean4:nightly || (echo &amp;&amp; read -n 1 -s -r -p \"Install failed, press ENTER to continue...\")' &amp;&amp; exit</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">downloading</span> <span class=\"n\">installer</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">failed</span> <span class=\"n\">to</span> <span class=\"n\">map</span> <span class=\"n\">segment</span> <span class=\"k\">from</span> <span class=\"n\">shared</span> <span class=\"n\">object</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">ERROR</span><span class=\"o\">:</span> <span class=\"n\">ld.so</span><span class=\"o\">:</span> <span class=\"n\">object</span> <span class=\"bp\">'/</span><span class=\"n\">lib</span><span class=\"bp\">/$</span><span class=\"n\">LIB</span><span class=\"bp\">/</span><span class=\"n\">liblsp.so'</span> <span class=\"k\">from</span> <span class=\"bp\">/</span><span class=\"n\">etc</span><span class=\"bp\">/</span><span class=\"n\">ld.so.preload</span> <span class=\"n\">cannot</span> <span class=\"n\">be</span> <span class=\"n\">preloaded</span> <span class=\"o\">(</span><span class=\"n\">cannot</span> <span class=\"kn\">open</span> <span class=\"n\">shared</span> <span class=\"n\">object</span> <span class=\"n\">file</span><span class=\"o\">):</span> <span class=\"n\">ignored.</span>\n<span class=\"n\">curl</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">23</span><span class=\"o\">)</span> <span class=\"n\">Failure</span> <span class=\"n\">writing</span> <span class=\"n\">output</span> <span class=\"n\">to</span> <span class=\"n\">destination</span>\n<span class=\"n\">elan</span><span class=\"o\">:</span> <span class=\"n\">command</span> <span class=\"n\">failed</span><span class=\"o\">:</span> <span class=\"n\">curl</span> <span class=\"bp\">-</span><span class=\"n\">sSfL</span> <span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github.com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">download</span><span class=\"bp\">/</span><span class=\"n\">v1.4.2</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">unknown</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu.tar.gz</span> <span class=\"bp\">-</span><span class=\"n\">o</span> <span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">tmp.Er8s1lGl7t</span><span class=\"bp\">/</span><span class=\"n\">elan</span><span class=\"bp\">-</span><span class=\"n\">init.tar.gz</span>\n\n<span class=\"n\">Install</span> <span class=\"n\">failed</span><span class=\"o\">,</span> <span class=\"n\">press</span> <span class=\"n\">ENTER</span> <span class=\"n\">to</span> <span class=\"n\">continue...</span>\n <span class=\"bp\">*</span>  <span class=\"n\">History</span> <span class=\"n\">restored</span>\n</code></pre></div>\n<p>In any case, thanks everybody!</p>",
        "id": 338093609,
        "sender_full_name": "Bruno Bentzen",
        "timestamp": 1677384827
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"132026\">Bruno Bentzen</span> has marked this topic as resolved.</p>",
        "id": 338096570,
        "sender_full_name": "Notification Bot",
        "timestamp": 1677387514
    },
    {
        "content": "<p>Curious, must be some GitHub caching issue</p>",
        "id": 338116231,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1677402930
    }
]