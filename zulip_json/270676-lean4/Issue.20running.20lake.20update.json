[
    {
        "content": "<p>The last day or so, when running <code>lake update</code> or <code>lake exe cache get</code>, I got the following error the first time:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Running</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">release</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">fetch</span><span class=\"w\"> </span><span class=\"n\">GitHub</span><span class=\"w\"> </span><span class=\"n\">release</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">'-</span><span class=\"n\">v'</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">details</span><span class=\"o\">)</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">targets</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">proofwidgets</span><span class=\"o\">:</span><span class=\"n\">release</span>\n</code></pre></div>\n<p>Though it then completes successfully. Running the same command again it seems to be fine - but this has happened in a few repos for me. Anyone know what's going on?</p>",
        "id": 535489074,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1755777643
    },
    {
        "content": "<p>I saw this phenomenon in FLT today and also in a student's repo-which-depended-on-mathlib. Trying it now on a machine at home:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>buzzard@brutus:~/FLT$<span class=\"w\"> </span>git<span class=\"w\"> </span>pull\n<span class=\"o\">[</span>stuff<span class=\"w\"> </span>I<span class=\"w\"> </span>did<span class=\"w\"> </span>today<span class=\"w\"> </span>on<span class=\"w\"> </span>a<span class=\"w\"> </span>machine<span class=\"w\"> </span>at<span class=\"w\"> </span>work,<span class=\"w\"> </span>including<span class=\"w\"> </span>a<span class=\"w\"> </span>bump<span class=\"w\"> </span>from<span class=\"w\"> </span><span class=\"m\">4</span>.22.0<span class=\"w\"> </span>to<span class=\"w\"> </span><span class=\"m\">4</span>.23.0-rc2,<span class=\"w\"> </span>gets<span class=\"w\"> </span>pulled<span class=\"o\">]</span>\nbuzzard@brutus:~/FLT$<span class=\"w\"> </span>lake<span class=\"w\"> </span>exe<span class=\"w\"> </span>cache<span class=\"w\"> </span>get\ninfo:<span class=\"w\"> </span>downloading<span class=\"w\"> </span>https://releases.lean-lang.org/lean4/v4.23.0-rc2/lean-4.23.0-rc2-linux.tar.zst\n<span class=\"m\">416</span>.3<span class=\"w\"> </span>MiB<span class=\"w\"> </span>/<span class=\"w\"> </span><span class=\"m\">416</span>.3<span class=\"w\"> </span>MiB<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"m\">100</span><span class=\"w\"> </span>%<span class=\"o\">)</span><span class=\"w\">   </span><span class=\"m\">8</span>.8<span class=\"w\"> </span>MiB/s<span class=\"w\"> </span>ETA:<span class=\"w\">   </span><span class=\"m\">0</span><span class=\"w\"> </span>s\ninfo:<span class=\"w\"> </span>installing<span class=\"w\"> </span>/home/buzzard/.elan/toolchains/leanprover--lean4---v4.23.0-rc2\ninfo:<span class=\"w\"> </span>mathlib:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'9e0bebc63f8bcc1df0884cafebaab2673c6d57b0'</span>\ninfo:<span class=\"w\"> </span>plausible:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'240eddc1bb31420fbbc57fe5cc579435c2522493'</span>\ninfo:<span class=\"w\"> </span>LeanSearchClient:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'99657ad92e23804e279f77ea6dbdeebaa1317b98'</span>\ninfo:<span class=\"w\"> </span>importGraph:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'dba7fbc707774d1ba830fd44d7f92a717e9bf57f'</span>\ninfo:<span class=\"w\"> </span>proofwidgets:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'6e47cc88cfbf1601ab364e9a4de5f33f13401ff8'</span>\ninfo:<span class=\"w\"> </span>aesop:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'3b779e9d1c73837a3764d516d81f942de391b6f0'</span>\ninfo:<span class=\"w\"> </span>Qq:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'f85ad59c9b60647ef736719c23edd4578f723806'</span>\ninfo:<span class=\"w\"> </span>batteries:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'6e89c7370ca3a91b7d1f29ef7d727a9d027d7b0d'</span>\ninfo:<span class=\"w\"> </span>Cli:<span class=\"w\"> </span>checking<span class=\"w\"> </span>out<span class=\"w\"> </span>revision<span class=\"w\"> </span><span class=\"s1\">'cacb481a1eaa4d7d4530a27b606c60923da21caf'</span>\n✖<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"m\">2</span>/2<span class=\"o\">]</span><span class=\"w\"> </span>Running<span class=\"w\"> </span>proofwidgets:release\nerror:<span class=\"w\"> </span>failed<span class=\"w\"> </span>to<span class=\"w\"> </span>fetch<span class=\"w\"> </span>GitHub<span class=\"w\"> </span>release<span class=\"w\"> </span><span class=\"o\">(</span>run<span class=\"w\"> </span>with<span class=\"w\"> </span><span class=\"s1\">'-v'</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span>details<span class=\"o\">)</span>\nSome<span class=\"w\"> </span>required<span class=\"w\"> </span>targets<span class=\"w\"> </span>logged<span class=\"w\"> </span>failures:\n-<span class=\"w\"> </span>proofwidgets:release\nCurrent<span class=\"w\"> </span>branch:<span class=\"w\"> </span>HEAD\nUsing<span class=\"w\"> </span>cache<span class=\"w\"> </span>from<span class=\"w\"> </span>origin:<span class=\"w\"> </span>leanprover-community/mathlib4\nAttempting<span class=\"w\"> </span>to<span class=\"w\"> </span>download<span class=\"w\"> </span><span class=\"m\">7091</span><span class=\"w\"> </span>file<span class=\"o\">(</span>s<span class=\"o\">)</span><span class=\"w\"> </span>from<span class=\"w\"> </span>leanprover-community/mathlib4<span class=\"w\"> </span>cache\n<span class=\"o\">[</span>etc<span class=\"w\"> </span>etc<span class=\"o\">]</span>\n</code></pre></div>\n<p>and everything seems to work fine.</p>",
        "id": 535586095,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1755814222
    },
    {
        "content": "<p>Yeah, I've been seeing ignorable warnings about proof widgets as well</p>",
        "id": 535586867,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1755814708
    },
    {
        "content": "<p>I'm seeing it right now when updating my repos to v4.23.0.<br>\nMaybe this should be fixed?</p>",
        "id": 539523559,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1757933748
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span>, do you know what is going on here? I've been seeing this too, but it seems to have no ill effects.</p>",
        "id": 539668225,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1757985105
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> This is caused by an unfortunate interaction between optional builds (i.e., the proofwidgets release) and the new <code>--no-build</code> approach. I have fixing this on my TODO list, but I have ye to prioitize it is not currently breaking anything.</p>",
        "id": 539680193,
        "sender_full_name": "Mac Malone",
        "timestamp": 1757996418
    },
    {
        "content": "<p>I tried to update the Lean toolchain, but got the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Fish\"><pre><span></span><code>chabulhwi@desktop ~/l/lean-playground <span class=\"o\">(</span>master<span class=\"o\">)&gt;</span> lake update\ninfo: toolchain <span class=\"k\">not</span> updated<span class=\"p\">;</span> already up-to-date\ninfo: mathlib: running post-update hooks\n✖ <span class=\"o\">[</span>2/12<span class=\"o\">]</span> Building Cache.Lean\ntrace: .&gt; <span class=\"nv\">LEAN_PATH</span><span class=\"o\">=</span>/home/chabulhwi/lean-projects/lean-playground/.lake/packages/batteries/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/Qq/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/aesop/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/proofwidgets/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/importGraph/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/LeanSearchClient/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/plausible/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/MD4Lean/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/BibtexQuery/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/UnicodeBasic/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/Cli/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/mathlib/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/doc-gen4/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/packages/Paperproof/lean/.lake/build/lib/lean:/home/chabulhwi/lean-projects/lean-playground/.lake/build/lib/lean /home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.23.0/bin/lean /home/chabulhwi/lean-projects/lean-playground/.lake/packages/mathlib/Cache/Lean.lean -o /home/chabulhwi/lean-projects/lean-playground/.lake/packages/mathlib/.lake/build/lib/lean/Cache/Lean.olean -i /home/chabulhwi/lean-projects/lean-playground/.lake/packages/mathlib/.lake/build/lib/lean/Cache/Lean.ilean -c /home/chabulhwi/lean-projects/lean-playground/.lake/packages/mathlib/.lake/build/ir/Cache/Lean.c --setup /home/chabulhwi/lean-projects/lean-playground/.lake/packages/mathlib/.lake/build/ir/Cache/Lean.setup.json --json\nerror: Cache/Lean.lean:7:0: object file <span class=\"s1\">'/home/chabulhwi/.elan/toolchains/leanprover--lean4---v4.23.0/lib/lean/Lean/Util/Paths.olean'</span> of module Lean.Util.Paths does <span class=\"k\">not</span> exist\nerror: Lean exited with code 1\nSome required targets logged failures:\n- Cache.Lean\nerror: build failed\n</code></pre></div>",
        "id": 539681657,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1757997507
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/channel/113488-general/topic/Issues.20with.20my.20setup.20and.20Mathlib.204.2E17/near/535612893\">said</a>:</p>\n<blockquote>\n<p>If that doesn't work, post the content of your <code>lean-toolchain</code> and your <code>lakefile.lean</code> (or <code>.toml</code>), at least the part about the required dependencies.</p>\n</blockquote>\n<p>Never mind. I hadn't updated my <code>lakefile.toml</code> file.</p>",
        "id": 539681840,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1757997683
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"315577\">Mac Malone</span> <a href=\"#narrow/channel/270676-lean4/topic/Issue.20running.20lake.20update/near/539680193\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> This is caused by an unfortunate interaction between optional builds (i.e., the proofwidgets release) and the new <code>--no-build</code> approach. I have fixing this on my TODO list, but I have ye to prioitize it is not currently breaking anything.</p>\n</blockquote>\n<p>Okay, if it's possible to bump it up I would vote for that. It's not actually breaking, but we're showing a spurious error message to every user, and it's burning cycles ignoring it.</p>",
        "id": 539912947,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758070675
    }
]