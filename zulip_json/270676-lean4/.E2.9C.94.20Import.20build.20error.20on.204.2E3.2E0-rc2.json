[
    {
        "content": "<p>This is a funny error because I get it even after running lake build just before opening vscode. I upgraded a project to lean-4.3.0-rc2. I run lake cache and lake build on it. Then I open it in vscode and I get the following error </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Paperproof</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">ssshr</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.3.0-rc2\\bin\\lean.exe</span>\n</code></pre></div>",
        "id": 404868994,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1701265519
    },
    {
        "content": "<p>following which I get <code>error: unsolved goals</code> in some file. The question is why is this even an error that should stop me from working on the project in vscode</p>",
        "id": 404869538,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1701265688
    },
    {
        "content": "<p>can you show the full error output? That looks like only one line of a multiline error</p>",
        "id": 404869958,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1701265817
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">ssshr</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.3.0-rc2\\bin\\lake.exe print-paths Init SemanticsCourse.STLC` failed:</span>\n\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1750</span><span class=\"bp\">/</span><span class=\"mi\">1754</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">SemanticsCourse.STLC.OpSemantics</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">proofwidgets</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Cli</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Paperproof</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\.</span><span class=\"n\">lake</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">ssshr</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.3.0-rc2\\bin\\lean.exe .\\.\\.\\SemanticsCourse\\STLC\\OpSemantics.lean -R .\\.\\. -o .\\.lake\\build\\lib\\SemanticsCourse\\STLC\\OpSemantics.olean -i .\\.lake\\build\\lib\\SemanticsCourse\\STLC\\OpSemantics.ilean -c .\\.lake\\build\\ir\\SemanticsCourse\\STLC\\OpSemantics.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"o\">[</span><span class=\"n\">lam</span><span class=\"bp\">|</span> <span class=\"mi\">1</span> <span class=\"o\">]</span> <span class=\"o\">:</span> <span class=\"n\">LExpr</span>\n<span class=\"o\">[</span><span class=\"n\">lam</span><span class=\"bp\">|</span> <span class=\"s2\">\"z\"</span> <span class=\"bp\">·</span> <span class=\"s2\">\"a\"</span> <span class=\"bp\">·</span> <span class=\"s2\">\"m\"</span> <span class=\"bp\">·</span> <span class=\"s2\">\"y\"</span> <span class=\"bp\">·</span> <span class=\"s2\">\"z\"</span> <span class=\"o\">]</span>\n<span class=\"bp\">.\\.\\.\\</span><span class=\"n\">SemanticsCourse</span><span class=\"bp\">\\</span><span class=\"n\">STLC</span><span class=\"bp\">\\</span><span class=\"n\">OpSemantics.lean</span><span class=\"o\">:</span><span class=\"mi\">73</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unsolved</span> <span class=\"n\">goals</span>\n<span class=\"n\">case</span> <span class=\"n\">Var.intro.stepBeta</span>\n<span class=\"n\">e₂</span> <span class=\"o\">:</span> <span class=\"n\">LExpr</span>\n<span class=\"n\">x</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">Binder</span>\n<span class=\"n\">e</span><span class=\"bp\">✝</span> <span class=\"n\">e'</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">LExpr</span>\n<span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"n\">lam</span><span class=\"bp\">|</span> <span class=\"bp\">λ</span> <span class=\"s2\">\"x\"</span> <span class=\"bp\">↦</span> <span class=\"s2\">\"e\"</span> <span class=\"bp\">·</span> <span class=\"s2\">\"e'\"</span> <span class=\"o\">]</span> <span class=\"bp\">≻</span> <span class=\"n\">e₂</span>\n<span class=\"bp\">⊢</span> <span class=\"o\">[</span><span class=\"n\">lam</span><span class=\"bp\">|</span> <span class=\"s2\">\"e\"</span> <span class=\"o\">]</span> <span class=\"bp\">=</span> <span class=\"n\">e₂</span>\n<span class=\"n\">BigStep.bsApp</span> <span class=\"o\">{</span><span class=\"n\">v</span> <span class=\"o\">:</span> <span class=\"n\">Val</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">Binder</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">e</span> <span class=\"n\">e₁</span> <span class=\"n\">e₂</span> <span class=\"o\">:</span> <span class=\"n\">LExpr</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">v₂</span> <span class=\"n\">v'</span> <span class=\"o\">:</span> <span class=\"n\">Val</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">BigStep</span> <span class=\"n\">e₁</span> <span class=\"o\">(</span><span class=\"n\">LamV</span> <span class=\"n\">x</span> <span class=\"n\">e</span><span class=\"o\">))</span> <span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">✝¹</span> <span class=\"o\">:</span> <span class=\"n\">BigStep</span> <span class=\"n\">e₂</span> <span class=\"n\">v₂</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">a</span><span class=\"bp\">✝²</span> <span class=\"o\">:</span> <span class=\"n\">BigStep</span> <span class=\"o\">(</span><span class=\"n\">subst'</span> <span class=\"n\">x</span> <span class=\"o\">(</span><span class=\"n\">toLExpr</span> <span class=\"n\">v₂</span><span class=\"o\">)</span> <span class=\"n\">e₂</span><span class=\"o\">)</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">BigStep</span> <span class=\"o\">(</span><span class=\"n\">App</span> <span class=\"n\">e₁</span> <span class=\"n\">e₂</span><span class=\"o\">)</span> <span class=\"n\">v</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">ssshr</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.3.0-rc2\\bin\\lean.exe` exited with code 1</span>\n</code></pre></div>",
        "id": 404870037,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1701265849
    },
    {
        "content": "<p>I know that's an unsolved goal, but that's because I am working on the proof.</p>",
        "id": 404870082,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1701265867
    },
    {
        "content": "<p>Note : It doesn't seem mathlib related.</p>",
        "id": 404870141,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1701265887
    },
    {
        "content": "<p>Okay, further debugging suggests that I have a number of downstream files opened while I was adding this lemma. I wanted to take a peek at some of them. As soon as I open any of the downstream files vscode wants me to rebuild imports for those files and during this an incomplete proof is spotted (which is what I am adding to the upstream file), so vscode errors on all those files. The errors for all downstream files gets reported on the problems tab simultaneously.</p>",
        "id": 404871207,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1701266201
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> has marked this topic as resolved.</p>",
        "id": 404871566,
        "sender_full_name": "Notification Bot",
        "timestamp": 1701266303
    }
]