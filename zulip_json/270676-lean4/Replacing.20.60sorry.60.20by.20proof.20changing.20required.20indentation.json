[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/29418\">#29418</a> I have an example of code that with <code>sorry</code> can be expressed as</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">orderEmbOfFin_zero</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">omega</span>\n</code></pre></div>\n<p>but if I try to replace that <code>sorry</code> with a particular (valid) proof</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">orderEmbOfFin_zero</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">eq_comm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">min'_pair</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">j</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">omega</span>\n</code></pre></div>\n<p>then this doesn't work and instead Lean expects the indentation to be</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">orderEmbOfFin_zero</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">eq_comm</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">min'_pair</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">j</span>\n<span class=\"w\">      </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">omega</span>\n</code></pre></div>\n<p>which is logically wrong since it's definitely the <code>convert</code> that introduces the second goal that <code>omega</code> resolves, not the <code>rw</code>. Can someone explain what's going on here? (The proof may get replaced by a simpler one that avoids this issue, but it can be seen in the original commit of this PR.)</p>",
        "id": 538120488,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1757297231
    },
    {
        "content": "<p>Might be <a href=\"https://github.com/leanprover/lean4/pull/10172\">lean4#10172</a> again</p>",
        "id": 538148680,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757316306
    },
    {
        "content": "<p>Sounds like it, that's annoying</p>",
        "id": 538149838,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757316752
    },
    {
        "content": "<p>PR fixing 10172: <a href=\"https://github.com/leanprover/lean4/pull/10306\">lean4#10306</a></p>",
        "id": 538235409,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1757340254
    }
]