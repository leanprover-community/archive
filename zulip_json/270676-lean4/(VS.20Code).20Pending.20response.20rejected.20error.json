[
    {
        "content": "<p>Often when working with lean4 PR releases in VS code in mathlib4 I get into a state where every time I try to restart Lean, it immediately stops unexpectedly, and I get an error notification saying</p>\n<blockquote>\n<p>Pending response rejected since connection got disposed</p>\n</blockquote>\n<p>What's strange is that this seems to persist across VS code reboots, even when I've run <code>killall lean</code> and <code>killall lake</code> in between. I'm not exactly sure what circumstances cause it; I've noticed it while looking at the lakefile, and when restarting the server after the lean version has changed (possibly while a file is building? I'm not sure). It happens, perhaps unsurprisingly, after <code>lake update</code> (which I need to run).</p>\n<p>Has anyone else encountered this? (Fwiw, I'm on macOS.)</p>",
        "id": 397874944,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1697918738
    },
    {
        "content": "<p>I encountered this now (on Linux Mint 21.1) on a project depending on Mathlib.</p>\n<p>I tried exactly the same: close VS Code, <code>killall lean</code>, <code>killall lake</code>, restart --- still crashes.</p>",
        "id": 397970239,
        "sender_full_name": "Kalle Kytölä",
        "timestamp": 1698006448
    },
    {
        "content": "<p>Oh, I did <code>lake clean</code> and my whole folder was erased! (Absolutely everything, including subfolders and hidden files.)</p>",
        "id": 397970424,
        "sender_full_name": "Kalle Kytölä",
        "timestamp": 1698006678
    },
    {
        "content": "<p>I had noticed a discussion/warning about such a possibility, but I (think I) had followed the advice on deleting <code>lakefile.olean</code> and had updated to <code>rc4</code>.</p>",
        "id": 397970508,
        "sender_full_name": "Kalle Kytölä",
        "timestamp": 1698006789
    }
]