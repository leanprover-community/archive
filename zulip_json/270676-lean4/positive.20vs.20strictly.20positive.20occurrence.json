[
    {
        "content": "<p>Please take a look at the following error message:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c\">/-</span>\n<span class=\"cm\">error: (kernel) arg #1 of 'Bar.mk' has a non positive occurrence of the datatypes being declared</span>\n<span class=\"cm\">-/</span>\n<span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">Bar</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Bar</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>In the constructor of the inductive type <code>Bar</code>, <code>Bar</code> appears in a negative position within a negative position, so I believe it is actually in a positive position. However, the error message states that there is a \"non positive occurrence.\"</p>\n<p>I think this error message is not appropriate.</p>\n<p>Wouldn't it be better to say that <code>Bar</code> occurs in a way that is not <em>strictly positive</em> instead?</p>",
        "id": 498558998,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1739069837
    },
    {
        "content": "<p>note that positivity is not a concept that occurs in CIC or MLTT based systems at all. I think it might appear in system F? The terminology comes from this earlier notion of co-/contra-variance based on looking at whether you are left of an arrow, but in MLTT it's not really about variance at all, there are just very limited ways that the type can appear in the constructor's type which bear some surface resemblance to positivity</p>",
        "id": 499952810,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1739655770
    },
    {
        "content": "<p>While I'm not aware of any particular papers that prove this result, <a href=\"https://link.springer.com/chapter/10.1007/3-540-52335-9_47\">Coquand &amp; Paulin</a> did believe in their first presentations of inductive types that (not only strictly) positive inductive types would be compatible with predicative type theories such as MLTT.</p>",
        "id": 499965663,
        "sender_full_name": "Arthur Adjedj",
        "timestamp": 1739668147
    }
]