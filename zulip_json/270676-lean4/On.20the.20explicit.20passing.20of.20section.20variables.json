[
    {
        "content": "<p>Why do section variables have to be passed explicitly _within_  the section in which they are defined? For example, consider the following snippet:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">TestSection</span>\n\n<span class=\"w\">  </span><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Î±</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">u</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">u</span>\n<span class=\"w\">  </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">TestSection</span>\n</code></pre></div>\n<p>Here, in the definition of <code>g</code>, <code>f</code> must be passed argument <code>u</code> explicitly. Why were section variables designed this way? I can see three reasons but none of them is very convincing to me:</p>\n<ol>\n<li>The ability of calling <code>f</code> with another value of <code>u</code> within the section is valuable.</li>\n<li>Explicitness is deemed a good thing.</li>\n<li>Allowing to omit such arguments raises implementation and/or tooling challenges (e.g. should terms involving <code>f</code> be printed differently inside and outside the section?)</li>\n</ol>\n<p>Reason 1 is unconvincing to me since I would simply not use section variables in those cases, for the sake of clarity. Reason 2 seems to be running against existing mathematical practice, where it is reasonably common to have related definitions and lemmas implicitly depend on a number of fixed objects.</p>\n<p>Am I missing other possible motivations?</p>",
        "id": 517092959,
        "sender_full_name": "Jonathan Laurent",
        "timestamp": 1746791748
    },
    {
        "content": "<p>Lean 3 had a feature called <code>param</code> (or maybe <code>parameter</code>, I can't remember) which did what you wanted but it was removed from Lean 4, although I'm not sure why. It might be worth searching that in this zulip</p>",
        "id": 517211514,
        "sender_full_name": "Niels Voss",
        "timestamp": 1746841568
    },
    {
        "content": "<p>I think it was removed because it interacted unexpectedly with other language constructs, and wasn't useful enough to justify the complexity</p>",
        "id": 517213139,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746842958
    }
]