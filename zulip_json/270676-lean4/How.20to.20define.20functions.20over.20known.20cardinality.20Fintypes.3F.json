[
    {
        "content": "<p>How should I go about defining a function over some <code>Fintype</code> whose cardinality I know?</p>\n<p>For instance, if I have <code>[Fintype T]</code> and <code>Fintype.card T = 3</code>, supposedly I ought to be able to define a function from <code>Fin 3</code>, and package it up unambiguously as a function from <code>T</code>. I'm just not sure what machinery to use to make this the least painful possible.</p>\n<p>It seeems <code>Fintype.truncEquivFinOfCardEq</code> might be important, but I feel like I might have to do a lot of juggling.</p>\n<p>In my real use case, I'm trying to define a function <code>C2 × C2 → C3</code> where <code>C2</code> is a cyclic group of order 2, and <code>C3</code> is a cyclic group of order 3. Ideally I'd want to write a function <code>Fin 2 × Fin 2 → Fin 3</code>, and just roll with it.</p>",
        "id": 561993168,
        "sender_full_name": "Valentin Robert",
        "timestamp": 1764891516
    },
    {
        "content": "<p>Can you describe mathematically what you want to do?</p>",
        "id": 561993559,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764891753
    },
    {
        "content": "<p>right now my guess is \"define a function <code>Fin 2 × Fin 2 → Fin 3</code>, obtain arbitrary bijections <code>C2 ≃ Fin 2</code> and <code>C3 ≃ Fin 3</code>, then transfer the function across the bijections to get <code>C2 × C2 → C3</code>\"</p>",
        "id": 561993850,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764891968
    },
    {
        "content": "<p>Zooming out, I'm trying to prove that a group with certain properties will be isomorphic to <code>C3 ⋊[φ] (C2 × C2)</code>, for some φ I need to define. But I couldn't find concrete cyclic groups in Mathlib, so instead I'm using abstract cyclic groups, where all I know is they are abstract, supported by a finite type, cyclic, and of the expected cardinality. </p>\n<p>So I need to define φ over this abstraction layer.</p>\n<p>I don't know yet what φ will need to be for my actual problem, but we can just pick something arbitrary.<br>\nSay (0, 0) ↦ 0, (0, 1) ↦ 1, (1, 0) ↦ 2, (1, 1) ↦ 2.</p>",
        "id": 561998152,
        "sender_full_name": "Valentin Robert",
        "timestamp": 1764894071
    },
    {
        "content": "<p>What do you mean by \"concrete cyclic groups\"? There's <code>Fin</code> itself.</p>",
        "id": 561998881,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1764894449
    },
    {
        "content": "<p>Maybe I'm just missing some imports, but I get \"failed to synthesize <code>Group (Fin 2 × Fin 2)</code> when I use <code>Fin</code> instead of my abstract group.</p>",
        "id": 561999051,
        "sender_full_name": "Valentin Robert",
        "timestamp": 1764894547
    },
    {
        "content": "<p>That's because Fin is not a Group.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span><span class=\"w\"> </span><span class=\"n\">AddGroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>This works though.</p>",
        "id": 562000289,
        "sender_full_name": "metakuntyyy",
        "timestamp": 1764895257
    },
    {
        "content": "<p>You can also use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiplicative#doc\">docs#Multiplicative</a> to turn it into one.</p>",
        "id": 562000376,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1764895312
    },
    {
        "content": "<p>I think usually the cyclic groups are <code>ZMod n</code> and <code>Multiplicative (ZMod n)</code></p>",
        "id": 562000538,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764895368
    },
    {
        "content": "<p>this also gets you the infinite cyclic group with <code>ZMod 0</code></p>",
        "id": 562001013,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764895587
    },
    {
        "content": "<p>Here's the definition by the way. You can also use ZMod, they are definitionally equal.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">isThisWhatYouWant</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"bp\">⟩</span>\n\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">isThisWhatYouWant</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"c1\">-- 0</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">isThisWhatYouWant</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"c1\">-- 1</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">isThisWhatYouWant</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"c1\">-- 1</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">isThisWhatYouWant</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"c1\">-- 2</span>\n</code></pre></div>",
        "id": 562001062,
        "sender_full_name": "metakuntyyy",
        "timestamp": 1764895616
    }
]