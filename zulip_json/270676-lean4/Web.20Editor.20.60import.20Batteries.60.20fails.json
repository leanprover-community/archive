[
    {
        "content": "<p>As the title says, <code>import Batteries</code> on the web editor produces an error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">object</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"bp\">'././.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">batteries</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">Batteries</span><span class=\"bp\">.</span><span class=\"n\">olean'</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"n\">Batteries</span><span class=\"w\"> </span><span class=\"n\">does</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">exist</span>\n</code></pre></div>",
        "id": 459601026,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723251132
    },
    {
        "content": "<p>CC : <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span></p>",
        "id": 459601042,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723251141
    },
    {
        "content": "<p>This just needs a <code>lake build Batteries</code> line added to the server setup: it's no longer transitively implied in its entirety by <code>lake build Mathlib</code>.</p>",
        "id": 459607063,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723252733
    },
    {
        "content": "<p>Should <code>Mathlib.lean</code> import Batteries, or is it not doing so a feature?</p>",
        "id": 459666012,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723282962
    },
    {
        "content": "<p>I do think it's a feature that <code>Mathlib.Tactic.Common</code> doesn't, but I don't know if that reasoning applies to <code>Mathlib</code></p>",
        "id": 459666047,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723283031
    },
    {
        "content": "<p>fixed: lean4web <a href=\"https://github.com/leanprover-community/lean4web/commit/d607a79b88f5387b5fe94e3f3251ac0248e333a2\"><code>d607a79</code></a></p>\n<p>I think <a href=\"http://live.lean-lang.org\">live.lean-lang.org</a> will only update once Joachim Breitner is back from vacations since there is an entire updated version waiting. But you can already <a href=\"https://lean.math.hhu.de/#code=import%20Batteries\">test it here</a> and give feedback on the new version <span aria-label=\"smiling face\" class=\"emoji emoji-263a\" role=\"img\" title=\"smiling face\">:smiling_face:</span> It's mainly an internal revamp, the editor + extension should behave almost exactly like in VSCode, there should be hopefully none of the problems that have been recorded previously, and there's a few subtle/hidden new features, like if you Ctrl+Click anything (go-to-def).</p>\n<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/270676-lean4/topic/Web.20Editor.20.60import.20Batteries.60.20fails/near/459666012\">said</a>:</p>\n<blockquote>\n<p>Should <code>Mathlib.lean</code> import Batteries, or is it not doing so a feature?</p>\n</blockquote>\n<p>This sounds reasonable...</p>",
        "id": 459761415,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723324337
    },
    {
        "content": "<p>Yes, definitely in favour of <code>Mathlib.lean</code> importing Batteries.</p>",
        "id": 459831562,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723356443
    }
]