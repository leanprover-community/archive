[
    {
        "content": "<p>Is there a way to add a dependency to a project via the command line? Like what <code>lake new ... math</code> does, but with <code>math</code> generalized to an arbitrary dependency?</p>",
        "id": 472462859,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1727175005
    },
    {
        "content": "<p>No, you need to edit your lakefile.toml/lean.</p>",
        "id": 472480596,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727180531
    },
    {
        "content": "<p>Thanks (this is not about manual edits but about generation of Lake projects by a script, so would have been nice if we could have just called the command line tool instead of writing around in the <code>lakefile.lean</code>..)</p>",
        "id": 472481378,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1727180777
    },
    {
        "content": "<p>I agree! <a href=\"https://github.com/leanprover/lean4/pull/5453\">lean#5453</a></p>",
        "id": 472482251,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727181037
    },
    {
        "content": "<p>(for a very generic solution, <code>yq</code> can edit TOML files programmatically)</p>",
        "id": 472521174,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1727191995
    },
    {
        "content": "<p>Is <code>lakefile.lean</code> still valid TOML? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 472527435,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1727193981
    },
    {
        "content": "<p>No you are supposed to rewrite the file to TOML/Lean or use <code>lake translate-config</code> if possible</p>",
        "id": 472527955,
        "sender_full_name": "Henrik BÃ¶ving",
        "timestamp": 1727194189
    },
    {
        "content": "<p>Thanks, that didn't know <code>translate-config</code>!</p>",
        "id": 472532359,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1727195641
    },
    {
        "content": "<p>Hopefully by the next release (depending on how <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> prioritises things) new projects will all start out with a TOML and life will start getting simpler from there.</p>",
        "id": 472582406,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727216678
    },
    {
        "content": "<p>Im out of the loop here: Didn't we switch from .toml to .lean in the earlier days of Lake for some reason? (Or was that even before Lake was a thing?)</p>",
        "id": 472643952,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1727254038
    },
    {
        "content": "<p>You can still use <code>lakefile.lean</code> for really complicated projects.</p>",
        "id": 472645992,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1727254706
    }
]