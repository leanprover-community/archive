[
    {
        "content": "<p>Why does the first one work and the second doesn't?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">MysteryT</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">StateT</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n<span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">MysteryRefT</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">StateRefT</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n</code></pre></div>\n<p>I have a use case where a monad transformer needs to carry around a state</p>",
        "id": 486445133,
        "sender_full_name": "Leni Aniva",
        "timestamp": 1733463929
    },
    {
        "content": "<p>I think the issue is that <code>StateT</code> is an ordinary function which you can partially apply, whereas <code>StateRefT</code> is a macro that tries to infer the type of the real world and expects two arguments in its syntax. It expands to <code>StateRefT'</code>, so you can write <code>abbrev MysteryRefT := StateRefT' IO.RealWorld Nat</code>.</p>",
        "id": 486445456,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1733464189
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"599027\">Leni Aniva</span> has marked this topic as resolved.</p>",
        "id": 486446554,
        "sender_full_name": "Notification Bot",
        "timestamp": 1733464905
    }
]