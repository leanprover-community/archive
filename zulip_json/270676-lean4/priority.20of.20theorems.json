[
    {
        "content": "<p>Consider the example below. Is there a way to give the theorem <code>MyNat.add_comm</code> higher priority than <code>_root_.add_comm</code> to avoid the error <code>ambiguous, possible interpretations</code>? In other cases, like notations, there is the <code>(priority := 1000000)</code> syntax, but I'm not aware of a similar thing for theorems.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n\n<span class=\"k\">#check</span> <span class=\"n\">add_comm</span>\n\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">U</span> <span class=\"o\">:</span><span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">Add</span> <span class=\"n\">U</span><span class=\"o\">]</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">MyNat.add_comm</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">U</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"n\">b</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">MyNat</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">+</span> <span class=\"n\">c</span> <span class=\"bp\">=</span> <span class=\"n\">c</span> <span class=\"bp\">+</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">add_comm</span><span class=\"o\">]</span> <span class=\"c1\">-- ERROR:</span>\n  <span class=\"c1\">-- ambiguous, possible interpretations</span>\n  <span class=\"c1\">-- _root_.add_comm : ∀ (a b : ?m.216), a + b = b + a</span>\n\n  <span class=\"c1\">-- MyNat.add_comm : ∀ (U : Type) [inst : Add U] (a b : U), a + b = b + a</span>\n  <span class=\"n\">simp</span>\n</code></pre></div>",
        "id": 382335186,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1691320954
    }
]