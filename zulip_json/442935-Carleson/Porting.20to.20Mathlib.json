[
    {
        "content": "<p>The formalization is nearing the finish line, and open formalization tasks are not so abundant anymore. If you want to help out, another big project is moving the contents of the <a href=\"https://github.com/fpvandoorn/carleson/tree/master/Carleson/ToMathlib\"><code>ToMathlib</code></a> actually to Mathlib. </p>\n<p>If you are willing to help with that, please go ahead, and make PRs to Mathlib with the content of the <code>ToMathlib</code> folder (preferably in relatively small chunks).<br>\nSome remarks about this:</p>\n<ul>\n<li>There is a <code>carleson</code> label in Mathlib, so you can tag the PRs</li>\n<li>Some parts of <code>ToMathlib</code> are not completely Mathlib-ready, and unfortunately I don't have time at the moment to go through it and mark which parts might need some cleanup first. If you are unsure, feel free to ask here. Files that only have some lemmas and have name that aligns with a Mathlib file/folder (e.g. <a href=\"https://github.com/fpvandoorn/carleson/blob/master/Carleson/ToMathlib/Data/ENNReal.lean\">https://github.com/fpvandoorn/carleson/blob/master/Carleson/ToMathlib/Data/ENNReal.lean</a> ) are likely easy to port.</li>\n<li>One thing that would be useful as preparation, is splitting up <a href=\"https://github.com/fpvandoorn/carleson/blob/master/Carleson/ToMathlib/Misc.lean\">https://github.com/fpvandoorn/carleson/blob/master/Carleson/ToMathlib/Misc.lean</a> into separate parts that correspond to Mathlib files. (This file exists because I'm lazy and didn't put them in the correct file right away. Thanks for most contributors to be less lazy than I was!)</li>\n<li>Please post Mathlib porting PRs in this thread.</li>\n</ul>\n<p>EDIT: We now have a <a href=\"https://florisvandoorn.com/carleson/upstreaming\">Porting Dashboard!</a></p>",
        "id": 528124788,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1752166505
    },
    {
        "content": "<p>I'd like to help, but was wondering, how do we want to go about attributing co-authors on commits/PRs?</p>",
        "id": 528146044,
        "sender_full_name": "Jim Portegies",
        "timestamp": 1752175362
    },
    {
        "content": "<p>If there's a clear candidate, include them with a line in the commit message? (Mathlib's PR template shows the syntax.) If you're not sure, ask here/use git blame?</p>",
        "id": 528146768,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1752175695
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27056\">#27056</a> adds some strangely missing <code>ENNReal</code> natural power lemmas</p>",
        "id": 528502016,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1752381018
    },
    {
        "content": "<p>Here are the ToMathlib files that don't import any other ToMathlib files, if anyone's looking for a good place to start:</p>\n<p>Algebra.BigOperators.Pi<br>\nAnalysis.Convex.SpecificFunction.Basic<br>\nAnalysis.Normed.Group.Basic<br>\nAnalysis.SpecialFunctions.Pow.Deriv<br>\nAnalysis.Convolution<br>\nData.Real.ConjExponents<br>\n<del>Data.Set.Card</del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/27093\">#27093</a><br>\nData.ENNReal<br>\nData.NNReal<br>\nMeasureTheory.Function.LpSeminorm.Basic<br>\nMeasureTheory.Function.LpSpace.ContinuousFunctions<br>\nMeasureTheory.Function.LpSpace.Indicator<br>\nMeasureTheory.Integral.Bochner.ContinuousLinearMap<br>\nMeasureTheory.Integral.Average<br>\nMeasureTheory.Integral.Lebesgue<br>\nMeasureTheory.Measure.Haar.Unique<br>\nMeasureTheory.Measure.ENNReal<br>\nMeasureTheory.Measure.NNReal<br>\nMeasureTheory.Measure.Prod<br>\n<del>MeasureTheory.Measure.Restrict</del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/27301\">#27301</a><br>\nOrder.Chain<br>\nRealInterpolation.InterpolatedExponents<br>\nTopology.Instances.AddCircle.Defs<br>\nBoundedFiniteSupport<br>\nENorm<br>\nInterval<br>\nMinLayer</p>",
        "id": 528554658,
        "sender_full_name": "James Sundstrom",
        "timestamp": 1752437704
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"514924\">@James Sundstrom</span>, are you aware of the \"upstreaming dashboard\" that I developed for my own projects? Here's how it looks: <a href=\"https://yaeldillies.github.io/Toric/upstreaming\">https://yaeldillies.github.io/Toric/upstreaming</a></p>",
        "id": 528596142,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752476215
    },
    {
        "content": "<p>If you want it, I can PR it to carleson</p>",
        "id": 528596166,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752476227
    },
    {
        "content": "<p>You should talk to Pietro about adding it to his LeanProject template.</p>",
        "id": 528596613,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1752476450
    },
    {
        "content": "<p>We already did actually, but nothing came out of it yet</p>",
        "id": 528596930,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752476602
    },
    {
        "content": "<p>I had the vague intention of adding it to the GitHub action once my FLT pr landed, but if someone's faster, even better</p>",
        "id": 528607735,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1752481062
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> Not that it's up to me, but here's my opinion:</p>\n<p>Assuming it's easy for you to set up, I'm sure people would be happy to have it. If it is inconvenient to set up, the dependency graph isn't actually too complicated, so we should be okay without it.</p>",
        "id": 528770724,
        "sender_full_name": "James Sundstrom",
        "timestamp": 1752547608
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27148\">#27148</a> adds <code>Finset.mem_filter_univ</code>, which replaces a three-lemma motif used very commonly throughout the project</p>",
        "id": 528771199,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1752548108
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/442935-Carleson/topic/Porting.20to.20Mathlib/near/528596930\">said</a>:</p>\n<blockquote>\n<p>We already did actually, but nothing came out of it yet</p>\n</blockquote>\n<p>I would certainly welcome that, I just haven’t found the time yet. Feel free to open a PR of course!</p>",
        "id": 529246447,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1752747439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/442935-Carleson/topic/Porting.20to.20Mathlib/near/528596142\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"514924\">James Sundstrom</span>, are you aware of the \"upstreaming dashboard\" that I developed for my own projects? Here's how it looks: <a href=\"https://yaeldillies.github.io/Toric/upstreaming\">https://yaeldillies.github.io/Toric/upstreaming</a></p>\n</blockquote>\n<p>Sorry, I forgot to reply to this earlier. I agree with James: if it's easy to set up for carleson, it would be nice to have!</p>",
        "id": 529246746,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1752747566
    },
    {
        "content": "<p>Let's try: <a href=\"https://github.com/fpvandoorn/carleson/pull/460\">https://github.com/fpvandoorn/carleson/pull/460</a></p>",
        "id": 529262639,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1752753395
    },
    {
        "content": "<p>Here's a PR to link to it from the landing page: <a href=\"https://github.com/fpvandoorn/carleson/pull/461\">fpvandoorn/carleson#461</a></p>",
        "id": 529310876,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752767877
    },
    {
        "content": "<p>Turns out I missed a file: <a href=\"https://github.com/fpvandoorn/carleson/pull/463\">https://github.com/fpvandoorn/carleson/pull/463</a></p>",
        "id": 529330408,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1752775037
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27252\">#27252</a> upstreams the lemmas in <code>ToMathlib/Misc</code> involving a norm and <code>exp</code></p>",
        "id": 529450668,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1752840969
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27301\">#27301</a> does <code>MeasureTheory.Measure.Restrict</code> and <code>MeasureTheory.Measure.SumRestrict</code></p>",
        "id": 529624458,
        "sender_full_name": "James Sundstrom",
        "timestamp": 1752977993
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27934\">#27934</a> upstreams <code>ToMathlib/Interval</code>, except for lemmas which turned out to already be in Mathlib.</p>",
        "id": 532684879,
        "sender_full_name": "Jasper Mulder-Sohn",
        "timestamp": 1754299316
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/28119\">#28119</a> upstreams <code>ToMathlib/Order/Chain</code></p>",
        "id": 533470275,
        "sender_full_name": "Jasper Mulder-Sohn",
        "timestamp": 1754661699
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/29895\">#29895</a> upstreams <code>ToMathlib/MeasureTheory/Integral/IntegrableOn</code></p>",
        "id": 540885314,
        "sender_full_name": "Jasper Mulder-Sohn",
        "timestamp": 1758570977
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30829\">#30829</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/30830\">#30830</a> (by <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span>, both merged) upstream two small lemmas. Thanks!</p>",
        "id": 546862981,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761301805
    },
    {
        "content": "<p>Not directly porting, but related: <a href=\"https://github.com/leanprover-community/mathlib4/pull/30967\">#30967</a> makes finiteness slightly more powerful.</p>",
        "id": 547492513,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761657813
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/31318\">#31318</a> by Ruben is another small upstreaming PR</p>",
        "id": 554026251,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762416747
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/442935-Carleson/topic/Porting.20to.20Mathlib/near/554026251\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/31318\">#31318</a> by Ruben is another small upstreaming PR</p>\n</blockquote>\n<p>+11 -0, but took me three PRs +155 -80 to prepare <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 554032166,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1762418876
    },
    {
        "content": "<p>Also <a href=\"https://github.com/leanprover-community/mathlib4/pull/31320\">#31320</a>, though it turns out both are unused in carleson - <a href=\"https://github.com/fpvandoorn/carleson/pull/516\">https://github.com/fpvandoorn/carleson/pull/516</a></p>",
        "id": 554049218,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1762423924
    },
    {
        "content": "<p>Thanks a lot! I'm going over all ToMathlib files, and files disappearing before I get to them is a most welcome outcome :-)</p>",
        "id": 554062607,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762427655
    },
    {
        "content": "<p>I just finished going over all files in <code>ToMathlib</code>: each file now has a comment describing its <code>Upstreaming status</code>. It should tell you if a file is ready for porting, if perhaps minor changes need to be made, or if some major questions remain before porting it to mathlib.</p>\n<p>There is a lot of left to move everything into mathlib; help is very welcome! I you'd like to help, but are not sure how, you can</p>\n<ul>\n<li>take a look at the <a href=\"https://florisvandoorn.com/carleson/upstreaming\">upstreaming dashboard</a> --- find a file there, read the comment and go ahead if it's ready</li>\n<li>look at the ToMathlib files in your area, pick a file whose comment seems promising and go ahead.</li>\n</ul>\n<p>Both are useful. Feel free to leave a comment here to avoid duplicating work!</p>",
        "id": 567990128,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768398539
    },
    {
        "content": "<p>While in the process of upstreaming to mathlib the <a href=\"https://github.com/leibniz-rs/PrimeNumberTheoremAnd/blob/main/PrimeNumberTheoremAnd/HadamardFactorization.lean\">Hadamard factorization theorem</a> I have noticed that two of the files we have been using in the <a href=\"https://github.com/leibniz-rs/PrimeNumberTheoremAnd/blob/main/PrimeNumberTheoremAnd/Mathlib/Analysis/Complex/Divisor.lean\">Divisor</a> API, taken from Carleson (<a href=\"https://github.com/fpvandoorn/carleson/blob/master/Carleson/ToMathlib/Annulus.lean\">ToMathlib.Annuli</a> and <a href=\"https://github.com/fpvandoorn/carleson/blob/master/Carleson/ToMathlib/Interval.lean\">ToMathlib.Interval</a>) have not yet been upstreamed to mathlib. <br>\nI'd be happy to help <span class=\"user-mention\" data-user-id=\"514924\">@James Sundstrom</span> and authors of Interval to upstream, as part of this PR process, if that could help.</p>",
        "id": 569202732,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1768986958
    },
    {
        "content": "<p>Go for it (but keep the PRs small, please)</p>",
        "id": 569207740,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1768988315
    },
    {
        "content": "<p>Thanks! Do you remember who was the author of the Interval file?</p>",
        "id": 569215115,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1768990362
    },
    {
        "content": "<p>Clicking on the <code>blame</code> button in github reveals that the file essentially comes from <a href=\"https://github.com/fpvandoorn/carleson/commit/c8368627d229d0d13c6447332f96181c4f76a5be\">this commit</a>, so the author should be Jasper Mulder-Sohn.</p>",
        "id": 569215433,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768990463
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/442935-Carleson/topic/Porting.20to.20Mathlib/near/569215433\">ha scritto</a>:</p>\n<blockquote>\n<p>Clicking on the <code>blame</code> button in github reveals that the file essentially comes from <a href=\"https://github.com/fpvandoorn/carleson/commit/c8368627d229d0d13c6447332f96181c4f76a5be\">this commit</a>, so the author should be Jasper Mulder-Sohn.</p>\n</blockquote>\n<p>Ok thanks! I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/34200\">#34200</a> with the only two lemmas from Interval that seems fit. The 4 transitive inclusion lemmas can be derived from Ico_subset_Ici (see doc-string in Order.Interval.Set.Basic), the others are already available in IntervalSucc file.</p>",
        "id": 569221457,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1768992199
    },
    {
        "content": "<p>Thanks! Can you add Jasper as a co-author properly? The PR description template should tell you how to.</p>",
        "id": 569230423,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768994831
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/442935-Carleson/topic/Porting.20to.20Mathlib/near/569230423\">ha scritto</a>:</p>\n<blockquote>\n<p>Thanks! Can you add Jasper as a co-author properly? The PR description template should tell you how to.</p>\n</blockquote>\n<p>I've been unable to find Jasper's email but only his github JasperMS. <span class=\"user-mention\" data-user-id=\"888530\">@Jasper Mulder-Sohn</span> thanks if you can help :)</p>",
        "id": 569232144,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1768995391
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/34202\">#34202</a> first PR for Annulus</p>",
        "id": 569233281,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1768995766
    },
    {
        "content": "<p>In the Git log you can see his email (I'll DM it to you)</p>",
        "id": 569245526,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1768999690
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"779253\">Matteo Cipollina</span> <a href=\"#narrow/channel/442935-Carleson/topic/Porting.20to.20Mathlib/near/569221457\">said</a>:</p>\n<blockquote>\n<p>Ok thanks! I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/34200\">#34200</a> with the only two lemmas from Interval that seems fit. The 4 transitive inclusion lemmas can be derived from Ico_subset_Ici (see doc-string in Order.Interval.Set.Basic), the others are already available in IntervalSucc file.</p>\n</blockquote>\n<p>Actually both that doc-string and the more general result that you used in your proof were part of <a href=\"https://github.com/leanprover-community/mathlib4/pull/27934\">#27934</a>. However because of the long throughput time on that one I hadn't gotten around to wrapping up the upstreaming within Carleson after the Mathlib release dropped. Unfortunately it seems that the upstreaming status of the file was not entirely accurate.</p>\n<p>So the question is if there is sufficient merit for the less-general result using <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">⊥</mi></mrow><annotation encoding=\"application/x-tex\">\\bot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\">⊥</span></span></span></span> to also be in Mathlib. But I'll defer to Michael here.</p>",
        "id": 569266023,
        "sender_full_name": "Jasper Mulder-Sohn",
        "timestamp": 1769005058
    },
    {
        "content": "<p>I'm sorry for missing that detail about the upstreaming status; thank you for adding the context here!</p>",
        "id": 569268359,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769005600
    },
    {
        "content": "<p>I am inclined to include the special cases, but will ask for second opinions in the reviewers stream.</p>",
        "id": 569268472,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769005623
    },
    {
        "content": "<p>both are actually used in the Annulus API, in terms of LOC the additional lines created by these two specializations would still somewhat spill-out to that file</p>",
        "id": 569270157,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1769005984
    },
    {
        "content": "<p>Alright, that makes sense. I guess we can use the conclusion of that PR review to wrap up the upstreaming within Carleson so that the almost-duplication/discrepancy is resolved again and we can delete the ToMathlib files.</p>",
        "id": 569277538,
        "sender_full_name": "Jasper Mulder-Sohn",
        "timestamp": 1769007633
    },
    {
        "content": "<p>Indeed - if the mathlib conclusion is to not have <code>Ico_subset_Ici</code> and friends, removing them from Carleson seems like the right call. I'll happily review a PR!</p>",
        "id": 569278382,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769007817
    },
    {
        "content": "<p>last one <a href=\"https://github.com/leanprover-community/mathlib4/pull/34219\">#34219</a></p>",
        "id": 569295446,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1769011967
    }
]