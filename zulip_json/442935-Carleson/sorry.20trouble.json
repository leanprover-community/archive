[
    {
        "content": "<p>Suppose you have a definition that isn't finished yet, so you sorry it and then axiomatize some sorry'd properties about it. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ùì©</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Grid</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œò</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>What could possibly go wrong?</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>People might accidentally (ab)use that <code>ùì©</code> is a constant function. Luckily <a href=\"https://github.com/fpvandoorn/carleson/commit/420d1c6461b2b461e3b82c515af4c6ffe6f2a0eb\">not in an essential way</a></p>\n</div></div>",
        "id": 450980191,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1720791850
    },
    {
        "content": "<p>Hmm, do we have to use <code>opaque</code> instead then?</p>",
        "id": 450980977,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1720792053
    },
    {
        "content": "<p>Or sorry the element of type <code>Grid X ‚Üí Set (Œò X)</code>.</p>",
        "id": 450981340,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1720792158
    },
    {
        "content": "<p>Maybe <code>lemma Zaux (I : Grid X) : \\exists ..</code> and then use <code>Zaux.choose</code>?</p>",
        "id": 450981401,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1720792176
    },
    {
        "content": "<p>Looks strictly more complicated than using <code>opaque</code></p>",
        "id": 450982456,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1720792413
    },
    {
        "content": "<p>Oh if there was a fix for this that would be great! Patrick discovered the problems with sorrying definitions during the perfectoid project and I've been paranoid about doing this ever since. If I could sorry a ton of definitions for FLT without worrying that when they were filled in I'd break a bunch of people's code then I would take Mario's suggestion that he made to me in Bonn (\"do this\") much more seriously.</p>",
        "id": 450988696,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720793735
    },
    {
        "content": "<p>This shouldn't be hard. We could write a tactic <code>revert_all</code> that reverts every hypothesis, and then have a macro <code>sorry'</code> for <code>by revert_all; sorry</code>. In that case, at least this issue will not occur for <code>sorry'</code>.</p>\n<p>There are some issues with variables:</p>\n<ul>\n<li>You might have a theorem that depends on a variable or type-class, but only in the proof. If you sorry the theorem, then this variable will not be included</li>\n<li>Variables could accidentally be added to declarations, even if you don't what a theorem that depends on that variable.</li>\n</ul>",
        "id": 450994858,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1720795018
    }
]