[
    {
        "content": "<p>We've talked about it before, but any thoughts on adding a <code>@[deprecated]</code> annotation with linter support to warn at the use site (probably with text that describes the new name to use?)? Thinking about it cuz of <a href=\"https://github.com/leanprover/std4/pull/177\">std4#177</a>, which includes breaking changes for mathlib that would be easy to fix downstream if there were nice linter messages saying what the new names are.</p>",
        "id": 373290065,
        "sender_full_name": "James Gallicchio",
        "timestamp": 1688752372
    },
    {
        "content": "<p>Have you tried using <code>@[deprecated foo]</code>? It seems to do everything you're suggesting, except perhaps linting.</p>",
        "id": 373290629,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1688752510
    },
    {
        "content": "<p>We have this in mathlib; I thought it came from core or std already</p>",
        "id": 373290688,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1688752522
    },
    {
        "content": "<p>Yeah, it's in core</p>",
        "id": 373290715,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1688752531
    },
    {
        "content": "<p>oh very cool</p>",
        "id": 373290755,
        "sender_full_name": "James Gallicchio",
        "timestamp": 1688752540
    },
    {
        "content": "<p>I would prefer if it allowed strings instead of just (known) identifiers... Maybe I try to find the core implementation.</p>",
        "id": 373291764,
        "sender_full_name": "James Gallicchio",
        "timestamp": 1688752782
    },
    {
        "content": "<p>I'm not sure how that would work -- you need to have a declaration around with the old name so that you can resolve the name downstream to be able to give the warning.</p>",
        "id": 373292394,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1688752931
    },
    {
        "content": "<p>The warning can just include the string instead of the \"use <code>whatever</code> instead\" message</p>",
        "id": 373292706,
        "sender_full_name": "James Gallicchio",
        "timestamp": 1688753012
    },
    {
        "content": "<p>vscode displays the warning nicely so I don't think any additional linter is necessary :)</p>",
        "id": 373293021,
        "sender_full_name": "James Gallicchio",
        "timestamp": 1688753085
    },
    {
        "content": "<p>oh, <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span> I meant having something like <code>@[deprecated \"See patch notes\"] def foo</code>, for when there is no new symbol to substitute for the deprecated one</p>",
        "id": 373294064,
        "sender_full_name": "James Gallicchio",
        "timestamp": 1688753363
    }
]