[
    {
        "content": "<p>Tim Lichtnau (a former - unfortunately deceased - student of mine) formalized fibered categories as his first project in Lean, for my course I taught 1.5 years ago. As a non-expert, those seem very similar to displayed categories (what are the differences?). His project is here, and maybe is helpful, perhaps just to get inspiration:<br>\n<a href=\"https://github.com/timlichtnau/LeanCourse23/tree/master/LeanCourse/Project\">https://github.com/timlichtnau/LeanCourse23/tree/master/LeanCourse/Project</a></p>",
        "id": 515169881,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1745966588
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> for bringing this up, i was not aware of this. I see that Tim followed the fibration notes of Thomas Streicher -- who also very unfortunately passed away recently -- quite closely in his formalization, which is great! I'm sure there will be things there that we can borrow from his formalization, of course giving credit to his work as well.</p>",
        "id": 515245394,
        "sender_full_name": "Sina Hazratpour ğ“ƒµ",
        "timestamp": 1746003228
    },
    {
        "content": "<p>As for the question of what are the differences, it is mostly just a matter of presentation. Displayed categories is a notion of fibered categories tailored to MLTT, the idea is that the fibers overs some category <code>C</code> are encoded as a function <code>D : C -&gt; Type</code>, so that that the fiber over <code>c : C</code> is just <code>D c</code>, in contrast of having to take a subtype, which gives rise to <code>eqToHom</code> problems.</p>",
        "id": 515262090,
        "sender_full_name": "Fernando Chu",
        "timestamp": 1746008061
    },
    {
        "content": "<p>And i think, crucially, displayed categories do not use equality of objects in their definition while Grothendieck fibrations do. Working with equality of objects in categories, and especially rewriting along them is painful and leads to the dTT hell.</p>",
        "id": 515291577,
        "sender_full_name": "Sina Hazratpour ğ“ƒµ",
        "timestamp": 1746016294
    },
    {
        "content": "<p>Yes. Tim worked around that by not rewriting with equalities of objects, but only using <code>eqToHom</code> to constructor an (iso)morphism from an equality.</p>",
        "id": 515292422,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1746016510
    },
    {
        "content": "<p>Indeed, using <code>eqToHom</code> to promote equalities to isos is the standard \"trick\" we use in mathlib for dealing with equality of objects. Displayed categories offer an alternative approach where instead of being bothered by equality of objects, we shift the problem to the dependent equality of morphisms, so for instance we have an axiom <code>id_comp_cast </code> as part of the definition of displayed categories which says </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"mi\">ğŸ™</span><span class=\"bp\">â‚’</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â‰«â‚’</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">id_comp</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"bp\">â–¸</span><span class=\"w\"> </span><span class=\"n\">g</span>\n</code></pre></div>\n<p>Here morphism <code>g</code> lives in some would-be-category <code>D</code> and lies over a morphism <code>f</code> in <code>C</code>,  and the displayed composition <code>(ğŸ™â‚’ X) â‰«â‚’ g</code> lies over the composition <code>ğŸ™ â‰« f</code> in <code>C</code> which is equal to <code>f</code> by <code>id_comp</code>.  So, here we also rewrite along equalities, but rather equality of morphisms than objects. If you have a functor <code>P : E â¥¤ C</code> the fibres (strict, iso, lax) give you different displayed structures, see for instance:<br>\n<a href=\"https://github.com/sinhp/displayed_categories/blob/e42efa2e244c1c285dc1c269af70755dd11ae90f/DisplayedCategories/Basic.lean#L547\">https://github.com/sinhp/displayed_categories/blob/e42efa2e244c1c285dc1c269af70755dd11ae90f/DisplayedCategories/Basic.lean#L547</a></p>",
        "id": 515295989,
        "sender_full_name": "Sina Hazratpour ğ“ƒµ",
        "timestamp": 1746017430
    },
    {
        "content": "<p>By the way, the potential to use displayed categories was mentioned by <span class=\"user-mention\" data-user-id=\"110032\">@Reid Barton</span>  <a href=\"#narrow/channel/116395-maths/topic/Formalizing.20stacks/near/398794280\">here</a>, but so far, I don't think we had a Lean formalization of them.</p>",
        "id": 515296266,
        "sender_full_name": "Sina Hazratpour ğ“ƒµ",
        "timestamp": 1746017511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"420917\">@Sina Hazratpour ğ“ƒµ</span> that link is broken</p>",
        "id": 515296542,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1746017588
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/500728-Displayed-Categories/topic/Fibered.20Categories/near/515296542\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"420917\">Sina Hazratpour ğ“ƒµ</span> that link is broken</p>\n</blockquote>\n<p>thanks, fixed!</p>",
        "id": 515297874,
        "sender_full_name": "Sina Hazratpour ğ“ƒµ",
        "timestamp": 1746017909
    }
]