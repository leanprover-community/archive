[
    {
        "content": "<p>I'm trying to formalize this argument: <a href=\"https://kconrad.math.uconn.edu/blurbs/gradnumthy/galoisselmerpoly.pdf\">https://kconrad.math.uconn.edu/blurbs/gradnumthy/galoisselmerpoly.pdf</a><br>\nBut I need the following fact from algebraic number theory:<br>\nIf <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">K/\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\">/</span><span class=\"mord mathbb\">Q</span></span></span></span> is Galois, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi mathvariant=\"normal\">G</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">l</mi></mrow><mo stretchy=\"false\">(</mo><mi>K</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\mathrm{Gal}(K/\\mathbb{Q})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">Gal</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\">/</span><span class=\"mord mathbb\">Q</span><span class=\"mclose\">)</span></span></span></span> is generated by the inertia subgroups<br>\n<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi><mo stretchy=\"false\">(</mo><mi>q</mi><mi mathvariant=\"normal\">/</mi><mi>p</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">{</mo><mi>σ</mi><mo>∈</mo><mrow><mi mathvariant=\"normal\">G</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">l</mi></mrow><mo stretchy=\"false\">(</mo><mi>K</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"double-struck\">Q</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mi>σ</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>≡</mo><mi>x</mi><mspace></mspace><mspace width=\"0.4444em\"/><mo stretchy=\"false\">(</mo><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mspace width=\"0.3333em\"/><mi>q</mi><mo stretchy=\"false\">)</mo><mtext> for all </mtext><mi>x</mi><mo>∈</mo><msub><mi mathvariant=\"script\">O</mi><mi>K</mi></msub><mo stretchy=\"false\">}</mo><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">I(q/p)=\\{\\sigma\\in\\mathrm{Gal}(K/\\mathbb{Q}):\\sigma(x)\\equiv x\\pmod{q}\\text{ for all }x\\in\\mathcal O_K\\}.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">p</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">Gal</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\">/</span><span class=\"mord mathbb\">Q</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">σ</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">≡</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:0.4444em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.3333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span><span class=\"mclose\">)</span><span class=\"mord text\"><span class=\"mord\"> for all </span></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">}</span><span class=\"mord\">.</span></span></span></span><br>\nI think the hardest part is already in mathlib (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=NumberField.discr_gt_one#doc\">docs#NumberField.discr_gt_one</a>), but a bit more is needed (e.g., glue between discriminant and ramification and the inertia group). Does FLT-regular have anything that might help?</p>",
        "id": 408477112,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1702843694
    },
    {
        "content": "<p>I don't think we have the fact that an ideal ramifies if and only if it divides the discriminant, but I was planning to give it to a student.</p>",
        "id": 408478137,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1702844698
    },
    {
        "content": "<p>We have the version with the relative different ideal (i.e. that its divisible by the ramified primes with the precise exponents). We also have some explicit ways to see if something is in the different ideal, from which I think you can get the link to the discriminant without too much pain.</p>",
        "id": 408478223,
        "sender_full_name": "Chris Birkbeck",
        "timestamp": 1702844786
    },
    {
        "content": "<p>There is also some stuff about how the Galois group permutes the ramification degrees, which might be useful for linking with inertia? probably <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span>  can say more since he wrote pretty much all of the ramification stuff</p>",
        "id": 408478268,
        "sender_full_name": "Chris Birkbeck",
        "timestamp": 1702844869
    },
    {
        "content": "<p>Note that the different will soon be in mathlib <a href=\"https://github.com/leanprover-community/mathlib4/pull/9063\">#9063</a></p>",
        "id": 408478429,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1702845040
    },
    {
        "content": "<p>Ok, thanks for the info! I'll probably hold off then, and wait for a bit more stuff to be done properly, rather than try to bodge together a solution at this point.</p>",
        "id": 408480539,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1702847138
    },
    {
        "content": "<p>Well, if you need a precise result you can just <code>sorry</code> it, and we can see if it follows from what we have</p>",
        "id": 408480757,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1702847378
    }
]