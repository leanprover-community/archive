[
    {
        "content": "<p>I think the following commit message would've been better without an extended commit description, which had messages of the commits that had been already merged into the main branch. Also, the coauthors should've been <span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> and me only.</p>\n<p>It's not a big deal, but I prefer to keep commit messages tidy. In this case, squashing the commits would've helped.</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>commit 4115b22</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<blockquote>\n<p>commit 4115b227caa6b6433c5ccf28c859a63607e5a29a<br>\nAuthor: Kim Morrison &lt;<a href=\"mailto:kim@tqft.net\">kim@tqft.net</a>&gt;<br>\nDate:   Mon Jul 1 11:07:57 2024 +1000</p>\n<div class=\"codehilite\"><pre><span></span><code>chore: deal with nonterminal simps in String/Lemmas (#857)\n\n* chore: deal with nonterminal simps in String/Lemmas\n\n* fix\n\n* squeeze more simps\n\n* chore: avoid nonterminal simps in String/Lemmas (#864)\n\n* chore: bump toolchain to v4.9.0-rc3 (#858)\n\n* chore: replace `Std` with `Batteries` and recycle a doc-string (#859)\n\n* chore: `unreachableTactic` -- replace a `Std` namespace with `Batteries` and add an `inherit_doc`. (#861)\n\n* chore: avoid nonterminal simps in String/Lemmas\n\nCo-authored-by: Mario Carneiro &lt;di.gama@gmail.com&gt;\nCo-authored-by: Bulhwi Cha &lt;chabulhwi@semmalgil.com&gt;\n\n---------\n\nCo-authored-by: Kim Morrison &lt;kim@tqft.net&gt;\nCo-authored-by: damiano &lt;adomani@gmail.com&gt;\nCo-authored-by: Mario Carneiro &lt;di.gama@gmail.com&gt;\n\n---------\n\nCo-authored-by: Mario Carneiro &lt;di.gama@gmail.com&gt;\nCo-authored-by: Bulhwi Cha &lt;chabulhwi@semmalgil.com&gt;\nCo-authored-by: damiano &lt;adomani@gmail.com&gt;\n</code></pre></div>\n\n</blockquote>\n</div></div>",
        "id": 449257343,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1720169772
    },
    {
        "content": "<p>I'm sorry, but I'm not sure what you're asking someone to have done differently.</p>",
        "id": 449541189,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720290028
    },
    {
        "content": "<p>One thing I regret doing is rebasing the branch for my PR on the main branch of Batteries. This decision led to commits that had already been merged into the main branch getting in the middle of your PR.</p>\n<p>It wouldn't have been a problem if my PR was merged directly into the main branch, but I chose the branch for your PR as the base branch of my PR. I didn't want to suggest closing your PR. Instead, I wanted to leave it for you to decide; I'm sorry that I didn't express it clearly.</p>\n<p>Here are some ways you could've handled this situation before merging your PR into the main branch:</p>\n<h1>How to clear away unwanted commits in your PR</h1>\n<h2>Method 1</h2>\n<ol>\n<li>Rebase the branch for your PR on the main branch.</li>\n<li>Merge my PR into your PR.</li>\n<li>Squash all commits in your PR into a single commit and edit its commit message.</li>\n</ol>\n<h2>Method 2</h2>\n<ol>\n<li>Merge my PR into your PR.</li>\n<li>Rebase the branch for your PR on the main branch.</li>\n<li>Squash all commits in your PR into a single commit and edit its commit message.</li>\n</ol>\n<h2>Method 3</h2>\n<ol>\n<li>Merge my PR into your PR.</li>\n<li>Reorder the commits in your PR so that those that have already been merged into the main branch precede your and my commits.</li>\n<li>Squash your and my commits into a single commit and edit its commit message.</li>\n</ol>",
        "id": 449582606,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1720313196
    },
    {
        "content": "<p>(<a href=\"https://github.com/leanprover-community/batteries/pull/857\">batteries#857</a> for context)</p>",
        "id": 449632925,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720347752
    },
    {
        "content": "<p>I think using bors (and thus using the PR description as the squashed commit's message) would be a \"free\" way to get better messages, but there's the issue that bors is currently unmaintained and requires self-hosting. Maybe this will be easier once a Bors replacement is chosen. Doing anything manually seems too much to ask of the very small team of Batteries maintainers.</p>",
        "id": 449641025,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1720352162
    },
    {
        "content": "<p>I addressed in another thread where Kevin had the same issue</p>",
        "id": 449648843,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1720354509
    },
    {
        "content": "<p>Here : <a href=\"#narrow/stream/113488-general/topic/how.20to.20resolve.20conflicts.20without.20messing.20up.20branch.3F/near/448724629\">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/how.20to.20resolve.20conflicts.20without.20messing.20up.20branch.3F/near/448724629</a></p>",
        "id": 449648857,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1720354531
    },
    {
        "content": "<p>I'm confused, still. I hit \"squash and merge\", so there's only a single commit in the <code>main</code> history from this PR. Is the issue that the commit message contains information about the history of that branch, in the lines after the first line?</p>",
        "id": 449663233,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720361320
    },
    {
        "content": "<p>(If so, to be honest I think there is no problem here.)</p>",
        "id": 449663402,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720361398
    },
    {
        "content": "<p>I think the complaint is the very minor one that you didn't tidy the commit message, for which most of the fault falls on GitHub for generating a bad default</p>",
        "id": 449663900,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720361839
    },
    {
        "content": "<p>It is fine to create a branch off of another branch, but you should avoid rebasing to prevent already merged commits re-entering the history.</p>",
        "id": 449663971,
        "sender_full_name": "Richard Osborn",
        "timestamp": 1720361896
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/348111-batteries/topic/tidying.20commit.20messages/near/449663233\">said</a>:</p>\n<blockquote>\n<p>Is the issue that the commit message contains information about the history of that branch, in the lines after the first line?</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>(If so, to be honest I think there is no problem here.)</p>\n</blockquote>\n<p>I disagree, but I'm okay with your opinion. As I said before, it's not a big deal. You're one of the maintainers of Batteries, so the decision is yours.</p>",
        "id": 449664201,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1720362088
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"560559\">Richard Osborn</span> <a href=\"#narrow/stream/348111-batteries/topic/tidying.20commit.20messages/near/449663971\">said</a>:</p>\n<blockquote>\n<p>It is fine to create a branch off of another branch, but you should avoid rebasing to prevent already merged commits re-entering the history.</p>\n</blockquote>\n<p>My bad. When I created my branch, I didn't intend to base it on Kim's branch.</p>",
        "id": 449664691,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1720362228
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/348111-batteries/topic/tidying.20commit.20messages/near/449663900\">said</a>:</p>\n<blockquote>\n<p>for which most of the fault falls on GitHub for generating a bad default</p>\n</blockquote>\n<p>Another thing to blame is bors, which does the \"right\" thing. Reviewers already have to remember whether to use <code>bors merge</code> or click the merge button (and fight muscle memory for the former), and fixing the message after the fact is just one more thing to forget.</p>",
        "id": 449665782,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720362518
    },
    {
        "content": "<p>I will try to look more closely at the suggested commit message in future. I accept that I've become lazy here because bors let us be lazy. :-)</p>",
        "id": 449666401,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720362988
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/348111-batteries/topic/tidying.20commit.20messages/near/449663900\">said</a>:</p>\n<blockquote>\n<p>I think the complaint is the very minor one that you didn't tidy the commit message, for which most of the fault falls on GitHub for generating a bad default</p>\n</blockquote>\n<p>You can configure GitHub to use the PR description when squash merging these days, that's what we use for the lean4 repo, and I'd recommend that as the least bad solution</p>",
        "id": 449666798,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1720363319
    },
    {
        "content": "<p>Okay, I've made this change.</p>",
        "id": 449730672,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720391504
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"731744\">Synergylab 003</span> has marked this topic as resolved.</p>",
        "id": 450233273,
        "sender_full_name": "Notification Bot",
        "timestamp": 1720545392
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"731744\">Synergylab 003</span> has marked this topic as unresolved.</p>",
        "id": 450233540,
        "sender_full_name": "Notification Bot",
        "timestamp": 1720545440
    }
]