[
    {
        "content": "<p>This came up while discussing <a href=\"https://github.com/leanprover-community/batteries/pull/948\">batteries#948</a>. The <code>#help</code> command family is clearly useful to everyone and nothing about it is Mathlib specific. Any objections to upstreaming?</p>",
        "id": 473358619,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727537414
    },
    {
        "content": "<p>SGTM</p>",
        "id": 473360781,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1727539101
    },
    {
        "content": "<p>PR <a href=\"https://github.com/leanprover-community/batteries/pull/969\">batteries#969</a></p>",
        "id": 473365574,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727542789
    },
    {
        "content": "<p>Mathlib PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/17230\">#17230</a></p>",
        "id": 473373204,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727548647
    },
    {
        "content": "<p>I left some comments; I think this needs more tests.</p>",
        "id": 473393666,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727566236
    },
    {
        "content": "<p>Also two other possibilities to consider:</p>\n<ol>\n<li>I move this direct to Lean. (Either we'd need more tests written by someone else, or I'd need to find the time to write them.)</li>\n<li>We move this to a standalone repo <code>leanprover-community/lean-help</code>, on the theory that it is clearly useful to everyone. :-)</li>\n</ol>",
        "id": 473393814,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727566432
    },
    {
        "content": "<p>I like both these options. </p>\n<ol>\n<li>That would be great since I can't imagine someone <em>not</em> wanting <code>#help</code>. It's always hard to tell whether something actually fits in Lean's bandwidth.</li>\n<li>I hadn't thought of that. While I dislike the monolithic model in general, this doesn't feel like something that really needs to be a separate tool.</li>\n</ol>",
        "id": 473394967,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727567766
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/348111-batteries/topic/Upstreaming.20.23help.20command.3F/near/473393814\">said</a>:</p>\n<blockquote>\n<ol>\n<li>I move this direct to Lean. (Either we'd need more tests written by someone else, or I'd need to find the time to write them.)</li>\n</ol>\n</blockquote>\n<p>I wonder whether you should make a bot that comments this on every PR</p>",
        "id": 473406078,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1727579637
    },
    {
        "content": "<p>actually both suggestions could be applied to almost every PR</p>",
        "id": 473406181,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1727579755
    },
    {
        "content": "<p>Butterfly much!? :-)</p>",
        "id": 473406820,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727580357
    },
    {
        "content": "<p>It's no secret that I don't like having a repository without a clearly defined scope upstream of Mathlib. We've thought a bit in the past about the scope of Batteries, but I don't think ever come to a really satisfactory conclusion --- hopefully we can make more progress on this in future (I would suggest that this happens as a maintainers level discussion first).</p>\n<p>That said, I make and merge plenty of PRs to Batteries, so I don't think it's entirely fair to say that I would make these suggestions about every PR.</p>\n<p>In this particular case, I agree it is a positive change to move <code>#help</code> from Mathlib to Batteries (not necessarily the best possible change, but certainly positive), although as I said above I would like more tests so we're less likely to have mysterious breakages in future.</p>",
        "id": 473407513,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727581054
    },
    {
        "content": "<p>It does seem like a discussion that repeats regularly. I think we should move on from that conversation, because the considerations are the same in every case and at least so far we've determined that batteries is sticking around</p>",
        "id": 473407721,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1727581284
    },
    {
        "content": "<p>If you want to move things upstream or start a discussion in the FRO to upstream something in batteries, that's up to you</p>",
        "id": 473407829,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1727581359
    },
    {
        "content": "<p>I always thought of it as a multistep process.</p>\n<ol>\n<li>A useful thing appears in Mathlib.</li>\n<li>The more general utility of said thing is noticed and asked for elsewhere.</li>\n<li>The thing is moved to Batteries where it gets some updates and more thorough testing.</li>\n<li>The thing is so useful that it gets moved to Lean (or the FRO decides to build its own copy-thing).</li>\n</ol>\n<p>Many steps are skipped in reality but that actually reduces the effectiveness of this process.</p>",
        "id": 473408307,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727581918
    }
]