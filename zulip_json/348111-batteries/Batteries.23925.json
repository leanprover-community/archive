[
    {
        "content": "<p>In the context of PR <a href=\"https://github.com/leanprover-community/batteries/pull/925\">batteries#925</a>  I was going through the definitions in Init.Data.Array.Basic in core. There are two successive <a href=\"https://github.com/leanprover/lean4/blob/38288ae07a24f469a85fd10e93cbbb130f0e9f6c/src/Init/Data/Array/Basic.lean#L176\">definitions</a> <code>modify</code> and <code>modifyOp</code>. I am not sure why they are different since <code>modifyOp</code> just calls <code>modify</code>.</p>",
        "id": 463062867,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723937890
    },
    {
        "content": "<p>I am inclined to drop <code>modifyOp</code> for Vectors. Is this fine?</p>",
        "id": 463062904,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723937953
    },
    {
        "content": "<p><strong>Some help needed</strong>: In the process of proving that <code>modify</code> does not change a Vector's size, I came across <code>Array.size_modifyM</code> which is using this strange <code>Satisfies</code> predicate. I am not quite sure how to put this lemma to use.</p>",
        "id": 463066886,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723939548
    },
    {
        "content": "<p>Reference: <a href=\"https://github.com/leanprover-community/batteries/pull/925/files#r1720862336\">https://github.com/leanprover-community/batteries/pull/925/files#r1720862336</a></p>",
        "id": 463067070,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723939729
    },
    {
        "content": "<p>There are two other sorries (3 in total) </p>\n<ol start=\"2\">\n<li><a href=\"https://github.com/leanprover-community/batteries/pull/925/files#r1720862908\">https://github.com/leanprover-community/batteries/pull/925/files#r1720862908</a></li>\n<li><a href=\"https://github.com/leanprover-community/batteries/pull/925/files#r1720862960\">https://github.com/leanprover-community/batteries/pull/925/files#r1720862960</a></li>\n</ol>",
        "id": 463067429,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723940092
    },
    {
        "content": "<p>I think <code>modifyOp</code> is vestigial, it was originally intended for the <code>a[i] := e</code> syntax but I'm not sure it was ever implemented</p>",
        "id": 463067469,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1723940130
    },
    {
        "content": "<p>it is similar to <code>getOp</code> which was the <code>a[i]</code> syntax, now powered by the <code>GetElem</code> typeclass</p>",
        "id": 463067490,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1723940151
    },
    {
        "content": "<p>Apart from the <code>sorry</code>s only docstrings remain.</p>",
        "id": 463067591,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723940254
    },
    {
        "content": "<p>I still have to hunt for monadic defs elsewhere. EDIT : Found all the defs suitable for this PR as far as I can see.</p>",
        "id": 463067684,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1723940333
    }
]