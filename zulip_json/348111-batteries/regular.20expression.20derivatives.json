[
    {
        "content": "<p>I was just wondering if anyone else has/is worked/working on the formalization of a lexer in Lean using Brzozowski regular expression derivatives?</p>",
        "id": 467412279,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1725425501
    },
    {
        "content": "<p>I know someone who has done regex derivatives in coq</p>",
        "id": 467522712,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725453837
    },
    {
        "content": "<p>For omega regular expressions</p>",
        "id": 467522788,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725453846
    },
    {
        "content": "<p>It was an SRC poster at icfp</p>",
        "id": 467522834,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725453859
    },
    {
        "content": "<p>It wasn't used for lexing but proving language equivalence</p>",
        "id": 467522987,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725453893
    },
    {
        "content": "<p>Actually, that is part of what I am stuck on, the check for language equivalence in the algorithm for generating a DFA from a regular expression.</p>",
        "id": 467692343,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1725500056
    },
    {
        "content": "<p>The paper I'm going by defines a similarity relation for comparing regular expressions, but I'm not sure how to go about turning it into a computable function.<br>\n<a href=\"https://www.cambridge.org/core/journals/journal-of-functional-programming/article/regularexpression-derivatives-reexamined/E5734B86DEB96C61C69E5CF3C4FB0AFA\">https://www.cambridge.org/core/journals/journal-of-functional-programming/article/regularexpression-derivatives-reexamined/E5734B86DEB96C61C69E5CF3C4FB0AFA</a></p>",
        "id": 467692516,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1725500205
    },
    {
        "content": "<p>In code, the relation is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">inductive</span><span class=\"w\"> </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">union_1</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">R</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">union_2</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">union_3</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">))</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">union_4</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">union</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">R</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">concat_1</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">))</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">concat_2</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">zero</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">concat_3</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">zero</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">concat_4</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">R</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">concat_5</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">concat</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">R</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">kleene_closure_1</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">kleene_closure_2</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span>\n\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">kleene_closure_3</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">epsilon</span>\n\n\n<span class=\"kn\">example</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">RE_1</span><span class=\"w\"> </span><span class=\"n\">RE_2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RegExp</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Similar</span><span class=\"w\"> </span><span class=\"n\">RE_1</span><span class=\"w\"> </span><span class=\"n\">RE_2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">RE_1</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">RE_2</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">h1</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">union_1</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">union_2</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">union_comm</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">union_3</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">union_assoc</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">union_4</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">empty_union</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">concat_1</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">symm</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">concat_assoc</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">concat_2</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">concat_empty_left</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">concat_3</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">concat_empty_right</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">concat_4</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">concat_eps_left</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">concat_5</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">concat_eps_right</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">kleene_closure_1</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">symm</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure_idempotent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">kleene_closure_2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure_eps</span>\n<span class=\"w\">    </span><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">kleene_closure_3</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RegExp</span><span class=\"bp\">.</span><span class=\"n\">LanguageOf</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"bp\">.</span><span class=\"n\">kleene_closure_empty</span>\n</code></pre></div>",
        "id": 467692836,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1725500397
    },
    {
        "content": "<p>I had dinner with Clement Pit-Claudel who pointed out that the reason people don't use Brzozowski derivatives for any computation is that the derivative size blows up (in automata terms).</p>",
        "id": 467695882,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725501174
    },
    {
        "content": "<p>Maybe this thread helps  wrt coinduction: <a href=\"#narrow/stream/270676-lean4/topic/how.20to.20hack.20around.20the.20lack.20of.20coinduction/near/465847930\">https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/how.20to.20hack.20around.20the.20lack.20of.20coinduction/near/465847930</a></p>",
        "id": 467696370,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725501325
    },
    {
        "content": "<p>I guess I'm not sure I understand? They seem to claim good running times in the article.</p>",
        "id": 467697805,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1725501658
    },
    {
        "content": "<p>Maybe I misunderstood Clement</p>",
        "id": 467698567,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725501895
    },
    {
        "content": "<p>here's a youtube video on it with conal elliot: <a href=\"https://www.youtube.com/watch?v=OoKNpfUNpfU\">https://www.youtube.com/watch?v=OoKNpfUNpfU</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"OoKNpfUNpfU\" href=\"https://www.youtube.com/watch?v=OoKNpfUNpfU\"><img src=\"https://uploads.zulipusercontent.net/5c71cd81538641747c7f44734772682c902e5ef6/68747470733a2f2f692e7974696d672e636f6d2f76692f4f6f4b4e7066554e7066552f64656661756c742e6a7067\"></a></div>",
        "id": 472313514,
        "sender_full_name": "Alok Singh",
        "timestamp": 1727119840
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 472399574,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1727155758
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 472399634,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1727155784
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"139442\">Kayla Thomas</span> <a href=\"#narrow/stream/348111-batteries/topic/regular.20expression.20derivatives/near/467692516\">said</a>:</p>\n<blockquote>\n<p>The paper I'm going by defines a similarity relation for comparing regular expressions, but I'm not sure how to go about turning it into a computable function.</p>\n</blockquote>\n<p>I haven't looked at the paper carefully but I just put it on my reading list. Do you think there's a way to create a normal form to check for similarity? That could be efficient depending on how costly normalization is.</p>",
        "id": 472424522,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1727164603
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"119741\">@François G. Dorais</span> <br>\nI found <a href=\"https://gitlab.inria.fr/wouedrao/coqlex/-/blob/master/RegexpSimpl.v?ref_type=heads\">this Coq code</a> and translated it to Lean <a href=\"https://github.com/pthomas505/FOL/blob/2f6ac7c866e1c28f1ebe6073e7a0c8bacb552ee9/FOL/Parsing/Language/RegExp/Similar.lean#L113-L267\">here</a>. I think I need to prove the <a href=\"https://github.com/pthomas505/FOL/blob/2f6ac7c866e1c28f1ebe6073e7a0c8bacb552ee9/FOL/Parsing/Language/RegExp/Similar.lean#L270\">theorem</a> at the end of that Lean file (the current attempt there is not working, there is a paper proof in appendix II (theorem 4.3a) of <a href=\"https://dl.acm.org/doi/pdf/10.1145/321239.321249\">this</a> paper) and somehow use it to prove termination for some version of <a href=\"https://github.com/pthomas505/FOL/blob/main/FOL/Parsing/Language/RegExp/Generate.lean\">this Lean function</a> which is a translation of the algorithm on page 179 of <a href=\"https://people.cs.uchicago.edu/~jhr/papers/2009/jfp-re-derivatives.pdf\">this paper</a>. There is also something called partial derivatives of regular expressions (paper <a href=\"https://core.ac.uk/download/pdf/81113752.pdf\">here</a>) that I don't really understand, which may be more efficient?<br>\nAs I understand it, if two regular expressions are \"similar\", then their languages are the same, but their can also be regular expressions that are not similar whose languages are the same. So the DFA that is constructed using it is not guaranteed to be minimal.</p>",
        "id": 472601593,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1727231306
    },
    {
        "content": "<p>So in short, I think yes, in the first link to the Coq code.</p>",
        "id": 472603434,
        "sender_full_name": "Paige Thomas",
        "timestamp": 1727232645
    },
    {
        "content": "<p>One of the ICFP SRC winners (from Saarland) was a bachelor's thesis on an algorithm for showing the equivalence of omega regular expressions. It uses regular expression derivatives (although the derivative of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>r</mi><mi>ω</mi></msup></mrow><annotation encoding=\"application/x-tex\">r^\\omega</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6644em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">ω</span></span></span></span></span></span></span></span></span></span></span> is conductive, that might be unnecessary for normal regular expressions)</p>",
        "id": 472670753,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727262683
    },
    {
        "content": "<p>I mean ICFP 2024</p>",
        "id": 472670805,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1727262700
    }
]