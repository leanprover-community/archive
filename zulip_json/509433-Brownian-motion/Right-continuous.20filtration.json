[
    {
        "content": "<p>Ok so before going further I just want to check if the definition I got based on <a class=\"message-link\" href=\"/#narrow/channel/509433-Brownian-motion/topic/Tasks.20and.20claims/near/554462557\">#Brownian motion &gt; Tasks and claims @ ğŸ’¬</a> looks sensible.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Î©</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MeasurableSpace</span><span class=\"w\"> </span><span class=\"n\">Î©</span><span class=\"o\">}</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PartialOrder</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"o\">]</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">rightCont</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“•</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filtration</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filtration</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">seq</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“</span><span class=\"o\">[</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">NeBot</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"bp\">â¨…</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ğ“•</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">ğ“•</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">  </span><span class=\"n\">mono'</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">hij</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">gt_iff_lt</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">split_ifs</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hi</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"w\"> </span><span class=\"n\">hj</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">le_iInfâ‚‚</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hkj</span><span class=\"w\"> </span><span class=\"bp\">â†¦</span><span class=\"w\"> </span><span class=\"n\">iInfâ‚‚_le</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hij</span><span class=\"bp\">.</span><span class=\"n\">trans_lt</span><span class=\"w\"> </span><span class=\"n\">hkj</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_or_ne</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">      </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"n\">contradiction</span>\n<span class=\"w\">      </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lt_of_le_of_ne</span><span class=\"w\"> </span><span class=\"n\">hij</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">        </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">iInfâ‚‚_le</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">le_iInfâ‚‚</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"bp\">â†¦</span><span class=\"w\"> </span><span class=\"n\">ğ“•</span><span class=\"bp\">.</span><span class=\"n\">mono</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hij</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">ğ“•</span><span class=\"bp\">.</span><span class=\"n\">mono</span><span class=\"w\"> </span><span class=\"n\">hij</span>\n<span class=\"w\">  </span><span class=\"n\">le'</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">split_ifs</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">hi</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">âŸ¨</span><span class=\"n\">j</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"bp\">âŸ©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">frequently_gt_nhds</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">exists</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">iInfâ‚‚_le_of_le</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“•</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">Â·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">ğ“•</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"w\"> </span><span class=\"n\">i</span>\n</code></pre></div>\n<p>Compared to the \"usual\" one which only required <code>Preorder Î¹</code>, this requires <code>PartialOrder Î¹</code> and <code>TopologicalSpace Î¹</code>. This looks like reasonable assumptions to me, but I want to be sure others agree. In particular a filtration which is not indexed by a partial order seems weird, because as the space of measurable spaces is a partial order, we would get <code>i â‰¤ j -&gt; j â‰¤ i -&gt; ğ“• i = ğ“• j</code>, even though <code>i â‰  j</code>.</p>",
        "id": 554464404,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1762590410
    },
    {
        "content": "<p>If I was more confident in order theory I would even say that if iota is a preorder we can factor the filtration through the quotient map from iota to its induced partial order.</p>",
        "id": 554464462,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1762590468
    },
    {
        "content": "<p>Similarly I don't see how we wouldn't consider a topological space in practice, and as this is all about continuity it seems sensible to have a <code>TopologicalSpace</code> assumption.</p>",
        "id": 554464496,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1762590527
    },
    {
        "content": "<p>That definition looks good to me. In all applications we should have a linear order with the order topology, so I would no worry too much about <code>Preorder</code> vs <code>PartialOrder</code>.</p>",
        "id": 554465584,
        "sender_full_name": "RÃ©my Degenne",
        "timestamp": 1762591732
    },
    {
        "content": "<p>I'm not sure it is a good idea to require a topological space instance: you could phrase it either by endowing the space with the order topology in the course of the definition, or replacing the <code>(ğ“[&gt;] i).NeBot</code> condition with <code>there exists j &gt; i with Ioo i j = emptyset</code>.</p>",
        "id": 554468677,
        "sender_full_name": "SÃ©bastien GouÃ«zel",
        "timestamp": 1762594953
    },
    {
        "content": "<p>Except that my condition is not good when a point is maximal...</p>",
        "id": 554468805,
        "sender_full_name": "SÃ©bastien GouÃ«zel",
        "timestamp": 1762595069
    },
    {
        "content": "<p>Suppose I endow iota with the order topology inside the definition. Then if I also assume iota has the order topology in some statement, I  think I would need to rewrite using <code>topology_eq_generate_intervals</code>? This sounds a bit cumbersome to me.</p>",
        "id": 554469306,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1762595560
    },
    {
        "content": "<p>Why do you think it's not a good idea to require a topological space instance?</p>",
        "id": 554469348,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1762595589
    },
    {
        "content": "<p>Because it's not really relevant for the definition: it will only make sense if you have a topology and this topology happens to be the order topology. Which means your definition will in fact not depend on the topology, so why have it as a useless argument?<br>\nIf you define it without topology, you could still have the lemma saying that, if iota has a topology which is the order topology, then <code>rightCont ğ“• i = if (ğ“[&gt;] i).NeBot then â¨… j &gt; i, ğ“• j else ğ“• i</code>. Then using this lemma you could use the definition just as you would using the current definition, but additionally whenever you write down <code>rightCont ğ“• i</code> Lean doesn't need to go and fetch the topology on iota, so it's more economical.</p>",
        "id": 554473429,
        "sender_full_name": "SÃ©bastien GouÃ«zel",
        "timestamp": 1762599284
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">SÃ©bastien GouÃ«zel</span> <a href=\"#narrow/channel/509433-Brownian-motion/topic/Right-continuous.20filtration/near/554468805\">said</a>:</p>\n<blockquote>\n<p>Except that my condition is not good when a point is maximal...</p>\n</blockquote>\n<p>I'd like to remark that our current definition of localizing sequence is also not ideal if there exists a maximal point: If the time index has a max element, then a localizing sequence should converge to that point instead currently <code>Tendsto (Ï„ Â· Ï‰) atTop (ğ“ âŠ¤)</code></p>",
        "id": 554476086,
        "sender_full_name": "Kexing Ying",
        "timestamp": 1762602092
    },
    {
        "content": "<p><a href=\"https://github.com/RemyDegenne/brownian-motion/pull/207\">#207</a> is ready.</p>",
        "id": 554502473,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1762627232
    }
]