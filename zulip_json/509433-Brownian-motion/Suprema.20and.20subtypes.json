[
    {
        "content": "<p>Could theorems with <code>⨆ (s) (t) (hs : s ∈ J) (ht : t ∈ J)</code> be refactored to <code>⨆ (s) (hs : s ∈ J) (t) (ht : t ∈ J)</code>? Its then easier to apply <code>iSup_subtype</code> lemmas when needed. Of course the sups could just be commuted in the proof but this ordering seems easier to work with unless the other ordering is easier elsewhere.</p>",
        "id": 524816922,
        "sender_full_name": "David Ledvinka",
        "timestamp": 1750310451
    },
    {
        "content": "<p>You can <code>simp only [iSup₅_eq_iSup₂]</code> <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 524817126,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750310622
    },
    {
        "content": "<p>Markus added this: <a href=\"https://github.com/RemyDegenne/brownian-motion/blob/94609e4a4b5c14efd7b2fd56383305a735eb745c/BrownianMotion/Continuity/Chaining.lean#L213\">https://github.com/RemyDegenne/brownian-motion/blob/94609e4a4b5c14efd7b2fd56383305a735eb745c/BrownianMotion/Continuity/Chaining.lean#L213</a></p>",
        "id": 524817191,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1750310696
    },
    {
        "content": "<p>Oh ok nice!</p>",
        "id": 524817220,
        "sender_full_name": "David Ledvinka",
        "timestamp": 1750310723
    },
    {
        "content": "<p>But yes, we're quite far along in Chapter 5 now, and by now it's pretty clear that refactoring the statements would make everything slightly cleaner overall. We should do it before PRing the material to mathlib.</p>",
        "id": 524817256,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750310766
    },
    {
        "content": "<p>The proposal is to use these two forms for the suprema?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">}),</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n\n<span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">edist</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">δ</span><span class=\"o\">}),</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n</code></pre></div>\n<p>If that's easier everywhere, let's change it in the project now. A volunteer?</p>",
        "id": 524817745,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1750311196
    },
    {
        "content": "<p>I am about to sleep but if no one claims it by the time I wake up then I can do it.</p>",
        "id": 524817852,
        "sender_full_name": "David Ledvinka",
        "timestamp": 1750311292
    },
    {
        "content": "<p>I will do it now.</p>",
        "id": 524817924,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750311370
    },
    {
        "content": "<p><a href=\"https://github.com/RemyDegenne/brownian-motion/pull/69\">https://github.com/RemyDegenne/brownian-motion/pull/69</a> No surprises.</p>",
        "id": 524824103,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750315760
    },
    {
        "content": "<p>Nice, thanks! And I see that the supremum is actually not as bad looking as what I wrote above, since it's <code>⨆ (s : C k) (t : { t : C k // edist s.1 t.1 ≤ δ }</code>.</p>",
        "id": 524825347,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1750316444
    },
    {
        "content": "<p>You can even write <code>edist s t</code> instead of <code>edist s.1 t.1</code>.</p>",
        "id": 524825479,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750316510
    },
    {
        "content": "<p>Well, let me leave that as review comment on your PR then! I copied the code from there :)</p>",
        "id": 524825620,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1750316569
    },
    {
        "content": "<p>Oh actually, I take it back. It goes though <code>instPseudoEMetricSpaceSubtype.toEDist</code> then instead of firing the coercions.</p>",
        "id": 524825809,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750316652
    },
    {
        "content": "<p>I'll go back and check if that's a problem.</p>",
        "id": 524826127,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750316778
    },
    {
        "content": "<p>Okay, seems fine to me.</p>",
        "id": 524827263,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750317280
    },
    {
        "content": "<p>I am not sure of what exactly seems fine to you. The PR as it is now, or the removal of the <code>.1</code>?</p>",
        "id": 524827905,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1750317452
    },
    {
        "content": "<p>Sorry, I meant that <code>edist s.1 t.1</code> and <code>edist s t</code> are defeq in a completely benign way, so I don't see any potential problems with using one or the other or a mix of the two. So I'm happy with your changes removing the <code>.1</code>.</p>",
        "id": 524828457,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1750317585
    }
]