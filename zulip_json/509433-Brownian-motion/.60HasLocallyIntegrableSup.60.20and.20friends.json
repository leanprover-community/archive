[
    {
        "content": "<p>I think the current definition</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">HasLocallyIntegrableSup</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderBot</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTopology</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìï</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filtration</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"n\">mŒ©</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">volume_tac</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Locally</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Integrable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">‚®Ü</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"bp\">‚Äñ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ùìï</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">P</span>\n</code></pre></div>\n<p>should likely have some boundedness assumptions since we're using the pointwise sup in ‚Ñù. (Otherwise you get issues when the sup is infinite). <br>\nIs it fine to assume cadlag here and in other places in <code>ClassD.lean</code>?</p>",
        "id": 558876434,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1763885831
    },
    {
        "content": "<p>I don‚Äôt see a reason to assume c√†dl√†g here, but it is assumed in some results in <code>ClassD</code>.</p>",
        "id": 558878512,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763887881
    },
    {
        "content": "<p>If you are asking this because of <a href=\"https://github.com/RemyDegenne/brownian-motion/issues/288\">#288</a>, then you shouldn‚Äôt need any extra assumption, it is a direct consequence from other lemmas as indicated in the blueprint (unless I made a mistake in copying assumptions but that should be straightforward to spot).</p>",
        "id": 558878801,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763888176
    },
    {
        "content": "<p>Hmm maybe you are asking this because if the sup is infinite it will in fact be set to 0 so the function will satisfy the property.</p>",
        "id": 558879173,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763888480
    },
    {
        "content": "<p>It is not clear to me whether this will become an issue or not eventually. I'd say we can keep it like this for now and change it if we realize it's actually a problem.</p>",
        "id": 558879297,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763888621
    },
    {
        "content": "<p>Yes, I'm imagining it would make the property hold in undesired cases:<br>\nE.g. I believe a sequence of (constant) processes with value 1/(1-t) for t&lt;1, and 0 for t &gt; 1 will be declared to have a locally integrableSup (since it's set to 0 for all values t &gt; 1, but should be infinite).</p>",
        "id": 558882275,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1763891401
    },
    {
        "content": "<p>It is definitely a better idea to take the sup over the subtype, i.e., <code>‚®Ü s : Iic t</code>, to avoid this issue. But even in this case, there is still an issue: if the set of values is unbounded above, i.e., the sup is infinite, then in fact it will become 0 in the reals and your condition will not be the one you expect.</p>\n<p>The best answer is probably to use <code>‚ÄñY s œâ‚Äñ‚Çë</code>, i.e., work in the extended reals (and require that the Lebesgue integral is finite). This is a lesson we have learnt in Carleson.</p>",
        "id": 558883149,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1763892314
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">S√©bastien Gou√´zel</span> <a href=\"#narrow/channel/509433-Brownian-motion/topic/.60HasLocallyIntegrableSup.60.20and.20friends/near/558883149\">said</a>:</p>\n<blockquote>\n<p>It is definitely a better idea to take the sup over the subtype, i.e., <code>‚®Ü s : Iic t</code>, to avoid this issue. But even in this case, there is still an issue: if the set of values is unbounded above, i.e., the sup is infinite, then in fact it will become 0 in the reals and your condition will not be the one you expect.</p>\n<p>The best answer is probably to use <code>‚ÄñY s œâ‚Äñ‚Çë</code>, i.e., work in the extended reals (and require that the Lebesgue integral is finite). This is a lesson we have learnt in Carleson.</p>\n</blockquote>\n<p>Does using the subtype change something here? I thought <code>‚®Ü s ‚â§ t</code> was like <code>‚®Ü s, ‚®Ü (_ : s ‚â§ t)</code>, and if <code>s &gt; t</code> then the inner sup will be 0 so as we are dealing with a sup of nonnegative numbers it will not change anything.</p>",
        "id": 558883461,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763892549
    },
    {
        "content": "<p>But indeed switching to the extended norm is probably better, I forgot that <code>Integrable</code> worked for ennreal valued functions now.</p>",
        "id": 558883498,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763892597
    },
    {
        "content": "<p>I'll make a PR to use the extended norm.</p>",
        "id": 558883636,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763892738
    },
    {
        "content": "<p><a href=\"https://github.com/RemyDegenne/brownian-motion/pull/305\">#305</a></p>",
        "id": 558883950,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763893086
    },
    {
        "content": "<p>You're right, the subtype doesn't make a difference here!</p>",
        "id": 558883981,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1763893121
    },
    {
        "content": "<p>I believe we do need additional continuity assumptions (e.g. cadlag) to show stability for HasLocallyIntegrableSup (or for it's non-local version). Otherwise, there'll be problems with the sup possibly not being measurable.<br>\nLet me know if I'm overlooking something, else I'll be adding the assumption in the statement.</p>",
        "id": 558912368,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1763921719
    },
    {
        "content": "<p>Having spent a fair amount of time generalising mathlib lemmas from norms to enorms (for the Carleson project), let me just add: if you encounter a lemma that should be generalised where that's straightforward, feel free to do so (and I'll be happy to review that PR). The lemmas I generalised are certainly not exhaustive, so if you need a particular lemma generalised, that's certainly doable and I'm also intersted in seeing that happen.</p>",
        "id": 558913905,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763923321
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"496319\">Nikolas Kuhn</span> <a href=\"#narrow/channel/509433-Brownian-motion/topic/.60HasLocallyIntegrableSup.60.20and.20friends/near/558912368\">said</a>:</p>\n<blockquote>\n<p>I believe we do need additional continuity assumptions (e.g. cadlag) to show stability for HasLocallyIntegrableSup (or for it's non-local version). Otherwise, there'll be problems with the sup possibly not being measurable.<br>\nLet me know if I'm overlooking something, else I'll be adding the assumption in the statement.</p>\n</blockquote>\n<p>The measurability of the supremum is something that I had overlooked. If you assume in <code>HasLocallyIntegrableSup</code> a stronger measurability condition, for instance that the sup is ae strongly measurable in the pair <code>(t, œâ)</code>, then can you deduce measurability of the stopped sup? By composing the sup with the stopping time. It feels a bit weird to ask for a continuity hypothesis in this context...</p>",
        "id": 558916149,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763925425
    },
    {
        "content": "<p>Might be! I'm not very familiar with what the right properties to consider are :) I'll give this a try..</p>",
        "id": 558916231,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1763925527
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 558920309,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1763929568
    },
    {
        "content": "<p>I don't see a good way of making ae strong measurability of the sup work. E.g. you could imagine a process jumping from 0 to 1 at stopping time \\tau and being an indicator function of a vitaly set at time exactly tau. <br>\nI'm currently trying ProgressivelyMeasurable -  does that sound reasonable?</p>",
        "id": 559045958,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1763991283
    },
    {
        "content": "<p>Did you put ae strong measurability inside the locally or outside?</p>",
        "id": 559046833,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763991553
    },
    {
        "content": "<p>Actually you need strong measurability because there is no measure on the index type</p>",
        "id": 559047708,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763991780
    },
    {
        "content": "<p>An option when faced with that kind of problem is to first assume a strong assumption under which you can make the proof work (say cadlag and adapted) and first write the full proof. Then we can dissect the proof to see what was not needed.</p>",
        "id": 559048340,
        "sender_full_name": "R√©my Degenne",
        "timestamp": 1763991934
    },
    {
        "content": "<p>Adding strong measurability in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo separator=\"true\">,</mo><mi>œâ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(t, \\omega)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">t</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œâ</span><span class=\"mclose\">)</span></span></span></span> of the supremum to the definition of locally integrable sup I managed to get this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">HasLocallyIntegrableSup</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderBot</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTopology</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">MeasurableSpace</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìï</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filtration</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"n\">mŒ©</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">volume_tac</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">StronglyMeasurable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tœâ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">‚®Ü</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">tœâ</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">tœâ</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">‚Äñ‚Çë</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span>\n<span class=\"w\">    </span><span class=\"n\">Locally</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Integrable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">‚®Ü</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"bp\">‚Äñ‚Çë</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ùìï</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">P</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">isStable_hasLocallyIntegrableSup</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderBot</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTopology</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">MeasurableSpace</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">BorelSpace</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SecondCountableTopology</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">IsStable</span><span class=\"w\"> </span><span class=\"n\">ùìï</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">HasLocallyIntegrableSup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">ùìï</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">hX</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">hœÑ</span>\n<span class=\"w\">  </span><span class=\"n\">constructor</span>\n<span class=\"w\">  </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚®Ü</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">stoppedProcess</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚ä•</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">}</span><span class=\"bp\">.</span><span class=\"n\">indicator</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"bp\">‚Äñ‚Çë</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">        </span><span class=\"o\">{</span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚ä•</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">}</span><span class=\"bp\">.</span><span class=\"n\">indicator</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚®Ü</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">stoppedProcess</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">‚Äñ‚Çë</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">      </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">stoppedProcess</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">hœâ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚ä•</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hœâ</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">simp_rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">this</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hX</span><span class=\"bp\">.</span><span class=\"m\">1</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">StronglyMeasurable</span><span class=\"bp\">.</span><span class=\"n\">indicator</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"bp\">.</span><span class=\"n\">comp_measurable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tœâ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">tœâ</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">tœâ</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">untopA</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">tœâ</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">))</span>\n<span class=\"w\">        </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"bp\">‚ü©</span>\n<span class=\"w\">      </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">stoppedProcess</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_antisymm</span>\n<span class=\"w\">        </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">iSup‚ÇÇ_le</span>\n<span class=\"w\">          </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">hst</span>\n<span class=\"w\">          </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_or_ne</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚ä§</span>\n<span class=\"w\">          </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h'</span><span class=\"o\">]</span>\n<span class=\"w\">          </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">le_iSup‚ÇÇ</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"bp\">‚â•</span><span class=\"mi\">0</span><span class=\"bp\">‚àû</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">hst</span>\n<span class=\"w\">          </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">le_total</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_iSup‚ÇÇ_of_le</span><span class=\"w\"> </span><span class=\"n\">s</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">min_eq_left</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">]</span>\n<span class=\"w\">          </span><span class=\"n\">simp</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">WithTop</span><span class=\"bp\">.</span><span class=\"n\">le_untopA_iff</span><span class=\"o\">]</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_min</span>\n<span class=\"w\">          </span><span class=\"n\">simpa</span>\n<span class=\"w\">          </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_lt</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"k\">calc</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">min_le_left</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">          </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">‚ä§</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">min_eq_right</span><span class=\"o\">]</span>\n<span class=\"w\">          </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">le_iSup‚ÇÇ</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"bp\">‚â•</span><span class=\"mi\">0</span><span class=\"bp\">‚àû</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">untopA</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">‚Äñ</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"bp\">‚Äñ‚Çë</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">untopA</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"bp\">.</span><span class=\"n\">untopA_mono</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_lt</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"k\">calc</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">min_le_left</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">          </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">‚ä§</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">min_eq_right</span><span class=\"o\">]</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">trans</span>\n<span class=\"w\">          </span><span class=\"n\">simpa</span>\n<span class=\"w\">          </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">        </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">iSup‚ÇÇ_le</span>\n<span class=\"w\">          </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">hst</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">le_iSup‚ÇÇ_of_le</span><span class=\"w\"> </span><span class=\"n\">s</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">min_eq_left</span><span class=\"o\">]</span>\n<span class=\"w\">          </span><span class=\"n\">simp</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">WithTop</span><span class=\"bp\">.</span><span class=\"n\">le_untopA_iff</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hst</span>\n<span class=\"w\">          </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hst</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">min_le_right</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_lt</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"k\">calc</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">min_le_left</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">          </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">‚ä§</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">WithTop</span><span class=\"bp\">.</span><span class=\"n\">le_untopA_iff</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hst</span>\n<span class=\"w\">          </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hst</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">min_le_left</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n<span class=\"w\">          </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">          </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">          </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">ne_of_lt</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"k\">calc</span><span class=\"w\"> </span><span class=\"n\">min</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">œâ</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">min_le_left</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">          </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">‚ä§</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Measurable</span><span class=\"bp\">.</span><span class=\"n\">prodMk</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Measurable</span><span class=\"bp\">.</span><span class=\"n\">untopA</span>\n<span class=\"w\">        </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">Measurable</span><span class=\"bp\">.</span><span class=\"n\">min</span>\n<span class=\"w\">        </span><span class=\"n\">fun_prop</span>\n<span class=\"w\">        </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hœÑ</span><span class=\"bp\">.</span><span class=\"n\">measurable'</span>\n<span class=\"w\">        </span><span class=\"n\">fun_prop</span>\n<span class=\"w\">        </span><span class=\"n\">fun_prop</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">change</span><span class=\"w\"> </span><span class=\"n\">MeasurableSet</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">tœâ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">Œ©</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚ä•</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">œÑ</span><span class=\"w\"> </span><span class=\"n\">tœâ</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">}</span>\n<span class=\"w\">      </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">measurableSet_lt</span>\n<span class=\"w\">      </span><span class=\"n\">fun_prop</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hœÑ</span><span class=\"bp\">.</span><span class=\"n\">measurable'</span>\n<span class=\"w\">      </span><span class=\"n\">fun_prop</span>\n<span class=\"w\">  </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I proved measurability in the proof of stability. It is long because not cleaned up but it's actually not difficult, it is just proving that the stopped sup is equal to the sup composed with the stopping time min t.</p>",
        "id": 559060812,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763994710
    },
    {
        "content": "<p>Currently, <a href=\"https://remydegenne.github.io/brownian-motion/blueprint/sect0004.html#lem:hasLocallyIntegrableSup_of_locally_classDL\">Lemma 9.49</a> requires every sample path to be cadlag. I think it should be true assuming a.e. cadlag instead by <a href=\"https://remydegenne.github.io/brownian-motion/blueprint/sect0004.html#lem:local_induction\">Lemma 9.15</a> and <a href=\"https://remydegenne.github.io/brownian-motion/blueprint/sect0004.html#lem:locally_isCadlag\">Lemma 9.20</a></p>",
        "id": 559077158,
        "sender_full_name": "Kexing Ying",
        "timestamp": 1763998062
    },
    {
        "content": "<p>That's very possible, I put everywhere c√†dl√†g just to be sure but I didn't think much about it.</p>",
        "id": 559078055,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763998245
    },
    {
        "content": "<p>Thanks! I'd been getting the same, but in an even more convoluted way. I'll add the integrability part and integrate it with the rest.</p>",
        "id": 559103686,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1764003899
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"703970\">Etienne Marion</span> <a href=\"#narrow/channel/509433-Brownian-motion/topic/.60HasLocallyIntegrableSup.60.20and.20friends/near/559046833\">said</a>:</p>\n<blockquote>\n<p>Did you put ae strong measurability inside the locally or outside?</p>\n</blockquote>\n<p>I guess in this case as they are stable properties it doesn't matter since <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mrow><mi>l</mi><mi>o</mi><mi>c</mi></mrow></msub><mo>‚à©</mo><msub><mi>Q</mi><mrow><mi>l</mi><mi>o</mi><mi>c</mi></mrow></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mi>P</mi><mo>‚à©</mo><mi>Q</mi><msub><mo stretchy=\"false\">)</mo><mrow><mi>l</mi><mi>o</mi><mi>c</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">P_{loc} \\cap Q_{loc} = (P \\cap Q)_{loc}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oc</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à©</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oc</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à©</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oc</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> but we should be careful if we need to decide between <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mrow><mi>l</mi><mi>o</mi><mi>c</mi></mrow></msub><mo>‚à™</mo><msub><mi>Q</mi><mrow><mi>l</mi><mi>o</mi><mi>c</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">P_{loc} \\cup Q_{loc}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oc</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à™</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oc</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>P</mi><mo>‚à™</mo><mi>Q</mi><msub><mo stretchy=\"false\">)</mo><mrow><mi>l</mi><mi>o</mi><mi>c</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">(P \\cup Q)_{loc}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à™</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal mtight\">oc</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> since they are not the same</p>",
        "id": 560122683,
        "sender_full_name": "Kexing Ying",
        "timestamp": 1764068176
    },
    {
        "content": "<p>For ClassD and ClassDL, I think in they're current definition (Adapted + some uniform integrability condition) they won't be stable. Strengthening <code>Adapted</code> to <code>ProgMeasurable</code> fixes this. Is this fine to do? (Afaict we later assume RightContinuous anyway when showing these properties, and Adapted + RightContinuous implies ProgMeasurable)</p>",
        "id": 560730940,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1764319238
    },
    {
        "content": "<p>I‚Äôm sorry about all those measurability issues, I completely overlooked them, I am too used to measurability being obvious / continuous processes.</p>",
        "id": 560734748,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1764320386
    },
    {
        "content": "<p>It's fine. We are collectively refining both the code and the blueprint together.</p>",
        "id": 560735173,
        "sender_full_name": "R√©my Degenne",
        "timestamp": 1764320489
    },
    {
        "content": "<p>No problem, just want to make sure I'm not making any breaking changes to the plan :)</p>",
        "id": 560753735,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1764326332
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"496319\">Nikolas Kuhn</span> <a href=\"#narrow/channel/509433-Brownian-motion/topic/.60HasLocallyIntegrableSup.60.20and.20friends/near/560730940\">said</a>:</p>\n<blockquote>\n<p>For ClassD and ClassDL, I think in they're current definition (Adapted + some uniform integrability condition) they won't be stable. Strengthening <code>Adapted</code> to <code>ProgMeasurable</code> fixes this. Is this fine to do? (Afaict we later assume RightContinuous anyway when showing these properties, and Adapted + RightContinuous implies ProgMeasurable)</p>\n</blockquote>\n<p>I think I encountered the same measurability issue when I want to prove that a DL process is locally of class D, so I guess <code>ProgMeasurable</code> is in some sense necessary when we prove these local properties. May I also use this new definition of class D/DL in my work?</p>",
        "id": 560902257,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1764411285
    },
    {
        "content": "<p>Of course! <br>\nI made this a minimal PR here: <a href=\"https://github.com/leanprover-community/mathlib4/pull/319\">#319</a></p>",
        "id": 560903212,
        "sender_full_name": "Nikolas Kuhn",
        "timestamp": 1764412172
    },
    {
        "content": "<p>Or we could have gone the other way and assume only product-measurability of the process, both in DL and D definitions. Instead of adaptedness. Kallenberg does it, for example (page 211), although he uses only the class D.</p>",
        "id": 570561356,
        "sender_full_name": "Wojciech Czernous",
        "timestamp": 1769608000
    },
    {
        "content": "<p>It has the stability property then. And DL is locally D, as well.</p>",
        "id": 570562335,
        "sender_full_name": "Wojciech Czernous",
        "timestamp": 1769608233
    }
]