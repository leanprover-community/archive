[
    {
        "content": "<p>In Mathlib, there is a definition <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=StieltjesFunction#doc\">docs#StieltjesFunction</a>, which is a right-continuous monotone function from <code>ℝ</code> to <code>ℝ</code>. From such a function, we can get a measure <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Measure/Stieltjes.html#StieltjesFunction.measure\">StieltjesFunction.measure</a> on <code>ℝ</code>. And the inverse operation of that is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Probability/CDF.html#ProbabilityTheory.cdf\">ProbabilityTheory.cdf</a>.</p>\n<p>In the project, we will define the predictable quadratic variation of a local martingale on some index set <code>T</code> satisfying some order/topology/measurability assumptions. The typical example is <code>ℝ≥0</code>. <br>\nThe quadratic variation is a process with right-continuous monotone paths, so the paths are similar to Stieltjes functions but they are defined on <code>T</code> (for example <code>ℝ≥0</code>) instead of <code>ℝ</code>. For each one of those paths, we will want to get a measure to integrate against.</p>\n<p>What I'm getting at is that we need to generalize <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=StieltjesFunction#doc\">docs#StieltjesFunction</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=StieltjesFunction.measure#doc\">docs#StieltjesFunction.measure</a> to a class of domains that includes at least <code>ℝ≥0</code>.<br>\nWe could perhaps generalize the code defining <code>StieltjesFunction</code> directly to a type satisfying a list of assumptions (to be defined), or alternatively assume that our index set <code>T</code> will always embed into <code>ℝ</code> and create a definition that goes to <code>ℝ</code>, gets a measure using the existing <code>StieltjesFunction.measure</code>, and maps it back to <code>T</code>.</p>\n<p>Do you have thoughts on the best way to do that? Anybody wants to do it?</p>",
        "id": 562099776,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1764941115
    },
    {
        "content": "<p>Another consideration: we will also want to integrate against cadlag functions of locally bounded variation at some point, so we could focus on getting a signed measure out of those for index sets that include <code>ℝ≥0</code>, and then apply that mechanism to get a measure out of the quadratic variation.<br>\nWith that option we don't need to spend time generalizing <code>StieltjesFunction</code>.</p>",
        "id": 562102487,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1764941912
    },
    {
        "content": "<p>For me, the simplest way to get a measure from a (locally) bounded variation function is to write the function as a difference of two monotone functions (we already have that in mathlib) and then use the difference of the Stieltjes measures associated to the functions. So it would still be worth generalizing Stieltjes functions to more general index sets. Would conditionally complete linear orders be enough?</p>",
        "id": 562113929,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1764944942
    },
    {
        "content": "<p>Ah right, I forgot that we had that already. So going though monotone functions seems easier.<br>\nFor the index set, <code>ℝ≥0</code> and closed intervals of real numbers of the form <code>[0,T]</code> are my only examples for now, so yes, conditionally complete linear orders would definitely be enough.</p>",
        "id": 562114480,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1764945092
    },
    {
        "content": "<p>For reference: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/EMetricSpace/BoundedVariation.html#LocallyBoundedVariationOn.exists_monotoneOn_sub_monotoneOn\">LocallyBoundedVariationOn.exists_monotoneOn_sub_monotoneOn</a><br>\nWe will need a version of that result that takes a right-continuous function and returns two monotone right-continuous functions.</p>",
        "id": 562117900,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1764945933
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/channel/509433-Brownian-motion/topic/Quadratic.20variation.20and.20Stietjes.20functions/near/562114480\">said</a>:</p>\n<blockquote>\n<p>Ah right, I forgot that we had that already. So going though monotone functions seems easier.<br>\nFor the index set, <code>ℝ≥0</code> and closed intervals of real numbers of the form <code>[0,T]</code> are my only examples for now, so yes, conditionally complete linear orders would definitely be enough.</p>\n</blockquote>\n<p>ok, let me have a look.</p>",
        "id": 562121289,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1764946782
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> generalized <code>StieltjesFunction.measure</code> to <code>[ConditionallyCompleteLinearOrder R] [TopologicalSpace R] [OrderTopology R] [MeasurableSpace R] [BorelSpace R] [SecondCountableTopology R] [DenselyOrdered R]</code> (this is now in Mathlib)</p>",
        "id": 563707010,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1765739623
    }
]