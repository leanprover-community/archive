[
    {
        "content": "<p>It seems like there are many ways to refer to the valuation ring. I've been proving things about it using Valued.integer (which is really a no extra things over Valuation.integer). There's also Valuation.Integers which is a Prop between a domain O and field F and the expected algebra between them.</p>",
        "id": 502138125,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740601669
    },
    {
        "content": "<p>Perhaps it will be easier to reuse results if there's a consistent way to refer to said subring?</p>",
        "id": 502138233,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740601701
    },
    {
        "content": "<p>The completion for sure has a Valued (over Zm0).</p>",
        "id": 502138735,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740601875
    },
    {
        "content": "<p>Do you ever refer to the v extended to F explicitly? Because you could then say v'.Integers also, for some arbitrary ring, which then sidesteps exactly how you define it.</p>",
        "id": 502138847,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740601921
    },
    {
        "content": "<p>The reason I bring this up is that it might be easier to work with something that seems to be an arbitrary ring (and thus the infinite products of them) than having to refer to some explicit subtypes, even more so if they come from (possibly overlapping) instances.</p>",
        "id": 502140034,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740602330
    },
    {
        "content": "<p>Or, this is a refactor with little profit. I'm just not exactly sure how much reuse there currently is between these specific completion valuation rings made directly from a prime ideal (IDD.hOS) and thus Valued foo Zm0 vs arbitrary generalized results.</p>",
        "id": 502140646,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740602555
    },
    {
        "content": "<p>If this is about <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/main/FLT/QuaternionAlgebra/NumberField.lean\">https://github.com/ImperialCollegeLondon/FLT/blob/main/FLT/QuaternionAlgebra/NumberField.lean</a> then I am totally open to other suggestions about how to define these groups. I just copied what was used in the definition of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DedekindDomain.FiniteAdeleRing#doc\">docs#DedekindDomain.FiniteAdeleRing</a> . Do you think we should be doing something else in (a) the aforementioned file (b) the definition of finite adele ring?</p>",
        "id": 502155046,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740608437
    },
    {
        "content": "<p>This was in context of the other thread that mentioned adicCompletionIntegers wrt Hecke algebras. Currently on a plane, so having some issues loading a Mathlib cache to see how much work it would be to change FiniteAdeleRing. Because that's what it seems like your QuaternionAlgebra file is using. Although the localFullLevel defn uses the Integers also. Once I get better internet, I can try turning adicCompletionIntegers into an abbrev, or something similar.</p>",
        "id": 502158465,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740609986
    },
    {
        "content": "<p>So my answer is, it makes sense that you did (a) because of how (b) is. And I'd like to experiment with making (b) better. It probably doesn't make sense to change (a) before changing (b) because of how much (a) relies on (b)</p>",
        "id": 502158848,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1740610182
    },
    {
        "content": "<p>Note also <a href=\"https://github.com/leanprover-community/mathlib4/pull/20021\">#20021</a> . <span class=\"user-mention\" data-user-id=\"268315\">@Anatole Dedecker</span> what is the status of that work?</p>",
        "id": 502159387,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740610420
    },
    {
        "content": "<p>I think Anatole is in vacations this week and maybe won’t see this message immediately.</p>",
        "id": 502160131,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1740610754
    },
    {
        "content": "<p>The status is that I made a second version which looks satisfying to me, and then I got distracted by other things. I will try to make it a proper PR before Monday, because I'm quite busy next week</p>",
        "id": 502366405,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1740686251
    },
    {
        "content": "<p>Just as it is (presumably) impossible to have <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mn>2</mn></msub><mo stretchy=\"false\">(</mo><mi>R</mi><mo>×</mo><mi>S</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>G</mi><msub><mi>L</mi><mn>2</mn></msub><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>G</mi><msub><mi>L</mi><mn>2</mn></msub><mo stretchy=\"false\">(</mo><mi>S</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">GL_2(R\\times S)=GL_2(R)\\times GL_2(S)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mclose\">)</span></span></span></span>, it will be impossible to have GL_2 of a restricted product being restricted product of the GL_2's, so there are going to be a bunch of ugly isomorphisms which I'm going to have to carry around :-/ So I suspect that before we go too much further with this it would be good to get these restricted products in because we might want to redefine finite adeles afterwards, and part of FLT is full of GL_2(finite adeles).</p>",
        "id": 502420686,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740694492
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/20021\">#20021</a> is ready I believe. Tell me if you want me to split the PR and/or the files.</p>",
        "id": 503307526,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1741104753
    },
    {
        "content": "<blockquote>\n<p>Please run 'lake exe mk_all' to regenerate the import all files</p>\n</blockquote>",
        "id": 503314606,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1741106506
    }
]