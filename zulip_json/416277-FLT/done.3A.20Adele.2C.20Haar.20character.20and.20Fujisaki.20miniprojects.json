[
    {
        "content": "<p>OK with all the recent PRs merged, we have a sorry-free <code>NumberField.FiniteAdeleRing.DivisionAlgebra.finiteDoubleCoset</code>: if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is a number field and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> is finite-dimensional central simple <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-algebra which is a division algebra, then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mo>×</mo></msup><mi mathvariant=\"normal\">\\</mi><mo stretchy=\"false\">(</mo><mi>D</mi><msub><mo>⊗</mo><mi>K</mi></msub><msubsup><mi mathvariant=\"double-struck\">A</mi><mi>K</mi><mi>f</mi></msubsup><msup><mo stretchy=\"false\">)</mo><mo>×</mo></msup></mrow><annotation encoding=\"application/x-tex\">D^\\times\\backslash(D\\otimes_K\\mathbb{A}_K^f)^\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0213em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">×</span></span></span></span></span></span></span></span><span class=\"mord\">\\</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">⊗</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2605em;vertical-align:-0.2935em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.967em;\"><span style=\"top:-2.4065em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2935em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">×</span></span></span></span></span></span></span></span></span></span></span> is compact, where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">A</mi><mi>K</mi><mi>f</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_K^f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2605em;vertical-align:-0.2935em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.967em;\"><span style=\"top:-2.4065em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2935em;\"><span></span></span></span></span></span></span></span></span></span> is the finite adeles of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>, and thus if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi><mo>⊆</mo><mo stretchy=\"false\">(</mo><mi>D</mi><msub><mo>⊗</mo><mi>K</mi></msub><msubsup><mi mathvariant=\"double-struck\">A</mi><mi>K</mi><mi>f</mi></msubsup><msup><mo stretchy=\"false\">)</mo><mo>×</mo></msup></mrow><annotation encoding=\"application/x-tex\">U\\subseteq(D\\otimes_K\\mathbb{A}_K^f)^\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊆</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">⊗</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2605em;vertical-align:-0.2935em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.967em;\"><span style=\"top:-2.4065em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2935em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">×</span></span></span></span></span></span></span></span></span></span></span> is an open subgroup then the double coset space <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mo>×</mo></msup><mi mathvariant=\"normal\">\\</mi><mo stretchy=\"false\">(</mo><mi>D</mi><msub><mo>⊗</mo><mi>K</mi></msub><msubsup><mi mathvariant=\"double-struck\">A</mi><mi>K</mi><mi>f</mi></msubsup><msup><mo stretchy=\"false\">)</mo><mo>×</mo></msup><mi mathvariant=\"normal\">/</mi><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">D^\\times\\backslash(D\\otimes_K\\mathbb{A}_K^f)^\\times/U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0213em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">×</span></span></span></span></span></span></span></span><span class=\"mord\">\\</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">⊗</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2605em;vertical-align:-0.2935em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.967em;\"><span style=\"top:-2.4065em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2935em;\"><span></span></span></span></span></span></span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">×</span></span></span></span></span></span></span></span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> is finite. If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> is totally real and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> is totally definite then weight 2 level <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>U</mi></mrow><annotation encoding=\"application/x-tex\">U</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">U</span></span></span></span> automorphic forms for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> are functions from this finite set to the complexes, so in particular they're finite-dimensional. </p>\n<p>All of this was known in the 1960s, let alone the 1980s, so why did we do this? There were lots of reasons: firstly, I wanted to begin the project by working on something which many people could contribute to as opposed to just people who were experts in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic Galois representations. Secondly I felt that the theory of adeles was worth developing in mathlib; ultimately we (by which I mean the community) should be doing Tate's thesis, and I am hoping that a bunch of the machinery we developed here will be helpful there. Thirdly, I gave a course on FLT last year and I wanted to make the material accessible to more than just number theorists so I lectured on this material and it just felt natural to then get it over the line.</p>\n<p>So what happens now going forwards? I think this might make a nice paper, so that's one thing. There is also the complex question of how to get some of this stuff into mathlib; FLT's Mathlib directory now stands at 548K and much of it is the background for this finiteness result. The stuff in the Mathlib directory is stuff which people felt was definitely mathlib-appropriate at the time. Quite how we're going to get it into mathlib I don't know but this problem needs to be solved.</p>\n<p>Another thing which I don't really know the answer to is this: the blueprint now comprises of several independent projects. There's the main top-down FLT project (currently chapters 2 to 3 but a lot more will be appearing soon because in 10 days' time I start lecturing on this stuff, and the blueprint will be my lecture notes). There's a self-contained write-up of the existence of Frobenius elements (chapter 8). There's the proof above (chapters 9-11). But most of these things are not really involved in the proof of FLT; most of these things are just standard stuff known to graduate students in the area. I have decided that really I would like the blueprint to represent \"FLT modulo 1980s\" and so basically most of what we have there right now doesn't fit into my vision of the blueprint at all. I don't really know what to do about this. I almost feel like I should break things off and start other repos with the proofs; the only other alternative I can think of right now is to change the blueprint software so I can have a multi-chapter \"main\" branch, and other multi-chapter \"subproject\" branches with different graphs. Right now I think my only choices are \"one blueprint per project\" (too few blueprints) and \"one blueprint per chapter\" (the current choice, which is too many). I think that in the short term I am simply going to switch back to one blueprint per project and then delete a bunch of the completed chapters, so there will be fully-compiling LaTeX correpsonding to fully-compiling Lean code but no way of viewing anything on the website. This is because I've had a year of goofing around with adeles but now I want to get the heart of the matter and I want the public blueprint to represent that (i.e. FLT modulo 1980s) and right now it represents a very different (interesting, but different) story.</p>",
        "id": 567539073,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768225966
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/done.3A.20Adele.2C.20Haar.20character.20and.20Fujisaki.20miniprojects/near/567539073\">said</a>:</p>\n<blockquote>\n<p>FLT's Mathlib directory now stands at 548K</p>\n</blockquote>\n<p><span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span> surely you mean ~50K instead?</p>",
        "id": 567539763,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1768226117
    },
    {
        "content": "<p>I just computed it myself and it came out as ~7k lines of code</p>",
        "id": 567544035,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1768227026
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>buzzard@MacBook-Pro<span class=\"w\"> </span>Mathlib<span class=\"w\"> </span>%<span class=\"w\"> </span><span class=\"nb\">pwd</span>\n/Users/buzzard/lean-projects/FLT/FLT/Mathlib\nbuzzard@MacBook-Pro<span class=\"w\"> </span>Mathlib<span class=\"w\"> </span>%<span class=\"w\"> </span>du<span class=\"w\"> </span>-sh\n548K<span class=\"w\">    </span>.\nbuzzard@MacBook-Pro<span class=\"w\"> </span>Mathlib<span class=\"w\"> </span>%\n</code></pre></div>",
        "id": 567558503,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768230077
    },
    {
        "content": "<p>Ah, so you're talking about different metrics. Like Yael, I had assumed you meant total lines of code --- you're computing the total size of all files.</p>",
        "id": 567563517,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1768231148
    },
    {
        "content": "<p>I just wrote what I wrote because I didn't immediately know how to count total lines of lean code :-)</p>",
        "id": 567564485,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768231331
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> <code>brew install tokei</code> followed by <code>tokei FLT/Mathlib</code> (or <code>tokei FLT</code> for the whole project). I get...</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⊙</span><span class=\"w\">  </span><span class=\"n\">tokei</span><span class=\"w\"> </span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"w\">                                                                                                                                                                                                                                                             </span><span class=\"n\">julian</span><span class=\"bp\">@</span><span class=\"n\">Mac</span>\n<span class=\"bp\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>\n<span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"w\">              </span><span class=\"n\">Files</span><span class=\"w\">        </span><span class=\"n\">Lines</span><span class=\"w\">         </span><span class=\"n\">Code</span><span class=\"w\">     </span><span class=\"n\">Comments</span><span class=\"w\">       </span><span class=\"n\">Blanks</span>\n<span class=\"bp\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>\n<span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\">                     </span><span class=\"mi\">90</span><span class=\"w\">         </span><span class=\"mi\">6930</span><span class=\"w\">         </span><span class=\"mi\">5026</span><span class=\"w\">          </span><span class=\"mi\">873</span><span class=\"w\">         </span><span class=\"mi\">1031</span>\n<span class=\"bp\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>\n<span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\">                    </span><span class=\"mi\">90</span><span class=\"w\">         </span><span class=\"mi\">6930</span><span class=\"w\">         </span><span class=\"mi\">5026</span><span class=\"w\">          </span><span class=\"mi\">873</span><span class=\"w\">         </span><span class=\"mi\">1031</span>\n<span class=\"bp\">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>\n</code></pre></div>\n<p>on <code>main</code>.</p>",
        "id": 567566163,
        "sender_full_name": "Julian Berman",
        "timestamp": 1768231659
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 567594219,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768237699
    },
    {
        "content": "<p>Concerning Tate's thesis, this is the projet me and <span class=\"user-mention\" data-user-id=\"300245\">@Filippo A. E. Nuccio</span> want to give to a PhD student, so please don't work on it, or at least contact us if you already started or absolutely need it.</p>",
        "id": 567619887,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768244266
    },
    {
        "content": "<p>Does this project include Fourier analysis on locally compact abelian groups in general?</p>",
        "id": 567629153,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1768246981
    },
    {
        "content": "<p>It is supposed to start in September 2026, so there is nothing really precise at the moment.</p>",
        "id": 567631970,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768247944
    },
    {
        "content": "<p>I might need Pontryagin dual for arbitrary locally compact abelian groups for FLT and Yael and I had been claiming that we will do it in some distant future. Should we avoid it then?</p>",
        "id": 567633193,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1768248308
    },
    {
        "content": "<p>Give a a two weeks (we will meet to discuss this), but I don't think so. It could even help to unlock more number theoretic results.</p>",
        "id": 567634115,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1768248574
    },
    {
        "content": "<p>I'm certainly not doing Tate's thesis in FLT, but I feel like we've got a bunch of helpful prerequisites.</p>",
        "id": 567644542,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768252429
    },
    {
        "content": "<p>Well, Odlyzko will need analytic continuation of Dedekind zeta, and right now Tate's thesis seems like our best bet...</p>",
        "id": 567644758,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1768252520
    },
    {
        "content": "<p>All this is true but none of it is in my immediate plans. The big goal I want to work towards now is reducing FLT to 1980s + a certain modularity lifting theorem, and this will be the subject of my lectures this term.</p>",
        "id": 567650481,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768255003
    },
    {
        "content": "<p>Tate's thesis is beautiful, but if we just need the analytic continuation of the Dedekind zeta function surely there are way simpler ways to prove that. It's been a lot of years but I seem to recall it was just a few pages of complex analysis without any really heavy lifting or big dependencies?</p>\n<p>If someone did wish to go the Tate's thesis route, would that actually open the way for further generalization in the future? All of the expositions of Tate's thesis that I'm aware of don't really prove anything more general than is required for the 1 dim case, so future work would need to rewrite everything anyway.</p>\n<p>Not trying to be contrarian, just asking.</p>",
        "id": 567907561,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1768368935
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130170\">Ryan Smith</span> <a href=\"#narrow/channel/416277-FLT/topic/done.3A.20Adele.2C.20Haar.20character.20and.20Fujisaki.20miniprojects/near/567907561\">said</a>:</p>\n<blockquote>\n<p>Tate's thesis is beautiful, but if we just need the analytic continuation of the Dedekind zeta function surely there are way simpler ways to prove that. It's been a lot of years but I seem to recall it was just a few pages of complex analysis without any really heavy lifting or big dependencies?</p>\n<p>If someone did wish to go the Tate's thesis route, would that actually open the way for further generalization in the future? All of the expositions of Tate's thesis that I'm aware of don't really prove anything more general than is required for the 1 dim case, so future work would need to rewrite everything anyway.</p>\n<p>Not trying to be contrarian, just asking.</p>\n</blockquote>\n<p>Easier to prove doesn’t necessarily translate to easier to formalize. Iirc, earlier proofs of the functional equation for the Dedekind zeta function heavily rely on the geometry of numbers and things like counting lattice points in domains, which can be tricky to formally work with. I think the fact that Tate’s thesis abstracts this geometry into just formal properties of the Fourier transform for the adeles is a bonus for formalization.</p>",
        "id": 568032489,
        "sender_full_name": "Stepan Nesterov",
        "timestamp": 1768408981
    },
    {
        "content": "<p>That's a really good point. I wonder what dependencies Tate's thesis would require and if most of them are already present. Basic Fourier analysis is already in mathlib I think? </p>\n<p>As a side note, does that mean we don't have the class number formula formalized?</p>",
        "id": 568052148,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1768414681
    },
    {
        "content": "<p>We do have the class number formula, its <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=NumberField.tendsto_sub_one_mul_dedekindZeta_nhdsGT#doc\">docs#NumberField.tendsto_sub_one_mul_dedekindZeta_nhdsGT</a></p>",
        "id": 568053146,
        "sender_full_name": "Chris Birkbeck",
        "timestamp": 1768414983
    },
    {
        "content": "<p>The big missing thing is Pontrjagin duality. And then there are other things such as computation of the canonical norm on a p-adic field (the norm measuring how additive Haar measure is scaled) which are in FLT in some form but are not upstreamed yet.</p>",
        "id": 568055814,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768415979
    },
    {
        "content": "<p>Only sort of related but do we have enough Galois cohomology / class field theory in mathlib or FLT?</p>",
        "id": 568287090,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1768502388
    },
    {
        "content": "<p>Enough class field theory for what?</p>",
        "id": 568287711,
        "sender_full_name": "Stepan Nesterov",
        "timestamp": 1768502597
    },
    {
        "content": "<p>The full proof of FLT requires Poitou-Tate duality, and from what I understand, there is currently no plan to formalize it fully</p>",
        "id": 568287889,
        "sender_full_name": "Stepan Nesterov",
        "timestamp": 1768502661
    },
    {
        "content": "<p>That makes sense. I was looking through the section of FLT for known in the 1980s and didn't see very assumptions, so I was wondering if more was formalized than I realized or we just hadn't gotten to the point of needing to explicitly make an assumption.</p>",
        "id": 568291009,
        "sender_full_name": "Ryan Smith",
        "timestamp": 1768503771
    },
    {
        "content": "<p>I think that now we're at the point where we could just about state Poitou-Tate and I'd heard rumours that this was one of the many autoformalization targets but we're yet to discover whether AI can write maintainable/PRable code.</p>",
        "id": 568317394,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768513865
    }
]