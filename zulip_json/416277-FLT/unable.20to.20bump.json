[
    {
        "content": "<p>so <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/273\">FLT#273</a> is still held up on \"uncaught exception: parser 'subscript' was not found\", i.e. blocked on <a href=\"https://github.com/leanprover/lean4/pull/6325\">lean4#6325</a> . It's just beginning to get a bit frustrating that we can't bump mathlib, but I still have plenty of other FLT-related things to think about. Is there any way around this issue or do I just have to wait? The bump branch builds fine on my machine.</p>",
        "id": 489477868,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734439900
    },
    {
        "content": "<p>One solution would be to temporarily remove the <code>checkdecls</code> call in CI</p>",
        "id": 489481773,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1734440901
    },
    {
        "content": "<p>Yes, and it might be helpful to open a task issue as a reminder to uncomment this once <a href=\"https://github.com/leanprover/lean4/pull/6325\">lean4#6325</a> is merged.</p>",
        "id": 489513335,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1734449486
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> To make sure the <code>checkdecls</code> and most of the other CI steps will pass you can still locally run the <code>run_before_push.sh</code> <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/main/scripts/run_before_push.sh\">here</a>.</p>",
        "id": 489514070,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1734449699
    },
    {
        "content": "<p>So I get</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">FLT</span><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">leanblueprint</span><span class=\"w\"> </span><span class=\"n\">checkdecls</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">parser</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">subscript'</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n<span class=\"n\">Command</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">checkdecls</span><span class=\"w\"> </span><span class=\"n\">blueprint</span><span class=\"bp\">/</span><span class=\"n\">lean_decls'</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">non</span><span class=\"bp\">-</span><span class=\"n\">zero</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"w\"> </span><span class=\"mf\">1.</span>\n<span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">FLT</span><span class=\"bp\">$</span>\n</code></pre></div>\n<p>and</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">buzzard</span><span class=\"bp\">@</span><span class=\"n\">buster</span><span class=\"o\">:</span><span class=\"bp\">~/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">projects</span><span class=\"bp\">/</span><span class=\"n\">FLT</span><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"bp\">./</span><span class=\"n\">scripts</span><span class=\"bp\">/</span><span class=\"n\">run_before_push</span><span class=\"bp\">.</span><span class=\"n\">sh</span>\n<span class=\"n\">Checking</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">correct</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"bp\">...</span>\n<span class=\"o\">[</span><span class=\"n\">snip</span><span class=\"o\">]</span>\n<span class=\"bp\">✅</span><span class=\"w\"> </span><span class=\"n\">Web</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">blueprint</span><span class=\"w\"> </span><span class=\"n\">generated</span><span class=\"w\"> </span><span class=\"n\">successfully</span><span class=\"bp\">.</span>\n<span class=\"n\">Checking</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">declarations</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">blueprint</span><span class=\"w\"> </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">codebase</span><span class=\"bp\">...</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">parser</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">subscript'</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n<span class=\"bp\">❌</span><span class=\"w\"> </span><span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">declarations</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">blueprint</span><span class=\"w\"> </span><span class=\"k\">do</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">declarations</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">codebase</span><span class=\"bp\">.</span>\n<span class=\"n\">Press</span><span class=\"w\"> </span><span class=\"n\">any</span><span class=\"w\"> </span><span class=\"n\">key</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"bp\">...</span>\n</code></pre></div>\n<p>But you're suggesting that it's OK to push anyway, and presumably I get a red x on the repo, but you're saying that this is not the end of the world?</p>",
        "id": 489519303,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734451126
    },
    {
        "content": "<p>If you remove the <code>checkdecls</code> step from CI, then you won't get the <span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> on the repo</p>",
        "id": 489519831,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1734451265
    },
    {
        "content": "<p>Perhaps it's about time I learnt something about CI for my own project.</p>",
        "id": 489521035,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734451612
    },
    {
        "content": "<p>Just comment out from lines 118 to 120 included here <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/main/.github/workflows/blueprint.yml\">https://github.com/ImperialCollegeLondon/FLT/blob/main/.github/workflows/blueprint.yml</a></p>",
        "id": 489521068,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1734451620
    },
    {
        "content": "<p>In the bump PR <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/273\">https://github.com/ImperialCollegeLondon/FLT/pull/273</a></p>",
        "id": 489521129,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1734451643
    },
    {
        "content": "<p>I had independently come to the conclusion that this might be the thing to do (and also that to comment out a line I use <code>#</code>), but what I don't understand is why is the file <code>blueprint.yml</code> being parsed when I make a PR?</p>",
        "id": 489521964,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734451899
    },
    {
        "content": "<p>It defines what jobs github runs when you make a pr</p>",
        "id": 489522109,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734451934
    },
    {
        "content": "<p>In particular, line 3-26 define <em>when</em> things happen, and 15-25 say \"when you make a pr\"</p>",
        "id": 489522319,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1734452003
    },
    {
        "content": "<p>What is telling github \"look at the file <code>blueprint.yml</code>\"? Or is it looking at all the files in .github all of the time? (just to be clear, I'm not completely computer-illiterate, but I've never looked in a .github directrory before)</p>",
        "id": 489522683,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734452114
    },
    {
        "content": "<p>Briefly, github looks for all yml files inside that folder for tasks</p>",
        "id": 489522815,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1734452155
    },
    {
        "content": "<p>Some programs actively tell computers to \"do something\". Sometimes there are already \"do something\" programs like github which read a \"roadmap\" that you put in specific sorts of files in specific places. Here Github is the \"do something\" program. It is checking .github for all the \"roadmaps\" and doing stuff that they say.</p>",
        "id": 489523328,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1734452299
    },
    {
        "content": "<p>OK, so hopefully I disabled checkdecls in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/273\">FLT#273</a> and I opened the issue <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/287\">FLT#287</a> to track this.</p>",
        "id": 489524202,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734452556
    }
]