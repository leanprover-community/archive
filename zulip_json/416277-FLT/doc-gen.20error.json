[
    {
        "content": "<p>We got an auto-generated issue <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/471\">FLT#471</a> two days ago saying that bumping needed to be done manually. I just spent over an hour bumping, fixing deprecations, shaking (which took surprisingly long because <code>lake exe shake --fix</code> is broken right now for some reason, it doesn't delete imports, I opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/24743\">#24743</a>) and linting, and made <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/476\">FLT#476</a> , but CI is failing for some reason to do with doc-gen:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>Run scripts/build_docs.sh\ninfo: docbuild: no previous manifest, creating one from scratch\ninfo: leanprover/doc-gen4: cloning https://github.com/leanprover/doc-gen4\nerror: /home/runner/work/FLT/FLT/docbuild/../.lake/packages/doc-gen4: revision not found 'v4.20.0-rc5'\nError: Process completed with exit code 1.\n</code></pre></div>\n<p>Is this just a case of \"someone else has to bump doc-gen to rc5 so we just wait\" or is this still FLT's problem? I have very little understanding of FLT's relation with doc-gen now.</p>",
        "id": 517258641,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746883736
    },
    {
        "content": "<p>CC <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> I think we forgot the tag for rc3/4/5?</p>",
        "id": 517258690,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1746883788
    },
    {
        "content": "<p>What do I watch to check what's going on? I'm assuming it's not <a href=\"https://github.com/leanprover-community/doc-gen\">https://github.com/leanprover-community/doc-gen</a> ? I am totally lost about how to track this issue. Edit: oh found it, it's <a href=\"https://github.com/leanprover/doc-gen4\">https://github.com/leanprover/doc-gen4</a> (as it indeed says in the error message <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span> )</p>",
        "id": 517268327,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746891389
    },
    {
        "content": "<p>You can check the toolchain version <a href=\"https://github.com/leanprover/doc-gen4/blob/main/lean-toolchain\">here</a>.</p>",
        "id": 517268701,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1746891676
    },
    {
        "content": "<p>I would try and bump doc-gen4 but this seems to involve understanding <a href=\"https://github.com/mhuisi/lean4-cli\">https://github.com/mhuisi/lean4-cli</a> and <a href=\"https://github.com/fgdorais/lean4-unicode-basic\">https://github.com/fgdorais/lean4-unicode-basic</a> , neither of which I have even heard of :-/</p>",
        "id": 517268823,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746891774
    },
    {
        "content": "<p>I should perhaps stress that I am not at all in a hurry here :-)</p>",
        "id": 517268852,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746891792
    },
    {
        "content": "<p>For release-tagging purposes I've opened the three related <a href=\"https://github.com/leanprover/doc-gen4/pulls\">PRs</a>.</p>",
        "id": 517271259,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1746893497
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"395550\">Henrik Böving</span> <a href=\"#narrow/channel/416277-FLT/topic/doc-gen.20error/near/517258690\">said</a>:</p>\n<blockquote>\n<p>CC <span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> I think we forgot the tag for rc3/4/5?</p>\n</blockquote>\n<p>Indeed... I never wrote any documentation for the \"lightweight release\" process, where we only try to bump the minimal set of repositories to the latest release candidate, so was only tagging <code>lean4checker</code> and <code>mathlib4</code>, but <code>doc-gen4</code> needs to be done too.</p>",
        "id": 517425075,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747023122
    },
    {
        "content": "<p>Okay, those PRs are merged, and doc-gen4 is tagged at rc3, rc4, and rc5. Hopefully this should unblock people bumping downstream repos to rc5.</p>",
        "id": 517427902,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747025111
    },
    {
        "content": "<p>Thank you, Kim!</p>",
        "id": 517433355,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1747027937
    },
    {
        "content": "<p>I still have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">runner</span><span class=\"bp\">/</span><span class=\"n\">work</span><span class=\"bp\">/</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">docbuild</span><span class=\"bp\">/../.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">doc</span><span class=\"bp\">-</span><span class=\"n\">gen4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">20</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc5'</span>\n</code></pre></div>\n<p>on <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/476\">FLT#476</a> CI, even though <a href=\"https://github.com/leanprover/doc-gen4/pull/281\">https://github.com/leanprover/doc-gen4/pull/281</a> is merged. Does doc-gen need a tag or something? Or am I just being impatient and I have to wait for some other task to finish? Sorry for being so clueless, I'm no longer sure what I should be tracking.</p>",
        "id": 517447406,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747033768
    },
    {
        "content": "<p>Indeed <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> <a href=\"/user_uploads/3121/PZGUudDvbQ0OfW71u2XVP8IG/image.png\">it looks like you missed rc5</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/PZGUudDvbQ0OfW71u2XVP8IG/image.png\" title=\"it looks like you missed rc5\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"409x292\" src=\"/user_uploads/thumbnail/3121/PZGUudDvbQ0OfW71u2XVP8IG/image.png/840x560.webp\"></a></div>",
        "id": 517448210,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1747033994
    },
    {
        "content": "<p>Sigh, done now.</p>",
        "id": 517478293,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747041417
    },
    {
        "content": "<p>Thanks! Looks like the job is running in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/476\">FLT#476</a> ! It's interesting the chaos that this caused; they ran into it in 8d sphere-packing  and at least one other project.</p>",
        "id": 517503280,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747047492
    }
]