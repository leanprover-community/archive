[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/done.3A.20Adele.2C.20Haar.20character.20and.20Fujisaki.20miniprojects/near/567539073\">said</a>:</p>\n<blockquote>\n<p>There is also the complex question of how to get some of this stuff into mathlib; FLT's Mathlib directory now stands at 548K and much of it is the background for this finiteness result. The stuff in the Mathlib directory is stuff which people felt was definitely mathlib-appropriate at the time. Quite how we're going to get it into mathlib I don't know but this problem needs to be solved.</p>\n</blockquote>\n<p>Trying to review the work needed here, but only got up to <code>LinearAlgebra/</code>. I might continue tomorrow.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Bilinear</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">Part</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">SemialgHom</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">depends</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">definition</span>\n<span class=\"w\">    </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">LinearEquiv</span><span class=\"bp\">.</span><span class=\"n\">mulLeft</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mulRight</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">PRd</span><span class=\"w\"> </span><span class=\"n\">now</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Hom</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Defines</span><span class=\"w\"> </span><span class=\"n\">SemialgHom</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">First</span><span class=\"w\"> </span><span class=\"n\">step</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">probably</span><span class=\"w\"> </span><span class=\"n\">getting</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"w\"> </span><span class=\"n\">consensus</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">desirable</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">Part</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">SemialgHom</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">depends</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">definition</span>\n<span class=\"w\">    </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">AlgEquiv</span><span class=\"bp\">.</span><span class=\"n\">piCongrFiberwise</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">PRd</span><span class=\"w\"> </span><span class=\"n\">now</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Tower</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Defines</span><span class=\"w\"> </span><span class=\"n\">AlgEquiv</span><span class=\"bp\">.</span><span class=\"n\">extendScalars</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AlgHom</span><span class=\"bp\">.</span><span class=\"n\">changeScalars</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">AlgEquiv</span><span class=\"bp\">.</span><span class=\"n\">changeScalars</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Might</span><span class=\"w\"> </span><span class=\"n\">need</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">written</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">them</span><span class=\"bp\">.</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Central</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Subalgebra</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">culminating</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsCentral</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">⊗</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Should</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"bp\">.</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">FixedPoints</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">New</span><span class=\"w\"> </span><span class=\"n\">definitions</span><span class=\"w\"> </span><span class=\"n\">Add</span><span class=\"bp\">/</span><span class=\"n\">MulAction</span><span class=\"bp\">.</span><span class=\"n\">FixedPoints</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Probably</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">IsDirectLimit</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">New</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">IsDirectLimit</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">DirectedSystem</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Probably</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">IsQuaternionAlgebra</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">New</span><span class=\"w\"> </span><span class=\"n\">definitions</span><span class=\"w\"> </span><span class=\"n\">IsQuaternionAlgebra</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">IsTotallyDefinite</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Minimal</span><span class=\"w\"> </span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">might</span><span class=\"w\"> </span><span class=\"n\">want</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"w\"> </span><span class=\"n\">along</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">other</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">them</span><span class=\"bp\">.</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">LinearMap</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">LinearMap</span><span class=\"bp\">.</span><span class=\"n\">finsum_apply</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">corresponding</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Should</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">LinearMapClass?</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Module</span><span class=\"bp\">/</span><span class=\"n\">Submodule</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Subring</span><span class=\"bp\">.</span><span class=\"n\">toSubmodule</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">needs</span><span class=\"w\"> </span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">might</span><span class=\"w\"> </span><span class=\"n\">need</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">go</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"n\">another</span><span class=\"w\"> </span><span class=\"n\">file</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">AbsoluteValue</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Looks</span><span class=\"w\"> </span><span class=\"n\">like</span><span class=\"w\"> </span><span class=\"n\">reasonable</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">AbsoluteValue</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">thought</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">made</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">these</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">while</span><span class=\"w\"> </span><span class=\"n\">ago</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">will</span><span class=\"w\"> </span><span class=\"n\">try</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">what</span><span class=\"w\"> </span><span class=\"n\">happened</span><span class=\"bp\">.</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span><span class=\"bp\">/</span><span class=\"n\">Normed</span><span class=\"bp\">/</span><span class=\"n\">Ring</span><span class=\"bp\">/</span><span class=\"n\">WithAbs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">WithAbs</span><span class=\"w\"> </span><span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">seems</span><span class=\"w\"> </span><span class=\"n\">fine</span>\n<span class=\"w\">    </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">Part</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">SemialgHom</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">depends</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">definition</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Fin</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Fin</span><span class=\"bp\">.</span><span class=\"n\">pairwise_forall_two</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">seems</span><span class=\"w\"> </span><span class=\"n\">fine</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">probably</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">another</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"bp\">.</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Real</span><span class=\"bp\">/</span><span class=\"n\">Archimedean</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">exists_floor'</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">replace</span><span class=\"w\"> </span><span class=\"n\">proof</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">existing</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">exists_floor</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">#</span><span class=\"mi\">33902</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">eq_floor</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">might</span><span class=\"w\"> </span><span class=\"n\">ne</span><span class=\"w\"> </span><span class=\"n\">better</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"kn\">inline</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Set</span><span class=\"bp\">/</span><span class=\"n\">Countable</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Countable</span><span class=\"bp\">.</span><span class=\"n\">of_countable_fibres</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Set</span><span class=\"bp\">/</span><span class=\"n\">Prod</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">pi_subset_pi_of_superset</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">DoubleCoset</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">group</span><span class=\"bp\">-</span><span class=\"n\">theoretic</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"w\">    </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">two</span><span class=\"w\"> </span><span class=\"n\">topological</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"w\"> </span><span class=\"n\">need</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">go</span><span class=\"w\"> </span><span class=\"n\">elsewhere</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">depend</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">FLT</span><span class=\"bp\">.</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Quotient</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">Index</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Cool</span><span class=\"w\"> </span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">todo's</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Probably</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">Ya</span><span class=\"bp\">ë</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">pursue</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Countable</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">probably</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">file</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Determinant</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Mostly</span><span class=\"w\"> </span><span class=\"n\">straightforward</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">parts</span><span class=\"w\"> </span><span class=\"n\">depend</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">/</span><span class=\"n\">pull</span><span class=\"bp\">/</span><span class=\"mi\">26377</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Dimension</span><span class=\"bp\">/</span><span class=\"n\">Constructions</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">New</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Finite</span><span class=\"bp\">.</span><span class=\"n\">equivPi</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">depends</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">FLT</span><span class=\"bp\">.</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">TensorProduct</span><span class=\"bp\">.</span><span class=\"n\">Pi</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Matrix</span><span class=\"bp\">/</span><span class=\"n\">GeneralLinearGroup</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"mf\">1.</span><span class=\"w\"> </span><span class=\"n\">New</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">GeneralLinearGroup</span><span class=\"bp\">.</span><span class=\"n\">diagonal</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">bit</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">API</span>\n<span class=\"w\">    </span><span class=\"mf\">2.</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">GeneralLinearGroup</span><span class=\"bp\">.</span><span class=\"n\">GL2</span><span class=\"bp\">.</span><span class=\"n\">unipotent</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">redundant</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">GeneralLinearGroup</span><span class=\"bp\">.</span><span class=\"n\">upperRightHom</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Matrix</span><span class=\"bp\">/</span><span class=\"n\">Transvection</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Seems</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">New</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">FiberwiseSMul</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">small</span><span class=\"w\"> </span><span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">lemmas</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">Span</span><span class=\"bp\">/</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Seems</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">exist</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"bp\">/</span><span class=\"n\">norm_cast</span><span class=\"w\"> </span><span class=\"n\">attributes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">existing</span><span class=\"w\"> </span><span class=\"kn\">lemma</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">AlgHom</span><span class=\"bp\">.</span><span class=\"n\">rTensor</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">Basis</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">Nontrivial</span><span class=\"w\"> </span><span class=\"n\">instances</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">tensor</span><span class=\"w\"> </span><span class=\"n\">products</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Will</span><span class=\"w\"> </span><span class=\"n\">need</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">benchmark</span><span class=\"w\"> </span><span class=\"n\">run</span>\n<span class=\"bp\">./</span><span class=\"n\">FLT</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">/</span><span class=\"n\">TensorProduct</span><span class=\"bp\">/</span><span class=\"n\">FiniteFree</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"w\">    </span><span class=\"n\">LinearEquiv</span><span class=\"bp\">.</span><span class=\"n\">chooseBasis_piScalarRight</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ready</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">PR</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">unless</span><span class=\"w\"> </span><span class=\"n\">we</span><span class=\"w\"> </span><span class=\"n\">want</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">try</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">generalize</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">semirings</span><span class=\"w\"> </span><span class=\"n\">first</span>\n</code></pre></div>\n<p>Seems like a reasonable amount of available work if people want to help</p>",
        "id": 567656751,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1768258217
    },
    {
        "content": "<p>Thanks for this. I guess some of it will depend on the fact that we allow <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>⊗</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A \\otimes B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⊗</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span> to be a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span>-algebra in FLT? This would not be acceptable in mathlib.</p>",
        "id": 567697847,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1768289155
    },
    {
        "content": "<p>I don't <em>think</em> I've seen any <code>open</code>s in the files I've looked at yet, but I read pretty diagonally</p>",
        "id": 567704889,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1768292244
    },
    {
        "content": "<p>Just a heads up that I have/will be working on some upstreaming, mainly the parts that I used/wrote. Is there some way for me to tag PRs with the FLT label?</p>",
        "id": 569263880,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1769004552
    },
    {
        "content": "<p>Post a comment here, so somebody knows the PR should be tagged? I don't think other options currently exist, good catch!</p>",
        "id": 569276201,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769007369
    },
    {
        "content": "<p>When I upstream something I typically write \"From the FLT project.\" as the last sentence of the PR description, but that's just to give us some idea of which parts of mathlib are \"coming from FLT\" -- one of the main arguments for funding FLT was that it would make mathlib better. What is the point of the label by the way? Cool that we have it :-) but does it mean that PRs from FLT are supposed to be treated differently to other PRs?</p>",
        "id": 569285803,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1769009596
    },
    {
        "content": "<p>It allows seeing e.g. all FLT-related PRs at a glance. Writing this into the PR description does the same, but is less apparent.</p>",
        "id": 569286130,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769009673
    },
    {
        "content": "<p>Yeah I've been writing \"from FLT\" in the PR description, and I wasn't sure what the label is for either, but now I find it really helpful to be able to filter all PRs by the label (e.g. one can double-check if there are any open PRs upstreaming the same thing)</p>",
        "id": 569316111,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1769017088
    },
    {
        "content": "<p>It would be easy to add FLT to the list of tags that anyone can add / remove via PR comments. The code is <a href=\"https://github.com/leanprover-community/mathlib4/blob/49243867d330554f4c746ecbf2f4dfeb4b720d60/.github/workflows/labels_from_comment.yml#L28\">here</a>. (I'm also happy to do it if people think it'd be useful).</p>",
        "id": 569320707,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1769018381
    },
    {
        "content": "<p>I'm fine with this. We have been working hard for the last year on a project which has just successfully finished, and one of my motivations for the project was that it would force us to develop a bunch of API for things already in mathlib, so now is a good time for mathlib to start reaping the benefits.</p>",
        "id": 569322923,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1769019004
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/416277-FLT/topic/Mathlib.2F.20folder.20upstreaming/near/569286130\">said</a>:</p>\n<blockquote>\n<p>It allows seeing e.g. all FLT-related PRs at a glance.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"934803\">Bryan Wang</span> <a href=\"#narrow/channel/416277-FLT/topic/Mathlib.2F.20folder.20upstreaming/near/569316111\">said</a>:</p>\n<blockquote>\n<p>[...] but now I find it really helpful to be able to filter all PRs by the label (e.g. one can double-check if there are any open PRs upstreaming the same thing)</p>\n</blockquote>\n<p>To clarify, what is meant by this in practice is this: <a href=\"https://github.com/leanprover-community/mathlib4/pulls?q=is%3Aopen+is%3Apr+label%3AFLT\">https://github.com/leanprover-community/mathlib4/pulls?q=is%3Aopen+is%3Apr+label%3AFLT</a></p>",
        "id": 569433009,
        "sender_full_name": "Harald Husum",
        "timestamp": 1769071209
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767479\">Harald Husum</span> <a href=\"#narrow/channel/416277-FLT/topic/Mathlib.2F.20folder.20upstreaming/near/569433009\">said</a>:</p>\n<blockquote>\n<p>To clarify, what is meant by this in practice is this: <a href=\"https://github.com/leanprover-community/mathlib4/pulls?q=is%3Aopen+is%3Apr+label%3AFLT\">https://github.com/leanprover-community/mathlib4/pulls?q=is%3Aopen+is%3Apr+label%3AFLT</a></p>\n</blockquote>\n<p>yep!</p>",
        "id": 569433445,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1769071379
    },
    {
        "content": "<p>It's also easier if you want to get statistics out at some point</p>",
        "id": 569435975,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1769072146
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"123965\">Bryan Gin-ge Chen</span> <a href=\"#narrow/channel/416277-FLT/topic/Mathlib.2F.20folder.20upstreaming/near/569320707\">said</a>:</p>\n<blockquote>\n<p>It would be easy to add FLT to the list of tags that anyone can add / remove via PR comments. The code is <a href=\"https://github.com/leanprover-community/mathlib4/blob/49243867d330554f4c746ecbf2f4dfeb4b720d60/.github/workflows/labels_from_comment.yml#L28\">here</a>. (I'm also happy to do it if people think it'd be useful).</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/34296\">#34296</a> does this for <code>FLT</code> and a bunch of other downstream project related tags.</p>",
        "id": 569632284,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1769142045
    },
    {
        "content": "<p>The list in <a href=\"https://leanprover-community.github.io/contribute/index.html\">#contrib</a> should be updated too. It says \"This list is exhaustive. If you would like to add a different label, please, bring it up on Zulip!\".</p>",
        "id": 569683416,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1769164642
    },
    {
        "content": "<p>Would you like to make a PR changing this? Simply edit <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/blob/lean4/templates/contribute/index.md\">this file</a>.</p>",
        "id": 569694115,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769168061
    },
    {
        "content": "<p>Thanks for the reminder! Done in <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/775\">website#775</a>.</p>",
        "id": 569708389,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1769172964
    }
]