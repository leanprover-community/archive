[
    {
        "content": "<p>I am proposing refactoring finite adeles in <a href=\"https://github.com/leanprover-community/mathlib4/pull/23542\">#23542</a> and this will probably break a lot of things, but I think it's for the best (because the route to local compactness will be easier). But I don't know how to start working on the FLT refactor based on this branch. I tried editing <code>lake-manifest.json</code> naively to the commit corresponding to the head of the branch but now <code>lake exe cache get</code> is unsurprisingly telling me</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">mathlib</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">checking</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">revision</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">fcffe6d9c63287fd43720321f74855dd8901f353'</span>\n<span class=\"n\">Dependency</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">different</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span>\n<span class=\"w\">  </span><span class=\"n\">Project</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">18</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">18</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n</code></pre></div>\n<p>Is there a simple way to do this? FLT is close to up-to-date with mathlib and I can happily merge master in <a href=\"https://github.com/leanprover-community/mathlib4/pull/23542\">#23542</a> if necessary.</p>",
        "id": 509889316,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743673002
    },
    {
        "content": "<p>Oh, that sounds like someone pinned your toolchain</p>",
        "id": 509891845,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743673710
    },
    {
        "content": "<p>Ah no, sorry, you edited the lakefile manually. Don't do that <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 509891984,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743673750
    },
    {
        "content": "<p>Instead add the mathlib commit in your lakefile just after <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/main/lakefile.toml#L11\">this line</a>. I believe it should look like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">[[</span><span class=\"n\">require</span><span class=\"o\">]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"mathlib\"</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span>\n<span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"fcffe6d9c63287fd43720321f74855dd8901f353\"</span>\n</code></pre></div>\n<p>or maybe</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">[[</span><span class=\"n\">require</span><span class=\"o\">]]</span>\n<span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"mathlib\"</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span>\n<span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"s2\">\"kbuzzard-finite-adele-ring-refactor\"</span>\n</code></pre></div>\n<p>will work too</p>",
        "id": 509892411,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743673864
    }
]