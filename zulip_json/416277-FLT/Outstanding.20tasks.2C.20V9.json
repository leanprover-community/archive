[
    {
        "content": "<p>For \"bottom-up FLT\" my plan is to get the theorem <code>TotallyDefiniteQuaternionAlgebra.WeightTwoAutomorphicForm.finiteDimensional</code> in <code>FLT/AutomorphicForm/QuaternionAlgebra/FiniteDimensional.lean</code> sorry-free, write it up as a joint paper with everyone who made nontrivial contributions as a coauthor, and then park it and work on top-down for a while (starting in Jan). By \"bottom-up FLT\" I mean the adele, Haar character, Fujisaki lemma and Quaternion algebra miniprojects, all of which are nearing completion.</p>\n<p>I've merged several of the relevant PRs over the last few days and now have a much clearer idea about what needs doing to get this over the line. Here they are. I'll use this thread to add people who want to claim tasks.<br>\nEdit: sorted into \"done\" and \"in progress\" and \"unclaimed\".</p>\n<h2>Unclaimed</h2>\n<p>[empty set!]</p>\n<h2>In progress</h2>\n<p>*) The sorry in <code>MeasureTheory.addHaarScalarFactor_tensor_adeles_eq_one</code>on line 125 of <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> is <a href=\"https://imperialcollegelondon.github.io/FLT/blueprint/Haar_char_project.html#MeasureTheory.addHaarScalarFactor_tensor_adeles_eq_one\">Theorem 9.39</a> and has the following proof: the Haar character of phi equals the Haar character of det(phi) where phi is considered to be <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>-linear, and now this follows from earlier results. The details are actually quite long. Status: done in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/822\">FLT#822</a> .</p>\n<p>*) The claim <code>NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul</code> in <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> that left and right multiplication have the same Haar character on line 42 is <a href=\"https://imperialcollegelondon.github.io/FLT/blueprint/Haar_char_project.html#NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul\">Theorem 9.36</a> of the blueprint and follows from Theorem 9.31 and/or Corollary 9.33 (writing the global endomorphism as as product of local ones) and then Corollary 9.21. Status: claimed by Bryan Wang.</p>\n<p>*) In <code>FLT/Mathlib/LinearAlgebra/Determinant.lean</code> there is <code>[Algebra.IsCentral k B] [IsSimpleRing A] [IsSimpleRing B] : IsSimpleRing (A ‚äó[k] B)</code> which <span class=\"user-mention\" data-user-id=\"699016\">@Edison Xie</span> has proved. Status: this is <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> -- please review!</p>\n<h2>Done</h2>\n<p>*) There is <code>padicEquiv_norm_eq</code> in <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> stating that the isomorphism from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span> completed at a height one prime to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> is an isometry. Status: Salvatore did this in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/816\">FLT#816</a> .</p>\n<p>*) In <code>FLT/HaarMeasure/HaarChar/AddEquiv.lean</code> there's the claim <code>mulEquivHaarChar_restrictedProductCongrRight</code> (and an associated additive claim) that if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>œï</mi><mi>i</mi></msub><mo>:</mo><msub><mi>G</mi><mi>i</mi></msub><mo>‚Üí</mo><msub><mi>G</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\phi_i:G_i\\to G_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">œï</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Üí</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> are topological and algebraic isomorphisms of topological groups such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>œï</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><msub><mi>C</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\phi_i(C_i)=C_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">œï</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> for some collection <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub><mo>‚äÜ</mo><msub><mi>G</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">C_i\\subseteq G_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚äÜ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">G</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> of compact open subgroups, then the <code>mulEquivHaarChar</code> of the restricted product of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>œï</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\phi_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">œï</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is equal to the product of the <code>mulEquivHaarChar</code>s of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>œï</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\phi_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">œï</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3117em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">i</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>. The proof is in the blueprint, it's theorem 9.31; the associated issue is <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/552\">FLT#552</a> and there is some preliminary work at <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/562\">FLT#562</a> . Status: <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/562\">FLT#562</a> is updated and merged!</p>\n<p>*) <code>MeasureTheory.ringHaarChar_adeles_units_rat_eq_one</code> on line 61 of <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> should follow from the product formula for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>. Status: done by Bryan.</p>\n<p>*) There are three sorries in <code>FLT/NumberField/Padics/RestrictedProduct.lean</code> which have been PRed directly to mathlib by <span class=\"user-mention\" data-user-id=\"650358\">@Salvatore Mercuri</span> ; these are resolved in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/810\">FLT#810</a> .</p>\n<p>*) The sorry in<code>PadicInt.volume_coe</code> in <code>FLT/HaarMeasure/MeasurableSpacePadics.lean</code> says that the measures <code>PadicInt.instMeasureSpace </code> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> and <code>Padic.instMeasureSpace</code> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> (both defined in the same file) are compatible. The maths proof is: both measures are defined to be Haar measure normalised such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> has measure 1; the pullback of Haar measure under an open immersion is a Haar measure and they agree on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> so they agree everywhere. Status: done by Bryan Wang.</p>\n<p>*) <code>NumberField.AdeleRing.DivisionAlgebra.Aux.existsE</code> in <code>FLT/DivisionAlgebra/Finiteness.lean</code> -- this boils down to some measure theory and cocompactness of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>D</mi><mi mathvariant=\"double-struck\">A</mi></msub></mrow><annotation encoding=\"application/x-tex\">D_{\\mathbb{A}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">A</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>. Status: done in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/803\">FLT#803</a> .</p>\n<p>*) <code>NumberField.FiniteAdeleRing.DivisionAlgebra.units_cocompact</code> in <code>FLT/DivisionAlgebra/Finiteness.lean</code> -- done by  <span class=\"user-mention\" data-user-id=\"719560\">@William Coram</span> in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/796\">FLT#796</a> .</p>\n<p>*) The sorry in <code>NumberField.AdeleRing.units_mem_ringHaarCharacter_ker</code> in <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> should follow from the one on line 146. Status: DONE in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/790\">FLT#790</a></p>\n<p>*) the <code>sorry</code> in <code>NumberField.AdeleRing.addEquivAddHaarChar_mulRight_unit_eq_one</code> in <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> follows from the fact that right multiplication and left multiplication have the same Haar character (proved above). Status: solved in <a href=\"https://github.com/ImperialCollegeLondon/FLT/commit/f080e6ea7cabc3b5ade3805caf5d5fdd5fbca07c\">this commit</a>.</p>\n<p>*) <code>NumberField.AdeleRing.DivisionAlgebra.Aux.E_noninjective_right</code> in <code>FLT/DivisionAlgebra/Finiteness.lean</code> -- DONE</p>\n<p>*) A module topology statement which will follow from typeclass inference when I get back to <a href=\"https://github.com/leanprover-community/mathlib4/pull/29315\">#29315</a> -- DONE</p>\n<p>*) The sorries on lines 88 and 89 of <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> could be filled by observing that the map is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">A</mi><mi>K</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>-linear and that the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">A</mi><mi>L</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">L</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>-module topology is the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">A</mi><mi>K</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>-module topology, because <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">A</mi><mi>L</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">L</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is a finite <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">A</mi><mi>K</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>-module. DONE</p>\n<p>*) line 110 of <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> is just an obscure way of saying that Q_p is locally compact.  DONE by <span class=\"user-mention\" data-user-id=\"650358\">@Salvatore Mercuri</span>  in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/773\">FLT#773</a>.</p>\n<p>*) This is the claim <code>MeasureTheory.ringHaarChar_adeles_rat</code> in <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> that multiplication by an element of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">Q</mi><mo>√ó</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}^\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.938em;vertical-align:-0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">√ó</span></span></span></span></span></span></span></span></span></span></span> has haar character 1 on the adeles of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>. The proof is: use the result from (2) and the product formula for the rationals. These are the sorries on line 120 and 124. Status: DONE by <span class=\"user-mention\" data-user-id=\"1004706\">@Bryan Wang</span>  in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/774\">FLT#774</a>.</p>\n<p>*) The sorries in <code>ContinuousLinearEquiv.baseChange</code> in <code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> look trivial to me -- they're both \"linear =&gt; continuous\" for the module topology. <strong>Done</strong> by Ruben Van de Velde.</p>\n<hr>\n<p>And that's it! Basically this is the culmination of all of the miniprojects which we have spent the first year of the project working hard on.</p>",
        "id": 560478174,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764192063
    },
    {
        "content": "<p>5e is indeed trivial, will pr in a bit</p>",
        "id": 560483560,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1764194631
    },
    {
        "content": "<blockquote>\n<p>4) There are a few sorries in <code>FLT/DivisionAlgebra/Finiteness.lean</code> which <span class=\"user-mention silent\" data-user-id=\"719560\">William Coram</span> has been working on. William -- which ones of these are you claiming and which ones are you going to offer up to others?</p>\n</blockquote>\n<p>I have a WIP PR for <code>NumberField.FiniteAdeleRing.DivisionAlgebra.units_cocompact</code> so that is claimed by me.</p>\n<p>But I would be happy if anyone wants to claim and attempt <code>existsE</code> and <code>E_noninjective_right</code> (the two  remaining sorries at the start of the file). If no one fancies the challenge I can try and work on it again though.</p>",
        "id": 560490266,
        "sender_full_name": "William Coram",
        "timestamp": 1764198297
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/560478174\">said</a>:</p>\n<blockquote>\n<p>5c) line 110 is just an obscure way of saying that Q_p is locally compact.  <span class=\"user-mention silent\" data-user-id=\"650358\">Salvatore Mercuri</span>  does your recent work make this easy?</p>\n</blockquote>\n<p>Yep this follows immediately from the pending mathlib PR because we have <code>LocallyCompactSpace ‚Ñö_[p] </code>. I'll sort a PR out. </p>\n<p>We could also prove it directly for general number fields <code>K</code> since we also have <code>v.adicCompletionIntegers K</code> is compact.</p>",
        "id": 560569909,
        "sender_full_name": "Salvatore Mercuri",
        "timestamp": 1764241457
    },
    {
        "content": "<p>My impression is that the result we need is this. If <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span> is a ring finite-dimensional over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span> (example: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mn>2</mn></msub><mo stretchy=\"false\">(</mo><mi>K</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M_2(K)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mclose\">)</span></span></span></span> for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> a number field) then we know <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><msub><mo>‚äó</mo><mi mathvariant=\"double-struck\">Q</mi></msub><msub><mi mathvariant=\"double-struck\">A</mi><mi mathvariant=\"double-struck\">Q</mi></msub></mrow><annotation encoding=\"application/x-tex\">D\\otimes_{\\mathbb{Q}}\\mathbb{A}_{\\mathbb{Q}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.95em;vertical-align:-0.2667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.9556em;vertical-align:-0.2667em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span></span></span></span> is a locally compact additive group, and we can look at left multiplication by an element <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>D</mi><mo>√ó</mo></msup></mrow><annotation encoding=\"application/x-tex\">D^\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7713em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">√ó</span></span></span></span></span></span></span></span></span></span></span> and ask how it scales the Haar measure. The claim is that it scales it by a factor of 1, and the proof is that by general nonsense it scales it by the same number as multiplication by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> scales <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">A</mi><mi mathvariant=\"double-struck\">Q</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_{\\mathbb{Q}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.9556em;vertical-align:-0.2667em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span></span></span></span> where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span> is the determinant of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>-linear map given by left multiplication by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi></mrow><annotation encoding=\"application/x-tex\">d</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">d</span></span></span></span> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi></mrow><annotation encoding=\"application/x-tex\">D</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span></span></span></span>. This reduces everything to the product formula over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>. So we might not need the case of general <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> for this application, although of course there's no harm in proving it.</p>",
        "id": 560574326,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764242902
    },
    {
        "content": "<blockquote>\n<p>5d) This is the claim that multiplication by an element of¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">Q</mi><mo>√ó</mo></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}^\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.938em;vertical-align:-0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">√ó</span></span></span></span></span></span></span></span></span></span></span>¬†has haar character 1 on the adeles of¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>. The proof is: use the result from (2) and the product formula for the rationals. These are the sorries on line 120 and 124.</p>\n</blockquote>\n<p>The sorry on line 120 is resolved in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/774\">FLT#774</a>, and I'll claim the sorry on line 124 as well.</p>",
        "id": 560684351,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1764287410
    },
    {
        "content": "<p>By the way, there might be money available to work on the FLT project for someone who knows something about (or feels they're capable of learning about) the more advanced material in the proof, if anyone is looking for a job (right now) and is happy to move to London -- let me know. Don't particularly want to announce this in job postings as am slightly concerned will get bombarded by people who are not qualified.</p>",
        "id": 560751886,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764325772
    },
    {
        "content": "<p>Such a bummer that the UK is no longer in the EU...</p>",
        "id": 561319648,
        "sender_full_name": "metakuntyyy",
        "timestamp": 1764647405
    },
    {
        "content": "<p>Don't get me started (but this is off topic).</p>",
        "id": 561347075,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764663226
    },
    {
        "content": "<p>I've merged a few things today and updated the top post. We have a new (unclaimed) challenge:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">padicUniformEquiv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HeightOneSpectrum</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìû</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">adicCompletion</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ·µ§</span><span class=\"w\"> </span><span class=\"n\">‚Ñö_</span><span class=\"o\">[</span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">natGenerator</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>left by <span class=\"user-mention\" data-user-id=\"650358\">@Salvatore Mercuri</span> as a byproduct of <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/773\">FLT#773</a> . Things are ticking along nicely. Today I did a refactor of certain <code>MeasurableSpace</code> instances.</p>",
        "id": 562266017,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765055498
    },
    {
        "content": "<p>I'm working on this stuff full-time now and am cautiously optimistic of getting it over the line by Christmas.</p>",
        "id": 562266035,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765055538
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/562266017\">said</a>:</p>\n<blockquote>\n<p>I've merged a few things today and updated the top post. We have a new (unclaimed) challenge:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">padicUniformEquiv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">HeightOneSpectrum</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìû</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">adicCompletion</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ·µ§</span><span class=\"w\"> </span><span class=\"n\">‚Ñö_</span><span class=\"o\">[</span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">natGenerator</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>left by <span class=\"user-mention silent\" data-user-id=\"650358\">Salvatore Mercuri</span> as a byproduct of <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/773\">FLT#773</a> . </p>\n</blockquote>\n<p>This one is also in the mathlib PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/30576\">#30576</a> which is nearing merge now I think!</p>",
        "id": 562267201,
        "sender_full_name": "Salvatore Mercuri",
        "timestamp": 1765057138
    },
    {
        "content": "<p>OK I updated!</p>",
        "id": 562274036,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765067180
    },
    {
        "content": "<p>I've unclaimed two of the things I'd claimed and which I'd hoped to knock off -- I have been distracted by this measure-theoretic challenge of writing down arbitrarily large compact subsets of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><msub><mo>‚äó</mo><mi>K</mi></msub><msub><mi mathvariant=\"double-struck\">A</mi><mi>K</mi></msub></mrow><annotation encoding=\"application/x-tex\">D\\otimes_K\\mathbb{A}_K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, which I might be making a meal of in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/803\">FLT#803</a> , so I'm going to focus on that and get it over the line; I feel like we're close.</p>",
        "id": 564154773,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765931423
    },
    {
        "content": "<blockquote>\n<p>*) The claim¬†<code>NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul</code>¬†in¬†<code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code>¬†that left and right multiplication have the same Haar character on line 42 is¬†<a href=\"https://imperialcollegelondon.github.io/FLT/blueprint/Haar_char_project.html#NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul\">Theorem 9.35</a>¬†of the blueprint and follows from Theorem 9.31 and/or Corollary 9.32 (writing the global endomorphism as as product of local ones) and then Corollary 9.21. Status: unclaimed (was claimed by me but I'm focussing on¬†<a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/803\">FLT#803</a>¬†for now)</p>\n</blockquote>\n<p>I'd like to give Theorem 9.35 a go</p>",
        "id": 564159511,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1765935259
    },
    {
        "content": "<p>I've merged <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/796\">FLT#796</a> -- the proof of the main compactness theorem, completed by William Coram (with some tidy-up by me) today.</p>\n<p>Ooh, I forgot to update the blueprint; I'll do that now.</p>",
        "id": 564342063,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766005364
    },
    {
        "content": "<blockquote>\n<p>*)¬†<code>MeasureTheory.ringHaarChar_adeles_units_rat_eq_one</code>¬†on line 61 of¬†<code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code>¬†should follow from the product formula for¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>. Currently unclaimed.</p>\n</blockquote>\n<p>I had some progress on <code>ringHaarChar_adeles_units_rat_eq_one</code> (now in draft PR <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/805\">FLT#805</a>), where I reduced the statement to two statements which are mathematically equivalent to <code>ringHaarChar_real</code> and <code>ringHaarChar_padic</code> respectively. </p>\n<p>However because of the way <code>ùî∏ ‚Ñö</code> is set up we now have <code>ringHaarChar</code> applied to <code>Rat.infinitePlace.Completion</code> and <code>p.adicCompletion ‚Ñö</code> instead of the <code>‚Ñù</code> and <code>‚Ñö_[p]</code> of <code>ringHaarChar_real</code> and <code>ringHaarChar_padic</code> respectively. It seems I'm back to the question of whether there's any easy way to relate these? (so as to apply e.g.  <a href=\"https://imperialcollegelondon.github.io/FLT/docs/FLT/HaarMeasure/HaarChar/AddEquiv.html#MeasureTheory.addEquivAddHaarChar_eq_addEquivAddHaarChar_of_continuousAddEquiv\"><code>addEquivAddHaarChar_eq_addEquivAddHaarChar_of_continuousAddEquiv</code></a>)</p>",
        "id": 564415883,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766050535
    },
    {
        "content": "<p>For infinite places I was looking at all of this yesterday in far more generality; <code>Rat.infinitePlace.Completion</code> is both algebraically and isometrically isomorphic to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span> and all this is in mathlib.</p>",
        "id": 564423174,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766052960
    },
    {
        "content": "<p>See <code>FLT/Mathlib/NumberTheory/NumberField/InfiniteAdeleRing.lean</code> (note that it was changed 13 hours ago). You need things like <code>Completion.isometryEquivRealOfIsReal</code> and <code>Completion.ringEquivRealOfIsReal</code>.</p>",
        "id": 564423516,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766053068
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">NumberField</span><span class=\"w\"> </span><span class=\"n\">InfinitePlace</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InfinitePlace</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">IsReal</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Subsingleton</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">infinitePlace</span><span class=\"w\"> </span><span class=\"bp\">‚ñ∏</span><span class=\"w\"> </span><span class=\"n\">isReal_infinitePlace</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NumberField</span><span class=\"bp\">.</span><span class=\"n\">InfinitePlace</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">Completion</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ‚Çú+</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">isometryEquivRealOfIsReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">ringEquivRealOfIsReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">continuous_toFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">isometryEquivRealOfIsReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"n\">fun_prop</span>\n<span class=\"w\">  </span><span class=\"n\">continuous_invFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">isometryEquivRealOfIsReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">symm</span>\n<span class=\"w\">    </span><span class=\"n\">fun_prop</span>\n<span class=\"o\">}</span>\n</code></pre></div>",
        "id": 564424728,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766053499
    },
    {
        "content": "<p>(this works for an arbitrary infinite place of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>, not just our preferred one (they're all equal but they're not all defeq))</p>",
        "id": 564424825,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766053539
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"934803\">Bryan Wang</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/564415883\">said</a>:</p>\n<blockquote>\n<p>However because of the way <code>ùî∏ ‚Ñö</code> is set up we now have <code>ringHaarChar</code> applied to <code>Rat.infinitePlace.Completion</code> and <code>p.adicCompletion ‚Ñö</code> instead of the <code>‚Ñù</code> and <code>‚Ñö_[p]</code> of <code>ringHaarChar_real</code> and <code>ringHaarChar_padic</code> respectively. It seems I'm back to the question of whether there's any easy way to relate these? (so as to apply e.g.  <a href=\"https://imperialcollegelondon.github.io/FLT/docs/FLT/HaarMeasure/HaarChar/AddEquiv.html#MeasureTheory.addEquivAddHaarChar_eq_addEquivAddHaarChar_of_continuousAddEquiv\"><code>addEquivAddHaarChar_eq_addEquivAddHaarChar_of_continuousAddEquiv</code></a>)</p>\n</blockquote>\n<p>For finite places, the continuous alg equiv <code>v.adicCompletion ‚Ñö ‚âÉA[‚Ñö] ‚Ñö_[v.natGenerator]</code> should be in mathlib soon. So you could change the subscript <code>a</code> to capital <code>A</code> in <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/b544e397539b957799498dfc0fae86d70d4c9bf7/FLT/NumberField/Padics/RestrictedProduct.lean#L24-L25\"><code>IsDedekindDomain.HeightOneSpectrum.padicEquiv</code></a> and move/import it as needed!</p>",
        "id": 564442957,
        "sender_full_name": "Salvatore Mercuri",
        "timestamp": 1766059636
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/564424728\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">NumberField</span><span class=\"w\"> </span><span class=\"n\">InfinitePlace</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InfinitePlace</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">IsReal</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Subsingleton</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">infinitePlace</span><span class=\"w\"> </span><span class=\"bp\">‚ñ∏</span><span class=\"w\"> </span><span class=\"n\">isReal_infinitePlace</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NumberField</span><span class=\"bp\">.</span><span class=\"n\">InfinitePlace</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">Completion</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ‚Çú+</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">isometryEquivRealOfIsReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">toHomeomorph</span>\n<span class=\"w\">  </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">ringEquivRealOfIsReal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">infinitePlace_isReal</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span>\n<span class=\"o\">}</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>This also works to avoid having to directly prove continuity</p>",
        "id": 564443554,
        "sender_full_name": "Salvatore Mercuri",
        "timestamp": 1766059804
    },
    {
        "content": "<p>Thank you very much! The real place is now done in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/805\">FLT#805</a>, and hopefully soon also the finite place (especially with <a href=\"https://github.com/leanprover-community/mathlib4/pull/30576\">#30576</a>).</p>",
        "id": 564483299,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766070262
    },
    {
        "content": "<p><a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/803\">FLT#803</a> is compiling: this PR completes Chapter 10 of the blueprint! I'm going to tidy up the code and then merge. Recall the goal is all of chapters 8 to 11. At last count there were three unclaimed tasks and three in progress tasks. I'm busy for the next couple of days with family things but will probably be back on Sunday.</p>",
        "id": 564569120,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766092684
    },
    {
        "content": "<blockquote>\n<p>*)¬†<code>MeasureTheory.ringHaarChar_adeles_units_rat_eq_one</code>¬†on line 61 of¬†<code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code>¬†should follow from the product formula for¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>. Currently unclaimed.</p>\n</blockquote>\n<p>This task is now done in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/805\">FLT#805</a> (modulo some results in <a href=\"https://github.com/leanprover-community/mathlib4/pull/30576\">#30576</a>)</p>",
        "id": 564607005,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766112466
    },
    {
        "content": "<p>Ooh! Bryan's work added an import and with it a new <code>sorry</code>! I'll add it to the unclaimed list at the top. It is <code>PadicInt.volume_coe</code> in <code>FLT/HaarMeasure/MeasurableSpacePadics.lean</code> and it says that the measures <code>PadicInt.instMeasureSpace </code> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> and <code>Padic.instMeasureSpace</code> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> (both defined in the same file) are compatible.</p>",
        "id": 564739807,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766163052
    },
    {
        "content": "<p>The maths proof is: both measures are defined to be Haar measure normalised such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> has measure 1; the pullback of Haar measure under an open immersion is a Haar measure and they agree on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> so they agree everywhere.</p>",
        "id": 564740446,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766163266
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30576\">#30576</a> is in!</p>",
        "id": 564748162,
        "sender_full_name": "Salvatore Mercuri",
        "timestamp": 1766166076
    },
    {
        "content": "<p>Yeah I already started the bump :-) (but I am not sure if I can finish it today and I'm busy all day tomorrow, for reasons that Salvatore can work out if he remembers, so it might not hit until Sunday). I can push how far I got...</p>",
        "id": 564752706,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766167761
    },
    {
        "content": "<p><a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/808\">FLT#808</a> , a small chance I'll get to it later today, otherwise it will be Sunday afternoon.</p>",
        "id": 564754904,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766168726
    },
    {
        "content": "<p>I'm happy to get <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/808\">FLT#808</a> over the finish line now, looks like it should be fairly straightforward.</p>",
        "id": 564767536,
        "sender_full_name": "Aayush Rajasekaran",
        "timestamp": 1766174215
    },
    {
        "content": "<p>I'm looking at it, fwiw</p>",
        "id": 564767753,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1766174312
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> Sorry, didn't see your message!  <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/809\">#809</a>  should be all that's needed, but I might be missing things.</p>",
        "id": 564768940,
        "sender_full_name": "Aayush Rajasekaran",
        "timestamp": 1766174798
    },
    {
        "content": "<p><a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/809/files#diff-66ab30182fdcfd52e5b3212f506f88fcbdcb97d19ac5ba705aa46daeb5704dc2R312-R317\">This change</a> is the only one I wasn't too sure about.</p>",
        "id": 564769380,
        "sender_full_name": "Aayush Rajasekaran",
        "timestamp": 1766175015
    },
    {
        "content": "<p>I pushed what I think is a better change (I removed the instance prio hack above the result and added some shortcut instances which perhaps should be in mathlib itself). Everything else is great -- thanks a lot for your help! I'm awaiting CI and then we can merge.</p>\n<p>Edit: merged; I'm now filling in some FLT sorries.</p>",
        "id": 564918979,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766356750
    },
    {
        "content": "<p>OK <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/810\">FLT#810</a> removes the three remaining sorries in <code>FLT/NumberField/Padics/RestrictedProduct.lean</code> now we have them upstream. There is also¬†<code>padicEquiv_norm_eq</code>¬†in¬†<code>FLT/HaarMeasure/HaarChar/AdeleRing.lean</code> and this needs more than the topological construction in <a href=\"https://github.com/leanprover-community/mathlib4/pull/30576\">#30576</a> -- it needs an isometry. So I've not been able to immediately close it. <span class=\"user-mention\" data-user-id=\"650358\">@Salvatore Mercuri</span> or <span class=\"user-mention\" data-user-id=\"934803\">@Bryan Wang</span> do you see how to prove <code>padicEquiv_norm_eq</code> given what we now have in FLT? Shall I merge <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/810\">FLT#810</a> ?</p>",
        "id": 564924070,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766363857
    },
    {
        "content": "<blockquote>\n<p>*) The sorry in<code>PadicInt.volume_coe</code>¬†in¬†<code>FLT/HaarMeasure/MeasurableSpacePadics.lean</code>¬†says that the measures¬†<code>PadicInt.instMeasureSpace</code> ¬†on¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>¬†and¬†<code>Padic.instMeasureSpace</code>¬†on¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>¬†(both defined in the same file) are compatible. The maths proof is: both measures are defined to be Haar measure normalised such that¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>¬†has measure 1; the pullback of Haar measure under an open immersion is a Haar measure and they agree on¬†<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>¬†so they agree everywhere.</p>\n</blockquote>\n<p>This sorry is filled in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/811\">FLT#811</a>!</p>",
        "id": 564935469,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766378947
    },
    {
        "content": "<p>I've also merged 810. I should hopefully have some time today and when I do I'll choose a random unclaimed thing and start on it. Edit: I claimed the Haar character on restricted product sorry.</p>",
        "id": 564968762,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766397094
    },
    {
        "content": "<p>For <code>padicEquiv_norm_eq</code>, we'll have to show that the underlying valuations on the two sides are equal (I think by direct calculation). At the moment we only have that they are equivalent. I can give this a go!</p>",
        "id": 564982588,
        "sender_full_name": "Salvatore Mercuri",
        "timestamp": 1766402236
    },
    {
        "content": "<p>The valuations take values in Zm0 so hopefully it's just a case of showing that p has valuation 1 on both sides?</p>",
        "id": 564991253,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766405607
    },
    {
        "content": "<p>I've resurrected <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/562\">FLT#562</a> and it's now sorry-free. I've also claimed the last unclaimed task so now everything is claimed! Will finite-dimensionality of quaternionic modular forms be sorry-free by the end of 2025?</p>",
        "id": 565088807,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766453733
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>buzzard@brutus:~/FLT$<span class=\"w\"> </span>lake<span class=\"w\"> </span>build<span class=\"w\"> </span>FLT/AutomorphicForm/QuaternionAlgebra/FiniteDimensional.lean\nwarning:<span class=\"w\"> </span>manifest<span class=\"w\"> </span>out<span class=\"w\"> </span>of<span class=\"w\"> </span>date:<span class=\"w\"> </span>git<span class=\"w\"> </span>revision<span class=\"w\"> </span>of<span class=\"w\"> </span>dependency<span class=\"w\"> </span><span class=\"s1\">'mathlib'</span><span class=\"w\"> </span>changed<span class=\"p\">;</span><span class=\"w\"> </span>use<span class=\"w\"> </span><span class=\"sb\">`</span>lake<span class=\"w\"> </span>update<span class=\"w\"> </span>mathlib<span class=\"sb\">`</span><span class=\"w\"> </span>to<span class=\"w\"> </span>update<span class=\"w\"> </span>it\n‚ö†<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"m\">3322</span>/3340<span class=\"o\">]</span><span class=\"w\"> </span>Built<span class=\"w\"> </span>FLT.Mathlib.LinearAlgebra.Determinant\nwarning:<span class=\"w\"> </span>FLT/Mathlib/LinearAlgebra/Determinant.lean:49:0:<span class=\"w\"> </span>declaration<span class=\"w\"> </span>uses<span class=\"w\"> </span><span class=\"s1\">'sorry'</span>\n‚ö†<span class=\"w\"> </span><span class=\"o\">[</span><span class=\"m\">3338</span>/3340<span class=\"o\">]</span><span class=\"w\"> </span>Built<span class=\"w\"> </span>FLT.HaarMeasure.HaarChar.AdeleRing\nwarning:<span class=\"w\"> </span>FLT/HaarMeasure/HaarChar/AdeleRing.lean:41:6:<span class=\"w\"> </span>declaration<span class=\"w\"> </span>uses<span class=\"w\"> </span><span class=\"s1\">'sorry'</span>\nwarning:<span class=\"w\"> </span>FLT/HaarMeasure/HaarChar/AdeleRing.lean:65:6:<span class=\"w\"> </span>declaration<span class=\"w\"> </span>uses<span class=\"w\"> </span><span class=\"s1\">'sorry'</span>\nwarning:<span class=\"w\"> </span>FLT/HaarMeasure/HaarChar/AdeleRing.lean:122:6:<span class=\"w\"> </span>declaration<span class=\"w\"> </span>uses<span class=\"w\"> </span><span class=\"s1\">'sorry'</span>\nBuild<span class=\"w\"> </span>completed<span class=\"w\"> </span>successfully<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"m\">3340</span><span class=\"w\"> </span><span class=\"nb\">jobs</span><span class=\"o\">)</span>.\nbuzzard@brutus:~/FLT$\n</code></pre></div>\n<p>The first sorry is <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> a PR by <span class=\"user-mention\" data-user-id=\"699016\">@Edison Xie</span> (tensor product of simple algebras is simple), the second I believe <span class=\"user-mention\" data-user-id=\"934803\">@Bryan Wang</span> is thinking about (haar character of left and right multiplication by a unit are the same in the central simple case), the third I believe <span class=\"user-mention\" data-user-id=\"650358\">@Salvatore Mercuri</span> is thinking about (<code>padicEquiv</code> is an isometry) and I'll take on the last one (which looks pretty gnarly but maybe there's a better proof?).</p>",
        "id": 565089135,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766454252
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/560478174\">said</a>:</p>\n<blockquote>\n<p>Status: this is <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> -- please review!</p>\n</blockquote>\n<p>It looks like <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> is blocked by <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> which has been awaiting-author since August</p>",
        "id": 565089168,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1766454295
    },
    {
        "content": "<p>Yeah Edison has been focussing on class field theory since around that time. <span class=\"user-mention\" data-user-id=\"699016\">@Edison Xie</span> are you out there? Neither of those PRs mentioned above are on the queue right now and this is fast becoming the only thing stopping us from announcing the culmination of a year's work. Do you have the time to get them back on the queue?</p>",
        "id": 565089254,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766454416
    },
    {
        "content": "<p>Even if you can just get the result compiling with today's mathlib this would be enough, because then I can just make FLT depend on your branch and we'll be able to claim victory. I can't go back to a previous mathlib commit though (I know it used to compile) because this would break FLT in lots of places.</p>",
        "id": 565089329,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766454513
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"253861\">Thomas Browning</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565089168\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/560478174\">said</a>:</p>\n<blockquote>\n<p>Status: this is <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> -- please review!</p>\n</blockquote>\n<p>It looks like <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> is blocked by <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> which has been awaiting-author since August</p>\n</blockquote>\n<p>someone (<span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> ) has suggested I should use a different method (which shouldn't involve <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a>) and I've discussed with him about this last week (and he left me with a false sorry) so I'm still thinking about this one, but at least I have a working proof under current mathlib :-)</p>",
        "id": 565094154,
        "sender_full_name": "Edison Xie",
        "timestamp": 1766460565
    },
    {
        "content": "<p>sorry for keeping everyone waiting I'll soon sort things out</p>",
        "id": 565094184,
        "sender_full_name": "Edison Xie",
        "timestamp": 1766460609
    },
    {
        "content": "<p>It's ok there are three other series and there's a serious risk that I'll get swallowed up by Christmas things before I finish mine...</p>",
        "id": 565094944,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766461606
    },
    {
        "content": "<p>Perhaps somewhat related to <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a>, do we already have something along the lines of </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">TensorProduct</span><span class=\"bp\">.</span><span class=\"n\">RightActions</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommSemiring</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsCentral</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsSimpleRing</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsCentral</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"bp\">‚äó</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>it seems to be needed for Theorem 9.35.</p>",
        "id": 565098750,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766465659
    },
    {
        "content": "<p>we have the field version of this (i.e when <code>A</code> is a field)</p>",
        "id": 565102448,
        "sender_full_name": "Edison Xie",
        "timestamp": 1766469727
    },
    {
        "content": "<p>I might have it when <code>A</code> is <code>CommRing</code> I'm not sure</p>",
        "id": 565102803,
        "sender_full_name": "Edison Xie",
        "timestamp": 1766469981
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699016\">Edison Xie</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565102448\">said</a>:</p>\n<blockquote>\n<p>we have the field version of this (i.e when <code>A</code> is a field)</p>\n</blockquote>\n<p>great, that's all we need!</p>",
        "id": 565104720,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766471721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> now passes CI, I'm trying to get it independent from <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> but meanwhile we have a working version!</p>",
        "id": 565237199,
        "sender_full_name": "Edison Xie",
        "timestamp": 1766546673
    },
    {
        "content": "<p>OK <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/822\">FLT#822</a> should be compiling right now, which removes one of the final three <code>sorry</code>s. <span class=\"user-mention\" data-user-id=\"934803\">@Bryan Wang</span> are you still interested in working on <code>lemma NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul</code>? I can take it on if you want. </p>\n<p><span class=\"user-mention\" data-user-id=\"699016\">@Edison Xie</span> it appears that <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> depends on <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> which has merge conflicts; as a result neither of these PRs are on the queue so they're not getting reviews and are just rotting more. Are you able to fix up <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> ? </p>\n<p>These (the mathlib PRs and the left_mul_eq_right_mul result) are the only two things which are left for the finite-dimensionality claim, once <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/822\">FLT#822</a> is merged, and once we have that claim then I think we can write a paper.</p>",
        "id": 565937540,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767220442
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565937540\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"934803\">Bryan Wang</span> are you still interested in working on <code>lemma NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul</code>? I can take it on if you want. <br>\n</p>\n</blockquote>\n<p>Yes, I can still work on <code>isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul</code>! I made <a href=\"https://github.com/ImperialCollegeLondon/FLT/compare/main...bwangpj:FLT:isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul?expand=1\">a brief start</a> last week but then became 'busy with the holidays' <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span>, apologies about that. But I will have much more time in the coming days.</p>\n<p>In fact this theorem suffers from the same problem you outlined in the other thread, namely that one has to manipulate <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><msub><mo>‚äó</mo><mi mathvariant=\"double-struck\">Q</mi></msub><mi mathvariant=\"double-struck\">A</mi></mrow><annotation encoding=\"application/x-tex\">V \\otimes_{\\mathbb{Q}} \\mathbb{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.95em;vertical-align:-0.2667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">A</span></span></span></span>, but I guess I hadn't ploughed through enough yet last week to realise how difficult it was going to be <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span>. Hopefully with your new approach in <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/822\">FLT#822</a> I can also give a new proof of this theorem in the same spirit (edit: actually maybe not, since the automorphism in this theorem is not the base change of one over the ground field), and if so then I should have progress by this weekend or so.</p>",
        "id": 565941579,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1767225835
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565937540\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"699016\">Edison Xie</span> it appears that <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> depends on <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> which has merge conflicts; as a result neither of these PRs are on the queue so they're not getting reviews and are just rotting more. Are you able to fix up <a href=\"https://github.com/leanprover-community/mathlib4/pull/26368\">#26368</a> ? </p>\n</blockquote>\n<p>will do shortly!</p>",
        "id": 565975666,
        "sender_full_name": "Edison Xie",
        "timestamp": 1767271359
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"699016\">@Edison Xie</span> another alternative is that you just extract the work and PR it to FLT</p>",
        "id": 565990061,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767287892
    },
    {
        "content": "<p>I'll be far less fussy about merging it</p>",
        "id": 565990077,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767287915
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"934803\">Bryan Wang</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565941579\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565937540\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"934803\">Bryan Wang</span> are you still interested in working on <code>lemma NumberField.AdeleRing.isCentralSimple_addHaarScalarFactor_left_mul_eq_right_mul</code>? I can take it on if you want. <br>\n</p>\n</blockquote>\n<p>In fact this theorem suffers from the same problem you outlined in the other thread, namely that one has to manipulate <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><msub><mo>‚äó</mo><mi mathvariant=\"double-struck\">Q</mi></msub><mi mathvariant=\"double-struck\">A</mi></mrow><annotation encoding=\"application/x-tex\">V \\otimes_{\\mathbb{Q}} \\mathbb{A}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.95em;vertical-align:-0.2667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">A</span></span></span></span>, but I guess I hadn't ploughed through enough yet last week to realise how difficult it was going to be <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span>. </p>\n</blockquote>\n<p>Oh yikes you're right! It might be worth thinking about the mathematics of this before ploughing ahead. I don't think you can use the hack I used (going via a completely different route) because I don't see any reason right now that once you've picked a basis l_u is a finite product of elementary and diagonal matrices (although it might be true). One thing I can't immediately see how to avoid is this issue of moving from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi><msub><mo>‚äó</mo><mi>K</mi></msub><msub><mi mathvariant=\"double-struck\">A</mi><mi>K</mi></msub></mrow><annotation encoding=\"application/x-tex\">B\\otimes_{K}\\mathbb{A}_K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8389em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mo>‚àè</mo><mi>v</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">‚Ä≤</mo></msubsup><mi>B</mi><msub><mo>‚äó</mo><mi>K</mi></msub><msub><mi>K</mi><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\prod&#x27;_v B\\otimes_KK_v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1915em;vertical-align:-0.2997em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">‚àè</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8918em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">‚Ä≤</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>, noting that this isomorphism needs to be both algebraic and a homeomorphism. I don't know how much of this is already in FLT (I find myself completely unable to keep track of what is already done because I forgot what I merged 6 months ago). </p>\n<p>I am wondering whether we should take a step back here and try and prove some more basic claims but I will need to think about exactly what it is we should be doing here and I am one day into 4 days of family commitments so don't really have time to think.</p>",
        "id": 566003543,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767307461
    },
    {
        "content": "<p>We have several theorems of the form \"doing X to the factors and then taking the restricted product is the same (both algebraically and topologically) as doing X to the restricted product\" (for example \"taking units\") but \"tensoring over K with B\" is difficult to put into this paradigm because it's difficult to explain what you mean by tensoring a local pair <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><msub><mi>K</mi><mi>v</mi></msub><mo separator=\"true\">,</mo><msub><mi mathvariant=\"script\">O</mi><mi>v</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(K_v,\\mathcal{O}_v)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span> over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span> because <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>R</mi><mi>v</mi></msub></mrow><annotation encoding=\"application/x-tex\">R_v</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is not a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-module.</p>",
        "id": 566003647,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767307638
    },
    {
        "content": "<p>Looking at the proof of Fujisaki I don't really see a way around this lemma either. It's certainly true but perhaps it will take longer to prove than I had appreciated.</p>",
        "id": 566003736,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767307801
    },
    {
        "content": "<p>Somehow the subtlety is the following. We know that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mi mathvariant=\"double-struck\">A</mi><mi mathvariant=\"double-struck\">Q</mi><mi>f</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{A}_\\mathbb{Q}^f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3811em;vertical-align:-0.4141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.967em;\"><span style=\"top:-2.4026em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4141em;\"><span></span></span></span></span></span></span></span></span></span> (the finite adeles of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>) is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msubsup><mo>‚àè</mo><mi>p</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">‚Ä≤</mo></msubsup><mo stretchy=\"false\">[</mo><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub><mo separator=\"true\">,</mo><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\prod&#x27;_p[\\mathbb{Q}_p,\\Z_p]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3276em;vertical-align:-0.4358em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">‚àè</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8918em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.2029em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">‚Ä≤</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4358em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span>, the restricted product of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> with respect to the compact open subgroups <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>. This ring is a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>-algebra. Now say <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> is a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>-module. \"Obviously\" <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><msub><mo>‚äó</mo><mi mathvariant=\"double-struck\">Q</mi></msub><msubsup><mi mathvariant=\"double-struck\">A</mi><mi mathvariant=\"double-struck\">Q</mi><mi>f</mi></msubsup></mrow><annotation encoding=\"application/x-tex\">V\\otimes_{\\mathbb{Q}}\\mathbb{A}_{\\mathbb{Q}}^f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.95em;vertical-align:-0.2667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3811em;vertical-align:-0.4141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.967em;\"><span style=\"top:-2.4026em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span><span style=\"top:-3.1809em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.10764em;\">f</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4141em;\"><span></span></span></span></span></span></span></span></span></span> is also a restricted product -- but of what? The local factors are <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi><msub><mo>‚äó</mo><mi mathvariant=\"double-struck\">Q</mi></msub><msub><mi mathvariant=\"double-struck\">Q</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">V\\otimes_{\\mathbb{Q}}\\mathbb{Q}_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.95em;vertical-align:-0.2667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\"><span class=\"mbin\">‚äó</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">Q</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2667em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Q</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span> but what are the subgroups? They cannot be specified using <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> alone; one needs to choose a lattice in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>V</mi></mrow><annotation encoding=\"application/x-tex\">V</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">V</span></span></span></span> and tensor over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span> instead of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>, and then observe that the answer is independent of the choice of lattice because any two lattices are equal away from a finite set of places.</p>",
        "id": 566003890,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767308143
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/566003736\">said</a>:</p>\n<blockquote>\n<p>Looking at the proof of Fujisaki I don't really see a way around this lemma either. </p>\n</blockquote>\n<p>Yeah, I tried for a while to see if we could do without this lemma, or at least get away with a weaker form of it (I believe it is only used once), but that didn't seem too promising</p>",
        "id": 566008313,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1767314764
    },
    {
        "content": "<p>It would not surprise me if we could reduce to the case where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span> is a matrix algebra by some finite base change argument (tensor up to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">L</span></span></span></span> and you're raising factors to some <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>L</mi><mo>:</mo><mi>K</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[L:K]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">L</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mclose\">]</span></span></span></span> power, but <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">R</mi><mrow><mo>&gt;</mo><mn>0</mn></mrow></msub></mrow><annotation encoding=\"application/x-tex\">\\R_{&gt;0}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8663em;vertical-align:-0.1774em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">&gt;</span><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1774em;\"><span></span></span></span></span></span></span></span></span></span> has unique $$n$$th roots for all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>‚â•</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">n\\geq1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚â•</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>). So here is a concrete question: if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi><mo>‚àà</mo><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><msub><mi mathvariant=\"double-struck\">A</mi><mi>K</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">u\\in GL_n(\\mathbb{A}_K)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚àà</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathbb\">A</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07153em;\">K</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> or even <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi><msub><mi>L</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">GL_n(R)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">G</span><span class=\"mord\"><span class=\"mord mathnormal\">L</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span></span></span></span> for any locally compact second-countable Hausdorff topological commutative ring <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>, do left and multiplication by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M_n(R)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span></span></span></span> have the same Haar character? Equivalently, does conjugation by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi></mrow><annotation encoding=\"application/x-tex\">u</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">u</span></span></span></span> on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>M</mi><mi>n</mi></msub><mo stretchy=\"false\">(</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">M_n(R)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">M</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mclose\">)</span></span></span></span> have Haar character 1? (it's an additive automorphism of an additive locally compact group). It's probably not hard to reduce to the case where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is the finite adeles (I think we have all the preliminaries to reduce to this case in FLT already) so we can reduce to the case where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> has a compact open subring. I'm desperately trying to refrain from saying the word \"restricted product\" here but avoiding doing so might force us to have to answer the mathoverflow question <a href=\"https://mathoverflow.net/questions/506537/how-does-an-automorphism-of-a-free-module-scale-haar-measure\">https://mathoverflow.net/questions/506537/how-does-an-automorphism-of-a-free-module-scale-haar-measure</a> .</p>",
        "id": 566009192,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767315752
    },
    {
        "content": "<p>You don't happen to know what the first <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-group of an adele ring is, do you? :-)</p>",
        "id": 566009242,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1767315837
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/416277-FLT/topic/Outstanding.20tasks.2C.20V9/near/565990061\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"699016\">Edison Xie</span> another alternative is that you just extract the work and PR it to FLT</p>\n</blockquote>\n<p>I could do both but I want it in mathlib eventually so might as well do that now :-)</p>",
        "id": 566051663,
        "sender_full_name": "Edison Xie",
        "timestamp": 1767355986
    },
    {
        "content": "<p>ok I'm happy to announce that <a href=\"https://github.com/leanprover-community/mathlib4/pull/26377\">#26377</a> is now independent from any other PRs!</p>",
        "id": 566153115,
        "sender_full_name": "Edison Xie",
        "timestamp": 1767449824
    },
    {
        "content": "<p>it now passes CI, could I get some review pls?</p>",
        "id": 566155356,
        "sender_full_name": "Edison Xie",
        "timestamp": 1767452282
    }
]