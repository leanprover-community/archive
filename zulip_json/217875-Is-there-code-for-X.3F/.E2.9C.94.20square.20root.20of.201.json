[
    {
        "content": "<p>Is this is mathlib?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">sqrt_of_one</span> <span class=\"o\">(</span><span class=\"n\">R</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">comm_ring</span> <span class=\"n\">R</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">no_zero_divisors</span> <span class=\"n\">R</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">R</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">ha</span> <span class=\"o\">:</span> <span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span> <span class=\"bp\">∨</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"bp\">-</span><span class=\"mi\">1</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>There is <a href=\"https://leanprover-community.github.io/mathlib_docs/find/sq_eq_one_iff\">docs#sq_eq_one_iff</a>, but this requires <code>linear_ordered_ring R</code>, which I don't have in my use case (where <code>R</code> is a finite field). Grepping mathlib for either <code>.* ^2 = 1</code> or <code>\\(.*\\) = 1 ∨ \\1 = -1</code> doesn't come up with anything else that gets remotely close.</p>",
        "id": 278609219,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1649707674
    },
    {
        "content": "<p>Not really an answer, but don't division ring and comm ring introduce two ring structures?</p>",
        "id": 278609584,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1649707837
    },
    {
        "content": "<p>Did you mean to use field?  Or did you want something more general?</p>",
        "id": 278609683,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1649707890
    },
    {
        "content": "<p>Isn't a commutative division ring simply a field?</p>",
        "id": 278609701,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1649707900
    },
    {
        "content": "<p>Sorry, I got confused. I meant <code>[comm_ring R] [no_zero_divisors R]</code>(i.e., <code>R</code> is a domain). It is getting late...</p>",
        "id": 278609964,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1649708029
    },
    {
        "content": "<p>I'll edit the code above.</p>",
        "id": 278610030,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1649708043
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib_docs/find/mul_self_eq_one_iff\">docs#mul_self_eq_one_iff</a> ?</p>",
        "id": 278610295,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1649708161
    },
    {
        "content": "<p>Turns out, associativity is overkill...</p>",
        "id": 278610451,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1649708205
    },
    {
        "content": "<p>Sounds like we should reprove <a href=\"https://leanprover-community.github.io/mathlib_docs/find/sq_eq_one_iff\">docs#sq_eq_one_iff</a> in terms of that one</p>",
        "id": 278610553,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1649708260
    },
    {
        "content": "<p>(but keep the old lemma with a primed name if it's not redundant?)</p>",
        "id": 278610827,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1649708358
    },
    {
        "content": "<p>Are there any linearly ordered rings with zero divisors?</p>",
        "id": 278610943,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1649708391
    },
    {
        "content": "<p>Isn't it directly redundant?</p>",
        "id": 278610954,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1649708396
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479359\">Michael Stoll</span> has marked this topic as resolved.</p>",
        "id": 278611158,
        "sender_full_name": "Notification Bot",
        "timestamp": 1649708467
    },
    {
        "content": "<p>Ah yes, <a href=\"https://leanprover-community.github.io/mathlib_docs/find/linear_ordered_ring.is_domain\">docs#linear_ordered_ring.is_domain</a></p>",
        "id": 278611159,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1649708468
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> has marked this topic as resolved.</p>",
        "id": 278672643,
        "sender_full_name": "Notification Bot",
        "timestamp": 1649758488
    },
    {
        "content": "<p>What I find irritating is that there is also <a href=\"https://leanprover-community.github.io/mathlib_docs/find/sq_eq_one_iff\">docs#sq_eq_one_iff</a>, which is what I tend to look for, but this is for <code>linear_ordered_ring</code>s (which is not at all obvious from the name)...</p>",
        "id": 284057588,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1653597218
    },
    {
        "content": "<p>Isn't the consensus above that we should generalise it?</p>",
        "id": 284060750,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1653598841
    },
    {
        "content": "<p>Apparenty, but it wasn't done.<br>\nI just fell into the same trap again <span aria-label=\"disappointed\" class=\"emoji emoji-1f61e\" role=\"img\" title=\"disappointed\">:disappointed:</span> <br>\nSomehow I find it difficult to remember all these little tings...</p>",
        "id": 284061513,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1653599263
    },
    {
        "content": "<p>Do you want to do it? If not I can give it a stab.</p>",
        "id": 284063957,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1653600538
    },
    {
        "content": "<p>If I had more time, I'd do it, but I have a lot of other things to do, so I'll pass for now. Thanks for the offer!</p>",
        "id": 284064218,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1653600714
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> Thanks for the PR.</p>",
        "id": 284240703,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1653760558
    },
    {
        "content": "<p>No problem!</p>",
        "id": 284241963,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1653762243
    }
]