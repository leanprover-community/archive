[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"439115\">@Alya Abbott</span>, something very fishy seems to be going on with the link <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/smul.20inferred.20by.20function.20instance/near/484616884\">here</a></p>",
        "id": 484617622,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1732666643
    },
    {
        "content": "<p>Was there a problem, or just that the topic was moved again?</p>",
        "id": 487319457,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1733856386
    },
    {
        "content": "<p>The topic was moved only once, but the backticks in the topic name caused weird unicode escapes to appear in the URL. If you click the broken automated link above, the title in the sidebar is garbled as <code>Should klzzwxh:0000 exist in Mathlib?</code></p>",
        "id": 487321945,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733857291
    },
    {
        "content": "<p>(note that there are two special characters in that message which only appear in the preview / source, and disappear when I sent the message)</p>",
        "id": 487322259,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733857378
    },
    {
        "content": "<p>does using the zulip link manually work? <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Should.20.02klzzwxh.3A0000.03.20exist.20in.20Mathlib.3F\">#mathlib4 &gt; Should <code>Pi.instHSMul</code> exist in Mathlib?</a> - seems not</p>",
        "id": 487324481,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733858152
    },
    {
        "content": "<p>Using the autocomplete in the editor seems to create a correct link at least</p>",
        "id": 487325174,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733858443
    },
    {
        "content": "<p>(To be clear, Mario's message with a broken link is what you get if you write <code>#**mathlib4&gt;Should `Pi.instHSMul` exist in Mathlib?**</code> by hand, rather than accepting the autocomplete)</p>",
        "id": 487325275,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733858487
    },
    {
        "content": "<p>8 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"217875\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/smul.20inferred.20by.20function.20instance\">#Is there code for X? &gt; smul inferred by function instance</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 487325528,
        "sender_full_name": "Notification Bot",
        "timestamp": 1733858607
    },
    {
        "content": "<p>Oh, interesting, I did not realize that the autocomplete does something different.</p>\n<ul>\n<li>\n<p>If you autocomplete <code>#mathlib4&gt;Indexing a Finset</code> <br>\n  you get <code>#**mathlib4&gt;Indexing a Finset**</code></p>\n</li>\n<li>\n<p>If you autocomplete <code>#mathlib4&gt;should `Pi.instHSMul` ex</code> <br>\n  you get <code>[#mathlib4 &gt; Should &amp;#96;Pi.instHSMul&amp;#96; exist in Mathlib?](#narrow/channel/287929-mathlib4/topic/Should.20.60Pi.2EinstHSMul.60.20exist.20in.20Mathlib.3F)</code></p>\n</li>\n<li>\n<p>If you autocomplete any longer substring of <code>#mathlib4&gt;Should `Pi.instHSMul` exist in Mathlib?</code> you get nothing</p>\n</li>\n</ul>\n<p>So this indicates that the autocomplete is aware that it doesn't support backticks properly, although I don't understand why autocomplete stops working if I type in even more text, there is no special character in the middle of the word <code>exist</code> AFAICT so maybe it's just a line length thing</p>",
        "id": 487329908,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1733860330
    },
    {
        "content": "<p>The lookback is limited to 26 characters, though I think we changed it to 40 in the development branch yesterday (the limit exists at all for a combination of performance reasons and anti-bug reasons). That's why a super long prefix eventually will stop suggesting.</p>",
        "id": 488916444,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1734122248
    },
    {
        "content": "<p>And yes, because backticks are a form of escape character (for making code blocks), they require special handling.</p>",
        "id": 488916536,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1734122286
    },
    {
        "content": "<p>I think the bug report here then is that the \"move thread\" button does not implement this special handling correctly.</p>",
        "id": 488921861,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1734124372
    }
]