[
    {
        "content": "<p><a href=\"#narrow/stream/116395-maths/topic/Rep.20k.20G.20is.20closed/near/290047294\">Example</a>: <a href=\"https://leanprover-community.github.io/mathlib_docs/find/Action\">docs#Action</a>.œÅ_Aut</p>",
        "id": 290052587,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1658204414
    },
    {
        "content": "<p>it seems this is <a href=\"#narrow/channel/270676-lean4/topic/conditional.20.60simp.60.20lemmas/near/487677772\">still an issue</a>: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=zpow_lt_zpow_iff#doc\">docs#zpow_lt_zpow_iff</a>_right‚ÇÄ . it seems it stops linkifying at the last non-word-character before a non-ascii character. it isn't just that that part of the text is non-clickable, it also doesn't include that part in the actual link.</p>",
        "id": 488194355,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1733953467
    },
    {
        "content": "<p><a href=\"https://zulip.com/help/add-a-custom-linkifier#advanced-linkifier-patterns\">https://zulip.com/help/add-a-custom-linkifier#advanced-linkifier-patterns</a> may be relevant.</p>",
        "id": 489857638,
        "sender_full_name": "Alya Abbott",
        "timestamp": 1734563544
    },
    {
        "content": "<p>So the current linkifier we're using for this consists of <code>docs#(?P&lt;decl&gt;[\\w_.'-]*[\\w_?!'-])</code> and <code>https://leanprover-community.github.io/mathlib4_docs/find/?pattern={decl}#doc</code>. </p>\n<p>I've got my hands full for a bit, does anyone want to take a stab at figuring out the right regex incantation to use?</p>",
        "id": 489858400,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1734563974
    },
    {
        "content": "<p>that explains it, i guess... the regex is faulty</p>",
        "id": 489860428,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734565055
    },
    {
        "content": "<p>perhaps an idea might be to use something along the lines of<code>docs#(?P&lt;decl&gt;[^\\s]+)(\\s|$)</code>, i.e. match anything up to the next ascii whitespace or end of line?</p>",
        "id": 489861911,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734565841
    },
    {
        "content": "<p>(or something along those lines which also makes sure the matched part can't end in <code>.</code>, like <code>docs#(?P&lt;decl&gt;[^\\s]*[^\\s.])\\.?(\\s|$)</code>)</p>",
        "id": 489861999,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734565912
    },
    {
        "content": "<p>testing:<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Action.%CF%81_Aut#doc\">docs#Action.œÅ_Aut. </a>(edit, ah, I guess the correct name is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Action.%CF%81Aut%29#doc\">docs#Action.œÅAut)\n</a><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=zpow_lt_zpow_iff_right%E2%82%80#doc\">docs#zpow_lt_zpow_iff_right‚ÇÄ.</a></p>",
        "id": 489867346,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1734569370
    },
    {
        "content": "<p>Thanks Edward, almost there, I think! You can see that we matched the right parentheses in docs#Action.œÅAut), so we'll need a fuller list of separators. </p>\n<p>After previewing this message, it also looks like we have to add more punctuation symbols, since the comma is screwing things up above as well.</p>",
        "id": 489867804,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1734569655
    },
    {
        "content": "<p>(I've reverted back to what we had before for the time being, so people don't get too confused.)</p>",
        "id": 489867863,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1734569723
    },
    {
        "content": "<p>In lean3 the regex was <code>(?![ŒªŒ†Œ£])[_a-zA-ZŒ±-œâŒë-Œ©œä-œª·ºÄ-·øæ‚ÑÄ-‚Öèùíú-ùñü](?:(?![ŒªŒ†Œ£])[_a-zA-ZŒ±-œâŒë-Œ©œä-œª·ºÄ-·øæ‚ÑÄ-‚Öèùíú-ùñü0-9'‚Åø-‚Çâ‚Çê-‚Çú·µ¢-·µ™])*</code></p>",
        "id": 489868984,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1734570546
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"123965\">Bryan Gin-ge Chen</span> <a href=\"#narrow/channel/236604-Zulip-meta/topic/docs.20linkifier.20fails.20on.20Greek.20letter/near/489867346\">said</a>:</p>\n<blockquote>\n<p>testing:<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Action.%CF%81_Aut#doc\">docs#Action.œÅ_Aut</a>. (edit, ah, I guess the correct name is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Action.%CF%81Aut#doc\">docs#Action.œÅAut</a>)<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=zpow_lt_zpow_iff_right%E2%82%80#doc\">docs#zpow_lt_zpow_iff_right‚ÇÄ</a>.</p>\n</blockquote>\n<p>This now no longer swallows the paren, and works for things like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.Mem%E2%84%92p#doc\">docs#MeasureTheory.Mem‚Ñíp</a> (deprecated)</p>",
        "id": 538068646,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757240510
    }
]