[
    {
        "content": "<p>I thought it would be fun to formalize some parts of the book \"Proofs from the book\" by Aigner/Ziegler and started this github-repo for this:<br>\n<a href=\"https://github.com/mo271/formal_book\">https://github.com/mo271/formal_book</a><br>\nIn general the statements and proofs are quite accessible and span a wide variety of topics, so I expect some parts to be quite easy to do with what is already present in mathlib, while other parts might be significantly harder. Also some of the chapters might be nice projects for undergraduates.<br>\nContributions/suggestions for improvements are most welcome!</p>",
        "id": 299125244,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1663321348
    },
    {
        "content": "<p>Are some proofs in that book pictures? I was looking through a book called \"proofs without words\" and some of those proofs are very elegant but they would be really really hard to formalise!</p>\n<p>I now have a limited experience with getting undergraduates to formalise a book, because I made this repo <a href=\"https://github.com/ImperialCollegeLondon/m1fexplained\">https://github.com/ImperialCollegeLondon/m1fexplained</a> over the summer, which is a formalisation of some (and hopefully one day most) of the exercises in a standard undergraduate textbook written by my boss! (Martin Liebeck, the head of pure maths at Imperial, and someone who I owe a lot to because five years ago I started doing this weird new thing called Lean and he was totally fine about it). One thing I learnt is that if you want to get undergraduates involved, they're far more likely to embark on something if there's a <em>sorried statement</em>. So if you want to make the project grow organically and are happy to put some effort into an initial push I would thoroughly recommend sorrying a whole bunch of theorem statements. It's easy to forget how hard this part of the job is, once you're good at it. Most of the code in that repo was written by Imperial undergrads over the summer.</p>",
        "id": 299130710,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1663323581
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib_docs/find/symm_diff_assoc\">docs#symm_diff_assoc</a> is a proof from Proofs of the book.</p>",
        "id": 299131033,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1663323704
    },
    {
        "content": "<p>What has happened with mathlib is that at the beginning undergraduates were really useful to us. There was a ton of stuff which needed to be done, and in some sense undergraduates were even sometimes directing what got done, there were people like Chris Hughes and Kenny Lau who were immersed in Imperial's undergraduate degree and were formalising parts of it and responding to other undergraduates who wanted to do things like problem sheet questions. Now mathlib is beyond this point. The stuff on the UG todo list typically cannot be done by beginner UGs any more, for the simple reason that there's nothing easy left; everything is difficult/annoying for one or more reasons and the problems are beyond a beginner. Formalising textbooks like this however are I think a very good alternative way to get UGs involved; my M1F explained repo (the name is an Imperial in joke) was very popular this summer with my project students, probably about 50% of them ended up contributing to it in one way or another (even if not all of them worked out how to do PRs -- people were emailing me proofs etc).</p>",
        "id": 299131461,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1663323860
    },
    {
        "content": "<p>Very few proofs in that book are \"pictures\" or rely on geometric intuition. </p>\n<p>Re having sorried-statements: that makes sense! I plan to go through some chapters and add more sorried statements/partial proofs. <br>\nI did already link to the open sorrys in the README.md:<br>\n<a href=\"https://github.com/mo271/formal_book/search?q=sorry+extension%3Alean\">https://github.com/mo271/formal_book/search?q=sorry+extension%3Alean</a><br>\n(Perhaps such a link would also be useful for <a href=\"https://github.com/ImperialCollegeLondon/m1fexplained\">https://github.com/ImperialCollegeLondon/m1fexplained</a>?!)</p>",
        "id": 299132804,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1663324477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/113488-general/topic/Proofs.20from.20the.20book/near/299131033\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib_docs/find/symm_diff_assoc\">docs#symm_diff_assoc</a> is a proof from Proofs of the book.</p>\n</blockquote>\n<p>Yeah, and there are a couple of other places where mathlib follows Proofs from the book closely, most notably the entire proof of Bertrand's postulate</p>",
        "id": 299132897,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1663324523
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/113488-general/topic/Proofs.20from.20the.20book/near/299131033\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib_docs/find/symm_diff_assoc\">docs#symm_diff_assoc</a> is a proof from Proofs of the book.</p>\n</blockquote>\n<p>Hmm, I don't think that's true (unless the proof has been replaced since I added it). I believe <a href=\"https://mccuan.math.gatech.edu/courses/4317/symmetricdifference.pdf\">the title and introduction of the reference linked in the module doc</a> claim that the proof presented is a proof from \"the Book\" rather than claiming that it's a proof from \"Proofs [from] the book\".</p>",
        "id": 299225993,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1663355593
    },
    {
        "content": "<p>I think the most conceptual proof uses the fact that the symmetric difference of two sets correspond to pointwise addition of their indicator functions taking value in <code>zmod 2</code>. This proof is not intuitionistic though.</p>",
        "id": 299227284,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1663356093
    },
    {
        "content": "<p><code>symm_diff_assoc</code> applies to (generalized) Boolean algebras though - is there a suitable notion of indicator function at that level of generality?</p>",
        "id": 299228722,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1663356691
    },
    {
        "content": "<p>I suspect that would need atomicity.</p>",
        "id": 299229164,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1663356851
    },
    {
        "content": "<p>A generalized Boolean algebra embeds into a Boolean algebra according to <a href=\"https://math.stackexchange.com/a/2985310/12932\">https://math.stackexchange.com/a/2985310/12932</a>, and a Boolean algebra embeds into a powerset algebra by Stone's representation theorem. These should be enough to reduce the problem to powerset algebras.</p>\n<p>(Hmm and I think the original proof can't be made intuitionistic either; some double negation is involved. Not sure if the co-Heyting diff works, or whether using <code>¬(p ↔ q)</code> or <code>¬(p → q) ∨ ¬(q → p)</code> to define symm_diff makes any difference.)</p>",
        "id": 299232425,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1663358342
    },
    {
        "content": "<p>If it could be made intuitionistic, it would hold in co-Heyting algebras, and the dual would hold in Heyting algebras, but the following fails:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">iff_assoc</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span><span class=\"o\">))</span> <span class=\"bp\">↔</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">itauto</span> <span class=\"c1\">-- fails</span>\n</code></pre></div>",
        "id": 299288486,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1663403765
    },
    {
        "content": "<p>OP might be interested to know, the proof of Bertrand’s postulate now in mathlib follows the approach of Aigner and Ziegler</p>",
        "id": 299338097,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1663430024
    },
    {
        "content": "<p>(Actually I see someone already commented this)</p>",
        "id": 299338180,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1663430065
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/113488-general/topic/Proofs.20from.20the.20book/near/299288486\">said</a>:</p>\n<blockquote>\n<p>If it could be made intuitionistic, it would hold in co-Heyting algebras, and the dual would hold in Heyting algebras, but the following fails:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">iff_assoc</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span><span class=\"o\">))</span> <span class=\"bp\">↔</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">itauto</span> <span class=\"c1\">-- fails</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Indeed, <a href=\"https://math.stackexchange.com/a/440927/12932\">one comment here</a> pointed out associativity is equivalent to the law of excluded middle. So we should't expect it (and the dual symm_diff version) to hold outside of (generalized) boolean algebras.</p>",
        "id": 299579795,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1663599267
    },
    {
        "content": "<p>not sure about equivalent to LEM, but it's certainly not intuitionistically true</p>",
        "id": 299580873,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1663599622
    },
    {
        "content": "<p>The last comment below the answer shows it's equivelent to double negation elimination, which is equivalent to LEM. Here's a Lean proof:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">tactic</span>\n<span class=\"kd\">def</span> <span class=\"n\">iff_assoc</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">),</span> <span class=\"o\">((</span><span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"n\">q</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"bp\">↔</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"o\">(</span><span class=\"n\">q</span> <span class=\"bp\">↔</span> <span class=\"n\">r</span><span class=\"o\">))</span>\n<span class=\"kd\">def</span> <span class=\"n\">lem</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span><span class=\"o\">),</span> <span class=\"n\">p</span> <span class=\"bp\">∨</span> <span class=\"bp\">¬</span><span class=\"n\">p</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">iff_assoc_iff_lem</span> <span class=\"o\">:</span> <span class=\"n\">iff_assoc</span> <span class=\"bp\">↔</span> <span class=\"n\">lem</span> <span class=\"o\">:=</span>\n<span class=\"kd\">begin</span>\n  <span class=\"n\">split</span><span class=\"bp\">;</span> <span class=\"n\">intro</span> <span class=\"n\">h</span><span class=\"o\">,</span>\n  <span class=\"o\">{</span> <span class=\"k\">have</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"bp\">¬¬</span><span class=\"n\">p</span> <span class=\"bp\">→</span> <span class=\"n\">p</span> <span class=\"o\">:=</span> <span class=\"bp\">λ</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"o\">((</span><span class=\"n\">h</span> <span class=\"n\">p</span> <span class=\"n\">false</span> <span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span> <span class=\"bp\">$</span> <span class=\"n\">iff_false</span> <span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span> <span class=\"bp\">∘</span> <span class=\"o\">(</span><span class=\"n\">false_iff</span> <span class=\"bp\">¬</span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">,</span>\n    <span class=\"n\">exact</span> <span class=\"bp\">λ</span> <span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">this</span> <span class=\"n\">_</span> <span class=\"o\">(</span><span class=\"bp\">λ</span> <span class=\"n\">n</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">$</span> <span class=\"n\">or.inr</span> <span class=\"bp\">$</span> <span class=\"n\">n</span> <span class=\"bp\">∘</span> <span class=\"n\">or.inl</span><span class=\"o\">)</span> <span class=\"o\">},</span>\n  <span class=\"o\">{</span> <span class=\"n\">intros</span> <span class=\"n\">p</span> <span class=\"n\">q</span> <span class=\"n\">r</span><span class=\"o\">,</span> <span class=\"n\">cases</span> <span class=\"n\">h</span> <span class=\"n\">p</span><span class=\"bp\">;</span> <span class=\"n\">cases</span> <span class=\"n\">h</span> <span class=\"n\">q</span><span class=\"bp\">;</span> <span class=\"n\">cases</span> <span class=\"n\">h</span> <span class=\"n\">r</span><span class=\"bp\">;</span> <span class=\"n\">revert</span> <span class=\"n\">h_1</span> <span class=\"n\">h_2</span> <span class=\"n\">h_3</span><span class=\"bp\">;</span> <span class=\"n\">itauto</span> <span class=\"o\">},</span>\n<span class=\"kd\">end</span>\n\n<span class=\"k\">#print</span> <span class=\"kd\">axioms</span> <span class=\"n\">iff_assoc_iff_lem</span> <span class=\"c\">/-</span><span class=\"cm\"> no axioms -/</span>\n</code></pre></div>",
        "id": 299588594,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1663602030
    },
    {
        "content": "<p>By now, we have added a <a href=\"https://firsching.ch/FormalBook/\">blueprint</a> for the <a href=\"https://github.com/mo271/FormalBook\">Proofs from the BOOK repo</a>! (thanks <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span>  for making the blueprint repo and to <span class=\"user-mention\" data-user-id=\"556875\">@Pietro Monticone</span>  for helping me setting it up, after an earlier non-successfull attempt):</p>\n<p>The <a href=\"https://firsching.ch/FormalBook/blueprint/dep_graph_document.html\">dependency graph</a> is quite wide, because there is little inter-dependency between the chapters.</p>\n<p>I hope adding the blueprint will make it easier to contribute and work together! There are still lots of easy <code>sorrys</code> statements / proofs that should be relatively simple to formalize, but also more involved stuff, so contributions from beginners as well as experts are most welcome.</p>",
        "id": 475519644,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728380008
    },
    {
        "content": "<p>There's a latex error in <a href=\"https://firsching.ch/FormalBook/blueprint/sect0008.html#book.irrational.Theorem_3\">https://firsching.ch/FormalBook/blueprint/sect0008.html#book.irrational.Theorem_3</a></p>",
        "id": 475520450,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728380277
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"466290\">@Luigi Massacci</span> should have somewhere a formalization of the topological proof of the infinitude of the primes.</p>",
        "id": 475520771,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1728380366
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/113488-general/topic/Proofs.20from.20the.20book/near/475520450\">said</a>:</p>\n<blockquote>\n<p>There's a latex error in <a href=\"https://firsching.ch/FormalBook/blueprint/sect0008.html#book.irrational.Theorem_3\">https://firsching.ch/FormalBook/blueprint/sect0008.html#book.irrational.Theorem_3</a></p>\n</blockquote>\n<p>Thanks, will fix, looks like <code>colonequals</code> is not supported...</p>",
        "id": 475520960,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728380414
    },
    {
        "content": "<p>Did you ever get the formalisations from <span class=\"user-mention\" data-user-id=\"665760\">@Yves Jäckle</span> ?</p>",
        "id": 475556858,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1728392508
    },
    {
        "content": "<p>If not, I'll swallow them into LeanCamCombi so that they are on the PR treadmill</p>",
        "id": 475557053,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1728392558
    },
    {
        "content": "<p>The sixth proof of the infinitude of primes is in Mathlib: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/NumberTheory/SumPrimeReciprocals.html#not_summable_one_div_on_primes\">not_summable_one_div_on_primes</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/NumberTheory/SumPrimeReciprocals.html#Nat.Primes.not_summable_one_div\">Nat.Primes.not_summable_one_div</a>.</p>",
        "id": 475565563,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1728394957
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/113488-general/topic/Proofs.20from.20the.20book/near/475556858\">said</a>:</p>\n<blockquote>\n<p>Did you ever get the formalisations from <span class=\"user-mention silent\" data-user-id=\"665760\">Yves Jäckle</span> ?</p>\n</blockquote>\n<p>No, not yet, but thanks for the pointer!</p>",
        "id": 475569032,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728395777
    },
    {
        "content": "<p>If we know that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo separator=\"true\">,</mo><mi>χ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">L(1,\\chi)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">L</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">χ</span><span class=\"mclose\">)</span></span></span></span> is some rational multiple of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span> where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>χ</mi></mrow><annotation encoding=\"application/x-tex\">\\chi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">χ</span></span></span></span> is the level 4 Dirichlet character (it's <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi><mi mathvariant=\"normal\">/</mi><mn>4</mn></mrow><annotation encoding=\"application/x-tex\">\\pi/4</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span><span class=\"mord\">/4</span></span></span></span> isn't it?), then we could get another proof coming from the product formula and the now-proved fact that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">π</span></span></span></span> is irrational! If there were only finitely many primes then the product would be finite.</p>",
        "id": 475608156,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1728404267
    },
    {
        "content": "<p>FYI, I'm currently still working on a different formalization project, which should hopefully be done by the end of this year. Then, my plan was to add some finite geometry API to mathlib so that I can finish the graph theory proof in the chapter on the pigeonhole principle and double counting (and also clean that proof <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> ). I'm fine with my code being shared, and hope we can collaborate <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> <br>\n<span class=\"user-mention\" data-user-id=\"695413\">@Christoph Spiegel</span></p>",
        "id": 475784259,
        "sender_full_name": "Yves Jäckle",
        "timestamp": 1728460864
    },
    {
        "content": "<p>Just to note: I have started a similar project at <a href=\"https://github.com/FordUniver/thebook.lean\">https://github.com/FordUniver/thebook.lean</a>, which I am currently trying to revive after a period of dormancy. I don't think there's anything in there that isn't already covered by the work of @Moritz Firsching or @Yves Jäckle.</p>\n<p>I believe it makes sense for these projects to remain somewhat disjoint, aside from perhaps occasionally pulling code from one repository to another, because of some key differences:</p>\n<ul>\n<li>It is primarily intended as the code basis underlying the blog <a href=\"http://thebook.zib.de\">thebook.zib.de</a>.</li>\n<li>I don't plan to limit myself to content from Aigner and Ziegler; it's just a good initial resource.</li>\n<li>The proofs are intended to follow the written human versions as closely as possible and therefore, the code style is perhaps also somewhat particular and not to everyone's liking.</li>\n</ul>\n<p>Basically I think of it as a sort of Rosetta stone intended for mathematicians not familiar with lean. Nevertheless, should anyone be interesting in joining and writing some proof with a matching post, I'd be more than happy about that!</p>",
        "id": 475799649,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1728464216
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"695413\">@Christoph Spiegel</span> good to know, thanks for the heads up! Looks like it might indeed be useful to sometimes borrow code from each other, and I agree that we have slightly different goals here, as you describe!</p>",
        "id": 475800658,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728464466
    },
    {
        "content": "<p>I'll PR Fürstenberg's proof as soon as I'm done with midterms (so in two weeks)</p>",
        "id": 475823784,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1728470486
    },
    {
        "content": "<p>I now have a functioning version of the CS proof of Mantel's theorem: <a href=\"https://github.com/FordUniver/thebook.lean/blob/main/TheBook/GraphTheory/Mantel/CauchyInequality.lean\">https://github.com/FordUniver/thebook.lean/blob/main/TheBook/GraphTheory/Mantel/CauchyInequality.lean</a></p>\n<p><span class=\"user-mention\" data-user-id=\"313038\">@Moritz Firsching</span> do you already have this or should I PR?</p>",
        "id": 476512386,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1728727537
    },
    {
        "content": "<p>Nice, I don't, please do pr it!</p>",
        "id": 476512613,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728727694
    },
    {
        "content": "<p>Will do! I should mention though that it‘s currently only the upper bound on the number of edges, not characterizing evenly split complete bipartite graphs as the only extremal constructions</p>",
        "id": 476515647,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1728730770
    },
    {
        "content": "<p>Still great!</p>",
        "id": 476515751,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728730829
    },
    {
        "content": "<p>One question: the idea for this project is just to prove the statements in the book in Lean, or to do so following the actual proofs in the book?</p>\n<p>In other words: are we aiming at <em>creating</em> Lean proofs or at <em>translating</em> proofs to Lean?</p>",
        "id": 476530124,
        "sender_full_name": "Miguel Marco",
        "timestamp": 1728745263
    },
    {
        "content": "<p>Good question: The idea is much more on the translating the <em>proofs</em> to Lean proofs. There are even a few chapter with 5 or 6 different proofs for the same statement: for those the plan is to formalize all of them. How close it is possible to follow while maintaining at least somewhat idomatic Lean code is to some degree a matter of taste, but the at least the ideas of the proofs should be reflected in the Lean proofs.</p>",
        "id": 476531349,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728746411
    },
    {
        "content": "<p>I also have a proof of the handshaking lemma that follows the blackboard argument a bit more closely than the mathlib proof does: <a href=\"https://thebook.zib.de/graph%20theory/2024/10/11/handshaking-lemma.html\">https://thebook.zib.de/graph%20theory/2024/10/11/handshaking-lemma.html</a></p>\n<p><span class=\"user-mention\" data-user-id=\"313038\">@Moritz Firsching</span> stuff that is in current PRs presumably goes into the Mathlib folder?</p>",
        "id": 476723682,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1728896389
    },
    {
        "content": "<p>Great!</p>\n<p>Yes, let's make an <code>ForMathlib</code> folder for those!</p>",
        "id": 476727252,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728897310
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"313038\">@Moritz Firsching</span> are you basing it on revision 4 or 5 of the book?</p>",
        "id": 476996903,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1729000827
    },
    {
        "content": "<p>I'm using the sixth (lastest) edition</p>",
        "id": 476998149,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1729001164
    },
    {
        "content": "<p>Ah right sixth was the latest</p>",
        "id": 476999477,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1729001553
    },
    {
        "content": "<p>That's good because that's what I'm also on and I think the chapters changed from 5 to 6</p>",
        "id": 476999558,
        "sender_full_name": "Christoph Spiegel",
        "timestamp": 1729001570
    },
    {
        "content": "<p>i wonder if Lean is good at detecting hidden circular argument, if there is one. Do you really prove stuff about Dirchlet series without using infinitude of primes?</p>",
        "id": 477111762,
        "sender_full_name": "Yao Liu",
        "timestamp": 1729048931
    },
    {
        "content": "<p>I think some human assistance might be needed. At least some AI seemed to have trouble with that: using <code>Field.toIsField</code> to prove Wedderburn, see <a href=\"https://github.com/mo271/FormalBook/pull/67\">https://github.com/mo271/FormalBook/pull/67</a>. Another example of the failure here is that Proofs from the book often has more than proofs of the same result. I tried to model this</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">result_1</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">statement</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"o\">[</span><span class=\"n\">proof</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">result_2</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">same</span><span class=\"w\"> </span><span class=\"n\">statement</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"o\">[</span><span class=\"n\">proof</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Apparently LeanAgent then idea to prove </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">result_2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">result_1</span>\n</code></pre></div>\n<p>which of course would also have been found by <code>exact?</code><br>\nI'm not sure if there is a better way to go about these \"multiple proofs for the same statement\" problem.</p>",
        "id": 477129849,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1729059171
    },
    {
        "content": "<p>I added the second proof in \"Chapter 4: Representing numbers as sums of two squares\". (Still contains some sorrys!)<br>\nThis is the one by Heath-Brown, on which Zagier's one-sentence version is based on. I follow the structure of proof of this formalized by <span class=\"user-mention\" data-user-id=\"598052\">@Jeremy Tan</span> and <span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span>.<br>\nSince the latest edition of <em>Proofs from THE BOOK</em> also has the illustration with \"windmills\", I added a widget that draws the windmill corresponding to a given triple <code>(x, y, z)</code> and then one can also get it to draw the other triple in that involution. It takes as argument <code>colors?</code>, so one can easily only focus on the shape which will be the same for two triples mapped to each other under the involution.<br>\nHere's a link to an animation of how the widget looks like: <a href=\"https://gist.github.com/mo271/162c127fb6f6ee382df245e773a2b365\">https://gist.github.com/mo271/162c127fb6f6ee382df245e773a2b365</a><br>\nYou can of course also try it out directly from the FormalBook repo:  <a href=\"https://github.com/mo271/FormalBook\">https://github.com/mo271/FormalBook</a></p>",
        "id": 477922161,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1729454160
    },
    {
        "content": "<p>There was a recent formalisation of the windmills approach in Coq which made it into either ITP or CPP IIRC.</p>",
        "id": 477925181,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1729456977
    },
    {
        "content": "<p>Hi all, we are running a lean learning seminar here at the University of Amsterdam and our group would like to work on formalizing things from \"proofs from the book\". I was wondering if it would be possible to have a separate channel for us to discuss/work collaboratively?</p>",
        "id": 481749182,
        "sender_full_name": "Dhyan Aranha",
        "timestamp": 1731339035
    },
    {
        "content": "<p>I'll set things up for you.</p>",
        "id": 481749480,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731339121
    },
    {
        "content": "<p>[Quoting…]</p>\n<p>thanks!</p>",
        "id": 481752940,
        "sender_full_name": "Dhyan Aranha",
        "timestamp": 1731340051
    },
    {
        "content": "<p>Voila <a class=\"stream\" data-stream-id=\"467461\" href=\"/#narrow/channel/467461-Proofs-from-the-book\">#Proofs from the book</a></p>",
        "id": 481754288,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731340416
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"313038\">@Moritz Firsching</span>  I’ve PR-ed Furstenberg’s proof of infinitude of primes, if you have any improvements you’d like to suggest I promise I’ll implement them promptly. I was stopped by the bot and signed google’s licensing agreement, not sure what’s supposed to happen now…</p>\n<p>Regardless, I’ve noticed that the text of the blueprint is word for word the text of the actual book, and while Springer’s IP rights are infinitely low down the list of my personal concerns, I imagine they might not be too happy about this, or was the book released on a CC license?</p>",
        "id": 481968967,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1731423585
    },
    {
        "content": "<p>Can somebody who has the permission move this message (or the entire topic) to the new Proofs From the Book channel?</p>",
        "id": 481970169,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1731423886
    },
    {
        "content": "<p>Thanks looks great, will reply on the pr</p>",
        "id": 481970315,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1731423929
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Proofs.20from.20the.20book\">#general &gt; Proofs from the book</a> by <span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span>.</p>",
        "id": 481971449,
        "sender_full_name": "Notification Bot",
        "timestamp": 1731424239
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"313038\">Moritz Firsching</span> <a href=\"#narrow/channel/467461-Proofs-from-the-book/topic/Proofs.20from.20the.20book/near/481970169\">said</a>:</p>\n<blockquote>\n<p>Can somebody who has the permission move this message (or the entire topic) to the new Proofs From the Book channel?</p>\n</blockquote>\n<p>Done. The title should probably be changed.</p>",
        "id": 481971551,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731424273
    },
    {
        "content": "<p>Thanks, I tried to change the title to \"General\", but don't have permission for this. (Only the last 9 out of 46 messages would be moved with my permissions...)</p>",
        "id": 481972255,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1731424464
    },
    {
        "content": "<p>Title changed.</p>",
        "id": 481972331,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731424491
    }
]