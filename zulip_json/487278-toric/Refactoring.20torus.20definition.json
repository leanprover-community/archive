[
    {
        "content": "<p>I think it's a good idea to adapt our definition of a torus with Andrew's work on group schemes. We essentially only need to lift his results to the over category.</p>",
        "id": 501818055,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1740493283
    },
    {
        "content": "<p>Where are Andrew's group schemes?</p>",
        "id": 501818388,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1740493368
    },
    {
        "content": "<p>GroupScheme.lean (currently not in mathlib)</p>",
        "id": 501818522,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1740493402
    },
    {
        "content": "<p>As a subtask, it would be good to replace the Mathlib import by smaller imports in that file.</p>",
        "id": 501819209,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1740493566
    },
    {
        "content": "<p>We are lacking a fair bit of rudimentary API on group-objects though. <a href=\"https://github.com/leanprover-community/mathlib4/pull/22168\">#22168</a> would be a start.<br>\nBut someone need to generalize the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Mon_ClassOfRepresentableBy#doc\">docs#CategoryTheory.Mon_ClassOfRepresentableBy</a> to <code>CommGrp_Class</code> (where <code>CommGrp_Class</code> doesn't even exist yet)<br>\nWould be nice if developing them are a part of this project.</p>",
        "id": 502097812,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740589200
    },
    {
        "content": "<p>I'd be happy to work on this after I manage to formalize the defintion of toric ideals. We will need basic results about tori for our first bigger objective, so developing the API is probably necessary.</p>",
        "id": 502098641,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1740589404
    },
    {
        "content": "<p>Also one would need to change <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FreeAbelianGroup#doc\">docs#FreeAbelianGroup</a> to Finsupp so that the definition is defeq to <code>MvLaurentPolynomial</code></p>",
        "id": 502101019,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740590074
    },
    {
        "content": "<p>(or just change <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AddCommGrp.free#doc\">docs#AddCommGrp.free</a> if people are lazy like me)</p>",
        "id": 502101272,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1740590156
    },
    {
        "content": "<p>I am trying to understand what <code>SplitTorus</code> is defined as, informally. Am I right in saying it's something like <code>R ⊗ ℤ[ℤⁿ]</code>?</p>",
        "id": 509973592,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743694382
    },
    {
        "content": "<p>That’s one way to view it yeah</p>",
        "id": 509976109,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1743694954
    },
    {
        "content": "<p>But is it <em>defined</em> like this?</p>",
        "id": 509976394,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743695032
    },
    {
        "content": "<p>It’s defined as a pullback which will be isomorphic to the spectrum of the ring you wrote down</p>",
        "id": 509977171,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1743695231
    },
    {
        "content": "<p>The isomorphism should be in mathlib (if it’s not then we really ought to prove it)</p>",
        "id": 509977308,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1743695266
    },
    {
        "content": "<p>A split torus over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> should really be Spec(R[G]) where G is a group isomorphic to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">Z</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\Z^n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> (but without a fixed isomorphism) (or just R[G] if you're happy with the Hopf algebra rather than the affine R-group-scheme).</p>",
        "id": 509990557,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743698890
    },
    {
        "content": "<p>But what about a split torus over an arbitrary scheme? This is what Andrew defined</p>",
        "id": 509993289,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743699710
    },
    {
        "content": "<p>Well that's relative Spec of O_X[G] where G is a group isomorphic to Z^n. Here O_X is the structure sheaf of the scheme (so O_X is to X as R is to Spec(R)) and given a sheaf of algebras for the sheaf of rings you can take relative spec and get a scheme mapping to X with affine fibres.</p>",
        "id": 509994914,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743700140
    },
    {
        "content": "<p>Do we have relative <code>Spec</code>s already?</p>",
        "id": 510132488,
        "sender_full_name": "Sophie Morel",
        "timestamp": 1743758513
    },
    {
        "content": "<p>Do you mean something like <a href=\"https://yaeldillies.github.io/Toric/docs/Toric/Hopf/AffineGroupScheme.html#algSpec\"><code>algSpec</code></a>?</p>",
        "id": 510133053,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1743758677
    },
    {
        "content": "<p>That’s not it, this is what Kevin and Sophie are talking about: <a href=\"https://stacks.math.columbia.edu/tag/01LQ\">https://stacks.math.columbia.edu/tag/01LQ</a></p>",
        "id": 510133500,
        "sender_full_name": "Michał Mrugała",
        "timestamp": 1743758796
    },
    {
        "content": "<p>And I realize that my question was naive, I don't think the theory of quasi-coherent sheaves is developed enough for that.</p>",
        "id": 510134468,
        "sender_full_name": "Sophie Morel",
        "timestamp": 1743759045
    },
    {
        "content": "<p>Oh I guess another definition of \"split torus over S\" is \"S-group-scheme isomorphic to S x_Z Spec(Z[Z^n]) for some natural\"</p>",
        "id": 510135827,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743759415
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648495\">@Christian Merten</span> has some code on relative specs IIRC.</p>",
        "id": 510139509,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1743760469
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/487278-toric/topic/Refactoring.20torus.20definition/near/510135827\">said</a>:</p>\n<blockquote>\n<p>S-group-scheme isomorphic to S x_Z Spec(Z[Z^n]) for some natural</p>\n</blockquote>\n<p>Yeah that is the proposed definition.</p>",
        "id": 510139645,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1743760509
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/487278-toric/topic/Refactoring.20torus.20definition/near/510139509\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> has some code on relative specs IIRC.</p>\n</blockquote>\n<p>Not really anything usable, I gave up because, as Sophie said, it seemed pointless as long as we don't have more on quasi-coherent sheaves.</p>",
        "id": 510180117,
        "sender_full_name": "Christian Merten",
        "timestamp": 1743767669
    }
]