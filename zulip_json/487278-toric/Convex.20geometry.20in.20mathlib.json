[
    {
        "content": "<p>Heads up about this. <a href=\"https://github.com/leanprover-community/mathlib4/pull/24149\">#24149</a> is a first PR to clean things up in mathlib, currently still focusing the case of a real inner product space. The hope is that the new definition will be easier to adapt to the perfect pairing setting once it is figured out</p>",
        "id": 512900518,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744918220
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"384542\">@Justus Springer</span>, feel free to help fixing the build if you have time! Otherwise I'll do it slowly over the next few days</p>",
        "id": 512901235,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744918483
    },
    {
        "content": "<p>2 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"487278\" href=\"/#narrow/channel/487278-toric/topic/Correct.20setting.20for.20convex.20geometry/with/509879551\">#toric &gt; Correct setting for convex geometry</a> by <span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span>.</p>",
        "id": 513110319,
        "sender_full_name": "Notification Bot",
        "timestamp": 1745019027
    },
    {
        "content": "<p>Here are a few pain points I am currently identifying with mathlib's cones:</p>\n<ol>\n<li>There are three types of cones (namely <code>ConvexCone R E</code>, <code>PointedCone R E</code>, <code>ProperCone R E</code>), and the file layout doesn't really show whether they should all be considered simultaneously, or each separately. They have one file each, and there is also roughly one file per concept, but the boundary between the two kinds of files is unclear. Furthermore, files are not clearly split according to typeclass assumptions.</li>\n<li>\n<p>The dual cone is defined as three functions:</p>\n<ul>\n<li><code>Set.innerDualCone : Set E → ConvexCone R E</code></li>\n<li><code>PointedCone.dual : PointedCone R E → PointedCone R E</code></li>\n<li><code>ProperCone.dual : ProperCone R E → ProperCone R E</code></li>\n</ul>\n<p>but the dual of a set is <em>always</em> a proper cone! If anything, we should have a function <code>Set E → ProperCone R E</code> and the other ones would just be convenience. Here are the three functions I think we should have:</p>\n<ul>\n<li><code>ConvexCone.innerDual : Set E → ConvexCone R E</code></li>\n<li><code>PointedCone.innerDual : Set E → PointedCone R E</code></li>\n<li><code>ProperCone.innerDual : Set E → ProperCone R E</code></li>\n</ul>\n<p>It would mean we lose dot notation on cones, but I doubt it hugely matters?</p>\n</li>\n<li>\n<p>Nothing works for perfect pairings yet <span aria-label=\"smiling face with tear\" class=\"emoji emoji-1f972\" role=\"img\" title=\"smiling face with tear\">:smiling_face_with_tear:</span></p>\n</li>\n</ol>",
        "id": 513111033,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745019689
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"384542\">@Justus Springer</span>, do you have thoughts on point 2, by any chance?</p>",
        "id": 513111347,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745019952
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> and I have been thinking very hard today <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> <a href=\"https://en.wikipedia.org/wiki/A_Perfect_Pairing\">https://en.wikipedia.org/wiki/A_Perfect_Pairing</a></p>",
        "id": 513433929,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745254113
    },
    {
        "content": "<p>You know about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RootDatum#doc\">docs#RootDatum</a> right? This is a perfect pairing over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span> related to the character and cocharacter group of a maximal torus in a connected reductive group. We don't have the group scheme theory yet but the basic algebra is there.</p>",
        "id": 513449934,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745260502
    },
    {
        "content": "<p>We know about it, although I don't really see how it is related (except for the fact that it's a pairing)</p>",
        "id": 513521976,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745300966
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/487278-toric/topic/Convex.20geometry.20in.20mathlib/near/513111347\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"384542\">Justus Springer</span>, do you have thoughts on point 2, by any chance?</p>\n</blockquote>\n<p>I completely agree. Basically the <code>dual : Set E -&gt; ConvexCone R E</code> should behave very similar to <code>Submodule.span : Set E -&gt; ConvexCone R E</code>. In the latter, you describe a convex cone by giving a generator set, in the former, you describe it as the intersection of halfspaces.</p>",
        "id": 513553698,
        "sender_full_name": "Justus Springer",
        "timestamp": 1745312043
    },
    {
        "content": "<p>Just FYI <code>ConvexCone R E</code> is <em>not</em> defined as <code>Submodule ?? E</code>, although it almost could be!</p>",
        "id": 513554139,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745312177
    },
    {
        "content": "<p>Right, but <code>PointedCone R E</code> is? I'm not sure whether this naming convention is standard.</p>",
        "id": 513554341,
        "sender_full_name": "Justus Springer",
        "timestamp": 1745312246
    },
    {
        "content": "<p>I have gathered that there is not really a standard <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 513554959,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745312410
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/487278-toric/topic/Convex.20geometry.20in.20mathlib/near/513554139\">said</a>:</p>\n<blockquote>\n<p>Just FYI <code>ConvexCone R E</code> is <em>not</em> defined as <code>Submodule ?? E</code>, although it almost could be!</p>\n</blockquote>\n<p>Here's a thread about making it be defined as <code>Submodule {r : R // 0 &lt; r} E</code>: <a class=\"stream-topic\" data-stream-id=\"116395\" href=\"/#narrow/channel/116395-maths/topic/G-submodules/with/514420674\">#maths &gt; G-submodules</a></p>",
        "id": 514428767,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745601899
    },
    {
        "content": "<p>I've just updated <a href=\"https://github.com/leanprover-community/mathlib4/pull/24149\">#24149</a> to draw the line between the two theories of convex cones at algebra vs topology, rather than topology vs analysis.</p>",
        "id": 514440451,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745606251
    }
]