[
    {
        "content": "<p>For i in Fin n, it should always be the case that i ≤ i+1 in the ordered set Fin (n+1)  (for instance because such inequalities coincide with corresponding ones in nat). But I can't find the name for this proof. Please help!</p>",
        "id": 463044327,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1723926337
    },
    {
        "content": "<p>Is it true? For i = n-1, is i + 1 not zero?</p>",
        "id": 463044743,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1723926529
    },
    {
        "content": "<p>It would be true if Fin addition was saturating. (un)fortunately (depending on who you ask), it is looping around. <code>x + y : Fin n</code> means <code>⟨(x + y : ℕ) % n, Nat.mod_lt _ _⟩</code></p>",
        "id": 463045578,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723927166
    },
    {
        "content": "<p>Does <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.le_succ#doc\">docs#Order.le_succ</a> work?</p>",
        "id": 463055911,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1723933777
    },
    {
        "content": "<p>Oh oops, I missed the thing about saturating addition</p>",
        "id": 463072333,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1723942218
    },
    {
        "content": "<p>I think <code>succ i</code> should be what you want though</p>",
        "id": 463072372,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1723942228
    },
    {
        "content": "<p>I think I have the relevant lemma in a PR, but in the meantime, you can use the contrapositive of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.add_one_lt_iff#doc\">docs#Fin.add_one_lt_iff</a></p>",
        "id": 463076920,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1723945193
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/proof.20that.20i.20.E2.89.A4.20i.2B1.20in.20Fin.20n/near/463044743\">said</a>:</p>\n<blockquote>\n<p>Is it true? For i = n-1, is i + 1 not zero?</p>\n</blockquote>\n<p>Thanks, I made a mistake in the statement (...though not in the code I copied the statement from). I meant to say for i in Fin n but the inequality in Fin n+1.</p>",
        "id": 463170200,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1723986516
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/proof.20that.20i.20.E2.89.A4.20i.2B1.20in.20Fin.20n/near/463076920\">said</a>:</p>\n<blockquote>\n<p>I think I have the relevant lemma in a PR, but in the meantime, you can use the contrapositive of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.add_one_lt_iff#doc\">docs#Fin.add_one_lt_iff</a></p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"308899\">@Yakov Pechersky</span>. Will you ping me once it's merged?</p>",
        "id": 463170334,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1723986558
    },
    {
        "content": "<p>Your statement should then be <code>∀ i : Fin n, i.castSucc ≤ i.succ</code>, which you can prove using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.castSucc_lt_succ_iff#doc\">docs#Fin.castSucc_lt_succ_iff</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=le_rfl#doc\">docs#le_rfl</a></p>",
        "id": 463170622,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723986753
    },
    {
        "content": "<p>Thanks! In parallel, I discovered that this also works for me:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"bp\">.</span><span class=\"n\">le_succ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">castSucc</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">le_succ</span><span class=\"w\"> </span><span class=\"n\">i</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"bp\">.</span><span class=\"n\">hom_succ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">castSucc</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">homOfLE</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"bp\">.</span><span class=\"n\">le_succ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 463177495,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1723989877
    }
]