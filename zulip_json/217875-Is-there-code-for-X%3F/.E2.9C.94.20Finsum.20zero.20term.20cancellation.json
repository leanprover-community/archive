[
    {
        "content": "<p>Hello,</p>\n<p>I'm currently working in the context of a <code>calc</code> tactic, wherein I have a finsum expression of the form <code>∑ j : Fin (n + 1), s j • x i</code>, for some fixed <code>i : Fin (n + 1)</code> (and <code>s : Fin (n + 1) → R</code>, <code>x : Fin (n + 1) → M</code>, <code>R</code> a ring and <code>M</code> and <code>R</code>-module, unsure if this matters).</p>\n<p>I also have a hypothesis of the form <code>∀ i j : Fin (n + 1), i ≠ j → s i • x j = 0</code>. From this, is there an idiomatic way to conclude that the above sum reduces to just <code>s i • x i</code> in Lean4?</p>\n<p>Thank you in advance, I really appreciate it :)</p>",
        "id": 454527549,
        "sender_full_name": "hwy",
        "timestamp": 1722114067
    },
    {
        "content": "<p>perhaps <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/BigOperators/Group/Finset.html#Finset.sum_eq_single\">Finset.sum_eq_single</a>?</p>",
        "id": 454527835,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722114353
    },
    {
        "content": "<p>along with <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Module/BigOperators.html#Finset.sum_smul\">Finset.sum_smul</a>, if the brackets turn out to be the wrong way around</p>",
        "id": 454527914,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722114408
    },
    {
        "content": "<p>How does the <code>h₁ : a ∉ s → f a = 0</code> hypothesis in <code>sum_eq_single</code> work if <code>f</code> is undefined outside of <code>s</code>?</p>",
        "id": 454528061,
        "sender_full_name": "hwy",
        "timestamp": 1722114554
    },
    {
        "content": "<p>how do you mean?</p>",
        "id": 454528069,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722114575
    },
    {
        "content": "<p>in this case, you're summing over the entire type, right?</p>",
        "id": 454528077,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722114590
    },
    {
        "content": "<p>so then <code>s = Finset.univ</code>, meaning that <code>a ∉ s</code> is false</p>",
        "id": 454528121,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722114611
    },
    {
        "content": "<p>Ahh right <code>a</code> is implicitly in the type</p>",
        "id": 454528126,
        "sender_full_name": "hwy",
        "timestamp": 1722114624
    },
    {
        "content": "<p>That looks like it works then, thank you!</p>",
        "id": 454528148,
        "sender_full_name": "hwy",
        "timestamp": 1722114638
    },
    {
        "content": "<p>np</p>",
        "id": 454528153,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722114644
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"740340\">hwy</span> has marked this topic as resolved.</p>",
        "id": 454528372,
        "sender_full_name": "Notification Bot",
        "timestamp": 1722114866
    }
]