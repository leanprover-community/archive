[
    {
        "content": "<p>Is there a tactic that only does beta reduction? I usually reach for <code>dsimp only</code> but it doesn't always work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- error: `dsimp` made no progress -/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">trivial</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">trivial</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">dsimp</span><span class=\"w\"> </span><span class=\"n\">only</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Even if this is a bug in <code>dsimp</code> or if there's a technical reason why we shouldn't beta-reduce functions whose argument is a proof term, I'd still love to know of a dedicated tactic.<br>\nIt feels strange to use a massive simplifier and disable its features just to get beta-reduction, it always looks like a non-terminal simp. Also <code>dsimp only</code> is pretty long to type.<br>\nI saw some strange <code>beta%</code> syntax once but I think it's some magic for term-mode and not a tactic.<br>\nThanks!</p>",
        "id": 572493358,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1770432917
    },
    {
        "content": "<p><code>beta_reduce</code>?</p>",
        "id": 572497649,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1770437878
    }
]