[
    {
        "content": "<p>How close are we to be able to state \"Let <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span> be a nice (= smooth, projective and geometrically irreducible) curve over the field <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>\"?</p>\n<p>Background: I'm planning to give another talk (at the <a href=\"https://unidistance.ch/en/mathematics-and-computer-science/event/swiss-number-theory-days-2024\">Swiss Number Theory Days</a>) similar to the one I gave at the <a href=\"https://mordell.org/\">Mordell Conference</a> earlier this year (<a href=\"https://www.mathe2.uni-bayreuth.de/stoll/schrift.html#TalkNotes\">here are the slides</a>), and I'd like to check on the status quo regarding being able to <em>state</em> Mordell's Conjecture/Faltings' Theorem based on Mathlib.</p>\n<p>As far as I can remember, there were some encouraging developments at and after the AIM workshop on formalizing algebraic geometry, but I haven't followed this in detail since then. So any updates are appreciated.</p>\n<p>Grepping through Mathlib for \"Curve\" gives lots of hits for \"EllipticCurve\", \"WeierstrassCurve\" and \"IntegralCurve\" (which is not an integral curve in the sense of alg. geom.), but apparently nothing else, so it looks like there is no direct definition available. But perhaps this is easy to add with what is available?</p>",
        "id": 474010082,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1727780872
    },
    {
        "content": "<ul>\n<li>For smooth (of rel. dimension 1), you can have a look at <a href=\"https://github.com/leanprover-community/mathlib4/pull/16890\">#16890</a> for an overview. There is more in the pipeline, but I am hesitant to create long sequences of dependent PRs.</li>\n<li>If you are happy to replace \"projective\" with \"proper\", then it is there, but you have to piece <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AlgebraicGeometry.UniversallyClosed#doc\">docs#AlgebraicGeometry.UniversallyClosed</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AlgebraicGeometry.IsSeparated#doc\">docs#AlgebraicGeometry.IsSeparated</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AlgebraicGeometry.LocallyOfFiniteType#doc\">docs#AlgebraicGeometry.LocallyOfFiniteType</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AlgebraicGeometry.QuasiCompact#doc\">docs#AlgebraicGeometry.QuasiCompact</a> together (for progress towards proper being usable, see e.g. <a href=\"https://github.com/leanprover-community/mathlib4/pull/15038\">#15038</a>).</li>\n<li>no geometrically irreducible, but you can piece it together from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.MorphismProperty.universally#doc\">docs#CategoryTheory.MorphismProperty.universally</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IrreducibleSpace#doc\">docs#IrreducibleSpace</a></li>\n</ul>",
        "id": 474015869,
        "sender_full_name": "Christian Merten",
        "timestamp": 1727782975
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"648495\">@Christian Merten</span> Thanks! I'll have a look.</p>",
        "id": 474020054,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1727784294
    },
    {
        "content": "<p>OK, I guess for the purposes of my talk, the point is that we can, with some work, define a notion of \"nice curve\" already now (modulo projective vs. proper), but some more work needs to be done to make this nice (pun intended) and usable. (Before seriously embarking on a project along the lines described in the talk, it is certainly better to wait until algebraic curves are in Mathlib. But it looks like this will not be <em>very</em> far away.)</p>",
        "id": 474092457,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1727804578
    },
    {
        "content": "<p>If you're willing to restrict to genus 2 hyperelliptics, Mordell's conjecture can arguably be stated today :)</p>",
        "id": 474102209,
        "sender_full_name": "David Ang",
        "timestamp": 1727807774
    },
    {
        "content": "<p>This will be true for hyperelliptic curves in general, but I consider that cheating <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 474102364,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1727807831
    },
    {
        "content": "<p>How close are we to being able to talk about H^0(Omega^1)? That'll give genus but I don't know if we've glued together the one-forms on the affine pieces yet</p>",
        "id": 474113012,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1727811274
    },
    {
        "content": "<p>I didn't dare to ask for the genus yet...</p>",
        "id": 474116487,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1727812540
    },
    {
        "content": "<p>Oh I thought the goal was stating Faltings' theorem!</p>",
        "id": 474129183,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1727817337
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474113012\">said</a>:</p>\n<blockquote>\n<p>How close are we to being able to talk about H^0(Omega^1)? That'll give genus but I don't know if we've glued together the one-forms on the affine pieces yet</p>\n</blockquote>\n<p>I think we are close to having <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">Œ©</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\Omega^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> as a presheaf, but I don't know if there is more. Maybe <span class=\"user-mention\" data-user-id=\"459699\">@Jo√´l Riou</span> wants to comment?</p>",
        "id": 474129771,
        "sender_full_name": "Christian Merten",
        "timestamp": 1727817629
    },
    {
        "content": "<p>Maybe <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>H</mi><mn>1</mn></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><msub><mi mathvariant=\"script\">O</mi><mi>X</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\"> H^1(X, \\mathcal O_X) </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> will be accessible first.</p>",
        "id": 474195165,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1727846862
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474129183\">said</a>:</p>\n<blockquote>\n<p>Oh I thought the goal was stating Faltings' theorem!</p>\n</blockquote>\n<p>Sure. But before we talk about the genus, we need the curves... <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 474195624,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1727847141
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474129771\">said</a>:</p>\n<blockquote>\n<p>I think we are close to having <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">Œ©</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\Omega^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> as a presheaf, but I don't know if there is more. Maybe <span class=\"user-mention silent\" data-user-id=\"459699\">Jo√´l Riou</span> wants to comment?</p>\n</blockquote>\n<p>We have the \"absolute\" presheaf of differentials of presheaf of rings (over the integers). With some more work about sheafification and pullbacks of (pre)sheaves of modules, the relative (pre)sheaf of differentials could be defined. With some more work, we could show it is quasi-coherent...</p>",
        "id": 474335362,
        "sender_full_name": "Jo√´l Riou",
        "timestamp": 1727884461
    },
    {
        "content": "<p>I am currently thinking about making some progress about pullbacks of (pre)sheaves of modules.</p>",
        "id": 474335520,
        "sender_full_name": "Jo√´l Riou",
        "timestamp": 1727884500
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Jo√´l Riou</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474335362\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474129771\">said</a>:</p>\n<blockquote>\n<p>I think we are close to having <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"normal\">Œ©</mi><mn>1</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\Omega^1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span> as a presheaf, but I don't know if there is more. Maybe <span class=\"user-mention silent\" data-user-id=\"459699\">Jo√´l Riou</span> wants to comment?</p>\n</blockquote>\n<p>We have the \"absolute\" presheaf of differentials of presheaf of rings (over the integers). With some more work about sheafification and pullbacks of (pre)sheaves of modules, the relative (pre)sheaf of differentials could be defined. With some more work, we could show it is quasi-coherent...</p>\n</blockquote>\n<p>Do I understand correctly, that this is needed to allow arbitrary <code>F</code> in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PresheafOfModules.DifferentialsConstruction.relativeDifferentials%27#doc\">docs#PresheafOfModules.DifferentialsConstruction.relativeDifferentials'</a> ?</p>",
        "id": 474348471,
        "sender_full_name": "Christian Merten",
        "timestamp": 1727887502
    },
    {
        "content": "<p>Yes, the idea is to construct the relative differential of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>:</mo><mi>X</mi><mo>‚Üí</mo><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">f : X \\to S</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Üí</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span></span></span></span> by using the cokernel of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>f</mi><mo>‚àó</mo></msup><msubsup><mi mathvariant=\"normal\">Œ©</mi><mrow><mi>S</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"bold\">Z</mi></mrow><mn>1</mn></msubsup><mo>‚Üí</mo><msubsup><mi mathvariant=\"normal\">Œ©</mi><mrow><mi>X</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"bold\">Z</mi></mrow><mn>1</mn></msubsup></mrow><annotation encoding=\"application/x-tex\">f^* \\Omega^1_{S/\\mathbf{Z}}\\to \\Omega^1_{X/\\mathbf{Z}}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.3111em;vertical-align:-0.497em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6887em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">‚àó</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-2.378em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mtight\">/</span><span class=\"mord mathbf mtight\">Z</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.497em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Üí</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.3111em;vertical-align:-0.497em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-2.378em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord mtight\">/</span><span class=\"mord mathbf mtight\">Z</span></span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.497em;\"><span></span></span></span></span></span></span></span></span></span></p>",
        "id": 474365794,
        "sender_full_name": "Jo√´l Riou",
        "timestamp": 1727892961
    },
    {
        "content": "<p>Assuming we can define the genus as a <em>cardinal</em> (as the dimension of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>H</mi><mn>0</mn></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><msup><mi mathvariant=\"normal\">Œ©</mi><mn>1</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H^0(X, \\Omega^1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>), how do we get from there to defining it as a <code>Nat</code>? That amounts to proving that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>H</mi><mn>0</mn></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><msup><mi mathvariant=\"normal\">Œ©</mi><mn>1</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H^0(X, \\Omega^1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> is finite-dimensional, which sounds like serious work.</p>",
        "id": 474371134,
        "sender_full_name": "David Loeffler",
        "timestamp": 1727894842
    },
    {
        "content": "<p>There is always <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.toNat#doc\">docs#Cardinal.toNat</a></p>",
        "id": 474371356,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1727894896
    },
    {
        "content": "<p>\"This function sends finite cardinals to the corresponding natural, and infinite cardinals to 0.\" <span aria-label=\"vomit\" class=\"emoji emoji-1f92e\" role=\"img\" title=\"vomit\">:vomit:</span></p>",
        "id": 474371779,
        "sender_full_name": "David Loeffler",
        "timestamp": 1727895013
    },
    {
        "content": "<p>You don't need to prove finite-dimensionality if all you want to do is to <em>state</em> Faltings' theorem. And if you want to prove it then there are an awful lot of far more serious problems :-)</p>",
        "id": 474538597,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1727948206
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"481963\">David Loeffler</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474371779\">said</a>:</p>\n<blockquote>\n<p>\"This function sends finite cardinals to the corresponding natural, and infinite cardinals to 0.\" <span aria-label=\"vomit\" class=\"emoji emoji-1f92e\" role=\"img\" title=\"vomit\">:vomit:</span></p>\n</blockquote>\n<p>When I define <code>Nat.pred</code> in front of the undergrads I always have pred 0 = 37, maybe you'd like this convention better?</p>",
        "id": 474538857,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1727948290
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Jo√´l Riou</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/474335520\">said</a>:</p>\n<blockquote>\n<p>I am currently thinking about making some progress about pullbacks of (pre)sheaves of modules.</p>\n</blockquote>\n<p>The pullback of presheaves of modules is constructed in a series of PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/16755\">#16755</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/17389\">#17389</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/17388\">#17388</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/17366\">#17366</a>. It needs some cleaning up, but <a href=\"https://github.com/leanprover-community/mathlib4/pull/16755\">#16755</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/17389\">#17389</a> are ready for review.</p>",
        "id": 474778367,
        "sender_full_name": "Jo√´l Riou",
        "timestamp": 1728033404
    },
    {
        "content": "<p>I now have very draft code for the sheaf of differentials of a morphism of schemes:<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/17471/files#diff-aee684e69be0f996df67f2d837d4531650486ecce319817b462cf7caa97e62e2R12-R15\">https://github.com/leanprover-community/mathlib4/pull/17471/files#diff-aee684e69be0f996df67f2d837d4531650486ecce319817b462cf7caa97e62e2R12-R15</a><br>\n(It follows from the construction of the relative differentials as a presheaf <a href=\"https://github.com/leanprover-community/mathlib4/pull/17469\">#17469</a> and the sheafification <a href=\"https://github.com/leanprover-community/mathlib4/pull/17471\">#17471</a>.)</p>",
        "id": 475121092,
        "sender_full_name": "Jo√´l Riou",
        "timestamp": 1728237528
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"479359\">@Michael Stoll</span>, unfortunately a week to late for your last talk, but maybe in time for the next one:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">CategoryTheory</span><span class=\"w\"> </span><span class=\"n\">Limits</span><span class=\"w\"> </span><span class=\"n\">AlgebraicGeometry</span>\n\n<span class=\"sd\">/-- A scheme `X` over a field `K` is geometrically irreducible, if it remains irreducible</span>\n<span class=\"sd\">after base changing along arbitrary field extensions of `K`. -/</span>\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">IsGeometricallyIrreducible</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">pullback_irreducibleSpace_of_field</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommRingCat</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">IrreducibleSpace</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"o\">(</span><span class=\"n\">pullback</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Spec</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))</span>\n\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">IsNiceCurve</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"kn\">extends</span>\n<span class=\"w\">  </span><span class=\"n\">IsGeometricallyIrreducible</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsProper</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsSmoothOfRelativeDimension</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">f</span>\n</code></pre></div>\n<p>compiles in Mathlib now.</p>",
        "id": 477622844,
        "sender_full_name": "Christian Merten",
        "timestamp": 1729246589
    },
    {
        "content": "<p>Nice! (Pun intended...)</p>",
        "id": 477632719,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1729250377
    },
    {
        "content": "<p>Great! I'll do curves at <a href=\"https://sites.google.com/view/durhamcompalggeom/home\">this workshop</a> then!</p>",
        "id": 477694480,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1729270146
    },
    {
        "content": "<p>Any ideas for projects greatly appreciated!</p>",
        "id": 477694505,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1729270157
    },
    {
        "content": "<p>I think a fun project would be developing the notion of <code>IsGeometrically P</code> where <code>P</code> is a morphism property with target <code>Spec K</code>, where of course the main examples of <code>P</code> should be the source is irreducible, connected or reduced. In particular to show that it suffices to check these on one algebraically closed extension following e.g. EGA IV.2, 4.3-4.6 first restricting to the affine case.</p>",
        "id": 477797345,
        "sender_full_name": "Christian Merten",
        "timestamp": 1729336611
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/.28Nice.29.20algebraic.20curves/near/477694505\">said</a>:</p>\n<blockquote>\n<p>Any ideas for projects greatly appreciated!</p>\n</blockquote>\n<p>Not sure how much work this still is, but defining the genus of a (nice) curve would be a worth while target.</p>",
        "id": 480327399,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1730657655
    },
    {
        "content": "<p>What is the idiomatic way of defining the type of (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>-)points on a nice curve over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi></mrow><annotation encoding=\"application/x-tex\">K</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span></span></span></span>? I.e., how to fill the second <code>sorry</code> below?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">CategoryTheory</span><span class=\"w\"> </span><span class=\"n\">Limits</span><span class=\"w\"> </span><span class=\"n\">AlgebraicGeometry</span>\n\n<span class=\"sd\">/-- A scheme `X` over a field `K` is geometrically irreducible, if it remains irreducible</span>\n<span class=\"sd\">after base changing along arbitrary field extensions of `K`. -/</span>\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">IsGeometricallyIrreducible</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">pullback_irreducibleSpace_of_field</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommRingCat</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">IrreducibleSpace</span><span class=\"w\"> </span><span class=\"bp\">‚Üë</span><span class=\"o\">(</span><span class=\"n\">pullback</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Spec</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))</span>\n\n<span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">IsNiceCurve</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"kn\">extends</span>\n<span class=\"w\">  </span><span class=\"n\">IsGeometricallyIrreducible</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsProper</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsSmoothOfRelativeDimension</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">f</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Scheme</span>\n<span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">nice</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsNiceCurve</span><span class=\"w\"> </span><span class=\"n\">f</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"bp\">.</span><span class=\"n\">isSmooth</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsSmoothOfRelativeDimension</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">nice</span><span class=\"bp\">.</span><span class=\"n\">toIsSmoothOfRelativeDimension</span>\n<span class=\"c1\">-- etc.</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"bp\">.</span><span class=\"n\">genus</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"bp\">.</span><span class=\"n\">Points</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Mordell</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NumberField</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">genus</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">‚â•</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Points</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 480330925,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1730661071
    },
    {
        "content": "<p>Maybe <code>{ f : Spec (.of K) ‚ü∂ X // f ‚â´ X.f = ùüô _ }</code> for now but in <a href=\"https://github.com/leanprover-community/mathlib4/pull/18321\">#18321</a> there is an attempt to add a thin wrapper around this.</p>",
        "id": 480333029,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1730662856
    },
    {
        "content": "<p>So it looks like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>H</mi><mn>0</mn></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><msup><mi mathvariant=\"normal\">Œ©</mi><mn>1</mn></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H^0(X,\\Omega^1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">0</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord\">Œ©</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> won't be ready by 16th Nov when the workshop starts. But what about <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>H</mi><mn>1</mn></msup><mo stretchy=\"false\">(</mo><mi>X</mi><mo separator=\"true\">,</mo><msub><mi mathvariant=\"script\">O</mi><mi>X</mi></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H^1(X,\\mathcal{O}_X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3283em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.07847em;\">X</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>?</p>",
        "id": 480369505,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1730697613
    },
    {
        "content": "<p>what about:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"bp\">.</span><span class=\"n\">Points</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">NiceCurve</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">pt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">pt</span><span class=\"w\"> </span><span class=\"bp\">‚â´</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"bp\">.</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">ùüô</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Spec</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>\n<p>?</p>\n<p>A K-point of a scheme¬†X¬†over¬†K¬†is a map from the \"point\"¬†Spec K¬†to¬†X¬†that respects the structure of¬†X¬†being defined over¬†K. The commuting condition¬†pt ‚â´ X.f = ùüô (Spec (.of K))¬†formalizes this \"respecting the structure\".</p>",
        "id": 494678121,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1737320528
    }
]