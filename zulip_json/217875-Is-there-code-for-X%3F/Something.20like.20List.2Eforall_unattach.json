[
    {
        "content": "<p>Would it be helpful if I added this lemma to Mathlib?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">forall_unattach</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">//</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">}}:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">unattach</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">unattach</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">map_subtype</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">intros</span>\n<span class=\"w\">  </span><span class=\"n\">assumption</span>\n</code></pre></div>\n<p>Or does it already exist somewhere under a different name?</p>",
        "id": 505509087,
        "sender_full_name": "Will Bradley",
        "timestamp": 1741894112
    },
    {
        "content": "<p>Doesn't seem unreasonable. When I introduced <code>unattach</code>, however, I was hoping that people wouldn't use it! It's meant to be an intermediate form that is always simplified away.</p>",
        "id": 505528922,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1741901125
    },
    {
        "content": "<p>May we need more vigorous warnings in the doc-strings...</p>",
        "id": 505528966,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1741901142
    },
    {
        "content": "<p>BTW try <code>simp?</code> so that you can replace the nonterminal <code>simp</code> by something more concrete.</p>",
        "id": 505535781,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1741904028
    }
]