[
    {
        "content": "<p>Is there any way to convert a <code>Float</code> to an adjacent <code>Int</code>? Rounding up, down, anything.</p>",
        "id": 466267842,
        "sender_full_name": "Marcus Rossel",
        "timestamp": 1725024249
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> (Float -&gt; Int)</p>",
        "id": 466274764,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1725026356
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> nothing found</p>",
        "id": 466274768,
        "sender_full_name": "loogle",
        "timestamp": 1725026357
    },
    {
        "content": "<p>you may be able to go via one of various<code>UInt</code> types?</p>",
        "id": 466290771,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725030863
    },
    {
        "content": "<p>alternatively, use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Batteries/Data/Rat/Basic.html#Float.toRat0\">Float.toRat0</a>?</p>",
        "id": 466291930,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725031161
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Float.floor#doc\">docs#Float.floor</a></p>",
        "id": 466292723,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1725031330
    },
    {
        "content": "<p>Ha but that gives a float back</p>",
        "id": 466292807,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1725031360
    },
    {
        "content": "<p>surprising, right?</p>",
        "id": 466292830,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725031369
    },
    {
        "content": "<p>What would it do to <code>NaN</code> if it didn't return a float</p>",
        "id": 466302050,
        "sender_full_name": "Julian Berman",
        "timestamp": 1725034174
    },
    {
        "content": "<p>(I guess in the original case you don't care, but yeah it seems like any \"real\" defined coercion needs to decide on what to do with infs an nans?)</p>",
        "id": 466302153,
        "sender_full_name": "Julian Berman",
        "timestamp": 1725034203
    },
    {
        "content": "<p>the <code>toRat0</code> function i referenced returns <code>0</code>, but there is also a version with codomain <code>Option Rat</code>, which returns <code>Option.none</code> in those cases.</p>",
        "id": 466302428,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725034307
    },
    {
        "content": "<p>Using conversion to <code>Rat</code> is the best option if you want exact values. Unfortunately there is no <code>Rat.round</code> function yet...</p>",
        "id": 466336846,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1725048872
    },
    {
        "content": "<p>Don't we have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=round#doc\">docs#round</a> ?</p>",
        "id": 466337194,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725049042
    },
    {
        "content": "<p>ah, it's not in batteries yet</p>",
        "id": 466337546,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1725049215
    },
    {
        "content": "<p>it's also not using ties-to-even</p>",
        "id": 466337568,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1725049225
    },
    {
        "content": "<p>Nor is it documented as not being that</p>",
        "id": 466337952,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725049437
    },
    {
        "content": "<p>as a last resort, you can try using <a href=\"https://leanprover-community.github.io/mathlib4_docs/Batteries/Lean/Float.html#Float.toRatParts\">Float.toRatParts</a>, but that might be a bit more hands-on</p>",
        "id": 466338053,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725049470
    }
]