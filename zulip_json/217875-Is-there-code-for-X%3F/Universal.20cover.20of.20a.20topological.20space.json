[
    {
        "content": "<p>I wanted to suggest a student project today, which needs the existence of the universal cover... do we have that in mathlib? If not, how far are we from it? I remember there being a saga of covering space PRs, some of which overlapped and/or got stale... can you update me on the progress? Covering spaces are such a basic and useful topic, it would be great to have this :-)</p>",
        "id": 553548760,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762244046
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span> If I remember correctly, you wrote one of these PRs, right?</p>",
        "id": 553548966,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762244102
    },
    {
        "content": "<p>Side stepping the question: do you need the existence, or would assuming that you have a simply connected cover be enough?</p>",
        "id": 553549346,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1762244218
    },
    {
        "content": "<p>I also agree that having the existence is something that I would expect in the long run!</p>",
        "id": 553549431,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1762244248
    },
    {
        "content": "<p>I guess I could side-step it by saying \"it has a simply connected cover\". Feels a little naughty, though :-)</p>",
        "id": 553551112,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762244828
    },
    {
        "content": "<p>BTW, it would be nice to refactor simply connected so that</p>\n<ul>\n<li>we have <code>IsSimplyConnected</code> predicate for sets, not only a typeclass types;</li>\n<li>we have a <code>Pre*</code> version that doesn't assume nonempty and connected;</li>\n<li>the definition doesn't <code>import</code> category theory.</li>\n</ul>",
        "id": 553757404,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1762313569
    },
    {
        "content": "<p>I have formalized Serre fibrations and the long exact sequence of a fibration of Kan complexes (which implies a similar long homotopy sequence of homotopy groups for a Serre fibration). As I have also formalized the fact that to be a Serre fibration is a local on the base, it is clear that a covering of topological spaces is a Serre fibration, and so there is a long exact homotopy sequences attached to it. Then, if this is relevant for this project, it is probably not necessary to attempt at formalizing the full homotopy sequence of a covering as it will be dissolved in more general API later, but there is no harm doing the lower degree part of it involving the fundamental group and path connected components.</p>",
        "id": 553832956,
        "sender_full_name": "Joël Riou",
        "timestamp": 1762343653
    },
    {
        "content": "<p>Thanks for the ping! My plan is to formalize the <a href=\"https://ncatlab.org/nlab/show/fundamental+theorem+of+covering+spaces\">fundamental theorem of covering spaces</a>, which says taking monodromy (<a href=\"https://github.com/leanprover-community/mathlib4/pull/22771\">#22771</a>) is an equivalence between the category of covering spaces over a nice space B and the category of functors from its fundamental groupoid to <code>Type _</code>.</p>\n<p>The inverse of the monodromy functor  associates a covering space to each functor F from the fundamental groupoid of B to <code>Type _</code>; the universal cover will be obtained from the co-Yoneda functor applied to a chosen base point. <code>F.obj b</code> will be the fiber over <code>b : B</code> of the covering map, and we may define a predicate P over partial sections of the type family <code>F.obj</code>, so that for each open <code>U : Set B</code> and section <code>f : Π b : U, F.obj b</code>, <code>P f</code> is defined to say that for any path <code>p</code> entirely lying in U between any two points <code>x</code> and <code>y</code>, one has <code>F.map p (f x) = f y</code>. If the base space B is nice (locally path-connected and semilocally simply-connected) then P is <em>locally constant</em>, and it's proven in <a href=\"https://github.com/leanprover-community/mathlib4/pull/22782\">#22782</a> that the étalé space associated to a locally constant predicate is a covering space.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22782\">#22782</a> will also be used to show e.g. holomorphic functions on simply-connected domains have primitives.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22771\">#22771</a> (monodromy) will also be used to compute the fundamental group of the circle (or in general the quotient by a free properly discontinuous action; <a href=\"https://github.com/leanprover-community/mathlib4/pull/7596\">#7596</a> shows the quotient map is a covering map, but is currently stuck due to some outstanding request that depends on some API connecting IsCoveringMap and IsCoveringMapOn that's half-finished in another branch.</p>\n<p>I tried to write down a definition of semi-locally simply connectedness (SLSC) in a branch but I realized we probably also want locally simply-connected (LSC), weakly locally simply-connected (WLSC), weakly locally path connected (WLPC), and weakly locally connected (WLC), similar to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WeaklyLocallyCompactSpace#doc\">docs#WeaklyLocallyCompactSpace</a> (we already have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LocPathConnectedSpace#doc\">docs#LocPathConnectedSpace</a> (LPC)), and we can have the following instances:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">        </span><span class=\"n\">LSC</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\">  </span><span class=\"n\">LPC</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\">  </span><span class=\"n\">LC</span>\n<span class=\"w\">         </span><span class=\"bp\">↓</span><span class=\"w\">      </span><span class=\"bp\">↓</span><span class=\"w\">     </span><span class=\"bp\">↓</span>\n<span class=\"n\">SLSC</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">WLSC</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">WLPC</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">WLC</span>\n<span class=\"w\">         </span><span class=\"bp\">↑</span><span class=\"w\">      </span><span class=\"bp\">↑</span><span class=\"w\">     </span><span class=\"bp\">↑</span>\n<span class=\"w\">         </span><span class=\"n\">SC</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\">   </span><span class=\"n\">PC</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\">  </span><span class=\"n\">C</span>\n</code></pre></div>\n<p>I need to prepare a repo for a workshop on algebraic geometry in two weeks' time so I'm not returning to this soon (though I just addressed review in <a href=\"https://github.com/leanprover-community/mathlib4/pull/22782\">#22782</a>). There's probably something a student could help with, or they may even follow my outline to construct the universal cover if they find it appealing.</p>",
        "id": 553978683,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1762384314
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> hadn't you got something along these lines at Simons?</p>",
        "id": 555272698,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1763013642
    },
    {
        "content": "<p>I proved \"in a semilocally simply connected, locally path-connected space, the quotient of paths by homotopy has the discrete topology\" in <a href=\"https://github.com/leanprover-community/mathlib4/pull/31576\">#31576</a>, which is close to the statement one wants</p>",
        "id": 555315998,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763029103
    },
    {
        "content": "<p>(Mostly this was an exercise in seeing what Claude can do these days. I tried for a while to avoid actually typing anything except into Claude code, but eventually relented and finish a few proofs myself. I couldn't get Claude to understand how to implement the refactor in <a href=\"https://github.com/leanprover-community/mathlib4/pull/31574\">#31574</a>, which in my mind was essential to doing the proofs sanely.)</p>",
        "id": 555316756,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763029341
    },
    {
        "content": "<p>Oh yes, John Morgan and I put together this scaffold : <a href=\"https://alexkontorovich.github.io/CoveringSpacesProject/web/dep_graph_document.html\">https://alexkontorovich.github.io/CoveringSpacesProject/web/dep_graph_document.html</a> (He wasn't happy that mathlib's proof of the fundamental theorem of algebra used complex analysis; insisted that it should be a purely topological proof...)</p>",
        "id": 555482649,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1763079650
    }
]