[
    {
        "content": "<p>I wanna use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrderHom.lfp#doc\">docs#OrderHom.lfp</a> to get the least fixpoint of a function <code>Finset a -&gt; Finset a</code>, but it doesn't implement <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompleteLattice#doc\">docs#CompleteLattice</a>. <code>Set</code> does implement it, it seems, but I need a finite result</p>",
        "id": 574104176,
        "sender_full_name": "Mai",
        "timestamp": 1771246801
    },
    {
        "content": "<p><code>Finset</code> isn't a complete lattice on an infinite type</p>",
        "id": 574104640,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771246931
    },
    {
        "content": "<p>I am not sure why?</p>",
        "id": 574105173,
        "sender_full_name": "Mai",
        "timestamp": 1771247082
    },
    {
        "content": "<p>Because there are infinite chains, e.g. <code>{1}, {1,2}, {1,2,3}, ...</code> and the supremum isn't a finset</p>",
        "id": 574105279,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771247111
    },
    {
        "content": "<p>the supremum of all singletons isn't finite anymore</p>",
        "id": 574105300,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771247119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"1019723\">@Mai</span> do you understand that <code>Finset a</code> is <em>not</em> a finite set, but the (usually infinite) collection of finite sets whose elements are of type <code>a</code>?</p>",
        "id": 574105467,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1771247165
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/A.20finite.20set.20that.20is.20a.20CompleteLattice/near/574104640\">said</a>:</p>\n<blockquote>\n<p><code>Finset</code> isn't a complete lattice on an infinite type</p>\n</blockquote>\n<p>But shouldn't it be a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ConditionallyCompleteLattice#doc\">docs#ConditionallyCompleteLattice</a> on any type?<br>\n(might not help the fixpoint problem, but maybe)</p>",
        "id": 574105608,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771247203
    },
    {
        "content": "<p>Also it seems that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrderHom.lfp#doc\">docs#OrderHom.lfp</a> only needs the fact that infimum is monotone (<code>s ⊆ t → sInf s ≤ sInf t</code>), which I think is true for finsets.</p>",
        "id": 574106086,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1771247355
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/A.20finite.20set.20that.20is.20a.20CompleteLattice/near/574105467\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"1019723\">Mai</span> do you understand that <code>Finset a</code> is <em>not</em> a finite set, but the (usually infinite) collection of finite sets whose elements are of type <code>a</code>?</p>\n</blockquote>\n<p>Yes, I am aware. My monotone function takes a set and adds elements to it</p>",
        "id": 574109961,
        "sender_full_name": "Mai",
        "timestamp": 1771248657
    },
    {
        "content": "<p>how do you know its least fixpoint is finite</p>",
        "id": 574110202,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771248724
    },
    {
        "content": "<p>There's a finite set of elements the function may add to the set, regardless of the argument</p>",
        "id": 574110802,
        "sender_full_name": "Mai",
        "timestamp": 1771248890
    },
    {
        "content": "<p>Then if <code>S</code> is the finset of elements your function <code>f</code> can add then <code>f^[S.card] ∅</code> should be the least fixpoint of <code>f</code></p>",
        "id": 574113074,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1771249540
    },
    {
        "content": "<p>I guess so <span aria-label=\"grimacing\" class=\"emoji emoji-1f62c\" role=\"img\" title=\"grimacing\">:grimacing:</span> feels a little hacky though</p>",
        "id": 574114528,
        "sender_full_name": "Mai",
        "timestamp": 1771249946
    }
]