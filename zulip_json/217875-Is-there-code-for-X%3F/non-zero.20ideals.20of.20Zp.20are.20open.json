[
    {
        "content": "<p>Seems that there are missing APIs for topologies on Zp, or it's just me not figuring out how to do it?</p>\n<p>For example, any non-zero ideals of Zp (we have classification of them <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PadicInt.ideal_eq_span_pow_p#doc\">docs#PadicInt.ideal_eq_span_pow_p</a>) are open and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsAdic#doc\">docs#IsAdic</a>.</p>",
        "id": 510188483,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743769637
    },
    {
        "content": "<p>Go from ideal to span to closed ball and then IsUltrametricDist.isOpen_closedBall?</p>",
        "id": 510190985,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1743770226
    },
    {
        "content": "<p>We don't have anything that links IsAdicComplete with IsAdic afaict</p>",
        "id": 510191584,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1743770376
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/non-zero.20ideals.20of.20Zp.20are.20open/near/510190985\">said</a>:</p>\n<blockquote>\n<p>Go from ideal to span to closed ball and then IsUltrametricDist.isOpen_closedBall?</p>\n</blockquote>\n<p>Let me try.</p>\n<p>It works:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">PadicInt.ideal_isOpen_of_ne_bot</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fact</span><span class=\"w\"> </span><span class=\"n\">p.Prime</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">]}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"bp\">⊥</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">obtain</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">PadicInt.ideal_eq_span_pow_p</span><span class=\"w\"> </span><span class=\"n\">hs</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">NeZero.out</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">IsUltrametricDist.isOpen_closedBall</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"n\">ext</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SetLike.mem_coe</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Metric.mem_closedBall</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">dist_zero_right</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">PadicInt.norm_le_pow_iff_mem_span_pow</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 510196360,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743771629
    },
    {
        "content": "<p>... and I want to prove that the zero ideal is not open. My plan is the following: a set <code>U</code> is open if and only if for every point <code>x</code> in <code>U</code> there is an open ball with center on <code>x</code> contained in <code>U</code> (assuming <code>IsUltrametricDist</code>). Do we have this in mathlib?</p>",
        "id": 510248194,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743785112
    },
    {
        "content": "<p>I found <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=dense_compl_singleton_iff_not_open#doc\">docs#dense_compl_singleton_iff_not_open</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=not_isOpen_singleton#doc\">docs#not_isOpen_singleton</a> but then stuck.</p>",
        "id": 510248499,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743785203
    },
    {
        "content": "<p>... and next: Z is dense in Zp, or more generally, <code>Set.range fun x =&gt; a * x + b</code> where <code>a b : Nat</code> with <code>a</code> coprime to <code>p</code> is dense in Zp. Maybe I need to use definition to check this?</p>\n<p>[EDIT] Found it: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PadicInt.denseRange_natCast#doc\">docs#PadicInt.denseRange_natCast</a></p>",
        "id": 510251638,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743786228
    },
    {
        "content": "<p>To show {0} is not open you may combine <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Compactness/Compact.html#finite_of_compact_of_discrete\">finite_of_compact_of_discrete</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Algebra/Group/Basic.html#discreteTopology_of_isOpen_singleton_zero\">discreteTopology_of_isOpen_singleton_zero</a></p>",
        "id": 510254711,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1743787391
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/non-zero.20ideals.20of.20Zp.20are.20open/near/510254711\">said</a>:</p>\n<blockquote>\n<p>To show {0} is not open you may combine <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Compactness/Compact.html#finite_of_compact_of_discrete\">finite_of_compact_of_discrete</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Algebra/Group/Basic.html#discreteTopology_of_isOpen_singleton_zero\">discreteTopology_of_isOpen_singleton_zero</a></p>\n</blockquote>\n<p>Thank you! It works:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">PadicInt.ideal_isOpen_of_ne_bot</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fact</span><span class=\"w\"> </span><span class=\"n\">p.Prime</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">]}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"bp\">⊥</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">obtain</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">PadicInt.ideal_eq_span_pow_p</span><span class=\"w\"> </span><span class=\"n\">hs</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">NeZero.out</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"n\">IsUltrametricDist.isOpen_closedBall</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"n\">ext</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SetLike.mem_coe</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Metric.mem_closedBall</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">dist_zero_right</span><span class=\"o\">,</span>\n<span class=\"w\">    </span><span class=\"n\">PadicInt.norm_le_pow_iff_mem_span_pow</span><span class=\"o\">]</span>\n\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">PadicInt.ideal_isOpen_iff</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fact</span><span class=\"w\"> </span><span class=\"n\">p.Prime</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">]}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"bp\">⊥</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"o\">⟨</span><span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">PadicInt.ideal_isOpen_of_ne_bot</span><span class=\"o\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">rintro</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Submodule.bot_coe</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">discreteTopology_iff_isOpen_singleton_zero</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">finite_of_compact_of_discrete</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Infinite</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">of_injective</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"w\"> </span><span class=\"n\">CharZero.cast_injective</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">not_finite</span><span class=\"w\"> </span><span class=\"n\">ℤ_</span><span class=\"o\">[</span><span class=\"n\">p</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 510259064,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743788986
    },
    {
        "content": "<blockquote>\n<p>a set <code>U</code> is open if and only if for every point <code>x</code> in <code>U</code> there is an open ball with center on <code>x</code> contained in <code>U</code></p>\n</blockquote>\n<p>I think you're looking for <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/MetricSpace/Pseudo/Defs.html#Metric.isOpen_iff\">Metric.isOpen_iff</a> (no need of ultrametricity)</p>",
        "id": 510262399,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1743790047
    },
    {
        "content": "<p>PR created as <a href=\"https://github.com/leanprover-community/mathlib4/pull/23720\">#23720</a>.</p>",
        "id": 510466422,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743932221
    },
    {
        "content": "<p>Note that I use a lengthier proof of <code>PadicInt.ideal_isOpen_iff</code> since <code>finite_of_compact_of_discrete</code> is not available in that file. Same as <code>ideal_isClosed</code>, I can't use the fact that an open subgroup is also closed.</p>",
        "id": 510466524,
        "sender_full_name": "Jz Pan",
        "timestamp": 1743932294
    },
    {
        "content": "<p>Superseded by <a href=\"https://github.com/leanprover-community/mathlib4/pull/23757\">#23757</a>.</p>",
        "id": 510674470,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744033310
    },
    {
        "content": "<p>I'm wondering that if results in that PRs could be generalized, e.g. all ideals in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"script\">O</mi><msub><mi mathvariant=\"double-struck\">C</mi><mi>p</mi></msub></msub></mrow><annotation encoding=\"application/x-tex\">\\mathcal{O}_{\\mathbb{C}_p}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0307em;vertical-align:-0.3473em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2819em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3473em;\"><span></span></span></span></span></span></span></span></span></span> should be also closed, and is open if and only if it is not zero.</p>\n<p>But <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"script\">O</mi><msub><mi mathvariant=\"double-struck\">C</mi><mi>p</mi></msub></msub></mrow><annotation encoding=\"application/x-tex\">\\mathcal{O}_{\\mathbb{C}_p}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0307em;vertical-align:-0.3473em;\"></span><span class=\"mord\"><span class=\"mord mathcal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3322em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathbb mtight\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1645em;\"><span style=\"top:-2.357em;margin-left:0em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2819em;\"><span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3473em;\"><span></span></span></span></span></span></span></span></span></span> is not Noetherian nor compact. Maybe this is also true for a T2 valuation ring?</p>",
        "id": 510674859,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744033385
    },
    {
        "content": "<p>I should think it's true for a very large class of rings with topology coming from a valuation</p>",
        "id": 510679297,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744034269
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Algebra/Valued/ValuationTopology.html#Valued.valuationSubring_isOpen\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Algebra/Valued/ValuationTopology.html#Valued.valuationSubring_isOpen</a> could be extended to all non zero ideals are open + all ideals are closed, although maybe the assumptions are a little stronger than strictly necessary.</p>",
        "id": 510698636,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1744038585
    },
    {
        "content": "<p>Next question: a closed <code>AddSubgroup</code> in Zp must be an ideal. <del>This should also be true for a DVR whose residue field is Fp.</del></p>",
        "id": 511418142,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744293354
    },
    {
        "content": "<p>That doesn't sound true, for example there are finite (hence closed) subgroups of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>F</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">F_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span></p>",
        "id": 511421974,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1744294246
    },
    {
        "content": "<p>Oh, sorry. In fact I used that Z is dense in Zp. Seems that it's not true for any other DVRs.</p>",
        "id": 511425848,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744295139
    },
    {
        "content": "<p>For open <code>AddSubgroups</code> it should still be true.</p>",
        "id": 511426300,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744295230
    },
    {
        "content": "<p>I think you need a DVR where p is a uniformizer and the residue field is Fp for either version to be true.</p>",
        "id": 511445768,
        "sender_full_name": "Matthew Jasper",
        "timestamp": 1744299813
    },
    {
        "content": "<p>Oh yes, there are some non-complete DVRs for which it's true</p>",
        "id": 511479954,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744308398
    },
    {
        "content": "<p>I think an open <code>AddSubgroup</code> in a totally ramified finite extension of Zp is <del>still a non-zero ideal</del>.</p>",
        "id": 511559049,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744345978
    },
    {
        "content": "<p>It must contains some <code>m ^ n</code>. Suppose it contains <code>m ^ (n + 1)</code> but does not contain <code>m ^ n</code>. <del>Then I think it must equal to <code>m ^ (n + 1)</code>, by considering its image in <code>m ^ n / m ^ (n + 1) \\equiv Fp</code>. It's not the whole <code>Fp</code> so it can only be trivial.</del></p>",
        "id": 511559233,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744346111
    },
    {
        "content": "<p>This is not true. It contains m^(n+1) but its image in R/m^(n+1) can just be some arbitrary subgroup which isn't an ideal. It doesn't have an \"image in m^n/m^(n+1)\", I don't think this makes sense. Just imagine Z_p[sqrt(p)] mod p = F_p[eps] and choose the line spanned by 1+eps for example.</p>",
        "id": 511563077,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744348483
    },
    {
        "content": "<p>Sorry, I erroneously assumed that it contained in <code>m ^ n</code> <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 511567284,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744350969
    },
    {
        "content": "<p>I realized that it's a stupid question, since if <code>K / Qp</code> is a finite extension, then <code>O_K</code> as a topological <code>Zp</code>-module should be just isomorphic to <code>Zp ^ [K : Qp]</code> which clearly has a lot of open and closed subgroups...</p>",
        "id": 511567641,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744351203
    }
]