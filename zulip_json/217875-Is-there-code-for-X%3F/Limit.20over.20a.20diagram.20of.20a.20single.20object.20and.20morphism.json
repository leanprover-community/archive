[
    {
        "content": "<p>... is canonically isomorphic to the object. Do we have this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">.</span><span class=\"n\">Limits</span><span class=\"bp\">.</span><span class=\"n\">IsLimit</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">CategoryTheory</span><span class=\"w\"> </span><span class=\"n\">Limits</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Category</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Category</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"bp\">⥤</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">ι_isIso_of_subsingleton</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Subsingleton</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Subsingleton</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">)]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Cocone</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsColimit</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsIso</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>un- <a href=\"https://en.wikipedia.org/wiki/XY_problem\">#xy</a>: I'd like to show if you have a presheaf on a topological space and an isolated point <code>x</code> in the space, then the <code>germ</code> map is an isomorphism from the sections on the open set <code>{x}</code> to the stalk at <code>x</code>.</p>",
        "id": 481591901,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1731268374
    },
    {
        "content": "<p>I think you can deduce this from the fact that a colimit of a diagram with a terminal object is just the image of that terminal object, which we do have in mathlib</p>",
        "id": 481603947,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1731278630
    },
    {
        "content": "<p>And showing that your diagram has a terminal object using your sub singleton assumptions should be barely more than <code>inferInstance</code></p>",
        "id": 481604002,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1731278681
    },
    {
        "content": "<p>It may actually be more direct to show that the poset of nhds of an isolated point has an initial object in your in-xy’d case</p>",
        "id": 481604595,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1731279208
    },
    {
        "content": "<p>Thanks! I didn't end up needing this; my goal is to show if a basic open D(f) in the spectrum of a comm. ring is a singleton {p}, then localization away from f is the same as localization at p. I was able to do it without using the structure sheaf in <a href=\"https://github.com/leanprover-community/mathlib4/pull/18891\">#18891</a> because <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> has done the preliminary work (correspondence between clopens and idempotents) without using it.</p>",
        "id": 481830447,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1731368771
    },
    {
        "content": "<p>Out of curiosity: what do you need this for?</p>",
        "id": 481830568,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731368835
    },
    {
        "content": "<p>Ah I see the linked PR</p>",
        "id": 481830596,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731368851
    },
    {
        "content": "<p>Original motivation was to show the Picard group of Artinian ring is trivial :)</p>",
        "id": 481834032,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1731370433
    }
]