[
    {
        "content": "<p>Is there Cauchy's integral formula for higher order derivatives? I found that we have <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Complex/LocallyUniformLimit.html#Complex.cderiv_eq_deriv\">Complex.cderiv_eq_deriv</a>.</p>",
        "id": 544263647,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760139133
    },
    {
        "content": "<p>I <em>think</em> we only have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Complex.deriv_eq_smul_circleIntegral#doc\">docs#Complex.deriv_eq_smul_circleIntegral</a></p>",
        "id": 544271330,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1760144409
    },
    {
        "content": "<p>There's also <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Complex.two_pi_I_inv_smul_circleIntegral_sub_sq_inv_smul_of_differentiable#doc\">docs#Complex.two_pi_I_inv_smul_circleIntegral_sub_sq_inv_smul_of_differentiable</a> which is slightly more general, giving the derivative at any point not just the centre of the ball, but still only the first derivative.  Do we really need both results?</p>",
        "id": 544292127,
        "sender_full_name": "Alastair Irving",
        "timestamp": 1760162673
    },
    {
        "content": "<p>iirc it was very easy to go from 1 to n (just use the formula itself)</p>",
        "id": 544292294,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760162796
    },
    {
        "content": "<p>(ok maybe not \"that\" easy, since you need to differentiate under the integral)</p>",
        "id": 544292435,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760162946
    },
    {
        "content": "<p>wait</p>",
        "id": 544292507,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760163031
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Complex/CauchyIntegral.html#DifferentiableOn.hasFPowerSeriesOnBall\">DifferentiableOn.hasFPowerSeriesOnBall</a> claims that \"the coefficients of the power series are given by Cauchy integral formulas.\"</p>",
        "id": 544292518,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760163044
    },
    {
        "content": "<p>oh so the keyword is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Integral/CircleIntegral.html#cauchyPowerSeries\">cauchyPowerSeries</a></p>",
        "id": 544292567,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760163092
    },
    {
        "content": "<p>aha</p>",
        "id": 544292607,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760163142
    },
    {
        "content": "<p>thanks for finding it <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 544292618,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760163156
    },
    {
        "content": "<p>I found that out by:</p>\n<ol>\n<li>noting that, this result would have already used the \"derivative under the integral\", because the starting point is actually the 0th derivative</li>\n<li>so i decided to inspect the Lean code of the theorem given</li>\n<li>then I found this result</li>\n</ol>",
        "id": 544292661,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760163198
    },
    {
        "content": "<p>But is it really obvious (in lean) to deduce from <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Complex/CauchyIntegral.html#DifferentiableOn.hasFPowerSeriesOnBall\">DifferentiableOn.hasFPowerSeriesOnBall</a> that the <code>n</code>-th derivative of a holomorphic function <code>f</code> is equal to <code>n! * (2 * π * I : ℂ)⁻¹ • ∮ z in C(c, R), (z - c)⁻¹ ^ n • (z - c)⁻¹ • f z</code>.</p>",
        "id": 544293138,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760163765
    },
    {
        "content": "<p>it should be</p>",
        "id": 544293389,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760164056
    },
    {
        "content": "<p>This is what I want:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Complex</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">U</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DifferentiableOn</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">U</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">citeratedDeriv_eq_iteratedDeriv</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hzr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Metric</span><span class=\"bp\">.</span><span class=\"n\">closedBall</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">U</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">iteratedDeriv</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">    </span><span class=\"n\">n</span><span class=\"bp\">.</span><span class=\"n\">factorial</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">π</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Complex</span><span class=\"bp\">.</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℂ</span><span class=\"o\">)</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"bp\">∮</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">(</span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">)</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">w</span><span class=\"o\">)</span><span class=\"bp\">⁻¹</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 544293525,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760164191
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Calculus/FDeriv/Analytic.html#HasFPowerSeriesOnBall.factorial_smul\">HasFPowerSeriesOnBall.factorial_smul</a></p>",
        "id": 544293533,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760164200
    },
    {
        "content": "<p>A PR that adds <code>iteratedDeriv</code> version of the latter lemma and uses it to get the Cauchy's integral formula is very welcome!</p>",
        "id": 544301713,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1760172639
    },
    {
        "content": "<p>I created a PR over here: <a href=\"https://github.com/leanprover-community/mathlib4/pull/30473\">https://github.com/leanprover-community/mathlib4/pull/30473</a>. In this PR, I only generalize the Cauchy's integral formula to <code>n</code>-th order derivatives by assuming that <code>f : ℂ -&gt; F</code>  satisfies <code>DiffContOnCl ℂ f (ball c R)</code>. I'll make another PR (or maybe just edit this existing PR) very soon to generalize <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Complex/LocallyUniformLimit.html#Complex.cderiv_eq_deriv\">cderiv_eq_deriv</a> to the <code>n</code>-th order derivative (this theorem assumes that <code>f</code> is differentiable on some open set <code>U</code> and some closed ball is contained inside <code>U</code>).</p>",
        "id": 544425570,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760299537
    },
    {
        "content": "<p>I also tried to generalize <code>norm_deriv_le_of_forall_mem_sphere_norm_le</code> for the <code>n</code>-th order derivatives. That is, I want to prove  that if <code>f : ℂ -&gt; F</code> is complex differentiable on an open disc of radius <code>R &gt; 0</code>, is continuous on its<br>\nclosure, and its values on the boundary circle of this disc are bounded from above by <code>C</code>, then the<br>\nnorm of <code>iteratedDeriv n f c</code> is at most <code>n.factorial * C / R ^ n</code>. I proved this with the assumption <code>[CompleteSpace F]</code>in <a href=\"https://github.com/leanprover-community/mathlib4/pull/30473\">#30473</a>. Then I tried to remove this assumption by considering the completion of <code>F</code>and use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Calculus/ContDiff/Basic.html#HasFTaylorSeriesUpToOn.continuousLinearMap_comp\">HasFTaylorSeriesUpToOn.continuousLinearMap_comp</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Complex/CauchyIntegral.html#Complex.analyticOn_iff_differentiableOn\">Complex.analyticOn_iff_differentiableOn</a>, but this approach fails because I still need to assume <code>[CompleteSpace F]</code> in order to apply <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Complex/CauchyIntegral.html#Complex.analyticOn_iff_differentiableOn\">Complex.analyticOn_iff_differentiableOn</a>. It is very weird to me that we can prove Cauchy's estimate for the first order derivatives without the completeness assumption but fails to do so for the higher order derivatives.</p>",
        "id": 544430202,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760304619
    }
]