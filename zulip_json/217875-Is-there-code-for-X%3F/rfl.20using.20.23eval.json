[
    {
        "content": "<p>I know it's potentially unsafe, but is there a version of rfl that uses #eval instead of the kernel? (sorry if i'm mixing up some terms, they still feel like the same thing to me)</p>",
        "id": 526680788,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751402959
    },
    {
        "content": "<p><code>by native_decide</code></p>",
        "id": 526681262,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751403206
    },
    {
        "content": "<p>what if the <code>rfl</code> is not decidable?</p>",
        "id": 526681310,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751403229
    },
    {
        "content": "<p>then you won't be able to use <code>#eval</code> to prove it</p>",
        "id": 526681361,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751403252
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 526681413,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751403286
    },
    {
        "content": "<p>but in the example it's an inductive wrapper around something eval-able</p>",
        "id": 526681452,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751403307
    },
    {
        "content": "<p>the issue is that while <code>#eval</code> can interpret a lot of types, it still needs to read the result back into the lean world, and this is difficult in nontrivial cases because the interpreter lost all the typing information. So the kernel primitive that lets you do this is only able to work with reifying elements of <code>Bool</code> and <code>Nat</code> since it's easy to interpret an interpreted value in one of these types. So the way <code>native_decide</code> works is it turns any goal into a check that a bool is equal to true and then runs that in <code>#eval</code></p>",
        "id": 526681684,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1751403434
    }
]