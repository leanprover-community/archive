[
    {
        "content": "<p>How would I write this definition? (Or is something like this already in Mathlib?)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"sd\">/-- Extend a ring hom from subring by adjoining a new element and specifying the corresponding value -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringHomExtend</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">F'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subring</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">F'</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∉</span><span class=\"w\"> </span><span class=\"n\">F'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Subring</span><span class=\"bp\">.</span><span class=\"n\">closure</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F'</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 545778890,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1760817338
    },
    {
        "content": "<p>Does that always work?</p>",
        "id": 545779344,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760817862
    },
    {
        "content": "<p>What if the <code>x</code> satisfies equations over <code>F</code> that are not satisfied by <code>y</code>?</p>",
        "id": 545779419,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760817938
    },
    {
        "content": "<p>That's a good question</p>",
        "id": 545779479,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1760818008
    },
    {
        "content": "<p><span aria-label=\"melting face\" class=\"emoji emoji-1fae0\" role=\"img\" title=\"melting face\">:melting_face:</span> welp, that means I need to rethink the whole idea of the thing I wanted to prove</p>",
        "id": 545779577,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1760818129
    },
    {
        "content": "<p>I am aware that I am likely going to run into XY problem if I keep asking following this path, but just out of curiosity, let's say I add additional condition saying <code>x</code> is transcendental, would this work and how to write it?</p>",
        "id": 545779954,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1760818604
    },
    {
        "content": "<p>If <code>x</code> is transcendental, then <code>Subring.closure (F' ∪ {x})</code> is isomorphic to <code>F'[X]</code>, and you can use the universal property of polynomials</p>",
        "id": 545780289,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760819014
    },
    {
        "content": "<p>In this generality (no commutativity, no domain assumption) I am not at all sure what \"transcendental\" even means.</p>",
        "id": 545852149,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1760902473
    },
    {
        "content": "<p>Certainly what Aaron says is false because there's no reason x will commute with F'.</p>",
        "id": 545852195,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1760902527
    },
    {
        "content": "<p>oh I guess if it's not a commutative ring then polynomials don't have the same universal property</p>",
        "id": 545852833,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1760903278
    },
    {
        "content": "<p>That's my bad. The case I am considering is commutative. This is some really early prototype code that by no means captures the correct generality</p>",
        "id": 545852953,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1760903408
    }
]