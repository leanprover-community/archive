[
    {
        "content": "<p>Is there a way to find all versions of lean downloaded on my machine via the command prompt <br>\n<code> lean --version </code><br>\nreturns only one version (probably the latest)</p>",
        "id": 466845990,
        "sender_full_name": "Jafar Tanoukhi",
        "timestamp": 1725260251
    },
    {
        "content": "<p>You can use <code>elan toolchain list</code> or <code>elan show</code>.</p>",
        "id": 466846229,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1725260317
    },
    {
        "content": "<p>so <code>elan show</code> worked nicely and gave me the following :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">installed</span><span class=\"w\"> </span><span class=\"n\">toolchains</span>\n<span class=\"c1\">--------------------</span>\n\n<span class=\"n\">stable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">9</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n\n<span class=\"n\">active</span><span class=\"w\"> </span><span class=\"n\">toolchain</span>\n<span class=\"c1\">----------------</span>\n\n<span class=\"n\">stable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.7</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">w64</span><span class=\"bp\">-</span><span class=\"n\">windows</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"n\">fce8f7d5cd1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>on my other system I receive this output :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">installed</span><span class=\"w\"> </span><span class=\"n\">toolchains</span>\n<span class=\"c1\">--------------------</span>\n\n<span class=\"n\">stable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n\n<span class=\"n\">active</span><span class=\"w\"> </span><span class=\"n\">toolchain</span>\n<span class=\"c1\">----------------</span>\n\n<span class=\"n\">stable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.10</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">unknown</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">c375e19f6b65</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>I have a couple questions though: <br>\nwhat exactly is lean4:stable, in the first one I thought it was lean 4.7 but here lean 4.10 also appears to be lean4:stable?</p>\n<p>Is there a way where i get all the versions in this format <code>Lean (version 4.7.0, x86_64-w64-windows-gnu, commit \n6fce8f7d5cd1, Release)</code> under each other ?</p>\n<p>How do i switch my active tool chain to another version of lean ?</p>\n<p>Context: I'm building a system that's supposed to interact with the LSP and I want it to detect the versions of lean in the user's system and 'pick' the one that's supported if there's any</p>",
        "id": 466859598,
        "sender_full_name": "Jafar Tanoukhi",
        "timestamp": 1725263005
    },
    {
        "content": "<p><code>stable</code> is a \"channel\", it points to a certain version. You can run <code>elan update stable</code> to update the <code>stable</code> channel to the latest stable release (at the moment this is 4.11.0)</p>",
        "id": 466862873,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1725263689
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 466863345,
        "sender_full_name": "Jafar Tanoukhi",
        "timestamp": 1725263781
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"710010\">Jafar Tanoukhi</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Finding.20all.20versions.20of.20lean.20on.20a.20system/near/466859598\">said</a>:</p>\n<blockquote>\n<p>Is there a way where i get all the versions in this format <code>Lean (version 4.7.0, x86_64-w64-windows-gnu, commit 6fce8f7d5cd1, Release)</code> under each other ?</p>\n</blockquote>\n<p>I don't really understand why you want this, but something like <code>elan toolchain list | sed 's/ (default)//g' | xargs -I '{}' elan run '{}' lean --version</code> should do it.</p>",
        "id": 466864820,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1725264098
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"710010\">Jafar Tanoukhi</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Finding.20all.20versions.20of.20lean.20on.20a.20system/near/466859598\">said</a>:</p>\n<blockquote>\n<p>How do i switch my active tool chain to another version of lean ?</p>\n</blockquote>\n<p>Basically all Lean users use Lean from a project directory which contains a <code>lean-toolchain</code> file which contains the Lean version that should be used when working on this project. See <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/lean-toolchain\">Mathlib's <code>lean-toolchain</code> file</a> for example. If you want to change the default toolchain, which is used when you invoke <code>lean</code> somewhere outside of a Lean project, then you can do something like <code>elan default 4.10.0</code>.</p>",
        "id": 466866144,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1725264355
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260921\">@Markus Himmel</span>  said :</p>\n<blockquote>\n<p>I don't really understand why you want this, but something like <code>elan toolchain list | sed 's/ (default)//g' | xargs -I '{}' elan run '{}' lean --version</code> should do it.</p>\n</blockquote>\n<p>I will not act like i know what I'm doing lol, but basically what my system \"wants to do\" is the following :</p>\n<ol>\n<li>run the command to get all lean versions of the system</li>\n<li>parse the result and get all version numbers</li>\n<li>find a version number compatible with the system</li>\n<li>work normally if a compatible version was found or show a warning if it was not</li>\n</ol>\n<p>now with something like lean4:stable, the parsing would be a little annoying i believe (maybe also not possible?) because I'm not sure how to go from stable -&gt; 4.11.0 (or whatever the stable channel is currently on the user's system is)</p>\n<p>so I think this works perfectly for me, thanks alot!</p>",
        "id": 466869021,
        "sender_full_name": "Jafar Tanoukhi",
        "timestamp": 1725265117
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260921\">Markus Himmel</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Finding.20all.20versions.20of.20lean.20on.20a.20system/near/466866144\">said</a>:</p>\n<blockquote>\n<p>Basically all Lean users use Lean from a project directory which contains a <code>lean-toolchain</code> file which contains the Lean version that should be used when working on this project. See <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/lean-toolchain\">Mathlib's <code>lean-toolchain</code> file</a> for example. If you want to change the default toolchain, which is used when you invoke <code>lean</code> somewhere outside of a Lean project, then you can do something like <code>elan default 4.10.0</code>.</p>\n</blockquote>\n<p>Yes, makes sense too, i also found this other command :<br>\n<code>elan override set &lt;version or channel goes here&gt;</code></p>",
        "id": 466870445,
        "sender_full_name": "Jafar Tanoukhi",
        "timestamp": 1725265454
    }
]