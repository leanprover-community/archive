[
    {
        "content": "<p>Do we know that the level set of a smooth function at a non critical point is a manifold?<br>\nSpecifically I want the zero set of a family of polynomials on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}^n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> to be a manifold under some nonsingularity conditions.</p>",
        "id": 496889304,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1738280584
    },
    {
        "content": "<p>I don't think so, but I would be happy to learn that we now have it.</p>",
        "id": 496921969,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1738302146
    },
    {
        "content": "<p>I would be excited to see this formalised!</p>",
        "id": 496971689,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738318357
    },
    {
        "content": "<p>It doesn't seem that we have submanifolds of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"bold\">R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbf R^n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> or, better, of manifolds…</p>",
        "id": 496986305,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1738322947
    },
    {
        "content": "<p>This would be the regular value theorem: I would like to see it formalised as well, but AFAICT it's still missing.</p>",
        "id": 497025068,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1738335363
    },
    {
        "content": "<p>(You'll also want to have Sard's theorem, that almost every point is a regular value. That is work in progress.)</p>",
        "id": 497025162,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1738335386
    },
    {
        "content": "<p>At least we do have the implicit value theorem. Do we have the definition of regular value?</p>",
        "id": 497028952,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1738336487
    },
    {
        "content": "<p>Apparently regularity is simply expressed as surjectivity of the derivative <a href=\"https://github.com/fpvandoorn/sard/blob/77da83ff581fc9bf8af67e18ba8949cf555cc41c/Sard/MainTheorem.lean#L273\">in the Sard's theorem repo</a>.<br>\n(But regular value requires quantifying over the preimage; maybe the repo isn't the correct place to look for that.)</p>",
        "id": 497031718,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1738337316
    },
    {
        "content": "<p>Submanifolds generally are a tricky business and the subject of some past discussion here. For now, it’s sufficient to show level sets are manifolds without needing submanifolds</p>",
        "id": 497095840,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738360878
    },
    {
        "content": "<p>I started a sketch file and also noticed that it is not straightforward at all to define submanifolds. But I don't know how specializing to level sets can solve this problem though.</p>",
        "id": 497096569,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1738361166
    },
    {
        "content": "<p>I was just suggesting that you can define a manifold structure on the level set via the implicit function theorem, without the need for a notion of submanifolds</p>",
        "id": 497121673,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738377894
    },
    {
        "content": "<p>I see. But I don't even know what a good choice of a \"model\" for the manifold structure on the subset would be.</p>\n<p>And because <code>ChartedSpace</code> contains a lot of redundant data (junk values outside of domain of definition, inverses to functions instead of proofs that they are bijective etc), to construct such an instance directly would be very choice-y and hard to work with, and I think it would probably be easier to manipulate the chart later on if one first prove the existence of some structure which contains all the sufficient data and use choice once. And then it occurred to me that this \"some structure which contains all the sufficient data\" is probably just submanifolds.</p>",
        "id": 497122616,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1738378764
    },
    {
        "content": "<p>I agree that the current formalisation of manifolds involves a lot of annoying structures like partial functions with junk values, and I think the community would appreciate alternative attempts just to explore the design space. (What do other formalised diff geo libraries do?)</p>",
        "id": 497210598,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738455349
    },
    {
        "content": "<p>On the question of choosiness, I think the intention of <code>ChartedSpace</code> is that each local chart (and its inverse) is explicitly given and is in principle computable. Coming from physics, I'm imagining that you can actually do explicit coordinate transformations using these charts. If you're proving something general about the existence of charts, then indeed it should be your job to <code>Classical.choice</code> a partial inverse function to satisfy <code>ChartedSpace</code>, rather than demanding that <code>ChartedSpace</code> become less computable. But you're right, we should be able to define an intermediate notion of manifolds that is less computable but whose proof obligations are simpler.</p>",
        "id": 497210993,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738455753
    },
    {
        "content": "<p>(my 2¢)</p>",
        "id": 497211012,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738455783
    }
]