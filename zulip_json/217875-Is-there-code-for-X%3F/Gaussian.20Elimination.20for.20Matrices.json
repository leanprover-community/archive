[
    {
        "content": "<p>Has the Gaussian elimination algorithm been formalised in Mathlib4? Moogle isn't working for me, and I've gone through parts of Mathlib.LinearAlgebra.Matrix and haven't found any mention of it.</p>",
        "id": 437918422,
        "sender_full_name": "Vivek Rajesh Joshi",
        "timestamp": 1715311351
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span></p>",
        "id": 437921243,
        "sender_full_name": "Vivek Rajesh Joshi",
        "timestamp": 1715313854
    },
    {
        "content": "<p>Something a bit strange is going on here.</p>\n<p>Somehow, Gaussian elimination doesn't seem to be particularly important, contrary to the impression that we give undergraduates. I've wondered for a long time why we haven't needed/wanted it. </p>\n<p>There are a lot of different ways one might set up Gaussian elimination, in order to prove things about it. I would want to be pretty confident that whatever way someone choose was actually going to be useful in applications, rather than for its own sake. However, I still don't know what those applications would be. :-)</p>",
        "id": 437923754,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715316568
    },
    {
        "content": "<p>A long time ago I was trying to set up the theory of semisimple objects in excessive generality (I got derailed) but I did get as far as writing <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Biprod.gaussian#src\">src#CategoryTheory.Biprod.gaussian</a>, which is somewhat related.</p>",
        "id": 437923759,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715316573
    },
    {
        "content": "<p>Is there some proved algorithm for solving linear equations (or determining they have no solution)?</p>",
        "id": 437925054,
        "sender_full_name": "Siddhartha Gadgil",
        "timestamp": 1715317540
    },
    {
        "content": "<p>No, that's not really the sort of thing Mathlib goes for, historically!</p>",
        "id": 437926271,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715318689
    },
    {
        "content": "<p>(but also Gaussian elimination is not necessarily the choice once you're interested in algorithms per se!)</p>",
        "id": 437926717,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715319112
    },
    {
        "content": "<p>Still, see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Matrix.Pivot.exists_list_transvec_mul_diagonal_mul_list_transvec#doc\">docs#Matrix.Pivot.exists_list_transvec_mul_diagonal_mul_list_transvec</a>, which proves that any matrix is a product of elementary matrices and diagonal matrices. This is a version of Gaussian elimination, although it is formulated as an existence statement, not an algorithm. But the proof is algorithmic, and done via Gaussian elimination.</p>",
        "id": 437926823,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1715319192
    },
    {
        "content": "<p>Do we have Bruhat decomposition for GLn?</p>",
        "id": 437929986,
        "sender_full_name": "Scott Carnahan",
        "timestamp": 1715321558
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"630477\">Scott Carnahan</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/437929986\">said</a>:</p>\n<blockquote>\n<p>Do we have Bruhat decomposition for GLn?</p>\n</blockquote>\n<p>Pretty sure we don't.</p>",
        "id": 437932102,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715323172
    },
    {
        "content": "<p>Speaking of Gaussian elimination, we got it in <a href=\"https://github.com/leanprover-community/mathlib4/pull/12014\">#12014</a> (<code>Mathlib/Tactic/Linarith/SimplexAlgorithm/Gauss.lean</code>)</p>",
        "id": 437943926,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715329315
    },
    {
        "content": "<p>The pivot step of gaussian elimination is useful beyond just solving linear inequalitites.</p>",
        "id": 437946862,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1715330638
    },
    {
        "content": "<p>I think Gaussian elimination is also used in <a href=\"https://en.wikipedia.org/wiki/Hermite_normal_form\">Hermite normal form</a> and <a href=\"https://en.wikipedia.org/wiki/Smith_normal_form\">Smith normal form</a>. They are useful, at least in designing number theory algorithms. For example, for number fields there is certain generalization of Smith normal form by Henri Cohen.</p>",
        "id": 437952228,
        "sender_full_name": "Jz Pan",
        "timestamp": 1715333107
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/437932102\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"630477\">Scott Carnahan</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/437929986\">said</a>:</p>\n<blockquote>\n<p>Do we have Bruhat decomposition for GLn?</p>\n</blockquote>\n<p>Pretty sure we don't.</p>\n</blockquote>\n<p>Do we have Jordan-Hölder? If formulated well-enough (two finite chains of modules with simple successive subquotients, one gets a bijection with explicit isomorphisms), then it implies the Bruhat decomposition for GL_n. (See my <em>(Mostly) Commutative Algebra</em>, remark 6.2.13 b), page 248.)<br>\n<a href=\"/user_uploads/3121/qqjss_aII_-sv3oKznBj7cGd/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/qqjss_aII_-sv3oKznBj7cGd/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/qqjss_aII_-sv3oKznBj7cGd/image.png\"></a></div>",
        "id": 438057614,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1715381584
    },
    {
        "content": "<p>Yes we have it. Grep for \"Jordan-Hölder\"</p>",
        "id": 438082956,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715407318
    },
    {
        "content": "<p>Oh, that's great! Specifically, it is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompositionSeries.jordan_holder#doc\">docs#CompositionSeries.jordan_holder</a><br>\nRegarding the <em>existence</em> of composition series, is there anything like modules of finite length? Presumably, they could be accessed using the the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=JordanHolderLattice#doc\">docs#JordanHolderLattice</a> of submodules. (We need a notion of height/coheight in such a thing.)</p>",
        "id": 438101863,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1715425661
    },
    {
        "content": "<p>Is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=height#doc\">docs#height</a> applicable here?</p>",
        "id": 438103499,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715427696
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"627751\">Vivek Rajesh Joshi</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/437918422\">said</a>:</p>\n<blockquote>\n<p>Has the Gaussian elimination algorithm been formalised in Mathlib4? Moogle isn't working for me, and I've gone through parts of Mathlib.LinearAlgebra.Matrix and haven't found any mention of it.</p>\n</blockquote>\n<p>I cam accross this repo once: <a href=\"https://github.com/jjcrawford/lean-gaussian-elimination\">https://github.com/jjcrawford/lean-gaussian-elimination</a><br>\nIt's in Lean 3 and I can't judge if its complete.</p>",
        "id": 438167742,
        "sender_full_name": "Yves Jäckle",
        "timestamp": 1715501818
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/437923754\">said</a>:</p>\n<blockquote>\n<p>Something a bit strange is going on here.</p>\n<p>Somehow, Gaussian elimination doesn't seem to be particularly important, contrary to the impression that we give undergraduates. I've wondered for a long time why we haven't needed/wanted it. </p>\n<p>There are a lot of different ways one might set up Gaussian elimination, in order to prove things about it. I would want to be pretty confident that whatever way someone choose was actually going to be useful in applications, rather than for its own sake. However, I still don't know what those applications would be. :-)</p>\n</blockquote>\n<p>The factorization of a matrix into elementary matrices Eᵢ such that ||Eᵢ - Id|| &lt; 1 is potentially the simplest way to prove that GLₙ (ℂ) is path connected, from which we can define the logarithm given a path up to homotopy.</p>\n<p>I'd like to ask about SVD as well, since this is used a lot in applied math, in which we can save memory by keeping only the eigenvectors corresponding to the largest eigenvalues, discarding the other eigenvectors and eigenvalues. Maybe people haven't been interested since these benefits would only manifest in a situation which uses particular numbers.</p>",
        "id": 439938804,
        "sender_full_name": "Dean Young",
        "timestamp": 1716341499
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"559197\">Dean Young</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/439938804\">said</a>:</p>\n<blockquote>\n<p>I'd like to ask about SVD</p>\n</blockquote>\n<p>Are you aware of <a href=\"https://github.com/leanprover-community/mathlib4/pull/6042\">#6042</a>?</p>",
        "id": 439941043,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1716342926
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> thanks for this, I hadn't seen it.</p>\n<p>It also motivates the Gaussian elimination algorithm in how it uses the eigenvectors of  A * A† - λI and A† * A - λI.</p>",
        "id": 440129100,
        "sender_full_name": "Dean Young",
        "timestamp": 1716394157
    },
    {
        "content": "<p>If you want to help, <a href=\"https://github.com/leanprover-community/mathlib4/pull/6042\">#6042</a> needs a rewrite to deemphasize matrices and emphasize linear maps instead</p>",
        "id": 440153560,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1716401561
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/438101863\">said</a>:</p>\n<blockquote>\n<p>Oh, that's great! Specifically, it is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompositionSeries.jordan_holder#doc\">docs#CompositionSeries.jordan_holder</a><br>\nRegarding the <em>existence</em> of composition series, is there anything like modules of finite length? Presumably, they could be accessed using the the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=JordanHolderLattice#doc\">docs#JordanHolderLattice</a> of submodules. (We need a notion of height/coheight in such a thing.)</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"110401\">@Brendan Seamas Murphy</span>  also has an interesting Jordan-Holder to check out-</p>\n<p><a href=\"https://github.com/Shamrock-Frost/jordan-holder\">https://github.com/Shamrock-Frost/jordan-holder</a></p>",
        "id": 440982788,
        "sender_full_name": "Dean Young",
        "timestamp": 1716882611
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/440153560\">said</a>:</p>\n<blockquote>\n<p>If you want to help, <a href=\"https://github.com/leanprover-community/mathlib4/pull/6042\">#6042</a> needs a rewrite to deemphasize matrices and emphasize linear maps instead</p>\n</blockquote>\n<p>I think I don't fully understand how the computational tasks relate to the proofs here yet. Does Lean simply never do the sorts of tasks that Matlab does?</p>",
        "id": 440983530,
        "sender_full_name": "Dean Young",
        "timestamp": 1716882905
    },
    {
        "content": "<p>No, not really, although that could eventually change</p>",
        "id": 440984476,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1716883228
    },
    {
        "content": "<p><del>could</del> should!</p>",
        "id": 440994152,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716886580
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/437923754\">said</a>:</p>\n<blockquote>\n<p>Something a bit strange is going on here.</p>\n<p>Somehow, Gaussian elimination doesn't seem to be particularly important, contrary to the impression that we give undergraduates. I've wondered for a long time why we haven't needed/wanted it. </p>\n<p>There are a lot of different ways one might set up Gaussian elimination, in order to prove things about it. I would want to be pretty confident that whatever way someone choose was actually going to be useful in applications, rather than for its own sake. However, I still don't know what those applications would be. :-)</p>\n</blockquote>\n<p>Here is something I don't know how to prove without Gaussian elimination:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">linearIndendent_iff_exists_submatrix_unit</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">LinearIndependent</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsUnit</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">submatrix</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>It surely can be done. I just don't know how.</p>",
        "id": 499740138,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1739539400
    },
    {
        "content": "<p>Mathlib knows the row rank is equal to the column rank <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matrix/Rank.html#Matrix.rank_transpose\">Matrix.rank_transpose</a> and you probably have to use that for the forward direction. For the backward direction <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearIndependent.of_comp#doc\">docs#LinearIndependent.of_comp</a> should be enough (take the linear map to be <code>LinearMap.funLeft F F f</code>).</p>",
        "id": 499750293,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1739541756
    },
    {
        "content": "<p>It was a really good advice, thanks!<br>\nThe proof is finished here<br>\n<a href=\"https://github.com/Ivan-Sergeyev/seymour/blob/2a05beaf5d044fb19e7473bb82ff347a8639e65e/Seymour/Matrix/LinearIndependence.lean#L42\">https://github.com/Ivan-Sergeyev/seymour/blob/2a05beaf5d044fb19e7473bb82ff347a8639e65e/Seymour/Matrix/LinearIndependence.lean#L42</a><br>\nmodulo one lemma I don't know how to prove.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">Rank</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">exists_submatrix_rank</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">submatrix</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">rank_eq_finrank_span_row</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Can anybody help please?</p>",
        "id": 501750263,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1740475687
    },
    {
        "content": "<p><del>Ideally the answer would be \"choose <code>r</code> as the obvious equivalence\" and then \"use a lemma about <code>rank (Matrix.reindex _ _ _)</code></del></p>",
        "id": 501755120,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740477168
    },
    {
        "content": "<p>If that second lemma doesn't exist, please make a PR with it!</p>",
        "id": 501755187,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740477191
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Matrix.reindex, Matrix.rank</p>",
        "id": 501755265,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740477216
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matrix/Rank.html#Matrix.rank_reindex\">Matrix.rank_reindex</a></p>",
        "id": 501755266,
        "sender_full_name": "loogle",
        "timestamp": 1740477217
    },
    {
        "content": "<p>How do you construct the obvious equivalence?</p>",
        "id": 501761032,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1740478792
    },
    {
        "content": "<p>I misread <code>A.rank</code> as <code>Fintype.card X</code></p>",
        "id": 501763107,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740479159
    },
    {
        "content": "<p>Either way, I created <a href=\"https://github.com/leanprover-community/mathlib4/pull/22277\">#22277</a> which might help</p>",
        "id": 501763184,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740479166
    },
    {
        "content": "<p>Thank for the PR but I already have that a few lines higher in the same file.</p>",
        "id": 501764212,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1740479410
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Gaussian.20Elimination.20for.20Matrices/near/501750263\">said</a>:</p>\n<blockquote>\n<p>It was a really good advice, thanks!<br>\nThe proof is finished here<br>\n<a href=\"https://github.com/Ivan-Sergeyev/seymour/blob/2a05beaf5d044fb19e7473bb82ff347a8639e65e/Seymour/Matrix/LinearIndependence.lean#L42\">https://github.com/Ivan-Sergeyev/seymour/blob/2a05beaf5d044fb19e7473bb82ff347a8639e65e/Seymour/Matrix/LinearIndependence.lean#L42</a><br>\nmodulo one lemma I don't know how to prove.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">Rank</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">exists_submatrix_rank</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">submatrix</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">rank</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">rank_eq_finrank_span_row</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Can anybody help please?</p>\n</blockquote>\n<p>This follows from the fact that the rank of a matrix is equal to the number of its linearly independent rows. I really can't think of an informal proof that is not too annoying to formalize. The only proof I found depends on writing the matrix in row echelon form, and using the fact that (1) the first <code>rank A</code> rows of an row echelon form are linearly independent, and (2) the number of linearly independent rows in <code>A</code> is preserved during Gaussian elimination.</p>\n<p>Has any of these prerequisites been formalized already? Does anybody have an idea that makes this more amenable for formalization?</p>",
        "id": 505017478,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1741749962
    },
    {
        "content": "<p>From a smaller groupchat : the material in <a href=\"https://github.com/apnelson1/Matroid/blob/main/Matroid/ForMathlib/LinearAlgebra/Matrix.lean\">this file</a> defines row and column bases (as sets), and proves the API that you need for this kind of thing. It shows that row bases exist , they are equicardinal with size equal to the rank of <code>A</code>, and they sets they index are minimal spanning the row space. Taking an arbitrary row-basis and putting it into bijection with <code>Fin A.rank</code> will prove the above lemma. </p>\n<p>The proofs don't use Gaussian elimination, or anything fiddly, really. <a href=\"https://github.com/leanprover-community/mathlib4/pull/22226\">#22226</a> (which I think is ready to go but has been sitting on the queue for a while) is the first step towards PRing them.</p>",
        "id": 505129510,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1741785333
    }
]