[
    {
        "content": "<p>Do we have a proof that the Hausdorff measure is outer regular (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.Measure.OuterRegular#doc\">docs#MeasureTheory.Measure.OuterRegular</a>)?</p>",
        "id": 506125596,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742211796
    },
    {
        "content": "<p>For <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.Measure.hausdorffMeasure#doc\">docs#MeasureTheory.Measure.hausdorffMeasure</a>, I don't think it is in general. Are you maybe thinking of a special case?</p>",
        "id": 506129645,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1742212800
    },
    {
        "content": "<p>It's a pretty standard result as far as I can tell: <a href=\"https://math.stackexchange.com/questions/3632955/is-hausdorff-measure-regular\">https://math.stackexchange.com/questions/3632955/is-hausdorff-measure-regular</a>, <a href=\"https://math.stackexchange.com/questions/128085/is-the-hausdorff-outer-measure-regular\">https://math.stackexchange.com/questions/128085/is-the-hausdorff-outer-measure-regular</a></p>",
        "id": 506132151,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742213407
    },
    {
        "content": "<p>It's also in standard textbooks on this, eg Falconer Geometry of Fractal Sets</p>",
        "id": 506133060,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742213641
    },
    {
        "content": "<p>I took a look at the stackexchange posts, these seem to be proving slightly different things.</p>",
        "id": 506133508,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1742213757
    },
    {
        "content": "<p>I'm not aware of it exactly in that form, but I think results around <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=instHasOuterApproxClosedOfPseudoMetrizableSpace#doc\">docs#instHasOuterApproxClosedOfPseudoMetrizableSpace</a> should hopefully be of some use. I see that the type classes don't match exactly, though: the above requires <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PseudoMetrizableSpace#doc\">docs#PseudoMetrizableSpace</a> whereas <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.Measure.hausdorffMeasure#doc\">docs#MeasureTheory.Measure.hausdorffMeasure</a> has <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EMetricSpace#doc\">docs#EMetricSpace</a>. And local finiteness presumably needs to be used, too (I used this so far only for finite measures). [UPDATE: And maybe there are a few further steps, so after all these may not shorten a direct proof by a lot.]</p>",
        "id": 506135365,
        "sender_full_name": "Kalle Kytölä",
        "timestamp": 1742214224
    },
    {
        "content": "<p>Unfortunately I don't have local finiteness here either...</p>",
        "id": 506139905,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742215319
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Outer.20regularity.20of.20Hausdorff.20measure/near/506132151\">said</a>:</p>\n<blockquote>\n<p>It's a pretty standard result as far as I can tell: <a href=\"https://math.stackexchange.com/questions/3632955/is-hausdorff-measure-regular\">https://math.stackexchange.com/questions/3632955/is-hausdorff-measure-regular</a>, <a href=\"https://math.stackexchange.com/questions/128085/is-the-hausdorff-outer-measure-regular\">https://math.stackexchange.com/questions/128085/is-the-hausdorff-outer-measure-regular</a></p>\n</blockquote>\n<p>I seem to have disproved it here?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span><span class=\"w\"> </span><span class=\"n\">Measure</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">μH</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">OuterRegular</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">OuterRegular</span><span class=\"bp\">.</span><span class=\"n\">outerRegular</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">specialize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">measurableSet_singleton</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hausdorffMeasure_zero_singleton</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">specialize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">norm_num</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">U</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hU</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ho</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">h0</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hinf</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hausdorffMeasure_zero_or_top</span><span class=\"w\"> </span><span class=\"n\">zero_lt_one</span><span class=\"w\"> </span><span class=\"n\">U</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hausdorffMeasure_real</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ho</span><span class=\"bp\">.</span><span class=\"n\">measure_zero_iff_eq_empty</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h0</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hU</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hinf</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n</code></pre></div>",
        "id": 506168895,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1742221817
    },
    {
        "content": "<p>Yes, it won't be outer-regular according to the usual topology. You will need to take a topology where lower-dimensional sets are open</p>",
        "id": 506171629,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1742222375
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Outer.20regularity.20of.20Hausdorff.20measure/near/506168895\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Outer.20regularity.20of.20Hausdorff.20measure/near/506132151\">said</a>:</p>\n<blockquote>\n<p>It's a pretty standard result as far as I can tell: <a href=\"https://math.stackexchange.com/questions/3632955/is-hausdorff-measure-regular\">https://math.stackexchange.com/questions/3632955/is-hausdorff-measure-regular</a>, <a href=\"https://math.stackexchange.com/questions/128085/is-the-hausdorff-outer-measure-regular\">https://math.stackexchange.com/questions/128085/is-the-hausdorff-outer-measure-regular</a></p>\n</blockquote>\n<p>I seem to have disproved it here?</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">MeasureTheory</span><span class=\"w\"> </span><span class=\"n\">Measure</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"o\">(</span><span class=\"n\">μH</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">OuterRegular</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">OuterRegular</span><span class=\"bp\">.</span><span class=\"n\">outerRegular</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">specialize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">measurableSet_singleton</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hausdorffMeasure_zero_singleton</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">specialize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">norm_num</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">U</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hU</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ho</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h2</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">h0</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hinf</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hausdorffMeasure_zero_or_top</span><span class=\"w\"> </span><span class=\"n\">zero_lt_one</span><span class=\"w\"> </span><span class=\"n\">U</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hausdorffMeasure_real</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ho</span><span class=\"bp\">.</span><span class=\"n\">measure_zero_iff_eq_empty</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h0</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hU</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hinf</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h2</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Ah, I should have said that I can assume s &gt; 0 :)</p>",
        "id": 506191395,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742226375
    },
    {
        "content": "<p>Ah, I instead need to weaken to Gdelta (in the usual topology) rather than open, that's what was missing</p>",
        "id": 506200999,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742228284
    },
    {
        "content": "<p>And now this result is sorry-free (it turned out I can allow s = 0 too!)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsGδ</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">⊆</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">μH</span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">μH</span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 506643458,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1742365413
    }
]