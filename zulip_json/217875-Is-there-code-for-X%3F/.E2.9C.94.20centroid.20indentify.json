[
    {
        "content": "<p>Hi all, I'm currently working on some theorems involving the concept of the centroid. In mathlib4, the centroid of a simplex is currently expressed as <code>Finset.univ.centroid ℝ s.points</code>. I'm wondering whether it's worth defining a <code>Simplex.centroid</code> as a dedicated notation or definition.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">centroid</span><span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Affine</span><span class=\"bp\">.</span><span class=\"n\">Simplex</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">univ</span><span class=\"bp\">.</span><span class=\"n\">centroid</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">points</span>\n</code></pre></div>\n<p>Would such a definition help unify the notation for various special points of a simplex, such as <code>s.centroid</code>, <code>s.circumcenter</code>, <code>s.orthocenter</code>, etc.?<br>\nAny thoughts or suggestions would be appreciated!</p>",
        "id": 527343555,
        "sender_full_name": "yulia wang",
        "timestamp": 1751804171
    },
    {
        "content": "<p>Should theorems about medians be developed in the same context or section as those about the centroid?</p>",
        "id": 527343650,
        "sender_full_name": "yulia wang",
        "timestamp": 1751804284
    },
    {
        "content": "<p>I'm not a developer of that part of the library so don't take my words as fact, but having <code>Simplex.centroid</code> would indeed be a good thing to have</p>",
        "id": 527343730,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751804383
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"892491\">yulia wang</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/centroid.20indentify/near/527343555\">said</a>:</p>\n<blockquote>\n<p>Would such a definition help unify the notation for various special points of a simplex, such as <code>s.centroid</code>, <code>s.circumcenter</code>, <code>s.orthocenter</code>, etc.?</p>\n</blockquote>\n<p>I don't see how. Neither <code>s.circumcenter</code> nor <code>s.orthocenter</code> can be obtained as fixed weight combinations of the points of <code>s</code></p>",
        "id": 527344534,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1751805333
    },
    {
        "content": "<p>Thanks, that makes sense mathematically.</p>\n<p>My main reason for suggesting <code>Simplex.centroid</code> is not to treat it the same as the circumcenter or orthocenter in terms of definition, but rather to improve readability and ease of use. Having a consistent interface like <code>s.centroid</code>, <code>s.circumcenter</code>, <code>s.orthocenter</code> makes code involving geometric centers easier to read and write.</p>\n<p>Even if they aren't defined in the same way, would it still be reasonable to define <code>Simplex.centroid</code> as a wrapper for <code>Finset.univ.centroid ℝ s.points</code>?</p>",
        "id": 527345500,
        "sender_full_name": "yulia wang",
        "timestamp": 1751806615
    },
    {
        "content": "<p>Sure, I can believe that. Maybe as an <code>abbrev</code></p>",
        "id": 527345737,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1751806880
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"892491\">yulia wang</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/centroid.20indentify/near/527345500\">said</a>:</p>\n<blockquote>\n<p>Having a consistent interface like <code>s.centroid</code>, <code>s.circumcenter</code>, <code>s.orthocenter</code> makes code involving geometric centers easier to read and write.</p>\n</blockquote>\n<p>I agree, but IMO achieving this is a rather difficult problem</p>",
        "id": 527345786,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1751806933
    },
    {
        "content": "<p>Thanks! I will try to complete my proof</p>",
        "id": 527346498,
        "sender_full_name": "yulia wang",
        "timestamp": 1751807868
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/centroid.20indentify/near/527344534\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"892491\">yulia wang</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/centroid.20indentify/near/527343555\">said</a>:</p>\n<blockquote>\n<p>Would such a definition help unify the notation for various special points of a simplex, such as <code>s.centroid</code>, <code>s.circumcenter</code>, <code>s.orthocenter</code>, etc.?</p>\n</blockquote>\n<p>I don't see how. Neither <code>s.circumcenter</code> nor <code>s.orthocenter</code> can be obtained as fixed weight combinations of the points of <code>s</code></p>\n</blockquote>\n<p>What about variable weights?</p>",
        "id": 527350729,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751812495
    },
    {
        "content": "<p>That can be done, but what's the win? What theorems would you generalise? I don't believe there is no answer, but the answer is definitely more complicated than \"can be expressed by weights\", given that every point in the simplex has that property</p>",
        "id": 527355103,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1751817052
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"892491\">yulia wang</span> has marked this topic as resolved.</p>",
        "id": 527728335,
        "sender_full_name": "Notification Bot",
        "timestamp": 1751990904
    }
]