[
    {
        "content": "<p>Do we have the following?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">nonrec</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">EuclideanSpace</span><span class=\"bp\">.</span><span class=\"n\">hasStrictFDerivAt_apply</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Î¹</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ğ•œ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RCLike</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">HasStrictFDerivAt</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">Î¹</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"bp\">.</span><span class=\"n\">proj</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hasStrictFDerivAt_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"c1\">-- derivatives are a function of the chosen norm; `this` is about the right topology</span>\n<span class=\"w\">  </span><span class=\"c1\">-- but the wrong norm, so we can't use it</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>I think the <a href=\"#narrow/stream/116395-maths/topic/generalizing.20deriv.20to.20TVS/near/359284921\">\"generalizing deriv to TVS\" thread</a> would make this just work, but in the meantime maybe we already have this elsewhere?</p>",
        "id": 476340658,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728636821
    },
    {
        "content": "<p>(I now have a short proof of this and some related machinery)</p>",
        "id": 476379230,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728650171
    },
    {
        "content": "<p>Some generalization en-route: <a href=\"https://github.com/leanprover-community/mathlib4/pull/17663\">#17663</a></p>",
        "id": 476451772,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728677334
    },
    {
        "content": "<p>You can compose <code>hasStrictFDerivAt_apply</code> with a <code>ContinuousLinearEquiv</code> between <code>PiLp</code> and the pi type.</p>",
        "id": 476489777,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728705553
    },
    {
        "content": "<p>Yep, that is the proof I came up with in <a href=\"https://github.com/leanprover-community/mathlib4/pull/17665\">#17665</a></p>",
        "id": 476498869,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728714758
    },
    {
        "content": "<p>... or you can take over <a href=\"https://github.com/leanprover-community/mathlib4/pull/9675\">#9675</a></p>",
        "id": 476523361,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728738644
    },
    {
        "content": "<p>We want <a href=\"https://github.com/leanprover-community/mathlib4/pull/17665\">#17665</a> anyway, though the proofs will indeed be shorter after <a href=\"https://github.com/leanprover-community/mathlib4/pull/9675\">#9675</a></p>",
        "id": 476524893,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728740141
    }
]