[
    {
        "content": "<p>Is there a shorter version of the following?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n\n<span class=\"sd\">/-- A weaker version of `tendsto_nhds_unique` without `T2Space` -/</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">tendsto_nhds_unique_dist</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PseudoMetricSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeBot</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">dist</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">UniformSpace</span><span class=\"bp\">.</span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">dist_eq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">dist_eq_zero</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">tendsto_nhds_unique</span>\n<span class=\"w\">    </span><span class=\"o\">(((</span><span class=\"n\">UniformSpace</span><span class=\"bp\">.</span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">continuous_coe</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">tendsto</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"n\">ha</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(((</span><span class=\"n\">UniformSpace</span><span class=\"bp\">.</span><span class=\"n\">Completion</span><span class=\"bp\">.</span><span class=\"n\">continuous_coe</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">tendsto</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"n\">hb</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>It seems a bit silly to prove this in terms of <code>tendsto_nhds_unique</code> via <code>UniformSpace.Completion</code> rather than proving <code>tendsto_nhds_unique</code> in terms of this lemma.</p>",
        "id": 472351143,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727133080
    },
    {
        "content": "<p>In an <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=R1Space#doc\">docs#R1Space</a> you have <code>Tendsto f l (nhds a) ‚Üí Tendsto f l (nhds b) ‚Üí Inseparable a b</code></p>",
        "id": 472351394,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727133177
    },
    {
        "content": "<p>It's not in the library but you can easily get it from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=disjoint_nhds_nhds_iff_not_inseparable#doc\">docs#disjoint_nhds_nhds_iff_not_inseparable</a></p>",
        "id": 472351617,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727133257
    },
    {
        "content": "<p>Then in a pseudometric space you have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Metric.inseparable_iff#doc\">docs#Metric.inseparable_iff</a></p>",
        "id": 472351849,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727133357
    },
    {
        "content": "<p>Indeed:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">tendsto_nhds_unique_dist</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PseudoMetricSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NeBot</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Inseparable</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neBot_of_le</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">le_inf</span><span class=\"w\"> </span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"n\">hb</span>\n<span class=\"w\">  </span><span class=\"n\">rwa</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">neBot_iff</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ne</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">disjoint_iff</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">disjoint_nhds_nhds_iff_not_inseparable</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">not_not</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n</code></pre></div>",
        "id": 472351945,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727133383
    },
    {
        "content": "<p>If you're going to PR it, could you please add</p>\n<ul>\n<li>the version with <code>Inseparable</code>;</li>\n<li>dot notation alias for <code>Inseparable.dist_eq_zero</code>?</li>\n</ul>",
        "id": 472352054,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727133451
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/17066\">#17066</a></p>",
        "id": 472354759,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727134636
    },
    {
        "content": "<p>By omission, are you telling me <em>not</em> to add the version with <code>dist a b = 0</code>?</p>",
        "id": 472355779,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1727135088
    },
    {
        "content": "<p>I don't know.</p>",
        "id": 472356297,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727135302
    },
    {
        "content": "<p>I mean, it may be useful for discoverability.</p>",
        "id": 472356322,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727135320
    },
    {
        "content": "<p>Most people don't care about <code>Specializes</code>/<code>Inseparable</code> (most of the time, incl. me).</p>",
        "id": 472356406,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1727135364
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> has marked this topic as resolved.</p>",
        "id": 472362335,
        "sender_full_name": "Notification Bot",
        "timestamp": 1727138175
    }
]