[
    {
        "content": "<p>the product type <code>α × β</code> has <code>.1</code> defined as an alias for <code>.fst</code>, and <code>.2</code> as an alias for <code>.snd</code>. </p>\n<p>are the rest of the natural numbers as nth projections - <code>.3</code>, <code>.4</code>, etc as aliases for <code>.snd.fst</code>, <code>.snd.snd.fst</code>, etc defined anywhere?</p>",
        "id": 465298927,
        "sender_full_name": "JJ",
        "timestamp": 1724720794
    },
    {
        "content": "<p>No.</p>",
        "id": 465299007,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1724720864
    },
    {
        "content": "<p>(using structures with named fields is the usual solution here!)</p>",
        "id": 465299024,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1724720878
    },
    {
        "content": "<p>haha, i actually found out numeric projections also worked for structures while messing around with this!</p>",
        "id": 465299395,
        "sender_full_name": "JJ",
        "timestamp": 1724721104
    },
    {
        "content": "<p>is there any reason this isn't in lean aside from implementation complexity, or would this be something accepted as a pr? i do need an excuse to learn the macro system...</p>",
        "id": 465299546,
        "sender_full_name": "JJ",
        "timestamp": 1724721194
    },
    {
        "content": "<p>I'm not sure it's a good idea. How are you meant to know if <code>.3</code> means the third field, or the second field of the second field? It depends on what structures you're using.</p>",
        "id": 465300506,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1724721806
    },
    {
        "content": "<p>hmm, i see. i'm unaware of how type-directed the macro system is but would it be possible to restrict it via types? i.e. only expand <code>.3</code> etc into <code>.snd.fst</code> etc for n-ary products, not <code>α × (Σ b : β, γ)</code> or similar</p>",
        "id": 465302795,
        "sender_full_name": "JJ",
        "timestamp": 1724723248
    },
    {
        "content": "<p>(actually - looking through the api search it seems <code>.snd</code> is not defined for much that is not <code>Prod</code> or <code>Sigma</code> or a theorem?)</p>",
        "id": 465302951,
        "sender_full_name": "JJ",
        "timestamp": 1724723358
    },
    {
        "content": "<p>Using <code>.3</code> for <code>.snd.fst</code> is not great because if you have <code>α × β × γ</code> then <code>.snd.fst</code> is the \"second\" projection (to <code>β</code>) and <code>.snd.snd</code> is the third projection to <code>γ</code> (for which you have no numeric abbreviation in this scheme).</p>",
        "id": 465322709,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724733196
    },
    {
        "content": "<p>that is, you are proposing that the three components are spelled <code>x.1</code>, <code>x.3</code> and <code>x.2.2</code> respectively</p>",
        "id": 465322740,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724733228
    },
    {
        "content": "<p>oh, i see. so as a straightforward alias<code>.3</code> would have to be <code>.snd.snd</code> for <code>α × β × γ</code> but <code>.snd.fst</code> for <code>α × β × γ × ...</code></p>",
        "id": 465330278,
        "sender_full_name": "JJ",
        "timestamp": 1724737445
    },
    {
        "content": "<p>that's inconvenient indeed</p>",
        "id": 465330326,
        "sender_full_name": "JJ",
        "timestamp": 1724737470
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634325\">JJ</span> has marked this topic as resolved.</p>",
        "id": 465330364,
        "sender_full_name": "Notification Bot",
        "timestamp": 1724737485
    },
    {
        "content": "<p>It would be a good metaprogramming exercise to create some notation to access the nth logical component of a nested prod/sigma type!</p>\n<p>A vaguely related metaprogram is the one in Mathlib/Tactic/ProdAssoc.lean, which can create the natural equivalences between different ways of associating Prod. The only real connection though is that this too needs to look at Prod expressions.</p>",
        "id": 467310319,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725381833
    }
]