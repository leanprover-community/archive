[
    {
        "content": "<p>Hi everyone,</p>\n<p>In Stacks Project, a Dedekind domain <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is a domain such that every nonzero ideal has a unique (up to permutation) prime ideal multiplicative decomposition, see <a href=\"https://stacks.math.columbia.edu/tag/034W\">Definition 034W</a>. This implies that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> Noetherian, and it is equivalent to other definitions (like local DVR and the mathlib one).</p>\n<p>Q1. Is the Stacks' definition the same as requiring <code>[IsDomain R]</code> and <code>[UniqueFactorizationMonoid (Ideal R)]</code>?</p>\n<p>Q2. Do we have this precise definition in Mathlib? Or do we have a theorem saying this definition implies <code>IsDedekindDomain</code>?</p>",
        "id": 530100525,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1753175331
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"611077\">@Jiang Jiedong</span> but how would you ever prove that a domain has unique factorisation of ideals?</p>",
        "id": 530105124,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753176954
    },
    {
        "content": "<p>note that the other direction (which is the more useful one) is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/DedekindDomain/Ideal.html#Ideal.uniqueFactorizationMonoid\">Ideal.uniqueFactorizationMonoid</a>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">uniqueFactorizationMonoid</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsDedekindDomain</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">UniqueFactorizationMonoid</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 530105366,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753177029
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Dedekind.20domain.20definitions/near/530105124\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"611077\">Jiang Jiedong</span> but how would you ever prove that a domain has unique factorisation of ideals?</p>\n</blockquote>\n<p>This direction is not so useful indeed. But it could be an interesting formalization exercise.</p>",
        "id": 530105978,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1753177254
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"611077\">@Jiang Jiedong</span> go ahead</p>",
        "id": 530107451,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753177756
    },
    {
        "content": "<p>Here are some more equivalent characterizations that might be fun to do<br>\nLet <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> be a domain (that is not a field), then TFAE</p>\n<ul>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is noetherian, integrally closed of dim 1</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is noetherian with DVR stalks</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is noetherian and every nonzero primary ideal is a power of a maximal ideal</li>\n<li><code>UniqueFactorizationMonoid (Ideal R)</code></li>\n<li><code>Semifield (FractionalIdeal R⁰ (FractionRing R))</code> </li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span> is a CDR (i.e. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.dvd_iff_le#doc\">docs#Ideal.dvd_iff_le</a>)</li>\n<li><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi mathvariant=\"normal\">/</mi><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">R/I</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord\">/</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span></span></span></span> is a PIR for all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi><mo mathvariant=\"normal\">≠</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">I \\ne 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel\">=</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> (i.e. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain.exists_sup_span_eq#doc\">docs#IsDedekindDomain.exists_sup_span_eq</a>).</li>\n</ul>\n<p>The fact that each one implies the next (and last =&gt; first) should all be easy.</p>",
        "id": 530117886,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1753181497
    },
    {
        "content": "<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomainDvr#doc\">docs#IsDedekindDomainDvr</a></p>",
        "id": 530126380,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1753184396
    },
    {
        "content": "<p>I think maybe it is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomainInv#doc\">docs#IsDedekindDomainInv</a>, which is proven to be equivalent to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain#doc\">docs#IsDedekindDomain</a> by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IisDedekindDomain_iff_isDedekindDomainInv#doc\">docs#IisDedekindDomain_iff_isDedekindDomainInv</a>.</p>",
        "id": 530155625,
        "sender_full_name": "Yongle Hu",
        "timestamp": 1753193385
    },
    {
        "content": "<p>That looks like <code>Semifield (FractionalIdeal R⁰ (FractionRing R))</code></p>",
        "id": 530156149,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1753193536
    },
    {
        "content": "<p>My bad. But deriving <code>Semifield (FractionalIdeal R⁰ (FractionRing R))</code> from <code>UniqueFactorizationMonoid (Ideal R)</code> maybe not very hard?</p>",
        "id": 530158080,
        "sender_full_name": "Yongle Hu",
        "timestamp": 1753194106
    }
]