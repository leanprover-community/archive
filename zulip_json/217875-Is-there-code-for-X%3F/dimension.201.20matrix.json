[
    {
        "content": "<p>Do we have that <code>Matrix (Fin 1) (Fin 1) A ≃ₐ[K] A</code> for <code>A</code> an <code>K</code>-algebra?</p>",
        "id": 502156497,
        "sender_full_name": "Edison Xie",
        "timestamp": 1740609059
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Matrix ?i ?i ?A, ?A</p>",
        "id": 502157488,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740609546
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matrix/Defs.html#Matrix.map_smul%27\">Matrix.map_smul'</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matrix/Defs.html#Matrix.map_op_smul%27\">Matrix.map_op_smul'</a>, and <a href=\"https://loogle.lean-lang.org/?q=Matrix%20%3Fi%20%3Fi%20%3FA%2C%20%3FA\">2086 more</a></p>",
        "id": 502157498,
        "sender_full_name": "loogle",
        "timestamp": 1740609551
    },
    {
        "content": "<p>hmm that's quite a lot</p>\n<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Matrix ?i ?i ?A ≃ₐ[?B] ?A</p>",
        "id": 502157564,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740609586
    },
    {
        "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> nothing found</p>",
        "id": 502157566,
        "sender_full_name": "loogle",
        "timestamp": 1740609586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Matrix ?i ?i, Unique ?i</p>",
        "id": 502157699,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740609625
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matrix/Diagonal.html#Matrix.diagonal_unique\">Matrix.diagonal_unique</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matrix/RowCol.html#Matrix.diag_col_mul_row\">Matrix.diag_col_mul_row</a>, and <a href=\"https://loogle.lean-lang.org/?q=Matrix%20%3Fi%20%3Fi%2C%20Unique%20%3Fi\">6 more</a></p>",
        "id": 502157700,
        "sender_full_name": "loogle",
        "timestamp": 1740609625
    },
    {
        "content": "<p>The statement I would expect is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Unique</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">....</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">≃ₐ</span><span class=\"o\">[</span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div>",
        "id": 502157940,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740609734
    },
    {
        "content": "<p>Yeah it doesn't look like it (but Eric is right, it should be stated for a type with a <code>Unique</code> typeclass rather than just <code>Fin 1</code>)</p>",
        "id": 502157943,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740609736
    },
    {
        "content": "<p>And the ring version, and the \"rectangular\" version with <code>{m n} [Unique m] [Unique n]</code> for <code>AddEquiv</code> and <code>LinearEquiv</code>, etc</p>",
        "id": 502157976,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740609753
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Unique</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Matrix</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">≃ₐ</span><span class=\"o\">[</span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"w\"> </span><span class=\"n\">default</span>\n<span class=\"w\">  </span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">left_inv</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Subsingleton</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Subsingleton</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">right_inv</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">map_mul'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Matrix</span><span class=\"bp\">.</span><span class=\"n\">mul_apply</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">commutes'</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop</span>\n</code></pre></div>",
        "id": 502160191,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1740610772
    },
    {
        "content": "<p>I'm going to deduct marks for <code>Field</code>, but otherwise looks right</p>",
        "id": 502160667,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740610897
    },
    {
        "content": "<p>I think a PR should build the whole family of <code>Unique</code> equivalence on top of each other, not just that one at the end</p>",
        "id": 502160824,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740610931
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/dimension.201.20matrix/near/502160824\">said</a>:</p>\n<blockquote>\n<p>I think a PR should build the whole family of <code>Unique</code> equivalence on top of each other, not just that one at the end</p>\n</blockquote>\n<p>which file do you think it belongs to and what name do you think it should be named as?</p>",
        "id": 502161039,
        "sender_full_name": "Edison Xie",
        "timestamp": 1740611033
    },
    {
        "content": "<p>Maybe <code>Matrix.uniqueEquiv</code>, <code>Matrix.uniqueAlgEquiv</code>, etc</p>",
        "id": 502161685,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740611209
    },
    {
        "content": "<p>#find_home should give good suggestions for where to put them</p>",
        "id": 502161724,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740611223
    },
    {
        "content": "<p>Yeah, I just wanted to force through to a <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> asap, and let anyone who felt like it deconstruct it into mathlib-appropriate pieces</p>",
        "id": 502162008,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1740611369
    },
    {
        "content": "<p>pr <a href=\"https://github.com/leanprover-community/mathlib4/pull/22375\">#22375</a></p>",
        "id": 502319453,
        "sender_full_name": "Edison Xie",
        "timestamp": 1740671731
    }
]