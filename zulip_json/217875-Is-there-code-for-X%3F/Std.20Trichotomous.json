[
    {
        "content": "<p>Is there a spelling in Std for Mathlib's <code>IsTrichotomous</code> (in the same way that <code>Std.Total</code> is essentially the same as <code>IsTotal</code>)?</p>",
        "id": 546646530,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761216438
    },
    {
        "content": "<p>presumably you're asking because there <em>isn't</em> one?</p>",
        "id": 546651521,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761218074
    },
    {
        "content": "<p>Well, I can't find it, but perhaps it is named something unexpected.</p>",
        "id": 546651571,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761218091
    },
    {
        "content": "<p>The various order typeclasses (and the fact that Std and Mathlib seem to disagree about how to define them...) are quite confusing.</p>",
        "id": 546651680,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761218118
    },
    {
        "content": "<p>Loogle <a href=\"https://loogle.lean-lang.org/?q=%22Std.%22%2C+%E2%8A%A2+Prop%2C+LT\">\"Std.\", ⊢ Prop, LT</a>, and i presume it's <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.LawfulOrderLT\">Std.LawfulOrderLT</a> + <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.IsLinearOrder\">Std.IsLinearOrder</a></p>",
        "id": 546651997,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761218226
    },
    {
        "content": "<p>Loogle <a href=\"https://loogle.lean-lang.org/?q=%22Std.%22%2C+%E2%8A%A2+Prop%2C+%28%3Fa+%E2%86%92+%3Fa+%E2%86%92+Prop%29\">\"Std.\", ⊢ Prop, (?a → ?a → Prop)</a> didn't suggest anything more useful</p>",
        "id": 546652207,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761218303
    },
    {
        "content": "<p>Well, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.LawfulOrderLT\">Std.LawfulOrderLT</a> + <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.IsLinearOrder\">Std.IsLinearOrder</a> is stronger.</p>",
        "id": 546652291,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761218335
    },
    {
        "content": "<p>This would just be \"a &lt; b or a = b or b &lt; a\".</p>",
        "id": 546652364,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761218356
    },
    {
        "content": "<p>I was going to joke that <code>Std.Antisymm (¬· &lt; ·)</code> is a logically correct spelling but terrible and obviously shouldn't actually be used. But then I threw it into Loogle and it actually does seem to be the standard spelling, it's used in a lot of instances: <a href=\"https://loogle.lean-lang.org/?q=Std.Antisymm+%28%C2%AC%C2%B7+%3C+%C2%B7%29\">https://loogle.lean-lang.org/?q=Std.Antisymm+%28%C2%AC%C2%B7+%3C+%C2%B7%29</a></p>",
        "id": 546678162,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1761225511
    },
    {
        "content": "<p>Oh no.</p>",
        "id": 546678355,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761225561
    },
    {
        "content": "<p>What a horrible mess.</p>",
        "id": 546678613,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761225629
    },
    {
        "content": "<p>we can at least have an abbrev...</p>",
        "id": 546680052,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761226028
    },
    {
        "content": "<p>For context, I was trying to work out what (in general) is the minimal typeclass where sorting algorithms make sense. Honestly we should probably use <code>Ord</code> for them...</p>",
        "id": 546680742,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761226225
    },
    {
        "content": "<p>Insisting on using a relation seems to invite all sorts of headaches.</p>",
        "id": 546680830,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761226249
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546646530\">said</a>:</p>\n<blockquote>\n<p>(in the same way that <code>Std.Total</code> is essentially the same as <code>IsTotal</code>)?</p>\n</blockquote>\n<p>(<code>IsTotal</code> is not the only one - <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Relation.20properties.20duplication/with/544662074\">#mathlib4 &gt; Relation properties duplication</a> )</p>",
        "id": 546681830,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761226494
    },
    {
        "content": "<p>Yes, that was just an example of the sorry state of affairs.</p>",
        "id": 546681913,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761226511
    },
    {
        "content": "<p><del><a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.LawfulOrderLT\">Std.LawfulOrderLT</a> + <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Core.html#Std.Total\">Std.Total (· ≤ ·)</a> is equivalent to <code>IsTrichotomous</code> under the mild assumption that <code>Asymm (· &lt; ·)</code> holds, but it needs <code>LE</code> to be present.</del> (That's not true, in fact.)</p>\n<p>That said, I would accept a PR introducing <code>IsTrichotomous</code> into <code>Std</code> -- given that <code>Antisymm</code> is used for not-lt in lots of places, this seems like a real improvement. <code>Std</code> has the philosophy that the more complex properties of orders are expressed in terms of <code>LE</code> in order to avoid too much duplication, but we still want to support simple, low-level properties such as this one.</p>\n<p>Besides, are you actually able to prove something meaningful about a sorting algorithm without assuming transitivity? Otherwise, I think I would indeed have required <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.IsLinearOrder\">Std.IsLinearOrder</a> (perhaps + <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/Classes.html#Std.LawfulOrderLT\">Std.LawfulOrderLT</a> or <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Order/ClassesExtra.html#Std.LawfulOrderOrd\">Std.LawfulOrderOrd</a>, depending on whether the sorting algorithm uses  a<code>LT</code>, <code>LE</code> or <code>Ord</code> operation; <code>mergeSort</code> uses a less-than-or-equal relation).</p>",
        "id": 546691521,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761228708
    },
    {
        "content": "<p><code>mergeSort</code> uses a LE I think?</p>",
        "id": 546691743,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761228751
    },
    {
        "content": "<p>But no I think you have to assume transitivity at least.</p>",
        "id": 546691806,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761228763
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546691743\">said</a>:</p>\n<blockquote>\n<p><code>mergeSort</code> uses a LE I think?</p>\n</blockquote>\n<p>Yes, sorry, I mistyped.</p>",
        "id": 546691823,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761228766
    },
    {
        "content": "<p>My suspicion is that in fact there is nowhere we use the notion of sorted-ness which does not apply to <code>&lt;=</code>, on the basis that in a partial order \"sorted by &lt;\" is the same as \"sorted by &lt;= and also no duplicates\".</p>",
        "id": 546692152,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761228838
    },
    {
        "content": "<p>If you look at, say, <code>[List.sorted_mergeSort](https://leanprover-community.github.io/mathlib4_docs/Init/Data/List/Sort/Lemmas.html#List.sorted_mergeSort)</code>, this uses transitivity and totality. I think those properties are sufficient there.</p>",
        "id": 546692554,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761228930
    },
    {
        "content": "<p><code>Array.insertionSort</code> takes a LT (or rather that seems to be the default) but nothing is proved about it. Mathlib has <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/List/Sort.html#List.insertionSort\">List.insertionSort</a> - but actually my current efforts are going towards tidying up this file and hopefully killing off the current definition of <code>List.Sorted</code> (which isn't very good).</p>",
        "id": 546693401,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761229123
    },
    {
        "content": "<p>But then consider <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/List/Perm.html#List.Perm.eq_of_sorted\">List.Perm.eq_of_sorted</a>.</p>",
        "id": 546694442,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761229372
    },
    {
        "content": "<p>Essentially I would say that <em>this</em> suggests that the sentence \"List L is <em>the</em> sorted version of list K` is well-defined for an antisymmetric relation. Like it may not exist... indeed I think you need totality and transitivity for that...  but it's unique - you can't swap elements round and get <em>another</em> sorted list.</p>",
        "id": 546695285,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761229586
    },
    {
        "content": "<p>Notably... I am not sure you need reflexivity.</p>",
        "id": 546695846,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761229742
    },
    {
        "content": "<p>I see in that thread that <span class=\"user-mention\" data-user-id=\"260921\">@Markus Himmel</span> mentions that the purpose of these nice Std classes is to e.g. enable verified sorting algorithms in core - that is of interest to me though because core is so (rightly!) selective in terms of what it admits, I will say I hope it isn't just core that gets this.</p>",
        "id": 546696360,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761229873
    },
    {
        "content": "<p>I'm not sure I fully understand what you are wishing for -- can you try to rephrase it a bit? What is it that you hope not just core gets?</p>",
        "id": 546697668,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761230129
    },
    {
        "content": "<p>Oh - sorting algorithms. Like, in particular I would like the chance to contribute to such work.</p>",
        "id": 546697822,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230169
    },
    {
        "content": "<p>Right now I would not say they have a clear home (there's some in Mathlib, which feels an odd fit, and some in core, but in some cases not accompanied with proofs).</p>",
        "id": 546697974,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230207
    },
    {
        "content": "<p>Sorting algorithms that actually make sense in real Lean programs (the kind that are compiled and executed) are very interesting for core, and the FRO will make a move on this sometime in 2026. If at that time we find that there is a nice downstream repository which contains great verified implementations, we will be very interested in seeing this work upstreamed to core.</p>\n<p>As for more academic aspects of sorting algorithms, these will probably not be in core.</p>\n<p>Edit: I had to revise the above a bit to be more precise.</p>",
        "id": 546698209,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1761230268
    },
    {
        "content": "<p>Oh, and a little in Batteries! They're everywhere.</p>",
        "id": 546698251,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230281
    },
    {
        "content": "<p>My research interest in particular is in sorting networks which are a little specialised. But I am attempting at present to, I suppose, tidy up the downstream situation somewhat.</p>",
        "id": 546698442,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230330
    },
    {
        "content": "<p>I should say that in particular I am interested in <em>executing</em> sorting networks - in cryptographic applications but that isn't quite relevant here.</p>",
        "id": 546698758,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230413
    },
    {
        "content": "<p>At first glance, that sounds like something that would be most likely to be of interest to CSlib</p>",
        "id": 546699414,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1761230567
    },
    {
        "content": "<p>Yes. Is CSLib downstream of Mathlib?</p>",
        "id": 546699501,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230590
    },
    {
        "content": "<p>I suppose that isn't the end of the world but it feels somewhat untidy to have the big maths monorepo to be upstream of \"computer science in particular\".</p>",
        "id": 546699840,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230668
    },
    {
        "content": "<p>What is the current vision for Batteries?</p>",
        "id": 546700503,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761230810
    },
    {
        "content": "<p>Anyway: returning to the question I asked.</p>",
        "id": 546713226,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761233938
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">total_iff_refl_and_trichotomous</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span>\n</code></pre></div>",
        "id": 546713230,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761233940
    },
    {
        "content": "<p>My suggestion therefore would be:</p>\n<ul>\n<li>Add <code>Std.Trichotomous</code> in the obvious way.</li>\n<li>Do exactly one of the following:<br>\n** Make <code>Std.instReflOfTotal</code> a def, not an instance, and add <code>Std.instTotalOfReflOfTrichotomous</code> as an instance<br>\n** Add <code>Std.instTrichotomousOfTotal</code> as an instance and add <code>Std.instTotalOfReflOfTrichotomous</code> as a def.</li>\n</ul>",
        "id": 546713845,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761234100
    },
    {
        "content": "<p>(I assume these can't all be instances because that clearly creates a loop.)</p>",
        "id": 546713935,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761234123
    },
    {
        "content": "<p>There is also a natural<br>\n<code>def compareOfTrichotomous (r) [Decidable (r x y)] [Decidable (r y x)] [Std.Trichotomous r] (x y : α) : Ordering := if r x y then Ordering.lt else if r y x then Ordering.gt else Ordering.eq</code> or something like that, and then probably there's things to do with <code>Std.LawfulCmp</code>.</p>",
        "id": 546715259,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761234477
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221653\">@Paul Reichert</span> I would appreciate some guidance as to what PR you'd prefer - as in, what you would like to be instances versus non-instances.</p>",
        "id": 546716039,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761234699
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">Refl</span><span class=\"bp\">.</span><span class=\"n\">irrefl</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Std</span><span class=\"bp\">.</span><span class=\"n\">Refl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Std</span><span class=\"bp\">.</span><span class=\"n\">Irrefl</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">irrefl</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">refl</span>\n</code></pre></div>\n<p>Oh also we seem to be missing this (which I infer from the presence of <code>Total.asymm_of_total_not</code> would be desired).</p>",
        "id": 546718949,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761235449
    },
    {
        "content": "<p>Also, similar to the above:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">asymm_iff_irrefl_and_antisymm</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span>\n</code></pre></div>\n<p><code>Asymm</code> is equivalent to <code>Irrefl</code> and <code>Antisymm</code> in an analogous way to <code>Total</code> being equivalent to <code>Refl</code> and <code>Trichotomous</code>.</p>",
        "id": 546719702,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761235669
    },
    {
        "content": "<p>(Also, I think substantially less useful, but:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">trivial_iff_total_and_symm</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">empty_iff_asymm_and_symm</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span>\n</code></pre></div>\n<p>I think these theorems somewhat characterise how <code>Std.Symm</code> plugs into all this.</p>",
        "id": 546721661,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761236227
    },
    {
        "content": "<p>Though we don't have an <code>Std.Empty</code> and <code>Std.Trivial</code> typeclass, we certainly could.</p>",
        "id": 546721807,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761236269
    },
    {
        "content": "<p>Please forgive my delayed answer, but you are raising lots of delicate questions that need serious thought and I don't have ready-made opinions how exactly the trade-off should be for each of them.</p>\n<p>Nevertheless, here are my current thoughts:</p>\n<p>All these low-level relational type classes can be related to each other in lots of ways, but we cannot and should not encode all of them in the type class hierarchy. (I'd also rather prevent cycles due to their complexity and performance cost, although they aren't a strict show stopper for propositional classes.)</p>\n<p>So I think which ones we add should be guided by common use cases in the standard library or practical software verification.</p>\n<p>I prefer having <code>instTrichotomousOfTotal</code> over <code>instTotalOfReflOfTrichotomous</code> as an instance. <code>instReflOfTotal</code> is an instance I found very useful in the standard library. As a user, I would be less surprised if Lean failed to automatically combine <code>Refl</code> and <code>Trichotomous</code> into <code>Total</code>, but if it failed to derive something as simple <code>Refl</code> from <code>Total</code>, I would be slightly annoyed.</p>\n<p>Regarding <code>Refl.irrefl</code>: I tend to believe that entailments from <code>(¬ r · ·)</code> properties to their equivalent properties stated in terms of <code>r</code> could be useful in order to normalize them. But I wonder whether it wouldn't be even better to avoid <code>Std.Refl (¬ r · ·)</code> at all. The standard library does not use it; are there actual use cases for it?</p>\n<p>I tend to think that lemmas, instead of instances, are a good thing in the simple cases, including the ones you proposed. However, I hesitate to add <code>Empty</code> and <code>Trivial</code> classes as long as there is no sufficient evidence that these are needed.</p>",
        "id": 546822868,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761289082
    },
    {
        "content": "<p>I am sorry for raising delicate questions - assuming you meant that as a criticism.</p>",
        "id": 546823164,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761289168
    },
    {
        "content": "<p>Thank you for your thoughtful responses.</p>",
        "id": 546823182,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761289177
    },
    {
        "content": "<p>For what it's worth I also think it would be best to avoid <code>Std.Refl (not etc.)</code> (apologies, am on phone) but as was pointed out above, we do seem to use a similar thing with <code>Std.Antisymm</code> in some places (I'm not sure if that's true in core, however).</p>",
        "id": 546823596,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761289310
    },
    {
        "content": "<p>Can <code>grind</code> use these order typeclass much at all? I don't know enough about if the resulting theorems are suitable to receive appropriate attributes.</p>\n<p>Regardless of that I think I have enough information to put hopefully a small PR together.</p>",
        "id": 546824079,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761289495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546823164\">said</a>:</p>\n<blockquote>\n<p>I am sorry for raising delicate questions - assuming you meant that as a criticism.</p>\n</blockquote>\n<p>Oh, sorry, I didn't mean \"delicate\" as \"taboo\" or \"provocative\" -- merely difficult to answer! Perhaps the wrong word.</p>",
        "id": 546824504,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761289662
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546824079\">said</a>:</p>\n<blockquote>\n<p>Regardless of that I think I have enough information to put hopefully a small PR together.</p>\n</blockquote>\n<p>It would be well-appreciated! <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span></p>",
        "id": 546824594,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761289699
    },
    {
        "content": "<p>Ah I see! I was worried I had inadvertently caused offence, perhaps by pushing at a tension point I was unaware of (I find anything that involves dealing directly with core/the FRO quite stressful in this regard).</p>",
        "id": 546824925,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761289834
    },
    {
        "content": "<p>Okay, I really hope that I manage not to make the interactions stressful in the future.</p>",
        "id": 546828153,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761291003
    },
    {
        "content": "<p>How do you feel about <code>Tricho</code> as a name? (Rather than spelling out Trichotomous, which is a mouthful).</p>",
        "id": 546848532,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761297241
    },
    {
        "content": "<p>(Also, some sources have \"trichotomous\" meaning that <em>exactly one</em> of <code>R a b</code>, <code>a = b</code> and <code>R b a</code> is true, but similarly \"strongly connected\" is sometimes used to mean what we have defined as \"total\", where \"total\" then = \"strongly connected partial order\".)</p>",
        "id": 546851956,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761298425
    },
    {
        "content": "<p><a href=\"https://books.google.co.uk/books?id=AInDCgAAQBAJ&amp;pg=PA182&amp;redir_esc=y#v=onepage&amp;q&amp;f=false\">https://books.google.co.uk/books?id=AInDCgAAQBAJ&amp;pg=PA182&amp;redir_esc=y#v=onepage&amp;q&amp;f=false</a></p>",
        "id": 546851957,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761298426
    },
    {
        "content": "<p><a href=\"https://mathworld.wolfram.com/TrichotomyLaw.html\">https://mathworld.wolfram.com/TrichotomyLaw.html</a></p>",
        "id": 546852000,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761298438
    },
    {
        "content": "<p>I'm not quite sure what to do about this - I don't know if Core has a preferred ground text it uses as the source for its definitions.</p>",
        "id": 546852071,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761298461
    },
    {
        "content": "<p>(Other sources seem to use \"connex\" and \"strictly connex\" for what we have here as \"total\" and \"trichotomous\".)</p>",
        "id": 546853634,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761298977
    },
    {
        "content": "<p>I'm not at all sure, but:</p>\n<p>I tend to just call it <code>Trichotomous</code>. The meaning of \"trichotomy\" is then consistent with Mathlib. Additionally, at least for my feelings, it's not quite as well-known as the axioms of reflexivity, antisymetry and so on, and therefore arguably deserves a less abbreviated and more self-descriptive name. I also hope that the theory of these axiomatic classes does not get so complicated that we need to write <code>Trichotomous</code> all the time. Occasionally writing it out seems okay to me.</p>",
        "id": 546856333,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761299899
    },
    {
        "content": "<p>Yes I have to say I don't personally worry about whether it's \"exactly one\" or \"one\".</p>",
        "id": 546856422,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761299929
    },
    {
        "content": "<p>But for instance one could define Std.Trichotomous as <code>a \\ne b -&gt; r a b ∨ r b a</code>. It depends what is most useful for core's purpose - which I suppose is the same as \"what is most useful for Lean as a programming language\"?</p>",
        "id": 546857685,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761300231
    },
    {
        "content": "<p>Yes -- perhaps <code>Antisymm-not</code> isn't so bad after all? At least, everybody knows what is meant by it -- at least after processing the double negation <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 546858403,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761300455
    },
    {
        "content": "<p>I think it is useful to have a <em>name</em> for it - in the same way that you don't \"need\" a name for Irrefl but it is clearly useful.</p>",
        "id": 546858527,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761300498
    },
    {
        "content": "<p>But yes - the advantage of using <code>Antisymm (¬ r · ·)</code> as the definition is that it saves on case-splitting on or - or from a programming point of view, it is an easier axiom to use: \"if you give me a proof that neither r a b nor r b a, then I can produce a proof that a = b\"</p>",
        "id": 546858735,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761300559
    },
    {
        "content": "<p>I wouldn't want to make it an abbrev or anything though - good for it to have its own field name.</p>",
        "id": 546858927,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761300629
    },
    {
        "content": "<p>However, I will say that, on identical logic, <code>∀ a b, ¬r a b → r b a</code> would be a better definition of <code>Total</code>.</p>",
        "id": 546859169,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761300707
    },
    {
        "content": "<p>Or if you like, \"Total\" as <code>Asymm (¬ r · ·)</code></p>",
        "id": 546859779,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761300817
    },
    {
        "content": "<p>(Entirely separately - the fact that <code>Trans</code> is <em>not</em> limited to a propositional class but has a more general definition is somewhat odd to me - but I suppose there are probably good reasons.)</p>",
        "id": 546861115,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761301122
    },
    {
        "content": "<p>Using <code>calc</code> with <code>Equiv</code>s!</p>",
        "id": 546861344,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1761301195
    },
    {
        "content": "<p>Yeah - I just assume you could do a similiar trick with e.g. Symm?</p>",
        "id": 546861386,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761301210
    },
    {
        "content": "<p>But I guess it must not come up.</p>",
        "id": 546861429,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761301220
    },
    {
        "content": "<p>Still, the lack of a <code>Std.Trans</code> might trip/surprise some users.</p>",
        "id": 546861472,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761301238
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546859169\">said</a>:</p>\n<blockquote>\n<p>However, I will say that, on identical logic, <code>∀ a b, ¬r a b → r b a</code> would be a better definition of <code>Total</code>.</p>\n</blockquote>\n<p>(Unfortunately I feel like changing the definition of <code>Total</code> would be way too much work overall.)</p>",
        "id": 546862610,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761301648
    },
    {
        "content": "<p>(But it irritates me that we're stuck with an untidy asymmetry - in, ironically, the definition of asymmetry.)</p>",
        "id": 546862984,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761301805
    },
    {
        "content": "<p>Hmm - and actually that asymmetry does seem to lead to problems with inferred instances.</p>",
        "id": 546867564,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761303368
    },
    {
        "content": "<p>What do you mean by untidy asymmetry?</p>",
        "id": 546868364,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761303662
    },
    {
        "content": "<p>So I think this is the clear example from what is currently defined.</p>",
        "id": 546868468,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761303697
    },
    {
        "content": "<p>We have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- A total relation satisfies `r a b` or `r b a`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">total</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>and also</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Asymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- An asymmetric relation satisfies `r a b → ¬ r b a`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">asymm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>However, my argument is that these are dual/complementary properties: in particular, we could take the definition of the latter as</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Asymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- An asymmetric relation satisfies `r a b → ¬ r b a`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">asymm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 546868587,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761303745
    },
    {
        "content": "<p>Equally we could take the definition of <code>Total</code> as </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- A total relation satisfies `r a b` or `r b a`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">total</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 546868833,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761303835
    },
    {
        "content": "<p>Obviously there are lots of relationships between these properties of relations - but <em>in particular</em> these two are analogous to each other.</p>\n<p>We were just discussing how it might make sense to take the definition of <code>Tricho</code> as </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Tricho</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- An trichotomous relation `r` satisfies `¬ r a b → ¬ r b a → a = b`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">tricho</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>\n<p>to as to be analogous to</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Antisymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- An antisymmetric relation `r` satisfies `r a b → r b a → a = b`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">antisymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>\n<p>rather than the equivalent <code>r a b ∨ a = b ∨ r b a</code>.</p>",
        "id": 546869111,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761303948
    },
    {
        "content": "<p>It isn't hard to prove these equivalent, of course, but you can make ergonomic and non-ergonomic choices, I think.</p>",
        "id": 546869174,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761303971
    },
    {
        "content": "<p>I had hoped that suitable instances for the \"not\" versions would help smooth this out, but now I think that might be problematic even when there aren't loops.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Asymm</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Irrefl</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">irrefl</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Asymm</span><span class=\"bp\">.</span><span class=\"n\">asymm</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">h</span>\n\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">Refl</span><span class=\"bp\">.</span><span class=\"n\">irrefl_of_refl_not</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Refl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Irrefl</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">irrefl</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">refl</span>\n\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">Irrefl</span><span class=\"bp\">.</span><span class=\"n\">refl_of_irrefl_not</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Irrefl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Refl</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">refl</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simpa</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"bp\">.</span><span class=\"n\">irrefl</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LawfulOrderLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Asymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">asymm</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LawfulOrderLT</span><span class=\"bp\">.</span><span class=\"n\">lt_iff</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">h'</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"bp\">.</span><span class=\"m\">1</span>\n\n<span class=\"n\">public</span><span class=\"w\"> </span><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LawfulOrderLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Irrefl</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">inferInstance</span>\n</code></pre></div>\n<p>I get a problem here (I think this should be a minimal example, at least needing only the prelude of Init.Core): removing either of <code>Refl.irrefl_of_refl_not</code> or <code>Irrefl.refl_of_irrefl_not</code> removes the issue but when both are present it sets up a loop. I guess that makes sense - at least I see the infinite chain it gets stuck down.</p>",
        "id": 546871012,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761304557
    },
    {
        "content": "<p>It somewhat suggests that <code>Std.Total.asymm_of_total_not</code> is a problem instance - or at least, it might be a problem if <code>Std.Asymm.total_of_asymm_not</code> also existed as an instance. Why should one of these be an instance and not the other? I'm struggling to grasp the heuristic.</p>\n<p>On some level it feels kind of about \"do you think &lt;-like relations or &lt;=-like relations are the more important ones\": and I think Lean generally takes the view that &lt;=-like relations are the important ones - but not always!</p>",
        "id": 546873103,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761305289
    },
    {
        "content": "<p>Side point: <code>Std.instIrreflLtOfLawfulOrderLT</code> has a requirement for <code>[IsPreorder α]</code> as currently existant - I believe this is an erroneous over-specialisation, and that is not required. But that could be fixed independently of all of this.</p>",
        "id": 546873655,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761305483
    },
    {
        "content": "<p>(<a href=\"https://github.com/leanprover/lean4/pull/10941\">lean4#10941</a> for that one)</p>",
        "id": 546890329,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761310517
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546873103\">said</a>:</p>\n<blockquote>\n<p>It somewhat suggests that <code>Std.Total.asymm_of_total_not</code> is a problem instance - or at least, it might be a problem if <code>Std.Asymm.total_of_asymm_not</code> also existed as an instance. Why should one of these be an instance and not the other? I'm struggling to grasp the heuristic.</p>\n</blockquote>\n<p>You're right, <code>asymm_of_total_not</code> would not have been a very good instance if not for historical reasons. The only reason it exists is that when I replaced some uses of <code>Total-not</code> with <code>Asymm</code>, I wanted to minimize breakage. There's no reason beyond that, but we shouldn't add more of these...</p>",
        "id": 546896494,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761312245
    },
    {
        "content": "<p>Yes, I think that's certainly true - if anything I would like to find a way to remove that one!</p>",
        "id": 546896638,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761312290
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546868587\">said</a>:</p>\n<blockquote>\n<p>However, my argument is that these are dual/complementary properties: in particular, we could take the definition of the latter as</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Asymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- An asymmetric relation satisfies `r a b → ¬ r b a`. -/</span>\n<span class=\"w\">  </span><span class=\"n\">asymm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>I'm not sold on the importance of the exact intensional definition of these classes that it would justify making a change. Did it ever really hurt that these definitions aren't perfectly symmetrical? I don't really see the practical problem here.</p>",
        "id": 546897164,
        "sender_full_name": "Paul Reichert",
        "timestamp": 1761312438
    },
    {
        "content": "<p>You are probably right - I am quite symmetry-brained :)</p>",
        "id": 546897278,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761312466
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221653\">@Paul Reichert</span> <a href=\"https://github.com/leanprover/lean4/pull/10945\">lean4#10945</a></p>",
        "id": 546933901,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1761322336
    }
]