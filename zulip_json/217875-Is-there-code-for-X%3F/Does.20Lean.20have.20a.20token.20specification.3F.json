[
    {
        "content": "<p>I'm currently developing an online Lean IDE. I tries some existing editor(VSCode, Emacs) and found all of these editor \"cannot understand the structure of code\"</p>\n<p>for example, type following string in VSCode</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"s2\">\"</span>\n<span class=\"s2\">This is a string !\"</span>\n</code></pre></div>\n<p>If I press <code>Ctrl-/</code> on the second line, VSCode just blindly insert <code>--</code> at the beginning of line.</p>\n<p>I read the Lean code, and I found that Lean use parser combinators. Some tokens are ad-hoc in code (for example, there are many <code>\"(\"</code> <code>\")\"</code> hard-coded)</p>\n<p>I also read <a href=\"https://leanprover.github.io/reference/lexical_structure.html\">https://leanprover.github.io/reference/lexical_structure.html</a>, but it's not clear, it doesn't elaborate what the term \"Symbol\" is, this make me really confusing.</p>\n<p>Is there some token specification for Lean4?</p>",
        "id": 454381316,
        "sender_full_name": "Read-Eval-Loop",
        "timestamp": 1722031876
    },
    {
        "content": "<p>Lean syntax is extensible on many levels, so the only way to parse lean is to ask the lean server.</p>",
        "id": 465078672,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1724645769
    },
    {
        "content": "<p>that lexical structure reference is for lean 3, also.</p>",
        "id": 465079655,
        "sender_full_name": "JJ",
        "timestamp": 1724646598
    },
    {
        "content": "<p>depending on what you want to do (how precise do you want to be?), i think your best bet may be to <a href=\"https://github.com/leanprover/lean4/blob/0edf1bac392f7e2fe0266b28b51c498306363a84/src/Lean/Parser/Basic.lean\">read the source</a> or work off of <a href=\"https://github.com/leanprover/vscode-lean4/blob/93095f9ed971ac59019408942ac295b56e56807c/vscode-lean4/syntaxes/lean4.json\">the vscode-lean syntax highlighter file</a></p>",
        "id": 465079855,
        "sender_full_name": "JJ",
        "timestamp": 1724646723
    }
]