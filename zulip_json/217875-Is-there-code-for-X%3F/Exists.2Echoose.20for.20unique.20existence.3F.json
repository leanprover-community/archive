[
    {
        "content": "<p>Is there some analogue of <code>Exists.choose</code> for unique existence? The normal one works just fine, of course, but it seems \"morally\" wrong and maybe there is some API i am missing</p>",
        "id": 539176192,
        "sender_full_name": "Uni Marx",
        "timestamp": 1757718623
    },
    {
        "content": "<p>Welcome to type theory, uniqueness doesn't help here.</p>",
        "id": 539180925,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757721813
    },
    {
        "content": "<p>the problem is if it reduces definitionally then defeq becomes undecidable</p>",
        "id": 539181022,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757721871
    },
    {
        "content": "<p>Can you give some context? Often the answer if you're having moral qualms is \"don't use <code>choose</code> at all\", either via a suitable recursor, or by changing your datatype</p>",
        "id": 539181027,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757721877
    },
    {
        "content": "<p>and if it doesn't reduce definitionally then you might as well use the stronger choice</p>",
        "id": 539181199,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757721966
    },
    {
        "content": "<p>I wrote some API for this at <a href=\"https://github.com/teorth/analysis/blob/main/analysis/Analysis/Tools/ExistsUnique.lean\">https://github.com/teorth/analysis/blob/main/analysis/Analysis/Tools/ExistsUnique.lean</a></p>",
        "id": 539195662,
        "sender_full_name": "Terence Tao",
        "timestamp": 1757732505
    },
    {
        "content": "<p>I'm aware it doesn't help much either way, yeah. for context, I want to prove that simple FD representations of abelian groups are 1-dimensional, for which I was using the lemma</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">existsUnique_smul_id_eq_of_simple</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsAlgClosed</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FDRep</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Simple</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ!</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"mi\">ùüô</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span>\n</code></pre></div>\n<p>...but that <code>a</code> is just the trace, of course, and I should just refactor it to be that</p>",
        "id": 539255504,
        "sender_full_name": "Uni Marx",
        "timestamp": 1757753507
    },
    {
        "content": "<p>Are you sure? Isn't this Schur's lemma?</p>",
        "id": 539255722,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757753715
    },
    {
        "content": "<p>it is! it's just worded in a somewhat awkward way in its existing shape (see <code>finrank_hom_simple_simple</code> (how do I link these by the way? I used to know but its been a few years) and it seems convenient</p>",
        "id": 539256006,
        "sender_full_name": "Uni Marx",
        "timestamp": 1757754008
    },
    {
        "content": "<p>So the nxn scalar matrix a has trace na not a. You link with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=finrank_hom_simple_simple#doc\">docs#finrank_hom_simple_simple</a></p>",
        "id": 539291746,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1757789959
    },
    {
        "content": "<p>thank you! the trace was wrong of course, but it turns out it was unnecessary either way. see <a href=\"https://github.com/leanprover-community/mathlib4/pull/29622\">#29622</a></p>",
        "id": 539357859,
        "sender_full_name": "Uni Marx",
        "timestamp": 1757793807
    }
]