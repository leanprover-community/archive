[
    {
        "content": "<p>Is there a way to simplify or reduce types in the Lean infoview?</p>\n<p>Here's the example: I am creating the embedded DSL for a language inside Lean, and I get complicated types like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">rep</span><span class=\"bp\">✝</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SurfaceTy</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span>\n<span class=\"n\">part</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">rep</span><span class=\"bp\">✝</span>\n<span class=\"w\">  </span><span class=\"o\">((</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">↦</span>\n<span class=\"w\">      </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">record</span>\n<span class=\"w\">            </span><span class=\"o\">[(</span><span class=\"s2\">\"n_comment\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"n_name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"n_nationkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"n_regionkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">)],</span>\n<span class=\"w\">          </span><span class=\"n\">record</span>\n<span class=\"w\">            </span><span class=\"o\">[(</span><span class=\"s2\">\"p_brand\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_comment\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_container\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"p_mfgr\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_partkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"p_retailprice\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">real</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_type\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">)],</span>\n<span class=\"w\">          </span><span class=\"n\">record</span>\n<span class=\"w\">            </span><span class=\"o\">[(</span><span class=\"s2\">\"ps_availqty\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">real</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"ps_comment\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"ps_partkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"ps_suppkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"ps_supplycost\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">real</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">)],</span>\n<span class=\"w\">          </span><span class=\"n\">record</span>\n<span class=\"w\">            </span><span class=\"o\">[(</span><span class=\"s2\">\"r_comment\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"r_name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"r_regionkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">)],</span>\n<span class=\"w\">          </span><span class=\"n\">record</span>\n<span class=\"w\">            </span><span class=\"o\">[(</span><span class=\"s2\">\"s_acctbal\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">real</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"s_address\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"s_comment\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"s_name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"s_nationkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"s_phone\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"s_suppkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">)]][</span><span class=\"bp\">↑</span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"bp\">!</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>But, this should beta-reduce (i.e. <code>fun</code> is applied to 1), so really this should reduce to </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">record</span>\n<span class=\"w\">            </span><span class=\"o\">[(</span><span class=\"s2\">\"p_brand\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_comment\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_container\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"p_mfgr\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_name\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_partkey\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"p_retailprice\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">real</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"p_type\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">».</span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">string</span><span class=\"bp\">»</span><span class=\"o\">),</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"s2\">\"size\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">int</span><span class=\"bp\">»</span><span class=\"o\">)],</span>\n</code></pre></div>\n<p>If this example is too complicated, I can try and reduce it to a simpler example.</p>",
        "id": 561239292,
        "sender_full_name": "Atticus Kuhn",
        "timestamp": 1764612099
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"217875\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/How.20to.20beta-reduce.2Fsimplify.20or.20reduce.20types.20in.20Infoview\">#Is there code for X? &gt; How to beta-reduce/simplify or reduce types in Infoview</a> by <span class=\"user-mention silent\" data-user-id=\"515312\">Atticus Kuhn</span>.</p>",
        "id": 561239332,
        "sender_full_name": "Notification Bot",
        "timestamp": 1764612105
    },
    {
        "content": "<p>maybe <code>dsimp only at *</code> is good enough for you?</p>",
        "id": 561239656,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612165
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/How.20to.20beta-reduce.2Fsimplify.20or.20reduce.20types.20in.20Infoview.3F/near/561239656\">said</a>:</p>\n<blockquote>\n<p>maybe <code>dsimp only at *</code> is good enough for you?</p>\n</blockquote>\n<p>How can I do that? I'm not in tactic mode, as I'm working inside an embedded DSL.</p>",
        "id": 561239963,
        "sender_full_name": "Atticus Kuhn",
        "timestamp": 1764612222
    },
    {
        "content": "<p>oh you're not in tactic mode</p>",
        "id": 561240468,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612286
    },
    {
        "content": "<p>which part of the infoview is this then</p>",
        "id": 561240555,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612293
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/XnygZWiOufUtepWFTd0G6GrG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/XnygZWiOufUtepWFTd0G6GrG/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1769x914\" src=\"/user_uploads/thumbnail/3121/XnygZWiOufUtepWFTd0G6GrG/image.png/840x560.webp\"></a></div><p>I've created an embedded DSL in Lean using syntax macros, such that when I hover over an element of the DSL, the Lean infoview shows the type of that element of the AST. But, the types are not simplified and they are unwieldly large.</p>",
        "id": 561240969,
        "sender_full_name": "Atticus Kuhn",
        "timestamp": 1764612388
    },
    {
        "content": "<p>oh how does that work</p>",
        "id": 561241187,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612436
    },
    {
        "content": "<p>where do you attach that information to the syntax</p>",
        "id": 561241294,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612463
    },
    {
        "content": "<p>Let's ignore the syntax macros for a second, as that's kind of tangential/peripheral to the question I'm asking. In Lean, if you're in term mode, when you hover over a term, Lean will display the type of that term in the infoview. I'm asking if there is a way to simplify the displayed types in the infoview.</p>",
        "id": 561241519,
        "sender_full_name": "Atticus Kuhn",
        "timestamp": 1764612511
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/How.20to.20beta-reduce.2Fsimplify.20or.20reduce.20types.20in.20Infoview.3F/near/561241294\">said</a>:</p>\n<blockquote>\n<p>where do you attach that information to the syntax</p>\n</blockquote>\n<p>Actually, it doesn't work very well right now (as I'm not sure how to attach the location of the original source to the location of the transformed code), but that's beside the point I'm making right now.</p>",
        "id": 561241681,
        "sender_full_name": "Atticus Kuhn",
        "timestamp": 1764612549
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"515312\">Atticus Kuhn</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/How.20to.20beta-reduce.2Fsimplify.20or.20reduce.20types.20in.20Infoview.3F/near/561241519\">said</a>:</p>\n<blockquote>\n<p>I'm asking if there is a way to simplify the displayed types in the infoview.</p>\n</blockquote>\n<p>not without modifying whatever attaches that information to the syntax</p>",
        "id": 561241813,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612585
    },
    {
        "content": "<p>at least I don't know of any way</p>",
        "id": 561241848,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612592
    },
    {
        "content": "<p>I guess maybe you could go over the infotree any simplify it but</p>",
        "id": 561241935,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612614
    },
    {
        "content": "<p>that feels sort of hacky</p>",
        "id": 561241964,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764612619
    },
    {
        "content": "<p>If you were in tactic mode, you could use the <code>beta_reduce</code> tactic (or just call <code>dsimp</code>). That doesn't work in term mode, though.</p>",
        "id": 561273244,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764623049
    },
    {
        "content": "<p>There's <code>set_option pp.beta true</code> to have the pretty printer beta reduce terms. It can be a bit confusing though since tactics might not apply due to non-beta-reduced terms.</p>\n<p>There's also trying to get your DSL to create beta reduced terms somehow. Lean itself attempts to do this when it elaborates terms, to avoid the unwieldy non-beta-reduced-types issue.</p>",
        "id": 561507981,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1764705591
    }
]