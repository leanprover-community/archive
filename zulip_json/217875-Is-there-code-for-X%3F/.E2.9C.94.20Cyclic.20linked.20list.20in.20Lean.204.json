[
    {
        "content": "<p>How to construct a <strong>cyclic linked list</strong> in Lean 4? Do we must use <code>IO.Ref</code>? <br>\nAnother data structure that supports <code>mutual references</code> is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Combinatorics/SimpleGraph/Basic.html#%20SimpleGraph\">SimpleGraph</a>, but this expression seems difficult to use directly for circularly linked tables.</p>",
        "id": 478111465,
        "sender_full_name": "White Chen",
        "timestamp": 1729530918
    },
    {
        "content": "<p>What is the application? If it's programming, <code>SimpleGraph</code> is not appropriate — that's an abstract model for graphs.</p>",
        "id": 478112239,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729531199
    },
    {
        "content": "<p>I am using Lean to solve a LeetCode algorithm problem. The LeetCode problem provides me with the head node of a linked list, and I need to use Lean to determine if there is a cycle in this linked list, which means a node in the linked list points to one of its previous nodes.</p>",
        "id": 478113691,
        "sender_full_name": "White Chen",
        "timestamp": 1729531676
    },
    {
        "content": "<p>So, as the first step, I need to represent a linked list that can support cycles in Lean.</p>",
        "id": 478113963,
        "sender_full_name": "White Chen",
        "timestamp": 1729531748
    },
    {
        "content": "<p>If you define</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Node</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Idx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span>\n<span class=\"w\">  </span><span class=\"n\">next</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Idx</span>\n</code></pre></div>\n<p>you could use types like <code>Std.HashMap Idx (Node Idx α)</code> or <code>Array (Node Nat α)</code>. In the first, <code>Idx</code> is any convenient type, like <code>Nat</code> for example. In the second, you use the array indices as keys.</p>",
        "id": 478116237,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729532480
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"670422\">White Chen</span> has marked this topic as resolved.</p>",
        "id": 478183424,
        "sender_full_name": "Notification Bot",
        "timestamp": 1729560503
    }
]