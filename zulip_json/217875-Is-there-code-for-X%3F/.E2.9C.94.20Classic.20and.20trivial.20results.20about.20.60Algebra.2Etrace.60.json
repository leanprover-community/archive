[
    {
        "content": "<p>Can't find <code>Algebra.trace R R a = a</code> in loogle nor in the library, is there such a result? If not I'm preparing PR, I think it's worth to have it (and I need it <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span> ).</p>",
        "id": 494763537,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1737366578
    },
    {
        "content": "<p>Since it is not next to <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Trace/Defs.html#Algebra.trace_algebraMap\">Algebra.trace_algebraMap</a> it is probably not there, but it should be immediate.</p>",
        "id": 494767007,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1737367437
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/20865\">#20865</a></p>",
        "id": 494768102,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1737367737
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"217875\" href=\"/#narrow/channel/217875-Is-there-code-for-X.3F/topic/.02klzzwxh.3A0000.03\">#Is there code for X? &gt; <code>Algebra.trace R R a = a</code></a> by <span class=\"user-mention silent\" data-user-id=\"759408\">Michał Staromiejski</span>.</p>",
        "id": 494773902,
        "sender_full_name": "Notification Bot",
        "timestamp": 1737369236
    },
    {
        "content": "<p>How about these:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">trace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">finrank</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"bp\">⟮</span><span class=\"n\">a</span><span class=\"bp\">⟯</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"n\">minpoly</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">nextCoeff</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>and maybe would be nice also to have special case of <code>trace_eq_trace_adjoin</code> from <code>Mathlib.RingTheory.Trace.Basic</code>and the above:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsIntegral</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">trace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"bp\">⟮</span><span class=\"n\">a</span><span class=\"bp\">⟯</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IntermediateField</span><span class=\"bp\">.</span><span class=\"n\">AdjoinSimple</span><span class=\"bp\">.</span><span class=\"n\">gen</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span>\n<span class=\"w\">      </span><span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"n\">minpoly</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">nextCoeff</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Do we want those? I find it easier to work with them than with <code>trace_eq_trace_adjoin</code>.</p>",
        "id": 494776290,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1737369916
    },
    {
        "content": "<p>Isn't the trace just minus the coefficient, not dimension times it? This seems to me to be the conjunction of two statements: trace of a is trace of an endomorphism, and trace of an endomorphism is -coeff of char poly.</p>",
        "id": 494780005,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1737370970
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> It's about <code>minpoly</code> not char poly.</p>",
        "id": 494782938,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1737371832
    },
    {
        "content": "<p>Ah, in the second case those actually coincide. But not in the first.</p>",
        "id": 494783141,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1737371899
    },
    {
        "content": "<p>Created <a href=\"https://github.com/leanprover-community/mathlib4/pull/20906\">#20906</a></p>",
        "id": 495010216,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1737453823
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"759408\">Michał Staromiejski</span> has marked this topic as resolved.</p>",
        "id": 495322174,
        "sender_full_name": "Notification Bot",
        "timestamp": 1737562938
    }
]