[
    {
        "content": "<p>Does mathlib have the definition for a maximal abelian subgroup? For that matter, is the set of all maximal abelian subgroups of a group defined?</p>\n<p>The definition for maximal abelian subgroup I am using is the following:<br>\nA subgroup H of G is a maximal abelian subgroup iff H is abelian and for all subgroups J of G such that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>⊂</mo><mi>J</mi></mrow><annotation encoding=\"application/x-tex\">H \\subset J</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7224em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span> then J is not abelian.</p>",
        "id": 483012441,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731933982
    },
    {
        "content": "<p>don't you have <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>⊂</mo><mi>H</mi></mrow><annotation encoding=\"application/x-tex\">H \\subset H</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7224em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span></span></span></span> though?</p>",
        "id": 483013656,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934288
    },
    {
        "content": "<p>so wouldn't you rather state it as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>⊂</mo><mi>J</mi></mrow><annotation encoding=\"application/x-tex\"> H \\subset J </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7224em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>J</mi></mrow><annotation encoding=\"application/x-tex\"> J </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>  abelian implies <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>=</mo><mi>J</mi></mrow><annotation encoding=\"application/x-tex\"> H = J </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.09618em;\">J</span></span></span></span>?</p>",
        "id": 483013907,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934346
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Maximal.20abelian.20subgroup/near/483013656\">said</a>:</p>\n<blockquote>\n<p>don't you have <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>⊂</mo><mi>H</mi></mrow><annotation encoding=\"application/x-tex\">H \\subset H</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7224em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span></span></span></span> though?</p>\n</blockquote>\n<p>I mean that if H is a proper subset of J, so <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo>⊄</mo><mi>H</mi></mrow><annotation encoding=\"application/x-tex\">H \\not\\subset H</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\"><span class=\"mord vbox\"><span class=\"thinbox\"><span class=\"rlap\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord\"><span class=\"mrel\"></span></span></span><span class=\"fix\"></span></span></span></span></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mrel\">⊂</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.08125em;\">H</span></span></span></span></p>",
        "id": 483013941,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731934356
    },
    {
        "content": "<p>right. Still, i think it'll be easier to work with if you state it in the positive form.</p>",
        "id": 483014105,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934410
    },
    {
        "content": "<p>we already have the inclusion ordering of subgroups, and we can use that to <em>state</em> that a subgroup is maximal, but i'm not sure these always exist?</p>",
        "id": 483014339,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934467
    },
    {
        "content": "<p>Would it be a problem if it does not exist for a particular group? ...I figure that in the worst case, the maximal abelian subgroup is just the trivial group.</p>",
        "id": 483015150,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731934681
    },
    {
        "content": "<p>here is how you can state that a subgroup is maximal w.r.t. some predicate</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"c1\">-- (HComm : H.IsCommutative)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Maximal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subgroup</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">H</span>\n</code></pre></div>",
        "id": 483015806,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934830
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634542\">Alex Brodbelt</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Maximal.20abelian.20subgroup/near/483015150\">said</a>:</p>\n<blockquote>\n<p>Would it be a problem if it does not exist for a particular group? ...I figure that in the worst case, the maximal abelian subgroup is just the trivial group.</p>\n</blockquote>\n<p>i don't know enough group theory, but i don't know why it would be impossible for there to be an infinite ascending chain of subgroups that are abelian without maximum.</p>",
        "id": 483016022,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934884
    },
    {
        "content": "<p>i imagine there might be some zorn argument, but i don't know if that is possible in this case (in the sense that i haven't tried)</p>",
        "id": 483016298,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731934949
    },
    {
        "content": "<p>I certainly wouldn't talk about \"the\" maximal abelian subgroup, because it doesn't have to be unique.</p>",
        "id": 483016472,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731934997
    },
    {
        "content": "<p>it doesn't?</p>",
        "id": 483016656,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731935043
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Maximal.20abelian.20subgroup/near/483016472\">said</a>:</p>\n<blockquote>\n<p>I certainly wouldn't talk about \"the\" maximal abelian subgroup, because it doesn't have to be unique.</p>\n</blockquote>\n<p>hmm true</p>",
        "id": 483016685,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731935050
    },
    {
        "content": "<p>i mean, it might not be, but i wouldn't know an example</p>",
        "id": 483016774,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731935068
    },
    {
        "content": "<p>Take the smallest non-abelian group you know, and look at its lattice of subgroups. All proper subgroups will be abelian.</p>",
        "id": 483016801,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731935073
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 483016807,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731935075
    },
    {
        "content": "<p>Sorry for the spoiler!</p>",
        "id": 483016869,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1731935090
    },
    {
        "content": "<p>ah right, that makes sense.</p>",
        "id": 483017423,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731935213
    },
    {
        "content": "<p>So in fact, a group has a unique maximal abelian subgroup if and only if the whole group is abelian.</p>",
        "id": 483017618,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731935262
    },
    {
        "content": "<p>Would this sort of result or definition already be in mathlib? Albeit under a different name?</p>",
        "id": 483017835,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731935319
    },
    {
        "content": "<p>Probably not. How would you like to use it?</p>",
        "id": 483018347,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731935465
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Maximal.20abelian.20subgroup/near/483018347\">said</a>:</p>\n<blockquote>\n<p>Probably not. How would you like to use it?</p>\n</blockquote>\n<p>I need these results (unless there is a different way to go about formalising the result of course)</p>\n<p><a href=\"/user_uploads/3121/MC3FPH8cU2mEmaMOCbwXNtaI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/MC3FPH8cU2mEmaMOCbwXNtaI/image.png\" title=\"image.png\"><img data-original-dimensions=\"698x838\" src=\"/user_uploads/thumbnail/3121/MC3FPH8cU2mEmaMOCbwXNtaI/image.png/840x560.webp\"></a></div>",
        "id": 483018714,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731935556
    },
    {
        "content": "<p>...and possibly some other results which I might not have located yet</p>",
        "id": 483019010,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731935641
    },
    {
        "content": "<p>I don't see any mention of \"the maximal abelian subgroup\"</p>",
        "id": 483019178,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731935679
    },
    {
        "content": "<p>Apologies! here should be enough context...</p>\n<p><a href=\"/user_uploads/3121/DDiSiU35BsefZWDnc4nRLfbw/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/DDiSiU35BsefZWDnc4nRLfbw/image.png\" title=\"image.png\"><img data-original-dimensions=\"723x857\" src=\"/user_uploads/thumbnail/3121/DDiSiU35BsefZWDnc4nRLfbw/image.png/840x560.webp\"></a></div>",
        "id": 483019403,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731935741
    },
    {
        "content": "<p>I see. Well, if you want to act on the set of max.ab.subs by conjugation, then it will be useful to define them as a type or at least as a set.</p>",
        "id": 483019921,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731935879
    },
    {
        "content": "<p>fwiw, here's a proof that <code>Maximal Subgroup.IsCommutative</code> is indeed the right notion for you:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hHMax</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Maximal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subgroup</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hHMax</span><span class=\"bp\">.</span><span class=\"n\">prop</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">J</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"n\">hJ</span>\n<span class=\"w\">  </span><span class=\"n\">contrapose!</span><span class=\"w\"> </span><span class=\"n\">hJ</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Maximal</span><span class=\"bp\">.</span><span class=\"n\">not_gt</span><span class=\"w\"> </span><span class=\"n\">hHMax</span><span class=\"w\"> </span><span class=\"n\">hJ</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">),(</span><span class=\"n\">J</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">K</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">    </span><span class=\"n\">Maximal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subgroup</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"n\">hJ</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Maximal</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">hJ</span><span class=\"bp\">.</span><span class=\"n\">left</span>\n<span class=\"w\">  </span><span class=\"n\">replace</span><span class=\"w\"> </span><span class=\"n\">hJ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hJ</span><span class=\"bp\">.</span><span class=\"n\">right</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">hK</span><span class=\"w\"> </span><span class=\"n\">hJK</span>\n<span class=\"w\">  </span><span class=\"n\">specialize</span><span class=\"w\"> </span><span class=\"n\">hJ</span><span class=\"w\"> </span><span class=\"n\">K</span>\n<span class=\"w\">  </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">:</span><span class=\"n\">J</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"k\">else</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hJ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">lt_of_le_of_ne</span><span class=\"w\"> </span><span class=\"n\">hJK</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">hK</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">elim</span>\n</code></pre></div>",
        "id": 483021779,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731936352
    },
    {
        "content": "<p>oh wow thanks!</p>",
        "id": 483021912,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731936385
    },
    {
        "content": "<p>although i still think that using <code>H &lt;= J -&gt; J.Iscommutative -&gt; H = J</code> is a \"better\" definition for lean than using proper subgroups</p>",
        "id": 483022084,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731936435
    },
    {
        "content": "<p>Isn't that what <code>Maximal</code> does under the hood? (I didn't check.)</p>",
        "id": 483022344,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731936491
    },
    {
        "content": "<p>almost, apparently</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">print</span><span class=\"w\"> </span><span class=\"n\">Maximal</span>\n<span class=\"c1\">-- def Maximal.{u_1} : {α : Type u_1} → [inst : LE α] → (α → Prop) → α → Prop :=</span>\n<span class=\"c1\">-- fun {α} [LE α] P x =&gt; P x ∧ ∀ ⦃y : α⦄, P y → x ≤ y → y ≤ x</span>\n</code></pre></div>",
        "id": 483022640,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731936579
    },
    {
        "content": "<p>it actually doesn't assume the antisymmetry</p>",
        "id": 483022700,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731936597
    },
    {
        "content": "<p>Would you define the set of maximal abelian subgroups as having type <code>Set (Set G)</code>or would you define it in a different way?</p>",
        "id": 483022792,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731936611
    },
    {
        "content": "<p><code>Set (Subgroup G)</code> should be more useful for you</p>",
        "id": 483022928,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731936646
    },
    {
        "content": "<p>that way you bundle \"Subgroup-ness\"</p>",
        "id": 483023029,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1731936667
    },
    {
        "content": "<p>that makes sense</p>",
        "id": 483023297,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731936728
    },
    {
        "content": "<p>Yeah, just use the definition that Edward gave above</p>",
        "id": 483023330,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731936739
    },
    {
        "content": "<p>Using <code>Maximal</code></p>",
        "id": 483023357,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731936745
    },
    {
        "content": "<p>And look at the set of groups satisfying that predicate.</p>",
        "id": 483023401,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731936758
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span> might also have thought about this before</p>",
        "id": 483023503,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731936783
    },
    {
        "content": "<p>I have this ...just checking I'm working with a reasonable definition</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">MaximalAbelianSubgroups</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Maximal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subgroup</span><span class=\"bp\">.</span><span class=\"n\">IsCommutative</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">}</span>\n</code></pre></div>",
        "id": 483028366,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731938029
    },
    {
        "content": "<p>Yes, I think that could work. It depends a bit on what API you will need.</p>",
        "id": 483028680,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731938099
    },
    {
        "content": "<p>You might also discover that you rather want an unbundled predicate together with an honest type, instead of a set.</p>",
        "id": 483028781,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731938126
    },
    {
        "content": "<p>This is something that you will discover soon enough once you start using the definition.</p>",
        "id": 483028829,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731938142
    },
    {
        "content": "<p>I'll try formalising these statements and see how it goes :)</p>\n<p>Thanks for the help, it is much appreciated.</p>",
        "id": 483029044,
        "sender_full_name": "Alex Brodbelt",
        "timestamp": 1731938193
    },
    {
        "content": "<p>One point of comparison is that Sylow subgroups are defined as maximal p-subgroups (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=sylow#doc\">docs#sylow</a>), and I defined them as a structure rather than as a set of subgroups. I'm not sure about the pros and cons of these various approaches. Either way, you're going to have to use Zorn to prove the existence of maximal abelian subgroups (e.g., see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsPGroup.exists_le_sylow#doc\">docs#IsPGroup.exists_le_sylow</a>).</p>",
        "id": 483057244,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1731944851
    },
    {
        "content": "<p>A message was moved from this topic to <a class=\"stream-topic\" data-stream-id=\"116395\" href=\"/#narrow/channel/116395-maths/topic/Maximal.20abelian.20subgroup\">#maths &gt; Maximal abelian subgroup</a> by <span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span>.</p>",
        "id": 483840753,
        "sender_full_name": "Notification Bot",
        "timestamp": 1732254045
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634542\">Alex Brodbelt</span> has marked this topic as resolved.</p>",
        "id": 483874765,
        "sender_full_name": "Notification Bot",
        "timestamp": 1732269396
    }
]