[
    {
        "content": "<p>Is there anything already?</p>\n<p>If not, I will slowly (and lazily) do it, probably. (It allows me to understand the material better, for one.)<br>\nDoes anyone want to join?</p>",
        "id": 467363584,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1725399589
    },
    {
        "content": "<p>There are a couple of PRs adding game theoretic stuff. One of them is mine, and another is on auction theory (I don't know the author's zulip)</p>",
        "id": 467364474,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725400021
    },
    {
        "content": "<p>Greetings!</p>\n<p>What's in your PR?</p>",
        "id": 467368187,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1725401858
    },
    {
        "content": "<p>Discrete fair division</p>",
        "id": 467371179,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725403385
    },
    {
        "content": "<p>What kind of game theory? We've got a bunch of stuff on the combinatorial side</p>",
        "id": 467420879,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725428663
    },
    {
        "content": "<p>I translated part of course description (apologies for possibly weird English):</p>\n<blockquote>\n<ol>\n<li>Examples, intuition and formal definition (of strategic game).</li>\n<li>Extensive form with full information.</li>\n<li>Extensive form with partial information.</li>\n<li>Convex game</li>\n<li>Nash equilibrium in convex games</li>\n<li>Cournot model of oligopoly, patent competitions and other examples of convex games.</li>\n<li>Existence of Nash equilibrium in mixed strategies.</li>\n<li>Ecological game and other games with parameter.</li>\n<li>Finding Nash equilibrium in mixed strategies for games of size 2*n.</li>\n<li>Finding Nash equilibrium in mixed strategies for games of size 3x3.</li>\n<li>Notion of Bayesian game.</li>\n</ol>\n</blockquote>\n<p>That's what I will be studying and trying to formalize at least partly (because that helps me to understand better <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> ).</p>",
        "id": 467459386,
        "sender_full_name": "Ilmārs Cīrulis",
        "timestamp": 1725439133
    },
    {
        "content": "<p>So this is game theory of the strategic interactions variety</p>",
        "id": 467530274,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725455419
    },
    {
        "content": "<p>The existence theorem would be interesting, but I don't know if the Brouwer or Kakutani fixed point theorems are in mathlib?</p>",
        "id": 467829328,
        "sender_full_name": "Alexander Hicks",
        "timestamp": 1725536477
    },
    {
        "content": "<p>Brouwer is formalised outside of mathlib. Kakutani I still hope to do one day, but it's not a priority at the moment</p>",
        "id": 467831575,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725537074
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690355\">Alexander Hicks</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/467829328\">said</a>:</p>\n<blockquote>\n<p>The existence theorem would be interesting, but I don't know if the Brouwer or Kakutani fixed point theorems are in mathlib?</p>\n</blockquote>\n<p>existence of what?</p>",
        "id": 467843557,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725540096
    },
    {
        "content": "<p>Fwiw, sperner's lemma with triangulations is the more interesting version for games. I know only the triangle version of this</p>",
        "id": 467843876,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725540138
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/467843557\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"690355\">Alexander Hicks</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/467829328\">said</a>:</p>\n<blockquote>\n<p>The existence theorem would be interesting, but I don't know if the Brouwer or Kakutani fixed point theorems are in mathlib?</p>\n</blockquote>\n<p>existence of what?</p>\n</blockquote>\n<p>Existence of a nash equilibrium i.e., every finite game has a mixed strategy Nash equilibrium (there exists a few variations of this).</p>",
        "id": 468128750,
        "sender_full_name": "Alexander Hicks",
        "timestamp": 1725614288
    },
    {
        "content": "<p>Question, is there any overarching definition for a game (of this strategic kind)? Or are there multiple overlapping notions?</p>",
        "id": 468258924,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725646827
    },
    {
        "content": "<p>I was thinking about a <a href=\"https://artofproblemsolving.com/wiki/index.php/2017_IMO_Problems/Problem_3\">certain infamous IMO problem</a> the other day, and how it would even be formalized. I think you could frame it as asking for an existence of a strategy in a certain two player game with partial information, but I then have no idea what the best way to formalize that is.</p>",
        "id": 468259286,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725646933
    },
    {
        "content": "<p>this is likely somewhat besides the point, but this is one way to formalize the statement with current mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Normed</span><span class=\"bp\">.</span><span class=\"n\">Lp</span><span class=\"bp\">.</span><span class=\"n\">ProdLp</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">WithLp</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Real</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">wf_defined_sequence</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">n</span>\n<span class=\"c1\">-- when inputs are the same up to at least N, the output is consistent up to at least N.</span>\n<span class=\"c1\">-- i.e. `B` can't make decisions on future differences in strategy</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">isTrackerFor</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">isMoveSequence</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">final_moment</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">9</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Imo_2017_Problem_3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">wf_defined_sequence</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"bp\">∧</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Coordinates</span><span class=\"o\">),</span>\n<span class=\"w\">    </span><span class=\"n\">isTrackerFor</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">    </span><span class=\"n\">isMoveSequence</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">    </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">      </span><span class=\"bp\">‖</span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">final_moment</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">final_moment</span><span class=\"bp\">‖</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"mi\">100</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">isMoveSequence</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 468270002,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725649560
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/468258924\">said</a>:</p>\n<blockquote>\n<p>Question, is there any overarching definition for a game (of this strategic kind)? Or are there multiple overlapping notions?</p>\n</blockquote>\n<p>This is one of those areas where a single overarching decision, if at all it exists, is likely to be obscure and require too much effort to prove theorems which are usually specific to the instantiations</p>",
        "id": 468294446,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725659249
    },
    {
        "content": "<p>Normal form games can be represented as maps from finite types to costs, keeping with Lean's generality w.r.t matrices. Extended form games could be represented as an inductive type, which ought to make proofs by induction simpler</p>",
        "id": 468311143,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725667035
    },
    {
        "content": "<p>Here's a definition of a partially observable, multiagent, deterministic, sequential, static, and discrete environment, but I agree that it's quite unusable in practice (and it's not even fully general - it could be made nondeterministic and continuous)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Agents</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"n\">initialState</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">State</span>\n<span class=\"w\">  </span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Agents</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"n\">observe</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Agents</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">Actions</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Agents</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span>\n<span class=\"w\">  </span><span class=\"n\">step</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">current</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Agents</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Actions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">observe</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">current</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">State</span>\n<span class=\"w\">  </span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Agents</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"bp\">.</span><span class=\"n\">Strategy</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Agents</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Actions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"bp\">.</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Strategy</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">State</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">initialState</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">step</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">observe</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)))</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"bp\">.</span><span class=\"n\">evaluate</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Strategy</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Agents</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span>\n\n<span class=\"c1\">-- Augment a game to give a memory to all agents</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"bp\">.</span><span class=\"n\">withMemory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mem</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Agents</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Inhabited</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mem</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Agents</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Agents</span>\n<span class=\"w\">  </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mem</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">initialState</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">initialState</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">mem</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">observe</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">observe</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">Actions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">Actions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">mem</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"w\">  </span><span class=\"n\">step</span><span class=\"w\"> </span><span class=\"n\">cur</span><span class=\"w\"> </span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">step</span><span class=\"w\"> </span><span class=\"n\">cur</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">game</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">game</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 468340150,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1725681972
    },
    {
        "content": "<p>An agents reward can depend on the actions of all other agents apart from its observation of the extent state</p>",
        "id": 468345363,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685425
    },
    {
        "content": "<p>This definition doesn't capture that. In normal form games, even with iterations, all agents simultaneously observe the state and choose actions.</p>",
        "id": 468345430,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685457
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 468345438,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685467
    },
    {
        "content": "<p>In any case, as you pointed out, this is a case where abstraction is not helping reduce tedium. Just adding to it. A horizontal abstraction is better</p>",
        "id": 468345526,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685547
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/468345430\">said</a>:</p>\n<blockquote>\n<p>This definition doesn't capture that. In normal form games, even with iterations, all agents simultaneously observe the state and choose actions.</p>\n</blockquote>\n<p>Sorry, I don't follow - could you give a concrete example?</p>",
        "id": 468345616,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1725685587
    },
    {
        "content": "<p>Sorry. Edited a message instead of adding one.</p>",
        "id": 468345723,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685659
    },
    {
        "content": "<p>Take iterated prisoners dilemma</p>",
        "id": 468345745,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685668
    },
    {
        "content": "<p>The state of the system is the set of actions that all agents have played up to an iteration</p>",
        "id": 468345830,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685688
    },
    {
        "content": "<p>In the next iteration, each agent can read this state, and has access to the cost function determined by the state and all possible actions by other agents</p>",
        "id": 468345992,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685727
    },
    {
        "content": "<p>The agent cannot know its final utility in the next iteration because it cannot know the actions of other agents in that iteration</p>",
        "id": 468346133,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685768
    },
    {
        "content": "<p>Anyway, my more important point is, if you try to fix this abstraction, it will get more complicated and still not capture all possible strategic interactions</p>",
        "id": 468346461,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725685839
    },
    {
        "content": "<p>Is this definition wrong?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">score</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">false</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">1</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">false</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">1</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">true</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">2</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">true</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">2</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">false</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">3</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">false</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">true</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">true</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">3</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">iteratedPrisonersDilemma</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GeneralGame</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">Agents</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">initialState</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">[]</span>\n<span class=\"w\">  </span><span class=\"n\">Observesions</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">observe</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">s</span>\n<span class=\"w\">  </span><span class=\"n\">Actions</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Bool</span>\n<span class=\"w\">  </span><span class=\"n\">step</span><span class=\"w\"> </span><span class=\"n\">cur</span><span class=\"w\"> </span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">actions</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"w\"> </span><span class=\"n\">cur</span>\n<span class=\"w\">  </span><span class=\"n\">reward</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">game</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">liminf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">game</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">score</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">sum</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">atTop</span>\n</code></pre></div>",
        "id": 468348614,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1725686667
    },
    {
        "content": "<p>My initial take on that structure is that it probably is more convenient to unbundled all the type-valued fields</p>",
        "id": 468400851,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1725711731
    },
    {
        "content": "<p>My take is, that there is no per round reward and that the per round reward would also depend on the moves of other player in the current around which a player wouldn't know in advance</p>",
        "id": 468407146,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725714157
    },
    {
        "content": "<p>And I will emphasize again that the TCS people's approach is going to prove more ergonomical in this area. Universal and all-encompassing abstractions are wonderful when they simplify and remove details that are not necessary. That is not happening here.</p>",
        "id": 468407349,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725714269
    },
    {
        "content": "<p>The other problem is probably more human. let's say you find the perfect all encompassing <em>and</em> useful abstraction for games (big if). Now people contributing game theory have to learn this thing. They usually come from TCS backgrounds or economics backgrounds. You will now find yourself in the same position as some constructivists do when they say that you need to express complex numbers in a certain way (borrowing from Kevin's story iirc)</p>",
        "id": 468409555,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1725714898
    },
    {
        "content": "<p>I noticed this repo: <a href=\"https://github.com/MixedMatched/formalizing-game-theory/blob/master/FormalizingGameTheory/Basic.lean\">Formalizing Game Theory</a>.   It has 6 <code>sorry</code>s in it, so not 100% done yet.  Where would it fit in <code>mathlib</code>?  Top level <code>GameTheory</code> directory like <code>FieldTheory</code> or <code>InformationTheory</code>?  I am curious what the taste guidelines and acceptance criteria are for putting significant branches of applied mathematics into <code>mathlib</code>.  That is, what do the primary <code>mathlib</code> caretakers consider core mathematics areas that should go into <code>mathlib</code> and what areas are non-core and should stay in GitHubs.  Game theory could be thought of as <a href=\"https://www.perplexity.ai/search/is-game-theory-applied-mathema-kves5RbzTwe4iSg4mejlow\">applied mathematics</a>.  Is applied math in or out of scope?</p>",
        "id": 482688624,
        "sender_full_name": "Lars Ericson",
        "timestamp": 1731701843
    },
    {
        "content": "<p>Applied maths that is done at appropriate levels of generality and that reuses existing foundational material where relevant is very welcome, and in scope.</p>\n<p>That said, these criteria do seem to be harder to satisfy than in pure mathematics. In particular I think there's been a tendency for work in this direction to struggle to get agreement on definitions.</p>",
        "id": 482744557,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1731740331
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 482746129,
        "sender_full_name": "Abraham Solomon",
        "timestamp": 1731741819
    },
    {
        "content": "<p>There are many ways to organize facts into definitions in math.   Clearly the proof of a fact has to be finished before the definitions that it relates to can go into <code>mathlib</code>.  The <a href=\"https://github.com/MixedMatched/formalizing-game-theory\">game theory github</a> has <code>sorry</code>s.  In another thread, a <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Hybrid.20logic\">hybrid logic github</a> has <code>sorry</code>s.  It is fun to find those cases where it turns out to be very hard to translate a paper proof into Lean, and then to understand why and get through it or discover a Lean limitation.  Is it  that the paper proof that is hand waving over some more complicated mechanics?  Did the person coding the Lean proof take a wrong turn on an issue where there is a known path that the paper proof didn't spell out?  Or is there something that can't be expressed in Lean?</p>",
        "id": 482864300,
        "sender_full_name": "Lars Ericson",
        "timestamp": 1731851954
    },
    {
        "content": "<p>It is almost never a lean issue. It is almost always the case that the \"proofs\" in this area are heavily underspecified.</p>",
        "id": 483019424,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731935746
    },
    {
        "content": "<p>Secondly sometimes generality is really not even mathematically sensible. I am currently formalising fair division theory in my spare time. In this domain, problems in the allocation of indivisible goods is inherently different than for divisible goods. Further, even in the indivisible world, chores (negatively valued goods) behave differently from goods.</p>",
        "id": 483029014,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731938182
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"364351\">Lars Ericson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/482688624\">said</a>:</p>\n<blockquote>\n<p>I noticed this repo: <a href=\"https://github.com/MixedMatched/formalizing-game-theory/blob/master/FormalizingGameTheory/Basic.lean\">Formalizing Game Theory</a>.   It has 6 <code>sorry</code>s in it, so not 100% done yet.</p>\n</blockquote>\n<p>Oh, hey, this is my Game Theory repo. I would say my current definitions for games and strategies and properties of games are close to if not completely finished (in terms of the information they convey, not necessarily their exact Lean formatting). Almost all of the <code>sorry</code>s I currently have are in preparation to write proofs of existence for mixed Nash Equilibriums in matrix-like and continuous games, which are going to be quite complicated. I currently have a few example proofs of basic facts in game theory (for a specific prisoner's dilemma) that don't require <code>sorry</code>s,  and I'm hoping to add example proofs of more general statements soon.</p>\n<p>Most of my aim with this project was to create a definition of games that was general enough to encompass most (if not all) strategic game theory, but this is my first Lean project with such a large scope, so I'm very open to critique. From the work I've done so far, I would say it's definitely possible to formalize generalizations about games, but I'm not entirely sure about how much foundational material it would end up using. I know for sure that a fixed-point theorem is necessary for the proof of existence of mixed Nash Equilibriums in matrix-like games, and that it becomes even more complex for continuous games, but aside from that, I wouldn't be entirely sure about use of other formal mathematics.</p>",
        "id": 483051060,
        "sender_full_name": "Alessandra Simmons",
        "timestamp": 1731943507
    },
    {
        "content": "<p>I just uploaded this today based off my mathlib PR for another reference : <br>\n<a href=\"https://github.com/Shreyas4991/FairDivision\">https://github.com/Shreyas4991/FairDivision</a></p>",
        "id": 483111710,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1731959961
    },
    {
        "content": "<p>Hi all!  For <a href=\"https://github.com/m4lvin/lean4-pdl\">my project on PDL</a> I probably will need the result that in a finite two-player game with alternating moves and without draws one of the two players must have a winning strategy - Edit: apparently it is called \"Zermelo's theorem\".</p>\n<p>I know little about combinatorial games, but at first sight it seems that I could specify the game using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.State#doc\">docs#SetTheory.PGame.State</a> - is there any theorem that then gives me (existance of) a winning strategy? I could not even find a definition of strategies, so maybe I am missing something crucial about combinatorial games here ;-)</p>\n<p>The game I have is finite, i.e. finitely branching AND even finite depth, so in particular it is \"short\" in the sense of <code>Mathlib.SetTheory.Game.Short</code>, in case that matters.</p>\n<p>And on the other hand, the repository <code>MixedMatched/formalizing-game-theory</code> is only about one-shot / single-round games such as prisoners dilemma, but not iterated or multi-round games, correct?</p>",
        "id": 483289916,
        "sender_full_name": "Malvin Gattinger",
        "timestamp": 1732029957
    },
    {
        "content": "<p>I think in general combinatorial games and strategic games are studying different concepts so I doubt that they'd mix well in a formalism.</p>",
        "id": 483293792,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1732030967
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"422703\">Malvin Gattinger</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/483289916\">said</a>:</p>\n<blockquote>\n<p>And on the other hand, the repository <code>MixedMatched/formalizing-game-theory</code> is only about one-shot / single-round games such as prisoners dilemma, but not iterated or multi-round games, correct?</p>\n</blockquote>\n<p>It is possible to have iterated strategic games using my representation, as long as the game is provably finite, although I'm not sure how easy it would be to prove the properties you want. I just pushed such an example for a 5-round iterated prisoner's dilemma at the bottom of Basic.lean, if you want a reference. I would, however, advise against using my project in its current state to do more complicated formalization tasks because I'm not really sure that it's ready for that. Obviously, you can use it at your own discretion.</p>",
        "id": 483301246,
        "sender_full_name": "Alessandra Simmons",
        "timestamp": 1732032979
    },
    {
        "content": "<p>Just to say that <span class=\"user-mention\" data-user-id=\"268315\">@Anatole Dedecker</span> and I have a formalization of von Neumann's theorem in the version of Sion involving quasiconvex/quasiconcave semicontinuous functions. </p>\n<p><a href=\"https://github.com/AntoineChambert-Loir/Sion4\">https://github.com/AntoineChambert-Loir/Sion4</a></p>",
        "id": 483344549,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1732046989
    },
    {
        "content": "<p>The existence of mixed Nash equilibrium in finite games absolutely belongs in mathlib once formalized. You'd need a fixed point theorem (Brouwer or Kakutani). If you have one of those in Mathlib then existence of Nash is quite doable (Nash 1950 via Kakutani, Nash1951 via Brouwer are both short proofs; or follow one of the textbooks). If you don't have a fixed point theorem then it can't be done (One can prove Brouwer  from existence of Nash). In that case perhaps you could state Brouwer's fixed point theorem with sorry in place of proof, and go from there.</p>",
        "id": 483596308,
        "sender_full_name": "GasStationManager",
        "timestamp": 1732149543
    },
    {
        "content": "<p>Hey! I'd also really like some basic game theory results in Mathlib. Are we sure we need fixed point theorems? I recall being able to use strong duality / linear programming results instead, at least in some situations. If I'm insane and we do really need Brouwer / Kakutani, how hard would that be? I think we'd want some sphere homology results and I found some other conversations indicating that formalizing sphere homologies could take a while. Are there alternative proofs of Brouwer we could appeal to? I recall proving Brouwer in a course that didn't use algebraic topology but the proof did need mollification at one step. Sorry for sounding impatient -- all of my research is in game theory and I'm hesitant to formalize it until the foundational results are made canonical.</p>",
        "id": 490190857,
        "sender_full_name": "Alexander Heckett",
        "timestamp": 1734711023
    },
    {
        "content": "<p>As a rule of thumb we don't really need fixed point theorems in the level of generality that mathematicians prove them in. One can almost always work with elementary versions in euclidean space.</p>",
        "id": 490194004,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1734712172
    },
    {
        "content": "<p>Getting it into mathlib or even building off mathlib's constructions is a different story.</p>",
        "id": 490194021,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1734712184
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Basics.20of.20game.20theory.3F/near/490194004\">said</a>:</p>\n<blockquote>\n<p>As a rule of thumb we don't really need fixed point theorems in the level of generality that mathematicians prove them in. One can almost always work with elementary versions in euclidean space.</p>\n</blockquote>\n<p>I am mentoring an ongoing student project (<a href=\"https://github.com/math-xmum/gametheory/blob/master/GameTheory/Scarf.lean\">https://github.com/math-xmum/gametheory/blob/master/GameTheory/Scarf.lean</a>) to prove Brouwer fixed point theorem following this paper:<br>\n<a href=\"https://arxiv.org/abs/1902.00827\">https://arxiv.org/abs/1902.00827</a></p>\n<p>If you are interested, you are welcome to join the project.</p>",
        "id": 509590009,
        "sender_full_name": "Ma, Jia-Jun",
        "timestamp": 1743562922
    }
]