[
    {
        "content": "<p>Does the following theorem exist?</p>\n<p><a href=\"/user_uploads/3121/GsjDieThLracoflkeJ3RH-1m/image.png\">image.png - Milne AlgNT</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/GsjDieThLracoflkeJ3RH-1m/image.png\" title=\"image.png - Milne AlgNT\"><img data-original-dimensions=\"680x133\" src=\"/user_uploads/thumbnail/3121/GsjDieThLracoflkeJ3RH-1m/image.png/840x560.webp\"></a></div><p>For non-infinite primes of number fields, it seems that there is no direct notion for \"a prime ramifies\". Should it exist or is Mathlib happy with <code>0 &lt; ramificationIdx something</code>?</p>",
        "id": 482397330,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731592573
    },
    {
        "content": "<p>It‚Äôs essentially <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=pow_sub_one_dvd_differentIdeal#doc\">docs#pow_sub_one_dvd_differentIdeal</a></p>",
        "id": 482401445,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731593621
    },
    {
        "content": "<p>In <code>flt-regular</code> we have a <a href=\"https://github.com/leanprover-community/flt-regular/blob/94205eb2d92b487de8ba98ba74209cde61c2300b/FltRegular/NumberTheory/Unramified.lean#L30\">notion</a> of being unramified at a prime. We didn't need connection with the discriminant, but all the prerequisites are there.</p>",
        "id": 482401545,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731593643
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482401445\">said</a>:</p>\n<blockquote>\n<p>It‚Äôs essentially <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=pow_sub_one_dvd_differentIdeal#doc\">docs#pow_sub_one_dvd_differentIdeal</a></p>\n</blockquote>\n<p>(at least one direction of it)</p>",
        "id": 482401651,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731593678
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482401445\">said</a>:</p>\n<blockquote>\n<p>It‚Äôs essentially <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=pow_sub_one_dvd_differentIdeal#doc\">docs#pow_sub_one_dvd_differentIdeal</a></p>\n</blockquote>\n<p>Does that tell you that ramify implies divides discriminant, but not divides discriminant implies ramifies?</p>",
        "id": 482401723,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1731593693
    },
    {
        "content": "<p>For something I'm working on, I'll need to know that every number field has at least one ramified prime, which requires the opposite direction.</p>",
        "id": 482401831,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1731593726
    },
    {
        "content": "<p>I think it's time to have the discriminant ideal!</p>",
        "id": 482401839,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731593727
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"253861\">Thomas Browning</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482401831\">said</a>:</p>\n<blockquote>\n<p>For something I'm working on, I'll need to know that every number field has at least one ramified prime, which requires the opposite direction.</p>\n</blockquote>\n<p>Note that the hard part of this result, Minkowski bound, is in mathlib.</p>",
        "id": 482402083,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731593782
    },
    {
        "content": "<p>In fact there's</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">NumberTheory</span><span class=\"bp\">/</span><span class=\"n\">NumberField</span><span class=\"bp\">/</span><span class=\"n\">Discriminant</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"mi\">18</span><span class=\"o\">:</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"ss\">`NumberField.abs_discr_gt_two</span><span class=\"bp\">`</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">**</span><span class=\"n\">Hermite</span><span class=\"bp\">-</span><span class=\"n\">Minkowski</span><span class=\"w\"> </span><span class=\"n\">Theorem</span><span class=\"bp\">**.</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">nontrivial</span><span class=\"w\"> </span><span class=\"n\">number</span><span class=\"w\"> </span><span class=\"n\">field</span><span class=\"w\"> </span><span class=\"n\">has</span>\n<span class=\"mi\">192</span><span class=\"o\">:</span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">abs_discr_gt_two</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">finrank</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">discr</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 482402297,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731593850
    },
    {
        "content": "<p>(I saw this but nothing like \"Q has no unramified extensions\", hence this question.) I think the <code>IsUnramified{At}</code> notion from flt-regular should be brought to Mathlib, seems natural at least to me</p>",
        "id": 482402656,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731593942
    },
    {
        "content": "<p>Yes, I mean we know all we need about the discriminant, we are missing the connection between the discriminant and remification.</p>",
        "id": 482402844,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731593985
    },
    {
        "content": "<p>If you want to PR those results <em>please feel free to do so</em></p>",
        "id": 482402878,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731593997
    },
    {
        "content": "<p>I am in the process of moving stuff from <code>flt-regular</code> to mathlib, but currently working on other results</p>",
        "id": 482402999,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731594021
    },
    {
        "content": "<p>Oh yeah I just meant even the Minkowski bound =&gt; discr &gt; 1 part is done :D</p>",
        "id": 482403005,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731594022
    },
    {
        "content": "<p>I'm probably not free to do it myself, sorry :(</p>",
        "id": 482403069,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731594041
    },
    {
        "content": "<p>But I don't think we should spend too much time with the discriminant as an integer, we need the ideal</p>",
        "id": 482403114,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731594054
    },
    {
        "content": "<p>And this does not exist I think</p>",
        "id": 482403211,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731594082
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> you mentionned that someone else was working on improving the status of <code>primeOver</code> or something similar. Is this done?</p>",
        "id": 482403431,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731594147
    },
    {
        "content": "<p>I belieive the mathlib counter part for <code>primeOver</code> is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal.LiesOver#doc\">docs#Ideal.LiesOver</a>. And I think <span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span>'s frobenius element work will give a better framework for the remaining parts of <a href=\"https://github.com/leanprover-community/flt-regular/blob/master/FltRegular/NumberTheory/GaloisPrime.lean\">galoisPrime.lean</a> too.</p>",
        "id": 482407547,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731595171
    },
    {
        "content": "<p>PS the hypothesis that B is free as an A-module is not necessary. I'm guessing that Milne (incorrectly) only defines the discriminant in this situation?</p>",
        "id": 482490298,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731621581
    },
    {
        "content": "<p>We have <em>a lot</em> of places where we can remove freeness :(</p>",
        "id": 482496934,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731624697
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482490298\">said</a>:</p>\n<blockquote>\n<p>PS the hypothesis that B is free as an A-module is not necessary. I'm guessing that Milne (incorrectly) only defines the discriminant in this situation?</p>\n</blockquote>\n<p>\"Incorrectly\" is a bit harsh; maybe his results are not maximally general, but that doesn't mean they aren't correct, and clearly the most important case is <code>A = ZZ</code>.</p>",
        "id": 482534511,
        "sender_full_name": "David Loeffler",
        "timestamp": 1731647783
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482490298\">said</a>:</p>\n<blockquote>\n<p>PS the hypothesis that B is free as an A-module is not necessary. I'm guessing that Milne (incorrectly) only defines the discriminant in this situation?</p>\n</blockquote>\n<p>Correct!</p>",
        "id": 482649637,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731688053
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/71hmPOU6iCmzwYkN1CyC0-RB/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/71hmPOU6iCmzwYkN1CyC0-RB/image.png\" title=\"image.png\"><img data-original-dimensions=\"1510x846\" src=\"/user_uploads/thumbnail/3121/71hmPOU6iCmzwYkN1CyC0-RB/image.png/840x560.webp\"></a></div><p>But as David said <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>=</mo><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">A = \\mathbb{Z}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span> is important and PID most of the time</p>",
        "id": 482649869,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731688121
    },
    {
        "content": "<p>Ahh but I guess a subsequent question I should ask first is does anyone have an introductory reference that also removes the hypothesis?</p>",
        "id": 482650306,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731688266
    },
    {
        "content": "<p>In general you take all integral bases of <code>L</code> as <code>K</code>-vector space, and the discriminant lies in <code>ùìû K</code>. You don't need <code>ùìû L</code> to be free as <code>ùìû K</code>-module.</p>",
        "id": 482650946,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731688490
    },
    {
        "content": "<p>It's called the \"relative discriminant\". Neukirch surely explains it</p>",
        "id": 482651371,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731688624
    },
    {
        "content": "<p>You can also look at \"Local Fields\", chapter II for a more abstract approach</p>",
        "id": 482651864,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731688799
    },
    {
        "content": "<p><span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span> how did I forget about Neukirch. (p.201)</p>",
        "id": 482652005,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731688837
    },
    {
        "content": "<p>Random side note, but <a href=\"https://en.wikipedia.org/wiki/Discriminant_of_an_algebraic_number_field#Relative_discriminant\">Wikipedia</a> has a section on it as well, but their field extension is somehow <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>K</mi><mi mathvariant=\"normal\">/</mi><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">K / L</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">K</span><span class=\"mord\">/</span><span class=\"mord mathnormal\">L</span></span></span></span> and adjacent things written a bit weirdly :/</p>",
        "id": 482652207,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731688905
    },
    {
        "content": "<p>I guess this is a Lean/Mathlib question rather than a math question, but are there better ways to write <code>relDiscr</code>? And is the <code>discr ‚Ñ§ (integralBasis K)</code> part correct?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">NumberField</span><span class=\"w\"> </span><span class=\"n\">Algebra</span>\n\n<span class=\"c1\">-- Relative discriminant (ideal) of field extension L/K</span>\n<span class=\"kd\">set_option</span><span class=\"w\"> </span><span class=\"n\">linter.unusedVariables</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">relDiscr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìû</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Ideal.span</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">|</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inst‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inst‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Basis</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">),</span>\n<span class=\"w\">    </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsIntegral</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">discr</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n<span class=\"c1\">-- Relative discriminant of K/‚Ñö is just principal ideal of absolute discriminant disc(K)</span>\n<span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NumberField</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">relDiscr</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">‚Ñö</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">Rat.ringOfIntegersEquiv</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Ideal.span</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">discr</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">integralBasis</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 482759651,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731754421
    },
    {
        "content": "<p>Note that we also have <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/NumberTheory/NumberField/Discriminant/Defs.html#NumberField.discr\">NumberField.discr</a></p>",
        "id": 482762417,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731756876
    },
    {
        "content": "<p>For the absolute discriminant you should definitely use that</p>",
        "id": 482762583,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731757014
    },
    {
        "content": "<p>Yes, sorry I didn't know that haha</p>",
        "id": 482762600,
        "sender_full_name": "Gareth Ma",
        "timestamp": 1731757042
    },
    {
        "content": "<p>For the relative one I am not sure. Maybe we can go via the different</p>",
        "id": 482762701,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731757127
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"488648\">@Xavier Roblot</span></p>",
        "id": 482762721,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731757146
    },
    {
        "content": "<p>I would use a definition similar to the one you give for the relative discriminant but for all families, not just bases. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">NumberField</span><span class=\"w\"> </span><span class=\"n\">Algebra</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">relDiscr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìû</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">span</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">ùìû</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">),</span>\n<span class=\"w\">    </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">discr</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>",
        "id": 482767146,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1731761148
    },
    {
        "content": "<p>I think differents exist in some huge generality. Aren't they used in the theory of finite flat group schemes?</p>",
        "id": 482777439,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731769478
    },
    {
        "content": "<p>What's the definition in that case? The annihilator of the sheaf of differentials?</p>",
        "id": 482778746,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731770545
    },
    {
        "content": "<p>I have some old notes of Conrad where he goes through all this and my instinct is to refer you to these, but they appear to be no longer on his website. When I get home later I'll see if I can dig them out.</p>",
        "id": 482782817,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731773964
    },
    {
        "content": "<p>Sorry for the delay -- home now. This is from Conrad--Lieblich \"Galois Representations Arising from p-Divisible Groups\", a mythical text which Brian seems to have removed from his website. I have no idea whether it got published. </p>\n<p><a href=\"/user_uploads/3121/AYTDJJpYicGU8kRYmnflOs1g/Screenshot-from-2024-11-16-17-27-41.png\">Screenshot from 2024-11-16 17-27-41.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/AYTDJJpYicGU8kRYmnflOs1g/Screenshot-from-2024-11-16-17-27-41.png\" title=\"Screenshot from 2024-11-16 17-27-41.png\"><img data-original-dimensions=\"690x971\" src=\"/user_uploads/thumbnail/3121/AYTDJJpYicGU8kRYmnflOs1g/Screenshot-from-2024-11-16-17-27-41.png/840x560.webp\"></a></div>",
        "id": 482787903,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731778163
    },
    {
        "content": "<p>I don't know of any published reference which works in this generality, I'm just saying I trust Brian.</p>",
        "id": 482788300,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731778489
    },
    {
        "content": "<p>I managed to find the same text at Lieblich‚Äôs website <a href=\"https://www.math.purdue.edu/~tongliu/teaching/598/lieblich.pdf\">here</a>.</p>",
        "id": 482788795,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1731778946
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482496934\">said</a>:</p>\n<blockquote>\n<p>We have <em>a lot</em> of places where we can remove freeness :(</p>\n</blockquote>\n<p>See for example <a href=\"https://github.com/leanprover-community/mathlib4/pull/19244\">#19244</a> for a generalization of the relative norm</p>",
        "id": 483246795,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1732017731
    },
    {
        "content": "<p>The reference I would have looked at for these questions is the old paper by Mazur and Roberts (1970), ‚ÄúLocal Euler Characteristics‚Äù , <em>Invent. Math.</em> <strong>9</strong>, p. 201‚Äì234. <a href=\"http://www.doi.org/10.1007/BF01404325\">doi:10.1007/BF01404325</a> The appendix should be something like that.</p>",
        "id": 483347996,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1732048325
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Ramification.20iff.20divides.20discriminant/near/482401831\">said</a>:</p>\n<blockquote>\n<p>For something I'm working on, I'll need to know that every number field has at least one ramified prime, which requires the opposite direction.</p>\n</blockquote>\n<p>Are there any updates on this? Both divides discriminant =&gt; ramified and Q has no  nontrivial unramified extensions.</p>",
        "id": 500227499,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1739808132
    },
    {
        "content": "<p>I didn't see anything related to this recently.</p>",
        "id": 500230972,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1739808950
    },
    {
        "content": "<p>Waiting for the PR <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 500231744,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1739809142
    },
    {
        "content": "<p>No, I'm not aware of any progress on this. But there is progress on inertia groups with <a href=\"https://github.com/leanprover-community/mathlib4/pull/20899\">#20899</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/21770\">#21770</a>.</p>",
        "id": 500253878,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1739816632
    },
    {
        "content": "<p>I‚Äôll try to think about this then.</p>",
        "id": 500253991,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1739816689
    }
]