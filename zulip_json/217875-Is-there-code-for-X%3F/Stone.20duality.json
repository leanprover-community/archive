[
    {
        "content": "<p>Hi all, in preparation for a talk that I'm giving here in Paris (Orsay, to be precise) in a couple of days, I am trying to find out how much of <a href=\"https://en.wikipedia.org/wiki/Stone_duality\">Stone duality</a> has been formalized in Mathlib.<br>\nIn particular, does anyone know if the correspondence between sober spaces and spatial frames has been formalized/attempted? Even just the up-to-iso bijection on objects would be interesting to see, of course the full dual equivalence including morphisms would be even better. <br>\nSearching Zulip, I found some old threads, <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Compact.20opens/near/270711249\">in particular this one</a>, but looking at the mathlib docs there are mostly definitions, not yet the accompanying theorems.</p>",
        "id": 354721798,
        "sender_full_name": "Sam van G",
        "timestamp": 1682873620
    },
    {
        "content": "<p>There are well-known links between these dualities and the profinite, since profinite sets = Boolean-Stone spaces and profinite posets = Priestley spaces, so this could also fit well with the <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/category.20of.20pro-objects/near/345697217\">questions recently asked in this thread</a>.</p>",
        "id": 354721988,
        "sender_full_name": "Sam van G",
        "timestamp": 1682873684
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> was working on this at some point?</p>",
        "id": 354722509,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1682873909
    },
    {
        "content": "<p>There hasn't been any progress since we last talked, <span class=\"user-mention\" data-user-id=\"411579\">@Sam van G</span></p>",
        "id": 354725542,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1682875316
    },
    {
        "content": "<p>We're still missing some boring API</p>",
        "id": 354725718,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1682875392
    },
    {
        "content": "<p>A little update. Since LFTCM2024 and a bit before, <span class=\"user-mention\" data-user-id=\"300245\">@Filippo A. E. Nuccio</span>, <span class=\"user-mention\" data-user-id=\"519559\">@Dagur Asgeirsson</span>, <span class=\"user-mention\" data-user-id=\"573474\">@Tomáš Jakl</span> and I have been working on <a href=\"https://github.com/samvang/StoneDualityInLean/\">a formalization of Stone duality for Boolean algebras</a>. Just now, I pushed a <a href=\"https://github.com/samvang/StoneDualityInLean/blob/8c5cb0e2cc187ae0f95ee025e305696de4cea93b/StoneDuality/Boolean.lean#L828\">commit</a> to that repository that makes</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Equiv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Profinite</span><span class=\"w\"> </span><span class=\"bp\">≌</span><span class=\"w\"> </span><span class=\"n\">BoolAlg</span><span class=\"bp\">ᵒᵖ</span>\n</code></pre></div>\n<p>sorry-free. The file is way too long and I have not yet made an effort to clean it up and get it ready for Mathlib.<br>\nOne crucial bit for this theorem, namely the prime ideal theorem for distributive lattices, recently made it into Mathlib, see <a href=\"https://github.com/leanprover-community/mathlib4/pull/12705\">#12705</a> .<br>\nIt should now be possible to also formalize Stone's and Priestley's dualities for distributive lattices.</p>",
        "id": 440177188,
        "sender_full_name": "Sam van G",
        "timestamp": 1716409758
    },
    {
        "content": "<p>It should also be easy now to deduce the equivalence between <code>LightProfinite</code> and the opposite category of countable boolean algebras. Although this <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Category/LightProfinite/IsLight.html#Project\">project</a> will not need to use that equivalence (it's easier to use the characterisation of light profinite sets as second countable profinite sets which follows from <a href=\"https://github.com/leanprover-community/mathlib4/pull/12986\">#12986</a>)</p>",
        "id": 440185219,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1716412626
    },
    {
        "content": "<p>And the prime ideal theorem was used already to prove Joyal's representation theorem, see <a href=\"https://github.com/awodey/joyal\">https://github.com/awodey/joyal</a> (<span class=\"user-mention\" data-user-id=\"411579\">@Sam van G</span> already knows about it). Joyal's theorem generalizes the Stone representation theorem.</p>",
        "id": 440192518,
        "sender_full_name": "Andrej Bauer",
        "timestamp": 1716415609
    },
    {
        "content": "<p>It seems like a good idea to group Stone Duality with Gelfand Duality because of the similarities.</p>",
        "id": 440436494,
        "sender_full_name": "Dean Young",
        "timestamp": 1716524598
    },
    {
        "content": "<p><a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Separability.20degree.3F/near/478581560\">It is known</a> that an infinite profinite group must have the cardinality of a power set. Must an infinite profinite set / Stone space also? I asked on <a href=\"https://lmarena.ai/\">https://lmarena.ai/</a> and Claude said for an infinite Stone space X, one has |X| = 2 ^ |B| where B is the Boolean algebra of X and called it Tarski's theorem, but maybe it's just hallucination as Google returned no relevant results.</p>",
        "id": 478707319,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1729773811
    },
    {
        "content": "<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">N</mi><mo>∪</mo><mo stretchy=\"false\">{</mo><mi mathvariant=\"normal\">∞</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{N} \\cup \\{\\infty\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">N</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∪</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">∞</span><span class=\"mclose\">}</span></span></span></span>  is a counterexample</p>",
        "id": 478707871,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1729773975
    },
    {
        "content": "<p>Thanks! I can see it's compact and totally separated, but don't yet see how it's an inverse limit of finite sets.</p>",
        "id": 478710211,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1729774666
    },
    {
        "content": "<p>Like any compact and totally separated space, it is the inverse limit of its discrete quotients (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Profinite.asLimit#doc\">docs#Profinite.asLimit</a>). </p>\n<p>More concretely, in this case you can show that it is the limit of the tower <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⋯</mo><mo>→</mo><mo stretchy=\"false\">{</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">}</mo><mo>→</mo><mo stretchy=\"false\">{</mo><mn>0</mn><mo separator=\"true\">,</mo><mo>…</mo><mo separator=\"true\">,</mo><mi>n</mi><mo stretchy=\"false\">}</mo><mo>→</mo><mo>⋯</mo></mrow><annotation encoding=\"application/x-tex\">\\cdots \\to \\{0,\\dots,n+1\\} \\to \\{0,\\dots,n\\} \\to \\cdots</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"minner\">⋯</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">}</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">}</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.313em;\"></span><span class=\"minner\">⋯</span></span></span></span></p>",
        "id": 478710990,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1729774872
    },
    {
        "content": "<p>Are we still missing Stone duality in Mathlib? If so, I can start working on it. I'd like to prove the representation theorems for Boolean algebras and distributive lattices.</p>",
        "id": 500429746,
        "sender_full_name": "Vasilii Nesterov",
        "timestamp": 1739892781
    },
    {
        "content": "<p>No, it's not in mathlib yet</p>",
        "id": 500430566,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1739892974
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"552388\">@Vasily Nesterov</span> (and anyone else reading!), I would be very happy if someone took this up. Just in case you're not aware, last spring we managed to get to a <a href=\"https://github.com/samvang/stonedualityinlean\">sorry-free proof of Stone duality for BA</a>, based on a <a href=\"https://samvang.github.io/StoneDualityInLean/blueprint/\">blueprint</a>.</p>",
        "id": 500442317,
        "sender_full_name": "Sam van G",
        "timestamp": 1739896103
    },
    {
        "content": "<p>The problem with our Lean code is that it is, to put it euphemistically, of rather <em>variable</em> quality, and certainly not mathlib-ready. Since last spring, as far as I know all the contributors (myself included) were too busy with other projects to get it into mathlib-ready shape (some small parts that we obtained while working on this did make it into mathlib, see <a href=\"https://github.com/leanprover-community/mathlib4/pull/12705\">#12705</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/12651\">#12651</a>).</p>",
        "id": 500442505,
        "sender_full_name": "Sam van G",
        "timestamp": 1739896151
    },
    {
        "content": "<p>Extending to bounded distributive lattices would of course be great too. (There are at least two sub-projects there: Stone's duality with compact-open sets, or Priestley duality with clopen up/down-sets.)</p>",
        "id": 500442769,
        "sender_full_name": "Sam van G",
        "timestamp": 1739896209
    },
    {
        "content": "<p>The representation theorem for BA is an easy corollary of the duality -- it's essentially immediate from Proposition 20 in my <a href=\"https://samvang.github.io/StoneDualityInLean/blueprint/\">blueprint</a>.</p>",
        "id": 500442910,
        "sender_full_name": "Sam van G",
        "timestamp": 1739896251
    },
    {
        "content": "<p>I would also expect that the code from <a href=\"https://github.com/leanprover-community/mathlib4/pull/12705\">#12705</a> lets you get to the representation theorem for DL fairly easily (to be confirmed).</p>",
        "id": 500443074,
        "sender_full_name": "Sam van G",
        "timestamp": 1739896296
    },
    {
        "content": "<p>Finally, the link to the <a href=\"https://www.samvangool.net/vangool-cirm-2024.pdf\">slides of my talk at CIRM</a>, where we did a good chunk of this work, in case that's useful, and pinging <span class=\"user-mention\" data-user-id=\"573474\">@Tomáš Jakl</span> <span class=\"user-mention\" data-user-id=\"519559\">@Dagur Asgeirsson</span> and <span class=\"user-mention\" data-user-id=\"300245\">@Filippo A. E. Nuccio</span> in case they have anything to add -- there may have been more developments since ~June 2024 that I am not aware of.</p>",
        "id": 500443948,
        "sender_full_name": "Sam van G",
        "timestamp": 1739896520
    },
    {
        "content": "<p>Thank you, Sam! I'll take a look</p>",
        "id": 500446797,
        "sender_full_name": "Vasilii Nesterov",
        "timestamp": 1739897346
    }
]