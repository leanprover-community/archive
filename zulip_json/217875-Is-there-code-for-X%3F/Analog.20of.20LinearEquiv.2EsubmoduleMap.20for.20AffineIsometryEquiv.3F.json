[
    {
        "content": "<p>I'd like to show if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi><mo>:</mo><msub><mi>P</mi><mn>1</mn></msub><mo>→</mo><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">T : P_1 \\to P_2</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">:</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> is an affine isometry equivalence between two real inner product spaces, then</p>\n<ul>\n<li>(a) there exists a linear isometry equivalence <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"monospace\">S</mi><mi mathvariant=\"monospace\">u</mi><mi mathvariant=\"monospace\">b</mi><mi mathvariant=\"monospace\">m</mi><mi mathvariant=\"monospace\">o</mi><mi mathvariant=\"monospace\">d</mi><mi mathvariant=\"monospace\">u</mi><mi mathvariant=\"monospace\">l</mi><mi mathvariant=\"monospace\">e</mi><mi mathvariant=\"monospace\">.</mi><mi mathvariant=\"monospace\">m</mi><mi mathvariant=\"monospace\">a</mi><mi mathvariant=\"monospace\">p</mi></mrow><annotation encoding=\"application/x-tex\">\\mathtt{Submodule.map}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathtt\">Submodule.map</span></span></span></span></span> between any subspace <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Q</mi></mrow><annotation encoding=\"application/x-tex\">Q</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">Q</span></span></span></span> and its image <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>T</mi><mo lspace=\"0em\" rspace=\"0em\">&gt;</mo></msup><mo stretchy=\"false\">(</mo><mi>Q</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">T^{&gt;}(Q)</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7404em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mrel mtight\">&gt;</span></span></span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">Q</span><span class=\"mclose\">)</span></span></span></span> under <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">T</span></span></span></span>, and furthermore</li>\n<li>(b) <a href=\"https://q.uiver.app/#q=WzAsNCxbMCwwLCJQXzEiXSxbMSwwLCJQXzIiXSxbMCwxLCJRIl0sWzEsMSwiVF57Pn0oUSkiXSxbMiwzLCJcXG1hdGh0dHtTdWJtb2R1bGUubWFwfSIsMl0sWzEsMywiXFxtYXRoc2Z7cHJvan0iXSxbMCwyLCJcXG1hdGhzZntwcm9qfSIsMl0sWzAsMSwiVCJdXQ==\">the following diagram commutes</a>:</li>\n</ul>\n<p><a href=\"/user_uploads/3121/69nZ8bv1SmmTAblD1nJf_zeu/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/69nZ8bv1SmmTAblD1nJf_zeu/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"295x257\" src=\"/user_uploads/thumbnail/3121/69nZ8bv1SmmTAblD1nJf_zeu/image.png/840x560.webp\"></a></div><p>where <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"sans-serif\">p</mi><mi mathvariant=\"sans-serif\">r</mi><mi mathvariant=\"sans-serif\">o</mi><mi mathvariant=\"sans-serif\">j</mi></mrow><annotation encoding=\"application/x-tex\">\\mathsf{proj}</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8738em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathsf\">proj</span></span></span></span></span> is orthogonal projection onto a subspace.</p>\n<p>It looks like mathlib already has (b), at least elementwise, in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/InnerProductSpace/Projection.html#LinearIsometry.map_orthogonalProjection'\">LinearIsometry.map_orthogonalProjection'</a>.</p>\n<p>Does it have (a)? The closest I could find was <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Module/Submodule/Map.html#LinearEquiv.submoduleMap\">LinearEquiv.submoduleMap</a> which would give me the bottom horizontal arrow in the diagram but for (semi)linear equivalences instead of linear <em>isometry</em> equivalences</p>\n<p>Is it possible to piece this together easily by composing things already in mathlib? Or is this something that ought to exist in mathlib and simply doesn't yet for whatever reason?</p>",
        "id": 530143221,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753189767
    },
    {
        "content": "<p>Usually the presence of a function for LinearEquiv is a good enough reason for it to exist for AffineEquiv and AffineIsometryEquiv and LinearIsometryEquiv</p>",
        "id": 530151254,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753192157
    },
    {
        "content": "<p>(or more rarely, an argument that it shouldn't exist for LinearEquiv after all)</p>",
        "id": 530151302,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753192173
    },
    {
        "content": "<p>Great, makes sense, that's what I'd guessed was likely true.</p>",
        "id": 530160369,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753194793
    },
    {
        "content": "<p>Maybe it's a good exercise to see if I can prove the lemma I want. Doesn't seem like it should be too difficult...</p>",
        "id": 530160469,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753194825
    },
    {
        "content": "<p>Ok, great, that's actually quite trivial; at least the <code>LinearIsometryEquiv</code> case that motivated my question. I just need to slap on the fact that the norm is preserved, and that follows directly from norm preservation of the map on the ambient space. Functional record update is a terrific convenience. I'm able to prove</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">LinearIsometryEquiv</span><span class=\"bp\">.</span><span class=\"n\">submoduleMap</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RCLike</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RCLike</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">M₂</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"w\"> </span><span class=\"n\">M₂</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">σ₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">σ₂₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">re₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RingHomInvPair</span><span class=\"w\"> </span><span class=\"n\">σ₁₂</span><span class=\"w\"> </span><span class=\"n\">σ₂₁</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">re₂₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RingHomInvPair</span><span class=\"w\"> </span><span class=\"n\">σ₂₁</span><span class=\"w\"> </span><span class=\"n\">σ₁₂</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">≃ₛₗᵢ</span><span class=\"o\">[</span><span class=\"n\">σ₁₂</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">M₂</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">≃ₛₗᵢ</span><span class=\"o\">[</span><span class=\"n\">σ₁₂</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">toLinearEquiv</span><span class=\"bp\">.</span><span class=\"n\">submoduleMap</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">norm_map'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">norm_map'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>\n<p>I reckon I should try to cook up a tiny PR against mathlib? Probably filling in whatever other <code>submoduleMap</code> gaps that exist as well. Any obvious flaws in the code itself, from the point of view of mathlib conventions? I guess I'm thinking of more high-level conventions; I can go reread things like the standard documents on <a href=\"https://leanprover-community.github.io/contribute/naming.html\">naming</a> and <a href=\"https://leanprover-community.github.io/contribute/style.html\">code style</a> for concrete syntax.</p>\n<p>I'm especially wondering whether the collection of typeclasses is at the right level of generality, since I frequently find myself being uncertain about that. Although most likely if I hunted around for the right place to add it, the nearby <code>variable</code> clauses would probably guide me correctly.</p>",
        "id": 530166419,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753196629
    },
    {
        "content": "<p>I think the correct generality is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">LinearIsometryEquiv</span><span class=\"bp\">.</span><span class=\"n\">submoduleMap</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">M₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">SeminormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SeminormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">M₂</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"w\"> </span><span class=\"n\">M₂</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">σ₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">σ₂₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R₂</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">re₁₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RingHomInvPair</span><span class=\"w\"> </span><span class=\"n\">σ₁₂</span><span class=\"w\"> </span><span class=\"n\">σ₂₁</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">re₂₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">RingHomInvPair</span><span class=\"w\"> </span><span class=\"n\">σ₂₁</span><span class=\"w\"> </span><span class=\"n\">σ₁₂</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">≃ₛₗᵢ</span><span class=\"o\">[</span><span class=\"n\">σ₁₂</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">M₂</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">≃ₛₗᵢ</span><span class=\"o\">[</span><span class=\"n\">σ₁₂</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">toLinearEquiv</span><span class=\"bp\">.</span><span class=\"n\">submoduleMap</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">norm_map'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">norm_map'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>\n<p><del>which is missing an instance that yo need!</del></p>",
        "id": 530169347,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753197453
    },
    {
        "content": "<p>Ah, right, all the inner product space structure (which I think was the reason for RCLike) is necessary only for other stuff I was doing, not at all needed for this lemma</p>",
        "id": 530169553,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753197528
    },
    {
        "content": "<p>Edited above</p>",
        "id": 530169728,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753197584
    },
    {
        "content": "<p>Gotcha; the full Ring-as-opposed-to-Semiring structure of <code>R</code> and <code>R₂</code> seems right enough to me, yeah. And concretely I see how that's used to give the requisite <code>SeminormedAddComGroup</code> instance. I thought as merely a mathematician and as a sometime category theory enjoyer I was sufficiently obsessed (compared to, like, the general population) with squeezing the maximum generality from a statement, but mathlib library design is an impressive achievement in that field.</p>",
        "id": 530170842,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753197825
    },
    {
        "content": "<p>Semiring, not Subring :)</p>",
        "id": 530175843,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1753199392
    },
    {
        "content": "<p>Oops, yes, edited :) Have been spending all day so far typing <code>Submodule</code> that my fingers' autocomplete went there...</p>",
        "id": 530175925,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753199414
    },
    {
        "content": "<p>I made <a href=\"https://github.com/leanprover-community/mathlib4/pull/27357\">#27357</a> and it looks like I'm still awaiting CI...</p>",
        "id": 530219997,
        "sender_full_name": "Jason Reed",
        "timestamp": 1753217217
    },
    {
        "content": "<p>CI seems to pass</p>",
        "id": 530223974,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1753218899
    }
]