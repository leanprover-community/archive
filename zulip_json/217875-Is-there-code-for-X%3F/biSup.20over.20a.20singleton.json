[
    {
        "content": "<p>I would like to use the following obvious fact:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚®Ü</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"o\">({</span><span class=\"mi\">0</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>There is a lemma in Mathlib that seems to fit the bill: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.iSup_singleton#doc\">docs#Finset.iSup_singleton</a> .<br>\nHowever, it does not apply here because it requires the target type to be a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompleteLattice#doc\">docs#CompleteLattice</a> , which the reals are not.<br>\nOn the other hand, this requirement seems rather unnecessary here.</p>\n<p>In any case, I am a bit stuck here and would appreciate some help. (<code>apply?</code> and <code>rw?</code>do not produce anything useful here, and <code>simp</code> (which is the proof of the lemma mentioned above) only gives me <code>‚®Ü i, ‚®Ü (_ : i = 0), v (f i) = v (f 0)</code>.)</p>",
        "id": 522993378,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749407602
    },
    {
        "content": "<p>Unfortunately that's not correct due to weird definition of <code>biSup</code> in mathlib. Let me find the previous discussion.</p>",
        "id": 522993543,
        "sender_full_name": "Jz Pan",
        "timestamp": 1749407762
    },
    {
        "content": "<p>I don't think that is the problem here (as in my concrete case, the function takes nonnegative values), but it certainly prevents a general lemma from applying...</p>",
        "id": 522993670,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749407902
    },
    {
        "content": "<p>So maybe the more pertinent question is, what is the idiomatic way to express the maximum over a finite set?</p>",
        "id": 522993756,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749408022
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.max#doc\">docs#Finset.max</a></p>",
        "id": 522993764,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1749408031
    },
    {
        "content": "<p>or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.max%27#doc\">docs#Finset.max'</a> if I don't want to deal with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithBot#doc\">docs#WithBot</a> ...</p>",
        "id": 522993806,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749408096
    },
    {
        "content": "<p>Is there also an indexed version? Or should I just work with the image of <code>f</code>?</p>",
        "id": 522993846,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749408137
    },
    {
        "content": "<p>Yes: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sup#doc\">docs#Finset.sup</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.sup%27#doc\">docs#Finset.sup'</a></p>",
        "id": 522993871,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1749408167
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479359\">Michael Stoll</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/biSup.20over.20a.20singleton/near/522993670\">said</a>:</p>\n<blockquote>\n<p>I don't think that is the problem here (as in my concrete case, the function takes nonnegative values), but it certainly prevents a general lemma from applying...</p>\n</blockquote>\n<p><a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/sup.20and.20inf.20over.20sets/near/472565284\">#mathlib4 &gt; sup and inf over sets @ üí¨</a>  (I think you already found it)</p>",
        "id": 522994379,
        "sender_full_name": "Jz Pan",
        "timestamp": 1749408839
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/biSup.20over.20a.20singleton/near/522994379\">said</a>:</p>\n<blockquote>\n<p><a href=\"#narrow/channel/287929-mathlib4/topic/sup.20and.20inf.20over.20sets/near/472565284\">#mathlib4 &gt; sup and inf over sets @ üí¨</a> (I think you already found it)</p>\n</blockquote>\n<p>I remembered the discussion after you mentioned it...</p>",
        "id": 522994403,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749408872
    }
]