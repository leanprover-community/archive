[
    {
        "content": "<p>Consider the traditional definition of the completed group algebra, I ended up trying the following Lean 4 code implementation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">CategoryTheory</span><span class=\"w\"> </span><span class=\"n\">Opposite</span>\n\n<span class=\"kd\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"n\">v</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ProfiniteGrp</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">completeGroupAlgebraFunctor</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">OpenNormalSubgroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">‚•§</span><span class=\"w\"> </span><span class=\"n\">AlgebraCat</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">obj</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">AlgebraCat.of</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">MonoidAlgebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">‚ß∏</span><span class=\"w\"> </span><span class=\"n\">N.toSubgroup</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">N‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">N‚ÇÇ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">N‚ÇÅ</span><span class=\"w\"> </span><span class=\"bp\">‚ü∂</span><span class=\"w\"> </span><span class=\"n\">N‚ÇÇ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"n\">AlgebraCat.ofHom</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">MonoidAlgebra.mapDomainAlgHom</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">QuotientGroup.map</span><span class=\"w\"> </span><span class=\"n\">N‚ÇÅ.toSubgroup</span><span class=\"w\"> </span><span class=\"n\">N‚ÇÇ.toSubgroup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">MonoidHom.id</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">f.le</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">map_id</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">map_comp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">cGA</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">AlgebraCat.HasLimits.limitCone</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">completeGroupAlgebraFunctor</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Is this correct? I'm a bit unsure if mathematically it should be <code>(OpenNormalSubgroup G)·µí·µñ ‚•§ AlgebraCat R</code>. Clearly, it's mathematically unlikely to construct a functor <code>(OpenNormalSubgroup G)·µí·µñ ‚•§ AlgebraCat R</code>. But how do we represent the 'inverse' nature of the inverse limit?</p>",
        "id": 515901617,
        "sender_full_name": "Âº†ÂÆà‰ø°(Shouxin Zhang)",
        "timestamp": 1746278965
    },
    {
        "content": "<p>What a mathematician calls an \"inverse limit\" we just call a \"limit\" in Lean, so take the limit :-) </p>\n<p>I think you're right that the functor is covariant. If you added \"op\" then for two normal subgroups <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>N</mi><mn>1</mn></msub><mo>‚äÜ</mo><msub><mi>N</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">N_1\\subseteq N_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚äÜ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> you would have to give a map from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">[</mo><mi>G</mi><mi mathvariant=\"normal\">/</mi><msub><mi>N</mi><mn>2</mn></msub><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">R[G/N_2]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span> to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">[</mo><mi>G</mi><mi mathvariant=\"normal\">/</mi><msub><mi>N</mi><mn>1</mn></msub><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">R[G/N_1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">G</span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.109em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span> and these maps would have to satisfy a bunch of axioms: good luck with that, I don't think you'd be able to fill in the sorries.</p>",
        "id": 515911723,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746284285
    },
    {
        "content": "<p>But in your definition you end up building the raw underlying ring without a topology,  right?</p>",
        "id": 515969606,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1746317864
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"300245\">Filippo A. E. Nuccio</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/515969606\">said</a>:</p>\n<blockquote>\n<p>But in your definition you end up building the raw underlying ring without a topology,  right?</p>\n</blockquote>\n<p>I think the above definition itself has no topology if each piece <code>AlgebraCat.of R (MonoidAlgebra R (G ‚ß∏ N.toSubgroup))</code> has no topology given.</p>",
        "id": 515970058,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746318135
    },
    {
        "content": "<p>Sure, but</p>\n<ul>\n<li>if those pieces have a natural topology (eg coming from the coefficient ring) it would be important to store it</li>\n<li>even endowing each piece with the discrete topology, the whole \"completed\" group algebra c/would carry the projective limit topology.</li>\n</ul>",
        "id": 515988595,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1746331628
    },
    {
        "content": "<p>For maximal generality, I want <code>R</code> be only <code>CommSemiring</code>. Do we have analogue of <code>AlgebraCat</code> for <code>Semiring</code>? If not, then I think I have to drop category theory approach.</p>",
        "id": 516095289,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746413318
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"749361\">@Nailin Guan</span></p>",
        "id": 516099118,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746415094
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516095289\">said</a>:</p>\n<blockquote>\n<p>Do we have analogue of <code>AlgebraCat</code> for <code>Semiring</code></p>\n</blockquote>\n<p>Then <code>ModuleCat</code> also needs modification...</p>",
        "id": 516099798,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746415662
    },
    {
        "content": "<p>Those categories are far from good, if you insist having <code>CommSemiring</code> or even <code>Semiring</code>, I prefer to make a force construction and then verify it is limit in the good case.</p>",
        "id": 516100189,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746415929
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516100189\">said</a>:</p>\n<blockquote>\n<p>Those categories are far from good</p>\n</blockquote>\n<p>I don't agree. The construction of limit does not require subtraction, so <code>Semi</code> is good enough.</p>",
        "id": 516100532,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746416204
    },
    {
        "content": "<p>It is about the category itself, not the construction.</p>",
        "id": 516102153,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746417321
    },
    {
        "content": "<p><code>SemiRingCat</code> has all limits (just like any algebraic category)</p>",
        "id": 516666497,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1746622085
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516666497\">said</a>:</p>\n<blockquote>\n<p><code>SemiRingCat</code> has all limits (just like any algebraic category)</p>\n</blockquote>\n<p>But it does not have algebra structure over a <code>CommSemiring</code>. What I want is <code>SemiAlgebraCat</code> which allow <code>Semiring</code> over a <code>CommSemiring</code>. I've played it a little bit at <a href=\"https://github.com/leanprover-community/mathlib4/pull/24599\">#24599</a> but seems that it breaks something.</p>",
        "id": 516688399,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746627395
    },
    {
        "content": "<p>what breaks? why don‚Äôt you just make SemiAlgebraCat as a new type</p>",
        "id": 516691647,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1746628034
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516691647\">said</a>:</p>\n<blockquote>\n<p>what breaks?</p>\n</blockquote>\n<p>Seems that some <code>Ring</code> instance is missing, or is not definitionally equal to the existing one.</p>\n<blockquote>\n<p>why don‚Äôt you just make SemiAlgebraCat as a new type</p>\n</blockquote>\n<p>Then I need to copy contents of 4 files from <code>AlgebraCat</code> folder...</p>",
        "id": 516693901,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746628501
    },
    {
        "content": "<p>The first error occurred at <code>Mathlib/Algebra/BrauerGroup/Defs</code>, it complained that <code>NonUnitalNonAssocRing carrier</code> is not found:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"n\">v</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">test</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AlgebraCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span><span class=\"w\"> </span><span class=\"n\">NonUnitalNonAssocRing</span><span class=\"w\"> </span><span class=\"n\">R.carrier</span><span class=\"w\"> </span><span class=\"c1\">-- This runs correctly</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">test</span>\n\n<span class=\"sd\">/-- `CSA` is the set of all finite dimensional central simple algebras over field `K`, for its</span>\n<span class=\"sd\">  generalisation over a `CommRing` please find `IsAzumaya` in `Mathlib.Algebra.Azumaya.Defs`. -/</span>\n<span class=\"kd\">structure</span><span class=\"w\"> </span><span class=\"n\">CSA</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">AlgebraCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Any member of `CSA` is central. -/</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">isCentral</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra.IsCentral</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">carrier</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Any member of `CSA` is simple. -/</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">isSimple</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsSimpleRing</span><span class=\"w\"> </span><span class=\"n\">carrier</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- but here it complains `NonUnitalNonAssocRing carrier` is not found</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Any member of `CSA` is finite-dimensional. -/</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">fin_dim</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"n\">carrier</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>But in the test code above, <code>#synth NonUnitalNonAssocRing R.carrier</code> works correctly. So I don't know what's wrong in it.</p>",
        "id": 516697673,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746629346
    },
    {
        "content": "<p>Depending on your application, it might be easier to put algebraic structures on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=InverseSystem.limit#doc\">docs#InverseSystem.limit</a> instead (which we should have anyway). Especially if you want to have a topology on the limit, it is probably easier to hook up to the rest of the library if you don't go via category theory.</p>",
        "id": 516698597,
        "sender_full_name": "Christian Merten",
        "timestamp": 1746629554
    },
    {
        "content": "<p>cf <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/428\">FLT#428</a></p>",
        "id": 516706384,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746631405
    },
    {
        "content": "<p>Whoops, we already have inverse limits of sets in mathlib? That's cool. Seems that we also have direct limits of <br>\nvarious algebraic structures in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Colimit/DirectLimit.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Colimit/DirectLimit.html</a> but we don't have inverse limits of them yet.</p>",
        "id": 516706560,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746631447
    },
    {
        "content": "<p>I've reinventing the wheel at <a href=\"https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/Algebra/CompleteGroupAlgebra/Basic.html\">https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/Algebra/CompleteGroupAlgebra/Basic.html</a> <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 516707322,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746631654
    },
    {
        "content": "<p>Why does InverseSystem.limit use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Iio#doc\">docs#Set.Iio</a> ?</p>",
        "id": 516719132,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1746634707
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516719132\">said</a>:</p>\n<blockquote>\n<p>Why does InverseSystem.limit use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Iio#doc\">docs#Set.Iio</a> ?</p>\n</blockquote>\n<p>This is a question for <span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span>. I think the original application is some cardinality result, which relates cardinalities of various \"sub\" limits.</p>\n<p>In applications, we can just use <code>WithTop</code> and the limit at <code>\\top</code> though.</p>",
        "id": 516720097,
        "sender_full_name": "Christian Merten",
        "timestamp": 1746635000
    },
    {
        "content": "<p>yeah, but then you have to deal with going back and forth from <code>WithTop</code>, and in particular you need to specify where <code>Top</code> goes in <code>F</code>, which means you need some junk value...</p>",
        "id": 516721123,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1746635349
    },
    {
        "content": "<p>I think using <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Types.html#CategoryTheory.Functor.sections\">CategoryTheory.Functor.sections</a> is the better approach if you want the \"standard\" type underlying the limit.</p>",
        "id": 516721222,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1746635386
    },
    {
        "content": "<p>Before we generalize AlgebraCat maybe we should first generalize <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Preadditive/Basic.html#CategoryTheory.Preadditive\">CategoryTheory.Preadditive</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Category/ModuleCat/Basic.html#ModuleCat\">ModuleCat</a> (they both require AddCommGroup now).<br>\nThe error with <code>IsSimpleRing</code> in <code>CSA</code> is because <code>TwoSidedIdeal</code> currently requires <code>NonUnitalNonAssocRing</code>. <code>TwoSidedIdeal</code> is currently just a wrapper around <code>RingCon</code>, and I think we should redefine it to be <code>{I : Ideal R // I.IsTwoSided}</code> (they're the same over a ring by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TwoSidedIdeal.orderIsoIsTwoSided#doc\">docs#TwoSidedIdeal.orderIsoIsTwoSided</a>; for semirings there will be a map from <code>RingCon R</code> to <code>TwoSidedIdeal R</code>, and taking the RingCon generated by an ideal is a left inverse), but you'd need to generalize <code>Ideal</code> to allow non-unital and non-associative semirings to achieve the same level of generality. Or maybe we can drop <code>TwoSidedIdeal</code> and just use <code>RingCon</code>.</p>",
        "id": 516772025,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1746654857
    },
    {
        "content": "<blockquote>\n<p>Why does <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=InverseSystem.limit#doc\">docs#InverseSystem.limit</a> use¬†<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Iio%3F#doc\">docs#Set.Iio?</a></p>\n</blockquote>\n<blockquote>\n<p>yeah, but then you have to deal with going back and forth from¬†<code>WithTop</code>, and in particular you need to specify where¬†<code>Top</code>¬†goes in¬†<code>F</code>, which means you need some junk value...</p>\n</blockquote>\n<p>My original motivation for introducing this is to carry out some transfinite recursive construction which requires taking the inverse limit at a limit ordinal (not dissimilar to the small object argument <span class=\"user-mention\" data-user-id=\"459699\">@Jo√´l Riou</span> carried out in a more categorical setting). Indeed in order to retrieve the final construction I needed to use <code>WithTop</code> (see <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/FieldTheory/CardinalEmb.html#Field.Emb.Cardinal.embFunctor\">Field.Emb.Cardinal.embFunctor</a>).</p>",
        "id": 516772877,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1746655249
    },
    {
        "content": "<p>I think it would be beneficial to generalize Direct/InverseSystem to use (co)filtered indexing categories instead of a preorder. This has been discussed in <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Directed.20systems/near/507056834\">#mathlib4 &gt; Directed systems @ üí¨</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/23339\">#23339</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/23364\">#23364</a> are relevant PRs (indeed <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DirectLimit#doc\">docs#DirectLimit</a> may be redefined using the colimit type as Quot is almost as nice as Quotient when it comes to defeq, and we just need to show if the indexing category is filtered then equality in the quotient is given by the specific equivalence relation (<a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Limits/Types/Filtered.html#CategoryTheory.Limits.Types.FilteredColimit.rel_eq_eqvGen_quot_rel\">CategoryTheory.Limits.Types.FilteredColimit.rel_eq_eqvGen_quot_rel</a>)). Special cases like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=InverseSystem.limit#doc\">docs#InverseSystem.limit</a> could be given a more specific name.</p>",
        "id": 516774318,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1746656009
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516772025\">said</a>:</p>\n<blockquote>\n<p>The error with <code>IsSimpleRing</code> in <code>CSA</code> is because <code>TwoSidedIdeal</code> currently requires <code>NonUnitalNonAssocRing</code></p>\n</blockquote>\n<p>The question is that I think I already added the relevant instances (see the code above <code>variable (K : Type u) [Field K] (R : AlgebraCat.{v} K); #synth NonUnitalNonAssocRing R.carrier</code> which can be inferred correctly), but seems that it's not recognized by <code>[isSimple : IsSimpleRing carrier]</code>.</p>",
        "id": 516796212,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746670545
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/516706384\">said</a>:</p>\n<blockquote>\n<p>cf <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/428\">FLT#428</a></p>\n</blockquote>\n<p>Interesting, the <code>Algebra</code> and <code>AlgHom</code> version is missing in that PR.</p>",
        "id": 517263914,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746888066
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366779\">@Jz Pan</span> please feel free to PR! I just merged that one. The review process in FLT is infinitely lighter than in mathlib, and both you and <span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span> would be welcome to experiment. What we need in FLT is the existence of deformation rings. If we could get these before my talk at Big Proof on 9th June, this would be awesome!</p>",
        "id": 517269897,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746892503
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/517269897\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> please feel free to PR! I just merged that one. The review process in FLT is infinitely lighter than in mathlib, and both you and <span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> would be welcome to experiment. What we need in FLT is the existence of deformation rings. If we could get these before my talk at Big Proof on 9th June, this would be awesome!</p>\n</blockquote>\n<p>In my  <a href=\"https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/Algebra/CompleteGroupAlgebra/Basic.html\">https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/Algebra/CompleteGroupAlgebra/Basic.html</a> it's algebra version. The typeclass is automatically inferred from algebra structure of Pi (I use <code>abbrev</code> instead of <code>def</code> so the typeclass is passthrough). Also in my application I need the concepts of directed and cofinal/coinitial. It turns out that I also need inverse limit of general rings, not only group algebras, which I will refactor later.</p>",
        "id": 517281593,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746901861
    },
    {
        "content": "<blockquote>\n<p>What we need in FLT is the existence of deformation rings. If we could get these before my talk at Big Proof on 9th June, this would be awesome!</p>\n</blockquote>\n<p>Are there some specific sorries for these?</p>",
        "id": 517360299,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1746969280
    },
    {
        "content": "<p>The situation is that I had a student working on this, but unfortunately they have now got a job so have no time to continue. I'll ask them what the situation is.</p>",
        "id": 517361611,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746970470
    },
    {
        "content": "<p>ok so their WIP work is all in the WIP PR <a href=\"https://github.com/ImperialCollegeLondon/FLT/pull/481\">FLT#481</a> which will need a lot of disentangling (there are conflicts, and it's +2500, I'm currently trying to get it compiling), and the student will not be working on it any more.</p>",
        "id": 517371497,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1746977773
    },
    {
        "content": "<p>A message was moved from this topic to <a class=\"stream-topic\" data-stream-id=\"416277\" href=\"/#narrow/channel/416277-FLT/topic/Deformation.20rings/with/517566658\">#FLT &gt; Deformation rings</a> by <span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span>.</p>",
        "id": 517578621,
        "sender_full_name": "Notification Bot",
        "timestamp": 1747062549
    },
    {
        "content": "<p>Do we have this in mathlib?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">scoped</span><span class=\"w\"> </span><span class=\"n\">TensorProduct</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">]</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MonoidAlgebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">‚äó</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">MonoidAlgebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ‚Çê</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">MonoidAlgebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">√ó</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>It should come from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=finsuppTensorFinsupp#doc\">docs#finsuppTensorFinsupp</a>.</p>\n<p>Actually I need <code>PiTensorProduct</code> version. (Which is used to prove <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><mi>d</mi></msubsup><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo><mo>‚âÖ</mo><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><msub><mi>X</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>‚ãØ</mo><mtext>‚Äâ</mtext><mo separator=\"true\">,</mo><msub><mi>X</mi><mi>d</mi></msub><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p[[\\Z_p^d]]\\cong\\mathbb{Z}_p[[X_1,\\cdots,X_d]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2322em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚âÖ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">‚ãØ</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">d</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mclose\">]]</span></span></span></span> from one-variable result.)</p>",
        "id": 517849468,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747147256
    },
    {
        "content": "<p>Oh, there is a \"TODO: generalize to MonoidAlgebra\" in module docstring</p>",
        "id": 517849882,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747147360
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/517849882\">said</a>:</p>\n<blockquote>\n<p>Oh, there is a \"TODO: generalize to MonoidAlgebra\" in module docstring</p>\n</blockquote>\n<p>I had Gemini generate a proof that looked like some trivial verification of the definition. If the infrastructure on lib was complete, I might be able to try to solve this problem. <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 517984416,
        "sender_full_name": "Âº†ÂÆà‰ø°(Shouxin Zhang)",
        "timestamp": 1747205880
    },
    {
        "content": "<p>We also don't have topology on MonoidAlgebra or Finsupp <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 517987121,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747206859
    },
    {
        "content": "<p>Topology on MvPowerSeries is via <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MvPowerSeries.WithPiTopology.instTopologicalSpace#doc\">docs#MvPowerSeries.WithPiTopology.instTopologicalSpace</a></p>",
        "id": 517987218,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747206898
    },
    {
        "content": "<p>So we even can't state there exists an isomorphism of topological rings <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">Œì</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo><mo>‚âÖ</mo><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p[[\\Gamma]]\\cong\\mathbb{Z}_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord\">Œì</span><span class=\"mclose\">]]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚âÖ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> (missing topological space structure on each piece <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">Œì</mi><mi mathvariant=\"normal\">/</mi><msup><mi mathvariant=\"normal\">Œì</mi><msup><mi>p</mi><mi>n</mi></msup></msup><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}_p[[\\Gamma/\\Gamma^{p^n}]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1661em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord\">Œì/</span><span class=\"mord\"><span class=\"mord\">Œì</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.88em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mclose\">]]</span></span></span></span>)</p>",
        "id": 517987558,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747207002
    },
    {
        "content": "<p><del>BTW, an unrelated note: seems that we don't have compact open topology (we don't need it yet), and it conflicts with the default instance <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Pi.topologicalSpace#doc\">docs#Pi.topologicalSpace</a></del> Sorry, it's <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousMap.compactOpen#doc\">docs#ContinuousMap.compactOpen</a></p>",
        "id": 517989184,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747207532
    },
    {
        "content": "<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> has got three distinct natural topologies on it (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>-adic, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic) and all are used in the literature, so it's not surprising that there are difficulties here in mathlib, where only one \"canonical\" topology is supposed to be allowed on any type.</p>",
        "id": 517990948,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747208070
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/517990948\">said</a>:</p>\n<blockquote>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> has got three distinct natural topologies on it (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>-adic, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic) and all are used in the literature, so it's not surprising that there are difficulties here in mathlib, where only one \"canonical\" topology is supposed to be allowed on any type.</p>\n</blockquote>\n<p>No worries, the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MvPowerSeries.WithPiTopology.instTopologicalSpace#doc\">docs#MvPowerSeries.WithPiTopology.instTopologicalSpace</a> is <em>scoped</em> so it's not the only \"canonical\" one. It is the product topology, and in fact equal to the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic toploogy.</p>\n<p>The point is that the polynomial ring <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[X]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span></span></span></span> also has these 3 topologies, different one gives different completion (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic completion is <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">‚ü®</mo><mi>X</mi><mo stretchy=\"false\">‚ü©</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p\\langle X\\rangle</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">‚ü®</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">‚ü©</span></span></span></span> while <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>-adic and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic completions are <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> --- only as a ring! as topological rings <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>-adic and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic topology are different). I need to use <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>-adic or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic completion, not sure.</p>\n<p>... And we don't have topologies on polynomial rings yet, even scoped one.</p>",
        "id": 517993651,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747208939
    },
    {
        "content": "<p>Let's thnk about this question! For <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">Œì</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo><mo>‚âÖ</mo><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[\\Gamma]]\\cong\\Z_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord\">Œì</span><span class=\"mclose\">]]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚âÖ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> to be right I guess it boils down to the following question. Consider the obvious inclusion <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo><mo>‚Üí</mo><msub><mo>‚àè</mo><mi>n</mi></msub><mo stretchy=\"false\">(</mo><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mrow><mo fence=\"true\">(</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi>X</mi><msup><mo stretchy=\"false\">)</mo><msup><mi>p</mi><mi>n</mi></msup></msup><mo>‚àí</mo><mn>1</mn><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[X]]\\to\\prod_n(\\Z_p[X]/\\left((1+X)^{p^n}-1\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Üí</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.23em;vertical-align:-0.35em;\"></span><span class=\"mop\"><span class=\"mop op-symbol small-op\" style=\"position:relative;top:0em;\">‚àè</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.0017em;\"><span style=\"top:-2.4003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2997em;\"><span></span></span></span></span></span></span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.88em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àí</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span>. Give <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mrow><mo fence=\"true\">(</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><mi>X</mi><msup><mo stretchy=\"false\">)</mo><msup><mi>p</mi><mi>n</mi></msup></msup><mo>‚àí</mo><mn>1</mn><mo fence=\"true\">)</mo></mrow><mo>‚âÖ</mo><msubsup><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi><msup><mi>p</mi><mi>n</mi></msup></msubsup></mrow><annotation encoding=\"application/x-tex\">\\Z_p[X]/\\left((1+X)^{p^n}-1\\right)\\cong\\Z_p^{p^n}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.23em;vertical-align:-0.35em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mord\">/</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.88em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àí</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚âÖ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2631em;vertical-align:-0.3831em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.88em;\"><span style=\"top:-2.453em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7385em;\"><span style=\"top:-2.931em;margin-right:0.0714em;\"><span class=\"pstrut\" style=\"height:2.5em;\"></span><span class=\"sizing reset-size3 size1 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3831em;\"><span></span></span></span></span></span></span></span></span></span> the only sensible topology; it's both the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span></span></span></span>-adic and the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>X</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(p,X)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">)</span></span></span></span>-adic topology! It's also the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>-module topology BTW. What is the induced topology on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> as a subset of the product?</p>",
        "id": 517997763,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747210189
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/517997763\">said</a>:</p>\n<blockquote>\n<p>What is the induced topology on <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\Z_p[[X]]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0361em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span><span class=\"mopen\">[[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]]</span></span></span></span> as a subset of the product?</p>\n</blockquote>\n<p>It's the <code>(p,X)</code>-adic topology.</p>",
        "id": 518021077,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747216505
    },
    {
        "content": "<p>Let's read my stupid blueprint (online version at <a href=\"https://acmepjz.github.io/lean-iwasawa/blueprint/sect0004.html#Iwasawa-alg-isom-finite-level\">https://acmepjz.github.io/lean-iwasawa/blueprint/sect0004.html#Iwasawa-alg-isom-finite-level</a>)</p>\n<p><a href=\"/user_uploads/3121/uwTYeKybmwqNXf5OQdtxvLPo/2025-05-14-175617.png\">2025-05-14 175617.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/uwTYeKybmwqNXf5OQdtxvLPo/2025-05-14-175617.png\" title=\"2025-05-14 175617.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"923x264\" src=\"/user_uploads/thumbnail/3121/uwTYeKybmwqNXf5OQdtxvLPo/2025-05-14-175617.png/840x560.webp\"></a></div><p><a href=\"/user_uploads/3121/WKzK7RNDf3uRCI7KMnjeJ_pB/2025-05-14-175645.png\">2025-05-14 175645.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WKzK7RNDf3uRCI7KMnjeJ_pB/2025-05-14-175645.png\" title=\"2025-05-14 175645.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"924x428\" src=\"/user_uploads/thumbnail/3121/WKzK7RNDf3uRCI7KMnjeJ_pB/2025-05-14-175645.png/840x560.webp\"></a></div><p><a href=\"/user_uploads/3121/WQCe2AKCkmB8--3C8EulLjBd/2025-05-14-175708.png\">2025-05-14 175708.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WQCe2AKCkmB8--3C8EulLjBd/2025-05-14-175708.png\" title=\"2025-05-14 175708.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"914x350\" src=\"/user_uploads/thumbnail/3121/WQCe2AKCkmB8--3C8EulLjBd/2025-05-14-175708.png/840x560.webp\"></a></div>",
        "id": 518021732,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747216679
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/517997763\">said</a>:</p>\n<blockquote>\n<p>Consider the obvious inclusion</p>\n</blockquote>\n<p>I think it requires Weierstrass division, fortunately it's already in an open PR.</p>",
        "id": 518022616,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747216908
    },
    {
        "content": "<p>But that indeed looks promising. Maybe I can work out a version without topology first.</p>",
        "id": 518023077,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747217035
    },
    {
        "content": "<p>Do we have any instances that show that something is a Z_p module, other than the concrete Z_p[X] and the like?</p>",
        "id": 518023966,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1747217291
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"308899\">Yakov Pechersky</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/518023966\">said</a>:</p>\n<blockquote>\n<p>Do we have any instances that show that something is a Z_p module, other than the concrete Z_p[X] and the like?</p>\n</blockquote>\n<p>You mean modules which do not start with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>, for example inverse limits of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi><mi mathvariant=\"normal\">/</mi><msup><mi>p</mi><mi>n</mi></msup><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\Z/p^n\\Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Z</span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span><span class=\"mord mathbb\">Z</span></span></span></span>? (Or in fact <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi><mi mathvariant=\"normal\">/</mi><msup><mi>p</mi><mi>n</mi></msup><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\Z/p^n\\Z</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathbb\">Z</span><span class=\"mord\">/</span><span class=\"mord\"><span class=\"mord mathnormal\">p</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span><span class=\"mord mathbb\">Z</span></span></span></span> itself is also a <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi mathvariant=\"double-struck\">Z</mi><mi>p</mi></msub></mrow><annotation encoding=\"application/x-tex\">\\Z_p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.975em;vertical-align:-0.2861em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">Z</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">p</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2861em;\"><span></span></span></span></span></span></span></span></span></span>-module.)</p>",
        "id": 518024916,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747217605
    },
    {
        "content": "<p>Properties of <code>(1 + X) ^ n - 1</code> is implemented in <a href=\"https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/RingTheory/Polynomial/OneAddXPowSubOne.html\">https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/RingTheory/Polynomial/OneAddXPowSubOne.html</a>.</p>",
        "id": 518135445,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747247892
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366779\">@Jz Pan</span> Re your blueprint proof, the sentence in the second screenshot starting \"It's easy to see that...\" is false (if I understood it correctly), e.g. 4 choose 2 is 6 and more generally p^n choose p^m will give you problems (as will other choices of i).</p>",
        "id": 518140794,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747249744
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/518140794\">said</a>:</p>\n<blockquote>\n<p>the sentence in the second screenshot starting \"It's easy to see that...\" is false (if I understood it correctly)</p>\n</blockquote>\n<p>Sorry, that's indeed incorrect. Will be fixed soon.</p>",
        "id": 518198260,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747279411
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/518023077\">said</a>:</p>\n<blockquote>\n<p>But that indeed looks promising. Maybe I can work out a version without topology first.</p>\n</blockquote>\n<p>This is indeed the approach taken by Serre <em>Classes des corps cyclotomiques</em> (S√©m. Bourbaki, <a href=\"http://www.numdam.org/item?id=SB_1958-1960__5__83_0\">exp 174</a> ), Section 6: but a bit of topology is required to show that taking the limit gives an isomorphism.</p>",
        "id": 518501927,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1747389299
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/CompleteGroupAlgebra/near/517993651\">said</a>:</p>\n<blockquote>\n<p>... And we don't have topologies on polynomial rings yet, even scoped one.</p>\n</blockquote>\n<p>Polynomials are function with finite unspecified support, so I believe the natural topology on polynomial rings would be the inductive limit topology of the product topologies on polynomials of given degree. At least that topology has the merit of making continuous the evaluation maps <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">[</mo><mi>X</mi><mo stretchy=\"false\">]</mo><mo>‚Üí</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R[X]\\to R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Üí</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>‚Ü¶</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>a</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f\\mapsto f(a)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Ü¶</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mclose\">)</span></span></span></span>.</p>",
        "id": 518749652,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1747430556
    },
    {
        "content": "<p>That's great! What's the topology on polynomials of a given degree?</p>",
        "id": 518749743,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747430608
    },
    {
        "content": "<p>I guess Antoine means \"polynomials of at most a given degree\", because these are just R^n with the product topology.</p>",
        "id": 518749847,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747430644
    },
    {
        "content": "<p>Then I think this gives you \"the finest topology which makes <code>Polynomial.update</code> continuous\"</p>",
        "id": 518750505,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747430993
    },
    {
        "content": "<p><del>I'm not sure how this makes the evaluation continuous...</del> got my limits mixed up</p>",
        "id": 518751932,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747431671
    },
    {
        "content": "<p>I think the question reduced to: what is the topology on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp#doc\">docs#Finsupp</a> (or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DFinsupp#doc\">docs#DFinsupp</a>, i.e. coproducts of abelian groups)? Should it be the finest topology such that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.single#doc\">docs#Finsupp.single</a> is continuous, or the coarsest topology such that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.linearCombination#doc\">docs#Finsupp.linearCombination</a> (corresponding to evaluation maps for polynomials) is continuous?</p>",
        "id": 518783677,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747457021
    },
    {
        "content": "<p>Note that the finest topology definition seems to be finer then the subspace topology of product topology.</p>",
        "id": 518783781,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747457110
    },
    {
        "content": "<p>Seems that the coarsest topology definition is the correct one, see <a href=\"https://math.stackexchange.com/questions/5095/what-are-the-product-and-coproduct-in-the-category-of-topological-groups\">https://math.stackexchange.com/questions/5095/what-are-the-product-and-coproduct-in-the-category-of-topological-groups</a>. But it said that \"However, it is hard to describe this topology explicitly (and thus, for instance, proving separation axioms).\"</p>\n<p>Maybe I should stick to an ad-hoc scoped \"piTopology\"...</p>",
        "id": 518784451,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747457760
    },
    {
        "content": "<p>Not that the second coarsest topology definition is at least as fine as the first finest topology definition, since you can consider the <code>linearCombination</code> into the first one.</p>",
        "id": 518787620,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747461045
    },
    {
        "content": "<p>Note that Andrew Yang's work on TopModuleCat has a generalisation of this: the adjoint to the forgetful functor from topological modules to topological spaces takes a type I with a topology and then gives a topology to the free module on I (which I couldn't figure out how to express directly). I maintainer merged the PR yesterday, sorry for no precise link, on mobile</p>",
        "id": 518796212,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747468993
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23490\">#23490</a></p>",
        "id": 518797553,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747469946
    },
    {
        "content": "<p>I had explained this property on my blog.</p>\n<p><a href=\"https://freedommathdance.blogspot.com/2024/04/the-topology-on-ring-of-polynomials-and.html\">https://freedommathdance.blogspot.com/2024/04/the-topology-on-ring-of-polynomials-and.html</a></p>",
        "id": 518844978,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1747508358
    },
    {
        "content": "<p>This description is inspired by what is done for test functions in distribution theory. Evaluation is continuous, but I do not claim that it is the coarsest topology that would guarantee the continuity of evaluations. (Unless it is trivially true, I'd guess it unlikely to hold in general.)</p>",
        "id": 518845473,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1747508763
    },
    {
        "content": "<p>It is not the coarsest topology that makes evaluation continuous, because some polynomials evaluate the same on all inputs</p>",
        "id": 518845926,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747509028
    },
    {
        "content": "<p>I think it is the coarsest topology that makes linear combination continuous.</p>",
        "id": 518881132,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747539433
    }
]