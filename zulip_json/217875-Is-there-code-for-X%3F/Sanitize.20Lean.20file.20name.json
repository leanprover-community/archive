[
    {
        "content": "<p>Is there a canonical function that turns a <code>String</code> into a string suitable as a Lean file name stem, e.g. returns <code>foo123</code> for <code>foo(123=!)</code>?</p>",
        "id": 567130587,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767961488
    },
    {
        "content": "<p>What should it do with <code>A.B</code>?  Drop <code>.B</code>?  You could also use <code>«most characters work here»</code>!</p>",
        "id": 567134431,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1767962928
    },
    {
        "content": "<p>For other identifiers, I'd be happy with <code>«...»</code>, but I'm a bit hesitant to have them in file names. Not sure about <code>.</code>, maybe convert to a <code>_</code> or something?</p>",
        "id": 567134669,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767963010
    },
    {
        "content": "<p>The <code>«...»</code> isn't legal in a filename</p>",
        "id": 567134711,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963026
    },
    {
        "content": "<p><code>import «foo (123-!)»</code> is the syntax for importing <code>foo (123-!).lean</code></p>",
        "id": 567134793,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963051
    },
    {
        "content": "<p>So this isn't necessarily a question about legal lean filenames, but about legal operating system filenames</p>",
        "id": 567134841,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963067
    },
    {
        "content": "<p>I thought the Lake source must have something, but I've not found anything.</p>",
        "id": 567134879,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767963083
    },
    {
        "content": "<p>If it did have that code, it would  only be for <code>lake new</code></p>",
        "id": 567134953,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963105
    },
    {
        "content": "<p>Ah, you are asking about <em>file</em> names, not <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Name#doc\">docs#Lean.Name</a>.</p>",
        "id": 567135045,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1767963133
    },
    {
        "content": "<p>Why not simply keeping all alphanumeric characters?</p>",
        "id": 567135461,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1767963266
    },
    {
        "content": "<p>Why not simply keep all characters?</p>",
        "id": 567135554,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963299
    },
    {
        "content": "<p>I think that <code>/</code> is not a valid file name (at least on my Linux computer).</p>",
        "id": 567135703,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1767963347
    },
    {
        "content": "<p>Yes, I'd at least want to strip non-ASCII, <code>\\</code>, and <code>/</code>, was just wondering if there was already a canonical solution to this</p>",
        "id": 567135877,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767963398
    },
    {
        "content": "<p>I guess the question is whether it's better to report the error back to the user and have them choose a better name</p>",
        "id": 567135884,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963400
    },
    {
        "content": "<p>This is for a transpiler kind of scenario</p>",
        "id": 567135987,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767963434
    },
    {
        "content": "<p>I think there's no canonical solution for this because this is an OS-level or stylistic decision, not a Lean one; Lean will allow you to call modules whatever you like</p>",
        "id": 567135999,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963436
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110789\">Jakob von Raumer</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Sanitize.20Lean.20file.20name/near/567135987\">said</a>:</p>\n<blockquote>\n<p>This is for a transpiler kind of scenario</p>\n</blockquote>\n<p>So you already have a filename from a different language?</p>",
        "id": 567136045,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767963448
    },
    {
        "content": "<p>Already have some identifier from a different language, which shall serve as (the approximation of) the file name</p>",
        "id": 567136284,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767963515
    },
    {
        "content": "<p>Why disallow non-ASCII filenames?</p>",
        "id": 567137178,
        "sender_full_name": "Julian Berman",
        "timestamp": 1767963792
    },
    {
        "content": "<p>Just some vague encoding PTSD</p>",
        "id": 567143218,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1767965689
    },
    {
        "content": "<p>This reminds me of Con.lean <a href=\"#narrow/channel/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/with/531319786\">https://leanprover.zulipchat.com/#narrow/channel/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/with/531319786</a></p>",
        "id": 567144126,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1767965989
    }
]