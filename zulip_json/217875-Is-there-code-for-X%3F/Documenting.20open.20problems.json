[
    {
        "content": "<p>I was looking at an old open problem that <span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span> noticed when formalizing Game birthdays (<a href=\"https://github.com/leanprover-community/mathlib4/blob/2d4a40714ede518ac0e07965d3145ad9209b2537/Mathlib/SetTheory/Game/Birthday.lean#L269-L270\">https://github.com/leanprover-community/mathlib4/blob/2d4a40714ede518ac0e07965d3145ad9209b2537/Mathlib/SetTheory/Game/Birthday.lean#L269-L270</a>) and I was wondering: is there any standard way to document open problems that are naturally defined and accepted in literature? From a quick few <code>grep</code>s, I haven't noticed anything like this at all.</p>",
        "id": 496244856,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738030032
    },
    {
        "content": "<p>There is <code>proof_wanted</code>.</p>",
        "id": 496253657,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738036883
    },
    {
        "content": "<p>Interesting! Would it be acceptable to write PRs that tag easily definable and relevant open problems with <code>proof_wanted</code>?</p>",
        "id": 496253912,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738037051
    },
    {
        "content": "<p>Yes, I think so. Note that so far <code>proof_wanted</code> has not been a resounding success, but this is mostly through lack of people using it, rather than any structural problem we've identified with the idea.</p>",
        "id": 496257346,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738039523
    },
    {
        "content": "<p>That's really good to know! Since combinatorial game theory is a relatively undeveloped field, there's a good chance anyone working there will hit a lot of small open problems in the upcoming years.</p>",
        "id": 496258047,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738040110
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Documenting.20open.20problems/near/496257346\">said</a>:</p>\n<blockquote>\n<p>Yes, I think so. Note that so far <code>proof_wanted</code> has not been a resounding success, but this is mostly through lack of people using it, rather than any structural problem we've identified with the idea.</p>\n</blockquote>\n<p>be the change you wanna see?</p>",
        "id": 496261178,
        "sender_full_name": "Alok Singh",
        "timestamp": 1738042451
    },
    {
        "content": "<p>(I think there are more resounding issues than <code>proof_wanted</code>), though I absolutely don't mind tagging any open problems that are easy to define with <code>proof_wanted</code> <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 496261242,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738042513
    },
    {
        "content": "<p>Is there any tool that makes it easy to see <code>proof_wanted</code>/<code>sorry</code> calls across various lean codebases? *Also, if there's already a Zulip thread for this, I can move the conversation there.</p>",
        "id": 496261266,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738042537
    },
    {
        "content": "<p>See the discussion at <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/Incentives.20.26.20sorry-filling.20leaderboard\">#Machine Learning for Theorem Proving &gt; Incentives &amp; sorry-filling leaderboard</a> , in particular my suggestions and Lenny Taelman's implementations.</p>",
        "id": 496262780,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738043709
    },
    {
        "content": "<p>Also, it would be nice if <code>proof_wanted</code> had attributes/metadata that indicated if something was an open problem, or if the theorem with a desired proof might be false.</p>",
        "id": 496264785,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738045025
    },
    {
        "content": "<p>I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/21155\">#21155</a> turning my comment into a <code>proof_wanted</code> block.</p>",
        "id": 496266023,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738045807
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/dYtYKLz81G2PrMERYZMHhDk2/image.png\">An image of the added changes from the #21155 pull request. The ⨳ unicode symbol is overflowing the line it is in, and it does not have the usual green overlay that the rest of GitHub's diffs do when displayed.</a><br>\nI did not know that ⨳ does not play well with GitHub's diff view!</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/dYtYKLz81G2PrMERYZMHhDk2/image.png\" title=\"An image of the added changes from the #21155 pull request. The ⨳ unicode symbol is overflowing the line it is in, and it does not have the usual green overlay that the rest of GitHub's diffs do when displayed.\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"70x49\" src=\"/user_uploads/thumbnail/3121/dYtYKLz81G2PrMERYZMHhDk2/image.png/840x560.webp\"></a></div>",
        "id": 496266223,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738045927
    },
    {
        "content": "<p>Do note that the Math Overflow question was exclusively about surreals, whereas this formulation is for arbitrary games. Pre-game multiplication is mostly meaningless for non-surreal games, so there might be some weird counterexample by just substituting random values.</p>",
        "id": 496266330,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738046018
    },
    {
        "content": "<p>I don't think we currently have any file that imports both birthdays and surreals, though</p>",
        "id": 496266396,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738046047
    },
    {
        "content": "<p>Quick sanity check: what happens if we substitute the games <code>*</code> and <code>*'</code> as defined in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Counterexamples/GameMultiplication.html\">https://leanprover-community.github.io/mathlib4_docs/Counterexamples/GameMultiplication.html</a>?</p>",
        "id": 496266801,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738046319
    },
    {
        "content": "<p>...I think the sanity check fails</p>",
        "id": 496267672,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738046903
    },
    {
        "content": "<p>If I'm not mistaken, <code>star * star' ≈ nim 2</code></p>",
        "id": 496267694,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738046930
    },
    {
        "content": "<p>Which means that two games with birthday 1 multiply to a game with birthday 2</p>",
        "id": 496267716,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738046949
    },
    {
        "content": "<p>(Also, I wonder if PGame could have some form of shrinkwrap testing for short PGames - I believe there's a tool for this in lean4, right?)</p>",
        "id": 496267741,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738046985
    },
    {
        "content": "<p>There was this note on the Short.lean file about how <code>by decide</code> wasn't actually working. This is from Lean 3 and I don't think the file has been meaningfully touched since.</p>",
        "id": 496267852,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738047037
    },
    {
        "content": "<p>Right; I forgot decidability is necessary for that.</p>",
        "id": 496267889,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738047067
    },
    {
        "content": "<p>We really should do the proposed <code>Short</code> refactor before this, though</p>",
        "id": 496267999,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738047132
    },
    {
        "content": "<p>What should I do with my comment now that it turns out that the only version of the theorem we can state within the file is wrong?</p>",
        "id": 496270043,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738048352
    },
    {
        "content": "<p>A file in Counterexamples and a subsequent <code>proof_wanted</code> declaration in Surreal.lean would be nice since it is still an open problem for Surreals.</p>",
        "id": 496270182,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738048438
    },
    {
        "content": "<p>Surreal.lean doesn't import Birthday.lean though. That being said it wouldn't be a huge import increase given that it already imports ordinals... even though it probably shouldn't?</p>",
        "id": 496270398,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738048558
    },
    {
        "content": "<p>I think this should be discussed in another thread.</p>",
        "id": 496270449,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738048566
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767695\">Tristan Figueroa-Reid</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Documenting.20open.20problems/near/496264785\">said</a>:</p>\n<blockquote>\n<p>Also, it would be nice if <code>proof_wanted</code> had attributes/metadata that indicated if something was an open problem, or if the theorem with a desired proof might be false.</p>\n</blockquote>\n<p>I think we should start by asking for <em>comments</em>, and if we ever get to the point of having many <code>proof_wanted</code>s with interesting comments, we can think about how to convert those comments into metadata.</p>",
        "id": 496293402,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738057227
    },
    {
        "content": "<p>(moved to relevant thread)</p>",
        "id": 496470555,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1738126205
    },
    {
        "content": "<p>I thought <code>proof_wanted</code> is restricted to theorems with informal proofs that can readily be stated in Lean but formalizing the proofs is out of reach, not for unsolved / open problems, but apparently I misunderstood its scope. Shouldn't it be <code>proof_or_disproof_wanted</code> if used for statements we don't know is true or not? Now that there's the <a href=\"https://github.com/google-deepmind/formal-conjectures\">Formal Conjectures</a> repo, should we move such statements there?</p>",
        "id": 528613830,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1752483181
    },
    {
        "content": "<p>My impression was the <code>proof_wanted</code> for FLT was primarily a joke, if I'm remembering correctly that we even have one.</p>",
        "id": 528616318,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752483985
    },
    {
        "content": "<p>FLT is indeed a theorem after all? Are you implying my <code>proof_wanted</code> for Poincare conjecture / Perelman's theorem is also a joke?</p>",
        "id": 528633203,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1752489944
    },
    {
        "content": "<p>If <code>proof_wanted</code> is for recognized theorems only, then a <code>proof_wanted</code> for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mi>b</mi><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">abc</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">ab</span><span class=\"mord mathnormal\">c</span></span></span></span> would be a joke.</p>",
        "id": 528633732,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1752490110
    },
    {
        "content": "<p>I'd internalized that <code>proof_wanted</code> is for things where the proof isn't necessarily even that far out of reach, and the author wanted to commit to an API up front without actually proving it right now.</p>",
        "id": 528634236,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752490273
    },
    {
        "content": "<p>Odd that you bring this up right after I proposed using <code>proof_wanted</code> to document an open problem in game theory!<br>\n<a href=\"https://github.com/vihdzp/combinatorial-games/pull/114#discussion_r2203628172\">https://github.com/vihdzp/combinatorial-games/pull/114#discussion_r2203628172</a></p>",
        "id": 528759510,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1752537727
    },
    {
        "content": "<p>I don't see the issue with using this for open problems. We want proofs of them! It's just that we might end up getting disproofs instead!</p>",
        "id": 528759559,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1752537760
    },
    {
        "content": "<p>Or is the idea that <code>proof_wanted</code> could be used in order to document where a new contributor might be able to help?</p>",
        "id": 528760745,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1752538533
    },
    {
        "content": "<p>In that case, I completely support making a new keyword with identical functionality but for open problems, could even be something like <code>open_problem</code> itself</p>",
        "id": 528760778,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1752538559
    },
    {
        "content": "<p>you could probably just make a macro for this, i don't see how there should be a semantic difference (to lean) between <code>open_problem</code> and <code>proof_wanted</code></p>",
        "id": 529065643,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752674054
    },
    {
        "content": "<p>proof of concept:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Batteries</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">ProofWanted</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Command</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">command_parser</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">open_problem</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">leading_parser</span>\n<span class=\"w\">  </span><span class=\"n\">declModifiers</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"s2\">\"open_problem\"</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">declId</span><span class=\"w\"> </span><span class=\"bp\">&gt;&gt;</span><span class=\"w\"> </span><span class=\"n\">ppIndent</span><span class=\"w\"> </span><span class=\"n\">declSig</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">macro</span><span class=\"w\"> </span><span class=\"bp\">«</span><span class=\"n\">open_problem</span><span class=\"bp\">»</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Macro</span>\n<span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"w\"> </span><span class=\"bp\">``«</span><span class=\"n\">open_problem</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">mods</span><span class=\"o\">,</span><span class=\"n\">openproblem</span><span class=\"o\">,</span><span class=\"n\">id</span><span class=\"o\">,</span><span class=\"n\">sig</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"w\"> </span><span class=\"bp\">``«</span><span class=\"n\">proof_wanted</span><span class=\"bp\">»</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">mods</span><span class=\"o\">,</span><span class=\"n\">mkAtomFrom</span><span class=\"w\"> </span><span class=\"n\">openproblem</span><span class=\"w\"> </span><span class=\"s2\">\"proof_wanted\"</span><span class=\"o\">,</span><span class=\"n\">id</span><span class=\"o\">,</span><span class=\"n\">sig</span><span class=\"o\">]</span>\n<span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Macro</span><span class=\"bp\">.</span><span class=\"n\">throwUnsupported</span>\n\n<span class=\"n\">open_problem</span><span class=\"w\"> </span><span class=\"n\">difficult</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span>\n</code></pre></div>",
        "id": 529084407,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752679131
    },
    {
        "content": "<p>I'd love to see this get added to Lean</p>",
        "id": 529155575,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1752694824
    },
    {
        "content": "<p>the easier/cleaner way to define this notation would be to edit the original <code>proof_wanted</code> in batteries, and keep the elab, but i don't know if batteries is open to supporting this?</p>",
        "id": 529155984,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752695011
    },
    {
        "content": "<p>It probably doesn't hurt to make a PR.</p>",
        "id": 531527312,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1753771999
    },
    {
        "content": "<p>PR at <a href=\"https://github.com/leanprover-community/batteries/pull/1354\">batteries#1354</a></p>",
        "id": 531612079,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1753796238
    },
    {
        "content": "<p>as noted on the PR, apparently it would be preferrable to make the syntax itself extensible in some way rather than adding alternatives one at a time...<br>\nand my syntax-fu is not sufficient to make it work by adding a parser category...<br>\nshould i try to PR a macro to mathlib, or maybe can we figure out a better syntax which mentions metadata in a sensible way?</p>",
        "id": 532453344,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1754140428
    },
    {
        "content": "<p>This all feels like overkill right now vs just adding a comment</p>",
        "id": 532454488,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1754141344
    },
    {
        "content": "<p>yeah, although adding the syntax as a PR to mathlib doesnt seem too bad</p>",
        "id": 532456179,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1754142737
    },
    {
        "content": "<p>i.e. just the <code>open_problem</code> alias</p>",
        "id": 532456222,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1754142771
    }
]