[
    {
        "content": "<p>I have a commutative ring <code>R</code>, an <code>R</code>-algebra <code>A</code> and a (finite) group <code>G</code> acting on <code>A</code>. I would like to express the fact that the image of <code>R</code> in <code>A</code> is precisely the <code>G</code>-invariants of <code>A</code>. This implies <code>SMulCommClass G R A</code> but it is strictly stronger; <code>SMulCommClass</code> just means (after a little calculation) that the image of <code>R</code> in <code>A</code> is a subset of the <code>G</code>-invariants.</p>\n<p>I don't want to restrict to <code>R : Subring A</code> because in the applications I'll have things like <code>R=\\R</code> and <code>A=\\C</code> and G being {1,complex conjugation}.</p>\n<p>Ideally I would do this entirely within the typeclass framework. Right now I'm carrying around the clunky</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hGalois</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>(sorry, B was an A-algebra there)</p>",
        "id": 471576234,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1726787291
    },
    {
        "content": "<p>You can say that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MulAction.fixedPoints#doc\">docs#MulAction.fixedPoints</a> is equal to the range of <code>algebraMap R A</code>, but I'm not sure if that's better than what you currently have</p>",
        "id": 471593154,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1726799622
    },
    {
        "content": "<p>Define the sub algebra RG of G-invariants and prove that algebraMap A R induces an isomorphism from A to RG?</p>",
        "id": 471627905,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726812135
    },
    {
        "content": "<p>Have you tried to set up a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=GaloisInsertion#doc\">docs#GaloisInsertion</a> between subgroups of <code>G</code>and sub-R-algebras of <code>A</code> and then use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Algebra/Subalgebra/Basic.html#Algebra.coe_bot\">Algebra.coe_bot</a> ? Along the lines of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LieSubalgebra.gi#doc\">docs#LieSubalgebra.gi</a></p>",
        "id": 471654438,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1726819145
    }
]