[
    {
        "content": "<p>Why am I getting `unknown identifier 'add_one' error when I do this? Am I forgetting something?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_commutative</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction'</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">hn</span>\n<span class=\"w\">  </span><span class=\"c1\">-- base case</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">zero_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">add_zero</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"c1\">-- inductive step</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">add_one</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 493487871,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1736817773
    },
    {
        "content": "<p>I don't think there was ever a lemma called <code>add_one</code> in mathlib. What do you think it should say?</p>",
        "id": 493490367,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1736818957
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">add_commutative</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction'</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">hn</span>\n<span class=\"w\">  </span><span class=\"c1\">-- base case</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">zero_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">add_zero</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"c1\">-- inductive step</span>\n<span class=\"w\">  </span><span class=\"n\">rw?</span>\n</code></pre></div>\n<p>is the right approach here!</p>",
        "id": 493490503,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736819028
    },
    {
        "content": "<p>(i.e. you are forgetting to ask the system itself which lemma you need)</p>",
        "id": 493490588,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736819048
    },
    {
        "content": "<p>Thank you, I did not know about <code>rw?</code></p>",
        "id": 493492415,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1736819926
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/.60add_one.60.3F.3F.3F/near/493490367\">said</a>:</p>\n<blockquote>\n<p>I don't think there was ever a lemma called <code>add_one</code> in mathlib. What do you think it should say?</p>\n</blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Nat/Basic.html#Nat.add_one\">Nat.add_one</a></p>\n<p>`(n : <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Prelude.html#Nat\">Nat</a>) :</p>\n<p>n <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Prelude.html#HAdd.hAdd\">+</a> 1 <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Prelude.html#Eq\">=</a> n.succ`</p>",
        "id": 493496520,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1736822007
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"414458\">Vasily Ilin</span> has marked this topic as resolved.</p>",
        "id": 493496626,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736822060
    },
    {
        "content": "<p>That's called <code>Nat.add_one</code>, not <code>add_one</code>. You can write it as <code>add_one</code> if you open the namespace <code>Nat</code> by putting the line <code>open Nat</code> before your theorem statement.</p>",
        "id": 493499048,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1736823435
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"414458\">Vasily Ilin</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/.E2.9C.94.20.60add_one.60.3F.3F.3F/near/493492415\">said</a>:</p>\n<blockquote>\n<p>Thank you, I did not know about <code>rw?</code></p>\n</blockquote>\n<p>Do you know about <code>exact?</code> and <code>hint</code>? These are very useful, too!</p>",
        "id": 493501427,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736824846
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/.E2.9C.94.20.60add_one.60.3F.3F.3F/near/493501427\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"414458\">Vasily Ilin</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/.E2.9C.94.20.60add_one.60.3F.3F.3F/near/493492415\">said</a>:</p>\n<blockquote>\n<p>Thank you, I did not know about <code>rw?</code></p>\n</blockquote>\n<p>Do you know about <code>exact?</code> and <code>hint</code>? These are very useful, too!</p>\n</blockquote>\n<p>I did know about exact? but not about hint! Thank you for the hint!</p>",
        "id": 493524830,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1736839143
    }
]