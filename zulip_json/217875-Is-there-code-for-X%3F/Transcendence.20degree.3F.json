[
    {
        "content": "<ul>\n<li>Anyone is currently working on transcendence degree and related topics?</li>\n<li>\n<p>Which of the following two definitions is better for transcendence degree?</p>\n<ul>\n<li>The cardinality of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=exists_isTranscendenceBasis#doc\">docs#exists_isTranscendenceBasis</a></li>\n<li>The supremum of cardinality of algebraic independent subsets</li>\n</ul>\n<p>The <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Module.rank#doc\">docs#Module.rank</a> is defined using the second approach. And this method works without requiring the existence of transcendence basis.</p>\n</li>\n</ul>",
        "id": 481451490,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731151064
    },
    {
        "content": "<ul>\n<li>If using the second approach, what is the best way to show the cardinality of a transcendence basis is equal to transcendence degree? Is it a good idea to introduce matroid? Or just use the usual proof found in textbook?</li>\n</ul>",
        "id": 481452510,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731151925
    },
    {
        "content": "<ul>\n<li>Do we have <a href=\"https://en.wikipedia.org/wiki/L%C3%BCroth%27s_theorem\">Lüroth's theorem</a>?</li>\n</ul>",
        "id": 481452566,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731151968
    },
    {
        "content": "<blockquote>\n<p>If using the second approach, what is the best way to show the cardinality of a transcendence basis is equal to transcendence degree? Is it a good idea to introduce matroid? Or just use the usual proof found in textbook?</p>\n</blockquote>\n<p>I think with both definition you'd want to show the cardinality of every transcendence basis (= maximal algebraically independent subsets) are the same. Using the latter definition is ostensibly more general as it doesn't require injectivity of the algebraMap, but if it's not injective then there is no algebraically independent subset so this case is not interesting.</p>\n<p>There is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Matroid#doc\">docs#Matroid</a> in Mathlib but I'm not sure how easy to construct examples and apply it to concrete situations.</p>\n<p>Given the proof methods of <a href=\"https://en.wikipedia.org/wiki/L%C3%BCroth%27s_theorem\">Lüroth's theorem</a> (genus of curves, or transcendence degree) I'd bet it's not yet formalized in Lean (unless someone has done tr.deg. somewhere).</p>",
        "id": 481460161,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1731158320
    },
    {
        "content": "<p>I'm reading P. M. Cohn's <em>Basic Algebra</em>, seems that it uses matroid:</p>\n<p><a href=\"/user_uploads/3121/RaRxNy8J7GEmX0eai-oHjwwV/2024-11-09-225515.png\">2024-11-09 225515.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/RaRxNy8J7GEmX0eai-oHjwwV/2024-11-09-225515.png\" title=\"2024-11-09 225515.png\"><img data-original-dimensions=\"999x817\" src=\"/user_uploads/thumbnail/3121/RaRxNy8J7GEmX0eai-oHjwwV/2024-11-09-225515.png/840x560.webp\"></a></div>",
        "id": 481467276,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731164143
    },
    {
        "content": "<p>In <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/Basic.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/Basic.html</a></p>\n<blockquote>\n<p>For infinite matroids, bases are not in general equicardinal; in fact the equicardinality of bases of infinite matroids is independent of ZFC [3].</p>\n</blockquote>\n<p><span aria-label=\"exploding head\" class=\"emoji emoji-1f92f\" role=\"img\" title=\"exploding head\">:exploding_head:</span></p>",
        "id": 481467404,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731164218
    },
    {
        "content": "<p>But in that book we have Theorem 11.1.5 which says that any bases has the same cardinality. I guess that is the matroid in mathlib together with a stronger hypothesis? Any experts?</p>",
        "id": 481468004,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731164697
    },
    {
        "content": "<p><del>I guess you deduce the infinite case from the finite case, and this part of the argument is specific to algebraically independent sets. I think you can refer to nLab or Stacks Project.</del></p>",
        "id": 481468858,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1731165317
    },
    {
        "content": "<p>Looking at <a href=\"https://stacks.math.columbia.edu/tag/030F\">Stacks</a>, apparently you'd use a different proof for the infinite case.</p>",
        "id": 481469326,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1731165708
    },
    {
        "content": "<p>I think it would be really cool to have applications of the matroid library in mathlib.</p>",
        "id": 481664971,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731315179
    },
    {
        "content": "<p>Also cc <span class=\"user-mention\" data-user-id=\"329425\">@Peter Nelson</span></p>",
        "id": 481665002,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1731315188
    },
    {
        "content": "<blockquote>\n<p>In <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/Basic.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/Basic.html</a></p>\n<blockquote>\n<p>For infinite matroids, bases are not in general equicardinal; in fact the equicardinality of bases of infinite matroids is independent of ZFC [3].</p>\n</blockquote>\n<p><span aria-label=\"exploding head\" class=\"emoji emoji-1f92f\" role=\"img\" title=\"exploding head\">:exploding_head:</span></p>\n</blockquote>\n<p>In Cohn's book:</p>\n<p><a href=\"/user_uploads/3121/xxloALih-ClZtrGWACh6bjMB/2024-11-11-171358.png\">2024-11-11 171358.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/xxloALih-ClZtrGWACh6bjMB/2024-11-11-171358.png\" title=\"2024-11-11 171358.png\"><img data-original-dimensions=\"700x719\" src=\"/user_uploads/thumbnail/3121/xxloALih-ClZtrGWACh6bjMB/2024-11-11-171358.png/840x560.webp\"></a></div><p>There is Theorem 11.1.5 which says that any two bases have the same cardinality. While for the weaker assumption D.1', only finite bases have the same cardinality, which is consistent with the docstring in mathlib. So I suspect that D.1' coincides with the matroid in mathlib, while D.1 is a stronger assumption on it.</p>",
        "id": 481669497,
        "sender_full_name": "Jz Pan",
        "timestamp": 1731316630
    },
    {
        "content": "<p>Indeed, most presentations of the transcendence degree involve a version of the exchange lemma, but that does not mean that one has to pass through matroids, and indeed, one doesn't. (See my “(Mostly) commutative algebra”, corollary 4.8.7.) </p>\n<p>Note that the exchange lemma is needed for possibly infinite transcendent bases, while the classic definition of matroids is not so good in the infinite case, and I don't know what version mathlib has chosen. Still, matroids are cool, and if that works through matroids, then why not, and it would be reasonable to reformulate the existence of dimension in this framework as well.</p>",
        "id": 481767995,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1731344356
    },
    {
        "content": "<p>I have started work on proving that all transcendence bases have the same cardinality. The work is <a href=\"https://github.com/leanprover-community/mathlib4/blob/60b1df5e8c9356db48c38ce496392d8376913f2e/Mathlib/RingTheory/AlgebraicIndependent/TranscendenceBasis.lean\">here</a> I have some version of the exchange lemma with one sorry.</p>",
        "id": 494177840,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737042217
    },
    {
        "content": "<p>This was a little more complicated than I anticipated so I might not have time to work on this in the near future. I think we're missing some key lemmas about <code>totalDegree</code>, like <code>totalDegree (X i * p) = ...</code>.</p>\n<p>Contributions are welcome</p>",
        "id": 494178469,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737042382
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110044\">Chris Hughes</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/494177840\">said</a>:</p>\n<blockquote>\n<p>I have started work on proving that all transcendence bases have the same cardinality. The work is <a href=\"https://github.com/leanprover-community/mathlib4/blob/60b1df5e8c9356db48c38ce496392d8376913f2e/Mathlib/RingTheory/AlgebraicIndependent/TranscendenceBasis.lean\">here</a> I have some version of the exchange lemma with one sorry.</p>\n</blockquote>\n<p>Great work! Unfortunately I can't take a look in these weeks (in fact I still have some pending TODOs on mathlib not started yet, due to the same reason).</p>",
        "id": 494186598,
        "sender_full_name": "Jz Pan",
        "timestamp": 1737044569
    },
    {
        "content": "<p>I think if I were to really do this in the nicest way possible I would probably make the following changes in mathlib. I don't think I will have the time to do this, but I'll pass this on anyway.</p>\n<ul>\n<li>Restate <code>Algebra.isAlgebraic</code> to take a ring hom instead of an algebra instance. I often want to reason about one subalgebra being algebraic over another which means locally introducing instances. In general, I think the <code>Algebra</code> typeclass might be a bit overused and we should just be using ring homs instead. The whole point of this type-class was probably motivated by the fact that RingHoms induce module structures, but in my experience I think it would be easier to locally introduce a module instance when needed than to locally introduce <code>Algebra</code>instances all the time (other people's experience may differ).</li>\n<li>Redefine the internal algebraic closure, <code>algebraicClosure</code> to take a set as an argument, and it would be defined as the elements algebraic over the subring generated by the set. This would have all the nice galois-insertion properties as well as a useful \"compactness\" property <code>x ∈ algebraicClosure S ↔ ∃ (t : Set R), Set.Finite t ∧ t ⊆ S ∧ x ∈ algebraicClosure t</code>. This could be done for <code>integralClosure</code> as well.</li>\n</ul>",
        "id": 494318251,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737106338
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110044\">@Chris Hughes</span> Can the new <code>algebraize</code> tactic help with the first point? It's meant to help with moving ring homs and properties of ring homs to (locally in the proof) algebras and properties of algebras</p>",
        "id": 494324834,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1737108459
    },
    {
        "content": "<p>It would help in some cases, but obviously you can't easily state theorems without a global instance. For example, the key theorem about the <code>algebraicClosure</code> definition I mentioned above would be <code>Algebra.isAlgebraic (Subring.closure s) (algebraicClosure s)</code> and maybe some other things about which subrings are or are not algebraic over others. Of course you could state these with an <code>Algebra</code> hypothesis and also a hypothesis saying <code>algebraMap _ _ = ...</code>.</p>\n<p>When talking about transcendence bases it would be nice to know <code>IsTranscendenceBasis R x -&gt; Algebraic (MvPolynomial _ R) A</code>, with the algebra instance given by evaluating the polynomial at x. It's almost always much nicer to work with an <code>MvPolynomial</code> instead of <code>Algebra.adjoin R (range x)</code> and they're isomorphic. But I'm finding myself forced to use <code>Algebra.adjoin R (range x)</code> just for the algebra instance. Of course I could maybe use the same method as before with a hypothesis saying <code>algebraMap _ _ = MvPolynomial.aeval _</code>, but this feels wrong.</p>",
        "id": 494333098,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737111014
    },
    {
        "content": "<p>Maybe I should clarify that I was in favour of your point that we should also have <code>RingHom.isAlgebraic</code>. But my point is that we should also keep <code>Algebra.isAlgebraic</code>. And then use <code>algebraize</code> to move back and forth as needed.</p>",
        "id": 494334553,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1737111486
    },
    {
        "content": "<p>Yes, I'm happy with that</p>",
        "id": 494334664,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737111523
    },
    {
        "content": "<p>Maybe for now we should define a RingHom.IsAlgebraic as a workaround. In this way the existing APIs are not needed to be changed.</p>",
        "id": 494346893,
        "sender_full_name": "Jz Pan",
        "timestamp": 1737115945
    },
    {
        "content": "<p>Just like my ongoing work of <code>RingHom.relrank</code> which should fix the slowness of <code>Subfield.relrank</code></p>",
        "id": 494419900,
        "sender_full_name": "Jz Pan",
        "timestamp": 1737139828
    },
    {
        "content": "<p>It seems <a href=\"https://github.com/leanprover-community/mathlib4/pull/20774/files#diff-e225786740484108e1e9d02acc5a0ce027ca85af4ae1d03d7b3fcb5ba667aa2fR128\">this AddCommMonoid instance</a> is the slowest (maybe it's AddCommGroup before <a href=\"https://github.com/leanprover-community/mathlib4/pull/20774\">#20774</a>); maybe we should add this shortcut instance to remind Lean locally.</p>",
        "id": 494422648,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737140761
    },
    {
        "content": "<p>I hope the following approach could lead to a simpler proof; unfortunately it's too late now and I have to continue tomorrow. Feel free to fill in the sorry :)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">AlgebraicIndependent</span><span class=\"bp\">.</span><span class=\"n\">AlgebraicClosure</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">A'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">A'</span><span class=\"o\">]</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Function</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">algebraicIndependent_of_set_of_finite</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ind</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">      </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∉</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∉</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Transcendental</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">classical</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">algebraicIndependent_of_finite_type</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">hfin</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"n\">suffices</span><span class=\"w\"> </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">↥</span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">∩</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">\\</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">from</span>\n<span class=\"w\">    </span><span class=\"n\">this</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">ofEq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">inter_union_diff</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">symm</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">injective</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">hfin</span><span class=\"bp\">.</span><span class=\"n\">diff</span><span class=\"bp\">.</span><span class=\"n\">induction_on_subset</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ind</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inclusion</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inclusion_injective</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">ha</span><span class=\"w\"> </span><span class=\"n\">hu</span><span class=\"w\"> </span><span class=\"n\">ha'</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∉</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">∩</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ha</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">·.</span><span class=\"m\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">ha'</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">convert</span><span class=\"w\"> </span><span class=\"o\">(((</span><span class=\"n\">image_eq_range</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">option_iff</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hfin</span><span class=\"bp\">.</span><span class=\"n\">subset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">union_subset</span>\n<span class=\"w\">    </span><span class=\"n\">inter_subset_left</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">hu</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">diff_subset</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">ha</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">subtypeInsertEquivOption</span>\n<span class=\"w\">    </span><span class=\"n\">this</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">injective</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">comp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">ofEq</span><span class=\"w\"> </span><span class=\"n\">union_insert</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Equiv</span><span class=\"bp\">.</span><span class=\"n\">injective</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">↑</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">subtypeInsertEquivOption</span><span class=\"o\">]</span>\n\n<span class=\"c\">/-</span><span class=\"cm\"> if we assume that hx is a transcendence basis, then we should be able to</span>\n<span class=\"cm\">replace NoZeroDivisor A by NoZeroDivisor R, because a polynomial ring over</span>\n<span class=\"cm\">a ring with no zero divisor has no zero divisor. -/</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">exchange_lemma</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableEq</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NoZeroDivisors</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Transcendental</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">update</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">xy</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">xy</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"bp\">.</span><span class=\"n\">transcendental_adjoin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">none</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">range_comp</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">mt</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">algebraicIndependent_of_set_of_finite</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">none</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">algebraicIndependent_singleton_iff</span><span class=\"w\"> </span><span class=\"bp\">⟨_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"bp\">⟩</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"n\">simp_rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Transcendental</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">push_neg</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">fin</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ind</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_|</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hi</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hit</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">alg</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hi</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">elim</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">Rxyi</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">update</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">y</span><span class=\"o\">})</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">Rxyi</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subalgebra</span><span class=\"bp\">.</span><span class=\"n\">inclusion</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">adjoin_mono</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">range_subset_iff</span><span class=\"bp\">.</span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toAlgebra</span>\n<span class=\"w\">    </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">ne</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">eq_or_ne</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">update_self</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">    </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">update_of_ne</span><span class=\"w\"> </span><span class=\"n\">ne</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"bp\">⟨_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rfl</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsScalarTower</span><span class=\"w\"> </span><span class=\"n\">Rxyi</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">of_algebraMap_eq</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_⟩</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">Rx</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">Rx</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subalgebra</span><span class=\"bp\">.</span><span class=\"n\">inclusion</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">adjoin_mono</span><span class=\"w\"> </span><span class=\"n\">subset_union_left</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toAlgebra</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsScalarTower</span><span class=\"w\"> </span><span class=\"n\">Rx</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">of_algebraMap_eq</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_⟩</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"n\">extendScalars</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Subalgebra</span><span class=\"bp\">.</span><span class=\"n\">inclusion_injective</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"n\">Rxyi</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"bp\">.</span><span class=\"n\">trans'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Rxy</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">Subtype</span><span class=\"bp\">.</span><span class=\"n\">val_injective</span><span class=\"bp\">⟩</span>\n</code></pre></div>",
        "id": 494471101,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737166908
    },
    {
        "content": "<p>I just pushed <a href=\"https://github.com/leanprover-community/mathlib4/compare/TranscendenceDegree?expand=1\">sorry-free exchange lemma</a>. The proof is restructured a bit from the code above.</p>",
        "id": 494553219,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737233404
    },
    {
        "content": "<p>I've done some work in the <code>CHTranscendence degree</code> branch on using the exchange lemma to prove what I call the <code>big_exchange_lemma</code> </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">big_exchange_lemma</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">IsDomain</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι'</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι'</span><span class=\"w\"> </span><span class=\"bp\">↪</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"bp\">ᶜ</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div>\n<p>This is a non-textbook approach and I'm trying to use zorn's lemma to generalize the proof for the finite case to the infinite case instead of using the seperate proof. I have an inkling one of the sorrys is false (the one currently on line 301 of <code>Mathlib/RingTheory/AlgebraicIndependent</code>. The code is there if you want to use it, but of course it may be easier to do it your own way.</p>",
        "id": 494553649,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737233773
    },
    {
        "content": "<blockquote>\n<p>if we assume that hx is a transcendence basis, then we should be able to replace NoZeroDivisor A by NoZeroDivisor R, because a polynomial ring over a ring with no zero divisor has no zero divisor.</p>\n</blockquote>\n<p>I just realized that this comment in my code above is wrong, because an algebra over a domain may have transcendence bases of different cardinality if the algebra is not a domain: just take the example in the second paragraph in <a href=\"https://mathoverflow.net/a/144580/3332\">this answer</a> (<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> is arbitrary and could be taken to be a domain). I started having this strange misconception <a href=\"https://mathoverflow.net/questions/266298/algebraic-independence-in-polynomial-rings-over-mathbbz-n/484564#comment1263211_484564\">since ~3 weeks ago</a>.</p>",
        "id": 494581359,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737243374
    },
    {
        "content": "<p>Pushed some helper lemmas for the IsTranscendenceBasis version of the exchange lemma, and calling it a day. I expect that the finite version of the big exchange lemma is easiest to prove using induction and another similar helper lemma that requires an inline R[X]-algebra instance (from the <code>y : A</code>) to state.</p>",
        "id": 494594235,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737254156
    },
    {
        "content": "<blockquote>\n<p>This is a non-textbook approach and I'm trying to use zorn's lemma to generalize the proof for the finite case to the infinite case instead of using the seperate proof.</p>\n</blockquote>\n<p>It seems that there's an obstruction to make this work. Consider <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mtext> </mtext><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{x_1,x_2,x_3,\\dots\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mclose\">}</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo>−</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo>−</mo><msub><mi>x</mi><mn>4</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mtext> </mtext><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{x_1,x_1-x_2,x_2-x_3,x_3-x_4,\\dots\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.1944em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mclose\">}</span></span></span></span>, which are both transcendence bases of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">[</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><mo>…</mo><mtext> </mtext><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">R[x_1,x_2,x_3,\\dots]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"minner\">…</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mclose\">]</span></span></span></span>. You can replace the 1st element in the first basis by the 2nd element in the second basis, the 2nd by the 3rd, the 3rd by the 4th, and so forth, and still get a transcendence basis as long as you only do this finitely many times. But if you do all replacements at once, the result becomes a proper subset of a transcendence basis. I believe the big exchange lemma is still true, but you'll need a different approach than Zorn's lemma.</p>",
        "id": 494632689,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737286024
    },
    {
        "content": "<p>I guess that's why they didn't do it that way on the stacks project.</p>",
        "id": 494633547,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737286697
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/481467276\">said</a>:</p>\n<blockquote>\n<p>I'm reading P. M. Cohn's <em>Basic Algebra</em>, seems that it uses matroid:</p>\n<p><a href=\"/user_uploads/3121/RaRxNy8J7GEmX0eai-oHjwwV/2024-11-09-225515.png\">2024-11-09 225515.png</a></p>\n</blockquote>\n<p>Sorry I’m a little late to the party here. The definition given looks like it’s basically that of <code>Finitary</code> matroids, which are a subclass (defined in mathlib) that avoid many pathologies found in general infinite matroids. A finitary matroid is just one where X is independent iff its finite subsets are all independent.</p>\n<p>They aren’t the right generality for the matroid API, because the dual of a finitary matroid isn’t finitary. But finitary matroids do have equicardinal bases - this isn’t in mathlib or my repo yet but wouldn’t take me long to do if needed. So this would perhaps be a legitimate way to handle transcendence bases.</p>",
        "id": 494635391,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737288211
    },
    {
        "content": "<p>Importing Mathlib.Data.Matroid.Basic into Mathlib.RingTheory.AlgebraicIndependent.TranscendenceBasis only adds to transitive imports (1239 -&gt; 1241). Looks like a good deal! I'll try to establish connections between Base / Indep and IsTranscendenceBasis / AlgebraicIndependent.</p>",
        "id": 494647519,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737297940
    },
    {
        "content": "<p>Is a transcendence basis the same thing as a maximal algebraically independent set?</p>",
        "id": 494647692,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737298077
    },
    {
        "content": "<p>(Within a given family)</p>",
        "id": 494647769,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737298098
    },
    {
        "content": "<p>Yes, it is. An algebraic independent family is always injective (except over the trivial ring), so it's equivalent to consider its range.</p>",
        "id": 494647831,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737298171
    },
    {
        "content": "<p>If so, one just needs to define an algebraic matroid (using <code>IndepMatroid.ofFinitary</code>) and that would open up a lot of matroid machinery to be applied out of the box to this stuff</p>",
        "id": 494647910,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737298208
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 494647947,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737298238
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/BrncrSkTXrgMq2ceTL7myNlj/image.png\">image.png</a><br>\nThe definition switches to the range in the second part.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BrncrSkTXrgMq2ceTL7myNlj/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"853x371\" src=\"/user_uploads/thumbnail/3121/BrncrSkTXrgMq2ceTL7myNlj/image.png/840x560.webp\"></a></div>",
        "id": 494647968,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737298256
    },
    {
        "content": "<p>I think it's pretty easy to construct an <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/IndepAxioms.html#IndepMatroid\">IndepMatroid</a> directly. The finitary property is just <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/AlgebraicIndependent/Basic.html#algebraicIndependent_of_finite\">algebraicIndependent_of_finite</a>.</p>",
        "id": 494648993,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737298956
    },
    {
        "content": "<p>That is good news! My repo (<a href=\"https://github.com/apnelson1/Matroid\">https://github.com/apnelson1/Matroid</a>) has a lot of things that aren’t yet in mathlib, and might have some use to avoid reinventing the wheel.</p>",
        "id": 494649975,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737299682
    },
    {
        "content": "<p>It looks like the author of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=exists_maximal_algebraicIndependent#doc\">docs#exists_maximal_algebraicIndependent</a> must have had matroids in mind because it's exactly what we need for indep_maximal :)</p>",
        "id": 494650401,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737299982
    },
    {
        "content": "<p>This was by <span class=\"user-mention\" data-user-id=\"110044\">@Chris Hughes</span> 4 years ago in <a href=\"https://github.com/leanprover-community/mathlib3/pull/9229\">mathlib3#9229</a>.</p>",
        "id": 494650530,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737300065
    },
    {
        "content": "<p>I didn't have matroids in mind but I'm glad it works nicely</p>",
        "id": 494650639,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737300140
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">indep_maximal</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">ind</span><span class=\"w\"> </span><span class=\"n\">hIX</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">exists_maximal_algebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">hIX</span><span class=\"w\"> </span><span class=\"n\">ind</span>\n</code></pre></div>\n<p>no need to even unwrap <code>Maximal</code></p>",
        "id": 494650815,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737300275
    },
    {
        "content": "<p>I've <a href=\"https://github.com/leanprover-community/mathlib4/commit/338eaa80627e532e3f60f3136f5e2c0d2a7d146e\">constructed the finitary matroid</a> and it's only +76 -13. Looks like matroids are offering a vast simplification here!</p>",
        "id": 494659493,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737306944
    },
    {
        "content": "<p>So is the fact that any two transcendence bases have the same cardinality just an application of a generic matroid theorem now?</p>",
        "id": 494660488,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737307713
    },
    {
        "content": "<p>Yes, albeit one that isn’t yet formalized</p>",
        "id": 494660512,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737307734
    },
    {
        "content": "<p>I can hopefully do it in the next couple of days, though</p>",
        "id": 494660537,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737307760
    },
    {
        "content": "<p>I'd expect the \"big exchange lemma\" is also theorem of matroids, but I'm not sure how useful it is ...</p>",
        "id": 494660665,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737307836
    },
    {
        "content": "<p>What is that lemma?</p>",
        "id": 494660730,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737307885
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110044\">Chris Hughes</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/494553649\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">big_exchange_lemma</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">IsDomain</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι'</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AlgebraicIndependent</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι'</span><span class=\"w\"> </span><span class=\"bp\">↪</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">IsAlgebraic</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">adjoin</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">∪</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"bp\">ᶜ</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"n\">A</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Here it is, but not in the language of matroids. It's the approach I was going to use to prove the cardinality theorem, but it turned out to be more difficult than I thought</p>",
        "id": 494660874,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1737307982
    },
    {
        "content": "<p>I’m sorry if it’s implicit in the above discussion; I’m on mobile</p>",
        "id": 494660891,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737307987
    },
    {
        "content": "<p>I think it says: if <code>B</code> is a base and <code>I</code> is independent, then there exists an injection <code>f : I → B</code> such that <code>I ∪ f(I)ᶜ</code> is a base. In other words, you can replace a subset of <code>B</code> of the same cardinality as <code>I</code> by <code>I</code> and still get a base. Probably only works in a finitary matroid.</p>",
        "id": 494661420,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737308348
    },
    {
        "content": "<p>Aha - yes, that should be true in a finitary matroid.</p>",
        "id": 494661616,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737308488
    },
    {
        "content": "<p>It’s not something I’ve encountered, though</p>",
        "id": 494661633,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737308506
    },
    {
        "content": "<p>I’m very happy to see this application. Allowing my matroids to be infinite was a consequential decision that created a lot of extra work in API-building, and this use of infinite matroids suggests it might have been actually worth it!</p>\n<p>(Matroids are finite in most of the literature)</p>",
        "id": 494661892,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737308697
    },
    {
        "content": "<p>I think it's a trivial consequence of the invariance of cardinality of bases. You can always extend <code>I</code> to a basis using only elements from <code>B</code>: take <code>X = I ∪ B</code> in <code>indep_maximal</code>, and show a maximal independent set in <code>X</code> must be a base using <code>indep_aug</code>), and this basis has the same cardinality as <code>B</code>. Restrict the equivalence to <code>I</code> will give the desired injection <code>f</code>.</p>",
        "id": 494662058,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737308797
    },
    {
        "content": "<p>Hmm, we at least already have one theorem <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Matroid.Base.ncard_eq_ncard_of_base#doc\">docs#Matroid.Base.ncard_eq_ncard_of_base</a> about invariance of cardinality of bases: it applies to any matroid, but only shows cardinalities are equal if they are finite.</p>",
        "id": 494663047,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737309484
    },
    {
        "content": "<p>For the infinite case, I think I can translate <a href=\"https://stacks.math.columbia.edu/tag/030F\">stacks#030F</a>'s proof in ~an hour.</p>",
        "id": 494664204,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737310387
    },
    {
        "content": "<p>I know the proof of the matroid statement, and it’s worth doing at that generality, I think. From your perspective, leaving it as a sorry is probably the best use of your time.</p>",
        "id": 494666247,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737311994
    },
    {
        "content": "<p>I mean I can translate it to the matroid setting.</p>",
        "id": 494666458,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737312176
    },
    {
        "content": "<p>Oh I see - for what it’s worth, here’s a sketch of a purely matroidal proof. Don’t know how much it differs conceptually from the algebraic one. I’ve phrased it in terms of stuff that is already in mathlib. Apologies for the typesetting - still on mobile. </p>\n<p>It suffices to show that for any pair of infinite bases B,B’, the cardinality of B’ is at most that of B. Since M is finitary and B is a base, for each y in B’, there is a finite independent subset C(y) of B such that C(y) + y is dependent, or C(y) = {y}</p>\n<p>Let A(y) be the preimage of C(y) under C. Now C(y) is a basis of C(y) union A(y), and A(y) is independent, so |A(y)| \\le |C(y)| - it follows that C is a function from B’ to <code>Finset B</code> with finite fibres. Both sets are infinite, so B’ is not larger than B in cardinality.</p>",
        "id": 494667744,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737313176
    },
    {
        "content": "<p>Thanks! The last paragraph is a bit different from (and might be harder to formalize than) Stacks' proof. My plan is just to show that the union of all the C(y) is B.</p>",
        "id": 494669450,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737314367
    },
    {
        "content": "<p>That will work, too - and you're right that my last paragraph is annoying to formalize. I'm looking forward to seeing where this goes. Please ping me if there is some fact you need that you think may be matroidal - there's a good chance it'll be somewhere in my repo.</p>",
        "id": 494669778,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737314573
    },
    {
        "content": "<p>It seems I need to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/Restrict.html#Matroid.Indep.exists_insert_of_not_base\">Matroid.Indep.exists_insert_of_not_base</a>, since there isn't a way to obtain IndepMatroid directly from Matroid. It's also slightly annoying to split into <code>B' \\ B</code> and <code>B ∩ B'</code>. And now I realize I may need to create a new file since importing <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/SetTheory/Cardinal/Arithmetic.html#Cardinal.mul_aleph0_eq\">Cardinal.mul_aleph0_eq</a> adds ~100 transitive imports ...</p>",
        "id": 494670437,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737315046
    },
    {
        "content": "<p>On the first point, you shouldn't be interacting much with <code>IndepMatroid</code>. (the only lemmas/functions with <code>IndepMatroid</code> in the type signature should be <code>IndepMatroid.matroid</code> and <code>IndepMatroid.of_____</code>). The idea is that you define an <code>IndepMatroid</code> from one of the constructors, then immediately use <code>IndepMatroid.matroid</code> to turn it into a <code>Matroid</code>, and use the <code>Matroid</code> API. </p>\n<p><code>IndepMatroid</code> is simply a way to add some organization to the many ways of building a matroid via the independence axioms.</p>",
        "id": 494670818,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737315342
    },
    {
        "content": "<p>In particular, you should have <code>algebraicMatroidOf (something) : Matroid \\a := IndepMatroid.matroid &lt;| IndepMatroid.ofFinitary _ _ _ _</code>.</p>",
        "id": 494671223,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737315650
    },
    {
        "content": "<p>I can change the IndepMatroid.algebraicIndependent to a Matroid if IndepMatroid is not be be exposed. However, the <code>indep_aug</code> in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/IndepAxioms.html#IndepMatroid.ofFinitary\">IndepMatroid.ofFinitary</a> seems harder to prove than that in IndepMatroid, so I simply directly constructed an IndepMatroid.</p>",
        "id": 494671415,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737315801
    },
    {
        "content": "<p>That works, too - the constructor used isn't important, but <code>IndepMatroid</code> being solely internal is key to the design, to avoid API duplication. I think the simplifier should give you want you need if you stick to <code>Matroid</code>.</p>",
        "id": 494671535,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737315902
    },
    {
        "content": "<p>I've finished the proof! Took longer than expected but not very difficult<br>\n<a href=\"/user_uploads/3121/A7LS61D-mIkDSsIa7q7HMsAs/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/A7LS61D-mIkDSsIa7q7HMsAs/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1059x803\" src=\"/user_uploads/thumbnail/3121/A7LS61D-mIkDSsIa7q7HMsAs/image.png/840x560.webp\"></a></div>",
        "id": 494675398,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737318649
    },
    {
        "content": "<p>I think it would be nicer to make <code>IndepMatroid.matroid</code> be able to change the defeq of the data field <code>Base</code>. For example in this case I'd like the <code>Base</code> to be defeq to IsTranscendenceBasis.</p>",
        "id": 494675634,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737318788
    },
    {
        "content": "<p>However I expect that matroids will only be used as an auxiliary construction here (albeit a great effort saver) and most API will still revolve around AlgebraicIndependent and IsTranscendenceBasis.</p>",
        "id": 494675777,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737318878
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/494675634\">said</a>:</p>\n<blockquote>\n<p>I think it would be nicer to make <code>IndepMatroid.matroid</code> be able to change the defeq of the data field <code>Base</code>. For example in this case I'd like the <code>Base</code> to be defeq to IsTranscendenceBasis.</p>\n</blockquote>\n<p>This is a reasonable request. I didn't focus on the defeq aspect, but I think an alternative form of <code>IndepMatroid.matroid</code> where <code>Base</code> can be defeq would make sense.</p>\n<p><code>Matroid.ofExistsMatroid</code> does something similar, but still doesn't give definitional bases.</p>",
        "id": 494676250,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737319209
    },
    {
        "content": "<p>I'm now developing some API for transcendence degree (trdeg).<br>\nPuzzle: <a href=\"https://mathoverflow.net/a/263053/3332\">this answer</a> shows that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Module.rank#doc\">docs#Module.rank</a> may not be attained by a linearly independent set, even over a commutative ring. Could <code>trdeg</code> also not be attained by an algebraic independent set (of course, in some algebra that is not a domain)?<br>\nThere is <a href=\"https://mathoverflow.net/a/484564\">an analogue of StrongRankCondition</a> in the context of transcendence that holds even for non-domains (lemma 1 of <a href=\"https://link.springer.com/chapter/10.1007/978-1-4612-3660-3_13\">the paper</a> of Hamann). Once we show that in/surjective AlgHoms give inequalities between <code>trdeg</code>s, we will then be able to show that the <code>trdeg</code> of an algebra is at most the cardinality of any generating set. Transitivity of trdeg (<a href=\"https://stacks.math.columbia.edu/tag/030H\">stacks#030H</a>) is another nice target.</p>",
        "id": 494682879,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737323385
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/494675634\">said</a>:</p>\n<blockquote>\n<p>I think it would be nicer to make <code>IndepMatroid.matroid</code> be able to change the defeq of the data field <code>Base</code>. For example in this case I'd like the <code>Base</code> to be defeq to IsTranscendenceBasis.</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/20876\">#20876</a> . I've designed it a little differently from your suggestion, so it will interact with other ways of defining matroids (closure function, circuits, etc) in the future. But <code>Matroid.congrBaseIndep</code> from that PR will do what you need.</p>",
        "id": 494822201,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737382699
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/494671415\">said</a>:</p>\n<blockquote>\n<p>I can change the IndepMatroid.algebraicIndependent to a Matroid if IndepMatroid is not be be exposed. However, the <code>indep_aug</code> in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Matroid/IndepAxioms.html#IndepMatroid.ofFinitary\">IndepMatroid.ofFinitary</a> seems harder to prove than that in IndepMatroid, so I simply directly constructed an IndepMatroid.</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/20877\">#20877</a> provides the constructor you wanted here.</p>",
        "id": 494827751,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737384121
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/20888\">#20888</a> for the matroid equal cardinality result and <a href=\"https://github.com/leanprover-community/mathlib4/pull/20887\">#20887</a> for transcendence degree.</p>",
        "id": 494908655,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737405508
    },
    {
        "content": "<p>I’m thinking of making a PR that defines a cardinal-valued rank function for a finitary matroid and proves basic properties like monotonicity, submodularity, etc. </p>\n<p>Transcendence degree will be a special case - are there any particular statements about transcendence degree that you would like to have available?</p>",
        "id": 495046931,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1737465701
    },
    {
        "content": "<p>I found a fairly short proof of Lüroth's theorem (~1 page) in Jacobson's <em>Basic Algebra II</em> on p.522 which doesn't rely on the transcendence degree. (The reason I looked into it is because I asked DeepSeek-r1 a question and it quotes Jacobson as a reference.)</p>",
        "id": 495355490,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737572723
    },
    {
        "content": "<p>(That's the classic proof that is given in most algebra books. Note you'll have to prove 8.38 before that, which is interesting in its own right. That'll a be a good test of the one-variable two-variables interaction in mathlib.)</p>",
        "id": 495898113,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1737833106
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"366779\">@Jz Pan</span> proved [F(t):F(t^n)]=n but I forgot what PR it is. I recall during the PR review I suggested the more general statement identical to 8.38 and might have suggested something about the proof. (Edit: the comment is <a href=\"https://github.com/leanprover-community/mathlib4/pull/7788#issuecomment-1788132019\">here</a>.)</p>",
        "id": 495976267,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1737905568
    },
    {
        "content": "<p>I think I only proved <code>F(t^n) ≠ F(t^m)</code> for <code>n ≠ m</code> in PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/7788\">#7788</a>. You had a comment on that PR.</p>",
        "id": 495977349,
        "sender_full_name": "Jz Pan",
        "timestamp": 1737906476
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/20887\">#20887</a> is ready for review again. In the last <a href=\"https://github.com/leanprover-community/mathlib4/pull/20887/commits/053072e8929c73ffe1f6d62e23962cb56f0fb9d2\">two</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/20887/commits/bb70c18bf64db3e4890dbd3e31664e4d7561b3b1\">commits</a> I've built a dictionary between the matroid language and the algebraic language, and proven trdeg inequalities from injective/surjective AlgHom / finite type algebras. trdeg is computed for (Mv)Polynomial algebras but only over domains. To generalize to any nontrivial comm. rings we need the result of Hamann.</p>",
        "id": 498598544,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1739106296
    },
    {
        "content": "<p>The PR now depends on:</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/21512\">#21512</a> matroid lemmas, reviewed by <span class=\"user-mention\" data-user-id=\"329425\">@Peter Nelson</span></p>",
        "id": 498598580,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1739106348
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/21566\">#21566</a> removes unnecessary injectivity assumptions around algebraicity of algebras, should be uncontroversial.</p>",
        "id": 498598655,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1739106384
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Transcendence.20degree.3F/near/498598544\">said</a>:</p>\n<blockquote>\n<p>To generalize to any nontrivial comm. rings we need the result of Hamann.</p>\n</blockquote>\n<p>How complicated is it? Would you like to work on it in future PRs?</p>",
        "id": 498609401,
        "sender_full_name": "Jz Pan",
        "timestamp": 1739115550
    },
    {
        "content": "<p>It's a one-paragraph proof that can be reasonably expected to be done in one day. If any PKU student is interested I could work with them on it ...</p>",
        "id": 498610071,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1739116010
    },
    {
        "content": "<p>All we need is this, I think.<br>\n<a href=\"/user_uploads/3121/ANRuP9GrftpkmgP2kYQe3g0d/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ANRuP9GrftpkmgP2kYQe3g0d/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"609x820\" src=\"/user_uploads/thumbnail/3121/ANRuP9GrftpkmgP2kYQe3g0d/image.png/840x560.webp\"></a></div>",
        "id": 498610133,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1739116078
    }
]