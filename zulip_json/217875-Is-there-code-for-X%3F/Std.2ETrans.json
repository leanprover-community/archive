[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"330967\">Wrenna Robson</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Std.20Trichotomous/near/546861472\">said</a>:</p>\n<blockquote>\n<p>Still, the lack of a <code>Std.Trans</code> might trip/surprise some users.</p>\n</blockquote>\n<p>I wanted to express again that I am somewhat Unsure about the lack of a <code>Std.Trans</code> in the same way that other properties of relations have standard properties. I'm not saying we should have <code>Trans</code> - but <code>Trans</code> can  be used for heterogenous functions that give any <code>Sort</code> (for which I think the primary use is in <code>calc</code>?), and if nothing else writing <code>Trans R R R</code> (which is often how we use it as a typeclass hypothesis as far as I can tell) is a bit of a mouthful.</p>\n<p>Essentially, just as <code>Std.Symm</code> is (effectively) doing all that Mathlib's <code>IsSymm</code> does, why can we not have a <code>Std.Trans</code> that does what Mathlib's <code>IsTrans</code> does?</p>\n<p>I could absolutely see the need for something like:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">Symm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">outParam</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Sort</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Use a symmetry, generalized over the relations involved. -/</span>\n<span class=\"w\">  </span><span class=\"n\">symm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>Clearly that is a sensible general thing - one uses it when you have an <code>r a b</code> and you want to generate a <code>s b a</code>. But we don't have this - I'm not saying we need to add it. I am just saying that <code>Trans</code> feels to me like an odd design lacuna that I do not quite understand - and while it might be necessary under the hood for things like <code>calc</code>, I do question to what degree it is useful for it to be user-exposed. But this is deep core library design stuff - so I don't really feel like I can propose any kind of change. It's just that once again, I've been somewhat stalled by expecting <code>Std.Trans</code> to exist and then it not.</p>",
        "id": 558405612,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1763637914
    },
    {
        "content": "<p>It is possible though that nobody else is bothered about this. I would just like a world where instead of writing things like <code>[Trans ( · &lt; · : α → α → Prop) ( · &lt; ·) ( · &lt; ·)]</code>, we can instead write <code>[Std.Trans ( · &lt; · : α → α → Prop)]</code></p>",
        "id": 558405861,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1763638001
    },
    {
        "content": "<p>I agree, though I'm not sure this is the correct channel for such proposals<br>\nbtw <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Relation.20properties.20duplication/with/553900820\">#mathlib4 &gt; Relation properties duplication</a> is about deprecating <code>IsSymm</code> since <code>Std.Symm</code> exists, so no reason to add <code>Std.Trans</code> without deprecating <code>IsTrans</code></p>",
        "id": 558542128,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1763677923
    },
    {
        "content": "<p>Yeah I wasn't sure what the right place was to suggest it!</p>",
        "id": 558553542,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1763683971
    },
    {
        "content": "<p>I agree that we should deprecate IsTrans if we add that</p>",
        "id": 558553580,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1763683997
    }
]