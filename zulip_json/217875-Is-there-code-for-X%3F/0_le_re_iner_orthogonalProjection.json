[
    {
        "content": "<p>Hi, do we have code for this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">RCLike</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">HilbertSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CompleteSpace</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">FiniteDimensional</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">zero_le_re_iner_orthogonalProjection</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">K</span><span class=\"bp\">.</span><span class=\"n\">HasOrthogonalProjection</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">â‰¤</span><span class=\"w\"> </span><span class=\"n\">RCLike</span><span class=\"bp\">.</span><span class=\"n\">re</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">inner</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">â†‘</span><span class=\"o\">(</span><span class=\"n\">K</span><span class=\"bp\">.</span><span class=\"n\">orthogonalProjection</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>My intuition for way this is true is very geometric, so I'm not being able to prove it, and I don't find it in Mathlib</p>",
        "id": 516193373,
        "sender_full_name": "IvÃ¡n Renison",
        "timestamp": 1746450886
    },
    {
        "content": "<p>My guess is probably not. What we should have (at some point, but do not currently I believe) is the map <code>K.orthogonalProjection</code> (which has type <code>E â†’â‚—[ğ•œ] â†¥K</code>) as a map <code>P : E â†’â‚—[ğ•œ] E</code>, which is <code>P := K.subtype âˆ˜â‚— K.orthogonalProjection</code>. This is a projection in the sense that <code>P = P ^ 2 = star P</code>, from which the result follows trivially (and we should develop API to make this so).</p>\n<p>However, at this point, I don't think <code>P</code> is an existing definition in Mathlib, nor do we have any API developed for elements of the form <code>P = P ^ 2 = star P</code>.</p>",
        "id": 516195136,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1746451267
    },
    {
        "content": "<p>Ok, thanks</p>",
        "id": 516195627,
        "sender_full_name": "IvÃ¡n Renison",
        "timestamp": 1746451367
    },
    {
        "content": "<p>(side note: this lemma would be called <code>re_inner_orthogonalProjection_nonneg</code> or something, not <code>zero_le...</code>)</p>",
        "id": 516196043,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1746451453
    },
    {
        "content": "<p>IMHO, the right lemma here is to say that this inner product is equal to the square of the norm of the projection.</p>",
        "id": 516285901,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746475487
    },
    {
        "content": "<p>Great! With that idea I was able to prove it, and even to prove that it is a projection in the sense thatÂ <code>P = P ^ 2 = star P</code>. Thanks</p>",
        "id": 516370804,
        "sender_full_name": "IvÃ¡n Renison",
        "timestamp": 1746517077
    }
]