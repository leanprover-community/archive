[
    {
        "content": "<p>Do you think a pure Lean version of GNU GetText will be useful? It is used for internationalization.</p>\n<p>If there are anyone interested in it, I may work on it (low priority).</p>",
        "id": 507454001,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742651711
    },
    {
        "content": "<p>I recall <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> thinking about this question for Verbose Lean, I forget where he ended up</p>",
        "id": 507454167,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742651875
    },
    {
        "content": "<p>I think it was not directly reimplemented but something equivalent can be done using lean metaprogramming</p>",
        "id": 507454246,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742651931
    },
    {
        "content": "<p>The parsing of <code>.mo</code> files is easy, I've written implementations for different languages before</p>",
        "id": 507454269,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742651952
    },
    {
        "content": "<p>I think the issue was more that the way gettext works doesn't jive so well with lean, it's more suitable for languages that rely on external code generation like C</p>",
        "id": 507454406,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1742652033
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/gettext.3F/near/507454406\">said</a>:</p>\n<blockquote>\n<p>I think the issue was more that the way gettext works doesn't jive so well with lean, it's more suitable for languages that rely on external code generation like C</p>\n</blockquote>\n<p>I don't get the point yet... We can also define <code>GetText.gettext (self : GetText) (s : String) : String</code> which works exactly like in other languages.</p>",
        "id": 507454605,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742652190
    },
    {
        "content": "<p>Of course it's best if we have Lean specific version of <code>xgettext</code> which scans the source code using Lean's built-in metaprogramming ability.</p>",
        "id": 507455056,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742652518
    },
    {
        "content": "<p>The multilingual support in Verbose Lean does a lot more that translating strings, but it’s also more work to use. It is described in <a href=\"https://github.com/PatrickMassot/verbose-lean4/blob/master/itp2024_paper.pdf\">the paper</a> and the main code is at <a href=\"https://github.com/PatrickMassot/verbose-lean4/blob/master/Verbose/Infrastructure/Multilingual.lean\">https://github.com/PatrickMassot/verbose-lean4/blob/master/Verbose/Infrastructure/Multilingual.lean</a>. As you can see on line 1 of that file, this is all due to Mario.</p>",
        "id": 507466351,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1742660743
    },
    {
        "content": "<p>Well, personally I think it's too cumbersome to use. Seems that for each internationalized function you need to implement it in each language.</p>",
        "id": 507469198,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742662950
    },
    {
        "content": "<p>You only need to implement it for language that want to use it. But it’s a lot more flexible than replacing a string by another string.</p>",
        "id": 507486086,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1742673079
    },
    {
        "content": "<p>I've started parsing of <code>.po</code> files according to GNU gettext like 2 years ago here: <a href=\"https://github.com/hhu-adam/lean-i18n\">https://github.com/hhu-adam/lean-i18n</a><br>\nThis is also used in NNG etc.</p>\n<p>Probably worth if you had a look at that and see if it could be a possibility to contribute improvements to that project before implementing everything from scratch again :)</p>\n<p>I would love to see that package be improved futher!</p>",
        "id": 507495849,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1742679989
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/gettext.3F/near/507495849\">said</a>:</p>\n<blockquote>\n<p>I've started parsing of <code>.po</code> files according to GNU gettext like 2 years ago here: <a href=\"https://github.com/hhu-adam/lean-i18n\">https://github.com/hhu-adam/lean-i18n</a><br>\nThis is also used in NNG etc.</p>\n<p>Probably worth if you had a look at that and see if it could be a possibility to contribute improvements to that project before implementing everything from scratch again :)</p>\n<p>I would love to see that package be improved futher!</p>\n</blockquote>\n<p>Great work! I'll check it. I have written <code>.mo</code> file parsing and plural forms (with an expression parser) in other programming languages before.</p>",
        "id": 507523523,
        "sender_full_name": "Jz Pan",
        "timestamp": 1742703430
    }
]