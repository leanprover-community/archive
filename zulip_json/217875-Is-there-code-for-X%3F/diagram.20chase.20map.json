[
    {
        "content": "<p>Given the following commutative diagram<br>\n<a href=\"/user_uploads/3121/U6aP0ZVkdTnHbGGeXea_1so8/Screenshot-2025-07-28-at-13.33.59.png\">Screenshot 2025-07-28 at 13.33.59.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/U6aP0ZVkdTnHbGGeXea_1so8/Screenshot-2025-07-28-at-13.33.59.png\" title=\"Screenshot 2025-07-28 at 13.33.59.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1168x582\" src=\"/user_uploads/thumbnail/3121/U6aP0ZVkdTnHbGGeXea_1so8/Screenshot-2025-07-28-at-13.33.59.png/840x560.webp\"></a></div><p>in a (concrete) abelian category, with exact rows, I'd like to define the dotted morphism by \"given <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span></span></span></span>, randomly pull back to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi><mo>∈</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">b\\in B</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span>, push down to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>E</mi></mrow><annotation encoding=\"application/x-tex\">E</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span></span></span></span> and then along to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span>, and this is well-defined because if I choose another <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> the difference is in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span></span></span></span> which dies by the time it gets to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">F</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span> because <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mo>→</mo><mi>E</mi><mo>→</mo><mi>F</mi></mrow><annotation encoding=\"application/x-tex\">D\\to E\\to F</annotation></semantics></math></span><span aria-hidden=\"true\" class=\"katex-html\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">E</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span></span></span></span> is the zero map\", and I'd like to know that the square with the dotted side is commutative.</p>\n<p>Is this the sort of thing we just have machinery for nowadays? I have formalized it as <code>top</code> and <code>bottom : ShortComplex C</code> and the hypothesis <code>Epi (top.g)</code> but I am flexible, I just don't want to do the diagram chase myself if it's already there, but I have no real idea about how to search for it. Loogling for <code>CategoryTheory.Epi, CategoryTheory.ShortComplex</code> gave me 123 results and the first few did not look like what I wanted.</p>",
        "id": 531358774,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1753706342
    },
    {
        "content": "<p>If I'm not mistaken this should follow from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.ShortComplex.Exact.desc#doc\">docs#CategoryTheory.ShortComplex.Exact.desc</a></p>",
        "id": 531361720,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1753707083
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">universe</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"n\">v</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">CategoryTheory</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preadditive</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Balanced</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">top</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ShortComplex</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">bot</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ShortComplex</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">top_exact</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">Exact</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Epi</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">hom1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">X₁</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">X₁</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">hom2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">X₂</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">X₂</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">comm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommSq</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">hom1</span><span class=\"w\"> </span><span class=\"n\">hom2</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">f</span><span class=\"o\">)</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">hom3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">X₃</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">X₃</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">top_exact</span><span class=\"bp\">.</span><span class=\"n\">desc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hom2</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">assoc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">comm</span><span class=\"bp\">.</span><span class=\"n\">w</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">assoc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">zero</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Limits</span><span class=\"bp\">.</span><span class=\"n\">comp_zero</span><span class=\"o\">]</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">hom3_comm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommSq</span><span class=\"w\"> </span><span class=\"n\">top</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">hom2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hom3</span><span class=\"w\"> </span><span class=\"n\">top_exact</span><span class=\"w\"> </span><span class=\"n\">comm</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">w</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">top_exact</span><span class=\"bp\">.</span><span class=\"n\">g_desc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hom2</span><span class=\"w\"> </span><span class=\"bp\">≫</span><span class=\"w\"> </span><span class=\"n\">bot</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>",
        "id": 531370937,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753709413
    },
    {
        "content": "<p>Thanks, yes, this will surely do. Somehow the more general question is how one can search for such a result without having to ask here, but right now I'm just happy I can proceed :-)</p>",
        "id": 531421037,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1753723406
    },
    {
        "content": "<p>I did loogle and it gave me what I wanted</p>",
        "id": 531424968,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753724719
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> CategoryTheory.ShortComplex.Exact, |- _ ⟶ _</p>",
        "id": 531425121,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753724769
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Homology/ShortComplex/Exact.html#CategoryTheory.ShortComplex.Exact.desc\">CategoryTheory.ShortComplex.Exact.desc</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Homology/ShortComplex/Exact.html#CategoryTheory.ShortComplex.Exact.lift\">CategoryTheory.ShortComplex.Exact.lift</a>, and <a href=\"https://loogle.lean-lang.org/?q=CategoryTheory.ShortComplex.Exact%2C%20%7C-%20_%20%E2%9F%B6%20_\">2 more</a></p>",
        "id": 531425124,
        "sender_full_name": "loogle",
        "timestamp": 1753724770
    },
    {
        "content": "<p>first result :)</p>",
        "id": 531425146,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753724775
    },
    {
        "content": "<p>Aah I see, I should demand that the answer is a morphism. I see I also didn't ask for exactness in my attempt.</p>",
        "id": 531425754,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1753724981
    },
    {
        "content": "<p>The first line can be understood as a \"colimit cokernel cofork\" (<code>C</code> is the cokernel of the map from <code>A</code> to <code>B</code>). Then, the map from <code>C</code> can be constructed using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Limits.CokernelCofork.IsColimit.desc%27#doc\">docs#CategoryTheory.Limits.CokernelCofork.IsColimit.desc'</a> (or by applying directly <code>IsColimit.desc</code>, which is what <code>ShortComplex.Exact.desc</code> does).<br>\n(One difficulty with the formalization of homological algebra is that there are many different ways to state properties of diagrams.)</p>",
        "id": 531554527,
        "sender_full_name": "Joël Riou",
        "timestamp": 1753780174
    }
]