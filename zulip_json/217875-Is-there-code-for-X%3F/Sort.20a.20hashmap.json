[
    {
        "content": "<p>I have a hashmap <code>map : Std.HashMap ℕ α</code> that has entries for all the keys up to a certain value, and I want to get an <code>sorted : Array α</code> out of this, such that <code>sorted[n]? = map[n]?</code> Is there an easy way to do this without converting the hashmap into a list, sorting it by the keys, and extracting the values?</p>",
        "id": 516324040,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746493283
    },
    {
        "content": "<p>I would do it using <code>Array.ofFn</code></p>",
        "id": 516324526,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1746493530
    },
    {
        "content": "<p>I just figured out I can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Array.toFn#doc\">docs#Array.toFn</a> to do this, but I'm still looking for other solutions in case any are better.</p>",
        "id": 516324535,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746493534
    },
    {
        "content": "<p>it doesn't seem like a very generalizable operation, so I don't see a big motivator to do better than ofFn (which I think is asymptotically optimal assuming you can work out the issues with proving lookups don't fail)</p>",
        "id": 516324714,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1746493622
    },
    {
        "content": "<p>I think I'll just use <code>map[n]!</code></p>",
        "id": 516324760,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746493646
    },
    {
        "content": "<p>if you had a tree map then this would just be <code>map.valuesArray</code></p>",
        "id": 516539362,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1746568342
    },
    {
        "content": "<p>although with a tree map suddenly lookups are <code>O(log n)</code> rather than the average <code>O(1)</code> for hash maps</p>",
        "id": 516539814,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1746568574
    }
]