[
    {
        "content": "<p>When working with multivariate polynomials or multivariate power series, it is often necessary to consider the sum of all terms of a finitely supported function <code>d : I -&gt; Nat</code>, and to know basic things such as the fact as the sum is 0 if and only if <code>d = 0</code>.<br>\nObviously, most definitions and results apply when <code>Nat</code> is replaced by a reasonable AddCommMonoid…<br>\nThe theory of degree of polynomials contains <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MvPolynomial.weightedDegree#doc\">docs#MvPolynomial.weightedDegree</a> which <br>\nshould probably be accessible in another file, under another name…</p>\n<p>Any idea of where to put it and in what generality?</p>",
        "id": 452335620,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1721306941
    },
    {
        "content": "<p>Can't you simply write <code>∑ i, d i</code>?</p>",
        "id": 452336738,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721307272
    },
    {
        "content": "<p>I certainly can, but my experience is that for some proofs, that makes it simpler to have a name for this function of <code>d</code>. (Some mathematicians would write it <code>|d|</code>.)</p>",
        "id": 452337368,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1721307422
    },
    {
        "content": "<p>Do we not have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.sum#doc\">docs#Finsupp.sum</a> ?</p>",
        "id": 452337383,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1721307425
    },
    {
        "content": "<p>Using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.sum#doc\">docs#Finsupp.sum</a>, one has to type <code>d.sum (fun _ =&gt; id)</code> every time, which is relatively unappealing.</p>",
        "id": 452337497,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1721307462
    },
    {
        "content": "<p>I think this is a case where you should just have local notation, eg <code>|d|</code></p>",
        "id": 452339723,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1721308115
    },
    {
        "content": "<p>Updating <code>Mathlib.RingTheory.MvPolynomial.WeightedHomogeneous</code> to use such a local notation (that needs to be used elsewhere; probably a <code>scoped notation</code>is possible, but in what scope?) looks frightening to me…</p>",
        "id": 452340910,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1721308428
    },
    {
        "content": "<p><code>Finsupp.total _ _ _ 1 d</code> also works, and there is quite an API for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.total#doc\">docs#Finsupp.total</a>, but these three underscores are also annoying.</p>",
        "id": 452342557,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1721308785
    }
]