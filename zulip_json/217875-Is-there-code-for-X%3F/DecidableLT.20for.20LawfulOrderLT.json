[
    {
        "content": "<p>Am I right in saying we don't have this instance? Is there a reason why?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Std</span><span class=\"bp\">.</span><span class=\"n\">LawfulOrderLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableLE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">DecidableLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">decidable_of_iff'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">Std</span><span class=\"bp\">.</span><span class=\"n\">LawfulOrderLT</span><span class=\"bp\">.</span><span class=\"n\">lt_iff</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>(Presumably it could go in Std but if that was not wanted, surely it at least has a place in Batteries?)</p>",
        "id": 544320760,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760188632
    },
    {
        "content": "<p>This is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.FactoryInstances.decidableLTOfLE#doc\">docs#Std.FactoryInstances.decidableLTOfLE</a>. It doesn't make sense as a global instance because there might be a more efficient implementation of <code>DecidableLT</code> that you want to use instead.</p>\n<p>The way this is supposed to work is that you define your type, and then use something like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.LinearPreorderPackage.ofLE#doc\">docs#Std.LinearPreorderPackage.ofLE</a> to provide all of the order instances at once. At this point you can choose which of the function you want to provide with custom, efficient implementations, and all of the data that you choose not to provide yourself is filled using things like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Std.FactoryInstances.decidableLTOfLE#doc\">docs#Std.FactoryInstances.decidableLTOfLE</a>.</p>",
        "id": 544321349,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1760189201
    },
    {
        "content": "<p>Got it, makes sense.</p>",
        "id": 544321407,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760189264
    },
    {
        "content": "<p>And then <code>decide (a &lt; b) = decide (a &lt;= b) || !decide (b &lt;= a)</code> is either a theorem somewhere or just a simple consequence of others.</p>",
        "id": 544321571,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760189420
    },
    {
        "content": "<p>(i.e. when you have both decidability instances and it is lawful, you can prove that the decidability is compatible in this way)</p>",
        "id": 544321606,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760189447
    },
    {
        "content": "<p>Yes, something like this (I had to change your statement a bit, is this what you meant?):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Std</span><span class=\"bp\">.</span><span class=\"n\">LawfulOrderLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableLT</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DecidableLE</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&amp;&amp;</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Std</span><span class=\"bp\">.</span><span class=\"n\">LawfulOrderLT</span><span class=\"bp\">.</span><span class=\"n\">lt_iff</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 544321899,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1760189647
    },
    {
        "content": "<p>Yes, it is :)</p>",
        "id": 544321915,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760189660
    },
    {
        "content": "<p>One could argue that might be worthwhile as a theorem somewhere but it's much of a muchness. Thanks!</p>",
        "id": 544321937,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760189690
    }
]