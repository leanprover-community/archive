[
    {
        "content": "<p>Is there code for the shortlex order on lists hidden anywhere? </p>\n<p>I have a well-founded relation on some type α and want to get a well-founded relation over List α (I want to show termination of a function of type List α \\to List α). This function re-writes lists, but does not change the length of the input list.</p>",
        "id": 490392769,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1734877369
    },
    {
        "content": "<p>If the length remains constant maybe you can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Pi.Lex.wellFounded#doc\">docs#Pi.Lex.wellFounded</a> ? I don't think there's shortlex anywhere</p>",
        "id": 490393416,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1734877870
    },
    {
        "content": "<p>would <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.Lex#doc\">docs#List.Lex</a> help here? I think that might be the shortlex order...</p>",
        "id": 490411145,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734894166
    },
    {
        "content": "<p>actually it looks like Mathlib already defines a LinearOrder instance on Lists using shortlex: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.instLinearOrder#doc\">docs#List.instLinearOrder</a></p>",
        "id": 490411524,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734894493
    },
    {
        "content": "<p>Alas, the lexicographic ordering of lists is not well-founded. I’ll<br>\ndefinitely use that in the definition of shortlex, though!</p>",
        "id": 490411569,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1734894546
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"380294\">Matt Diamond</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/shortlex.20order/near/490411524\">said</a>:</p>\n<blockquote>\n<p>actually it looks like Mathlib already defines a LinearOrder instance on Lists using shortlex: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.instLinearOrder#doc\">docs#List.instLinearOrder</a></p>\n</blockquote>\n<p>I'm not sure I see shortlex being used here - looks like a regular lexicographic ordering on lists? But I well could be missing it!</p>",
        "id": 490412795,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1734895680
    },
    {
        "content": "<p>No, I think I might be confused about what shortlex is</p>",
        "id": 490412855,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734895724
    },
    {
        "content": "<p>ah okay! yeah it basically just compares lists first based on length, and then moves to the lexicographic ordering in the case where the lists have the same length</p>",
        "id": 490412898,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1734895773
    },
    {
        "content": "<p>hm... I mean I think that's what's going on here? in fact it looks like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.lt#doc\">docs#List.lt</a> is doing the same thing</p>",
        "id": 490412990,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734895827
    },
    {
        "content": "<p>what aspect of the description you gave doesn't match the code you're seeing?</p>",
        "id": 490413019,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734895861
    },
    {
        "content": "<p>it seems to me like <code>List.lt</code> and <code>List.Lex</code> result in shorter lists being ordered prior to longer ones, with equal length lists being compared lexicographically</p>",
        "id": 490413204,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734896028
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/shortlex.20order/near/490393416\">said</a>:</p>\n<blockquote>\n<p>If the length remains constant maybe you can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Pi.Lex.wellFounded#doc\">docs#Pi.Lex.wellFounded</a> ? I don't think there's shortlex anywhere</p>\n</blockquote>\n<p>Thanks! I think it will be worth it for me to implement shortlex, and I'll have that proof to look at as a model!</p>",
        "id": 490413276,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1734896077
    },
    {
        "content": "<p>oh wait, hmm... I think I get it</p>",
        "id": 490413316,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734896145
    },
    {
        "content": "<p>okay I see where I was wrong</p>",
        "id": 490413320,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734896153
    },
    {
        "content": "<p>I understand now, sorry for the confusion!</p>",
        "id": 490413372,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1734896166
    },
    {
        "content": "<p>all good!</p>",
        "id": 490939457,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1735267711
    },
    {
        "content": "<p>I've gotten shortlex defined, and shown that the shortlex ordering of lists is well-founded if the underlying relation is :) Hopefully will PR tomorrow or Sunday - I think it will be a nice way to show termination of some re-writing functions</p>",
        "id": 490939532,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1735267795
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/20310\">#20310</a>  :)</p>",
        "id": 491145847,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1735447289
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"622371\">@Hannah Fechtner</span>, just checking in on your shortlex PR. This is great -- I'd like to see this in! There are comments on the PR about proving some of the statements from more general facts about lexicographic order on pairs. Do these seem reasonable?</p>",
        "id": 494775249,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1737369633
    },
    {
        "content": "<p>eminently reasonable! I hope to get to those tomorrow, Sunday at the latest (my apologies for the delay. I can at least now share that when getting a new laptop, one must tell VSCode to autosave, or of course git won't recognize any changes being made!)</p>",
        "id": 495185118,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1737513191
    }
]