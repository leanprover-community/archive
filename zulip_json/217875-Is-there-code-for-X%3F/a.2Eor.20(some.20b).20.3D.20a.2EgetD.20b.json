[
    {
        "content": "<p>What it says in the title.</p>",
        "id": 472785093,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727304750
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"bp\">.</span><span class=\"n\">or_some_right</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">.</span><span class=\"n\">getD</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>",
        "id": 472785121,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727304773
    },
    {
        "content": "<p>Probably could just be called <code>or_some</code>.</p>",
        "id": 472793148,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727310911
    },
    {
        "content": "<p>But yes, seems plausible. I guess we already have simp lemmas for the other three cases?</p>",
        "id": 472793165,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727310942
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Option.or_some#doc\">docs#Option.or_some</a> is already a different lemma</p>",
        "id": 472793172,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727310947
    },
    {
        "content": "<p>Yep, we seem to have the other three</p>",
        "id": 472793239,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727310991
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Option.none_or#doc\">docs#Option.none_or</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Option.or_none#doc\">docs#Option.or_none</a></p>",
        "id": 472793250,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727311005
    },
    {
        "content": "<p>Ugh, okay <code>or_some</code> should be renamed to <code>some_or</code>, and then your suggestion can become <code>some_or</code>.</p>",
        "id": 472793366,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727311100
    },
    {
        "content": "<p>Would you be able to PR that?</p>",
        "id": 472793370,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727311106
    },
    {
        "content": "<p>Sure, just give me a couple of hours</p>",
        "id": 472793378,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727311118
    },
    {
        "content": "<p>(I also still have to PR the <code>pmap</code> lemma)</p>",
        "id": 472793381,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727311123
    },
    {
        "content": "<p>If we wanted to be really conservative we would first rename <code>or_some</code>, add a deprecation, and then only add the new lemma (at least) one release later.</p>",
        "id": 472793411,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727311150
    },
    {
        "content": "<p>Actually, lets do that...</p>\n<p>If you could do the rename, but for now add the new lemma as <code>or_some'</code>, with a doc-string saying that it will be renamed to <code>or_some</code> once the existing deprecation is removed.</p>",
        "id": 472793436,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727311197
    },
    {
        "content": "<p>Painful, I realise. :-)</p>",
        "id": 472793488,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727311208
    },
    {
        "content": "<p>Thank you!</p>",
        "id": 472793503,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1727311219
    },
    {
        "content": "<p>To remember about removing the prime, you could add an (untested) <code>assert_exists Option.or_some</code> next to <code>or_some'</code> so that once the deprecated lemma is removed, you'll get a warning.</p>",
        "id": 472812563,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1727325111
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/5926\">#5926</a></p>",
        "id": 480250623,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1730581836
    },
    {
        "content": "<p>Is <code>alias</code> not available in core?</p>",
        "id": 480252427,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1730583700
    },
    {
        "content": "<p>(also, how do I link a core PR?)</p>",
        "id": 480253836,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1730585165
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/5926\">lean4#5926</a></p>",
        "id": 480253959,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1730585307
    },
    {
        "content": "<p>alias is from batteries</p>",
        "id": 480253965,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1730585317
    }
]