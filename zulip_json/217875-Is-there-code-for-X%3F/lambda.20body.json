[
    {
        "content": "<p>Like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Expr.getForallBody#doc\">docs#Lean.Expr.getForallBody</a> but for lambda expressions (I'm not in <code>MetaM</code>)</p>",
        "id": 519130733,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747665112
    },
    {
        "content": "<p><code>if let .lam _ _ _ _ := e then _ else _</code>?</p>",
        "id": 519134093,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747665782
    },
    {
        "content": "<p>i have noticed that a bunch of these meta functions only have <code>forall</code> and <code>let</code> versions, but never <code>lambda</code>...</p>",
        "id": 519137228,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1747666399
    },
    {
        "content": "<p>depending on your usecase, there can be different ways around this.</p>",
        "id": 519137500,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1747666449
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/lambda.20body/near/519134093\">said</a>:</p>\n<blockquote>\n<p><code>if let .lam _ _ _ _ := e then _ else _</code>?</p>\n</blockquote>\n<p>If you have a <code>fun a b =&gt; body</code> this gives <code>fun b =&gt; body</code> but I want <code>body</code></p>",
        "id": 519142473,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747667430
    },
    {
        "content": "<p>I think there used to be a function like that hanging around in Lean.Elab.Structure/StructInst, but it got refactored away. It's easy enough to make a custom one for your own metaprogram.</p>\n<p>(Can I ask what you're wanting this for?)</p>",
        "id": 519146370,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1747668257
    },
    {
        "content": "<p>Oh right, I saw another copy of this function recently, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Meta.AbstractNestedProofs.getLambdaBody#doc\">docs#Lean.Meta.AbstractNestedProofs.getLambdaBody</a></p>",
        "id": 519146438,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1747668277
    },
    {
        "content": "<p>I'd imagine a PR moving this function into Lean.Expr wouldn't be unwelcome.</p>",
        "id": 519146600,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1747668317
    }
]