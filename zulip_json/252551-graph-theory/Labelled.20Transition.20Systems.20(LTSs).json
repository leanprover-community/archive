[
    {
        "content": "<p>Hi all,<br>\n<span class=\"user-mention\" data-user-id=\"580947\">@Rida Hamadani</span> made me aware that the graph angle might be relevant to this discussion: <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Labelled.20Transition.20Systems.20.28LTS.29/with/524255270\">#mathlib4 &gt; Labelled Transition Systems (LTS)</a> </p>\n<p>An LTS is essentially a very relaxed labelled digraph (potentially infinitely-many nodes, potentially nondeterministic edge relation, potentially infinitely-many edges between two nodes, etc.), as in:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">LTS</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Label</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">tr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Label</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span>\n</code></pre></div>\n<p>I've received quite a few messages (both in the thread and privately), and I'm still uncertain as to whether this should go into mathlib or not. (Potentially with some renamings and added theorems to integrate it with what's already in graph theory or 'Computability'.)</p>\n<p>If you're interested in this kind of stuff, please feel free to read the first and last message currently in the thread and pitch in. :)</p>",
        "id": 524660832,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750237566
    },
    {
        "content": "<p>I think this definition should go into the cslib library mentioned in that discussion, but graph theory used to prove things about it should use mathlib's language and PR'd into mathlib</p>",
        "id": 524661301,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1750237709
    },
    {
        "content": "<p>That for sure. I guess my main question is whether there's interest for a 'labelled digraph' structure or not.</p>",
        "id": 524662042,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750237947
    },
    {
        "content": "<p>(digraph with labelled edges)</p>",
        "id": 524662085,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750237961
    },
    {
        "content": "<p>(or whether it's already defined somewhere and I'm not seeing it..?)</p>",
        "id": 524662588,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750238111
    },
    {
        "content": "<p>I think there is interest in porting <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SimpleGraph.Walk.edges#doc\">docs#SimpleGraph.Walk.edges</a> onto <code>Digraph</code>s</p>",
        "id": 524663292,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1750238355
    },
    {
        "content": "<p>As for labelling the edges of a <code>Digraph</code> instead of a walk, I don't think it deserves a separate structure because it is too simple, unless there is a good reason (ex. using it a lot in some result). Something like this would work:<br>\n<code>Fin G.edgeSet.card -&gt; G.edge</code></p>",
        "id": 524663860,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1750238555
    },
    {
        "content": "<p>Ah, I see! That might be distinguishing point between mathlib and a cslib. (In CS, it is used really a lot and having the familiar terminology is valuable.)</p>\n<p>(I have walk for labelled Digraphs btw, it'd just require some terminology change from LTS to graph theory: <a href=\"https://github.com/fmontesi/mathlib4/blob/fc52687d660778ccd62c42b1f70a412e38918bd7/Mathlib/Computability/LTS/Basic.lean#L72\">https://github.com/fmontesi/mathlib4/blob/fc52687d660778ccd62c42b1f70a412e38918bd7/Mathlib/Computability/LTS/Basic.lean#L72</a>)</p>",
        "id": 524664441,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750238756
    },
    {
        "content": "<p><code>Fin G.edgeSet.card -&gt; G.edge</code> Is G a SimpleGraph here?</p>",
        "id": 524664522,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750238784
    },
    {
        "content": "<p>I mean <code>G</code> to be a <code>Digraph</code>, but I think <code>edgeSet</code> hasn't been ported onto digraphs yet</p>",
        "id": 524664673,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1750238830
    },
    {
        "content": "<p>Would that allow for self-loops and non-symmetric edges?</p>",
        "id": 524664793,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750238873
    },
    {
        "content": "<p>Yes</p>",
        "id": 524664843,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1750238892
    },
    {
        "content": "<p>Nice, I'll keep an eye on the development of DiGraph, maybe in the future I'll be able to use it a bit more for our purposes. :)</p>",
        "id": 524665340,
        "sender_full_name": "Fabrizio Montesi",
        "timestamp": 1750239059
    }
]