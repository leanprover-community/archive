[
    {
        "content": "<p>I remember reading discussion about this, but I cannot find it on Zulip. Can someone help me find it?</p>",
        "id": 562583391,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765242428
    },
    {
        "content": "<p>The title reminds me of <a class=\"message-link\" href=\"/#narrow/channel/252551-graph-theory/topic/.28Undirected.29.20hypergraphs/near/534271715\">#graph theory &gt; (Undirected) hypergraphs @ ðŸ’¬</a>  but idk if that's what you meant</p>",
        "id": 562584347,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765243257
    },
    {
        "content": "<p>In the definition of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Graph#doc\">docs#Graph</a>, there's <code>vertexSet</code> and <code>edgeSet</code>. I think the other idea was to not have them, in other words basically assume that vertexSet/edgeSet are Set.univ.</p>",
        "id": 562584516,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765243401
    },
    {
        "content": "<p>Oh, maybe I should just look at the commit history for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Graph#doc\">docs#Graph</a>.</p>",
        "id": 562584575,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765243440
    },
    {
        "content": "<p>Ah, yes, I found it.<br>\n<a class=\"stream-topic\" data-stream-id=\"252551\" href=\"/#narrow/channel/252551-graph-theory/topic/What.20kind.20of.20graphs.20are.20in.20Mathlib.20already.3F/with/516191033\">#graph theory &gt; What kind of graphs are in Mathlib already?</a> <br>\n<a class=\"stream-topic\" data-stream-id=\"144837\" href=\"/#narrow/channel/144837-PR-reviews/topic/.2324122.20Multigraphs/with/518138338\">#PR reviews &gt; #24122 Multigraphs</a></p>",
        "id": 562585150,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765243899
    },
    {
        "content": "<p>btw in case you missed it: <a href=\"https://github.com/leanprover-community/mathlib4/pull/31120#issuecomment-3562965722\">https://github.com/leanprover-community/mathlib4/pull/31120#issuecomment-3562965722</a></p>",
        "id": 562594408,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765251236
    },
    {
        "content": "<p>I guess this means refactoring <code>SimpleGraph</code> to use a <code>Set</code></p>",
        "id": 562594474,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765251284
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/252551-graph-theory/topic/Set.20in.20definition.20of.20Graph/near/562594474\">said</a>:</p>\n<blockquote>\n<p>I guess this means refactoring <code>SimpleGraph</code> to use a <code>Set</code></p>\n</blockquote>\n<p>Well, this already exists as <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Graph#doc\">docs#Graph</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SimpleGraph.Subgraph#doc\">docs#SimpleGraph.Subgraph</a>.</p>",
        "id": 562678044,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765285305
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@YaÃ«l Dillies</span> <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span>, do you mind elaborating on the github comment linked above?</p>",
        "id": 562762451,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1765304082
    },
    {
        "content": "<p>The idea would be to switch to the sort of <code>SimpleGraph</code> definition <span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> wrote in <a href=\"https://github.com/google-deepmind/formal-conjectures/pull/296\">google-deepmind/formal-conjectures#296</a>, and then subgraphs can have the same type as graphs</p>",
        "id": 562762928,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1765304189
    },
    {
        "content": "<p>Essentially the definition that we'd discussed privately in the past, Peter!</p>",
        "id": 562764022,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1765304489
    },
    {
        "content": "<p>This doesn't solve the problem of contractions though, right? You could go even further and have an equivalence relation on <code>V</code> as well, with two terms of type V equivalent meaning \"these are the same vertex\" and adjacency behaving well wrt this equivalence relation. Then you can contract, delete and add edges to your heart's content.</p>",
        "id": 562764896,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765304732
    },
    {
        "content": "<p>We've experimented with that, Kevin, and it seems to be a pain. You have this explicit equivalence relation that needs to carry forward to structure definitions such as walks/paths, and you have to pay enough attention to the equivalence relation explicitly that it becomes a large cognitive load. As I expressed in the other topic, I am leaning more towards the idea the 'retraction' point of view is best for minors.</p>",
        "id": 562765718,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1765304943
    },
    {
        "content": "<p>Yes, I remember messing around with this a while ago. My various attempts at quotienting the vertex set led to subtype hell, and it came out much nicer to just track the equivalence relation explicitly, without changing the underlying types... I think my latest attempt was here: <a class=\"message-link\" href=\"/#narrow/channel/116395-maths/topic/Graph.20Minors/near/527806742\">#maths &gt; Graph Minors @ ðŸ’¬</a>  which was already a while ago... Has there been any progress since then?</p>",
        "id": 562800228,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1765314871
    },
    {
        "content": "<p>Oh this vertex set thing? I recall offering to make the PR six months ago on discord but <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> said it wasnâ€™t likely to get a timely review at that time.</p>",
        "id": 562811636,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1765318776
    },
    {
        "content": "<p>I wanted it partly because we were working on Bergeâ€™s lemma and it was frustrating to coerce subgraphs to SimpleGraph.</p>",
        "id": 562811758,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1765318822
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/252551-graph-theory/topic/Set.20in.20definition.20of.20Graph/near/562762928\">said</a>:</p>\n<blockquote>\n<p>The idea would be to switch to the sort of <code>SimpleGraph</code> definition <span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> wrote in <a href=\"https://github.com/google-deepmind/formal-conjectures/pull/296\">google-deepmind/formal-conjectures#296</a>, and then subgraphs can have the same type as graphs</p>\n</blockquote>\n<p>Sounds good, btw do you think there's a good way to incorporate <a href=\"https://github.com/leanprover-community/mathlib4/pull/4127\">#4127</a> into this? (a <code>HasAdj</code> typeclass + instances for <code>Digraph</code> and <code>SimpleGraph</code>)<br>\nAlso do you have a timeline in mind? Or are you looking for people to take this on? (no pressure)</p>",
        "id": 562818563,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765321454
    },
    {
        "content": "<p>Right now, all my refactoring energy is spent on monoid algebras in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25273\">#25273</a>. You should feel free to take this refactor on.</p>",
        "id": 562886926,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1765352816
    },
    {
        "content": "<p>The <code>HasAdj</code> design is not fleshed out enough that we can use it, and IMO it is more or less orthogonal to making simple graphs supported on a set. Therefore I'd say \"don't worry about it\"</p>",
        "id": 562887199,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1765352921
    },
    {
        "content": "<p>What's the status of this potential refactor, did anyone (start to) take it on?</p>",
        "id": 575825974,
        "sender_full_name": "Alena Gusakov",
        "timestamp": 1772039106
    },
    {
        "content": "<p>I have a pr to offer for adoption <a href=\"https://github.com/leanprover-community/mathlib4/pull/33466\">#33466</a> that was passing CI as of yesterday</p>",
        "id": 575827565,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772039500
    },
    {
        "content": "<p>The review comments need to be addressed and the proofs and instances golfed</p>",
        "id": 575827686,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772039526
    },
    {
        "content": "<p>This adds vertex sets to Digraph.</p>",
        "id": 575827760,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772039547
    }
]