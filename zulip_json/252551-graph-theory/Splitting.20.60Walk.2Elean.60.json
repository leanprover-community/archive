[
    {
        "content": "<p>It's about time to <a href=\"https://github.com/leanprover-community/mathlib4/blob/4055dfea0311fa984f3b4eaa629c12220ff0a03a/Mathlib/Combinatorics/SimpleGraph/Walk.lean#L36\">split <code>Walk.lean</code></a> as it's <a href=\"#narrow/channel/287929-mathlib4/topic/long.20files/near/553299014\">one of the longest files in Mathlib</a>.<br>\nThoughts on how?</p>\n<p>We can do <code>Walks/Defs.lean</code> and <code>Walks/Basic.lean</code>, but this kinda hurts definitions which rely on theorems.</p>\n<p>Here's my suggestion:</p>\n<ul>\n<li><code>Basic.lean</code> just for the basic definitions and theorems about them, without modifying the walks: <code>Walk</code>, <code>Nil</code>, <code>length</code>, <code>getVert</code>, <code>support</code>, <code>darts</code>, <code>edges</code>, <code>edgeSet</code>, <code>snd</code>, <code>penultimate</code>, <code>firstDart</code>, <code>lastDart</code></li>\n<li><code>WalkDecomp.lean</code>: this is an existing file that should be moved into the new <code>Walks</code> folder. it defines <code>takeUntil</code>, <code>dropUntil</code>, <code>rotate</code></li>\n<li><code>Operations.lean</code>: similar to the existing <code>WalkDecomp.lean</code>, this will define operations on walks: <code>copy</code>, <code>append</code>, <code>concat</code>, <code>reverse</code>, <code>take</code>, <code>drop</code>, <code>tail</code>, <code>dropLast</code>. The name of the file matches <code>SimpleGraph/Operations.lean</code> which defines operations on graphs.</li>\n<li><code>Maps.lean</code>: Operations that map the walk to another graph: <code>map</code>, <code>mapLe</code>, <code>transfer</code>, <code>induce</code>, <code>toDeleteEdges</code>, <code>toDeleteEdge</code>. The name of the file matches <code>SimpleGraph/Maps.lean</code> which defines similar maps on graphs.</li>\n<li><code>Subwalks.lean</code>: the definition of <code>IsSubwalk</code> and theorems about it</li>\n<li><code>Paths.lean</code>: this is an existing file that should be moved into the new <code>Walks</code> folder. it defines types of walks: trails, circuits, cycles. I also suggest renaming it, maybe to <code>Kinds.lean</code> or <code>Types.lean</code> or <code>Predicates.lean</code>.</li>\n</ul>\n<p>Wdyt?</p>",
        "id": 554508845,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1762633999
    },
    {
        "content": "<p>Since no one else has commented: let me say that having seen this file drift back and forth across the long file linter limit multiple times, I am very glad that you've started work on this and would happy to approve almost any reasonable split. I would recommend moving / renaming <code>Paths.lean</code> in a separate PR from the one that splits <code>Walk.lean</code> though.</p>",
        "id": 555017260,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1762911353
    },
    {
        "content": "<p>Split PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/31573\">#31573</a></p>",
        "id": 555241866,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1762990451
    },
    {
        "content": "<p>Can we actually define Walk on Subgraphs in general and specialize it to a graph later. I am beginning to find in my Berge lemma formalisation that defining everything on subgraphs is way more convenient.</p>",
        "id": 555386381,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1763047515
    },
    {
        "content": "<p>The idea is that when you want to talk about a simple graph, you just talk about its trivial subgraph (every edge and vertex included)</p>",
        "id": 555386810,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1763047621
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/252551-graph-theory/topic/Splitting.20.60Walk.2Elean.60/near/555386810\">said</a>:</p>\n<blockquote>\n<p>The idea is that when you want to talk about a simple graph, you just talk about its trivial subgraph (every edge and vertex included)</p>\n</blockquote>\n<p>Is it related to the topic? In general I agree that subgraphs vs regular graphs are awkward, but maybe moving to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Graph#doc\">docs#Graph</a> is the solution (and deprecating SimpleGraph). Knowing that two graphs have the same vertex set is probably not necessary for most theorems, so <code>SimpleGraph</code> should be the special case rather than the main API</p>",
        "id": 555395659,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1763049584
    },
    {
        "content": "<p>I was hoping we could have a subgraph definition of walk</p>",
        "id": 555399023,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1763050394
    },
    {
        "content": "<p>and use my suggestion to extend it to graphs</p>",
        "id": 555399072,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1763050404
    },
    {
        "content": "<p>Can you create another thread to discuss it?</p>",
        "id": 555402142,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1763051180
    },
    {
        "content": "<p>I just had look through <a href=\"https://github.com/leanprover-community/mathlib4/pull/31573\">#31573</a> and the split looks very sensible to me. </p>\n<p>You mention also possibly splitting off the <code>getVert</code> material from <code>Basic.lean</code> and I think that would be great too!</p>",
        "id": 558288445,
        "sender_full_name": "John Talbot",
        "timestamp": 1763581325
    },
    {
        "content": "<p>Leaving a comment like that as a review on the PR would be appreciated!</p>",
        "id": 558289562,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1763581748
    },
    {
        "content": "<p>Walk is now split <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span><br>\n(sorry for the merge conflicts)</p>",
        "id": 560174841,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1764082160
    }
]