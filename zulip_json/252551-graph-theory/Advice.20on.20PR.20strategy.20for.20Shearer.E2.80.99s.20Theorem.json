[
    {
        "content": "<p>A few months ago I made a <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Convexity.20of.20a.20specific.20function/with/528837110\">post</a> about Shearer's Theorem (the main theorem from this (<a href=\"https://doi.org/10.1016/0012-365X(83)90273-X\">https://doi.org/10.1016/0012-365X(83)90273-X</a>)). One of my motivations was to formally prove one of my own results (which I have now done <a href=\"https://github.com/Pjotr5/ShearerTriangleFreeInd\">https://github.com/Pjotr5/ShearerTriangleFreeInd</a>). Another motivation was to contribute to Mathlib. I would like some advice on how to go about this.</p>\n<p>I made PR (<a href=\"https://github.com/leanprover-community/mathlib4/pull/27155\">https://github.com/leanprover-community/mathlib4/pull/27155</a>) with my formalization of Shearer's Theorem, but I realize now that many parts of it should probably go to different parts of Mathlib and thus that it is probably a better idea to start splitting this thing up in many smaller PRs (which I was already advised to do anyway). This will also make it easier for me to get the code up to Mathlib standards and for reviewers to potentially help me. Some questions.</p>\n<ol>\n<li>\n<p>I define the average degree of a graph <br>\n<code>noncomputable def averageDegree {V : Type} [Fintype V] (G : SimpleGraph V) := ùîº v, (G.degree v : ‚Ñö)</code><br>\n    This is a fairly common notion in Graph Theory and thus I guess should go to its own place in Mathlib. Should this get its own file in Mathlib and if so, are people happy with this definition?</p>\n</li>\n<li>\n<p>The proof involves the analysis of a specific function:</p>\n</li>\n</ol>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span>\n<span class=\"w\">          </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">2</span>\n<span class=\"w\">          </span><span class=\"k\">else</span><span class=\"w\">          </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span>\n</code></pre></div>\n<p>To analyse thise function I proved some analysis Lemmas that are maybe too specific to go to their own place in Mathlib. For example I proved </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">frequently_deriv_eq_zero_of_frequently_eq_zero</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">}</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hDer</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ·∂†</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">nhds</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HasDerivAt</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hgZero</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ·∂†</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">}</span><span class=\"bp\">·∂ú</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"bp\">‚àÉ·∂†</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">}</span><span class=\"bp\">·∂ú</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>Or: it was very useful for me to prove a lemma proving the continuity of functions such as F at their removable singularity where the order of the zero in the denominator and numerator is possibly greater than one. I found a following \"list\" version of repeatedly applying L'Hopital most useful: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">lhopital_iterated</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ns</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">))</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hnslen</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ns</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hdslen</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hnDer</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ·∂†</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">nhds</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HasDerivAt</span><span class=\"w\"> </span><span class=\"n\">ns</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ns</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hdDer</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ·∂†</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">nhds</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HasDerivAt</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hnZero</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">ns</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hdZero</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hnCont</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContinuousAt</span><span class=\"w\"> </span><span class=\"n\">ns</span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hdCont</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ContinuousAt</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">hdFinal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">            </span><span class=\"n\">ContinuousAt</span>\n<span class=\"w\">                </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">                  </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ns</span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">                  </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ns</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ds</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">))</span>\n<span class=\"w\">                </span><span class=\"n\">x</span>\n</code></pre></div>\n<p>Or even more specific something like the following argument came up so many times that I gave it its own name:</p>\n<div class=\"codehilite\"><pre><span></span><code>    `lemma pos_of_dist_one_lt_one (hx : dist x 1 &lt; 1) : 0 &lt; x`\n</code></pre></div>\n\n<p>What should generally be done with lemmas like this?</p>\n<ol start=\"3\">\n<li>There are definitions that are very specific to this particular problem. For example I define the numerator and its derivatives of the above function F (in         a noncomputable section):</li>\n</ol>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">nF‚ÇÄ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">        </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">nF‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"w\">        </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">nF‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"n\">x</span>\n</code></pre></div>\n<p>Is it okay to define things like this in a particular file that are only relevant for the proof of the statement in that file or should something like that be avoided?</p>\n<p>Generally I am motivated to work on this but I also find it a bit daunting (having never contributed anything to Mathlib). So any advice where to start would be appreciated.</p>",
        "id": 543553756,
        "sender_full_name": "Pjotr Buys",
        "timestamp": 1759848916
    },
    {
        "content": "<p>For 1: for now I think it can go in the same file as minDegree. For 2: it's hard to tell, my guess is that the first one you mentioned could be useful for mathlib in general, but the last one should be <code>private lemma</code> in your file, and the middle one isn't yet clear to me: I suspect something more direct could work here, but I'm not sure. For 3: I think nF0 should be a private def, and the others can be inlined. It's okay to have <code>private def</code> in the particular file, but having too many can get awkward, and since <code>nF1</code> is exactly the same as <code>Real.log</code>, you might as well just use that.</p>",
        "id": 543561024,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1759850743
    },
    {
        "content": "<p>Thanks! I drafted some basic average degree lemmas <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMBQOJgCmAdnAELADmA8kVCtAM5wDKoY6hA4vWKnADFgxRoRh5iSEIUZgkAY0Kt2nHkj54AbkijAkWTnADeANTgAuOABUAnkQBUAXzgAKLheXhVvfiYCUONq6+oYA2kLEMHZKJgC6eAAmhABmcEiahPSUhAAihJRQhEqhefLACSGEAEqE6HBcAHQAggkAVrEegFiEFgC8cICsG4A8u66aHv4ANK6NSQVFcKOWnQE4nCAgSGkZWbn5hYQA+sQQxMT5cCWEZRUG1bX1zW0dlgAMcIAmRPfpmUjZebNK5h6ODgcEIAA8iPIYIdjqdKHBkgBXUj7OCowBlhHAAHIoBryJCMaFHE75ADkaLwAAFQox2PFVutNt9frsivsIMl9sBGABRcBRc6lcqVGp1RotdrnACSvP5NjgcQ8jS+2z+ezgfVegLgWBswLgUAA7ucVT8dv9JsjgJp9oQAI62uWTcGQ6GEOXxFbuxkgYRqtmcfamln/QWXYU3UX3CVPe6+4j+pQfZVbM2J3o6vUg3X7fGiZioMyWGV8sACkz6gDtcFp4CraTAHHlgZdl3EIJB1fBCngVptxPdZZsXOSyQaACY4AAeAA+cCO0O5paiI7HAEY4IX9Z24MIYFAIIxtx3u1D9iAIAlcwT4I144n9oGZur9ngGRtg+a9o+DuswemLiuEU7nFR4lQaT902TBo/3TbVdX1HM8xkTcizgEs5QVetazAet1CbUEITbH9jy7MEezgPsYVOOVVwnac5wXLlZSHOiNy3Ds4GrPcDyPTiQVPaELyvPNbwaZ8A1/JB/1ZJRX0CHQ9BuYwuGcYQvTWD9UxDb9A0g2TjAACQ8NgvG4HwFWcQCI04KNQMlazrlsu5DIedpjxcDAAXqd44EMvxwP00MPlcoL1UBfVWzPFsiKhBiEWRNEksxHEYDxG8f3o2d7gkg5Aw5H9N04N9vQ2fEoCvEBEXQINtK/Nl7X2GBDWARRrwq20EmyZhHOAsU3KebcIiiIh0oqhU4HsT46vTPpJymgBiRpCC6wgIlEeB4KzTNr3zVCPAwocsJ3HD6yNE0ZtkyZhuiBoordB1GEREB9gSa12oSSYqpqt6bXxYhFHQQAAgiSlxdRrdgg3QdA/HiTjBPPS9dvgJ6XtyxhbQdZrWoOcqrxW7r6hKzSmVVWTMaalq2rxzrute968bDIDIxAgaLGPFNmXqpQ+hcea4CWu7VvWsQAoAekEPdbsZos+gQ7Nh2Qgs0MO8tsPYM7jVCQAEwhp77aq5h9Gux6mdHx1bGDhjtkmAWorxw84wflHCobqSwbtGmW4EAAyI4GeWGqRpOkNMZMK2SwCAHv2AAvTIIA8FxAFKiEyVHM9RfD8CDLtDTVen1PTIm5Gw1lcFww7yqSZNDfZM/3JARFccGcL8ALsvL6i4QpEEQ60w3yca2OD1XCmI/gXqWf6mNAuz9Vc8AFMIfL6ZOtrgfV5GOQkoERKFoHrHjD2PVAvgzRo9eqg2yf+CmTdxs3aZkY9zp1gm1uEDaKcHKJJm1kW0ppge45WxBC7JA0M96RAPJuY8DtQioFiEAA\">here</a>. Do you think this looks reasonable?</p>\n<p>Some more concepts that I am curious where they would belong in Mathlib (if its not too much of a bother):</p>\n<ol>\n<li>\n<p>For Shearer proof I argue a lot about the closed neighborhood of a vertex. I define it as </p>\n<div class=\"codehilite\"><pre><span></span><code>  `def closedNeighborSet := insert v (G.neighborSet v)`\n</code></pre></div>\n\n<p>It is a common concept so I am wondering if it should get its own place (not just in the local file). The following recursion is central to the Shearer argument:</p>\n<div class=\"codehilite\"><pre><span></span><code>  `lemma indepSet_insert_bound (v : V) : Œ±(G) ‚â• Œ±(G.induce (G.closedNeighborSet v)·∂ú) + 1`\n</code></pre></div>\n\n<p>Here I have <code>scoped notation \"Œ±(\" G \")\" =&gt; indepNum G</code>. I guess some form of this lemma does fit in the independence/clique file?</p>\n</li>\n<li>\n<p>I used the concept of the set of edges incident to a set of vertices:</p>\n<div class=\"codehilite\"><pre><span></span><code>  `noncomputable def EdgeIncidenceFinset (S : Set V) := filter (‚àÉ v ‚àà S, v ‚àà ¬∑) (edgeFinset G)`\n</code></pre></div>\n\n</li>\n</ol>\n<p>Relevant for Shearer becuase for example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">incident_closedNeighbor_card</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hT</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">CliqueFree</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">        </span><span class=\"bp\">#</span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">EdgeIncidenceFinset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">closedNeighborSet</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">‚àë</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">neighborFinset</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"bp\">.</span><span class=\"n\">degree</span><span class=\"w\"> </span><span class=\"n\">u</span>\n</code></pre></div>\n<p>Is this a concept that might be useful to get its own place in Mathlib?</p>",
        "id": 543753468,
        "sender_full_name": "Pjotr Buys",
        "timestamp": 1759931495
    }
]