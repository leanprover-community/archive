[
    {
        "content": "<p>Hi! I wrote some proofs of basic facts about the <code>diam</code>/<code>ediam</code> that I needed for a project, and I'm wondering if it would be worth doing a PR for Mathlib (and if so, I'd appreciate any feedback on how to improve it).  The concrete basic facts are <a href=\"https://github.com/bsubercaseaux/lean-proofs/blob/main/LeanProofs/DiamBasics.lean\">here</a></p>",
        "id": 505510900,
        "sender_full_name": "Bernardo Anibal Subercaseaux Roa",
        "timestamp": 1741894687
    },
    {
        "content": "<p>For context, I needed some of these for a proof of the <a href=\"https://github.com/bsubercaseaux/lean-proofs/blob/main/LeanProofs/VertexTransitive.lean\">fact that on vertex-transitive graphs (finite and connected) the diameter is less than twice the average distance between vertices</a>. I presume that that part is too specific for Mathlib, but maybe I'm wrong</p>",
        "id": 505511267,
        "sender_full_name": "Bernardo Anibal Subercaseaux Roa",
        "timestamp": 1741894812
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"572948\">@Bernardo Anibal Subercaseaux Roa</span>, some of the lemmas in the file you link already exists <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Combinatorics/SimpleGraph/Diam.html\">here</a>, sometimes you use the contrapose of these lemmas, I think adding that is useful to help with <code>exact?</code> library search.</p>\n<p>Instead of using <code>1 &lt; |α|</code>, we usually use <code>Nontrivial α</code>. <code>Fintype α</code> is not necessary in any of the lemmas, and the reason you had to use it is so you can use <code>Fintype.card α</code>, but if you use <code>Nontrivial α</code> instead you won't need to assume finiteness.</p>\n<p>Also, there are some naming mistakes such as how <code>diam_eq_zero_of_not_connected</code> should be <code>not_connected_of_diam_eq_zero</code> instead.</p>",
        "id": 506568212,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1742327667
    },
    {
        "content": "<p>other than the diameter lemmas, I believe <code>VertexTransitive</code> belongs to mathlib, including an API that possibly contains the result you mentioned (I do not think it is too specific, and seems useful for some of my work).</p>",
        "id": 506569767,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1742328140
    },
    {
        "content": "<p>Thanks for your suggestions! I changed to <code>Nontrivial \\alpha</code> and indeed could get rid of most <code>Fintype</code>, also fixed the incorrect naming. (File <a href=\"https://github.com/bsubercaseaux/lean-proofs/blob/main/LeanProofs/DiamBasics.lean\">here</a>) the one in <code>not_connected_of_diam_zero</code> shouldn't be possible to eliminate, since an infinite connected graph can have infinite ediam and thus diam = 0.</p>",
        "id": 506582331,
        "sender_full_name": "Bernardo Anibal Subercaseaux Roa",
        "timestamp": 1742332443
    },
    {
        "content": "<p>I didn't get which one of the lemmas in my file already are in mathlib though</p>",
        "id": 506582498,
        "sender_full_name": "Bernardo Anibal Subercaseaux Roa",
        "timestamp": 1742332527
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"572948\">Bernardo Anibal Subercaseaux Roa</span> <a href=\"#narrow/channel/252551-graph-theory/topic/Basic.20facts.20about.20diameter/near/506582498\">said</a>:</p>\n<blockquote>\n<p>I didn't get which one of the lemmas in my file already are in mathlib though</p>\n</blockquote>\n<p>For example, <code>pos_diam_iff_ne_top_and_nt</code> is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SimpleGraph.diam_eq_zero#doc\">docs#SimpleGraph.diam_eq_zero</a> and <code>preconnected_of_ediam_ne_top</code> is <code>mt G.ediam_eq_top_of_not_preconnected</code>.<br>\nI still think having those variants in mathlib is useful for library search tools, but they should be proven using the already existing statements (which would be a 1 line proof).</p>",
        "id": 506609840,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1742345927
    },
    {
        "content": "<p>Good point about <code>not_connected_of_diam_zero</code>, I think it is nicer to add it as an <code>iff</code> statement (using <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Combinatorics/SimpleGraph/Diam.html#SimpleGraph.diam_eq_zero_of_not_connected\">SimpleGraph.diam_eq_zero_of_not_connected</a>)</p>",
        "id": 506612092,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1742347054
    },
    {
        "content": "<p>you're right! thanks :) I addressed these points!</p>",
        "id": 506621586,
        "sender_full_name": "Bernardo Anibal Subercaseaux Roa",
        "timestamp": 1742352365
    },
    {
        "content": "<p>Great! I still have some style comments but these can be discussed more easily in the medium of PR reviews, please notify me (or request my review) when you open one.</p>",
        "id": 506630766,
        "sender_full_name": "Rida Hamadani",
        "timestamp": 1742357986
    }
]