[
    {
        "content": "<p>Speaking of teaching files and max, I also always have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">ge_max_iff</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\">  </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">max_le_iff</span>\n</code></pre></div>\n<p>it order to allow rewriting of <code>N ≥ max N₁ N₂</code> in all my elementary analysis exercises. Should we add this? The issue is that it begins a path full of lemma duplication.</p>",
        "id": 500694592,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1739983217
    },
    {
        "content": "<p>I don't think we should add this. There's a reason why all lemmas are written with <code>le</code> in mathlib, to avoid duplication.</p>",
        "id": 500695144,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1739983372
    },
    {
        "content": "<p>My first instinct is that we don't want this in Mathlib. </p>\n<p>But it might be nice to collect things that make Lean more beginner-friendly. We could make a <code>Teaching</code> folder inside Mathlib? Or a Teaching repo depending on Mathlib?</p>",
        "id": 500695162,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1739983377
    },
    {
        "content": "<p>I don't think there's much didactic value here either, \"stick to one comparison operator\" is a pretty reasonable convention that shouldn't be confusing to anyone past elementary school.</p>",
        "id": 501191350,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1740173983
    },
    {
        "content": "<p>Did you attend any course in real analysis already? The combination <code>∃ N, ∀ n ≥ N, ...</code> is pretty common there. And <code>∃ N, ∀ N ≤ n, ...</code> doesn’t work so well.</p>",
        "id": 501193394,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1740174964
    },
    {
        "content": "<p>Isn't <code>rw [max_le_iff]</code> supposed to work even on <code>≥</code> because it's reducible? (indeed it does not actually work)</p>",
        "id": 501195304,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740175949
    },
    {
        "content": "<p>It certainly does not work, other we wouldn’t be having this conversation.</p>",
        "id": 501195841,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1740176222
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/ge_max_iff/near/501193394\">said</a>:</p>\n<blockquote>\n<p>Did you attend any course in real analysis already? The combination <code>∃ N, ∀ n ≥ N, ...</code> is pretty common there. And <code>∃ N, ∀ N ≤ n, ...</code> doesn’t work so well.</p>\n</blockquote>\n<p>I have, and I agree that this notation is convenient with pen and paper (indeed I often find myself writing <code>ε &gt; 0</code> out of habit). But the entire point Lean is that you have to write down things in full detail, so I don't think that doing the mental switch to writing <code>∃ N, ∀ n, N ≤ n → ...</code> is complicated or unexpected.</p>",
        "id": 501204294,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1740181395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/287929-mathlib4/topic/ge_max_iff/near/501204294\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/ge_max_iff/near/501193394\">said</a>:</p>\n<blockquote>\n<p>Did you attend any course in real analysis already? The combination <code>∃ N, ∀ n ≥ N, ...</code> is pretty common there. And <code>∃ N, ∀ N ≤ n, ...</code> doesn’t work so well.</p>\n</blockquote>\n<p>I have, and I agree that this notation is convenient with pen and paper (indeed I often find myself writing <code>ε &gt; 0</code> out of habit). But the entire point Lean is that you have to write down things in full detail, so I don't think that doing the mental switch to writing <code>∃ N, ∀ n, N ≤ n → ...</code> is complicated or unexpected.</p>\n</blockquote>\n<p>A reality check : the notations <code>&gt;</code> and <code>≥</code> are not just 'convenient' - they are part of normal mathematics, and nothing about them is lacking detail. Of course everyone knows they can be completely avoided if you really want to to, and for various reasons that's actually a good idea when formalizing. </p>\n<p>But we're the weird ones for avoiding them! These considerations matter when teaching.</p>",
        "id": 501218348,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1740191855
    },
    {
        "content": "<p>Fun fact: you can redefine <code>∀ n ≥ N</code> such that it uses le internally, but my change to do that wasn't accepted</p>",
        "id": 501238192,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1740209478
    },
    {
        "content": "<p>Should <code>rw</code> be changed so that it can rewrite this? I could imagine some tag <code>@[reduce_in_rewrite]</code> that specifies that <code>rw</code> indexing should treat the head <code>GE.ge</code> as if it were <code>LE.le</code>.</p>",
        "id": 501371338,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1740314459
    },
    {
        "content": "<p>That would be great.</p>",
        "id": 501374137,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1740316844
    },
    {
        "content": "<p>Should <code>rw</code> just <em>always</em> unfold <code>reducible</code> definitions?</p>",
        "id": 501374617,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1740317222
    },
    {
        "content": "<p>The issue is that it can't run <code>whnf</code> on the sub-expressions, because it may contain bound variables.</p>\n<p>But instead it could check whether the head constant is reducible, and if its definition is an application of another constant, then replace it with that.</p>",
        "id": 501374938,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1740317472
    }
]