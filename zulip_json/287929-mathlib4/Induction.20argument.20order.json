[
    {
        "content": "<p>Do we have some sort of convention for the argument order in induction principles?</p>",
        "id": 468431453,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725724938
    },
    {
        "content": "<p>I notice in some induction principles proving <code>P a</code>, the argument <code>a</code> is at the end of the argument list, like in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.recOnMul#doc\">docs#Nat.recOnMul</a>, while in others like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.induction#doc\">docs#Ordinal.induction</a> it goes at the beginning, before any of the hypotheses.</p>",
        "id": 468431688,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725724994
    },
    {
        "content": "<p>Is either form preferred?</p>",
        "id": 468431756,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1725725012
    },
    {
        "content": "<p>The rule is that if you have <code>On</code> in the name, then <code>a</code> is at the start, else it's at the end. Looks like both your examples are going against that rule...</p>",
        "id": 468432263,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725725107
    },
    {
        "content": "<p>Is this a rule (i.e. explicitly stated somewhere) or merely unspoken convention?</p>",
        "id": 468444285,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725729837
    },
    {
        "content": "<p>If it is the latter, but should be the former, perhaps the place to write this down is the style guide?</p>",
        "id": 468444403,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725729882
    },
    {
        "content": "<p>Probably <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a> is the right place for such information</p>",
        "id": 468444471,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725729920
    },
    {
        "content": "<p>I'm not sure there's any hard-and-fast rule for <code>induction</code>, but <code>On</code> definitely signifies the major premise comes first. (A rule that major premises come last if there's no <code>On</code> makes sense to me though.)</p>",
        "id": 468445160,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1725730184
    },
    {
        "content": "<p>let me see if i can make a PR adding this to the naming guide...</p>",
        "id": 468540956,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725788895
    },
    {
        "content": "<p>while i am writing this, would i be correct in saying that if the declaration is for <code>Prop</code>-typed motives, it should be called like <code>induction</code> (i.e. <code>inductionOn</code> rather than <code>recOn</code>)?</p>",
        "id": 468543788,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725790386
    },
    {
        "content": "<p>and <code>induction_on</code> rather than <code>inductionOn</code></p>",
        "id": 468544644,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725791106
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Core.html#Quot.inductionOn\">Quot.inductionOn</a><br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/SetTheory/ZFC/Basic.html#ZFSet.inductionOn\">ZFSet.inductionOn</a><br>\n<span aria-label=\"face with peeking eye\" class=\"emoji emoji-1fae3\" role=\"img\" title=\"face with peeking eye\">:face_with_peeking_eye:</span></p>",
        "id": 468544827,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725791161
    },
    {
        "content": "<p>for now, i've made a <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/522\">preliminary PR</a>. Please do suggest improvements to phrasing, i'm not quite sure about it yet. Also, i'd apreciate it if a maintainer could comment on this. (seeing the current state of mathlib, the proposed convention is not quite as commonplace as i expected it to be...)</p>",
        "id": 468557174,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725796329
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Induction.20argument.20order/near/468557174\">said</a>:</p>\n<blockquote>\n<p>(seeing the current state of mathlib, the proposed convention is not quite as commonplace as i expected it to be...)</p>\n</blockquote>\n<p>as evidenced by searching the docs for <code>.ind</code> and <code>inductionOn</code>, as well as the earlier-mentioned counterexamples mentioned by Violeta...</p>",
        "id": 468557342,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725796460
    },
    {
        "content": "<p>Don't forget recOn ;-)</p>",
        "id": 468557363,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725796488
    },
    {
        "content": "<p><code>recOn</code> is an allowed name according to the naming convention though?</p>",
        "id": 468557629,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725796700
    },
    {
        "content": "<p>Sure! I just meant \"make sure that you check that the order of the variables is OK in this case too :-)\"</p>",
        "id": 468568447,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725802664
    },
    {
        "content": "<p>My point was that they are both bad names: <code>inductionOn</code> is bad because the case suggests it can be Type-valued, which would mean it is rather a <em>recursion</em> principle, while <code>ind</code> is an unnecessary  shortening of <code>induction</code>, decreasing readability.</p>",
        "id": 468570971,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1725803613
    },
    {
        "content": "<p>I think the <code>.rec</code> <code>.recOn</code> rule comes from the names of automatically generated recursors of inductive types.</p>",
        "id": 468573588,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1725804349
    },
    {
        "content": "<p>Do we have buy-in from core here? There seem to be <code>Sort</code>-valued recursors that use the <code>Induction</code> name.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">div2Induction</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">strongInductionOn</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">strongRecOn</span><span class=\"w\"> </span><span class=\"c1\">-- identical to the above</span>\n</code></pre></div>",
        "id": 471465654,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1726745755
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>, would a PR to rename / deprecate those names be accepted?</p>",
        "id": 471465746,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1726745779
    },
    {
        "content": "<p>IIRC there was a very similar case that was deprecated in lean 4, so I think the answer is yes</p>",
        "id": 471495235,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1726754909
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/5179\">lean4#5179</a> &lt;- by \"very similar\" I mean \"identical\"</p>",
        "id": 471495777,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1726755047
    },
    {
        "content": "<p>there is another question from the discussion of <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/522\">this PR</a> (which is about adding a naming convention for inductive/recursive principles) about what to name the \"motive\" argument, and it was rightly suggested by <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> that this should be discussed on zulip. I argued that we should try to give these more understandable names, because an undergrad might not have heard of the term, which can make using an inductive or recursive principle daunting. As an alternative in the case of <em>induction</em> principles, i suggested calling the motive argument simply <code>P</code> for proposition. as such, are some polls:</p>",
        "id": 471521389,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726762662
    },
    {
        "content": "<p>/poll What should <code>Prop</code>-eliminating motives be called<br>\n<code>P</code><br>\n<code>motive</code><br>\ndecide on a case-by-case basis</p>",
        "id": 471522267,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726762957
    },
    {
        "content": "<p>/poll What should <code>Sort</code>-eliminating motives be called<br>\n<code>P</code><br>\n<code>motive</code></p>",
        "id": 471522807,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726763156
    },
    {
        "content": "<p>/poll What should <code>Type</code>-eliminating motives be called<br>\n<code>P</code><br>\n<code>motive</code></p>",
        "id": 471522942,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726763196
    },
    {
        "content": "<p>(for some history, in Lean 3 the <code>nat.rec_on</code> auto-generated recursors used <code>C</code> for the motive name)</p>",
        "id": 471523052,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1726763230
    },
    {
        "content": "<p>isn't the point of calling it <code>motive</code> instead of <code>C</code> exactly to \"give it a more understandable name\"?</p>",
        "id": 471523232,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1726763290
    },
    {
        "content": "<p>Yes, I guess the question is whether \"more understandable\" applies to <code>P</code> too</p>",
        "id": 471523273,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1726763310
    },
    {
        "content": "<p>(and there are still some recursors with that as motive name, see for example <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/WF.html#WellFounded.induction\">WellFounded.induction</a>)</p>",
        "id": 471523278,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726763310
    },
    {
        "content": "<p>single letter names don't really convey anything</p>",
        "id": 471523292,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1726763317
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Induction.20argument.20order/near/471465746\">said</a>:</p>\n<blockquote>\n<p>cc <span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span>, would a PR to rename / deprecate those names be accepted?</p>\n</blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Quot.inductionOn#doc\">docs#Quot.inductionOn</a> also has the Sort-capitalized name.</p>",
        "id": 471523373,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1726763345
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Induction.20argument.20order/near/471523292\">said</a>:</p>\n<blockquote>\n<p>single letter names don't really convey anything</p>\n</blockquote>\n<p>indeed, but they are less intimidating than [insert term you've never heard of] when looking at a function/lemma which should do something simple</p>",
        "id": 471523472,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1726763388
    },
    {
        "content": "<p>it is true that we don't have <code>def Nat.sub (minuend subtrahend : Nat) : Nat</code></p>",
        "id": 471523776,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1726763477
    },
    {
        "content": "<p>It took me quite a while to understand what <code>motive</code> was doing, I initially thought it was some sort of reserved keyword.</p>",
        "id": 471884165,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726896055
    },
    {
        "content": "<p><code>P</code> and <code>C</code> are what I've most often come across with custom induction/recursion principles</p>",
        "id": 471884201,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726896086
    },
    {
        "content": "<p>i suppose i'll call it now and note that there is a majority for using <code>motive</code> in all cases.</p>",
        "id": 472656474,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1727258115
    },
    {
        "content": "<p>the PR to the website adding this as naming convention has been merged, see <a href=\"https://leanprover-community.github.io/contribute/naming.html#induction-and-recursion-principles\">here</a></p>",
        "id": 478331133,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729616775
    },
    {
        "content": "<p>this may mean there is some tech debt to clean up</p>",
        "id": 478331310,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729616872
    },
    {
        "content": "<p>Why is it <code>induction_on</code> and not <code>inductionOn</code>? Wouldn't this be like insisting that in theorems we should see <code>strict_mono</code> rather than <code>strictMono</code>? To me, <code>inductionOn</code> is the name of the principle; the <code>on</code> isn't separate.</p>",
        "id": 478345178,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729622043
    },
    {
        "content": "<p>I think this is the <code>congrArg</code> vs <code>congr_arg</code> discussion again, which I don't remember if we resolved.</p>",
        "id": 478345269,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729622093
    },
    {
        "content": "<p>A weak argument in favor of <code>_on</code> is that it is a bit like <code>_of</code></p>",
        "id": 478345471,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729622167
    },
    {
        "content": "<p><code>_on</code> being like <code>_of_nameOfThisType</code> seems reasonable</p>",
        "id": 478345561,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729622215
    },
    {
        "content": "<p>I think that one's a bit different from <code>congr</code> though. I think <code>congr_position</code> makes sense in general as a naming convention, and it's just like the <code>_left</code>/<code>_right</code> naming convention. For function application, there just happen to be better names than <code>Function.congr_left</code> and <code>Function.congr_right</code>, namely referring to <code>fun</code> and <code>arg</code>. (We shouldn't expect core to change on this, but I do think <code>congr_fun</code> and <code>congr_arg</code> are more principled names.)</p>",
        "id": 478345723,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729622288
    },
    {
        "content": "<p>But also, this is me making up a justification for something that we inherited without thought from lean 3.</p>",
        "id": 478345750,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729622304
    },
    {
        "content": "<p>There's a big proviso with that <code>_on</code> justification, which is that specifically it's saying what the first explicit argument is, vs <code>_of</code> which doesn't have that restriction.</p>",
        "id": 478346393,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729622581
    },
    {
        "content": "<p>according to the docs,  terms of prop are in <code>snake_case</code>.</p>",
        "id": 478347559,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729623127
    },
    {
        "content": "<p>and since <code>inductionOn</code> isn't a word...</p>",
        "id": 478347662,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729623172
    },
    {
        "content": "<p>other than that, i'd like to point out that the added naming convention <em>doesn't</em> specify that it should be <code>induction_on</code>. it merely says that the name has to contain both <code>induction</code> and <code>on</code> when it eliminates only into prop and has the value argument before the constructions.</p>",
        "id": 478347995,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729623316
    },
    {
        "content": "<p><code>strictMono</code> isn't a word either though, right?</p>",
        "id": 478348161,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729623385
    },
    {
        "content": "<p>right</p>",
        "id": 478348526,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729623537
    },
    {
        "content": "<p>in that case, it's the lowercase-ing of <code>StrictMono</code>, which produces a term of type <code>Prop</code>. However, there is no <code>Prop</code> (or <code>Type</code>) named <code>InductionOn</code>...</p>",
        "id": 478348859,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729623643
    },
    {
        "content": "<p>I'm just saying that \"the docs say terms of prop are <code>snake_case</code>\" doesn't imply <code>inductionOn</code> shouldn't be <code>inductionOn</code></p>",
        "id": 478349369,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1729623810
    },
    {
        "content": "<p>My understanding of the rule here is what Edward says: <code>strictMono</code> is named that because there is actually a definition called <code>StrictMono</code> which is involved in the statement. If it was just about monotonicity as a general concept it would be spelled <code>strict_mono</code> in theorems</p>",
        "id": 478966713,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729879800
    },
    {
        "content": "<p>(and yes, this is the <code>congr_arg</code> discussion again)</p>",
        "id": 478966848,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729879856
    },
    {
        "content": "<p>which was never really resolved; core and mathlib simply have different conventions on this point</p>",
        "id": 478966934,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729879911
    }
]