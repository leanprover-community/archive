[
    {
        "content": "<p>I think it would be quite convenient if we had a lemma </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Pointwise</span><span class=\"w\"> </span><span class=\"n\">RightActions</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">smul_singleton_eq_op_smul</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Mul</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">&lt;â€¢</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">calc</span>\n<span class=\"w\">  </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">MulOpposite</span><span class=\"bp\">.</span><span class=\"n\">op</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"bp\">Â·</span><span class=\"o\">)</span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"bp\">_</span><span class=\"w\">       </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">&lt;â€¢</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>Is someone already working on this? Do you find it unnecessary? Should I just go ahead and PR?</p>",
        "id": 571649881,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770122465
    },
    {
        "content": "<p>I think the left-hand-side of the new lemma should be <code>s * {a}</code>, but I agree we should have that. Note that we have the Finset version (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.mul_singleton#doc\">docs#Finset.mul_singleton</a>) of what you want but the corresponding Set version is (in my eyes) quite a lot less convenient (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.mul_singleton#doc\">docs#Set.mul_singleton</a>)</p>",
        "id": 571651510,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1770122921
    },
    {
        "content": "<p>Writing <code>s * {a}</code> does seem better.</p>\n<p>I was not aware of (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.mul_singleton#doc\">docs#Finset.mul_singleton</a>), thank you for the insight.</p>\n<p>If we want the lemmas <code>{a} * s = a â€¢ s</code> and <code>s * {a} = s &lt;â€¢ a</code> for sets, then I wonder if they might replace the current <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Group/Pointwise/Set/Basic.html#Set.mul_singleton\">Set.mul_singleton</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Group/Pointwise/Set/Basic.html#Set.singleton_mul\">Set.singleton_mul</a>. These are tagged with <code>simp</code> so I cannot say I understand what effect that would have...</p>",
        "id": 571654986,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770123773
    },
    {
        "content": "<p>I <em>believe</em> the current <code>simp</code> setup for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.mul_singleton#doc\">docs#Set.mul_singleton</a> is quite awkward in practice, you could try making a PR which adds your lemma and marks it simp and un-simps the existing ones. I think the statements of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.mul_singleton#doc\">docs#Set.mul_singleton</a> and singleton_mul should still be in mathlib, just not as simp lemmas</p>",
        "id": 571670399,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1770127451
    },
    {
        "content": "<p>I have a PR in the works that does this, fyi</p>",
        "id": 571683993,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1770130681
    },
    {
        "content": "<p>I would also like to use</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsTopologicalGroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">RightActions</span><span class=\"w\"> </span><span class=\"n\">Pointwise</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">smul_nhds</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Homeomorph</span><span class=\"bp\">.</span><span class=\"n\">mulLeft</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">op_smul_nhds</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;â€¢</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;â€¢</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Homeomorph</span><span class=\"bp\">.</span><span class=\"n\">mulRight</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n</code></pre></div>\n<p>as well as the specializations</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">smul_nhds</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"kn\">example</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;â€¢</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">â»Â¹</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">op_smul_nhds</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n</code></pre></div>\n<p>Are you working on that too?</p>",
        "id": 571694055,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770132991
    },
    {
        "content": "<p>Those are not the right generalizations, I think you just want</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">RightActions</span><span class=\"w\"> </span><span class=\"n\">Pointwise</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">nhds_smul</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MulAction</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ContinuousConstSMul</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">isOpenMap_smul</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map_nhds_eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">continuous_id</span><span class=\"bp\">.</span><span class=\"n\">const_smul</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">continuousAt</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">symm</span>\n</code></pre></div>",
        "id": 571707491,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1770136025
    },
    {
        "content": "<p>That is indeed a better generalization of the <code>smul</code> lemma, but what about <code>op_smul</code>? Before we can generalize <code>(ğ“ x) &lt;â€¢ y = ğ“ (x * y)</code> from <code>[Group G]</code>to <code>[MulAction G Î±]</code> I feel like we would need way more lemmas about the topological properties of <code>fun x : G =&gt; x â€¢ y</code> given <code>y : Î±</code>.<br>\nOn that subject you might be interested in <a class=\"message-link\" href=\"/#narrow/channel/116395-maths/topic/topological.20groups.20and.20uniformity/near/569110130\">#maths &gt; topological groups and uniformity @ ğŸ’¬</a> and <a href=\"#narrow/channel/287929-mathlib4/topic/defining.20.60MulAction.2Eball.60\">#mathlib4 &gt; defining &#96;MulAction.ball&#96;</a></p>",
        "id": 571712252,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770137240
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RightActions/near/571683993\">said</a>:</p>\n<blockquote>\n<p>I have a PR in the works that does this, fyi</p>\n</blockquote>\n<p>Out of interest, did you end up changing the statement of mul_singleton or just changing the simp-set?</p>",
        "id": 571716492,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1770138275
    },
    {
        "content": "<blockquote>\n<p>but what aboutÂ <code>op_smul</code>?</p>\n</blockquote>\n<p>It's the same lemma :)</p>",
        "id": 571735425,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1770143934
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RightActions/near/571716492\">said</a>:</p>\n<blockquote>\n<p>Out of interest, did you end up changing the statement of mul_singleton or just changing the simp-set?</p>\n</blockquote>\n<p>The statement, with RHS <code>a \\smul s</code></p>",
        "id": 571736123,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1770144139
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/34795\">#34795</a> adds the above</p>",
        "id": 571738456,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1770144898
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RightActions/near/571736123\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RightActions/near/571716492\">said</a>:</p>\n<blockquote>\n<p>Out of interest, did you end up changing the statement of mul_singleton or just changing the simp-set?</p>\n</blockquote>\n<p>The statement, with RHS <code>a \\smul s</code></p>\n</blockquote>\n<p>and the idea is that if someone wants the image version, they can do that further rewrite? That sounds reasonable to me!</p>",
        "id": 571739180,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1770145114
    },
    {
        "content": "<p>Another set of lemmas we might want is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin_smul</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">s</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"o\">[</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">nhdsWithin</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">nhds_smul</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">â†</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">map_smul</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">â†</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">map_smul</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">map_inf</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">map_principal</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">congr</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>where the ugly proof is because we're missing some API elsewhere</p>",
        "id": 571741702,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1770145895
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RightActions/near/571735425\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>but what aboutÂ <code>op_smul</code>?</p>\n</blockquote>\n<p>It's the same lemma :)</p>\n</blockquote>\n<p>I can see how </p>\n<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RightActions/near/571707491\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">RightActions</span><span class=\"w\"> </span><span class=\"n\">Pointwise</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">nhds_smul</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Group</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MulAction</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ContinuousConstSMul</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">â€¢</span><span class=\"w\"> </span><span class=\"n\">ğ“</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">isOpenMap_smul</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map_nhds_eq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">continuous_id</span><span class=\"bp\">.</span><span class=\"n\">const_smul</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">continuousAt</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">symm</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>also gives us <code>[IsTopologicalGroup G] (x y : G) : (ğ“ x) &lt;â€¢ y = ğ“ (x*y)</code></p>\n<p>What seems much more difficult to me is to generalize this to <code>[MulAction G Î±] (x : G) (y : Î±) : (ğ“ x).map (fun g =&gt; g â€¢ y) = ğ“ (x â€¢ y)</code>. The Effros Theorem states some sufficient conditions on  the map <code>â€¢</code> and the topological structures on <code>G</code>and <code>Î±</code>, but this is really not trivial.</p>",
        "id": 571893003,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770207415
    },
    {
        "content": "<p>To be fair, this last question has little to do with <code>RightActions</code> or <code>MulOpposite</code> <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 571893986,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770207741
    },
    {
        "content": "<p>Do you consider the specialization of <code>nhds_smul</code> to <code>xâ»Â¹ â€¢ ğ“ x = ğ“ 1</code> rather convenient or unnecessary?</p>",
        "id": 571899361,
        "sender_full_name": "Lara Toledano",
        "timestamp": 1770209314
    }
]