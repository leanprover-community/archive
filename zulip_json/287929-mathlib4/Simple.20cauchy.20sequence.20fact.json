[
    {
        "content": "<p>I'm looking for a theorem giving me this fact, without chasing the epsilons myself -- I feel sure this \"has\" to be in Mathlib in some form, but my loogle-fu is failing me :)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">real_cauchy_stupid</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CauSeq</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"n\">abs</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 498804098,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739204099
    },
    {
        "content": "<p>Here's an attempt</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">real_cauchy_stupid</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CauSeq</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"n\">abs</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"n\">hε</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">q</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hq'</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">exists_rat_btwn</span><span class=\"w\"> </span><span class=\"n\">hε</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hi</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">.</span><span class=\"n\">cauchy₂</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simpa</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">hq</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">simp_rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">abs_sub_comm</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">mk_near_of_forall_near</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"bp\">?_⟩⟩</span>\n<span class=\"w\">  </span><span class=\"n\">exact_mod_cast</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">Rat</span><span class=\"bp\">.</span><span class=\"n\">cast_strictMono</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hi</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">hk</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"n\">hj</span><span class=\"o\">))</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">hq'</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">le</span>\n</code></pre></div>\n<p>I'm not familiar with this part of the library but  I feel one probably shouldn't use <code>Real.mk</code> but some <code>CauSeq.lim</code> instead.</p>",
        "id": 498808476,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1739205214
    },
    {
        "content": "<p>Are you really really sure you need this lemma? This is very unlikely.</p>",
        "id": 498831426,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1739211712
    },
    {
        "content": "<p>Maybe I don't! So I'm probably using some API in the \"wrong\" way. If you tell me why needing this is unlikely, maybe I can figure out how to use things in the correct way?</p>\n<p>e.g. is using <code>Real.mk</code> a sign of something bad? -- and why is it bad / what should I be trying to do instead?</p>",
        "id": 498834105,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739212468
    },
    {
        "content": "<p>Alex, why don't you answer a different question: what were you trying to do that you ended up needing this? It sounds like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\">#xy</a> problem.</p>",
        "id": 498848128,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1739216717
    },
    {
        "content": "<p>Well, I've got a cauchy sequence of rationals x, and then I apply a certain element-wise function to that to get a new rational sequence y, and I want to prove that y converges to rexp x</p>",
        "id": 498861439,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739221141
    },
    {
        "content": "<p>Is this for some constructive exp function?</p>",
        "id": 498861879,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739221269
    },
    {
        "content": "<p>Yeah</p>",
        "id": 498861922,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739221284
    },
    {
        "content": "<p>So do you actually want concrete bounds on your <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mo stretchy=\"false\">(</mo><mi>ϵ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">i(\\epsilon)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">ϵ</span><span class=\"mclose\">)</span></span></span></span>?</p>",
        "id": 498862090,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739221327
    },
    {
        "content": "<p>No, just that it converges</p>",
        "id": 498862160,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739221350
    },
    {
        "content": "<p>I'm confused, you want it to be constructive, but you don't actually want concrete bounds on the convergence rate?</p>",
        "id": 498865080,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1739222287
    },
    {
        "content": "<p>Use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.Tendsto#doc\">docs#Filter.Tendsto</a> of your sequence with atTop and Nhds. So you have, for a sequence u : Nat -&gt; Rat, Tendsto u atTop (Nhds x), and you want to prove that Tendsto (f o u) atTop (Nhds (rexp x)). Where the proof will be something that involves the continuity of f and rexp, looking like Tendsto f (Nhds x) (Nhds (rexp x)), if I understand correctly.</p>",
        "id": 498871658,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1739224447
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Simple.20cauchy.20sequence.20fact/near/498865080\">said</a>:</p>\n<blockquote>\n<p>I'm confused, you want it to be constructive, but you don't actually want concrete bounds on the convergence rate?</p>\n</blockquote>\n<p>Haha yes, for this purpose: <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Discussion.3A.20ComputableReal\">#general &gt; Discussion: ComputableReal</a></p>",
        "id": 499057767,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739293777
    },
    {
        "content": "<p>I'm just using Andrew Yang's code (since it was handy) but I'm still wondering if there's a \"better way\" to do the thing.</p>",
        "id": 499057878,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1739293804
    },
    {
        "content": "<p>My uninformed guess is that CauSeq's purpose is to bootstrap real numbers, so you'll have difficulty using it for more than that.</p>",
        "id": 499696301,
        "sender_full_name": "Chris Wong",
        "timestamp": 1739528338
    }
]