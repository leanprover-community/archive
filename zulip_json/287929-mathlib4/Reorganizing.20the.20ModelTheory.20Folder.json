[
    {
        "content": "<p>There are some substantial edits to the model theory library that I've been considering for ages, and another one recently suggested (removing <code>CategoryTheory.Bundled</code>).<br>\nHowever, some of the basic files are large and unwieldy to edit, so I think a reorganization may be in order before trying any substantial refactors.</p>",
        "id": 560852147,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764362243
    },
    {
        "content": "<p>To this end, I've started this branch: <a href=\"https://github.com/awainverse/mathlib4/tree/modeltheoryreorg\">https://github.com/awainverse/mathlib4/tree/modeltheoryreorg</a></p>",
        "id": 560852163,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764362258
    },
    {
        "content": "<p>I've also added a bit more documentation. Does anyone have opinions on whether this is easier to read and understand?</p>",
        "id": 560852188,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764362284
    },
    {
        "content": "<p>Paging some folks with relevant experience: <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span>  <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> <span class=\"user-mention\" data-user-id=\"387244\">@YaÃ«l Dillies</span></p>",
        "id": 560852284,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764362360
    },
    {
        "content": "<p>(Looks like you might not have committed the renamed files to the branch you linked?)</p>",
        "id": 560852505,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1764362514
    },
    {
        "content": "<p>Thanks - I'm out of practice with basic git.</p>",
        "id": 560852801,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764362716
    },
    {
        "content": "<p>(If we do like this enough to implement it, I'll also have to be reminded the right way of dealing with <code>Mathlib.lean</code>.)</p>",
        "id": 560853286,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764363138
    },
    {
        "content": "<p><code>lake exe mk_all</code> should take care of all things <code>Mathlib.lean</code></p>",
        "id": 560881666,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1764391478
    },
    {
        "content": "<p>Can I ask how substantial the changes would be? Do you e.g. want to go all the way back to say first-order formulas and redefine them to work in the setting of continuous or many-sorted logic?</p>",
        "id": 560940907,
        "sender_full_name": "Mathias Stout",
        "timestamp": 1764446280
    },
    {
        "content": "<p>May I ask what downstream impacts it might make to remove <code>CategoryTheory.Bundled</code>? </p>\n<p>A few <code>ModelTheory</code>modules depend on <code>Mathlib.ModelTheory.Bundled</code>, including <code>Satisfiability</code>, <code>IsFraisse</code> and <code>Order</code>. For projects that heavily rely on these modules, should substantial rewrites be expected?</p>\n<p>Thanks!</p>",
        "id": 560958601,
        "sender_full_name": "Shaopeng",
        "timestamp": 1764465218
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"940460\">Mathias Stout</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Reorganizing.20the.20ModelTheory.20Folder/near/560940907\">said</a>:</p>\n<blockquote>\n<p>Can I ask how substantial the changes would be? Do you e.g. want to go all the way back to say first-order formulas and redefine them to work in the setting of continuous or many-sorted logic?</p>\n</blockquote>\n<p>I don't have any concrete proposals yet. Yes, I would consider modifying formulas, but I don't have any suggestions yet that would increase the scope of the logic itself. My main idea would be to shift emphasis to formulas mod a theory, and perhaps simplify some other aspects of the construction along the way: <a href=\"https://github.com/leanprover-community/mathlib4/pull/16801\">https://github.com/leanprover-community/mathlib4/pull/16801</a></p>",
        "id": 561009145,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764517318
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"692118\">Shaopeng</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Reorganizing.20the.20ModelTheory.20Folder/near/560958601\">said</a>:</p>\n<blockquote>\n<p>May I ask what downstream impacts it might make to remove <code>CategoryTheory.Bundled</code>? </p>\n<p>A few <code>ModelTheory</code>modules depend on <code>Mathlib.ModelTheory.Bundled</code>, including <code>Satisfiability</code>, <code>IsFraisse</code> and <code>Order</code>. For projects that heavily rely on these modules, should substantial rewrites be expected?</p>\n<p>Thanks!</p>\n</blockquote>\n<p>I don't think much has to change meaningfully. The only aspect of that change that has much to do with this reorganization is the separation out of the <code>Maps</code> folder. Removing <code>Bundled</code> is related to, but does not require, actually using those maps to define interesting categories of structures.</p>",
        "id": 561009696,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764517745
    },
    {
        "content": "<p>Removing <code>Bundled</code> does not require enough changes to need this reorganization: <a href=\"https://github.com/leanprover-community/mathlib4/pull/32285\">#32285</a></p>",
        "id": 561023905,
        "sender_full_name": "Aaron Anderson",
        "timestamp": 1764529594
    }
]