[
    {
        "content": "<p>What's up with this issue? Why is the instance not synthable?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">({</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\">  </span><span class=\"c1\">-- [...] failed to synthesize  Insert (Set ℝ) (Finset (Set ℝ))</span>\n</code></pre></div>",
        "id": 529285995,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1752760760
    },
    {
        "content": "<p>It is a decidability issue, this works:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Classical</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">({</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">))</span><span class=\"w\">  </span><span class=\"c1\">-- works</span>\n</code></pre></div>",
        "id": 529288008,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1752761255
    },
    {
        "content": "<p>Here is the relevant instance: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Finset/Insert.html#Finset.instInsert\">Finset.instInsert</a> (it requires decidable equality).</p>",
        "id": 529288116,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1752761284
    },
    {
        "content": "<p>Ah, yea, completely missed that while looking at the code of the instance.</p>",
        "id": 529288194,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1752761304
    },
    {
        "content": "<p>Use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.cons#doc\">docs#Finset.cons</a> if you have your own proof that it's not in the finset already</p>",
        "id": 529288246,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1752761319
    },
    {
        "content": "<p>Not here, though, because that's not true :)</p>",
        "id": 529288615,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1752761417
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span>  Ah, cool, so that's probably the better way when I need to keep track of the cardinality anyway :)</p>",
        "id": 529288785,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1752761465
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110789\">Jakob von Raumer</span> has marked this topic as resolved.</p>",
        "id": 529289437,
        "sender_full_name": "Notification Bot",
        "timestamp": 1752761644
    }
]