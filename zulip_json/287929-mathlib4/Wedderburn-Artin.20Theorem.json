[
    {
        "content": "<p>I've commited a proof of wedderburn-artin as a draft <a href=\"https://github.com/leanprover-community/mathlib4/pull/23583\">#23583</a>, I know there has been discussion towards TwoSidedIdeal and I'd like to know how people think about the current status and this PR :)</p>",
        "id": 509656453,
        "sender_full_name": "Edison Xie",
        "timestamp": 1743589415
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span></p>",
        "id": 509656470,
        "sender_full_name": "Edison Xie",
        "timestamp": 1743589422
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23583\">#23583</a> is now ready-for-review!</p>",
        "id": 511255507,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744229858
    },
    {
        "content": "<p>I've built some minimal amount of isotypic component APIs in order to get more useful intermediate results from the proof. I haven't finished the proof of the WA theorem with this approach yet, but you can see my progress <a href=\"https://github.com/leanprover-community/mathlib4/compare/jyxu/WedderburnArtin_simple?expand=1\">here</a>. I'm sorry I didn't give detailed review on <span class=\"user-mention\" data-user-id=\"724854\">@Jiang Xu Wan</span>'s PR(s) (cc <span class=\"user-mention\" data-user-id=\"716077\">@Lior Silberman</span>) but I'd appreciate suggestions to adapt our isotypic APIs to each other.</p>",
        "id": 511278967,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744241124
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/511278967\">said</a>:</p>\n<blockquote>\n<p>I've built some minimal amount of isotypic component APIs in order to get more useful intermediate results from the proof. </p>\n</blockquote>\n<p>Is there going to be a PR soon? <span aria-label=\"curious\" class=\"emoji emoji-1f99d\" role=\"img\" title=\"curious\">:curious:</span></p>",
        "id": 511366225,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744279593
    },
    {
        "content": "<p>I'm currently adding and refining the isotypic API to make to proof flow more naturally and it will take some time.<br>\nI just introduce <code>IsIsotypicOfType</code> and one thing I have not coded is that if M is isotypic of type S, then it's isomorphic to a Finsupp over S (easy using <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Finsupp/ToDFinsupp.html#finsuppEquivDFinsupp\">finsuppEquivDFinsupp</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/SimpleModule/Basic.html#isSemisimpleModule_iff_exists_linearEquiv_dfinsupp\">isSemisimpleModule_iff_exists_linearEquiv_dfinsupp</a>), and the number of copies of S must be <code>Module.rank (DomMulAct &lt;| Module.End R S) (S ‚Üí‚Çó[R] M)</code> (this should be a separate <code>Module.simpleLength</code> definition, and if you take <code>Cardinal.toENat</code> you should get <code>Module.length</code>).</p>",
        "id": 511371027,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744281287
    },
    {
        "content": "<p>This is quite lovely:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommMonoid</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">End</span><span class=\"bp\">.</span><span class=\"n\">domMulActEquiv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">letI</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span>\n<span class=\"w\">    </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ‚Çó</span><span class=\"o\">[</span><span class=\"n\">DomMulAct</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">DomMulAct</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">DomMulAct</span><span class=\"bp\">.</span><span class=\"n\">mk</span>\n<span class=\"w\">  </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">  </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>combined with <code>(Œπ ‚Üí‚ÇÄ M ‚Üí‚Çó[R] N) ‚âÉ‚Çó[S] (M ‚Üí‚Çó[R] Œπ ‚Üí‚ÇÄ N)</code> <a href=\"https://github.com/leanprover-community/mathlib4/blob/jyxu/projective_trace/Mathlib/RingTheory/Finiteness/Finsupp.lean#L24-L38\">here</a> (For <code>M</code> finite), this is enough to show the number of simple copies is invariant (it also follows from the theory of length if the number is finite), which is probably useful to prove the uniqueness part of Wedderburn--Artin.</p>",
        "id": 511411780,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744291933
    },
    {
        "content": "<p>what's <code>DomMulAct</code>?</p>",
        "id": 511433635,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744296939
    },
    {
        "content": "<p>It lets the type act on the domain</p>",
        "id": 511434307,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744297080
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DomMulAct#doc\">docs#DomMulAct</a></p>",
        "id": 511434364,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1744297086
    },
    {
        "content": "<p>wait so if it's a type synonym for <code>MulOpposite</code>, what's the difference?</p>",
        "id": 511434653,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744297135
    },
    {
        "content": "<blockquote>\n<h3>Motivation</h3>\n<p>Right action can be represented in <code>mathlib</code> as an action of the opposite group <code>M·µê·µí·µñ</code>. However,<br>\nthis \"domain shift\" action cannot be an instance because this would create a \"diamond\"<br>\n(a.k.a. ambiguous notation): if <code>M</code> is a monoid, then how does <code>M·µê·µí·µñ</code> act on <code>M ‚Üí M</code>? On the one<br>\nhand, <code>M·µê·µí·µñ</code> acts on <code>M</code> by <code>c ‚Ä¢ a = a * c.unop</code>, thus we have an action<br>\n<code>(c ‚Ä¢ f) a = f a * c.unop</code>. On the other hand, <code>M</code> acts on itself by multiplication on the left, so<br>\nwith this new instance we would have <code>(c ‚Ä¢ f) a = f (c.unop * a)</code>. Clearly, these are two different<br>\nactions, so both of them cannot be instances in the library.</p>\n<p>To overcome this difficulty, we introduce a type synonym <code>DomMulAct M := M·µê·µí·µñ</code> (notation:<br>\n<code>M·µà·µê·µÉ</code>). This new type carries the same algebraic structures as <code>M·µê·µí·µñ</code> but acts on <code>Œ± ‚Üí Œ≤</code> by this<br>\nnew action. So, e.g., <code>M·µà·µê·µÉ</code> acts on <code>(M ‚Üí M) ‚Üí M</code> by <code>DomMulAct.mk c ‚Ä¢ F f = F (fun a ‚Ü¶ c ‚Ä¢ f a)</code><br>\nwhile <code>(M·µà·µê·µÉ)·µà·µê·µÉ</code> (which is isomorphic to <code>M</code>) acts on <code>(M ‚Üí M) ‚Üí M</code> by<br>\n<code>DomMulAct.mk (DomMulAct.mk c) ‚Ä¢ F f = F (fun a ‚Ü¶ f (c ‚Ä¢ a))</code>.</p>\n</blockquote>",
        "id": 511434711,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744297142
    },
    {
        "content": "<p>If <code>MulOpposite</code> is used in this case there will be a diamond for <code>Module (MulOpposite E) E</code> with <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Module/Opposite.html#Semiring.toOppositeModule\">Semiring.toOppositeModule</a>. DomMulAct is the correct type synonym to use to obtain the right instances.</p>",
        "id": 511454767,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744302106
    },
    {
        "content": "<p>Sorry, it's not really a diamond, the actions are still defeq.</p>",
        "id": 511477508,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744307604
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a></p>",
        "id": 511751812,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744414883
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/511751812\">said</a>:</p>\n<blockquote>\n<p>Opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a></p>\n</blockquote>\n<p>So actually I am bit confused here, we both have the same results in two different PRs,  how is it gonna work?  If yours/my PR got merged do we delete the other one or do we adapt to each others?</p>",
        "id": 511864287,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744510624
    },
    {
        "content": "<p>I think my PR now includes all the end results from your PR. Since I adopted your statements I'm adding you as coauthors. If my PR gets merged, but you think some intermediate results in your PR is worth keeping, you might leave them there to get them reviewed.</p>",
        "id": 511906435,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744549264
    },
    {
        "content": "<p>Please add a note to that effect on the PRs as well</p>",
        "id": 511908644,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1744551067
    },
    {
        "content": "<p>I added \"A replacement of <a href=\"https://github.com/leanprover-community/mathlib4/pull/23583\">#23583</a> with more meaningful intermediate results.\" in the description of <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a>.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23583\">#23583</a> depends on another PR and still has \"wip\" in the title so I think it's unlikely that it gets merged first ...</p>",
        "id": 511909999,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744552153
    },
    {
        "content": "<p>it's no longer a WIP I just forgot to change :((, the dependent PR is because <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>  wants to consult someone's opinion and that some one has yet replied in a week :((, however you have a point I should probly just close <a href=\"https://github.com/leanprover-community/mathlib4/pull/23583\">#23583</a> <span aria-label=\"smiling face with tear\" class=\"emoji emoji-1f972\" role=\"img\" title=\"smiling face with tear\">:smiling_face_with_tear:</span></p>",
        "id": 511911550,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744553429
    },
    {
        "content": "<p>closed <a href=\"https://github.com/leanprover-community/mathlib4/pull/23583\">#23583</a></p>",
        "id": 511913873,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744555439
    },
    {
        "content": "<p>I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a> also covers part of <a href=\"https://stacks.math.columbia.edu/tag/074E\">074E</a> by the use of <code>IsIsotypic</code> for simple rings? <span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span></p>",
        "id": 511914098,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744555592
    },
    {
        "content": "<p>I think some intermediate results from that PR like <code>TwoSidedIdeal.span_eq_bot</code> would still be good to have</p>",
        "id": 511914441,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744555848
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/511914441\">said</a>:</p>\n<blockquote>\n<p>I think some intermediate results from that PR like <code>TwoSidedIdeal.span_eq_bot</code> would still be good to have</p>\n</blockquote>\n<p>I will open a separate PR if necessary :)</p>",
        "id": 511914477,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744555889
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"699016\">Edison Xie</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/511914098\">said</a>:</p>\n<blockquote>\n<p>I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a> also covers part of <a href=\"https://stacks.math.columbia.edu/tag/074E\">074E</a> by the use of <code>IsIsotypic</code> for simple rings? <span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span></p>\n</blockquote>\n<p>I think the PR only covered parts (1) and (2) so far. (2) is equivalent to A being a semisimple A-module, i.e. A is a semisimple ring.</p>",
        "id": 511925646,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1744564589
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/511925646\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"699016\">Edison Xie</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/511914098\">said</a>:</p>\n<blockquote>\n<p>I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a> also covers part of <a href=\"https://stacks.math.columbia.edu/tag/074E\">074E</a> by the use of <code>IsIsotypic</code> for simple rings? <span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span></p>\n</blockquote>\n<p>I think the PR only covered parts (1) and (2) so far. (2) is equivalent to A being a semisimple A-module, i.e. A is a semisimple ring.</p>\n</blockquote>\n<p>I have a whole file on 074E in our brauer project will PR after you get that merged <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 512039765,
        "sender_full_name": "Edison Xie",
        "timestamp": 1744625462
    },
    {
        "content": "<p><img alt=\":merge:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/37577b95.png\" title=\"merge\"> <a href=\"https://github.com/leanprover-community/mathlib4/pull/24119\">#24119</a> (+212 -116) is a preliminary PR with little mathematical content.<br>\n<img alt=\":pr-open:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/6f19606a.png\" title=\"pr-open\"> <a href=\"https://github.com/leanprover-community/mathlib4/pull/23963\">#23963</a> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/24192/commits/d3a90835bafa646cac1224e2ab9e1778990a074c\">+407 -20</a>) is basic isotypic API + Wedderburn‚ÄìArtin for Artinian simple rings.<br>\n<img alt=\":pr-open:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/6f19606a.png\" title=\"pr-open\"> <a href=\"https://github.com/leanprover-community/mathlib4/pull/24192\">#24192</a> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/24192/commits/14234fef860177f13b421f68440bf0e898f645e8\">+484 -60</a>) is more advanced isotypic API + Wedderburn‚ÄìArtin for semisimple rings (module docstrings are added here).<br>\nPrevious discussions:<br>\n<a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/two-sided.20ideals/near/442400192\">#mathlib4 &gt; two-sided ideals @ üí¨</a> <br>\n<a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/independent.20submodules/near/449572948\">#mathlib4 &gt; independent submodules @ üí¨</a></p>",
        "id": 513160550,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1745061469
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/513160550\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/24119\">#24119</a> (+212 -116) is a preliminary PR with little mathematical content.</p>\n</blockquote>\n<p>reviewed <a href=\"https://github.com/leanprover-community/mathlib4/pull/24119\">#24119</a>!</p>",
        "id": 513198489,
        "sender_full_name": "Edison Xie",
        "timestamp": 1745091064
    },
    {
        "content": "<p>Do we have this in the Brauer group repo? This is 28.F4 on Lorenz and I think it leads to a prove of the uniqueness part of Wedderburn--Artin (simple case) without talking about modules of the matrix algebra, using endomorphism algebras as substitutes.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommMonoid</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">End</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringHomEndFinsupp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">‚Üí+*</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">mapRange</span><span class=\"bp\">.</span><span class=\"n\">addMonoidHom</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">    </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">map_one'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">map_mul'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">map_zero'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringEquivEndFinsupp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ+*</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">End</span>\n</code></pre></div>",
        "id": 513421080,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1745249704
    },
    {
        "content": "<p>I have the uniqueness of Wedderburn using stack 074E</p>",
        "id": 513427258,
        "sender_full_name": "Edison Xie",
        "timestamp": 1745251636
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Wedderburn-Artin.20Theorem/near/513421080\">said</a>:</p>\n<blockquote>\n<p>Do we have this in the Brauer group repo? This is 28.F4 on Lorenz and I think it leads to a prove of the uniqueness part of Wedderburn--Artin (simple case) without talking about modules of the matrix algebra, using endomorphism algebras as substitutes.</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommMonoid</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">End</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringHomEndFinsupp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">‚Üí+*</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">mapRange</span><span class=\"bp\">.</span><span class=\"n\">addMonoidHom</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">    </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">map_one'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">map_mul'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">map_zero'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">  </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringEquivEndFinsupp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ+*</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">End</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>and I have this for a different purpose, I can't remember what it exactly is but it's either for double centralizer theorem or skolem-noether</p>",
        "id": 513427592,
        "sender_full_name": "Edison Xie",
        "timestamp": 1745251768
    },
    {
        "content": "<p>Turns out it's easy using a bit of induction (and no need of finiteness):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">simps</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringHomEndFinsupp</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">‚Üí+*</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">mapRange</span><span class=\"bp\">.</span><span class=\"n\">addMonoidHom</span><span class=\"w\"> </span><span class=\"n\">f</span>\n<span class=\"w\">    </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">map_add</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">    </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">induction_linear</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">smul_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">map_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">map_add</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">smul_add</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">        </span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"n\">j</span>\n<span class=\"w\">        </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">lapply</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">‚àò‚Çó</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">‚àò‚Çó</span><span class=\"w\"> </span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">lsingle</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">        </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">map_smul</span><span class=\"o\">]</span>\n<span class=\"w\">        </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">map_one'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">map_mul'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">map_zero'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simps!</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ringEquivEndFinsupp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">‚âÉ+*</span><span class=\"w\"> </span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">End</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí‚ÇÄ</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"bp\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ringHomEndFinsupp</span><span class=\"w\"> </span><span class=\"n\">Œπ</span>\n<span class=\"w\">  </span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">single</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">i</span>\n<span class=\"w\">    </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">    </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">mapRange</span><span class=\"bp\">.</span><span class=\"n\">linearMap</span><span class=\"w\"> </span><span class=\"n\">g</span>\n<span class=\"w\">      </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"n\">smul_def</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">map_smul</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">g</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">left_inv</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ext</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">right_inv</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">ext</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">j</span>\n<span class=\"w\">    </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">lsingle</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">‚àò‚Çó</span><span class=\"w\"> </span><span class=\"n\">Finsupp</span><span class=\"bp\">.</span><span class=\"n\">lapply</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">‚Ä¢</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">map_smul</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span>\n</code></pre></div>\n<p>(Edit: added RingEquiv version)</p>",
        "id": 513428778,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1745252220
    }
]