[
    {
        "content": "<p>There's a few other things about Logic.Basic that perplex me</p>",
        "id": 494656403,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737304543
    },
    {
        "content": "<p>What's going on with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=congr_refl_left#doc\">docs#congr_refl_left</a> and co? Surely a lemma that states two proofs are equal is entirely useless in Lean?</p>",
        "id": 494656489,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737304595
    },
    {
        "content": "<p>And it's not like the proof of these equalities are hiding any interesting mathematical reasoning either, they're all just <code>rfl</code></p>",
        "id": 494656525,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737304629
    },
    {
        "content": "<p>In theory such lemmas are useful for constructing a <code>rfl</code> with the correct LHS and RHS</p>",
        "id": 494656610,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737304683
    },
    {
        "content": "<p>Probably these are inherited from Lean 3 core, perhaps where they were used internally by tactics</p>",
        "id": 494656635,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737304698
    },
    {
        "content": "<p>Or even from the HoTT mode in Lean 2</p>",
        "id": 494656658,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737304725
    },
    {
        "content": "<p>(I think this probably is deserving of its own thread with a better title, feel free to move these last few messages)</p>",
        "id": 494656673,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737304736
    },
    {
        "content": "<p>7 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Decidable.20namespace\">#mathlib4 &gt; Decidable namespace</a> by <span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span>.</p>",
        "id": 494656735,
        "sender_full_name": "Notification Bot",
        "timestamp": 1737304801
    },
    {
        "content": "<p>These lemmas were added by <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> here: <a href=\"https://github.com/leanprover-community/mathlib3/commit/8b8a5a27094f80607f7ee48c91d3bb899e95342c\">https://github.com/leanprover-community/mathlib3/commit/8b8a5a27094f80607f7ee48c91d3bb899e95342c</a></p>",
        "id": 494656868,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737304899
    },
    {
        "content": "<p>I don't really understand the reasoning, but I think they might be logical versions of categorical theorems?</p>",
        "id": 494657017,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737305016
    },
    {
        "content": "<p>Also worth mentioning that they were originally tagged <code>simp</code>, but <code>simp</code> doesn't do proof rewrites so they didn't do anything</p>",
        "id": 494657146,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737305120
    },
    {
        "content": "<p>Can <code>simp</code> be told to do proof rewrites via an option?</p>",
        "id": 494657898,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737305694
    },
    {
        "content": "<p>I think the argument is that these simp lemmas (if applied) let <code>Eq.mpr h</code> reduce, because they convert <code>h</code> into a <code>rfl</code> term.</p>",
        "id": 494657942,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737305723
    },
    {
        "content": "<p>Arguably in most real-world scenarios, if you have <code>h : α = β</code> with <code>α</code> and <code>β</code> def-eq, <code>simp</code> should be able to reduce both to the same expression</p>",
        "id": 494658570,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737306178
    },
    {
        "content": "<p>Though actually! It seems like <code>simp</code> might be able to see through def-eqs like this</p>",
        "id": 494658679,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737306253
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">id'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">id'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"c1\">-- simp doesn't know this!</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">id'</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">cast</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"c1\">-- still works</span>\n</code></pre></div>",
        "id": 494658695,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737306265
    },
    {
        "content": "<p>I really can't see any possible use for these theorems<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/20849\">#20849</a></p>",
        "id": 494659027,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737306521
    },
    {
        "content": "<p>Not sure why you claim they aren't useful. They specify the behavior of congr_fun and congr_arg.</p>",
        "id": 494662957,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1737309428
    },
    {
        "content": "<p>And this could be useful in an expression construction metaprogram.</p>",
        "id": 494663052,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1737309487
    },
    {
        "content": "<p>Well, these theorems are currently entirely unused. So at the very least they're not useful in current Mathlib.</p>",
        "id": 494681777,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737322670
    },
    {
        "content": "<p>I concede that there might be very niche use cases with <code>Eq.rec</code> and such that warrant equalities between proofs, but maybe we shouldn't go around adding them unless we actually need them</p>",
        "id": 494681965,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1737322784
    },
    {
        "content": "<p>When you're in DTT hell, the last thing you want is missing lemmas</p>",
        "id": 494699791,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737335584
    },
    {
        "content": "<p>Lemmas can be useful even if they never actually end up in proofs committed to mathlib; you might use them while searching for a proof or correcting a statement</p>",
        "id": 494699818,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1737335607
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span>  wrote,</p>\n<blockquote>\n<p>theorems are currently entirely unused.</p>\n</blockquote>\n<p>How do you know that?  I am not arguing, I am genuinely curious to know how to know that.  Did you comment them out and build mathlib?  I am interested to know.  Thanks.</p>",
        "id": 496477196,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1738130877
    },
    {
        "content": "<p>I made a PR deprecating them, and it builds with no warnings</p>",
        "id": 496482555,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1738134380
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> Do you have any example of a proof that can actually use a proof-rewriting lemma (one of these or another one)?</p>",
        "id": 499385510,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1739426549
    }
]