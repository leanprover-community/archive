[
    {
        "content": "<p>What is the purpose of instances like<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=instDecidableMonotoneOnOfForallForallMemSetForallForallForallLe#doc\">docs#instDecidableMonotoneOnOfForallForallMemSetForallForallForallLe</a> ?</p>\n<p>I assume that it matters for <em>something</em>, but it's not clear to me what or how. Of course I could just delete it and rebuild and see what breaks, but I figured someone here could probably explain better. (Would any such explanation belong in a docstring, too, maybe?)</p>",
        "id": 517260773,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1746885536
    },
    {
        "content": "<p>It lets <code>Decidable</code> synthesis unfold the defition of <code>MonotoneOn</code></p>",
        "id": 517263449,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746887698
    },
    {
        "content": "<p>Oh, right, I see, ok. Wait, so should essentially every (reasonably computable) Prop have a similar \"unfolding instance\"? I mean, probably not, but I'm curious what the guidelines would be.</p>\n<p>e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsLinearMap#doc\">docs#IsLinearMap</a> could easily have a similar instance, which would work fine as long as R/M/Mâ‚‚ are all finite</p>",
        "id": 517264113,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1746888244
    },
    {
        "content": "<p>(Maybe a more silly + obscure one would be <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Module/Injective.html#Module.Baer\">Module.Baer</a> )</p>",
        "id": 517264156,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1746888288
    },
    {
        "content": "<p>I think probably the rule is add the instance only if you can come up with an example where it would apply</p>",
        "id": 517264961,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746888924
    },
    {
        "content": "<p>Maybe we should have a library note for these</p>",
        "id": 517264978,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746888944
    },
    {
        "content": "<p>\"would apply\" as in \"the unfolded definition could be decidable\", or \"would apply\" as in \"someone would need it\"?</p>\n<p>Like Module.Baer is decidable given a Fintype R and Fintype Q, but I don't expect anyone using that in a decide tactic any time soon. But IsLinearMap I could definitely see (if someone is giving some explicit description of a linear map over some small funny finite structure)</p>",
        "id": 517265277,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1746889186
    },
    {
        "content": "<p>I'm interested because I have a little pool of decidability + fintype instances I've actually got laying around on a branch somewhere, but sometimes I'm not sure when they're wanted/welcome and in what form</p>",
        "id": 517265372,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1746889241
    },
    {
        "content": "<p>\"someone would need it\", but that could be you. Maybe a good proxy is \"you can provide a test file that shows it's useful, even if just for a demo\"</p>",
        "id": 517266803,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746890439
    }
]