[
    {
        "content": "<p>When updating my PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/11968\">#11968</a>, shake complained about an unused import in a place not directly affected by that PR. I've now made a new PR, <a href=\"https://github.com/leanprover-community/mathlib4/pull/19835\">#19835</a>, that just does this suggested import minimization, and it builds successfully. Is this a bug in shake?</p>",
        "id": 486984020,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1733747793
    },
    {
        "content": "<p>Sounds like it!</p>",
        "id": 486989331,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733749243
    },
    {
        "content": "<p>It's unlikely for shake to contain any unknown bug at this point. More likely, your PR changed the way some typeclass search resolves, and therefore makes some import redundant</p>",
        "id": 486989841,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1733749382
    },
    {
        "content": "<p>Yes, it is indeed not shake's fault. It turns out that <code>fun_prop</code> has two lemmata that both work, and it uses the first one that it tries (<code>Continuous.clm_apply</code>). Removing the import causes it to use the other applicable lemma (<code>Continuous.eval_const</code>).</p>",
        "id": 487048362,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1733763379
    }
]