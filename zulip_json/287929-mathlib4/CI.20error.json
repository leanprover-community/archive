[
    {
        "content": "<p>I just got an unusual error from CI at <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/15684213692/job/44183232852\">https://github.com/leanprover-community/mathlib4/actions/runs/15684213692/job/44183232852</a>: the <code>cleanup</code> step failed with </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">rm</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cannot</span><span class=\"w\"> </span><span class=\"n\">remove</span><span class=\"w\"> </span><span class=\"bp\">'./</span><span class=\"n\">pr</span><span class=\"bp\">-</span><span class=\"n\">branch</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data'</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Directory</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">empty</span>\n</code></pre></div>",
        "id": 524276492,
        "sender_full_name": "SÃ©bastien GouÃ«zel",
        "timestamp": 1750086121
    },
    {
        "content": "<p>I took a look and it seems to be coming from <a href=\"https://github.com/leanprover-community/mathlib4/blob/5faf7aa8d47470ec6f970c3bd59126fcf368cf62/.github/workflows/build.yml#L68\">this line</a> which just tries to delete everything in the working directory, but we haven't changed that step since before the transition to forks. I don't know what could have changed here, maybe <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> will have an idea. Anyways, if we see more failures on <code>hoskinson7</code> we may have to disable it temporarily.</p>",
        "id": 524283706,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1750088472
    },
    {
        "content": "<p>Claude suggested that the <code>find</code> command may have tried to delete a directory before it was emptied, and suggested a simpler command which I've put in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25967\">#25967</a>.</p>",
        "id": 524287216,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1750089575
    },
    {
        "content": "<p>But the find command already calls <code>rm -rf</code>, which shouldn't fail on directories because it recursively deletes files before deleting the directory itself. It might fail if something else is creating new files while <code>rm -rf</code> is running.</p>",
        "id": 524289610,
        "sender_full_name": "Joscha Mennicken",
        "timestamp": 1750090348
    },
    {
        "content": "<p>Got hit by this in <a href=\"https://github.com/leanprover-community/mathlib4/pull/25755\">#25755</a> as well</p>",
        "id": 524991475,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1750404928
    },
    {
        "content": "<p>Looks like it was <code>hoskinson7</code> again. <span class=\"user-mention\" data-user-id=\"128280\">@ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’</span> when you have a chance could you investigate if there's something interfering with the cleanup step? Here's the log in question: <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/15771328806/job/44456712233#step:2:15\">https://github.com/leanprover-community/mathlib4/actions/runs/15771328806/job/44456712233#step:2:15</a></p>",
        "id": 524992036,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1750405211
    },
    {
        "content": "<p>I also found a failure on <code>hoskinson5</code>: <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/15773286144/attempts/1?pr=26173\">https://github.com/leanprover-community/mathlib4/actions/runs/15773286144/attempts/1?pr=26173</a></p>",
        "id": 524992755,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1750405574
    },
    {
        "content": "<p>The effect of these should hopefully be alleviated by <a href=\"https://github.com/leanprover-community/mathlib4/pull/26420\">#26420</a>. Thanks Kim!</p>",
        "id": 525812677,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1750903135
    }
]