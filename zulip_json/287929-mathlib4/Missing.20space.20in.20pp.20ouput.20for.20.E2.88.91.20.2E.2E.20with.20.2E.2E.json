[
    {
        "content": "<p>Just noticed the following.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"c1\">-- ∑ n ∈ Finset.range 5with Even n, 0 : ℕ</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">Even</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>The pretty-printer does not put a space before <code>with</code> when a numeral precedes it. (It does when I replace <code>5</code> by a variable, though.) So it does round-trip, but it still looks ugly.</p>",
        "id": 522903044,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1749311197
    },
    {
        "content": "<p>Oh, sounds like an issue for me. Will investigate</p>",
        "id": 522903981,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1749312232
    },
    {
        "content": "<p>Maybe just adding a space before <code>with</code> in</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">bigsum</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"∑ \"</span><span class=\"w\"> </span><span class=\"n\">bigOpBinders</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\"with \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"s2\">\", \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"mi\">67</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n</code></pre></div>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/6c6e0180f0d3dc9f47f85532f48d268d8656789a/Mathlib/Algebra/BigOperators/Group/Finset/Defs.lean#L174C1-L175C1\">here</a> suffices?</p>",
        "id": 522918699,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1749330158
    },
    {
        "content": "<p>Or <code>ppSpace</code>, perhaps?</p>",
        "id": 522919534,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1749331290
    }
]