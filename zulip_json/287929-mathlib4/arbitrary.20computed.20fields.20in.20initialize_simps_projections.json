[
    {
        "content": "<p>It would be nice to extend <code>initialize_simps_projections</code> to take advantage of generalized projection notation, as a sort of alternative to having derived fields. Right now, you can write whatever <code>Foo.Simps.bar</code> projections you like, but actually calling <code>initialize_simps_projections</code> gives </p>\n<p><code>Failed to find constructor bar in structure Foo.</code> </p>\n<p>unless <code>Foo</code> was indeed defined with an explicit <code>bar</code> field. With the extension, we could automatically generate a standard set of derived-field lemmas for every instance/def of a structure, rather than having to explicitly write out a bunch of extra lemmas every time for any feature not originally present in the core definition.</p>\n<p>If the community thinks this is a good idea, I wouldn't mind trying to implement this extension myself.</p>",
        "id": 519004982,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1747635638
    },
    {
        "content": "<p><code>initialize_simps_projections</code> should already be able to generate projections of parents of a structure, and you should be able to define your custom name/definitionally equal version of such projections. E.g. <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/MathlibTest/Simps.lean#L69\">here</a> in the test file. Most of the work is done by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Simps.getCompositeOfProjections#doc\">docs#Simps.getCompositeOfProjections</a><br>\nWhat are you trying to do that doesn't work? Can you give a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a>?</p>",
        "id": 519107649,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1747660470
    },
    {
        "content": "<p>If you want it to be the default behavior, without any manual configuration, that might be tricky: in some parts of Mathlib you actually care more about the parent structures than the fields of the parent structures. So I'm not sure if that is everywhere desired.</p>",
        "id": 519108048,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1747660561
    },
    {
        "content": "<p>3 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/.22Missing.20Tactics.22.20list/with/420340234\">#general &gt; \"Missing Tactics\" list</a> by <span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span>.</p>",
        "id": 519108379,
        "sender_full_name": "Notification Bot",
        "timestamp": 1747660630
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/channel/287929-mathlib4/topic/parent.20projections.20in.20initialize_simps_projections/near/519108048\">said</a>:</p>\n<blockquote>\n<p>If you want it to be the default behavior, without any manual configuration, that might be tricky: in some parts of Mathlib you actually care more about the parent structures than the fields of the parent structures. So I'm not sure if that is everywhere desired.</p>\n</blockquote>\n<p>Sorry, by \"derived fields\" I don't mean \"fields of parent structures\", but rather \"completely new definitions that make reference to the given structure.\" \"Computed fields\" might be a better term. </p>\n<p>In particular, for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Topology.RelCWComplex#doc\">docs#Topology.RelCWComplex</a>, I'd like to be able to automatically generate definitions for <code>openCell</code>, <code>closedCell</code>, and <code>cellFrontier</code> whenever I define a new complex. </p>\n<p>AFAIK, that's entirely new scope/behavior, so I thought it would fit better in a 'new' or 'major extension' to the existing tactic.</p>",
        "id": 519220278,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1747687628
    }
]