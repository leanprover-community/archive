[
    {
        "content": "<p>Why do all PRs have merge conflicts now?</p>",
        "id": 558132548,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1763538121
    },
    {
        "content": "<p>Because we just merged the module system change into <code>master</code></p>",
        "id": 558133657,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1763538608
    },
    {
        "content": "<p>Although it doesn't seem to have affected the <a href=\"https://leanprover-community.github.io/queue-redirect\">#queue</a> that much</p>",
        "id": 558133932,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1763538723
    },
    {
        "content": "<p>How should I shift to the module system? Any written down instructions?</p>",
        "id": 558143085,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1763541930
    },
    {
        "content": "<p>There will be an announcement about it soon.</p>",
        "id": 558143899,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1763542200
    },
    {
        "content": "<p>Just to confirm, adding <code>module</code> infront of imports then use <code>public import</code> replacing <code>import</code> should work?</p>",
        "id": 558147177,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1763543254
    },
    {
        "content": "<p>If it compiles, that good enough for now. (In the future, we may decide to switch to more fine-grained imports. That will be a separate policy change and announcement.)</p>",
        "id": 558148093,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763543506
    },
    {
        "content": "<p>Cache has nothing usable, so I have no idea whether it compile...</p>",
        "id": 558150466,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1763544176
    },
    {
        "content": "<p>It will surely take some time to rebuild all the PRs, so just be patient</p>",
        "id": 558150928,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1763544242
    },
    {
        "content": "<p>There's some information and links available at <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Mathlib.20has.20moved.20to.20the.20new.20module.20system/with/558159080\">#mathlib4 &gt; Mathlib has moved to the new module system</a>  now.</p>\n<p>But yes, every file needs to start with <code>module</code> (most of Mathlib now does), and the first step to getting something working is changing every <code>import</code> to <code>public import</code>. After that, if you have a new file, try adding <code>@[expose] public section</code> at the top of the file (like most of Mathlib right now).</p>",
        "id": 558159502,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763546772
    },
    {
        "content": "<p>There's no need for now to \"get the imports right\", i.e. to avoid using <code>public</code> where possible, etc. We will have tooling soon that will help with this.</p>",
        "id": 558159626,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763546811
    },
    {
        "content": "<p>Could I have a short explanation of what all three of those magic formulas mean? (1. module, 2. public import, 3. expose public section)</p>",
        "id": 558165587,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1763548479
    },
    {
        "content": "<p>The documentation linked in the announcement explains it well. If you don't want to ignore these magic words, the simplest way is to just read that.</p>",
        "id": 558166820,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763548827
    },
    {
        "content": "<p>In short: the module keyword says <code>this file uses the module system</code> (now mandatory within mathlib); the others allow mathlib to adapt the module system with minimal changes (and will, perhaps, go away in the long term).</p>",
        "id": 558167061,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763548899
    },
    {
        "content": "<p>Maybe not an appropriate place, but can we have this kind of big shift in announce priorior to the change itself? Also is it possible to to have auto fix for these kind of updates for PR?</p>",
        "id": 558167684,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1763549059
    }
]