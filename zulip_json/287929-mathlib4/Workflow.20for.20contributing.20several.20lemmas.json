[
    {
        "content": "<p>I want to contribute several lemmas to mathlib 4 that depend on each other. I have several choices, and would like to know which one is best (they all seems suboptimal):<br>\n1) Make a series of small PRs that depend on each other. Drawback: if a reviewer suggests a change to the root lemma, I will need to change each PR in the chain.<br>\n2) Make the first PR, wait till it's merged, then open the second PR, etc. Drawback: since it seems to take about one day to approve the PR and another day for Bors to merge it, I am looking at about a week of daily back-and forth for a series of 3 contributions. That's a lot of context-switching.<br>\n3) Make one medium-size PR with all the lemmas in it. Drawback: potentially longer review time.</p>\n<p>I understand that 1) or 2) are the recommended workflows but they both introduce quite a bit of overhead for the contributor because of the context-switching (opening VSCode and remembering what's what takes a non-trivial amount of time).</p>",
        "id": 487127982,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1733790087
    },
    {
        "content": "<p>I usually do (2), but only because I don't mind the context-switching.</p>",
        "id": 487136628,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1733794608
    },
    {
        "content": "<p>(also, maybe this should be moved from lean4 to mathlib4?)</p>",
        "id": 487136646,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1733794621
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"414458\">@Vasily Ilin</span> What is the total size? If the lemmas belong to one topic, then a PR with ~300 lines of code isn't a problem.</p>",
        "id": 487174776,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1733814002
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Workflow.20for.20contributing.20several.20lemmas\">#lean4 &gt; Workflow for contributing several lemmas</a> by <span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span>.</p>",
        "id": 487174847,
        "sender_full_name": "Notification Bot",
        "timestamp": 1733814020
    },
    {
        "content": "<p>Further, making sure you write \"these lemmas are for the central limit theorem\" (as you have!) significantly adds to reviewers' enthusiasm, compared to PRing the preliminary lemmas without explanation.</p>",
        "id": 487193478,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1733821140
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Workflow.20for.20contributing.20several.20lemmas/near/487174776\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"414458\">Vasily Ilin</span> What is the total size? If the lemmas belong to one topic, then a PR with ~300 lines of code isn't a problem.</p>\n</blockquote>\n<p>Less than 300 LOC for sure!</p>",
        "id": 487680205,
        "sender_full_name": "Vasily Ilin",
        "timestamp": 1733878804
    },
    {
        "content": "<p>In that case I would start by putting everything in 1 PR. Then people can look at the whole picture.</p>",
        "id": 488042796,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1733906333
    },
    {
        "content": "<p>Splitting a PR at a later point won't be harder than splitting it now. So there isn't much \"risk\" attached to creating a PR with all those lemmas at once.</p>",
        "id": 488042972,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1733906389
    },
    {
        "content": "<p>And good chances that it doesn't need to be split at all.</p>",
        "id": 488043060,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1733906405
    }
]