[
    {
        "content": "<p><code>WithBot ℕ</code> has both a coercion <code>ℕ → WithBot ℕ</code> given by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithBot.some#doc\">docs#WithBot.some</a>, and a <code>Nat.cast</code> map <code>ℕ → WithBot ℕ</code> via <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithBot.addMonoidWithOne#doc\">docs#WithBot.addMonoidWithOne</a>. Both pretty-print as <code>↑n</code>, and neither is a simp-normal form of the other, leading to annoying simp/norm_cast failures.</p>\n<p>Should we make one of them canonical? If so, which one?</p>",
        "id": 571487471,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1770052930
    },
    {
        "content": "<p>For <code>ENat</code>, the canonical one is <code>Nat.cast</code>.</p>",
        "id": 571491139,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1770054012
    },
    {
        "content": "<p>Sure, that works for me.</p>",
        "id": 571495236,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1770055350
    },
    {
        "content": "<p>Note: I rarely use this part of the library. My message was about a related datapoint, not about making a decision.</p>",
        "id": 571503300,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1770058150
    },
    {
        "content": "<p>I don't think you can win here without ending up back at a lean3-style \"there is only one coercion function\" position</p>",
        "id": 571586651,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1770103121
    },
    {
        "content": "<p>Otherwise you have to duplicate all the some lemmas for Nat.cast, or vice versa, to keep things confluent</p>",
        "id": 571586776,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1770103176
    }
]