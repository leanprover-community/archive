[
    {
        "content": "<p>Is there a reason to make us all go through a few extra steps to handle <code>-↑m - 1</code> when it shows up? Especially as it's something of a simp-normal form...</p>",
        "id": 541566658,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758848731
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Int.negSucc_eq%27#doc\">docs#Int.negSucc_eq'</a></p>",
        "id": 541569688,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758851325
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Int.negSucc_eq#doc\">docs#Int.negSucc_eq</a></p>",
        "id": 541569722,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758851356
    },
    {
        "content": "<p>What is your question? What extra steps, what do you want changed?</p>",
        "id": 541569794,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758851419
    },
    {
        "content": "<p><code>Int.negSucc_eq'</code> right-to-left allows rewriting a <code>-↑m - 1</code>; <code>Int.negSucc_eq</code> right-to-left allows rewriting a <code>-(↑m+1)</code></p>",
        "id": 541569865,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851485
    },
    {
        "content": "<p>Both are likely to come up in different contexts, so I don't see a reason to deprecate the former</p>",
        "id": 541569882,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851498
    },
    {
        "content": "<p>(The extra steps would be \"manually rewriting to factor out the negative sign\")</p>",
        "id": 541569901,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851520
    },
    {
        "content": "<p>Are you saying that <code>Int.negSucc</code> is the normal form? That is not the case.</p>",
        "id": 541569938,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758851560
    },
    {
        "content": "<p>No, I'm saying that <code>-↑m - 1</code>; is the normal form; simp usually tries to distribute out as far as it can</p>",
        "id": 541569974,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851592
    },
    {
        "content": "<p>So you're extra likely to run into a <code>-↑m - 1</code>; in the wild, though I'd still want the lemma undeprecated even if that weren't the case as <code>-↑m - 1</code>; comes up naturally regardless</p>",
        "id": 541570009,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851628
    },
    {
        "content": "<p>I'm so confused by the fact that you are concerned by rewriting right to left here. One should never do that? Avoid <code>Int.negSucc</code>, which should be treated as a private implementation detail.</p>",
        "id": 541570233,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758851797
    },
    {
        "content": "<p>.... Uh? Why? In the first place, it's a <em>constructor</em>, so whether I want to or not I <em>can't</em> consider it a private implementation detail*</p>\n<p>*(Or at least, it's likely to come up if I find out I've used <code>rcases</code> in a bad spot etc.)</p>",
        "id": 541570276,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851841
    },
    {
        "content": "<p>But there are also lemmas that mention and make use of <code>negSucc</code>, so...</p>",
        "id": 541570310,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758851882
    },
    {
        "content": "<p>I mean that one should always exit \"Int as an inductive type\" mode as quickly as possible, moving to \"Int as an algebraic type\", and then not go back.</p>",
        "id": 541571414,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1758852907
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"359992\">Robert Maxton</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60Int.2EnegSucc_eq'.60.20is.20deprecated.3F/near/541570276\">said</a>:</p>\n<blockquote>\n<p>.... Uh? Why? In the first place, it's a <em>constructor</em>, so whether I want to or not I <em>can't</em> consider it a private implementation detail*</p>\n</blockquote>\n<p>You can (and probably should) use custom induction/recursion lemmas whenever you do want to consider <code>Int</code> as an inductive type. I've particularly found <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Int.eq_nat_or_neg#doc\">docs#Int.eq_nat_or_neg</a> to be pretty useful.</p>",
        "id": 541572210,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1758853665
    },
    {
        "content": "<p>I suppose? In my use case I'm working with signed powers of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Equiv.Perm#doc\">docs#Equiv.Perm</a> s, so proof by adding a copy of the permutation or its inverse is fairly natural</p>",
        "id": 541572318,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1758853775
    }
]