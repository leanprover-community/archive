[
    {
        "content": "<p>\"For a mathematical proof of this point, you can refer to <a href=\"https://math.stackexchange.com/questions/1741574/a-b%C3%A9zout-ufd-is-a-pid.\">https://math.stackexchange.com/questions/1741574/a-b%C3%A9zout-ufd-is-a-pid.</a></p>\n<p>Does this seemingly concise conclusion exist in the Mathlib4 library? I've searched for a long time but haven't found it. Currently, my progress with the Lean4 code is as follows:\"</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">pid_iff_ufd_and_bezout</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">IsPrincipalIdealRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\">  </span><span class=\"n\">UniqueFactorizationMonoid</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">IsBezout</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">constructor</span>\n<span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">    </span><span class=\"n\">constructor</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">ufm_of_decomposition_of_wfDvdMonoid</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">IsBezout</span><span class=\"bp\">.</span><span class=\"n\">of_isPrincipalIdealRing</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"w\">  </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">    </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">h_ufd</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h_bezout</span><span class=\"bp\">⟩</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">isPrincipalIdealRing_iff</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">I</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsBezout</span><span class=\"bp\">.</span><span class=\"n\">iff_span_pair_isPrincipal</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_bezout</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">@</span><span class=\"n\">UniqueFactorizationMonoid</span><span class=\"bp\">.</span><span class=\"n\">iff_exists_prime_factors</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_ufd</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">@</span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">isPrincipal_iff</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊥</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">submodule_span_eq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"bp\">*</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"bp\">.</span><span class=\"n\">IsPrincipal</span><span class=\"bp\">.</span><span class=\"n\">principal'</span>\n<span class=\"w\">    </span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ideal</span><span class=\"bp\">.</span><span class=\"n\">submodule_span_eq</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"bp\">*</span>\n<span class=\"w\">      </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>The next steps I'm considering are:</p>\n<ol>\n<li>Using the UFD property, we can prove that there exists a minimal element d ∈ I such that for all x ∈ I, d | x.</li>\n<li>In a Bézout domain, for any x ∈ I, there exists d such that (a, x) = (d). This means d | a and d | x.</li>\n<li>Finally, use the divisibility relations to reach the conclusion.</li>\n</ol>\n<p>However, I'm stuck on the first step. How should I implement this?</p>",
        "id": 455127417,
        "sender_full_name": "张守信(Shouxin Zhang)",
        "timestamp": 1722347364
    },
    {
        "content": "<p>Can you please state your full assumptions on <code>R</code>? (The ones that are in some <code>variable</code> line above your lemma.)</p>",
        "id": 455128249,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1722347625
    },
    {
        "content": "<p>I think <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsBezout.TFAE#doc\">docs#IsBezout.TFAE</a> contains what you want.</p>",
        "id": 455128381,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1722347656
    },
    {
        "content": "<p>It assumes that <code>R</code> is a domain. Is that ok?</p>",
        "id": 455128459,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1722347678
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/287929-mathlib4/topic/A.20B.C3.A9zout.20UFD.20is.20a.20PID/near/455128459\">said</a>:</p>\n<blockquote>\n<p>It assumes that <code>R</code> is a domain. Is that ok?</p>\n</blockquote>\n<p>Wow, it really is that theorem! Thank you so much!<span aria-label=\"shooting star\" class=\"emoji emoji-1f320\" role=\"img\" title=\"shooting star\">:shooting_star:</span> (I really need to improve my Mathlib lookup skills...)</p>",
        "id": 455149200,
        "sender_full_name": "张守信(Shouxin Zhang)",
        "timestamp": 1722352781
    },
    {
        "content": "<p>I @loogle 'd for <code>IsBezout</code> and scrolled through the results.</p>",
        "id": 455151578,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1722353528
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"721922\">张守信(Shouxin Zhang)</span> has marked this topic as resolved.</p>",
        "id": 455373792,
        "sender_full_name": "Notification Bot",
        "timestamp": 1722431982
    }
]