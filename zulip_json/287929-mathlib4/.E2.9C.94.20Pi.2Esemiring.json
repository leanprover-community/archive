[
    {
        "content": "<p>The <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Pi.semiring#doc\">docs#Pi.semiring</a> gives a semiring structure to <code>(i : I) → f i</code> if each <code>f i</code> is a semiring. But it requires that <code>I</code> is a <code>Type*</code> which cannot be a <code>Prop</code>. Does it break mathematically if <code>I</code> is a <code>Prop</code>?</p>\n<p>In application I need this since in practice the bounded product <code>(i : I) → (some properties of i which must be satisfied) → f i</code> is very often. Of course I can use <code>(i : {i : I // some properties of i which must be satisfied}) → f i.1</code> instead, but it is a little bit cumbersome.</p>",
        "id": 516565830,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746585048
    },
    {
        "content": "<p>If <code>I : Sort u</code> and <code>f : I → Type v</code>, then <code>(i : I) → f i</code> has type <code>Sort (imax u (v + 1))</code>. While it's guaranteed to be <code>&gt; 0</code>, it isn't <code>_ + 1</code> for some known <code>_</code>.</p>",
        "id": 516566916,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746585815
    },
    {
        "content": "<p>So, it isn't <code>Type _</code>.</p>",
        "id": 516566928,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746585823
    },
    {
        "content": "<p>The standard workaround is to use functions on a subtype, as you've suggested yourself.</p>",
        "id": 516567426,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746586173
    },
    {
        "content": "<p>But that workaround will introduce huge defeq trouble... In my application it is <code>(N : OpenNormalSubgroup G) → N ∈ s → MonoidAlgebra R (G ⧸ N.toSubgroup)</code>. If I use <code>(N :  s) → MonoidAlgebra R (G ⧸ N.1.toSubgroup)</code> then somehow later I have to use <code>erw</code> instead of <code>rw</code> to make it work :(</p>",
        "id": 516578576,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746593517
    },
    {
        "content": "<p>Can you use PLift on the Prop index?</p>",
        "id": 516609045,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746606158
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Pi.2Esemiring/near/516609045\">said</a>:</p>\n<blockquote>\n<p>Can you use PLift on the Prop index?</p>\n</blockquote>\n<p>Thank you! Seems that it's working.</p>",
        "id": 516612585,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746607237
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"366779\">Jz Pan</span> has marked this topic as resolved.</p>",
        "id": 516612626,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746607248
    }
]