[
    {
        "content": "<p>There are two recent papers in the Annals which prove theorems about smooth Jordan curves. Does anyone have an opinion about the generality in which this definition should be in mathlib, if indeed it should be there at all?</p>\n<p>A Jordan Curve is typically defined as a subset of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> which is homeomorphic to a circle. But should this really be some predicate on subsets of topological spaces? Or is this absurd? I think it's worth remembering that the big fact about Jordan curves is that it splits the plane into two pieces (so who cares about topological spaces) and the big conjecture about Jordan curves is that they all contain the corners of a square (and for this we need some notion of angle and straight line).</p>\n<p>For this square/rectangle question people also work with Smooth Jordan Curves, which are the image of a smooth embedding of S^1 into R^2. So here one could make the definition for subsets of a smooth manifold, but again people tend to ask questions about whether they contains corners of rectangles and so again one needs some kind of 2d assumption and the concept of angle/straight line.</p>\n<p>Should we just define Jordan curves for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\R^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>, or things isometric to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\R^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span>, or in some ridiculous generality? I am not clear about the generality that people care about these things, and then there's also this push in mathlib to have definitions as ridiculously general as we can make them (and in particular that might mean a different level of generality for Jordan curve and smooth Jordan curve).</p>",
        "id": 569489652,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1769088591
    },
    {
        "content": "<p>Bear in mind that if we defined smooth Jordan curves for arbitrary smooth manifolds, then we would end up with the definition of a smooth knot!</p>",
        "id": 569489900,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1769088651
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"110050\">@S√©bastien Gou√´zel</span> pointed out a while ago, that there are higher-dimensional variants of the Jordan curve theorem, and we should aim for those.</p>",
        "id": 569491650,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1769089052
    },
    {
        "content": "<p>If I remember correctly: if you have a subset of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi mathvariant=\"double-struck\">R</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">\\R^{n+1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathbb\">R</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> that is homeomorphic to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>S</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">S^n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span>, then the complement has 2 connected components.</p>",
        "id": 569491888,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1769089114
    },
    {
        "content": "<p>There was previous discussion about this recently: let me try to find it (within the next hour).</p>",
        "id": 569491992,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769089146
    },
    {
        "content": "<p>I don't think we should have a definition of a smooth Jordan curve (whatever that means): it should be enough to just talk about the image of the circle under a C^1 injective map (possibly with non-vanishing derivative depending on what the notion really means, and possibly with a higher smoothness), no need to over-engineer there.</p>",
        "id": 569492761,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1769089332
    },
    {
        "content": "<p>It was around here: <a class=\"message-link\" href=\"/#narrow/channel/116395-maths/topic/Multivariate.20complex.20analysis/near/565975328\">#maths &gt; Multivariate complex analysis @ üí¨</a></p>",
        "id": 569500881,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1769091380
    },
    {
        "content": "<p><a href=\"https://github.com/google-deepmind/formal-conjectures/blob/main/FormalConjectures/Wikipedia/InscribedSquare.lean\">https://github.com/google-deepmind/formal-conjectures/blob/main/FormalConjectures/Wikipedia/InscribedSquare.lean</a> has the inscribed square problem. Once we have polygons in mathlib (<span class=\"user-mention\" data-user-id=\"1008461\">@Anson Berns</span> expressed an interest in defining polygons in the context of working on Pick's theorem but I haven't yet seen a PR to mathlib with a definition) we should probably add definitions of such things as \"is a square\" (= is nondegenerate convex regular 4-gon) and \"is a rectangle\", so that that doesn't need to stay as a definition local to that conjecture, but the way it's expressing Jordan curves seems fairly reasonable; it's using <code>IsEmbedding</code> (you could argue whether you want \"embedding\" or \"injective continuous map\" for the definition, but in this context they're equivalent).</p>",
        "id": 569624188,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1769135084
    },
    {
        "content": "<p>The Jordan-Brouwer separation theorem is an n-dimensional version of the Jordan curve theorem and it would indeed be good to have in mathlib (other variants may be useful as well; in particular it would be good to have Jordan-Schoenflies as a stronger version of the Jordan curve theorem in two dimensions).</p>",
        "id": 569624606,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1769135391
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"266253\">Joseph Myers</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Jordan.20curve.20.2F.20Smooth.20Jordan.20curve/near/569624188\">said</a>:<br>\n@<strong>Anson Berns</strong> expressed an interest in defining polygons in the context of working on Pick's theorem but I haven't yet seen a PR to mathlib with a definition</p>\n<p>I have begun working, but I'm not ready to PR yet. My strategy, although perhaps disappointing, is to take the JCT as an axiom. I don't think it's very sensible to talk about area without it, and I hope it will be formalized into Lean at some point, so I think having things like JCT -&gt; Pick's is useful. I've written the axiom version of JCT (for 2-dimensional Euclidean space) as follows: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsSimpleClosedCurve</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ≥</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">¬† </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AddCircle</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">),</span>\n<span class=\"w\">¬† ¬† </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span>\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">JordanDecomposition</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Œ≥</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">¬† </span><span class=\"n\">interior</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span>\n<span class=\"w\">¬† </span><span class=\"n\">exterior</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))</span>\n<span class=\"w\">¬† </span><span class=\"n\">partition</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span><span class=\"w\"> </span><span class=\"bp\">‚à™</span><span class=\"w\"> </span><span class=\"n\">interior</span><span class=\"w\"> </span><span class=\"bp\">‚à™</span><span class=\"w\"> </span><span class=\"n\">exterior</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">univ</span>\n<span class=\"w\">¬† </span><span class=\"n\">interior_isConnected</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsConnected</span><span class=\"w\"> </span><span class=\"n\">interior</span>\n<span class=\"w\">¬† </span><span class=\"n\">exterior_isConnected</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsConnected</span><span class=\"w\"> </span><span class=\"n\">exterior</span>\n<span class=\"w\">¬† </span><span class=\"n\">interior_isOpen</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">interior</span>\n<span class=\"w\">¬† </span><span class=\"n\">exterior_isOpen</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">exterior</span>\n<span class=\"w\">¬† </span><span class=\"n\">interior_isBounded</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bornology</span><span class=\"bp\">.</span><span class=\"n\">IsBounded</span><span class=\"w\"> </span><span class=\"n\">interior</span>\n<span class=\"w\">¬† </span><span class=\"n\">exterior_not_bounded</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬¨</span><span class=\"n\">Bornology</span><span class=\"bp\">.</span><span class=\"n\">IsBounded</span><span class=\"w\"> </span><span class=\"n\">exterior</span>\n<span class=\"w\">¬† </span><span class=\"n\">frontier_interior</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">frontier</span><span class=\"w\"> </span><span class=\"n\">interior</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span>\n<span class=\"w\">¬† </span><span class=\"n\">frontier_exterior</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">frontier</span><span class=\"w\"> </span><span class=\"n\">exterior</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">jordan_curve_theorem</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ≥</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">EuclideanSpace</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">))}</span>\n<span class=\"w\">¬† ¬† </span><span class=\"o\">(</span><span class=\"n\">hŒ≥</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsSimpleClosedCurve</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">JordanDecomposition</span><span class=\"w\"> </span><span class=\"n\">Œ≥</span>\n</code></pre></div>\n<p>I'm going to use this to define the interior and area of a polygon. I'm very open to hearing feedback on how this can best be amended so that the infrastructure can be most generally useful and will most directly connect to the JCT as it will be proved.</p>",
        "id": 569625911,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1769136385
    },
    {
        "content": "<p>Small PRs (no more than a few hundred lines, maybe less) are good. A PR that just defines polygons (for points in an arbitrary type) and makes a few very basic definitions (for points in an affine space, or an affine space over the reals when needed) - nothing specifically to do with Pick's theorem - would be good, then people can review the API setup and start making their own contributions for other things they want to use polygons for. Basic definitions include things like \"vertices are coplanar\", \"polygon is convex\", \"no two consecutive vertices equal\", \"no three consecutive vertices collinear\", \"boundary is a simple curve\", ... - very basic nondegeneracy properties (that should be separate predicates, not part of the definition of <code>Polygon</code>, because different lemmas may need different subsets of those properties).</p>",
        "id": 569627436,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1769137606
    },
    {
        "content": "<p>If more than one person is interested in doing things using a given definition or lemma, that's a good reason to start PRing it early. Things that are more specific to Pick's theorem rather than other uses of polygons might sensibly wait until later for PRing to mathlib.</p>",
        "id": 569627679,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1769137821
    },
    {
        "content": "<p>Fair enough. I'll PR soon. I wasn't really sure what the etiquette around it was. My current definition of Polygons is very minimal, but for area I'm basically only going to be working with SimpleEuclideanPolygons with additional properties.</p>",
        "id": 569628581,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1769138528
    },
    {
        "content": "<p>I submitted a PR with a definition of Polygons. I posted a separate thread for discussion of it <a href=\"#narrow/channel/144837-PR-reviews/topic/Polygons.20PR/near/569918664\">here</a>. I also mention in that thread that I am planning on using a version of the Jordan Curve Theorem as an axiom in working with polygon areas.</p>",
        "id": 569918817,
        "sender_full_name": "A. M. Berns",
        "timestamp": 1769308073
    }
]