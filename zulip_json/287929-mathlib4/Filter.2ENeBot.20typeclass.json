[
    {
        "content": "<p>Why is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.NeBot#doc\">docs#Filter.NeBot</a> a typeclass while <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Nonempty#doc\">docs#Set.Nonempty</a> is not?</p>",
        "id": 527304245,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751749300
    },
    {
        "content": "<p>Maybe because there are a lot more theorems about filters which rely on them not being bot (because this assumption is important in the theory of limits which is a major application of filters in mathlib) than there are theorems about sets which rely on them not being nonempty?</p>",
        "id": 527312255,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1751761235
    },
    {
        "content": "<p>I feel like most of the theorems about filters theres an analogue about sets</p>",
        "id": 527312281,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751761281
    },
    {
        "content": "<p>What's the analogue of all the many theorems about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCompact#doc\">docs#IsCompact</a> (which relies on NeBot) in the set world?</p>",
        "id": 527312523,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1751761687
    },
    {
        "content": "<p>This one is tricky because if you do the translation you get a new predicate that's true of all sets in all topological spaces</p>",
        "id": 527312650,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751761878
    },
    {
        "content": "<p>but I think you still get theorems</p>",
        "id": 527312737,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751762027
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> IsCompact, Filter.NeBot</p>",
        "id": 527312773,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751762093
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Compactness/Compact.html#IsCompact.exists_clusterPt\">IsCompact.exists_clusterPt</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Compactness/Compact.html#exists_nhds_ne_inf_principal_neBot\">exists_nhds_ne_inf_principal_neBot</a>, and <a href=\"https://loogle.lean-lang.org/?q=IsCompact%2C%20Filter.NeBot\">4 more</a></p>",
        "id": 527312774,
        "sender_full_name": "loogle",
        "timestamp": 1751762094
    },
    {
        "content": "<p>Maybe the presence of the <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nonempty#doc\">docs#Nonempty</a> typeclass means we don't need <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Nonempty#doc\">docs#Set.Nonempty</a> to be a typeclass also?  There is a similar situation with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finite#doc\">docs#Finite</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Finite#doc\">docs#Set.Finite</a></p>",
        "id": 527383515,
        "sender_full_name": "Terence Tao",
        "timestamp": 1751848756
    },
    {
        "content": "<p>Though I don't fully understand why we have this duplication</p>",
        "id": 527383577,
        "sender_full_name": "Terence Tao",
        "timestamp": 1751848822
    },
    {
        "content": "<p>The duplication is because one is a predicate on types and the other a predicate on sets</p>",
        "id": 527433305,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1751879371
    },
    {
        "content": "<p>I think at least part of the explanation is that we have many natural instances for the filter case that have no analogue for sets. For instance you clearly don’t want to keep mentioning that neighborhood filters are not trivial. This is taken care of by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=nhds_neBot#doc\">docs#nhds_neBot</a>. And there are many more such cases (look at instances listed at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.NeBot#doc\">docs#Filter.NeBot</a>). Note those are unconditional instances.</p>",
        "id": 527433809,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751879567
    },
    {
        "content": "<p>And having an instance implicit argument has a cost. Whenever you need to supply it by hand it’s painful. So making <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Nonempty#doc\">docs#Set.Nonempty</a> a class and then almost always supply the corresponding argument by hand would be a loss.</p>",
        "id": 527434033,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1751879642
    }
]