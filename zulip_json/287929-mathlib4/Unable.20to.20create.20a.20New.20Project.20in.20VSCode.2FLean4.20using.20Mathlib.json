[
    {
        "content": "<p>So I tried 4 times.   Got same or similar error.  Could it just be my internet connection?  Do you have an alternative way to download Mathlib?</p>\n<hr>\n<p>ERRORS:</p>\n<blockquote>\n<p>curl --version</p>\n</blockquote>\n<p>curl 8.13.0 (Windows) libcurl/8.13.0 Schannel zlib/1.3.1 WinIDN</p>\n<p>Release-Date: 2025-04-02</p>\n<p>Protocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss</p>\n<p>Features: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</p>\n<blockquote>\n<p>git --version</p>\n</blockquote>\n<p>git version 2.49.0.windows.1</p>\n<blockquote>\n<p>Invoke-WebRequest -Uri \"<a href=\"https://elan.lean-lang.org/elan-init.ps1\">https://elan.lean-lang.org/elan-init.ps1</a>\" -OutFile \"elan-init.ps1\"</p>\n</blockquote>\n<p>Set-ExecutionPolicy -ExecutionPolicy Unrestricted -Scope Process</p>\n<p>$rc = .\\elan-init.ps1 -NoPrompt 1 -DefaultToolchain leanprover/lean4:stable</p>\n<p>del .\\elan-init.ps1</p>\n<p>exit $rc</p>\n<p>info: downloading installer to C:\\Users\\fruit\\AppData\\Local\\Temp\\</p>\n<p>info: default toolchain set to 'leanprover/lean4:stable'</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; curl --version</p>\n<p>curl 8.13.0 (Windows) libcurl/8.13.0 Schannel zlib/1.3.1 WinIDN</p>\n<p>Release-Date: 2025-04-02</p>\n<p>Protocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss</p>\n<p>Features: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; git --version</p>\n<p>git version 2.49.0.windows.1</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; elan --version</p>\n<p>elan 4.1.2 (58e8d545e 2025-05-26)</p>\n<blockquote>\n<p>elan toolchain install leanprover-community/mathlib4:lean-toolchain</p>\n</blockquote>\n<p>info: downloading <a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a></p>\n<p>Error(Download(Msg(\"error during download\")), State { next_error: Some(Error { description: \"Transferred a partial file\", code: 18, extra: Some(\"end of response with 206125824 bytes missing\") }), backtrace: InternalBacktrace { backtrace: None } })</p>\n<p>error:</p>\n<p>could not download file from '</p>\n<p><a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a></p>\n<p>' to '</p>\n<p>C:\\Users\\fruit\\.elan\\tmp\\d5rng3nxd69kyayg_file</p>\n<p>'</p>\n<p>info:</p>\n<p>caused by: error during download</p>\n<p>info: caused by: [18] Transferred a partial file (end of response with 206125824 bytes missing)</p>\n<p>=&gt; Operation failed. Exit code: 1.</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; curl --version</p>\n<p>curl 8.13.0 (Windows) libcurl/8.13.0 Schannel zlib/1.3.1 WinIDN</p>\n<p>Release-Date: 2025-04-02</p>\n<p>Protocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss</p>\n<p>Features: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; git --version</p>\n<p>git version 2.49.0.windows.1</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; elan --version</p>\n<p>elan 4.1.2 (58e8d545e 2025-05-26)</p>\n<blockquote>\n<p>elan toolchain install leanprover-community/mathlib4:lean-toolchain</p>\n</blockquote>\n<p>info: downloading <a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a></p>\n<p>Error(Download(Msg(\"error during download\")), State { next_error: Some(Error { description: \"Transferred a partial file\", code: 18, extra: Some(\"end of response with 206125824 bytes missing\") }), backtrace: InternalBacktrace { backtrace: None } })</p>\n<p>error:</p>\n<p>could not download file from '</p>\n<p><a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a></p>\n<p>' to 'C:\\Users\\fruit\\.elan\\tmp\\4im7rrgwk7a6zmk3_file'</p>\n<p>info: caused by: error during download</p>\n<p>info: caused by: [18] Transferred a partial file (end of response with 206125824 bytes missing)</p>\n<p>=&gt; Operation failed. Exit code: 1.</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; curl --version</p>\n<p>curl 8.13.0 (Windows) libcurl/8.13.0 Schannel zlib/1.3.1 WinIDN</p>\n<p>Release-Date: 2025-04-02</p>\n<p>Protocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss</p>\n<p>Features: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; git --version</p>\n<p>git version 2.49.0.windows.1</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; elan --version</p>\n<p>elan 4.1.2 (58e8d545e 2025-05-26)</p>\n<blockquote>\n<p>elan toolchain install leanprover-community/mathlib4:lean-toolchain</p>\n</blockquote>\n<p>info: downloading <a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a></p>\n<p>Error(Download(Msg(\"error during download\")), State { next_error: Some(Error { description: \"Failure when receiving data from the peer\", code: 56, extra: Some(\"Recv failure: Connection was reset\") }), backtrace: InternalBacktrace { backtrace: None } })</p>\n<p>error: could not download file from '<a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a>' to 'C:\\Users\\fruit\\.elan\\tmp\\3vk2ejp7rs2lfuhj_file'</p>\n<p>info:</p>\n<p>caused by: error during download</p>\n<p>info: caused by: [56] Failure when receiving data from the peer (Recv failure: Connection was reset)</p>\n<p>=&gt; Operation failed. Exit code: 1.</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; curl --version</p>\n<p>curl 8.13.0 (Windows) libcurl/8.13.0 Schannel zlib/1.3.1 WinIDN</p>\n<p>Release-Date: 2025-04-02</p>\n<p>Protocols: dict file ftp ftps http https imap imaps ipfs ipns mqtt pop3 pop3s smb smbs smtp smtps telnet tftp ws wss</p>\n<p>Features: alt-svc AsynchDNS HSTS HTTPS-proxy IDN IPv6 Kerberos Largefile libz NTLM SPNEGO SSL SSPI threadsafe Unicode UnixSockets</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; git --version</p>\n<p>git version 2.49.0.windows.1</p>\n<p>c:\\Users\\fruit\\OneDrive\\Desktop\\Lean4Chaser\\lean4chaser&gt; elan --version</p>\n<p>elan 4.1.2 (58e8d545e 2025-05-26)</p>\n<blockquote>\n<p>elan toolchain install leanprover-community/mathlib4:lean-toolchain</p>\n</blockquote>\n<p>info: downloading <a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a></p>\n<p>Error(Download(Msg(\"error during download\")), State { next_error: Some(Error { description: \"Transferred a partial file\", code: 18, extra: Some(\"end of response with 143211264 bytes missing\") }), backtrace: InternalBacktrace { backtrace: None } })</p>\n<p>error: could not download file from '<a href=\"https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst\">https://releases.lean-lang.org/lean4/v4.24.0-rc1/lean-4.24.0-rc1-windows.tar.zst</a>' to 'C:\\Users\\fruit\\.elan\\tmp\\hs6vmaq9oadmzfbh_file'</p>\n<p>info: caused by: error during download</p>\n<p>info: caused by: [18] Transferred a partial file (end of response with 143211264 bytes missing)</p>\n<p>=&gt; Operation failed. Exit code: 1.</p>",
        "id": 539687193,
        "sender_full_name": "Daniel Donnelly",
        "timestamp": 1758001601
    },
    {
        "content": "<p>(I am not an expert but this message would be more readable if you enclosed it within triple backticks. Are you getting an error on <code>elan --version</code>?</p>",
        "id": 541623466,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1758878921
    },
    {
        "content": "<p>Yeah, I know this error. With a bad internet connection it just sometimes randomly interrupts the download (timeout or something?). I honestly have no clue how to solve it, you might be able to copy and unzip the file it downloads to the correct place though to make it work (in <code>%USERPROFILE%\\.elan\\toolchains</code>).</p>",
        "id": 541625259,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1758879436
    }
]