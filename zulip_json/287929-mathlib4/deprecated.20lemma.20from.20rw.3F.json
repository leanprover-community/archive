[
    {
        "content": "<p>Should we disallow <code>deprecated</code> lemmas from appearing in the output of <code>rw?</code> (or deprioritise them?) As a beginner-friendly tactic and searching tactic, it's slightly unfortunate for the suggestion to immediately throw a warning (this came up in lftcm)</p>",
        "id": 389621945,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1694082249
    },
    {
        "content": "<p>(cc <span class=\"user-mention\" data-user-id=\"634503\">@Linus Sommer</span>) This came up since <code>rw?</code> suggested <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.count_cons%27#doc\">docs4#List.count_cons'</a></p>",
        "id": 389622385,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1694082381
    },
    {
        "content": "<p>Hm, I notice some other issues as well:</p>\n<ul>\n<li><code>count_cons'</code> is not displayed as <code>@[deprecated]</code> in doc-gen</li>\n<li>There is no target for the deprecation warning, nor a comment explaining what to do. Presumably the intended replacement is <code>List.count_cons</code>?</li>\n</ul>",
        "id": 389930634,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1694198070
    },
    {
        "content": "<p>Is deprecated a lean built-in attribute? If so I can add it to the list of attributes that doc-gen knows about.</p>",
        "id": 389930811,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1694198161
    },
    {
        "content": "<p>yes</p>",
        "id": 389941043,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1694202747
    },
    {
        "content": "<p>it would be nice if we found some solution to user attributes though... I need to brush off <code>AttrDelab</code> again</p>",
        "id": 389941100,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1694202778
    },
    {
        "content": "<p>implemented.</p>",
        "id": 389950336,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1694207223
    },
    {
        "content": "<p>Sorry to revive this old topic, but I keep getting the deprecated <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Eq.rec_eq_cast#doc\">docs#Eq.rec_eq_cast</a> recommened by <code>rw?</code>. Did \"implemented\" here refer to a filter for <code>rw?</code> not to do this? Or only to making doc-gen know about it?</p>\n<p>Example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Logic</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw?</span><span class=\"w\"> </span><span class=\"c1\">-- Try this: rw [Eq.rec_eq_cast]</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">rec_eq_cast</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"c1\">-- `Eq.rec_eq_cast` has been deprecated: Use `eqRec_eq_cast` instead</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">▸</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">eqRec_eq_cast</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 554106870,
        "sender_full_name": "Malvin Gattinger",
        "timestamp": 1762439975
    },
    {
        "content": "<p>Making doc-gen know about the deprecation attribute</p>",
        "id": 554107201,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1762440027
    }
]