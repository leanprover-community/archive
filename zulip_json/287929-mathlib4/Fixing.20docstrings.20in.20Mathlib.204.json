[
    {
        "content": "<p>I often notice that some docstrings  have not been ported correctly, for example, because the comments still mention the old Mathlib3 name. What is the proper way to suggest corrections? <br>\nShould I open a PR for each of them, or could there be a larger collaborative PR to that aim?</p>",
        "id": 380361581,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1690813005
    },
    {
        "content": "<p>I think the most efficient way is not to organize things too much here, so you can open a PR for each one (or a small batch) and tag the corresponding PR as \"easy\". At some point we will probably organize some kind of coordinated effort for this, but for now please fix the one you stumble upon!</p>",
        "id": 380364163,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1690813350
    },
    {
        "content": "<p>There are several PRs fixing small problems like this. I think you can just open a PR every time you notice a problem (maybe check at least the whole file...). If it is just in the doc you can label it \"easy\" and it should be reviewed quicky.</p>",
        "id": 380364306,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1690813368
    },
    {
        "content": "<p>Separate PRs are better because if the fixes are in different areas of the library, different people might feel more qualified to know what the comment was supposed to be</p>",
        "id": 380365683,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690813551
    },
    {
        "content": "<p>If it's all in one PR, everyone is waiting on someone else to review part of it</p>",
        "id": 380365808,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690813567
    },
    {
        "content": "<p>I am hopeful this organic piecemeal approach will be all that is necessary</p>",
        "id": 380365861,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1690813578
    },
    {
        "content": "<p>I guess an alternative would be to run <code>fix-comments.py</code> on everything, and then have people carefully review for false-positives</p>",
        "id": 380367609,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690813835
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Fixing.20docstrings.20in.20Mathlib.204/near/380367609\">said</a>:</p>\n<blockquote>\n<p>I guess an alternative would be to run <code>fix-comments.py</code> on everything, and then have people carefully review for false-positives</p>\n</blockquote>\n<p>Note that the script is not idempotent, e.g. ring -&gt; Ring -&gt; RingCat</p>",
        "id": 380371025,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1690814372
    },
    {
        "content": "<p>Could <code>fix-comments</code> read an align file where we remove all the category theory stuff? Or all the stuff with upper case Lean 3 decls? That should make it almost idempotent.</p>",
        "id": 380380488,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1690815863
    },
    {
        "content": "<p>What if you ran <code>fix-comments</code> in reverse first, then ran it forwards again?</p>",
        "id": 380425936,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690822998
    },
    {
        "content": "<p>Did anything get aligned to an existing mathlib 3 name (different from the one it's coming from)? If so, then that approach doesn't work either, but it's possible it would be less error prone.</p>",
        "id": 380432050,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1690824223
    },
    {
        "content": "<p>Yes, there are a few lemmas where the prime swapped between 3 and 4</p>",
        "id": 380436827,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690825148
    },
    {
        "content": "<p>I think they're probably not mentioned in docstrings that often</p>",
        "id": 380436874,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690825160
    },
    {
        "content": "<p>why don't you use the actual <code>#align</code>s in mathlib to do this, instead of just using the mathport heuristic?</p>",
        "id": 380550236,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1690861310
    },
    {
        "content": "<p>Isn't that what we do already?</p>",
        "id": 380558677,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1690865788
    },
    {
        "content": "<p>fix-comments does that (via grep), but as pointed out above we now have no automated way to tell which comments have already been fixed</p>",
        "id": 380597652,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1690877751
    }
]