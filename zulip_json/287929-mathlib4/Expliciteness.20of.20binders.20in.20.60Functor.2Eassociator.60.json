[
    {
        "content": "<p>With the discussion in <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/whiskeringRight/with/523266220\">#mathlib4 &gt; whiskeringRight</a>, today seems to be a good day to raise some questions about the notations in mathlib’s category theory corner.</p>\n<p>I have the feeling that I always write <code>Functor.associator _ _ _</code> and leave it to lean to fill in the blanks, and that’s a pattern I’ve also seen lot in the library. At some point, I even had a register in neovim dedicated to storing <code>Functor.associator _ _ _</code> to avoid typing it all the time.</p>\n<p>So I tried to run a quick count, and if my unix-fu is correct, running</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"nv\">$rg</span><span class=\"w\"> </span><span class=\"s2\">\"Functor.associator _ _ _\"</span><span class=\"w\"> </span>-co<span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>awk<span class=\"w\"> </span>-F<span class=\"w\"> </span><span class=\"s2\">\":\"</span><span class=\"w\"> </span><span class=\"s1\">'{ sum +=$2} END {print sum}'</span>\n</code></pre></div>\n<p>in <code>Mathlib/CategoryTheory</code> should count how many time this pattern appears, and running </p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>rg<span class=\"w\"> </span><span class=\"s2\">\"Functor.associator (\\S+) (\\S+) (\\S+)\"</span><span class=\"w\"> </span>-co<span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\"> </span>awk<span class=\"w\"> </span>-F<span class=\"w\"> </span><span class=\"s2\">\":\"</span><span class=\"w\"> </span><span class=\"s1\">'{ sum +=$2} END {print sum}'</span>\n</code></pre></div>\n<p>should give a rough estimate of how many time we call an associator.</p>\n<p><code>179/200</code> <code>Functor.associator</code> calls are of the form <code>Functor.associator _ _ _</code>. Maybe this means we might want to reconsider expliciteness of the binders? or introduce a macro/abbrev that would save us from typing this all the time?</p>",
        "id": 523305354,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1749565641
    },
    {
        "content": "<p>If we do this, we should do it also for monoidal categories and bicategories... (Three refactors for the price of one!)</p>",
        "id": 523361386,
        "sender_full_name": "Joël Riou",
        "timestamp": 1749585564
    },
    {
        "content": "<p>I personally find it occasionally useful to see the arguments of the various associators (and unitors)  in the infoview and I find typing <code>_ _ _</code> not very burdensome. Alternatively there could be a delaborator that can be switched on during development that shows the arguments.</p>",
        "id": 523368211,
        "sender_full_name": "Christian Merten",
        "timestamp": 1749588674
    },
    {
        "content": "<p>Personally, I sometimes find it annoying at output in the sense that arguments of associators shown on the right panel in VS Code could be very long but is not very helpful.</p>",
        "id": 523378384,
        "sender_full_name": "Yuma Mizuno",
        "timestamp": 1749593273
    }
]