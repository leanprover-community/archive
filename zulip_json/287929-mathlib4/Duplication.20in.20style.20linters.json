[
    {
        "content": "<p>Currently, the 100-character limit is enforced by two linters;</p>\n<ul>\n<li>a syntax linter, highlighting exceptions live,</li>\n<li>a text-based linter that runs in CI.</li>\n</ul>\n<p>I have an open PR for a syntax linter for long files that already has a text-based one and I am also thinking about a syntax \"header linter\", for checking the presence of doc-module string.</p>",
        "id": 462252591,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723607160
    },
    {
        "content": "<p>The reason for not removing the text-based linter once the syntax one is available is that the syntax linter is only active on files that import the linter, while the text-based ones crawl all <code>.lean</code> files that they can find.</p>\n<p>There are just under 600 files that do not import the linters, of which ~170 are <code>Tactic</code>-ish.</p>",
        "id": 462252639,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723607172
    },
    {
        "content": "<p>Should <em>style</em> syntax linters be imported at the very beginning, so that they can really replace their text-based analogues, or is the duplication not a big deal?</p>",
        "id": 462252643,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723607176
    },
    {
        "content": "<p>I think it's generally an issue that linters don't work on all code. That's really unexpected behaviour</p>",
        "id": 462270302,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1723615705
    },
    {
        "content": "<p>Would it help if we start a new Lean package <code>MathlibLinters</code> in the same git repo as <code>Mathlib</code> and move all the linters there? So that all of mathlib can import those linters?</p>",
        "id": 462284659,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723621535
    },
    {
        "content": "<p>(And then maybe <code>MathlibLinters</code> can't lint itself...)</p>",
        "id": 462284728,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723621559
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462284728\">said</a>:</p>\n<blockquote>\n<p>(And then maybe <code>MathlibLinters</code> can't lint itself...)</p>\n</blockquote>\n<p>But that's okay, right?</p>",
        "id": 462284887,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723621622
    },
    {
        "content": "<p>I can understand that a linter cannot lint anything that it imports (or itself), but even with the package, I still think that you need to have a \"root\" <code>Mathlib</code> file that is imported by all of <code>Mathlib</code> and that imports the linters.</p>",
        "id": 462284893,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723621625
    },
    {
        "content": "<p>I should add: I like the idea of a <code>Linter</code>-package!</p>",
        "id": 462284988,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723621671
    },
    {
        "content": "<p>Having such a root file is probably a good idea. That way we can guarantee that a bunch of stuff from core/std/batteries is available <em>everywhere</em>. This need has come up before.</p>",
        "id": 462288568,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723622908
    },
    {
        "content": "<p>Ok, so should I simply create an <code>import</code>-only file with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Batteries</span>\n</code></pre></div>\n<p>and import this file in all <code>Mathlib</code> files that import no <code>Mathlib</code> file?</p>",
        "id": 462289058,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623104
    },
    {
        "content": "<p>Somehow, I still think that there will be some special casing among <code>Mathlib</code> files...</p>",
        "id": 462289215,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623156
    },
    {
        "content": "<p>Thanks for starting this thread! I think having a root file importing all style linters would be great to have! (Can we then write an env_linter ensuring this file is transitively imported everywhere? <span aria-label=\"zany face\" class=\"emoji emoji-1f92a\" role=\"img\" title=\"zany face\">:zany_face:</span>)</p>",
        "id": 462291020,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723623792
    },
    {
        "content": "<p>I thought <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> or somebody had a good reason against plain <code>import Batteries</code> and spent some time removing all such occurences in mathlib, or do I misremember?</p>",
        "id": 462314632,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723631354
    },
    {
        "content": "<p>Correct me if I'm wrong, but I believe it was at a time where many things where being upstreamed from mathlib and having Batteries imported everywhere was getting in the way of knowing what to do next. If my understanding is accurate, this was a temporary situation and we can revert back to import mathlib everywhere</p>",
        "id": 462314865,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723631467
    },
    {
        "content": "<p>I don't think we want to import all of batteries in (nearly) all mathlib files, but it would make more sense in the top level Mathlib.lean</p>",
        "id": 462315433,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1723631673
    },
    {
        "content": "<p>I think we can have some root file that is imported in all of mathlib. The precise contents of that root file can change over time. I would start conservatively, and only have a bunch of linters/tactics in there.</p>",
        "id": 462330327,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723636894
    },
    {
        "content": "<p>There are 143 files in Mathlib that import no Mathlib file.  Everything else imports one of these.</p>\n<p>Should I create a <code>Mathlib/Init.lean</code> file that is imported in all these 143 files?</p>",
        "id": 462333153,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723637889
    },
    {
        "content": "<p>Together with automation to make sure that <code>Mathlib.Init</code> <em>is always imported by</em> <del>contains</del> the files that import no Mathlib file?</p>",
        "id": 462333248,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723637915
    },
    {
        "content": "<p>Btw, these are the current \"roots\" of <code>Mathlib</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">HierarchyDesign</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">CasesM</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Recall</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">.</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Change</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Recover</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">CategoryTheory</span><span class=\"bp\">.</span><span class=\"n\">ConcreteCategory</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Check</span><span class=\"w\">            </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ReduceModChar</span><span class=\"bp\">.</span><span class=\"n\">Ext</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Combinatorics</span><span class=\"bp\">.</span><span class=\"n\">SimpleGraph</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Clean</span><span class=\"w\">            </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Relation</span><span class=\"bp\">.</span><span class=\"n\">Rfl</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Control</span><span class=\"bp\">.</span><span class=\"n\">Combinators</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Clear_</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Relation</span><span class=\"bp\">.</span><span class=\"n\">Symm</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Control</span><span class=\"bp\">.</span><span class=\"n\">ULift</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ClearExcept</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Rename</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Array</span><span class=\"bp\">.</span><span class=\"n\">Defs</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ClearExclamation</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Says</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Array</span><span class=\"bp\">.</span><span class=\"n\">ExtractLemmas</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Coe</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Set</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">ByteArray</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Constructor</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">SetLike</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Attr</span><span class=\"w\">        </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Continuity</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">SimpIntro</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">Align</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Conv</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">SimpRw</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">Notation</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Eqns</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Simps</span><span class=\"bp\">.</span><span class=\"n\">NotationClass</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Matroid</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Eval</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Spread</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">MLList</span><span class=\"bp\">.</span><span class=\"n\">Dedup</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ExistsI</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Substs</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">MLList</span><span class=\"bp\">.</span><span class=\"n\">IO</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Explode</span><span class=\"bp\">.</span><span class=\"n\">Datatypes</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">SuccessIfFailWithMsg</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Notation</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ExtendDoc</span><span class=\"w\">        </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">SudoSetOption</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Ordering</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ExtractGoal</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">SuppressCompilation</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">String</span><span class=\"bp\">.</span><span class=\"n\">Defs</span><span class=\"w\">        </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">FailIfNoProgress</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Trace</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Sym</span><span class=\"bp\">.</span><span class=\"n\">Sym2</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Find</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">TryThis</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Deprecated</span><span class=\"bp\">.</span><span class=\"n\">Aliases</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">FunProp</span><span class=\"bp\">.</span><span class=\"n\">Decl</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">TypeCheck</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Deprecated</span><span class=\"bp\">.</span><span class=\"n\">HashMap</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">FunProp</span><span class=\"bp\">.</span><span class=\"n\">StateList</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">TypeStar</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Instances</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">FunProp</span><span class=\"bp\">.</span><span class=\"n\">ToBatteries</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">UnsetOption</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Quot</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">GCongr</span><span class=\"bp\">.</span><span class=\"n\">ForwardAttr</span><span class=\"w\">   </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Use</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Sigma</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Generalize</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Variable</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Sigma</span><span class=\"bp\">.</span><span class=\"n\">Lex</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">GuardGoalNums</span><span class=\"w\">        </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Widget</span><span class=\"bp\">.</span><span class=\"n\">SelectInsertParam</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Quot</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">GuardHypNums</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Sheaves</span><span class=\"bp\">.</span><span class=\"n\">Init</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"w\">            </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Have</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">AddRelatedDecl</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Elab</span><span class=\"bp\">.</span><span class=\"n\">Term</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">HaveI</span><span class=\"w\">            </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">AssertExists</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">EnvExtension</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">HelpCmd</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">AssertNoSorry</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Exception</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">InferParam</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">AtomM</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Expr</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Lemma</span><span class=\"w\">            </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">CompileInductive</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">GoalsLocation</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linarith</span><span class=\"bp\">.</span><span class=\"n\">Oracle</span><span class=\"bp\">.</span><span class=\"n\">SimplexA</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">CountHeartbeats</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Json</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">DocModule</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Delaborators</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">LocalContext</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">GlobalAttributeIn</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">DischargerAsTactic</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Message</span><span class=\"w\">            </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">HashCommandLinter</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Export</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">HaveLetLinter</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">GetAllModules</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">Basic</span><span class=\"w\">         </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">Lint</span><span class=\"w\">      </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">IncludeStr</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">DiscrTree</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">OldObtain</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">MemoFix</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">KAbstractPositions</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">RefineLinter</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Qq</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Meta</span><span class=\"bp\">.</span><span class=\"n\">Simp</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">Style</span><span class=\"w\">     </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">SleepHeartbeats</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Name</span><span class=\"w\">           </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">UnusedTactic</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Superscript</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">PrettyPrinter</span><span class=\"bp\">.</span><span class=\"n\">Delaborator</span><span class=\"w\">  </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Measurability</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">   </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">SynthesizeUsing</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Thunk</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">MinImports</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">AdaptationNote</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Monotonicity</span><span class=\"bp\">.</span><span class=\"n\">Attr</span><span class=\"w\">    </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">TermBeta</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ApplyWith</span><span class=\"w\">        </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">NthRewrite</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">Time</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ArithMult</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Observe</span><span class=\"w\">          </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">WhatsNew</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Attr</span><span class=\"bp\">.</span><span class=\"n\">Register</span><span class=\"w\">        </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">PPWithUniv</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Util</span><span class=\"bp\">.</span><span class=\"n\">WithWeakNamespace</span>\n<span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Bound</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"w\">       </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">ProjectionNotation</span>\n</code></pre></div>",
        "id": 462335152,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723638523
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462315433\">said</a>:</p>\n<blockquote>\n<p>but [<code>import Batteries</code>] would make more sense in the top level Mathlib.lean</p>\n</blockquote>\n<p>As this seems an independent topic which so far everybody agreed on (see <a href=\"#narrow/stream/270676-lean4/topic/Web.20Editor.20.60import.20Batteries.60.20fails/near/459831562\">previous discussion on Zulip</a>) here is a PR adding <code>import Batteries</code> in the <code>mk_all</code> script: <a href=\"https://github.com/leanprover-community/mathlib4/pull/15810\">#15810</a></p>",
        "id": 462341554,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723640659
    },
    {
        "content": "<p>And <a href=\"https://github.com/leanprover-community/mathlib4/pull/15811\">#15811</a> is the PR creating <code>Mathlib.Init</code> and importing it in all <code>Mathlib</code> files that do not import any <code>Mathlib</code> file.</p>",
        "id": 462347539,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723642430
    },
    {
        "content": "<p>I kept the file <code>Mathlib.Init</code> small: it only consists of a comment.</p>",
        "id": 462347609,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723642449
    },
    {
        "content": "<p>I would like some rules about <code>Mathlib.Init</code> (documented in the file):</p>\n<ul>\n<li>no bucket imports (Batteries/Lean/etc)</li>\n<li>every import has a comment explaining why the import is there</li>\n<li>strongly prefer avoiding files that themselves have imports beyond Lean, and when that is warranted there is a comment that explains the transitive imports</li>\n</ul>\n<p>Having a bolus of imports at the bottom of everything unfortunately makes my life more difficult, so I would like to keep close control of what goes in this file.</p>\n<p>That said, I agree there is room for putting some things here!</p>",
        "id": 462441807,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723683188
    },
    {
        "content": "<p>And I 100% agree that is is unacceptable for <code>import Mathlib</code> to not give you the kitchen sink, and I apologise that my past importing trimming has broken this. :-)</p>",
        "id": 462441846,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723683226
    },
    {
        "content": "<p>Should these rules just be written in a comment at the top of <code>Mathlib.Init</code>, or should there be some dedicated infrastructure (probably a linter) that tries to enforce them?</p>",
        "id": 462448340,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723686171
    },
    {
        "content": "<p>Let's start with just a comment. If that isn't sufficient we can scale up</p>",
        "id": 462493720,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723707240
    },
    {
        "content": "<p>I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/15811\">#15811</a> is good to go. (I wouldn't mind removing the script from that PR, but keeping it until a linter is added is also fine with me.)</p>",
        "id": 462516655,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723716546
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462516655\">said</a>:</p>\n<blockquote>\n<p>I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/15811\">#15811</a> is good to go. (I wouldn't mind removing the script from that PR, but keeping it until a linter is added is also fine with me.)</p>\n</blockquote>\n<p>I was going to expand a little on the comment that the file already has, basically explaining what Kim said above: should I do that, or is the PR good to go as is (assuming <code>!bench</code> is happy)?</p>",
        "id": 462519311,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723717536
    },
    {
        "content": "<p>Either way is fine with me. That comment should be expanded - but I don't mind when this happens. (It should happen by the time that file gains actual content.)</p>",
        "id": 462520343,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723717849
    },
    {
        "content": "<p>I have a local version with the expanded comment and current master merged into it.  I will push as soon as the bench results are in.</p>",
        "id": 462520565,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723717890
    },
    {
        "content": "<p>In case you are curious, this is the comment:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c\">/-</span>\n<span class=\"cm\">This is the root file in Mathlib: it is imported by virtually *all* Mathlib files.</span>\n\n<span class=\"cm\">For this reason, the imports of this files are carefully curated.</span>\n<span class=\"cm\">Any modification involving a change in the imports of this file should be discussed beforehand.</span>\n\n<span class=\"cm\">Here are some general guidelines:</span>\n<span class=\"cm\">* no bucket imports (e.g. `Batteries`/`Lean`/etc);</span>\n<span class=\"cm\">* every import needs to have a comment explaining why the import is there;</span>\n<span class=\"cm\">* strong preference for avoiding files that themselves have imports beyond `Lean`, and</span>\n<span class=\"cm\">  any exception to this rule should by accompanied by a comment explaining the transitive imports.</span>\n<span class=\"cm\">-/</span>\n</code></pre></div>",
        "id": 462520686,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723717918
    },
    {
        "content": "<p>The entire <code>!bench</code> build failed, and I just pushed the update.</p>",
        "id": 462527568,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723719827
    },
    {
        "content": "<p><code>/-!</code> right?</p>",
        "id": 462527580,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723719837
    },
    {
        "content": "<p>Ah, should it be a doc?</p>",
        "id": 462527659,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723719862
    },
    {
        "content": "<p>Might as well, or is there a reason not to make it the module docstring?</p>",
        "id": 462527741,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723719919
    },
    {
        "content": "<p>I updated and pushed it as a doc-module!</p>",
        "id": 462527750,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723719929
    },
    {
        "content": "<p>I was just wondering about the copyright linter, but we'll see if it complains!</p>",
        "id": 462527779,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723719952
    },
    {
        "content": "<p>Ok, the copyright linter is not happy, but I am just going to add an exception: I do not think that this file should have a copyright (or maybe yes, but not in my name!).</p>",
        "id": 462527900,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723720008
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> the copyright linter was unhappy with no copyright (which is fine), but seems to be unhappy now again after I <code>--update</code>d the style exceptions: did I do something wrong?  I simply ran <code>$ lake exe lint-style --update</code> and did not write by hand the exceptions.</p>",
        "id": 462529725,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723720773
    },
    {
        "content": "<p>Let me investigate!</p>",
        "id": 462529891,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723720840
    },
    {
        "content": "<p>Thanks!  The current failure is after the <code>--update</code>, the previous failure was when the copyright was missing.</p>",
        "id": 462530008,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723720881
    },
    {
        "content": "<p>(Only the latest failure is unexpected.)</p>",
        "id": 462530032,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723720892
    },
    {
        "content": "<p>Ah! I see what is going on. (First off, running <code>lake exe lint-style --update</code> should do the right thing!) Secondly, what's happening is that <code>lint-style.py</code> complains about <code>ERR_COP</code>. It is not used any more to having copyright headers to ignore. If you put this into <code>nolints-style.txt</code>, everything is fine.</p>",
        "id": 462530482,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723721098
    },
    {
        "content": "<p>I'll file a PR to recognise this error code back in lint-style.py, as long as it's still there.</p>",
        "id": 462530511,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723721116
    },
    {
        "content": "<p>Well, maybe the file should have a copyright, I do not know.  I simply find that the copyright for this file should be maybe \"the mathlib community\", not me!  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 462530678,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723721187
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462530511\">said</a>:</p>\n<blockquote>\n<p>I'll file a PR to recognise this error code back in lint-style.py, as long as it's still there.</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15833\">#15833</a></p>",
        "id": 462530785,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723721235
    },
    {
        "content": "<p>So, you are saying to add the same lines that were added to the exceptions also to the nolints file?</p>",
        "id": 462530870,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723721274
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462530870\">said</a>:</p>\n<blockquote>\n<p>So, you are saying to add the same lines that were added to the exceptions also to the nolints file?</p>\n</blockquote>\n<p>No - just <em>move</em> them to <code>nolints-style.txt</code> instead.</p>",
        "id": 462531079,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723721360
    },
    {
        "content": "<p>(Or decide to add a copyright header to Mathlib.Init.)</p>",
        "id": 462531117,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723721383
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462530785\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462530511\">said</a>:</p>\n<blockquote>\n<p>I'll file a PR to recognise this error code back in lint-style.py, as long as it's still there.</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15833\">#15833</a></p>\n</blockquote>\n<p>Does this mean that if this change becomes live, the exceptions should be moved back to the style-exceptions file?</p>",
        "id": 462531593,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723721584
    },
    {
        "content": "<p>(In case you are wondering, I am withholding pushing to the PR since these changes will mess up the <code>lake build</code> step, even though they do not actually affect the computed cache!)</p>",
        "id": 462531858,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723721725
    },
    {
        "content": "<p>Not necessarily. There are <em>two</em> files for style exceptions. <code>nolints-style.txt</code> is meant for <em>permanent</em> exceptions (such as due to a simple-minded linter, or special files like this). <code>style-exceptions.txt</code> is for <em>transient</em> exceptions, and supposed to eventually become empty.</p>",
        "id": 462531890,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723721742
    },
    {
        "content": "<p>Ah, got it!  Thanks for the explanation!</p>",
        "id": 462531996,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723721782
    },
    {
        "content": "<p>I just left the PR with bors!</p>",
        "id": 462566273,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723733156
    },
    {
        "content": "<p>I've gone ahead and proposed <a href=\"https://github.com/leanprover-community/mathlib4/pull/15845\">#15845</a>, to import all enabled mathlib syntax linters in <code>Mathlib.Init</code>. (This is just a first cut; I expect small refinements to be made.) Comments welcome!</p>",
        "id": 462587361,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723738971
    },
    {
        "content": "<p>(And, of course, this will require fixing any linter complains which show up now that the linters run on larger parts of mathlib. There are certainly a fair number of \"missing end\" warnings.)</p>",
        "id": 462587536,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723739030
    },
    {
        "content": "<p>The first prerequisite to landing <a href=\"https://github.com/leanprover-community/mathlib4/pull/15845\">#15845</a> has landed <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>.<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/15872\">#15872</a> backports a few more fixes (+22, -7 lines; should be quick to review).<br>\nThe remaining diff should be about +90, -50 lines, i.e. reviewable in itself.<br>\n<span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> I'm interested in your opinion on the linters moved to <code>Mathlib.Init</code> - I would of course prefer not to make your life harder by moving extraneous material into it.</p>",
        "id": 462809159,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723822087
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> how could I adapt the <code>cdot</code> linter to catch instances of <code>$</code> used as <code>&lt;|</code>?</p>",
        "id": 462810033,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1723822437
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"598052\">Jeremy Tan</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462810033\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> how could I adapt the <code>cdot</code> linter to catch instances of <code>$</code> used as <code>&lt;|</code>?</p>\n</blockquote>\n<p>I think that the <code>SyntaxNodeKind</code> for <code>$</code> is <code>«term_$__»</code>, so you could probably latch onto that.  In this case, <code>$</code> and <code>&lt;|</code> do not actually share the <code>SyntaxNodeKind</code>, so I do not think that you will need to look at the corresponding atom.</p>",
        "id": 462824603,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723827045
    },
    {
        "content": "<p>This isn't working?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- The `dollarSyntax` linter flags uses of `&lt;|` that are achieved by typing `$`. -/</span>\n<span class=\"n\">register_option</span><span class=\"w\"> </span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">dollarSyntax</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">  </span><span class=\"n\">defValue</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span>\n<span class=\"w\">  </span><span class=\"n\">descr</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"s2\">\"enable the `dollarSyntax` linter\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">DollarSyntaxLinter</span>\n\n<span class=\"sd\">/-- `findDollarSyntax stx` extracts from `stx` the syntax nodes of `kind` `$`. -/</span>\n<span class=\"n\">partial</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">findDollarSyntax</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Syntax</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">Syntax</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"bp\">@</span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">kind</span><span class=\"w\"> </span><span class=\"n\">args</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">dargs</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">args</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">findDollarSyntax</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">flatten</span>\n<span class=\"w\">    </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">kind</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">``«</span><span class=\"n\">term_</span><span class=\"bp\">$__»</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">dargs</span><span class=\"bp\">.</span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"n\">stx</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">dargs</span>\n<span class=\"w\">  </span><span class=\"bp\">|_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[]</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">inherit_doc</span><span class=\"w\"> </span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">dollarSyntax</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">dollarSyntaxLinter</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Linter</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">withSetOptionIn</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"n\">unless</span><span class=\"w\"> </span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">getLinterValue</span><span class=\"w\"> </span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">dollarSyntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">getOptions</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"n\">return</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">MonadState</span><span class=\"bp\">.</span><span class=\"n\">get</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">messages</span><span class=\"bp\">.</span><span class=\"n\">hasErrors</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">      </span><span class=\"n\">return</span>\n<span class=\"w\">    </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">findDollarSyntax</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">      </span><span class=\"n\">Linter</span><span class=\"bp\">.</span><span class=\"n\">logLint</span><span class=\"w\"> </span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">dollarSyntax</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">m!</span><span class=\"s2\">\"Please use '&lt;|' and not '$` for the pipe operator.\"</span>\n\n<span class=\"n\">initialize</span><span class=\"w\"> </span><span class=\"n\">addLinter</span><span class=\"w\"> </span><span class=\"n\">dollarSyntaxLinter</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">DollarSyntaxLinter</span>\n</code></pre></div>",
        "id": 462873759,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1723854734
    },
    {
        "content": "<p>oh, it works</p>",
        "id": 462873981,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1723855054
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15913\">#15913</a></p>",
        "id": 462957526,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1723886168
    },
    {
        "content": "<p>Regarding style linters, can we move them to a separate file from non-style linters? We might even want a <code>linter.style</code> option that disables only the style linters and not the behavioral ones</p>",
        "id": 462959190,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723887363
    },
    {
        "content": "<p>I'm happy to move them out (and even wondered such before). However, what is a \"style linter\" for you? Let me look at <a href=\"https://github.com/leanprover-community/mathlib4/pull/15616\">#15616</a> and the in-progress linters we have; what do you think about the following? I think it makes sense to think along the criteria of \"is this a style linter\" and \"what is is default state?\" (globally true, on in mathlib etc., off by default).<br>\nWhat do you think about the following? Perhaps actually making this change so should wait for <a href=\"https://github.com/leanprover-community/mathlib4/pull/15616\">#15616</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/15845\">#15845</a> to land, to avoid modifying the same files over and over, but I'm happy to do so.</p>",
        "id": 462961410,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723888918
    },
    {
        "content": "<p>Global linters, not style</p>\n<ul>\n<li><code>globalAttributeIn</code> (globally on)</li>\n<li><code>haveLetLinter</code> (off/only warn on in-progress proofs)</li>\n<li><code>dupNamespace</code> (globally on)</li>\n<li><code>structureInType</code> (globally on)</li>\n<li><code>unusedTacticLinter</code> (globally on)</li>\n<li>the \"confusing variables\" linter <a href=\"https://github.com/leanprover-community/mathlib4/pull/15400\">#15400</a> (on in mathlib? globally? still under development)</li>\n<li>the \"open classical\" linter; the DecidableEq linter (on in mathlib? globally?)</li>\n<li>the <code>checkAsSorry</code> linter (on in mathlib? off in mathlib?)</li>\n<li>the \"repeated typeclass assumption\" linter <a href=\"https://github.com/leanprover-community/mathlib4/pull/14731\">#14731</a> (if/when that lands; probably off by default)</li>\n<li>the <code>minImports</code> linter (currently off by default)</li>\n<li>an eventual linter for a <code>assert_not_exists</code> existing could go here, and be on by default</li>\n</ul>\n<p>Definitely style linters: some of these are specific to mathlib, but perhaps not all</p>\n<ul>\n<li>the <code>multiGoal</code> linter <a href=\"https://github.com/leanprover-community/mathlib4/pull/12339\">#12339</a> (on in mathlib)</li>\n<li>the \"flexible linter\" <a href=\"https://github.com/leanprover-community/mathlib4/pull/11821\">#11821</a> (off by default, for now)</li>\n<li>\"cdot\", \"dollar sign\" and \"lambda syntax\" linters (on in mathlib)</li>\n<li>\"admit instead of sorry\" (on in mathlib)</li>\n<li>\"pedantic\" linter (that might border on a baby formatter; off by default)</li>\n<li>\"module docstring\" linter <a href=\"https://github.com/leanprover-community/mathlib4/pull/15794\">#15794</a> (on in mathlib? on by default?)</li>\n<li>the `assertNotExists\" style linter (on in mathlib) </li>\n<li>the \"long line\" and \"long file\" linters (on in mathlib)</li>\n<li>is \"missing end\" also a style linter? (on in mathlib)</li>\n<li>the terminal refine linter (off by default)</li>\n</ul>\n<p>Something of a middle category</p>\n<ul>\n<li>hash commands\"  and <code>set_option</code> might be something else, as these are more about \"this looks like debugging code in production?</li>\n<li>the <code>oldObtain</code> and <code>refine</code> linter are restriction lints (as Rust's clippy would call them)</li>\n<li>so is the <code>papercut linter</code> <a href=\"https://github.com/leanprover-community/mathlib4/pull/13999\">#13999</a> (perhaps off by default)</li>\n</ul>",
        "id": 462961455,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723888926
    },
    {
        "content": "<p>There is a proliferation of linters that target very specific style guidelines and have almost identical implementations:</p>\n<ul>\n<li>the <code>cdot</code> linter for <code>·</code> vs <code>.</code>;</li>\n<li>the <code>dollarSyntax</code> linter for <code>&lt;|</code> vs <code>$</code>;</li>\n<li>the <code>lambdaSyntax</code> linter for <code>fun</code> vs <code>λ</code>;</li>\n<li>the <code>admit</code> linter for <code>sorry</code> vs <code>admit</code>.</li>\n</ul>\n<p>Should these all have their own separate implementation as different linters, or should they be unified into a single linter that checks each one of these guidelines?</p>",
        "id": 463318041,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724049688
    },
    {
        "content": "<p>from a performance perspective, they should be unified, but they may present as multiple linters (with e.g. separate options for turning them off)</p>",
        "id": 463319936,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724050244
    },
    {
        "content": "<p>Ok, I agree.  I was thinking that they could take a <code>Syntax</code> option, rather than a <code>Bool</code>.  Does this seem reasonable?</p>",
        "id": 463320155,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050289
    },
    {
        "content": "<p>so you would do (untested) <code>set_option linter.style &lt;| true</code> to activate one of them selectively.</p>",
        "id": 463320358,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050331
    },
    {
        "content": "<p>how does that relate?</p>",
        "id": 463320371,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724050335
    },
    {
        "content": "<p>I'm saying that without changing the user-facing presentation of the linters, the linters should be implemented in a single pass with implementation in one file</p>",
        "id": 463320535,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724050372
    },
    {
        "content": "<p><code>linter.style</code> should not be a linter, that sounds like a class of linters</p>",
        "id": 463320714,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724050417
    },
    {
        "content": "<p>Right, this is also what I was thinking and I was trying to think about how to activate the unique linter for checking only one of the style guidelines at a time.</p>",
        "id": 463320745,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050425
    },
    {
        "content": "<p>they would just be <code>set_option linter.dollarSyntax</code> et al</p>",
        "id": 463320884,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724050446
    },
    {
        "content": "<p>Ah, and these options are not options of a linter that checks the syntax, but options that are read by a linter that then scans the syntax once and isolates whatever it should?</p>",
        "id": 463321159,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050504
    },
    {
        "content": "<p>Let me try to explain: there would be an option for each one of <code>dollar</code>, <code>lambda</code>,... and a single linter that sees which ones of these options are on and flags the syntax accordingly.</p>",
        "id": 463321576,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050564
    },
    {
        "content": "<p>Is this what you are suggesting?</p>",
        "id": 463321612,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050569
    },
    {
        "content": "<p>yes</p>",
        "id": 463321650,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1724050575
    },
    {
        "content": "<p>I think that similar groupings may be desirable for other linters as well, especially the ones that inspect the infotrees, since those are actually expensive and some perform very similar checks.</p>",
        "id": 463322176,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050651
    },
    {
        "content": "<p><del>This probably also means defining a function analogous to the <code>logLint</code> function but that works for non-<code>Bool</code>-valued options.</del> Or maybe not, since the <code>Bool</code>valued options exist anyway.</p>",
        "id": 463323132,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724050815
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Duplication.20in.20style.20linters/near/462809159\">said</a>:</p>\n<blockquote>\n<p>I'm interested in your opinion on the linters moved to <code>Mathlib.Init</code> - I would of course prefer not to make your life harder by moving extraneous material into it.</p>\n</blockquote>\n<p>Yes, I'm happy with these!</p>",
        "id": 463325858,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1724051453
    },
    {
        "content": "<p>May I then ping <a href=\"https://github.com/leanprover-community/mathlib4/pull/15845\">#15845</a> again, which is waiting for review?</p>",
        "id": 463354364,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724059061
    },
    {
        "content": "<p>After merging, this PR fails in <code>Data.String.Basic</code>, for reasons I fail to understand. (Importing <code>Batteries</code>, for instance, does not fix it.) Does somebody have a moment to take a look and help?</p>",
        "id": 465419395,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724758813
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">    </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">compare</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">compareOfLessAndEq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">instLT</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">instLT</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lt_iff_toList_lt</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">toList</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>looks like this now finds <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=compare#doc\">docs#compare</a> instead of whatever it should be</p>",
        "id": 465420314,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1724759067
    },
    {
        "content": "<p>Probably much of Mathlib.Tactic.Linter.TextBased should be namespaced</p>",
        "id": 465420405,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1724759093
    },
    {
        "content": "<p><span aria-label=\"bulb\" class=\"emoji emoji-1f4a1\" role=\"img\" title=\"bulb\">:bulb:</span> I see now: the TextBased linter has a compare method, which shadows this one <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span> Thanks for the debugging help; I'll make a PR to namespace those declarations.</p>",
        "id": 465458075,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724766230
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16203\">#16203</a> namespaces the declarations for the TextBased linter</p>",
        "id": 465578850,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724797028
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16212\">#16212</a> moves the <code>setOption</code> linter option to style: should be a quick and easy review</p>",
        "id": 465693051,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724835248
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16269\">#16269</a> removes the text-based line length linter, as the <code>longLine</code> syntax linter is now transitively imported in every file (via Mathlib.Init).</p>",
        "id": 466067415,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1724950469
    }
]