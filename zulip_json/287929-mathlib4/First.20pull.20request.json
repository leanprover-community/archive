[
    {
        "content": "<p>I wrote my <a href=\"https://github.com/leanprover-community/mathlib4/pull/32215\">first pull request</a> yesterday, but it doesn't pass the CI tests. I get the following warning:</p>\n<p><code>warning: Mathlib/ModelTheory/Types.lean:13:0: Modules starting with Mathlib.ModelTheory are not allowed to import modules starting with Mathlib.Topology. This module depends on Mathlib.Topology.Defs.Basic</code></p>\n<p>Why is importing files from Topology not allowed in ModelTheory?</p>\n<p>Of course, any feedback on the lean code is also welcome. I'm sure my code is less than optimal <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span>.</p>",
        "id": 560929877,
        "sender_full_name": "Jonas van der Schaaf",
        "timestamp": 1764435875
    },
    {
        "content": "<p>The goal is to avoid every part of mathlib depending on every other part like a bowl of spaghetti. I don't know much about this particular case though. Would you say the dependency on topology is fundamental to what you're doing?</p>",
        "id": 560933920,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1764439728
    },
    {
        "content": "<p>The simplest approach might be to put the material in the Topology directory rather than where you have currently put it.</p>\n<p>For example the reals are defined in <code>Data/Real/Basic.lean</code> but the topological space structure on it is defined (via the metric space structure) in <code>Topology/MetricSpace/Pseudo/Defs.lean</code> rather than in <code>Data/Real</code>.</p>",
        "id": 560934383,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764440141
    },
    {
        "content": "<p>I feel like this is definitely model theory and I would be confused if I was looking for it and found it under topology instead of model theory</p>",
        "id": 560934731,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764440446
    },
    {
        "content": "<p>like for example <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=krullTopology#doc\">docs#krullTopology</a> is in <code>FieldTheory/KrullTopology</code> it's not under <code>Topology</code></p>",
        "id": 560934794,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764440496
    },
    {
        "content": "<p>It's model theory but it's also topology!</p>",
        "id": 560934918,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764440619
    },
    {
        "content": "<p>I've seen the real numbers come up naturally in topology</p>",
        "id": 560935030,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764440756
    },
    {
        "content": "<p>I've never seen the model-theory types come up in topology</p>",
        "id": 560935060,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764440785
    },
    {
        "content": "<p>but well <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> I'm not a model theorist maybe this is secretly topology</p>",
        "id": 560935078,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764440816
    },
    {
        "content": "<p>yeah <code>Topology/Instances</code> does seem to be about concrete types rather than things like <code>CompleteType T α</code>. I don't know how much topology model theorists need. If they need a bunch of facts from topology then we might have to revisit the restriction (which was added in <a href=\"https://github.com/leanprover-community/mathlib4/pull/23088\">#23088</a> in the file <code>Mathlib/Tactic/Linter/DirectoryDependency.lean</code>  by <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span> ).</p>",
        "id": 560935663,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764441375
    },
    {
        "content": "<p>I won't dare say how much topology is needed. I think it's better to let more seasoned model theorists than me weigh in on this (I think I spotted a few, can I just tag people in here?).</p>",
        "id": 560937867,
        "sender_full_name": "Jonas van der Schaaf",
        "timestamp": 1764443381
    },
    {
        "content": "<p>At the least there should be a new file/folder, I don’t know how smart the linter is though…</p>",
        "id": 560938653,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1764444186
    },
    {
        "content": "<p>Yeah, we could exempt <code>ModelTheory/Topology</code>, for example</p>",
        "id": 560939819,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1764445238
    }
]