[
    {
        "content": "<p>There seem to be two ways one could write a polynomial in Mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">}</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span>\n</code></pre></div>\n<p>The former seems  more natural to me, but the latter seems to be the preferred form, is that correct? Presumably this is to emphasise <code>R[X]</code> as a ring rather than a module?</p>\n<p>(PR which prompted this question: <a href=\"https://github.com/leanprover-community/mathlib4/pull/25905\">#25905</a>)</p>\n<p>Thanks,</p>\n<p>Christopher</p>",
        "id": 524883505,
        "sender_full_name": "Christopher Hoskin",
        "timestamp": 1750338796
    },
    {
        "content": "<p>The first version would be more consistent as <code>a • X ^ 2 + b • X + c • 1</code>.</p>\n<p>One could also replace <code>a • _</code> by <code>agebraMap R R[X] a * _</code> ...</p>",
        "id": 524887981,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1750340115
    },
    {
        "content": "<p>But I agree that it would be nice to have an agreed-upon (<code>simp</code>?) normal form that facilitates manipulating polynomials.</p>",
        "id": 524888229,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1750340198
    },
    {
        "content": "<p>for tactic reasons i'd like to argue for the <code>smul</code> version, as i think that the <code>module</code> tactic works on that form?</p>",
        "id": 524999181,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1750408320
    },
    {
        "content": "<p>i might be wrong about that though</p>",
        "id": 524999246,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1750408338
    },
    {
        "content": "<p>I thought we don't have a good tactic for polynomials as of now</p>",
        "id": 525003564,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1750410010
    },
    {
        "content": "<p>29 messages were moved from this topic to <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Tactic.20for.20polynomial.2Falgebra/with/533855753\">#mathlib4 &gt; Tactic for polynomial/algebra</a> by <span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span>.</p>",
        "id": 533855755,
        "sender_full_name": "Notification Bot",
        "timestamp": 1754941198
    },
    {
        "content": "<p>I tried to use the smul form not too long ago, only to quickly realize the lack of API around it, and that most results expected the mul form instead...</p>",
        "id": 534789787,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755387132
    },
    {
        "content": "<p>I think it's clear that if we switched we'd have to do so globally across the polynomial API</p>",
        "id": 534812828,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755423643
    }
]