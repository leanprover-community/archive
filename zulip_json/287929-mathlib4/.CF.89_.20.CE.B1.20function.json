[
    {
        "content": "<p>The omega function is pretty common in stuff regarding ordinals, and I think it'd be nice to have it in Mathlib proper.</p>",
        "id": 471873540,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726889173
    },
    {
        "content": "<p>Right now, the way we've been spelling this out is as <code>ord ⚬ aleph</code>. This is slightly annoying, and has led to some weird theorem statements like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.ord_aleph_isLimit#doc\">docs#Cardinal.ord_aleph_isLimit</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.ord_aleph_eq_enum_card#doc\">docs#Cardinal.ord_aleph_eq_enum_card</a>, etc.</p>",
        "id": 471873601,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726889238
    },
    {
        "content": "<p>Now, the biggest problem with adding this function is that we can't call it <code>omega</code>, as that's currently being used for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.omega#doc\">docs#Ordinal.omega</a>. We also can't call it <code>omega'</code> (a lazy cop-out in my view) if we want to have both the version enumerating all initial ordinals, and only the infinite ones, as with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.aleph#doc\">docs#Cardinal.aleph</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.aleph%27#doc\">docs#Cardinal.aleph'</a></p>",
        "id": 471873742,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726889349
    },
    {
        "content": "<p>I propose the solution of renaming <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.omega#doc\">docs#Ordinal.omega</a> to <code>Ordinal.omega0</code>, matching <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.aleph0#doc\">docs#Cardinal.aleph0</a>. We can still keep the notation <code>ω</code> for it, so it wouldn't be a super radical change, but I can't imagine there's not going to be controversy over it.</p>",
        "id": 471873862,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726889447
    },
    {
        "content": "<p>Of course, any better approaches are welcome.</p>",
        "id": 471873882,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726889463
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"565854\">@Nir Paz</span> any ideas?</p>",
        "id": 471873935,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726889521
    },
    {
        "content": "<p>Perhaps <code>omegaFun</code>?</p>",
        "id": 471874687,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1726890075
    },
    {
        "content": "<p>That might work. I'm not sure if I like that naming convention, though.</p>",
        "id": 471874779,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726890135
    },
    {
        "content": "<p>Another idea I had was calling it <code>Cardinal.omega</code>. It's definitely a bit weird for a function <code>Ordinal → Ordinal</code> to be in the <code>Cardinal</code> namespace, but I think it sort of makes sense, since it's still enumerating cardinals, kind of.</p>",
        "id": 471874823,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726890188
    },
    {
        "content": "<p>/poll What should the function ω_ α be called?<br>\n<a href=\"http://Ordinal.omega\">Ordinal.omega</a><br>\nOrdinal.omegaFun<br>\n<a href=\"http://Cardinal.omega\">Cardinal.omega</a><br>\nCardinal.ord ⚬ Cardinal.aleph'</p>",
        "id": 471877848,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726892093
    },
    {
        "content": "<p>Is there a good reason to distinguish cardinals from their initial ordinals? They are systematically confounded in the set theoretic literature. (FWIW, I can think of several potentially useful reasons for that but IMHO none stand out as a really good reason.)</p>",
        "id": 471878894,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726892786
    },
    {
        "content": "<p>The literature doesn't even distinguish ordinals from sets! Not sure if we can trust it too much on these manners...</p>",
        "id": 471878959,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726892839
    },
    {
        "content": "<p>But yes, there are very good reasons to distinguish them. The arithmetic is completely distinct, and their constructors are completely distinct too.</p>",
        "id": 471879148,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726892992
    },
    {
        "content": "<p>Yes, but that's done because it's very convenient. Is there a good reason why that convenience shouldn't transfer to mathlib?</p>",
        "id": 471879151,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726892994
    },
    {
        "content": "<p>Cardinal arithmetic is mostly trivial (assuming AC) so I don't see the point. (Exponentiation is the exception, but how often is ordinal exponentiation used? In set theory papers, it is almost always clarified when ordinal exponentiation is meant.)</p>",
        "id": 471879282,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726893041
    },
    {
        "content": "<p>Sure, but in any case, if cardinals were just a subtype of ordinals, we'd run into a lot of problems regarding whether <code>x + y</code> is supposed to be interpreted as cardinal or ordinal arithmetic.</p>",
        "id": 471879387,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726893120
    },
    {
        "content": "<p>Ordinal exponentiation is used most often with the Cantor Normal Form, which definitely appears in more than a few places.</p>",
        "id": 471879509,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726893186
    },
    {
        "content": "<p>The set theoretic convention is well established: it's cardinal arithmetic unless otherwise specified. Mathlib could do the same.</p>",
        "id": 471879531,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726893207
    },
    {
        "content": "<p>I think you're getting close to a point which also explains why we shouldn't do this - cardinals and ordinals are used in quite different places! If you read a text on cardinals, of course cardinal arithmetic will be the default. But the opposite is true if you read a text on ordinals.</p>",
        "id": 471879731,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726893306
    },
    {
        "content": "<p>Really, the current design where cardinals are a quotient of types under equivalence, and ordinals are a quotient of well-orders under isomorphism, has been very successful. It captures the \"intended\" ZFC definition, and I see no reason to change it.</p>",
        "id": 471879797,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726893351
    },
    {
        "content": "<p>I think the last textbook on ordinal arithmetic was written by Kuratowski before WWII...</p>",
        "id": 471879905,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726893400
    },
    {
        "content": "<p>I've come across Sierpinski's 1965 text on ordinals and cardinals in the past. I think that just uses the same notation for ordinal and cardinal arithmetic and distinguishes based on context.</p>",
        "id": 471880151,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726893562
    },
    {
        "content": "<p>Like, of course ordinals are a niche topic, even more so than cardinals are. But we shouldn't just sweep it under the cardinal rug, especially given that there's still a bunch of ordinal-related stuff in Mathlib.</p>",
        "id": 471880239,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726893604
    },
    {
        "content": "<p>I'm not saying that ordinal arithmetic should be eliminated! I'm just saying that cardinal arithmetic should be the default and that ordinal arithmetic should require additional annotations from the user.</p>",
        "id": 471880846,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726893906
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471879797\">said</a>:</p>\n<blockquote>\n<p>Really, the current design where cardinals are a quotient of types under equivalence, and ordinals are a quotient of well-orders under isomorphism, has been very successful. It captures the \"intended\" ZFC definition, and I see no reason to change it.</p>\n</blockquote>\n<p>That's the non AC version. You won't get many set theorists on board with that definition: the identification of cardinals with their initial ordinals is <em>systematic</em> in modern set theory.</p>",
        "id": 471881199,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726894140
    },
    {
        "content": "<p>To my understanding, the reason set theorists don't agree with this definition is simply because it doesn't work in ZFC! The resulting equivalence classes would be proper classes. What the von Neumann encoding achieves is unique representatives of each equivalence class, and that's the main reason we use it.</p>",
        "id": 471881399,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726894275
    },
    {
        "content": "<p>(Of course, you can also sidestep this issue by using Scott's trick.)</p>",
        "id": 471881439,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726894310
    },
    {
        "content": "<p>Again, I understand cardinals are a subset of ordinals within standard mathematics. Likewise, natural numbers are a subset of integers, which are a subset of the real numbers. But that's not how we do stuff in Mathlib either.</p>",
        "id": 471881602,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726894424
    },
    {
        "content": "<p>(not to mention, this isn't what the discussion was originally about)</p>",
        "id": 471881675,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726894450
    },
    {
        "content": "<p>Again, Scott's trick is from the 1960's. Dana Scott is alive, of course, but set theory has moved on from this a long long time ago. If the goal is for mathlib to include some modern set theory then this is the wrong place to get stuck on.</p>",
        "id": 471881706,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726894475
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471881602\">said</a>:</p>\n<blockquote>\n<p>Again, I understand cardinals are a subset of ordinals within standard mathematics. Likewise, natural numbers are a subset of integers, which are a subset of the real numbers. But that's not how we do stuff in Mathlib either.</p>\n</blockquote>\n<p>Hmm, this does suggest that maybe <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.ord#doc\">docs#Cardinal.ord</a> should be a coercion</p>",
        "id": 471881920,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1726894600
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119741\">François G. Dorais</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471881706\">said</a>:</p>\n<blockquote>\n<p>Again, Scott's trick is from the 1960's. Dana Scott is alive, of course, but set theory has moved on from this a long long time ago. If the goal is for mathlib to include some modern set theory then this is the wrong place to get stuck on.</p>\n</blockquote>\n<p>If you go down that route, I think you'll find a lot of mathematics has moved away from set theory altogether. There's a reason Lean is type-theoretic and not set-theoretic.</p>",
        "id": 471882126,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726894739
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471881920\">said</a>:</p>\n<blockquote>\n<p>Hmm, this does suggest that maybe <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.ord#doc\">docs#Cardinal.ord</a> should be a coercion</p>\n</blockquote>\n<p>Well, that would certainly be another solution to this <code>ω_ α</code> debacle! Maybe even the best solution.</p>",
        "id": 471882316,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726894840
    },
    {
        "content": "<p>That's not the point: I'm talking about set theory as an area of mathematics, on the same level as combinatorics, algebra, analysis and so on.</p>\n<p>PS: The foundations issue is irrelevant and a red herring: Once a person decides to <em>use</em> Lean they accept that as a foundation. No further discussion required.</p>",
        "id": 471882494,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726894963
    },
    {
        "content": "<p>Well, if we're doing set-theory without regard for ZFC, then I see no reason to have to conform to its limitations.</p>",
        "id": 471882982,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726895229
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471881675\">said</a>:</p>\n<blockquote>\n<p>(not to mention, this isn't what the discussion was originally about)</p>\n</blockquote>\n<p>Is any moderator available to move this discussion to a separate thread?</p>",
        "id": 471883009,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1726895255
    },
    {
        "content": "<p>If you really want to do ZFC-like set-theory, where ordinals are sets and cardinals are ordinals, I'm actually working on a limited version of that. See <a href=\"https://github.com/leanprover-community/mathlib4/pull/15793\">#15793</a></p>",
        "id": 471883109,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726895318
    },
    {
        "content": "<p>All of set theory assumes ZFC by default, but a lot is actually agnostic, without recognizing it.</p>\n<p>In any case, to summarize my point of view: If Mathlib wants to include modern set theory then it should be friendly to set theorists, focusing on issues that don't really exist in Lean and were fully solved in classical set theory over 50 years ago is the wrong approach.</p>",
        "id": 471883612,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726895671
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471882316\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471881920\">said</a>:</p>\n<blockquote>\n<p>Hmm, this does suggest that maybe <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Cardinal.ord#doc\">docs#Cardinal.ord</a> should be a coercion</p>\n</blockquote>\n<p>Well, that would certainly be another solution to this <code>ω_ α</code> debacle! Maybe even the best solution.</p>\n</blockquote>\n<p>Though actually... it would certainly feel a bit wrong to talk about e.g. \"ordinals less than ℵ₁\"</p>",
        "id": 471883779,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726895793
    },
    {
        "content": "<p>It might or might not be the case that the <code>ω_</code> notation takes care of this weirdness</p>",
        "id": 471883837,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726895834
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119741\">François G. Dorais</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471883612\">said</a>:</p>\n<blockquote>\n<p>In any case, to summarize my point of view: If Mathlib wants to include modern set theory then it should be friendly to set theorists, focusing on issues that don't really exist in Lean and were fully solved in classical set theory over 50 years ago is the wrong approach.</p>\n</blockquote>\n<p>Is there any example of set theory you have in mind that wouldn't work under the current approach?</p>",
        "id": 471883952,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726895891
    },
    {
        "content": "<p>I'm not very familiar with modern set theory, but I believe a lot of it is moreso model theory? And that seems to be coming along just fine in Mathlib.</p>",
        "id": 471883980,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726895914
    },
    {
        "content": "<p>This would be a good long-term goal: <a href=\"https://www.taylorfrancis.com/books/mono/10.1201/9781439863466/set-theory-tomek-bartoszynski-haim-judah\">Set Theory: On the Structure of the Real Line</a></p>\n<p>A lot of this is way beyond Mathlib's reach (for now). However, many basic results are within Mathlib reach. For example, the fact that [0,1] is the union of a measure zero set and a set of  the first Baire category is within reach of Mathlib (if it hasn't been proven already). See the book for many applications and generalizations of this fact.</p>",
        "id": 471886222,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726897195
    },
    {
        "content": "<p>That seems fun. I don't see how any of this wouldn't be possible with the current Mathlib library, though.</p>",
        "id": 471887411,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726897667
    },
    {
        "content": "<p>A lot of this feels more related to measure theory than to anything ordinals or cardinals-like, if I'm being honest</p>",
        "id": 471887968,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726897871
    },
    {
        "content": "<p>Look at the early chapters and, if you're interested, contact me for help, advice, and perhaps collaboration. </p>\n<p>Yes, if you're interested in cardinal arithmetic then the plot thickens <em>very</em> quickly. Mathlib is very very far away from PCF theory. However, the GCH theory is really well known with the exception of singular cardinals.</p>",
        "id": 471889199,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726898382
    },
    {
        "content": "<p>Oh, I've heard about PCF! I haven't actually read about it though. That might be a project for myself if I find the time for it.</p>",
        "id": 471889626,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726898520
    },
    {
        "content": "<p>I do insist on my point though, there doesn't seem to be anything about this that requires cardinals to be ordinals, or sets, or anything of the sort.</p>",
        "id": 471889894,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726898626
    },
    {
        "content": "<p>PCF is really hard core!</p>",
        "id": 471889953,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726898642
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471889894\">said</a>:</p>\n<blockquote>\n<p>I do insist on my point though, there doesn't seem to be anything about this that requires cardinals to be ordinals, or sets, or anything of the sort.</p>\n</blockquote>\n<p>The <em>proofs</em> almost always assume that. So if you want to translate the textbook proofs to Lean, then you either need a boilerplate tool to translate, or you make Lean's language do the \"right thing\" from the outset.</p>",
        "id": 471890275,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726898829
    },
    {
        "content": "<p>Translating proofs from mathematical notation to Lean notation is far from a problem unique to cardinals.</p>",
        "id": 471890329,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726898876
    },
    {
        "content": "<p>Can you give a simple example? Hopefully I can exemplify how this shouldn't cause a big problem.</p>",
        "id": 471890396,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726898905
    },
    {
        "content": "<p>Like I said earlier, set theory is no diffrerent from algebra, combinatorics, analysis in that matter.</p>",
        "id": 471890457,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726898958
    },
    {
        "content": "<p>I don't think the problems will be evident until you try to prove something specific. (That's how it always works out for me, no matter how hard I work on anticipated roadblocks.)</p>",
        "id": 471890602,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726899060
    },
    {
        "content": "<p>Well, it's not like this part of the library hasn't been stress-tested before. We have some filters on cardinals, we've proved the cardinality of a sigma-algebra, there's some complex transfinite induction proofs like the one for Nöbelling's theorem.</p>",
        "id": 471890802,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726899195
    },
    {
        "content": "<p>And of course, the formalization of New Foundations in Lean.</p>",
        "id": 471891035,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726899358
    },
    {
        "content": "<p>I'm thinking about how to define <code>pcf</code> in Lean. Really the only subtlety is that you'd have to define your order on the product of the types representing the cardinals, in order for the cofinality to be in the same universe. But everything else should work the same.</p>",
        "id": 471892420,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726900402
    },
    {
        "content": "<p>PCF is rough but if you have a germ then I'm happy to look at it and give feedback with my set theorist hat on and without.</p>",
        "id": 471893311,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726901034
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471889626\">said</a>:</p>\n<blockquote>\n<p>Oh, I've heard about PCF! I haven't actually read about it though. That might be a project for myself if I find the time for it.</p>\n</blockquote>\n<p>I've actually wanted to start formalizing PCF for a while!<br>\nThe basics (the representation theorem) don't require a lot of deep theory, mainly club stuff (part of the reason I'm working on it) and basic analysis of products of well orders, the hardest part of which will probably be figuring out the best definition.</p>",
        "id": 471913887,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726911317
    },
    {
        "content": "<p>Maybe one day we can get to the famous <code>aleph (ω₄)</code> theorem.</p>",
        "id": 471913905,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726911332
    },
    {
        "content": "<p>With regards to this discussion, I definitely think ordinals and cardinals should stay as seperate as they are. We're working in type theory, not set theory, and I feel like not having them as clear distinct objects with distinct structures is \"fighting the foundation\" a little bit, trying to work like we're in ZFC.</p>",
        "id": 471914116,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726911440
    },
    {
        "content": "<p>Do you have good resources on PCF theory? I'm interested in learning and hopefully contributing to its addition in Mathlib <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 471914262,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726911506
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471914262\">said</a>:</p>\n<blockquote>\n<p>Do you have good resources on PCF theory? I'm interested in learning and hopefully contributing to its addition in Mathlib :)</p>\n</blockquote>\n<p>The chapter \"Cardinal arithmetic\" in the handbook of set theory is a bit misleading in its name, as it's 100% PCF! There was a course on PCF in my uni using this as a textbook and it was great!</p>",
        "id": 471914405,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726911600
    },
    {
        "content": "<p>A medium range goal would be the \"Existence of exact upper bounds\" section, which gives some cool combinatorial and cardinal arithmetic corrolaries, like Silver's theorem</p>",
        "id": 471914592,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726911684
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471874823\">said</a>:</p>\n<blockquote>\n<p>Another idea I had was calling it <code>Cardinal.omega</code>. It's definitely a bit weird for a function <code>Ordinal → Ordinal</code> to be in the <code>Cardinal</code> namespace, but I think it sort of makes sense, since it's still enumerating cardinals, kind of.</p>\n</blockquote>\n<p>A quick test with <code>Cardinal.omega</code> makes it seem like there would be a lot of ambiguity. I have to specify <code>Ordinal.omega</code> even when it's the only possible interpretation of the 2.</p>",
        "id": 471914876,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726911853
    },
    {
        "content": "<p>Lean can't disambiguate theorem names based on context. If we're working with <code>Cardinal.omega</code> chances are both the <code>Ordinal</code> and <code>Cardinal</code> namespaces are open, so in order to get this to work we'd have to make either function protected.</p>",
        "id": 471915051,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726911960
    },
    {
        "content": "<p>If we have both the <code>ω</code> and <code>ω_</code> notations available, then whichever we protect shouldn't matter too much.</p>",
        "id": 471915134,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726911994
    },
    {
        "content": "<p>Though it probably makes sense to protect <code>Cardinal.omega</code>, since it's likely the one which will see less use.</p>",
        "id": 471915197,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726912037
    },
    {
        "content": "<p>And in theorem names we'll use our brains to disambiguate based on context and use <code>omega</code> for both. Then <code>Cardinal.omega</code> sounds good!</p>",
        "id": 471915662,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726912265
    },
    {
        "content": "<p>If any theorems are applicable to both, we can protect the <code>Cardinal.omega</code> version. But I imagine a lot of them won't be, e.g. <code>Cardinal.omega_inj</code>, <code>Cardinal.isNormal_omega</code>, <code>Cardinal.isInitial_omega</code>, etc.</p>",
        "id": 471915862,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726912371
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"119741\">François G. Dorais</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/471889199\">said</a>:</p>\n<blockquote>\n<p>Look at the early chapters and, if you're interested, contact me for help, advice, and perhaps collaboration. </p>\n<p>Yes, if you're interested in cardinal arithmetic then the plot thickens <em>very</em> quickly. Mathlib is very very far away from PCF theory. However, the GCH theory is really well known with the exception of singular cardinals.</p>\n</blockquote>\n<p>This isn't the place for a long discussion, but can you say a bit about what's missing for PCF? The basics are very elementary, and once we have the basics of clubs (they're on their way) I don't see a reason we can't start formalizing it very soon.</p>",
        "id": 471928472,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726917688
    },
    {
        "content": "<p>I changed my mind: I think avoiding name clashing (even if there wouldn't be a lot of it) and ambiguity is good enough for the only disadvantage of using <code>omega0</code> rather than <code>omega</code> in theorem names.</p>\n<p>This fits with the pattern of <code>aleph</code> and <code>aleph0</code> and asymptotically it's the safest way. We can't predict too well what problems might arise long-term from <code>omega</code> having 2 meanings, both in code and in theorem names.</p>",
        "id": 471956484,
        "sender_full_name": "Nir Paz",
        "timestamp": 1726937124
    },
    {
        "content": "<p>I agree, but I'd like to see wider consensus before doing this change first. I don't think there's any literature out there calling <code>ω</code> \"omega zero\", so we'd be rubbing against the grain somewhat.</p>",
        "id": 472014907,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726984070
    },
    {
        "content": "<p>Using <code>ω₀</code> would never be unexpected in the literature and it is sometimes used. Since plain <code>ω</code> is shorter and synonymous, most authors prefer that.</p>",
        "id": 472022356,
        "sender_full_name": "François G. Dorais",
        "timestamp": 1726989868
    },
    {
        "content": "<p>Oh that's perfect! Glad I'm not completely breaking convention here.</p>",
        "id": 472022384,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1726989894
    },
    {
        "content": "<p>as somebody not deeply familiar with set theory, I think I would immediately get that <code>omega0</code> is the \"omega\" one might have seen in some paper / introductory course, and <code>omega _</code> would probably be the higher abstraction. This analogy to <code>aleph</code> seems very reasonable<span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 472838257,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1727338060
    },
    {
        "content": "<p>It looks like there's agreement? I'll make a PR depracating <code>Ordinal.omega</code> for <code>Ordinal.omega0</code>.</p>",
        "id": 472852550,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727342830
    },
    {
        "content": "<p>I do have a question, shouldn't we be using a subscript 0?</p>",
        "id": 472866000,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727347261
    },
    {
        "content": "<p>Like, we aren't using subscripts in <code>aleph0</code>, but perhaps that should be changed too.</p>",
        "id": 472866059,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727347293
    },
    {
        "content": "<p>Maybe this is too bikesheddy of a discussion though. I do think the subscript version would be more readable, but it's not like what we have is terrible</p>",
        "id": 472866448,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727347432
    },
    {
        "content": "<p>It feels weird to put subscripts in the middle of theorem names somehow. Are there stuff like this in mathlib?</p>",
        "id": 472866725,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727347523
    },
    {
        "content": "<p>There's a few lemmas about groups with 0 that use a subscript 0. But at the same time, the general convention is to keep theorem names ASCII.</p>",
        "id": 472866863,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727347565
    },
    {
        "content": "<p>I prefer keeping it the way it is, mostly because I actually find the current version very intuitive/readable.</p>",
        "id": 472868300,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727348053
    },
    {
        "content": "<p>Anyways I'm not ignoring the suggestion or anything, but because I already made the changes and need some help anyways I made a PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/17158\">#17158</a></p>",
        "id": 472869208,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727348363
    },
    {
        "content": "<p>There's (apparantly) a linter against declarations with <code>'</code> in the name without docstrings, and I had to turn it off for <code>exists_lt_mul_omega0'</code> in <code>Ordinal.Notation</code>, even though the theorem didn't have a docstring anyways.</p>",
        "id": 472869567,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727348483
    },
    {
        "content": "<p>The linter is triggered for any name that isn't the original, is there actually a docstring for it somewhere I'm not seeing? Not sure what's happening</p>",
        "id": 472869754,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727348537
    },
    {
        "content": "<p>Oh, it's in the (huge) exceptions list</p>",
        "id": 472870240,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727348718
    },
    {
        "content": "<p>That's a brand-new linter, see <a href=\"#narrow/stream/287929-mathlib4/topic/theorem.20names.20with.20primes.3F\">discussion</a> and the merged <a href=\"https://github.com/leanprover-community/mathlib4/pull/16694\">#16694</a>.</p>",
        "id": 472882440,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1727352968
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"565854\">Nir Paz</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/472869567\">said</a>:</p>\n<blockquote>\n<p>There's (apparantly) a linter against declarations with <code>'</code> in the name without docstrings, and I had to turn it off for <code>exists_lt_mul_omega0'</code> in <code>Ordinal.Notation</code>, even though the theorem didn't have a docstring anyways.</p>\n</blockquote>\n<p>How is that theorem currently called? I can't find it</p>",
        "id": 472883371,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1727353310
    },
    {
        "content": "<p>I don't have an input on <code>0</code> vs <code>₀</code>, nor am I familiar with what the naming convention says or should say. (certainly I didn't pick one actively in the message above). I assume consistency is important but otherwise that might be a design choice that's up to the people actively contributing to this part of the library, i.e. yous ...</p>\n<p>There was a case of <code>supₛ</code> and <code>supᵢ</code> last year which got changed back to <code>sSup</code> and <code>iSup</code> due to bad readablity of the subscripts.</p>\n<p>The <code>₀</code> in group theory are to avoid primes in a large part of the group theory api if I remember correctly:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/287929-mathlib4/topic/theorem.20names.20with.20primes.3F/near/469294355\">said</a>:</p>\n<blockquote>\n<p>A bunch of such [primed] lemmas are due to the <code>Group</code> vs <code>GroupWithZero</code> naming convention. However, we have decided ages ago to switch from <code>'</code> to <code>₀</code>. I would rather have us finish those renames [...].</p>\n</blockquote>",
        "id": 472884145,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1727353567
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/472883371\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"565854\">Nir Paz</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/472869567\">said</a>:</p>\n<blockquote>\n<p>There's (apparantly) a linter against declarations with <code>'</code> in the name without docstrings, and I had to turn it off for <code>exists_lt_mul_omega0'</code> in <code>Ordinal.Notation</code>, even though the theorem didn't have a docstring anyways.</p>\n</blockquote>\n<p>How is that theorem currently called? I can't find it</p>\n</blockquote>\n<p>Not at a comouter, same name without the zero in a namespace I don't remember, the notations thing.</p>",
        "id": 472884748,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727353778
    },
    {
        "content": "<p><code>Noadd</code> or something like that</p>",
        "id": 472884871,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727353810
    },
    {
        "content": "<p><code>ONote.exists_lt_mul_omega'</code></p>",
        "id": 472885084,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727353890
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.CF.89_.20.CE.B1.20function/near/472882440\">said</a>:</p>\n<blockquote>\n<p>That's a brand-new linter, see <a href=\"#narrow/stream/287929-mathlib4/topic/theorem.20names.20with.20primes.3F\">discussion</a> and the merged <a href=\"https://github.com/leanprover-community/mathlib4/pull/16694\">#16694</a>.</p>\n</blockquote>\n<p>I never clicked on that thread, I thought it was about theorem names with prime numbers in them <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span></p>",
        "id": 472885446,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727354001
    },
    {
        "content": "<p>About <code>private def exists_lt_mul_omega'</code>:<br>\n1) why is this lemma primed when there seems to be no unprimed version?<br>\n2) should the docPrime linter ignore <code>private</code> declarations?</p>",
        "id": 472886504,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1727354326
    },
    {
        "content": "<p>It's from mathlib3, there were some primed and unprimed lemmas in the commit it was added in, so this was probably primed by mistake and wasn't caught in review.</p>",
        "id": 472888867,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727355020
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib3/pull/14072\">#14072</a> if someone's interested</p>",
        "id": 472889637,
        "sender_full_name": "Nir Paz",
        "timestamp": 1727355230
    },
    {
        "content": "<p>Hi! Just want to clarify my plan with introducing <a href=\"http://Ordinal.omega\">Ordinal.omega</a></p>",
        "id": 475022737,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162221
    },
    {
        "content": "<p>I thought we could use advantage of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.enumOrd#doc\">docs#Ordinal.enumOrd</a> to do this easily. Specifically, we define a predicate for initial ordinals, and define <code>omega</code> as its enumerator function.</p>",
        "id": 475022827,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162275
    },
    {
        "content": "<p>This could then be used to golf <code>Cardinal.aleph</code> as <code>(Ordinal.omega x).card</code>.</p>",
        "id": 475022915,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162345
    },
    {
        "content": "<p>Doing this requires a few preliminary PRs though. First I'd like to separate the Cardinal.Ordinal file into Cardinal.Aleph and Cardinal.Arithmetic. The omega function, as well as the predicate for initial ordinals, would get defined in the former.</p>",
        "id": 475023029,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162427
    },
    {
        "content": "<p>I have an open PR for this, but I need to merge the changes from the omega0 refactor. I'll try and get that done this afternoon.</p>",
        "id": 475023041,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162449
    },
    {
        "content": "<p>I also have some general improvements to the <code>enumOrd</code> API. There's an open PR too, but it's a draft, as the lemmas about <code>aleph</code> and <code>enumOrd</code> were causing trouble. So I'd like those lemmas to be deprecated first. I also have an open PR for that.</p>",
        "id": 475023168,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162573
    },
    {
        "content": "<p>And after all that, we can introduce that function <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 475023489,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728162868
    },
    {
        "content": "<p>Opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/17669\">#17669</a> introducing the omega function!</p>",
        "id": 476474286,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1728690754
    },
    {
        "content": "<p>It's ready for review now!</p>",
        "id": 477316061,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729119666
    }
]