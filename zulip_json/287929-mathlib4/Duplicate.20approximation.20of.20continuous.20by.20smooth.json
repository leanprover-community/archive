[
    {
        "content": "<p>I realize just as the new <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Continuous.exists_contDiff_approx#doc\">docs#Continuous.exists_contDiff_approx</a> got merged that we already had <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Continuous.exists_contDiff_dist_le_of_forall_mem_ball_dist_le#doc\">docs#Continuous.exists_contDiff_dist_le_of_forall_mem_ball_dist_le</a> and friends <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span> </p>\n<p>I'm not quite sure how I missed it: either I forgot to search, or I was strongly expecting the result to be proven using partitions of unity.</p>\n<p>I believe the results I added are better, because they apply to manifolds (see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Continuous.exists_contMDiff_approx#doc\">docs#Continuous.exists_contMDiff_approx</a>) where (global) convolution wouldn't work, give a more precise control of the support, and allow the required precision to be any continuous positive function of the point. They also do not require completeness of the target space because there's no vector-valued integration involved. I don't have an analog of the estimate in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Continuous.exists_contDiff_dist_le_of_forall_mem_ball_dist_le#doc\">docs#Continuous.exists_contDiff_dist_le_of_forall_mem_ball_dist_le</a>, but I think I can do it.</p>\n<p>So, I would vote for removing the pre-existing results (but of course keep their preliminaries, convolution by bump functions is still a natural operations!), after making sure that APIs match up. How does that sound?</p>\n<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> <span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> <span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span> <span class=\"user-mention\" data-user-id=\"412682\">@Moritz Doll</span></p>",
        "id": 557921251,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1763469753
    },
    {
        "content": "<p>As long as \"removing\" means \"deprecating\" :)</p>",
        "id": 557935667,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1763472995
    },
    {
        "content": "<p>Should we allow a manifold as the codomain?</p>",
        "id": 558108651,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1763523127
    },
    {
        "content": "<p>Also, I want to have these versions for complex analysis (I was thinking about rewriting the proof using Weierstrass/Bernstein approximation, but your approach may be better):</p>\n<ul>\n<li>if <code>x</code> and <code>y</code> are joined in an open set, then one can choose the path to be smooth;</li>\n<li>if two smooth paths from <code>x</code> to <code>y</code> are homotopic in an open set, then one can choose a smooth homotopy.</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/XY_problem\">#xy</a>: I want to use these two results together with <a href=\"https://github.com/leanprover-community/mathlib4/pull/24019\">#24019</a> to show that a complex differentiable function on a simply connected open subset of <code>Complex</code> admits a primitive.</p>",
        "id": 558109093,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1763523419
    },
    {
        "content": "<p>I don't know if it's OK for this result to depend on parts of the manifolds library.</p>",
        "id": 558109388,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1763523646
    },
    {
        "content": "<p>In fact, I may decide to write the other approach anyway, because it gives an approximation by multivariate polynomials.</p>",
        "id": 558128661,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1763536224
    }
]