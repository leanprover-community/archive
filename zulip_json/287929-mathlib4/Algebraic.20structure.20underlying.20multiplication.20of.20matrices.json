[
    {
        "content": "<p>Some matrix identities such as the Woodbury identity <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Matrix.invertibleAddMulMul#doc\">docs#Matrix.invertibleAddMulMul</a> are not at all specific to matrices but require a kind of structure, in which we have a bunch of heterogeneous bilinear multiplications. <br>\nI wonder what this structure would be. (This is related to the rather elementary PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/31507\">#31507</a>)</p>\n<p>The multiplications can be defined using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=HMul#doc\">docs#HMul</a> but there doesn't seem to be anything such as distributivity for hetereogeneous multiplications.</p>",
        "id": 554929656,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1762872197
    },
    {
        "content": "<p>I fear that this also requires developing <code>HMulAssoc</code>, <code>HMulOneClass</code> etc</p>",
        "id": 554930444,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1762872375
    },
    {
        "content": "<p>Could bimodules do the job? (but I would like a <code>HMul</code>-like notation rather than <code>smul</code>). (No : that's still missing the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>n</mi><mo>×</mo><mi>p</mi><mo separator=\"true\">,</mo><mi>p</mi><mo>×</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(n\\times p, p\\times n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span> multiplication of matrices.)</p>",
        "id": 554930682,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1762872443
    },
    {
        "content": "<p>When reviewing this PR, I considered that there was nothing truly matrix specific, but then merged it anyway for exactly the reason that we don't currently have any unifying type classes for this. Indeed, to my knowledge, there are exactly two heterogeneous mul/smul classes in Mathlib: <code>Matrix</code> and <code>MeasureTheory.Lp</code>. These each have their own dedicated API for the heterogeneity. If we managed to find a third, I was going to consider doing the generalization.</p>",
        "id": 555256101,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1763000264
    }
]