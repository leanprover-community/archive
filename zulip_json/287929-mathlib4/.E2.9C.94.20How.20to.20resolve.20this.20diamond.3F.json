[
    {
        "content": "<p>I'm trying to write some typeclasses for top, like there are for zero for multiplication. I created</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">class</span><span class=\"w\"> </span><span class=\"n\">AddTopClass</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">extends</span><span class=\"w\"> </span><span class=\"n\">Top</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Add</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Top is a left aborbing element for addition -/</span>\n<span class=\"w\">  </span><span class=\"n\">top_add</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊤</span>\n<span class=\"w\">  </span><span class=\"sd\">/-- Top is a right aborbing element for addition -/</span>\n<span class=\"w\">  </span><span class=\"n\">add_top</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊤</span>\n</code></pre></div>\n<p>which is analogous to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MulZeroClass#doc\">docs#MulZeroClass</a>, but this creates a diamond with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OrderTop#doc\">docs#OrderTop</a>, which I sometimes want together with it. What's the best way to resolve this?</p>",
        "id": 450058146,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720499524
    },
    {
        "content": "<p>Is this class a Prop? If so then surely it can't create diamonds?!  Oh, you're extending rather than asking. You could just ask</p>",
        "id": 450079451,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720508004
    },
    {
        "content": "<p>No, it extends <code>Top</code> and <code>Add</code>, like MulZeroClass extends <code>Zero</code> and <code>Mul</code></p>",
        "id": 450079632,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720508085
    },
    {
        "content": "<p>Right but the point of that is that I don't want to have to say that a Ring has a 0 and a mul because a ring is a basic object.</p>",
        "id": 450079747,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720508157
    },
    {
        "content": "<p><code>+</code> and top are in distinct heirarchies so you should probably just use a mixin, like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopologicalGroup#doc\">docs#TopologicalGroup</a></p>",
        "id": 450079943,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720508262
    },
    {
        "content": "<p>Ah, compared to <code>*</code> and 0 which are in the same one? I understand. Should I change the name to make it clear it's a <code>Prop</code>?</p>",
        "id": 450080153,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720508360
    },
    {
        "content": "<p>My personal opinion is that every prop-valued typeclass should be called IsSomething but others (who know the heirarchies well) complain that this adds unnecessary length. I think that not putting Is adds unnecessary confusion for beginners. It's an ongoing debate.</p>",
        "id": 450080464,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720508463
    },
    {
        "content": "<p>Alright, I created <a href=\"https://github.com/leanprover-community/mathlib4/pull/14598\">#14598</a> with <code>IsTopAbsorbing</code></p>",
        "id": 450339353,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720584377
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> has marked this topic as resolved.</p>",
        "id": 450339363,
        "sender_full_name": "Notification Bot",
        "timestamp": 1720584384
    }
]