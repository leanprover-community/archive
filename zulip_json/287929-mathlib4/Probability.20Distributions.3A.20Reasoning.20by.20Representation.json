[
    {
        "content": "<p>I've been curious to formalize facts like Gamma(n,r) \\sim \\sum_{i\\in [n]} \\Expo(r)_i where the latter are i.i.d. It seems like this is doable with what's been currently proven in the Probability module, but wanted to ask since these facts are super fun!</p>",
        "id": 479882023,
        "sender_full_name": "Alvan Arulandu",
        "timestamp": 1730382524
    },
    {
        "content": "<p>As far as I know, that has not been done before. Indeed this is would be fun to do and will have future applications (e.g. if we were to formalize Poisson processes).</p>",
        "id": 479884280,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1730383126
    },
    {
        "content": "<p>For this particular one, I think it would be easier to show this for the sum of two Gamma distributions, since an exponential is a special case of a Gamma distribution. A common way to show these sum relations is via characteristic functions / moment generating functions, which is only preliminarily done in the (inactive) <a href=\"https://github.com/RemyDegenne/CLT\">CLT</a> project [Edit in 2025: characteristic functions are much more comprehensively done in some Mathlib PRs]. In any case to show these, one likely needs some notion of convolution between measures / pdfs, which we have at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.Measure.conv#doc\">docs#MeasureTheory.Measure.conv</a> (edited)</p>",
        "id": 479884532,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1730383189
    },
    {
        "content": "<p>Yeah, I was planning to approach this with MGF and convolution, but didn't realize that the latter didn't exist yet. How would we go about creating a notion of convolution?</p>",
        "id": 479886276,
        "sender_full_name": "Alvan Arulandu",
        "timestamp": 1730383573
    },
    {
        "content": "<p>See that message for an example of how you can define a convolution of measures: <a href=\"#narrow/channel/217875-Is-there-code-for-X.3F/topic/Switch.20order.20of.20product.20of.20measurable.20spaces/near/410563609\">https://leanprover.zulipchat.com/#narrow/channel/217875-Is-there-code-for-X.3F/topic/Switch.20order.20of.20product.20of.20measurable.20spaces/near/410563609</a></p>",
        "id": 479888206,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1730384144
    },
    {
        "content": "<p>That is, you can define it as the map by the addition of the product of the two measures.</p>",
        "id": 479888385,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1730384193
    },
    {
        "content": "<p>I guess then one would still need to relate <code>MeasureTheory.Measure.conv</code> with <code>MeasureTheory.convolution</code>, i.e. show perhaps under continuity assumptions, that <code>rnDeriv (μ ∗ ν) volume</code> is <code>rnDeriv μ volume ⋆ rnDeriv ν volume</code>, so we can plug in PDFs for Gamma? Has that been done before?</p>",
        "id": 479891200,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1730385013
    },
    {
        "content": "<p>I just realized that the convolution of measures is in Mathlib: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Group/Convolution.html#MeasureTheory.Measure.conv\">MeasureTheory.Measure.conv</a></p>",
        "id": 479891798,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1730385161
    },
    {
        "content": "<p>Since the file containing the definition is not imported by anything else, all we have about it is in that file.</p>",
        "id": 479891942,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1730385199
    },
    {
        "content": "<p>I also thought they were not in mathlib too <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> and then I saw the PR in your link</p>",
        "id": 479892025,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1730385227
    },
    {
        "content": "<p>So, it seems like this could be attainable? Generally, I think having lemmas for facts like Expo \\sim -log(U), Beta(a,1) \\sim U^{1/a}, and similar could be very nice.</p>",
        "id": 479896883,
        "sender_full_name": "Alvan Arulandu",
        "timestamp": 1730386598
    },
    {
        "content": "<p>I'm not sure how easy the proof for relating <code>conv</code> with<code>convolution</code> is. By the way, we don't have the Beta distribution yet, but it should be very doable</p>",
        "id": 479905966,
        "sender_full_name": "Thomas Zhu",
        "timestamp": 1730389023
    },
    {
        "content": "<p>Alvan has an open PR for the Beta distribution: <a href=\"https://github.com/leanprover-community/mathlib4/pull/16773\">#16773</a>. It is currently waiting for <a href=\"https://github.com/leanprover-community/mathlib4/pull/17176\">#17176</a>, which has label awaiting-author.</p>",
        "id": 479908249,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1730389700
    },
    {
        "content": "<p>I just finished midterms, so hopefully we'll be able to close ^ shortly!</p>",
        "id": 479909204,
        "sender_full_name": "Alvan Arulandu",
        "timestamp": 1730389994
    },
    {
        "content": "<p>I added convolution of measures a while back, but the API I added was very rudimentary! Please feel free to add API</p>",
        "id": 479912995,
        "sender_full_name": "Josha Dekker",
        "timestamp": 1730391080
    }
]