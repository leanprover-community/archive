[
    {
        "content": "<p>Currently, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=inv_neg%27%27#doc\">docs#inv_neg''</a> (a.k.a. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=inv_lt_zero#doc\">docs#inv_lt_zero</a>) assumes that the type is a linearly ordered group with zero. The same lemma is true in a partially ordered field (actually, a division semiring with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ExistsAddOfLE#doc\">docs#ExistsAddOfLE</a>). The latter version (not in Mathlib) includes, e.g., complex numbers (and probably quaternions, but we have no <code>PartialOrder</code> instance there and I didn't verify the details). Are there any linear ordered groups with zero that (a) we care about; (b) aren't division semirings?</p>",
        "id": 514505443,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745647850
    },
    {
        "content": "<p>If yes, should I add a typeclass <code>InvLTZero</code> and provide instances for <code>GroupWithZero</code> and <code>DivisionSemiring</code>?</p>",
        "id": 514505475,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745647891
    },
    {
        "content": "<p><code>WithZero (Multiplicative Int)</code> is so popular in valuation theory that we even have notation <code>ℤₘ₀</code> for it.</p>",
        "id": 514506584,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745648895
    },
    {
        "content": "<p>But you have no negative elements there.</p>",
        "id": 514506601,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745648923
    },
    {
        "content": "<p>Yes, in valuation theory 0 is always bot for the target monoid.</p>",
        "id": 514506636,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745648973
    },
    {
        "content": "<p>In my mind, either you adjoin a zero to a group and everything is nonnegative, or you were in a field to start with. So restricting to <code>DivisionSemiring</code> sounds fine to me</p>",
        "id": 514508277,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745650368
    }
]