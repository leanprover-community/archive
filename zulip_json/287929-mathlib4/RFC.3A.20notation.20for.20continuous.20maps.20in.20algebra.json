[
    {
        "content": "<p>Mathlib needs to invent notation for various structure-preserving maps and isomorphisms which in the literature are just denoted by <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>→</mo></mrow><annotation encoding=\"application/x-tex\">\\to</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"mrel\">→</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≅</mo></mrow><annotation encoding=\"application/x-tex\">\\cong</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.589em;\"></span><span class=\"mrel\">≅</span></span></span></span>; this is just a necessary consequence of our design decisions. For example, ring homomorphims are <code>→+*</code> and ring isomorphisms are <code>≃+*</code> which I think is great, it's pretty easy to guess what these notations mean with high accuracy (in the sense that someone who knew nothing about mathlib might have a chance of guessing them). Similarly for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-modules and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span>-algebras we have things like <code>→ₗ[R]</code> (linear map) and <code>≃ₐ[R]</code> (algebra isomorphism).</p>\n<p>More and more I'm finding myself having to deal with topological algebraic objects as part of FLT. We have gone for <code>≃ₜ</code> for topological isomorphisms, which also seems reasonable. Recently we merged additive/multiplicative isomorphisms between topological objects and used notation <code>≃ₜ+</code> and <code>≃ₜ*</code> and these notations seem good to me. But actually in some sense they clash with another convention which we have; <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousLinearMap#doc\">docs#ContinuousLinearMap</a> s are <code>→L[R]</code>, continuous linear equivs are <code>≃L[R]</code>, and continuous algebra maps are <code>→A[R]</code>, so the convention has been \"turn the small letter into a capital letter to indicate continuity\", which can only be applied in situations where there is a small letter in the first place.</p>\n<p>These two conventions are now on a crash course with each other, because I want bicontinuous algebra isomorphisms in FLT (in fact we <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/main/FLT/Mathlib/Topology/Algebra/ContinuousAlgEquiv.lean\">have them locally</a> and I am preparing a PR for mathlib); the \"add a t\" convention suggests <code>≃ₜₐ[R]</code> and the \"make it capital\" convention suggests <code>≃A[R]</code>.</p>\n<p>Having thought about it, I think I prefer the \"adding a t\" convention, because I think it's easier to understand: \"ta\" for \"topological algebra\". However it's one character longer, and I have never used things like <code>≃L[R]</code> before so am not particularly attached to them. I also think that the \"add a t\" convention to indicate bicontinuity conforms to our conventions where we add a <code>*</code> to indicate preservation of multiplication etc etc.</p>\n<p>I've had very little experience with polls but I'm about to try and set one up to see if I can get some kind of consensus for what bicontinuous algebra isomorphisms should be called.</p>",
        "id": 491885653,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736004739
    },
    {
        "content": "<p>/poll What should bicontinuous algebra isomorphisms be called?<br>\n<code>≃A[R]</code><br>\n<code>≃ₜₐ[R]</code>, and also change <code>→SL[σ]</code> to <code>→ₜₛₗ[σ]</code>, <code>→L[R]</code> to <code>→ₜₗ[R]</code>, <code>→A[R]</code> to <code>→ₜₐ[R]</code>, <code>≃SL[σ]</code> to <code>→ₜₛₗ[σ]</code>, and <code>≃L[R]</code> to <code>≃ₜₗ[R]</code></p>",
        "id": 491885772,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736004861
    },
    {
        "content": "<p>What do continuous affine maps become?</p>",
        "id": 491888608,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736007448
    },
    {
        "content": "<p>erm <code>→ₜᵃ[R]</code>? I didn't even know these things existed until today</p>",
        "id": 491889190,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1736008024
    },
    {
        "content": "<p>Kevin, note that there is already inconsistency elsewhere because we <em>do</em> have notation for some things on paper. E.g., we use <code>C(α, β)</code> instead of <code>α →ₜ β</code>. I find <code>→ₜₗ[R]</code> a bit hard to swallow because we don't call them \"topological linear maps\".</p>",
        "id": 491900807,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1736018060
    },
    {
        "content": "<p>Sadly, <code>\\_c</code> gives <code>ₐ</code></p>",
        "id": 491903697,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1736020777
    },
    {
        "content": "<p>I agree that there is some room for improvement, and we should try to have these notations be more guessable. As <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span>  said, we can't use a subscript c for continuous, because it doesn't exist. But instead, we can use normal script <code>c</code> (or superscript <code>ᶜ</code>). I think that is more readable than the subscript <code>ₜ</code>. So I propose</p>\n<p><code>→SL[σ]</code> to <code>→cₛₗ[σ]</code>, <code>→L[R]</code> to <code>→cₗ[R]</code>, <code>→A[R]</code> to <code>→cₐ[R]</code>, <code>→ᴬ[R]</code> to <code>→cᵃ[R]</code> (or <code>→ᶜᵃ[R]</code>)<br>\nAnd the <code>≃</code> versions analogously.</p>",
        "id": 514240786,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745535273
    },
    {
        "content": "<p>We also have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousOpenMap#doc\">docs#ContinuousOpenMap</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousOrderHom#doc\">docs#ContinuousOrderHom</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CompactlySupportedContinuousMap#doc\">docs#CompactlySupportedContinuousMap</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ZeroAtInftyContinuousMap#doc\">docs#ZeroAtInftyContinuousMap</a> that use <code>→C</code> to denote \"continuous\" part.</p>",
        "id": 514249714,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745540898
    },
    {
        "content": "<p>Also note that <code>A</code> is used both for algebra maps and affine maps. Currently, they differ by subscript/superscript, but it's hard to remember which one is which.</p>",
        "id": 514249817,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745540979
    },
    {
        "content": "<p>Ah I see, they use the capital <code>C</code>, I'd be happy to switch to that one as well.</p>",
        "id": 514251307,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745542021
    },
    {
        "content": "<p>It's really quite annoying that certain letters aren't available as subscript lowercase letters. What do you think about switching to either normal letters (either capital or lowercase), subscript capitals (is only missing <code>X</code>, and not currently supported with a shortcut in lean) or superscript lowercase (has all 26 letters)?</p>",
        "id": 514252634,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745542956
    },
    {
        "content": "<p>In that case we could write <code>af</code> instead of <code>a</code> for affine maps</p>",
        "id": 514252661,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745542978
    },
    {
        "content": "<p>Note that <code>\\-&gt;c</code> is already notation for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CoalgHom#doc\">docs#CoalgHom</a></p>",
        "id": 514311111,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745567618
    },
    {
        "content": "<p>I don't think there are any notations where <code>c</code> comes immediately after the <code>→</code>, so there wouldn't be any notation overlap</p>",
        "id": 514336395,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745573850
    },
    {
        "content": "<p>(Your example uses <code>A →ₗc[R] B</code>)</p>",
        "id": 514337371,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745574180
    },
    {
        "content": "<p>/poll What should we write for (<code>Continuous</code>) <code>AlgHom</code>, <code>AddMonoidHom</code>, (semi) <code>LinearMap</code>, <code>AffineMap</code> and friends? (and the analogous notations for the <code>Equiv</code> versions with <code>≃</code> where applicable)<br>\nCurrent: <code>→ₐ[ ]</code>/<code>→A[ ]</code>, <code>→+</code>/<code>→ₜ+</code>, <code>→ₛₗ[ ]</code>/<code>→SL[ ]</code>, <code>→ₗ[ ]</code>/<code>→L[ ]</code>, <code>→ᵃ[ ]</code>/<code>→ᴬ[ ]</code><br>\nsuperscript lowercase: <code>→ᵃ[ ]</code>/<code>→ᶜᵃ[ ]</code>, <code>→+</code>/<code>→ᶜ+</code>, <code>→ˢˡ[ ]</code>/<code>→ᶜˢˡ[ ]</code>, <code>→ˡ[ ]</code>/<code>→ᶜˡ[ ]</code>, <code>→ᵃᶠ[ ]</code>/<code>→ᶜᵃᶠ[ ]</code><br>\nCapitals/Pascal case: <code>→A[ ]</code>/<code>→CA[ ]</code>, <code>→+</code>/<code>→C+</code>, <code>→SL[ ]</code>/<code>→CSL[ ]</code>, <code>→L[ ]</code>/<code>→CL[ ]</code>, <code>→Af[ ]</code>/<code>→CAf[ ]</code><br>\nLowercase: <code>→a[ ]</code>/<code>→ca[ ]</code>, <code>→+</code>/<code>→c+</code>, <code>→sl[ ]</code>/<code>→csl[ ]</code>, <code>→l[ ]</code>/<code>→cl[ ]</code>, <code>→af[ ]</code>/<code>→caf[ ]</code><br>\nsubscript Capitals (requires a PR to vscode-lean4): <code>→ᴀ[ ]</code>/<code>→ᴄᴀ[ ]</code>, <code>→+</code>/<code>→ᴄ+</code>, <code>→ꜱʟ[ ]</code>/<code>→ᴄꜱʟ[ ]</code>, <code>→ʟ[ ]</code>/<code>→ᴄʟ[ ]</code>, <code>→ᴀꜰ[ ]</code>/<code>→ᴄᴀꜰ[ ]</code></p>",
        "id": 514352132,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745578952
    },
    {
        "content": "<p>Are there more opinions on which option to use? One advantage of superscript over normal lowercase is that the same notation can be used in identifiers. For example:</p>\n<ul>\n<li><code>Submodule.SubtypeL</code> → <code>Submodule.Subtypeᶜˡ</code></li>\n<li><code>AffineSubspace.subtypeA</code> → <code>AffineSubspace.subtypeᶜᵃᶠ</code> (see <a href=\"https://github.com/leanprover-community/mathlib4/pull/24295\">#24295</a>)</li>\n<li><code>innerₗ</code> → <code>innerˡ</code></li>\n<li><code>innerₛₗ</code> → <code>innerˢˡ</code></li>\n<li><code>innerSL</code> → <code>innerᶜˢˡ</code></li>\n</ul>",
        "id": 514651360,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745764210
    },
    {
        "content": "<p>So the reason we can't have subscript lower case is because there's no c? :-(</p>",
        "id": 514652788,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745765230
    },
    {
        "content": "<p>Indeed (and there is no f)</p>",
        "id": 514652819,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745765253
    },
    {
        "content": "<p>For some reason I find superscripts so much more intrusive than subscripts. I would love for the system to be consistent though.</p>",
        "id": 514652974,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745765390
    },
    {
        "content": "<p>I really want to vote for subscripts and to have all the subscripts which should be there :-(</p>",
        "id": 514653100,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745765474
    },
    {
        "content": "<p>In that case let's hope that unicode is open to PRs <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 514653251,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745765574
    },
    {
        "content": "<p>Probably a stupid idea, but could we use <code>A ⤳ B</code> vs <code>A → B</code> for continuous vs basic maps? (edit: no, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Specializes#doc\">docs#Specializes</a> takes this notation)</p>",
        "id": 514653258,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745765576
    },
    {
        "content": "<p>does it have a <code>≃</code> version?</p>",
        "id": 514653323,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745765637
    },
    {
        "content": "<p><code>↭</code>?</p>",
        "id": 514653398,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745765683
    },
    {
        "content": "<p>Apparently, they're adding subscript w,y,z to unicode in the future, meaning that we'll only be missing b,c,d,f,g,q</p>",
        "id": 514654031,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745766173
    },
    {
        "content": "<p>I agree that superscripts seem much more intrusive to me somehow. I would rather use subscript t everywhere (for topology, as we do for homeomorphisms) if I had to make a choice.</p>",
        "id": 514655269,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1745767032
    },
    {
        "content": "<p>and what do we do about the f in affine?</p>",
        "id": 514655599,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745767284
    },
    {
        "content": "<p>The reason I like t is that \"continuous isomorphism\" sounds to me like \"map which is an isomorphism of algebraic structures and also happens to be continuous but its inverse might not be\" and \"topological isomorphism\" sounds less likely to be interpreted that way, whereas Jireh pointed out above that conversely we don't say \"topological function\", we say \"continuous function\"</p>",
        "id": 514655726,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745767363
    },
    {
        "content": "<p>what about using subscript whenever possible, and switching to superscript when it is forced?</p>",
        "id": 514656168,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745767686
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RFC.3A.20notation.20for.20continuous.20maps.20in.20algebra/near/514655726\">said</a>:</p>\n<blockquote>\n<p>\"continuous isomorphism\" sounds to me like \"map which is an isomorphism of algebraic structures and also happens to be continuous but its inverse might not be\"</p>\n</blockquote>\n<p>I think the structure is usually called an <code>Equiv</code>, which I think removes the confusion.</p>",
        "id": 514656884,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745768168
    },
    {
        "content": "<p>I'll try to make up my mind and vote in the next 48 hrs, but now I have to pack for a flight.</p>",
        "id": 514658154,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745769091
    }
]