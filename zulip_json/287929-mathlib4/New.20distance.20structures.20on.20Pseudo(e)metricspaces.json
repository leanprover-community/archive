[
    {
        "content": "<p>Hi everyone. We (<span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> ) are adding a way to obtain new distance structures on pseudo(e)metricspaces (<a href=\"https://github.com/leanprover-community/mathlib4/pull/29321\">#29321</a>) and deciding whether <code>replaceDist</code> should replace dist and edist at once. Is one way preferred? Originally we just replaced dist and <span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span>  suggests that it replaces both at the same time. Thanks</p>",
        "id": 546312319,
        "sender_full_name": "Arav Bhattacharyya",
        "timestamp": 1761074834
    },
    {
        "content": "<p>Could we have someone tie-breaking here? This is not a very important issue, but it is blocking the whole effort of upstreaming Prokhorov's theorem.</p>",
        "id": 547465008,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1761649820
    },
    {
        "content": "<p>Can you (or <span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> ) summarize the options here? It seems that the MetricSpace induced an EMetricSpace, so if I understand things correctly, the modification of the distance should modify the edistance accordingly, but if I understand things correctly, this is also required by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PseudoMetricSpace.edist_dist#doc\">docs#PseudoMetricSpace.edist_dist</a></p>",
        "id": 547482176,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1761655032
    },
    {
        "content": "<p>The new (e)distance is propositionally equal to the old one.</p>",
        "id": 547501197,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761659970
    },
    {
        "content": "<p>So, we can replace <code>dist</code> while leaving <code>edist</code> as is. OTOH, if we define a function that replaces both, then we can call it with <code>dist</code> or <code>edist</code> as one of the arguments to override only one of them.</p>",
        "id": 547501483,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761660042
    },
    {
        "content": "<p>I mean, the functions you add in the PR don't let me override <code>edist</code> in a metric space without changing <code>dist</code>. I don't know if it's ever needed though.</p>",
        "id": 547503104,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761660428
    },
    {
        "content": "<p>My thinking was: if you were replacing <code>dist</code>, you'd maybe want to replace <code>edist</code> too (in a way that may be less true if you want to replace only the topology and not the bornology), and even if you don't, as you said, it's easy to leave one as-is.</p>",
        "id": 547503876,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761660588
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@Sébastien Gouëzel</span>  left a review in favour of option 1, and for clarity this bit of the PR has been moved to <a href=\"https://github.com/leanprover-community/mathlib4/pull/31015\">#31015</a></p>",
        "id": 547541508,
        "sender_full_name": "Arav Bhattacharyya",
        "timestamp": 1761669221
    }
]