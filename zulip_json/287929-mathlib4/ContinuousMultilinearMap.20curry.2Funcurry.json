[
    {
        "content": "<p>Hi! It seems to me that the first two are currying but the third is uncurrying. Any thoughts?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">NormedSpace</span><span class=\"bp\">.</span><span class=\"n\">Multilinear</span><span class=\"bp\">.</span><span class=\"n\">Curry</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„•</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NontriviallyNormedField</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">G'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedSpace</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"o\">]</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">continuousMultilinearCurryFin0</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">Ã—</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"o\">)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">continuousMultilinearCurryFin1</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">Ã—</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G'</span><span class=\"o\">))</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">continuousMultilinearCurryLeftEquiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">Ã—</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">Ã—</span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">â†’</span><span class=\"n\">L</span><span class=\"o\">[</span><span class=\"n\">ğ•œ</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">G</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 456031606,
        "sender_full_name": "A.",
        "timestamp": 1722628875
    },
    {
        "content": "<p>These are really <code>LinearIsometryEquiv</code>s and in each case the name of the function given for the forward direction is a variant of <code>uncurry</code>. So, conversely, that function would seem to be correctly named in the third case only.</p>",
        "id": 456037720,
        "sender_full_name": "A.",
        "timestamp": 1722630610
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110050\">@SÃ©bastien GouÃ«zel</span></p>",
        "id": 456038027,
        "sender_full_name": "A.",
        "timestamp": 1722630732
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=continuousMultilinearCurryFin0#doc\">docs#continuousMultilinearCurryFin0</a>,<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=continuousMultilinearCurryFin1#doc\">docs#continuousMultilinearCurryFin1</a>,<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=continuousMultilinearCurryLeftEquiv#doc\">docs#continuousMultilinearCurryLeftEquiv</a></p>",
        "id": 456251011,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1722734057
    },
    {
        "content": "<p>I think the names of those first two are correct, and it's the names of the functions used to implement them which are wrong</p>",
        "id": 456251142,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1722734179
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Equiv, \"curry\"</p>",
        "id": 456251149,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1722734197
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Logic/Equiv/Basic.html#Equiv.curry\">Equiv.curry</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Logic/Equiv/Basic.html#Equiv.piCurry\">Equiv.piCurry</a>, and <a href=\"https://loogle.lean-lang.org/?q=Equiv%2C%20%22curry%22\">24 more</a></p>",
        "id": 456251151,
        "sender_full_name": "loogle",
        "timestamp": 1722734197
    },
    {
        "content": "<p>Thatâ€™s what I said <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span> Iâ€™m going to assume I can take that as agreement. Thanks Eric.</p>",
        "id": 456713515,
        "sender_full_name": "A.",
        "timestamp": 1722894374
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15530\">#15530</a></p>",
        "id": 456715112,
        "sender_full_name": "A.",
        "timestamp": 1722895059
    },
    {
        "content": "<p>Something has gone wrong with the CI. What on earth does this mean?</p>\n<p><strong>build archive</strong></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">packing</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Util</span><span class=\"bp\">/</span><span class=\"n\">SynthesizeUsing</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">f38776054285fbfc</span><span class=\"bp\">.</span><span class=\"n\">ltar</span>\n<span class=\"n\">uncaught</span><span class=\"w\"> </span><span class=\"n\">exception</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">failure</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"c1\">--no-progress-meter, -H, x-ms-blob-type: BlockBlob, -H, If-None-Match: *, --retry, 5, -X, PUT, --parallel, -K, /home/lean/.cache/mathlib/curl.cfg]:</span>\n<span class=\"n\">curl</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">56</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">OpenSSL</span><span class=\"w\"> </span><span class=\"n\">SSL_read</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Connection</span><span class=\"w\"> </span><span class=\"n\">reset</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">peer</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">errno</span><span class=\"w\"> </span><span class=\"mi\">104</span>\n<span class=\"bp\">â€¦</span>\n<span class=\"n\">Attempting</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">upload</span><span class=\"w\"> </span><span class=\"mi\">4945</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"n\">completed</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mf\">1.</span>\n</code></pre></div>",
        "id": 456715735,
        "sender_full_name": "A.",
        "timestamp": 1722895315
    },
    {
        "content": "<p>I would just try running CI again</p>",
        "id": 456718232,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1722896448
    },
    {
        "content": "<p>BTW, we have both <code>curry0</code>/<code>uncurry0</code> and <code>constOfIsEmpty</code>, similarly for <code>continuousMultilinearCurryFin1</code> and <code>ofSubsingleton</code>. Should we deduplicate here?</p>",
        "id": 515163749,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745963438
    },
    {
        "content": "<p>Also, I'm going to introduce <code>curryMid</code> based on <code>Fin.insertNth</code>/<code>Fin.succAbove</code>, because I need it for alternating forms.</p>",
        "id": 515163884,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745963520
    }
]