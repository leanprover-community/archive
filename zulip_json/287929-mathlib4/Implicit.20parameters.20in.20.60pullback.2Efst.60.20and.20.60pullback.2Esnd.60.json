[
    {
        "content": "<p><code>pullback.fst</code> and <code>pullback.snd</code> only have implicit parameters. For example <code>pullback.snd</code> is defined as follows:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- The second projection of the pullback of `f` and `g`. -/</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">pullback</span><span class=\"bp\">.</span><span class=\"n\">snd</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">âŸ¶</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"bp\">âŸ¶</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">HasPullback</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">pullback</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"bp\">âŸ¶</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">limit</span><span class=\"bp\">.</span><span class=\"n\">Ï€</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">cospan</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">WalkingCospan</span><span class=\"bp\">.</span><span class=\"n\">right</span>\n</code></pre></div>\n<p>When working with multiple pullbacks (and more complicated diagrams) the fact that all variables here are implicit can make it really hard to read. Here is a concrete example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">pullbackAssoc_hom_snd_snd</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">HasPullback</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">pullback.snd</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Zâ‚</span><span class=\"w\"> </span><span class=\"bp\">âŸ¶</span><span class=\"w\"> </span><span class=\"n\">Xâ‚‚</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â‰«</span><span class=\"w\"> </span><span class=\"n\">fâ‚ƒ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">fâ‚„</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">HasPullback</span><span class=\"w\"> </span><span class=\"n\">fâ‚</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">pullback.fst</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Zâ‚‚</span><span class=\"w\"> </span><span class=\"bp\">âŸ¶</span><span class=\"w\"> </span><span class=\"n\">Xâ‚‚</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">â‰«</span><span class=\"w\"> </span><span class=\"n\">fâ‚‚</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">pullbackAssoc</span><span class=\"w\"> </span><span class=\"n\">fâ‚</span><span class=\"w\"> </span><span class=\"n\">fâ‚‚</span><span class=\"w\"> </span><span class=\"n\">fâ‚ƒ</span><span class=\"w\"> </span><span class=\"n\">fâ‚„</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">hom</span><span class=\"w\"> </span><span class=\"bp\">â‰«</span><span class=\"w\"> </span><span class=\"n\">pullback.snd</span><span class=\"w\"> </span><span class=\"bp\">â‰«</span><span class=\"w\"> </span><span class=\"n\">pullback.snd</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">pullback.snd</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n</code></pre></div>\n<p>It is not immediately clear exactly which pullbacks these projections are referring to, unless you write down the diagrams yourself (and all three are referring to projections of different pullbacks!). Here in the hypotheses, one also needs to specify the type of <code>pullback.snd</code> and <code>pullback.fst</code>, since the arguments are all implicit.</p>\n<p>I have found this quite inconvenient, but are there good reasons for why these arguments should be implicit? Would it be a bad idea to try to make them explicit?</p>",
        "id": 449623548,
        "sender_full_name": "Calle SÃ¶nne",
        "timestamp": 1720342279
    },
    {
        "content": "<p>My instinct is to make them explicit, I remember <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> once telling me that the rules for what's explicit in defs are different to the rules for what's explicit in theorems. The other possibility is ASCII art diagrams in the docstring making it clear what's going on</p>",
        "id": 449624840,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720343473
    },
    {
        "content": "<p>I think this is a historical accident. It goes all the way back to <a href=\"https://github.com/leanprover-community/mathlib/pull/1339\">mathlib#1339</a> (from the early-ish days of mathlib3) and my guess would be that it hasn't really been challenged since then. It's interesting that <code>prod.fst</code> and friends have the same problem, while <code>equalizer.Î¹</code> and friends do not. I don't see a pattern that would explain this. In Lean 4 you can provide the relevant morphisms by using the syntax <code>pullback.snd (f := ...) (g := ...)</code>. I would say that PR making the parameters explicit would be welcome. Hopefully you can just add <code>_ _</code> to all existing uses and nothing breaks.</p>",
        "id": 449624964,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1720343587
    },
    {
        "content": "<p>Iâ€™d be in favor of making them explicit</p>",
        "id": 449630186,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1720346201
    },
    {
        "content": "<p>Okay cool! I will try to make these explicit then :)</p>",
        "id": 449631096,
        "sender_full_name": "Calle SÃ¶nne",
        "timestamp": 1720346506
    },
    {
        "content": "<p>Yes, I agree, it was an experiment we can now declare to have failed.</p>",
        "id": 449681986,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1720368967
    },
    {
        "content": "<p>I just came across this. Has there been any progress on explicitification?</p>",
        "id": 478388419,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1729643569
    },
    {
        "content": "<p>Yes! <code>pullback.fst/snd</code> and <code>pushout.inr/inl</code> have explicit arguments now :)</p>",
        "id": 478432236,
        "sender_full_name": "Calle SÃ¶nne",
        "timestamp": 1729669692
    },
    {
        "content": "<p>Although most of the replacing was automatic, so I'm sure there are still places where it is written like <code>(pullback.fst _ _ : pullback f g âŸ¶ _)</code></p>",
        "id": 478432508,
        "sender_full_name": "Calle SÃ¶nne",
        "timestamp": 1729669800
    }
]