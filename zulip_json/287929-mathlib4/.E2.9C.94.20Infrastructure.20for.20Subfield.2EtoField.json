[
    {
        "content": "<p>Given <code>Subfield.toField s</code>, there should be a definitional inclusion <code>s -&gt; K</code>. However, I didn't find this in mathlib4. What should I do?</p>",
        "id": 486071721,
        "sender_full_name": "aprilgrimoire",
        "timestamp": 1733312182
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subfield.subtype#doc\">docs#Subfield.subtype</a></p>",
        "id": 486072133,
        "sender_full_name": "Christian Merten",
        "timestamp": 1733312321
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Infrastructure.20for.20Subfield.2EtoField/near/486072133\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subfield.subtype#doc\">docs#Subfield.subtype</a></p>\n</blockquote>\n<p>Thanks. I got confused about the mathlib4 documentation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Subfield</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DivisionRing</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subfield</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"bp\">↥</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">K</span>\n</code></pre></div>\n<p>I didn't know the type of  <code>↥s</code>, and thought it was a <code>Set K</code>. Where should I look for such info? Am I supposed to look into my local copy of the mathlib source code?</p>",
        "id": 486072753,
        "sender_full_name": "aprilgrimoire",
        "timestamp": 1733312559
    },
    {
        "content": "<p>In this case:<br>\n<span class=\"user-mention\" data-user-id=\"644391\">@loogle</span>  Subfield, RingHom</p>",
        "id": 486073066,
        "sender_full_name": "Christian Merten",
        "timestamp": 1733312673
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Subfield, RingHom</p>",
        "id": 486073333,
        "sender_full_name": "Christian Merten",
        "timestamp": 1733312785
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Field/Subfield/Defs.html#Subfield.subtype\">Subfield.subtype</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Field/Subfield/Defs.html#Subfield.toSubring_subtype_eq_subtype\">Subfield.toSubring_subtype_eq_subtype</a>, and <a href=\"https://loogle.lean-lang.org/?q=Subfield%2C%20RingHom\">69 more</a></p>",
        "id": 486073334,
        "sender_full_name": "loogle",
        "timestamp": 1733312786
    },
    {
        "content": "<p>Ah sorry, I realize this is not what you asked for. If you search in the docs for <code>↥</code>, you find <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/Coe.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/Coe.html</a> which has the explanation at the top of the page.</p>",
        "id": 486073565,
        "sender_full_name": "Christian Merten",
        "timestamp": 1733312886
    },
    {
        "content": "<p>Yeah, <code>↥s</code> is \"turn this term into a type\".</p>",
        "id": 486073654,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733312929
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Infrastructure.20for.20Subfield.2EtoField/near/486073565\">said</a>:</p>\n<blockquote>\n<p>Ah sorry, I realize this is not what you asked for. If you search in the docs for <code>↥</code>, you find <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/Coe.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/Coe.html</a> which has the explanation at the top of the page.</p>\n</blockquote>\n<p>Thanks. That made sense, but how can I figure out what type it got coerced to?</p>",
        "id": 486073700,
        "sender_full_name": "aprilgrimoire",
        "timestamp": 1733312946
    },
    {
        "content": "<p>The only possible answer is the subtype <code>{x : K // x \\in S}</code>.</p>",
        "id": 486073770,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733312975
    },
    {
        "content": "<p>But you can probably work it out yourself with hover/ctrl-click. Let me see if I can do it...</p>",
        "id": 486073893,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733313019
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Infrastructure.20for.20Subfield.2EtoField/near/486073770\">said</a>:</p>\n<blockquote>\n<p>The only possible answer is the subtype <code>{x : K // x \\in S}</code>.</p>\n</blockquote>\n<p>Thanks. Is that due to the definition of <code>-&gt;+*?</code></p>",
        "id": 486073895,
        "sender_full_name": "aprilgrimoire",
        "timestamp": 1733313020
    },
    {
        "content": "<p>It is due to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.instCoeSortType#doc\">docs#Set.instCoeSortType</a></p>",
        "id": 486073933,
        "sender_full_name": "Christian Merten",
        "timestamp": 1733313032
    },
    {
        "content": "<p>Yeah, <code>X -&gt;+* Y</code> only typechecks for <code>X</code> and <code>Y</code> types.</p>",
        "id": 486073995,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733313056
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Infrastructure.20for.20Subfield.2EtoField/near/486073893\">said</a>:</p>\n<blockquote>\n<p>But you can probably work it out yourself with hover/ctrl-click. Let me see if I can do it...</p>\n</blockquote>\n<p>It doesn't work on <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/</a></p>",
        "id": 486074016,
        "sender_full_name": "aprilgrimoire",
        "timestamp": 1733313063
    },
    {
        "content": "<p>Yeah, to figure out what's going on I think you have to be in VS Code.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- The embedding from a subfield of the field `K` to `K`. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Subfield</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">toSubmonoid</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">toAddSubgroup</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">↑</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"c1\">--^ put cursor just before the {</span>\n</code></pre></div>",
        "id": 486074252,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733313148
    },
    {
        "content": "<p>Goal is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"bp\">↥</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">K</span>\n</code></pre></div>\n<p>So now hover over <code>↥</code></p>",
        "id": 486074329,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733313175
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"782502\">aprilgrimoire</span> has marked this topic as resolved.</p>",
        "id": 486074353,
        "sender_full_name": "Notification Bot",
        "timestamp": 1733313182
    },
    {
        "content": "<p>See <code>@Subtype K fun x ↦ x ∈ s : Type u</code> so it's indeed <code>Subtype</code> (and <code>{x // p x}</code> is notation for that).</p>",
        "id": 486074578,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733313253
    }
]