[
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=isEmpty_subtype#doc\">docs#isEmpty_subtype</a> makes it so that for <code>s : Set α</code>, <code>IsEmpty s</code> simplifies to <code>∀ x, x ∉ s</code> instead of the expected <code>s = Ø</code>.</p>",
        "id": 485723811,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733180867
    },
    {
        "content": "<p>Is this desirable? Or should the simp set be tweaked?</p>",
        "id": 485723891,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733180894
    },
    {
        "content": "<p>That's a 404 for me, but I guess you could add the lemma saying that the forall statement is true iff s is empty, tag it simp, stick it on a branch, make a PR, mark it draft, get the green tick and then benchmark it to see if it makes things better or worse</p>",
        "id": 485730569,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1733185054
    },
    {
        "content": "<p>Had the theorem name wrong, fixed</p>",
        "id": 485738427,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733190732
    },
    {
        "content": "<p>Yeah, that seems like a problematic simp lemma. (Do I have it right that there's nonconfluence? If the simp set is nonconfluent, then it ought to be fixed on way or another.)</p>\n<p><em>Maybe</em> it would be better to have <code>IsEmpty (Subtype p) &lt;-&gt; SetOf p = Ø</code> as a simp lemma, which would match up with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.isEmpty_coe_sort#doc\">docs#Set.isEmpty_coe_sort</a>, if it should be a simp lemma at all. Note that <code>Set.isEmpty_coe_sort</code> is not a simp lemma.</p>\n<p>A version of <code>isEmpty_subtype</code> that could definitely be a simp lemma would be a conditional version, namely <code>∀ (x : α), ¬p x -&gt; IsEmpty (Subtype p)</code>. This seems like it could be useful, at a bit of cost of having <code>simp</code> trying to discharge this hypothesis.</p>",
        "id": 485738956,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1733191123
    },
    {
        "content": "<p>The reason for <code>isEmpty_coe_sort</code> not being <code>simp</code> is that it competes with <code>isEmpty_subtype</code>.</p>",
        "id": 488650456,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734014997
    },
    {
        "content": "<p>I'll try making the former <code>simp</code> and the latter not <code>simp</code> to see what happens</p>",
        "id": 488650530,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734015009
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/19918\">#19918</a></p>",
        "id": 488650793,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734015082
    },
    {
        "content": "<p>The PR now builds. There was barely any breakage, and in fact I was able to make two simp sets smaller.</p>",
        "id": 488676741,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1734022077
    },
    {
        "content": "<p>It took me some time to figure out why <a href=\"https://github.com/leanprover-community/mathlib4/pull/5901\">#5901</a> build failed.</p>",
        "id": 491151475,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1735453383
    },
    {
        "content": "<p>What happened? Is this a bad simp lemma after all?</p>",
        "id": 491195129,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1735494933
    }
]