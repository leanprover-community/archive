[
    {
        "content": "<p>Why does Batteries have <code>List.eraseDup</code> and Mathlib have <code>List.dedup</code>, which are virtually identical, but as far as I can tell we don't have a theorem even linking the two?</p>",
        "id": 544313471,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760183952
    },
    {
        "content": "<p>We also have <code>List.eraseDups</code> which... seems to do the same thing as <code>eraseDup</code>?</p>",
        "id": 544313587,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760184033
    },
    {
        "content": "<p>Indeed I think <code>List.pwFilter</code> and <code>List.eraseDupsBy</code> might be virtually the same as well...</p>",
        "id": 544313683,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760184086
    },
    {
        "content": "<p>One in core, one in batteries, one in mathlib. Sounds sensible, right? <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 544313784,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760184136
    },
    {
        "content": "<p>I take the perhaps controversial view that we should only have one of these ;)</p>",
        "id": 544313836,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760184172
    },
    {
        "content": "<p>Two of them claim to be defined as <code>pwFilter (â‰ )</code>, but one claims the last is kept and one that the first is kept</p>",
        "id": 544314005,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760184290
    },
    {
        "content": "<p>Also core and batteries use <code>BEq</code> and mathlib <code>DecidableEq</code></p>",
        "id": 544314031,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760184307
    },
    {
        "content": "<p>Yes, although <code>pwFilter</code> uses DecidableEq again in Batteries.</p>",
        "id": 544314062,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760184330
    },
    {
        "content": "<p>I wonder if the change to make <code>BEq</code> and <code>DecidableEq</code> play nicer together ever landed</p>",
        "id": 544314087,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760184347
    },
    {
        "content": "<p>I think it does seem to...</p>",
        "id": 544314125,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760184366
    },
    {
        "content": "<p>I thought it didn't, and we had to change <code>Decidable</code> to be a subtype of <code>Bool</code> for that to work</p>",
        "id": 544314201,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1760184423
    },
    {
        "content": "<p>Looking at the definition of <code>pwFilter</code>, I think in practice it will drop the first element that duplicates a later element in the list.</p>",
        "id": 544314207,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1760184426
    },
    {
        "content": "<p>Anyway, I agree at least the one in batteries should be deprecated</p>",
        "id": 544314212,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760184429
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/pull/8309\">https://github.com/leanprover/lean4/pull/8309</a> ?</p>",
        "id": 544314435,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760184526
    }
]