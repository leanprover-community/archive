[
    {
        "content": "<p>Here is my strategy to remove the <code>cases'</code> tactic from mathlib, a continuation of the discussion <a href=\"#narrow/stream/287929-mathlib4/topic/Deprecation.20and.20Replacement.20of.20.60induction'.60.3F/near/465553445\">here</a>.</p>\n<p>I apply the following diff to mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">diff</span><span class=\"w\"> </span><span class=\"c1\">--git a/Mathlib/Tactic/Cases.lean b/Mathlib/Tactic/Cases.lean</span>\n<span class=\"n\">index</span><span class=\"w\"> </span><span class=\"mi\">34</span><span class=\"n\">ad80c027</span><span class=\"bp\">..</span><span class=\"m\">944</span><span class=\"n\">d54b992</span><span class=\"w\"> </span><span class=\"mi\">100644</span>\n<span class=\"c1\">--- a/Mathlib/Tactic/Cases.lean</span>\n<span class=\"bp\">+++</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Tactic</span><span class=\"bp\">/</span><span class=\"n\">Cases</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"bp\">@@</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">164</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"mi\">164</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"bp\">@@</span><span class=\"w\"> </span><span class=\"kn\">elab</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">cases'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"cases' \"</span><span class=\"w\"> </span><span class=\"n\">tgts</span><span class=\"o\">:(</span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">casesTarget</span><span class=\"o\">,</span><span class=\"bp\">+</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">usingArg</span><span class=\"o\">:((</span><span class=\"s2\">\"</span>\n<span class=\"s2\">       g.assign result.elimApp</span>\n<span class=\"s2\">       let subgoals ← ElimApp.evalNames elimInfo result.alts withArg</span>\n<span class=\"s2\">          (numEqs := targets.size) (toClear := targetsNew) (toTag := toTag)</span>\n<span class=\"s2\">+      let body ← inferType (targets.get! 0)</span>\n<span class=\"s2\">+      logWarningAt tgts m!\"</span><span class=\"o\">{</span><span class=\"n\">body</span><span class=\"bp\">.</span><span class=\"n\">getAppFn</span><span class=\"bp\">.</span><span class=\"n\">setPPExplicit</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">subgoals</span><span class=\"bp\">.</span><span class=\"n\">toList</span><span class=\"bp\">.</span><span class=\"n\">length</span><span class=\"o\">}</span><span class=\"s2\">\"</span>\n<span class=\"s2\">       setGoals &lt;| subgoals.toList ++ gs</span>\n\n<span class=\"s2\"> end Mathlib.Tactic</span>\n</code></pre></div>\n<p>Then I am running <code>lake build -q &gt; cases-targets</code> (quiet option) now. This will produce a file mostly containing lines like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">209</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">387</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">430</span><span class=\"o\">:</span><span class=\"mi\">32</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sum</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">533</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sum</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">533</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sum</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">533</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sum</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">533</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sum</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">630</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">γ</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">640</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"w\"> </span><span class=\"n\">γ</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">656</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">668</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">672</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">685</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1245</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1412</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Or</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1513</span><span class=\"o\">:</span><span class=\"mi\">4</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Or</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1783</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Membership</span><span class=\"bp\">.</span><span class=\"n\">mem</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Ordinal</span><span class=\"bp\">/</span><span class=\"n\">Arithmetic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1832</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>where every <code>cases'</code> invocation is tagged with the head of the expression and the number of subgoals generated. Then I can look for specific combinations like <code>Prod 2</code> or <code>And 1</code> and replace them automatically via Python with an appropriate <code>rcases</code> or <code>obtain</code>, as the docstring of <code>cases'</code> itself encourages</p>",
        "id": 468053239,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725594789
    },
    {
        "content": "<p>Note that <a href=\"https://github.com/leanprover-community/mathlib4/pull/16451\">#16451</a> handles some of the <code>Or 2</code> instances in that file, which were found in a more primitive way</p>",
        "id": 468053496,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725594885
    },
    {
        "content": "<p>How does this plan sound?</p>",
        "id": 468053566,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725594908
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/gnsbL2VtB16I-DX4qpc8r05a/cases-targets\">cases-targets</a><br>\nhere is the resulting targets file</p>",
        "id": 468081068,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725603629
    },
    {
        "content": "<p>Here is the replacement script:</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"ch\">#!/usr/bin/env python3</span>\n<span class=\"kn\">import</span> <span class=\"nn\">re</span>\n<span class=\"n\">target_re</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s2\">\"warning: \\./\\./\\./\\./(.*?):(\\d+):(\\d+): ([^ ]+?) .*(\\d)\\n\"</span><span class=\"p\">)</span>\n<span class=\"n\">cases_re</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">compile</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s2\">\"cases' (.*?) with (.*?)(?=\\n|;| &lt;;&gt;)\"</span><span class=\"p\">)</span>\n<span class=\"n\">keys</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n<span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"s2\">\"cases-targets\"</span><span class=\"p\">,</span> <span class=\"s1\">'r'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n    <span class=\"k\">for</span> <span class=\"n\">l</span> <span class=\"ow\">in</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">m</span> <span class=\"o\">:=</span> <span class=\"n\">target_re</span><span class=\"o\">.</span><span class=\"n\">fullmatch</span><span class=\"p\">(</span><span class=\"n\">l</span><span class=\"p\">)):</span>\n            <span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">line_n</span><span class=\"p\">,</span> <span class=\"n\">col_n</span><span class=\"p\">,</span> <span class=\"n\">head</span><span class=\"p\">,</span> <span class=\"n\">n_subgoals</span> <span class=\"o\">=</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">groups</span><span class=\"p\">()</span>\n            <span class=\"k\">if</span> <span class=\"n\">filename</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">keys</span><span class=\"p\">:</span>\n                <span class=\"n\">keys</span><span class=\"p\">[</span><span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n            <span class=\"k\">if</span> <span class=\"n\">line_n</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">keys</span><span class=\"p\">[</span><span class=\"n\">filename</span><span class=\"p\">]:</span>\n                <span class=\"n\">keys</span><span class=\"p\">[</span><span class=\"n\">filename</span><span class=\"p\">][</span><span class=\"n\">line_n</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n            <span class=\"n\">keys</span><span class=\"p\">[</span><span class=\"n\">filename</span><span class=\"p\">][</span><span class=\"n\">line_n</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">({</span><span class=\"n\">col_n</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">head</span><span class=\"p\">,</span> <span class=\"n\">n_subgoals</span><span class=\"p\">)})</span>\n        <span class=\"k\">elif</span> <span class=\"ow\">not</span> <span class=\"n\">l</span><span class=\"o\">.</span><span class=\"n\">startswith</span><span class=\"p\">(</span><span class=\"s1\">'⚠'</span><span class=\"p\">):</span>\n            <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span>\n\n<span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">d</span><span class=\"p\">)</span> <span class=\"ow\">in</span> <span class=\"n\">keys</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"s1\">'r'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"n\">lines</span> <span class=\"o\">=</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">readlines</span><span class=\"p\">()</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">line_n</span><span class=\"p\">,</span> <span class=\"n\">t</span><span class=\"p\">)</span> <span class=\"ow\">in</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n        <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">line_n</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mi\">1</span>\n        <span class=\"n\">line</span> <span class=\"o\">=</span> <span class=\"n\">lines</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span>\n        <span class=\"n\">replacements</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">col_n</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">head</span><span class=\"p\">,</span> <span class=\"n\">n_subgoals</span><span class=\"p\">))</span> <span class=\"ow\">in</span> <span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">m</span> <span class=\"o\">:=</span> <span class=\"n\">cases_re</span><span class=\"o\">.</span><span class=\"n\">match</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">col_n</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mi\">7</span><span class=\"p\">)):</span>\n                <span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">nvars</span> <span class=\"o\">=</span> <span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">groups</span><span class=\"p\">()</span>\n                <span class=\"n\">nvars</span> <span class=\"o\">=</span> <span class=\"n\">nvars</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">()</span>\n                <span class=\"n\">nstr</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n                <span class=\"k\">if</span> <span class=\"n\">head</span> <span class=\"o\">==</span> <span class=\"s2\">\"Or\"</span> <span class=\"ow\">and</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">n_subgoals</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">2</span><span class=\"p\">:</span>\n                    <span class=\"n\">nstr</span> <span class=\"o\">=</span> <span class=\"sa\">f</span><span class=\"s2\">\"rcases </span><span class=\"si\">{</span><span class=\"n\">body</span><span class=\"si\">}</span><span class=\"s2\"> with </span><span class=\"si\">{</span><span class=\"s1\">' | '</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">nvars</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"s2\">\"</span>\n                <span class=\"k\">if</span> <span class=\"n\">nstr</span> <span class=\"o\">!=</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                    <span class=\"n\">replacements</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"o\">.</span><span class=\"n\">span</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">nstr</span><span class=\"p\">,))</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">start</span><span class=\"p\">,</span> <span class=\"n\">end</span><span class=\"p\">,</span> <span class=\"n\">rep</span><span class=\"p\">)</span> <span class=\"ow\">in</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">replacements</span><span class=\"p\">,</span> <span class=\"n\">reverse</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n            <span class=\"n\">line</span> <span class=\"o\">=</span> <span class=\"n\">line</span><span class=\"p\">[:</span><span class=\"n\">start</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"n\">rep</span> <span class=\"o\">+</span> <span class=\"n\">line</span><span class=\"p\">[</span><span class=\"n\">end</span><span class=\"p\">:]</span>\n        <span class=\"n\">lines</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">line</span>\n    <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"s1\">'w'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">f</span><span class=\"p\">:</span>\n        <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">lines</span><span class=\"p\">))</span>\n</code></pre></div>",
        "id": 468093114,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725606986
    },
    {
        "content": "<p>And <a href=\"https://github.com/leanprover-community/mathlib4/tree/or2\">branch#or2</a> contains the results</p>",
        "id": 468094255,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725607244
    },
    {
        "content": "<p>I sincerely hope you are not going to replace all proofs of the form</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">cases'</span><span class=\"w\"> </span><span class=\"n\">side_condition</span>\n<span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">short_proof_in_easy_case</span>\n<span class=\"n\">long_unindented_proof</span>\n</code></pre></div>\n<p>by</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">side_condition</span>\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">pos</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">short_proof_in_easy_case</span>\n<span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">neg</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"n\">long_indented_proof</span>\n</code></pre></div>",
        "id": 468095038,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607396
    },
    {
        "content": "<p>This would be particularly damageable for proofs with two, three, ... side conditions, as then the entirety of the main proof would be indented three or four times, even though are supposed to be, well, auxiliary</p>",
        "id": 468095326,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607470
    },
    {
        "content": "<p>As of now all replacements in <a href=\"https://github.com/leanprover-community/mathlib4/tree/or2\">branch#or2</a> (save for one manual long line linter fix) are really one-line replacements</p>",
        "id": 468095452,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725607529
    },
    {
        "content": "<p>In fact the Python script above can only do one-line-to-one-line replacements</p>",
        "id": 468095666,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725607578
    },
    {
        "content": "<p>Okay, that's reassuring. But reading the diff, I find it to be a clear negative. Why use <code>rcases</code> when <code>cases'</code> does the job?</p>",
        "id": 468095884,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607636
    },
    {
        "content": "<p><code>cases'</code>, like <code>refine'</code>, is a Lean 3-ism</p>",
        "id": 468096077,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725607685
    },
    {
        "content": "<p>You have declared this. I have never seen a consensus on the matter.</p>",
        "id": 468096145,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607708
    },
    {
        "content": "<p>You must know that I am of the opinion <code>rcases</code> should be obliterated in favour of <code>obtain</code>. Certainly it wouldn't look as bad if you replaced <code>cases'</code> by <code>obtain</code>.</p>",
        "id": 468096306,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607744
    },
    {
        "content": "<p>But generally I would hope that you can find a better use of your time than doing mass replacements without mass support from the community.</p>",
        "id": 468096513,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607782
    },
    {
        "content": "<p>Nevertheless some of the other replacements I plan to do will involve <code>obtain</code></p>",
        "id": 468096679,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725607805
    },
    {
        "content": "<p>... as in? Deleting uses of it? Adding uses of it?</p>",
        "id": 468096879,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607836
    },
    {
        "content": "<p><code>And 1</code>, <code>@Exists 1</code> and the like (producing only one subgoal) are going to be replaced by <code>obtain</code></p>",
        "id": 468097371,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725607919
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/287929-mathlib4/topic/The.20plan.20to.20remove.20cases'/near/468096306\">said</a>:</p>\n<blockquote>\n<p>You must know that I am of the opinion <code>rcases</code> should be obliterated in favour of <code>obtain</code>. Certainly it wouldn't look as bad if you replaced <code>cases'</code> by <code>obtain</code>.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"464700\">@David Ang</span>, the point of this message is not to push for a consensus, but to show there is <em>no consensus</em>. I don't think we should be changing statu quo style towards non-consensus approved style, regardless of the styles in question.</p>",
        "id": 468097721,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725607976
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> the docstring of <code>cases'</code> explicitly discourages its own use:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c\">/-</span><span class=\"cm\">!</span>\n<span class=\"cm\"># Backward compatible implementation of lean 3 `cases` tactic</span>\n\n<span class=\"cm\">...</span>\n\n<span class=\"cm\">Prefer `cases` or `rcases` when possible, because these tactics promote structured proofs.</span>\n<span class=\"cm\">-/</span>\n</code></pre></div>",
        "id": 468098781,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725608203
    },
    {
        "content": "<p>(to <code>cases</code> and <code>rcases</code> as the list of suggested replacements <code>obtain</code> is obviously added)</p>",
        "id": 468099013,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725608263
    },
    {
        "content": "<p>This seems to be very recent: <a href=\"https://github.com/leanprover-community/mathlib4/pull/15751\">#15751</a> <span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span>, why mark <code>cases'</code> as deprecated? As explained above, <code>cases</code> can't provide proofs structured according to \"unindented proof is the main proof\".</p>",
        "id": 468099496,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1725608371
    },
    {
        "content": "<p>For <code>induction'</code>, I copied that from the tactic docstring to the main module docstring --- and changed <code>cases'</code> by analogy. To me, the wording is not absolute (and does not imply performing mass-replacements), but I am very happy to remove or tweak it (or do review such a PR).</p>",
        "id": 468103327,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1725609043
    },
    {
        "content": "<p>Actually, wait: that PR only added to the tactic docstring what was already written in the <em>module</em> docstring: I did not invent that wording, I only made it more prominent.</p>",
        "id": 468103845,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1725609125
    },
    {
        "content": "<p>(The rest of my message still applies.)</p>",
        "id": 468103894,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1725609131
    },
    {
        "content": "<p>How I see it is that <code>obtain</code> should be used to deconstruct a hypothesis without alternatives (no new goals are generated), <code>cases/rcases</code> otherwise (new goals are generated, i.e. hypothesis specifies alternatives).</p>",
        "id": 468112962,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725611127
    },
    {
        "content": "<p>Well... <code>obtain</code> has been used loads of times when there are alternatives, and I think that use case is totally fine and should remain supported.</p>",
        "id": 468113860,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1725611342
    },
    {
        "content": "<p>Of course these are merely ideals I am putting forth</p>",
        "id": 468114427,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1725611471
    },
    {
        "content": "<p>Regarding rcases vs obtain, something we had in mathlib3 that I miss is <code>rcases?</code>, for which it's not clear to me how the same would work for some <code>obtain?</code>. The reason being is that code actions so far have modified a line to the right of the expressions in question (exact?%, structure hole) and that is what rcases? does as well. obtain? would need to modify the line to the left of the assignment walrus</p>",
        "id": 468150551,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1725620266
    },
    {
        "content": "<p>What exactly did <code>rcases?</code> do?</p>",
        "id": 468153633,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1725621072
    },
    {
        "content": "<p>It inspected the type of expression being deconstructed and inserted a pattern that dealt with all the conjunctions and disjunctions</p>",
        "id": 468157739,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1725622103
    },
    {
        "content": "<p>If I remember correctly, it deconstructed more than conjunctions and disjunctions: I think that it also recursed, for instance, in <code>Nat.succ</code> with a limit of 4 iterations.</p>",
        "id": 468159013,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1725622338
    },
    {
        "content": "<p>The case (no pun intended) of <code>cases'</code> was discussed amongst maintainers. Our conclusion: it's fine to create PRs that change <code>cases'</code> to <code>cases</code> or <code>obtain</code> etc. But we are not banning <code>cases'</code> in new contributions.</p>",
        "id": 471070926,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1726600486
    },
    {
        "content": "<p>(And where <code>obtain</code> works, that is preferred, because it results in more readable proofs.)</p>",
        "id": 471127053,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1726618212
    },
    {
        "content": "<p>Reviving <a href=\"https://github.com/leanprover-community/mathlib4/pull/16526\">#16526</a>…</p>",
        "id": 499898673,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739611613
    },
    {
        "content": "<p>I deleted the \"depriming\" label. Those PRs are marked \"tech debt\" already, and don't need another super specific label.</p>",
        "id": 499899178,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1739612103
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16526\">#16526</a> is once again ready for review</p>",
        "id": 499911099,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739623269
    },
    {
        "content": "<p>Speaking of making sure everyone is one the same line for refactors like this, <a href=\"https://github.com/leanprover-community/mathlib4/pull/21359\">#21359</a> replaces <code>induction</code> by <code>induction'</code></p>",
        "id": 499930819,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1739638948
    },
    {
        "content": "<p>For reasons, I played through NNG today and one thing I noticed was that we still use <code>cases</code> there for lean 4  <code>cases'</code>. I'm not sure the lean4game infrastructure can support <code>|</code>, at least not without a lot of thought. Will we completely lose the ability to write a one-liner which turns one <code>Or</code> hypothesis into two named hypotheses if <code>cases'</code> goes?</p>",
        "id": 499941981,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739646130
    },
    {
        "content": "<p>Are you talking about the <code>|</code> in <code>rcases</code> and <code>obtain</code>? Why would that be a problem?</p>",
        "id": 499942256,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1739646382
    },
    {
        "content": "<p>It is coming <a href=\"https://github.com/leanprover-community/mathlib4/compare/master...deprime-cases-automated\">https://github.com/leanprover-community/mathlib4/compare/master...deprime-cases-automated</a></p>",
        "id": 499942262,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739646393
    },
    {
        "content": "<p>I think Kevin is talking about</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">case</span><span class=\"w\"> </span><span class=\"n\">some_or</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n</code></pre></div>",
        "id": 499951929,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1739654915
    },
    {
        "content": "<p>You can always import <code>cases'</code> into nng</p>",
        "id": 499952491,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1739655432
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> did you ever try NNG? Usually users type in one command in one line and expect to be done. I'm not sure that <code>cases</code> fits into that paradigm in lean 4 (it did in lean 3)</p>",
        "id": 499961750,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739664456
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/3e-_gEFO6P0Ofzs6qigoUaN4/cases-uses\">cases-uses</a></p>",
        "id": 499973722,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739676328
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/21939\">#21939</a> is now ready</p>",
        "id": 499975127,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739677891
    },
    {
        "content": "<p>Out of curiosity, do we have any motivation for doing this besides \"tactic duplication is bad\"?</p>",
        "id": 499983470,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1739686296
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/287929-mathlib4/topic/The.20plan.20to.20remove.20cases'/near/499983470\">said</a>:</p>\n<blockquote>\n<p>Out of curiosity, do we have any motivation for doing this besides \"tactic duplication is bad\"?</p>\n</blockquote>\n<p>Higher readability of the replacement tactics</p>",
        "id": 499984195,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739687125
    },
    {
        "content": "<p><code>cases'</code> has also always been the Lean 3 compatibility tactic. The docstring for <code>cases'</code> says to use <code>cases</code>.</p>",
        "id": 499985178,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1739688082
    },
    {
        "content": "<p>New version:<br>\n<a href=\"/user_uploads/3121/R5Itoas7lb79vHSYzwAKxe3K/cases-uses\">cases-uses</a></p>",
        "id": 500097792,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739775663
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/21976\">#21976</a></p>",
        "id": 500125622,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739783981
    },
    {
        "content": "<p>For some reason the <code>cases'</code> in <code>Data.Seq.Seq</code> operating on a <code>Seq</code> cannot be replaced by <code>rcases</code> or <code>obtain</code>; it has to be replaced by <code>cases</code> in full. Is there a better way?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">cases'</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">s'</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"n\">injection</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"w\">  </span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">Subtype</span><span class=\"bp\">.</span><span class=\"n\">recOn</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h_eq</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IH</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>has to become</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">injection</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_eq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"bp\">.</span><span class=\"n\">val</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">Subtype</span><span class=\"bp\">.</span><span class=\"n\">recOn</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h_eq</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">e</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">h1</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Or</span><span class=\"bp\">.</span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">IH</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 500202988,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739802545
    },
    {
        "content": "<p>Is this bad?</p>",
        "id": 500203390,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1739802625
    },
    {
        "content": "<p>Not if you can come up with a better solution</p>",
        "id": 500203769,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739802712
    },
    {
        "content": "<p>Do you like <code>refine s.recOn ?_ fun b s' =&gt; ?_</code> any better?</p>",
        "id": 500206794,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1739803371
    },
    {
        "content": "<p>see what others have to say about that</p>",
        "id": 500209331,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739803942
    },
    {
        "content": "<p>There's a somewhat similar problem with <code>WithTop</code>/<code>WithBot</code></p>",
        "id": 500213694,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739804930
    },
    {
        "content": "<p>But I now should have in <a href=\"https://github.com/leanprover-community/mathlib4/tree/option2\">branch#option2</a> <strong>a compiling mathlib without any <code>cases'</code> in the main body, Archive or Counterexamples</strong></p>",
        "id": 500214383,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739805103
    },
    {
        "content": "<p>AFAIR, <code>rcases</code> doesn't use custom eliminators.</p>",
        "id": 500222358,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1739806920
    },
    {
        "content": "<p>IMHO, verbose <code>cases</code> is OK here. I definitely prefer it to <code>s.recOn</code>.</p>",
        "id": 500222566,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1739806966
    },
    {
        "content": "<p>Well, two PRs are awaiting your review</p>",
        "id": 500229765,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739808667
    },
    {
        "content": "<p>Now one (<a href=\"https://github.com/leanprover-community/mathlib4/pull/21976\">#21976</a>)</p>",
        "id": 500300667,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739842369
    },
    {
        "content": "<p>After <a href=\"https://github.com/leanprover-community/mathlib4/pull/22075\">#22075</a> is merged the instances below should be the only <code>cases'</code> remaining:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">2367</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">Seq</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">257</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">339</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">339</span><span class=\"o\">:</span><span class=\"mi\">35</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">339</span><span class=\"o\">:</span><span class=\"mi\">35</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s'</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">569</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">718</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">731</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">732</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">733</span><span class=\"o\">:</span><span class=\"mi\">19</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">772</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">773</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">829</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">833</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">846</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">847</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">848</span><span class=\"o\">:</span><span class=\"mi\">19</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">909</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">c</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">t₁</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1017</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1018</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1039</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1040</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">SS</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1043</span><span class=\"o\">:</span><span class=\"mi\">19</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Seq</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">4985</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Ordmap</span><span class=\"bp\">.</span><span class=\"n\">Ordset</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">315</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">316</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">317</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">317</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">317</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">320</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">323</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">323</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">323</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">580</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">581</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">584</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rlx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rlr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">584</span><span class=\"o\">:</span><span class=\"mi\">48</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">584</span><span class=\"o\">:</span><span class=\"mi\">48</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">609</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">611</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">611</span><span class=\"o\">:</span><span class=\"mi\">48</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">611</span><span class=\"o\">:</span><span class=\"mi\">48</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">642</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rlx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rlr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">645</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">653</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">llr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">656</span><span class=\"o\">:</span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lrs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lrr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">667</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">669</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1007</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ml</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">mr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1071</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1238</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ls</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ll</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">lr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1239</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ordnode</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rs</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rl</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">rr</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Ordmap</span><span class=\"bp\">/</span><span class=\"n\">Ordset</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1301</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">And</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">e</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5020</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">WSeq</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">WSeq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">447</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">LiftRel</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">Computation</span><span class=\"bp\">.</span><span class=\"n\">LiftRel</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">LiftRelO</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">LiftRel</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">.</span><span class=\"n\">destruct</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">destruct</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">WSeq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">507</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">WSeq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">WSeq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">507</span><span class=\"o\">:</span><span class=\"mi\">29</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">WSeq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">c</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">WSeq</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">507</span><span class=\"o\">:</span><span class=\"mi\">29</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">WSeq</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">c</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5021</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Seq</span><span class=\"bp\">.</span><span class=\"n\">Parallel</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Parallel</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">175</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Computation</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">c</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Parallel</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">198</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Sum</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ls</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span><span class=\"bp\">/</span><span class=\"n\">Seq</span><span class=\"bp\">/</span><span class=\"n\">Parallel</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">236</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">c</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5091</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">AlgebraicIndependent</span><span class=\"bp\">.</span><span class=\"n\">TranscendenceBasis</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">AlgebraicIndependent</span><span class=\"bp\">/</span><span class=\"n\">TranscendenceBasis</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">45</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5092</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">FieldTheory</span><span class=\"bp\">.</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">.</span><span class=\"n\">Classification</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">/</span><span class=\"n\">Classification</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">157</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">/</span><span class=\"n\">Classification</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">159</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">/</span><span class=\"n\">Classification</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">176</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">IsAlgClosed</span><span class=\"bp\">/</span><span class=\"n\">Classification</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">178</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">Exists</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">t</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5095</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">ModelTheory</span><span class=\"bp\">.</span><span class=\"n\">Syntax</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">ModelTheory</span><span class=\"bp\">/</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">201</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Functions</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5096</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">ModelTheory</span><span class=\"bp\">.</span><span class=\"n\">Semantics</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">ModelTheory</span><span class=\"bp\">/</span><span class=\"n\">Semantics</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">170</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Functions</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">ModelTheory</span><span class=\"bp\">/</span><span class=\"n\">Semantics</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">448</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">L</span><span class=\"o\">[[</span><span class=\"n\">α</span><span class=\"o\">]]</span><span class=\"bp\">.</span><span class=\"n\">Relations</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5104</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">ModelTheory</span><span class=\"bp\">.</span><span class=\"n\">Substructures</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">ModelTheory</span><span class=\"bp\">/</span><span class=\"n\">Substructures</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">709</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Functions</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5119</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">FieldTheory</span><span class=\"bp\">.</span><span class=\"n\">SeparableDegree</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">SeparableDegree</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">476</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hprime</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5129</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">FieldTheory</span><span class=\"bp\">.</span><span class=\"n\">Cardinality</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">FieldTheory</span><span class=\"bp\">/</span><span class=\"n\">Cardinality</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">70</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PSum</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5170</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Geometry</span><span class=\"bp\">.</span><span class=\"n\">Euclidean</span><span class=\"bp\">.</span><span class=\"n\">Circumcenter</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Geometry</span><span class=\"bp\">/</span><span class=\"n\">Euclidean</span><span class=\"bp\">/</span><span class=\"n\">Circumcenter</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">503</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PointsWithCircumcenterIndex</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5176</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Geometry</span><span class=\"bp\">.</span><span class=\"n\">Euclidean</span><span class=\"bp\">.</span><span class=\"n\">MongePoint</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Geometry</span><span class=\"bp\">/</span><span class=\"n\">Euclidean</span><span class=\"bp\">/</span><span class=\"n\">MongePoint</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">168</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PointsWithCircumcenterIndex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5249</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">GroupTheory</span><span class=\"bp\">.</span><span class=\"n\">GroupAction</span><span class=\"bp\">.</span><span class=\"n\">Blocks</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">GroupAction</span><span class=\"bp\">/</span><span class=\"n\">Blocks</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">124</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">IsTrivialBlock</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hB</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hB</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">GroupAction</span><span class=\"bp\">/</span><span class=\"n\">Blocks</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">133</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">IsTrivialBlock</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hB</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hB</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5253</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">GroupTheory</span><span class=\"bp\">.</span><span class=\"n\">GroupAction</span><span class=\"bp\">.</span><span class=\"n\">Primitive</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">GroupAction</span><span class=\"bp\">/</span><span class=\"n\">Primitive</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">143</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">IsTrivialBlock</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">H</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5264</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">GroupTheory</span><span class=\"bp\">.</span><span class=\"n\">Perm</span><span class=\"bp\">.</span><span class=\"n\">Cycle</span><span class=\"bp\">.</span><span class=\"n\">Concrete</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">GroupTheory</span><span class=\"bp\">/</span><span class=\"n\">Perm</span><span class=\"bp\">/</span><span class=\"n\">Cycle</span><span class=\"bp\">/</span><span class=\"n\">Concrete</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">140</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">hd</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">tl</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5606</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">DedekindDomain</span><span class=\"bp\">.</span><span class=\"n\">Factorization</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">DedekindDomain</span><span class=\"bp\">/</span><span class=\"n\">Factorization</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">435</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5826</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">RingTheory</span><span class=\"bp\">.</span><span class=\"n\">LaurentSeries</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">RingTheory</span><span class=\"bp\">/</span><span class=\"n\">LaurentSeries</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">590</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5909</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">Game</span><span class=\"bp\">.</span><span class=\"n\">PGame</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Game</span><span class=\"bp\">/</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1865</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">LeftMoves</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Game</span><span class=\"bp\">/</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1897</span><span class=\"o\">:</span><span class=\"mi\">58</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">xl</span><span class=\"w\"> </span><span class=\"n\">xr</span><span class=\"w\"> </span><span class=\"n\">xL</span><span class=\"w\"> </span><span class=\"n\">xR</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">zl</span><span class=\"w\"> </span><span class=\"n\">zr</span><span class=\"w\"> </span><span class=\"n\">zL</span><span class=\"w\"> </span><span class=\"n\">zR</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">LeftMoves</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Game</span><span class=\"bp\">/</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1897</span><span class=\"o\">:</span><span class=\"mi\">58</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">yl</span><span class=\"w\"> </span><span class=\"n\">yr</span><span class=\"w\"> </span><span class=\"n\">yL</span><span class=\"w\"> </span><span class=\"n\">yR</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">zl</span><span class=\"w\"> </span><span class=\"n\">zr</span><span class=\"w\"> </span><span class=\"n\">zL</span><span class=\"w\"> </span><span class=\"n\">zR</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">RightMoves</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5910</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">Game</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">SetTheory</span><span class=\"bp\">/</span><span class=\"n\">Game</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">928</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">5</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">6242</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Archive</span><span class=\"bp\">.</span><span class=\"n\">Wiedijk100Theorems</span><span class=\"bp\">.</span><span class=\"n\">CubingACube</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Archive</span><span class=\"bp\">/</span><span class=\"n\">Wiedijk100Theorems</span><span class=\"bp\">/</span><span class=\"n\">CubingACube</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">344</span><span class=\"o\">:</span><span class=\"mi\">9</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">OnBoundary</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">bi</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">bi</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">6254</span><span class=\"bp\">/</span><span class=\"mi\">6275</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">Counterexamples</span><span class=\"bp\">.</span><span class=\"n\">CanonicallyOrderedCommSemiringTwoMul</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Counterexamples</span><span class=\"bp\">/</span><span class=\"n\">CanonicallyOrderedCommSemiringTwoMul</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">56</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">LE</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ab</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ab</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././././</span><span class=\"n\">Counterexamples</span><span class=\"bp\">/</span><span class=\"n\">CanonicallyOrderedCommSemiringTwoMul</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">58</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">@</span><span class=\"n\">LE</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ba</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ba</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n</code></pre></div>",
        "id": 500624527,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739963730
    },
    {
        "content": "<p>And <a href=\"https://github.com/leanprover-community/mathlib4/pull/22079\">#22079</a> should remove these last stragglers</p>",
        "id": 500654728,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1739972945
    },
    {
        "content": "<p>At last, <a href=\"https://github.com/leanprover-community/mathlib4/pull/21832\">#21832</a> adds the <code>cases'</code> linter</p>",
        "id": 502935113,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1740974373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> I am completely clueless as to how using <code>`....cases</code> solves the import problem</p>",
        "id": 502965651,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1740990165
    },
    {
        "content": "<p>Not like this, certainly</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- `getCases' t` returns all usages of the `cases'` tactic in the input syntax `t`. -/</span>\n<span class=\"n\">partial</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">getCases'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Syntax</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Array</span><span class=\"w\"> </span><span class=\"n\">Syntax</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"bp\">@</span><span class=\"o\">(</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">kind</span><span class=\"w\"> </span><span class=\"n\">args</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">rargs</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">args</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">getCases'</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">flatten</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">kind</span><span class=\"w\"> </span><span class=\"bp\">==</span><span class=\"w\"> </span><span class=\"bp\">`....</span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"n\">rargs</span><span class=\"bp\">.</span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"n\">rargs</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">default</span>\n</code></pre></div>",
        "id": 502965873,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1740990243
    },
    {
        "content": "<p>I left a comment: simply remove one backtick and then let the test file make sure that you are using the correct SyntaxNodeKind.</p>",
        "id": 502966474,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740990420
    },
    {
        "content": "<p>what's the difference between one backtick and two?</p>",
        "id": 502966880,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1740990534
    },
    {
        "content": "<p>Two backticks give an error if it can't find a declaration with that name.  It should be preferred, but is not a deal-breaker.</p>",
        "id": 502967372,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1740990679
    },
    {
        "content": "<p>OK, I think the main problems with the PR have been sorted out</p>",
        "id": 502970103,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1740991552
    },
    {
        "content": "<p>Recently I added <code>Rat.divCasesOn</code> as the default cases lemma for <code>Rat</code>, so that you can unfold a <code>Rat</code> in the natural way. I intended it to be used with <code>cases'</code>. Is the following now the preferred form?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"n\">nonzero</span><span class=\"w\"> </span><span class=\"n\">coprime</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 503089877,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1741024742
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"479299\">@Jovan Gerbscheid</span> I have no preference between <code>cases</code>, <code>rcases</code> or <code>obtain</code>. Use whatever floats your boat, but not <code>cases'</code></p>",
        "id": 503161759,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1741053509
    },
    {
        "content": "<p>The issue is that <code>rcases</code> and <code>obtain</code> don't work with custom eliminators. So it leaves only <code>cases</code>. But having to write the name of the case <code>h</code> is a bit awkward.</p>",
        "id": 503161966,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1741053603
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">p</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">nonzero</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">coprime</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">r</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 503162449,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1741053792
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/287929-mathlib4/topic/The.20plan.20to.20remove.20cases'/near/503161966\">said</a>:</p>\n<blockquote>\n<p>The issue is that <code>rcases</code> and <code>obtain</code> don't work with custom eliminators. So it leaves only <code>cases</code>. But having to write the name of the case <code>h</code> is a bit awkward.</p>\n</blockquote>\n<p>So rename the case! <code>h</code> isn't really descriptive anyways.</p>",
        "id": 503162499,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741053825
    },
    {
        "content": "<p>What is a good name for a single case? I feel like there isn't much to describe when there is only one case.</p>",
        "id": 503162633,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1741053894
    },
    {
        "content": "<p><code>mk</code>, <code>mkDiv</code>, <code>div</code>, and <code>castDiv</code> are all infinitely better than <code>h</code>.</p>",
        "id": 503162796,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1741053976
    },
    {
        "content": "<p>Sounds good, renaming it to <code>div</code>: <a href=\"https://github.com/leanprover-community/mathlib4/pull/22528\">#22528</a></p>",
        "id": 503164251,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1741054740
    },
    {
        "content": "<p>I think <code>| _ p q nonzero coprime</code> is legal too if you really don't want to write the case name</p>",
        "id": 503211559,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741078499
    },
    {
        "content": "<p>But explicitly writing <code>div</code> sounds better</p>",
        "id": 503211625,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1741078524
    },
    {
        "content": "<p>I've been wondering if there should be special syntax for one-constructor <code>case</code>. The current version invites an unnecessary indentation.</p>\n<p>Some people use the style</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"n\">nonzero</span><span class=\"w\"> </span><span class=\"n\">coprime</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>but that's not guaranteed to work in the future; it might be affected by the proposal to accept empty tactic blocks.</p>\n<p>I guess it could be as simple as letting the <code>=&gt;</code> be optional if there's one case. I'm not sure about this, but it was the first reasonable syntax I could think of.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"n\">nonzero</span><span class=\"w\"> </span><span class=\"n\">coprime</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 503355681,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1741119272
    },
    {
        "content": "<p>It's worth mentioning that this is currently valid:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℚ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"n\">nonzero</span><span class=\"w\"> </span><span class=\"n\">coprime</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>A missing <code>=&gt;</code> could be interpreted as <code>=&gt; ?_</code>, when there is just one case.</p>",
        "id": 503355924,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1741119350
    },
    {
        "content": "<p>On another note: <a href=\"https://github.com/leanprover-community/mathlib4/pull/22533\">#22533</a> removes some <code>induction'</code> and imports of <code>Mathlib.Tactic.Cases</code></p>",
        "id": 503806070,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1741270807
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> I had to update <a href=\"https://github.com/leanprover-community/mathlib4/pull/21832\">#21832</a> because one new PR introduced four <code>cases'</code>. Can we merge that already to prevent rotting?</p>",
        "id": 504704006,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1741647631
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/287929-mathlib4/topic/The.20plan.20to.20remove.20cases'/near/503355681\">said</a>:</p>\n<blockquote>\n<p>I've been wondering if there should be special syntax for one-constructor <code>case</code>. The current version invites an unnecessary indentation.</p>\n</blockquote>\n<p>I absolutely would like this. I'm currently dreading the removal of <code>cases'</code>, because it's really nice to have the rcases-like \"just let me name the variables of a one-case <code>cases</code>\" feature on types that have custom <code>cases_eliminators</code>.</p>\n<p>Relatedly, the argument against having to write out the case name is the same as the argument for having implicit binders and for not naming unused variables: for a one-case eliminator the name contains zero information, so it shouldn't be referenced.</p>",
        "id": 504733900,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1741665154
    },
    {
        "content": "<p>Can't you use <code>obtain</code> for that? It doesn't require naming the case</p>",
        "id": 504746308,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1741671511
    },
    {
        "content": "<p><code>obtain</code> goes through <code>rcases</code>, I believe, which means it doesn't use custom recursors</p>",
        "id": 504756314,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1741676402
    }
]