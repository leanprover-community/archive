[
    {
        "content": "<p>I just learned about Isabelle's FindFacts. It has this \"drill down facets\". That seems like a very useful feature. Would that be something for mathlib docs search as well?</p>\n<p>Example: <a href=\"https://search.isabelle.in.tum.de/#search/default_Isabelle2024_AFP2024?q=%7B%22term%22%3A%22bigo%22%2C%22facets%22%3A%7B%22Kind%22%3A%5B%22Constant%22%5D%7D%7D\">https://search.isabelle.in.tum.de/#search/default_Isabelle2024_AFP2024?q=%7B%22term%22%3A%22bigo%22%2C%22facets%22%3A%7B%22Kind%22%3A%5B%22Constant%22%5D%7D%7D</a></p>\n<p>E.g. we might want to be able to \"drill down\" into one top-level folder.</p>\n<p>Maybe not just mathlib-docs. Other search tools could have this as well.</p>",
        "id": 455670126,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1722523815
    },
    {
        "content": "<p>I'm not sure I understand what's going on here. Can you give a brief explanation?</p>",
        "id": 455677085,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1722525302
    },
    {
        "content": "<p>Well, you search for something on mathlib docs, or moogle, or whatever, and then maybe you want to apply extra filters on top of the search results. For example: <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">n_1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> results in <code>Algebra/</code> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">n_2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">n</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> results in <code>Topology/</code> etc... and you want to filter for only the results in a certain folder, once you know how many results there are in each folder.</p>",
        "id": 455679859,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1722525895
    },
    {
        "content": "<p>okay, so basically it's just query filters. Yes, that would be lovely. Even just filtering out theorem vs def vs structure vs class etc. would be nice.</p>",
        "id": 455690705,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1722528464
    },
    {
        "content": "<p>Loogle inherently supports filtering by theorem or lemma, using <code>|- (?a : Prop)</code> resp. <code>|- (?a : Type _)</code>. Nicer syntax to be added eventually. (<a href=\"https://github.com/nomeata/loogle/issues/9\">https://github.com/nomeata/loogle/issues/9</a>)</p>",
        "id": 455709260,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1722532550
    },
    {
        "content": "<p>Using something like <code>\"List.\"</code> you can approximate filtering by namespace rather well.</p>\n<p>Something similar to filter by defining module might be useful. As usual, the syntax design is the hardest part :-)</p>",
        "id": 455709660,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1722532639
    },
    {
        "content": "<p>I wonder whether loogle could take some design inspiration from coq's <code>Search</code> tactic? It seems most structurally similar to that tactic (indeed the original <code>#find</code> was based on it), but it has a <a href=\"https://coq.inria.fr/doc/V8.18.0/refman/proof-engine/vernacular-commands.html#coq:cmd.Search\">more expressive syntax</a> than loogle currently supports</p>",
        "id": 456174388,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722698628
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"470149\">Joachim Breitner</span> <a href=\"#narrow/stream/287929-mathlib4/topic/FindFacts.20drill.20down.20facets/near/455709260\">said</a>:</p>\n<blockquote>\n<p>Loogle inherently supports filtering by theorem or lemma, using <code>|- (?a : Prop)</code> resp. <code>|- (?a : Type _)</code>. Nicer syntax to be added eventually. (<a href=\"https://github.com/nomeata/loogle/issues/9\">https://github.com/nomeata/loogle/issues/9</a>)</p>\n</blockquote>\n<p>That's nice!</p>",
        "id": 460015616,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723447332
    },
    {
        "content": "<p>One benefit of the \"drill down\" feature in FindFacts is discoverability. It gives suggestions of which filters you can apply. And it already tells you how many results satisfy a certain filter. So you can guesstimate whether it is useful to \"drill down\" in that direction.</p>",
        "id": 460015827,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723447395
    }
]