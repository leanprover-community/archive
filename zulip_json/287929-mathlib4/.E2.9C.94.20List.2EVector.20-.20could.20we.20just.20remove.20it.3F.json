[
    {
        "content": "<p>I was thinking, given the relative maturity of <code>Vector</code> nowadays, about working on a PR that would remove <code>List.Vector</code> completely. What do people think? I would make sure that every definition for List.Vector had a corresponding definition for Vector and refactor those few places where it is still used.</p>",
        "id": 518858210,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747518577
    },
    {
        "content": "<p>To be clear I'm not asking anyone to do this work but me - but I don't want to do it and have people tell me I shouldn't have.</p>",
        "id": 518858219,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747518599
    },
    {
        "content": "<p>I don't think the maturity of Vector is a reason to remove List.Vector, just as the maturity of Array is not a reason to remove List.</p>",
        "id": 518860695,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747520847
    },
    {
        "content": "<p>Well, the fact that there's a note above List.Vector saying \"please either modernise the API here or reduce the library's dependency on it\" made me somewhat suspicious.</p>",
        "id": 518865632,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747525365
    },
    {
        "content": "<p>List and Array don't have this and clearly do different things.</p>",
        "id": 518865652,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747525392
    },
    {
        "content": "<p>\"TODO: The API of <code>[List.Vector](https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Vector/Defs.html#List.Vector)</code> is quite incomplete relative to <code>[Vector](https://leanprover-community.github.io/mathlib4_docs/Init/Data/Vector/Basic.html#Vector)</code>, and in particular does not use <code>x[i]</code> (that is <code>[GetElem](https://leanprover-community.github.io/mathlib4_docs/Init/GetElem.html#GetElem)</code> notation) as the preferred accessor. Any combination of reducing the use of <code>[List.Vector](https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Vector/Defs.html#List.Vector)</code> in Mathlib, or modernising its API, would be welcome.\"</p>",
        "id": 518865772,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747525502
    },
    {
        "content": "<p>\"Removing it\" would indeed be \"reducing its use\".</p>",
        "id": 518865797,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747525519
    },
    {
        "content": "<p>Does this TODO still represent the position of the maintainers?</p>",
        "id": 518865805,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747525533
    },
    {
        "content": "<p>I don't think this is a call to remove it, but rather to avoid proliferation of uses of the non-modernized API</p>",
        "id": 518867750,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747527365
    },
    {
        "content": "<p>My inclination would be not to do the modernization just yet, as I think there are still plans upstream to keep adjusting the sequence APi (eg renaming <code>get</code> to <code>getFin</code>), and it would be less churn to wait for that to happen first.</p>",
        "id": 518867809,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747527424
    },
    {
        "content": "<p>I read it in two ways really. But yes if they're still adjusting things upstream, may as well wait I guess. </p>\n<p>We could consider a rename of List.Vector though I'm not sure what you'd choose. It is a little confusing to have Vector and List.Vector.</p>",
        "id": 518885162,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747543221
    },
    {
        "content": "<p>That name was only recently chosen to replace \"Mathlib.Vector\"</p>",
        "id": 518903400,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747559379
    },
    {
        "content": "<p>Fair enough - it is better than that I guess!</p>",
        "id": 519221302,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747687948
    },
    {
        "content": "<p>What <em>is</em> the work that this TODO seeks to capture, then?</p>",
        "id": 519362298,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741154
    },
    {
        "content": "<p>Making the API match <code>Vector</code> I would guess (with List in place of Array)</p>",
        "id": 519362536,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747741237
    },
    {
        "content": "<p>I mean the \"reducing its use in Mathlib\" part.</p>",
        "id": 519362592,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741262
    },
    {
        "content": "<p>It seems like its API could match <code>Vector</code> (and if we must keep it, I agree this is good).</p>",
        "id": 519362664,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741290
    },
    {
        "content": "<p>Let me check who wrote that note</p>",
        "id": 519362682,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741296
    },
    {
        "content": "<p>I would guess <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span></p>",
        "id": 519362712,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747741310
    },
    {
        "content": "<p>It was indeed.</p>",
        "id": 519362790,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741331
    },
    {
        "content": "<p>So I will defer to Kim and they can tell me what the intent is. I am very happy to do some pruning so that <code>List.Vector</code> is essentially minimally used!</p>",
        "id": 519362923,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741378
    },
    {
        "content": "<p>What I don't want to do is work that a TODO suggests that I am told is not needed when I submit (I've been burned by that before).</p>",
        "id": 519363206,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747741482
    },
    {
        "content": "<p>My vote is for making <code>List.Vector</code> into a parallel of <code>Vector</code> and then removing the deprecation note</p>",
        "id": 519371119,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747743843
    },
    {
        "content": "<p>As in, mirroring the API etc.?</p>",
        "id": 519371192,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747743866
    },
    {
        "content": "<p>yeah, they should have functions with the same names</p>",
        "id": 519371327,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747743912
    },
    {
        "content": "<p>It already seems like quite a bit of work keeping Array and Vector having the same functions (they mostly do but not completely).</p>",
        "id": 519371980,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744102
    },
    {
        "content": "<p>Is there any automation potential here?</p>",
        "id": 519371996,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744109
    },
    {
        "content": "<p>It doesn't have to be exactly the same; there are also some tensions because we also want to copy the API of <code>List</code> and this will doubtless lead to some incompatible naming</p>",
        "id": 519372245,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747744193
    },
    {
        "content": "<p>Right.</p>",
        "id": 519372329,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744207
    },
    {
        "content": "<p>We could possibly do with List.Vector.toVector (and I suppose then Vector.toListVector, and the resulting equiv).</p>",
        "id": 519372636,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744309
    },
    {
        "content": "<p>(Also List.Vector.toArray seems like it is not implemented using List.toArray, which seems odd.)</p>",
        "id": 519372742,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744335
    },
    {
        "content": "<p>TBH I think even without growing the API I think we could just undeprecate it. There are a few other instances of this as well (<code>List.get?</code>), where the deprecation has mostly served its purpose to get people who can switch away to do so (by making them aware of a fresh replacement API), but the function itself isn't going anywhere so we can let those who need to use it use it as they wish</p>",
        "id": 519372837,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747744364
    },
    {
        "content": "<p>Fair.</p>",
        "id": 519372916,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744385
    },
    {
        "content": "<p>I think I still don't quite understand under what situations you absolutely MUST use it.</p>",
        "id": 519372975,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744403
    },
    {
        "content": "<p>I recently hit an issue with <code>List.get?</code> where I had a definition <code>def MyList := List</code> and then for <code>x : MyList A</code>, <code>x.get?</code> would be deprecated but <code>x[i]?</code> would not typecheck</p>",
        "id": 519373231,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747744469
    },
    {
        "content": "<p>Oh, that I do understand tbf.</p>",
        "id": 519373304,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744492
    },
    {
        "content": "<p>The getElem notation is great but very occasionally issues like that crop up.</p>",
        "id": 519373360,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744510
    },
    {
        "content": "<p>For <code>List.Vector</code>, the use cases usually revolve around some kind of kernel computation in a verified program</p>",
        "id": 519373377,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747744515
    },
    {
        "content": "<p>Aha</p>",
        "id": 519373420,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747744527
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">toVector</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"bp\">.</span><span class=\"n\">toArray</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">⟩</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ofVector</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"n\">toList</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"bp\">⟩</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">ofVector_toVector</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ofVector</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">toVector</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">toVector_ofVector</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">toVector</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ofVector</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">equivVector</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≃</span><span class=\"w\"> </span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">toVector</span>\n<span class=\"w\">  </span><span class=\"n\">invFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ofVector</span>\n<span class=\"w\">  </span><span class=\"n\">left_inv</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ofVector_toVector</span>\n<span class=\"w\">  </span><span class=\"n\">right_inv</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">toVector_ofVector</span>\n</code></pre></div>\n<p>Why we don't have this I'm not quite sure.</p>",
        "id": 519375687,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747745173
    },
    {
        "content": "<p>we don't have it because List.Vector was written before Vector and no one involved has been interested in making it easy to combine them</p>",
        "id": 519376308,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747745344
    },
    {
        "content": "<p>I think that's a no-brainer PR</p>",
        "id": 519376332,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747745354
    },
    {
        "content": "<p>Could possibly also do with a Fintype instance for Vector now that I notice it - but that would be separate. Obviously having the equiv is useful though!</p>",
        "id": 519376450,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747745397
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25050\">#25050</a></p>",
        "id": 519377874,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747745783
    },
    {
        "content": "<p>Whether it should be in the Vector. or List.Vector namespace I wasn't sure so I went for the latter.</p>",
        "id": 519378024,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747745819
    },
    {
        "content": "<p>Hmm - taking this into this thread.</p>",
        "id": 519395956,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750186
    },
    {
        "content": "<p>A thought: is this definitely the right equivalence? In particular, <code>Vector</code> does not possess a <code>cons</code> operator, because you actually build a <code>Vector</code> left-to-right (with <code>push</code>), not right-to-left - the type of <code>[a] ++ v</code> is Vector _ (1 + n), not Vector _ (n + 1), etc..</p>",
        "id": 519396771,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750362
    },
    {
        "content": "<p>Semantically, <em>are</em> List.Vector and Vector the same, or is there an implicit reversal?</p>",
        "id": 519396881,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750390
    },
    {
        "content": "<p>(I think they are the same but it does make dealing with cons a little awkward.)</p>",
        "id": 519397134,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750447
    },
    {
        "content": "<p>List.Vector and List are both cons-oriented</p>",
        "id": 519397226,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750470
    },
    {
        "content": "<p>but that doesn't mean they can't have API parity anyway</p>",
        "id": 519397315,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750495
    },
    {
        "content": "<p>Right.</p>",
        "id": 519397342,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750503
    },
    {
        "content": "<p>Ah I think <code>Vector.insertIdx</code> is the thing to use?</p>",
        "id": 519397378,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750513
    },
    {
        "content": "<p>does <code>Vector</code> not have a <code>cons</code> or <code>pushFront</code>?</p>",
        "id": 519397482,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750537
    },
    {
        "content": "<p>I think you spell it <code>xs.insertIdx 0</code>which then has a simp lemma <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Data/Vector/InsertIdx.html#Vector.insertIdx_zero\">Vector.insertIdx_zero</a></p>",
        "id": 519397612,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750569
    },
    {
        "content": "<p>So, no.</p>",
        "id": 519397661,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750587
    },
    {
        "content": "<p>wtf simp lemma is that</p>",
        "id": 519397692,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750597
    },
    {
        "content": "<p>a great question :)</p>",
        "id": 519397724,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750606
    },
    {
        "content": "<p>that is not very consish</p>",
        "id": 519397743,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750611
    },
    {
        "content": "<p>Indeed but it is \"insert at the front\".</p>",
        "id": 519397812,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750627
    },
    {
        "content": "<p>I am surprise it doesn't have a (presumably computationally O(n)) simpler spelling for <code>cons</code>.</p>",
        "id": 519397904,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750651
    },
    {
        "content": "<p>I think it should have a <code>cons</code> function which is defeq to <code>List.cons</code> when projected</p>",
        "id": 519397908,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750653
    },
    {
        "content": "<p>which is csimped to <code>insertAt 0</code></p>",
        "id": 519397964,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750668
    },
    {
        "content": "<p>Agreed but that would probably best exist in core rather than Mathlib. I mean, I guess it can go into mathlib first.</p>",
        "id": 519398103,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750692
    },
    {
        "content": "<p>well as long as it doesn't exist, that frees you from the obligation of having to write a lemma about how cons commutes with toVector</p>",
        "id": 519398289,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747750741
    },
    {
        "content": "<p>Indeed.</p>",
        "id": 519398322,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750748
    },
    {
        "content": "<p>Which you have correctly intuited is what I was doing.</p>",
        "id": 519398354,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750758
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> has marked this topic as resolved.</p>",
        "id": 519398505,
        "sender_full_name": "Notification Bot",
        "timestamp": 1747750796
    },
    {
        "content": "<p>I guess I will continue <a href=\"https://github.com/leanprover-community/mathlib4/pull/25050\">#25050</a> discussions under its own thread. I will tag you if that's OK?</p>",
        "id": 519398694,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1747750837
    },
    {
        "content": "<p>I ran into the incomplete API of <code>List.Vector</code> just now, and wrote this lemma to help myself.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- Analogue of `List.getElem_zero_eq_head` for `List.Vector`.</span>\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"bp\">.</span><span class=\"n\">getElem_zero_eq_head</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">Vector</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"bp\">.</span><span class=\"n\">succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">l</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"bp\">.</span><span class=\"n\">head</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rcases</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">l</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h_l</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">nil</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_l</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">cons</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>Does it still make sense to submit stuff like this? Or is the equivalence PR (now <a href=\"https://github.com/leanprover-community/mathlib4/pull/26009\">#26009</a>) making this redundant?</p>",
        "id": 534002249,
        "sender_full_name": "Malvin Gattinger",
        "timestamp": 1755011408
    }
]