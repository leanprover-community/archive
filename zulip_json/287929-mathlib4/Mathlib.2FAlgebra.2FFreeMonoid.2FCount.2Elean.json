[
    {
        "content": "<p>There is lots of defeq abuse here of <code>FreeAddMonoid α = List α</code>, e.g. in statements like </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">countP_apply</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FreeAddMonoid</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">countP</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">countP</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>Anyone interested in cleaning up?</p>",
        "id": 490048032,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1734641625
    },
    {
        "content": "<p>i've looked at this design before, since i wanted to use this for my free probability project... i think this should not be too difficult?</p>",
        "id": 490229773,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734728353
    },
    {
        "content": "<p>In 12 hours, I'll take a look if noone else has</p>",
        "id": 490243382,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734736281
    },
    {
        "content": "<p>is it an idea to have <code>to_additive</code> remove <code>Multiplicative</code> or add <code>Additive</code> automatically (in certain cases?)</p>",
        "id": 490297983,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734786886
    },
    {
        "content": "<p>because right now, we have to write out both <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FreeMonoid.countP#doc\">docs#FreeMonoid.countP</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FreeAddMonoid.countP#doc\">docs#FreeAddMonoid.countP</a>...</p>",
        "id": 490298037,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734786940
    },
    {
        "content": "<p>just came across <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.countP_singleton#doc\">docs#List.countP_singleton</a>, which has <code>if p a = true then ...</code> in the rhs where <code>p a : Bool</code>...</p>",
        "id": 490299945,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734788665
    },
    {
        "content": "<p><del>actually nvm, that seems to be a quirk of pretty printing?</del><br>\nactually the pretty printing is accurate, i just didn't have the right mental model of <code>ite</code></p>",
        "id": 490300004,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734788724
    },
    {
        "content": "<p>pr at <a href=\"https://github.com/leanprover-community/mathlib4/pull/20156\">#20156</a></p>",
        "id": 490302249,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734790687
    }
]