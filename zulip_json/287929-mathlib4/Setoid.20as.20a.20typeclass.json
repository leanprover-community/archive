[
    {
        "content": "<p>Hi, I suggest that we change all <code>Setoid _</code> instances to non-instances and completely migrate away from the instance API.</p>",
        "id": 475692022,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728429573
    },
    {
        "content": "<p>First in Mathlib, then ask core team what they think about turning it into a <code>structure</code> so that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Setoid.r#doc\">docs#Setoid.r</a> works fine with dot notation and is pretty printed as <code>Setoid.r s</code> or <code>s.r</code>, not <code>Setoid.r</code> (no arguments).</p>",
        "id": 475692223,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728429700
    },
    {
        "content": "<p>There are some related refactoring attempts in <a href=\"https://github.com/leanprover-community/mathlib4/pull/16210\">#16210</a>, but none of the PRs have been merged.</p>",
        "id": 475692701,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1728430030
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Setoid.20as.20a.20typeclass/near/475692223\">said</a>:</p>\n<blockquote>\n<p>hen ask core team what they think about turning it into a <code>structure</code> so that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Setoid.r#doc\">docs#Setoid.r</a> works fine with dot notation and is pretty printed as <code>Setoid.r s</code> or <code>s.r</code>, not <code>Setoid.r</code> (no arguments).</p>\n</blockquote>\n<p>We could  also use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Setoid.Rel#doc\">docs#Setoid.Rel</a>, which prints in the way you want</p>",
        "id": 475692867,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728430111
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16254\">#16254</a> (one of the PRs) would immediately resolve the problem of pretty-printing <code>Setoid.r</code>.</p>",
        "id": 475693107,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1728430277
    },
    {
        "content": "<p>If we do that then we can probably follow on by dropping Rel</p>",
        "id": 475693777,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728430724
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16260\">#16260</a> deprecates <code>Rel</code></p>",
        "id": 475713314,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728439976
    },
    {
        "content": "<p>BTW, I've just delegated <a href=\"https://github.com/leanprover-community/mathlib4/pull/16254\">#16254</a></p>",
        "id": 475713362,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728439993
    },
    {
        "content": "<p>Are there other leaf PRs in this refactor?</p>",
        "id": 475713412,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728440022
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16256\">#16256</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16258\">#16258</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16260\">#16260</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16267\">#16267</a> are ready.</p>",
        "id": 475874422,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1728483027
    },
    {
        "content": "<p>I'm a little hesitant to change instance parameters to implicit parameters now. If we decide to migrate to <code>QuotLike</code>, we may not have to change these parameters. However, the API in core has been changed and there is not much to fix in these PRs.</p>",
        "id": 475875664,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1728483330
    },
    {
        "content": "<p>I think that cleaning up is a good thing anyway.</p>",
        "id": 475917725,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728493223
    },
    {
        "content": "<p><del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16260\">#16260</a></del> <del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/17594\">#17594</a></del> are ready.</p>",
        "id": 477631045,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1729249683
    },
    {
        "content": "<p><del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16264\">#16264</a></del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/16410\">#16410</a> <del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/17940\">#17940</a></del> <a href=\"https://github.com/leanprover-community/mathlib4/pull/17941\">#17941</a> are ready.</p>",
        "id": 477794309,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1729333596
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16314\">#16314</a> is ready.</p>",
        "id": 477832066,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1729366029
    }
]