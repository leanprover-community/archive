[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib3/commit/9f1f8c13f156bce43814c85eb8cdd4a2155f52cd#diff-a0b875e3a4bae79923cde4d17f1d50c23c9b693153c6980a0d337f3c07d806c9R488\">3 years ago</a>, the following text appeared in the docstring of <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/GradedAlgebra/Homogeneous/Ideal.html#HomogeneousIdeal.irrelevant\">HomogeneousIdeal.irrelevant</a>:</p>\n<blockquote>\n<h3>Future work</h3>\n<p>Here in the definition, <code>ι</code> is assumed to be <code>canonically_ordered_add_monoid</code>. However, the notion of irrelevant ideal makes sense in a more general setting by defining it as the ideal of elements with <code>0</code> as i-th coordinate for all <code>i ≤ 0</code>, i.e. <code>{a | ∀ (i : ι), i ≤ 0 → aᵢ = 0}</code>.</p>\n</blockquote>\n<p>But I don't think this generalisation is possible, because if x is grade 1 and y is grade -1 then x is in the irrelevant ideal but xy is not.</p>",
        "id": 543785870,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759939632
    },
    {
        "content": "<p>For your example (with a couple of more variables and regraded) <code>k[x,y,z,w]</code> with degrees <code>1,1,-1,-1</code> it makes sense to take <code>(x,y)</code> or <code>(w,z)</code> to be “the irrelevant” ideal. The difference between the two when you pass to Proj on the nonpositive or nonnegative parts yield what is called an Atiyah flop. You can even get the common contraction using <code>0</code> as another choice of ideal.  </p>\n<p>Main point: changing the locus removed before quotienting by a group is rich in geometry and there should not be a default choice.</p>",
        "id": 543799376,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1759944056
    },
    {
        "content": "<p>what about <code>x^3 * z^2</code>?</p>",
        "id": 543799536,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759944114
    },
    {
        "content": "<p>what you say may make sense geometrically, but the given expression in that docstring does not.</p>",
        "id": 543799776,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759944205
    },
    {
        "content": "<p>I am agreeing with you. I would delete that TODO unless it scoped to something narrower than we have here. The definition, even if you force it work, is not going to be useful as an “irrelevant ideal”.</p>",
        "id": 543800961,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1759944627
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span> <a href=\"https://github.com/leanprover-community/mathlib4/pull/30337\">#30337</a></p>",
        "id": 543801809,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759944932
    },
    {
        "content": "<p>On second thought, let’s replace it by something better. </p>\n<blockquote>\n<p>Generalize the definition of <code>irrelevantIdeal</code> to encompass at least toric irrelevant ideals. </p>\n</blockquote>",
        "id": 543803434,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1759945532
    },
    {
        "content": "<p>do you have a formula for it?</p>",
        "id": 543803681,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759945637
    },
    {
        "content": "<p>I am just suggesting new language for the <code># Future work</code> paragraph not any implementation.</p>",
        "id": 543804114,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1759945809
    },
    {
        "content": "<p>I'm saying I literally don't know what you mean by that, because I've never seen it, mainly because I haven't touched toric a lot.</p>",
        "id": 543804189,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759945838
    },
    {
        "content": "<p>I tried to find it online, and I came across this: is this what you mean?</p>\n<p><a href=\"/user_uploads/3121/LLUAhXTenE3TI_uxnxuCwN9B/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/LLUAhXTenE3TI_uxnxuCwN9B/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"736x765\" src=\"/user_uploads/thumbnail/3121/LLUAhXTenE3TI_uxnxuCwN9B/image.png/840x560.webp\"></a></div>",
        "id": 543804529,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759945966
    },
    {
        "content": "<p>Ah ok. Sorry. Chapter 5 Cox Little Schenk.</p>",
        "id": 543804743,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1759946052
    },
    {
        "content": "<p>That image looks ok from what I can see.</p>",
        "id": 543804811,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1759946075
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span> thanks, but I must say, what you suggested doesn't seem to be a \"generalisation\", because this is not a special case, because the toric definition doesn't seem to be independent of all the other background data, or in other words, you can't recover it from just the grading, because it depends on the generators.</p>",
        "id": 543805301,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759946277
    }
]