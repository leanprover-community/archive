[
    {
        "content": "<p>I'm sure that this has been discussed numerous times here, but my searching skills are failing me today. My question is: what are the rules that are applied in mathlib to decide if a prop-valued def or class should receive an <code>Is</code> prefix or not?</p>\n<p>My gut feeling is: almost all of them should receive the prefix, and most of the counterexamples in mathlib (of which there are many) exist for historical reasons. There are some cases where the <code>Is</code> prefix is obviously nonsensical, like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.Forall#doc\">docs#List.Forall</a> or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Limits.HasLimits#doc\">docs#CategoryTheory.Limits.HasLimits</a>.</p>\n<p>Has anyone (perhaps one of our naming experts like <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> ) thought about this in more detail and would be able put their thoughts into words?</p>",
        "id": 497841127,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1738746115
    },
    {
        "content": "<p>I think you are mostly right, but I would add that when the predicate is clearly an adjective, one can skip the <code>Is</code> prefix. Eg <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subgroup.Normal#doc\">docs#Subgroup.Normal</a> is fine in my book</p>",
        "id": 497841589,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1738746247
    },
    {
        "content": "<p>Aha, that indeed covers many of the cases in mathlib where there is no <code>Is</code>. But there are also numerous examples where we have the <code>Is</code> before an adjective, so mathlib is very inconsistent in this situation.</p>",
        "id": 497842597,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1738746547
    },
    {
        "content": "<p>My opinion about adjectives is not universal within the community and we've got some strong \"All <code>Is</code>\" proponents</p>",
        "id": 497843229,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1738746736
    },
    {
        "content": "<p>Yes, I'm not saying that there is a problem here.</p>",
        "id": 497843733,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1738746893
    },
    {
        "content": "<p>The <code>HasLimits</code> example I think is following a version of the convention, where you name the predicate using <a href=\"https://en.wikipedia.org/wiki/Predicate_(grammar)\">a predicate</a>.</p>\n<p>I think I remember some discussion that went in the direction of saying it is OK to use an adjective on its own if the word isn't also a noun.</p>",
        "id": 497847889,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1738748205
    },
    {
        "content": "<p>I’m guessing <code>IsClosed</code> violates this to preserve parity with <code>IsOpen</code>, where <code>Is</code> is necessary.</p>",
        "id": 497860748,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1738752010
    },
    {
        "content": "<p>In algebra I think that names like <code>TopologicalRing</code> are downright confusing.</p>",
        "id": 497867723,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738754110
    },
    {
        "content": "<p>My favourite is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.Presentation#doc\">docs#Algebra.Presentation</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.FinitePresentation#doc\">docs#Algebra.FinitePresentation</a> :)</p>",
        "id": 497877520,
        "sender_full_name": "Christian Merten",
        "timestamp": 1738757320
    },
    {
        "content": "<p>Let me remark that <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Limits/IsLimit.html#CategoryTheory.Limits.IsLimit\">CategoryTheory.Limits.IsLimit</a> is not (yet) a Prop. I think it would be nice to add a Nonempty wrapper around it, as has been done for <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/CategoryTheory/Limits/Preserves/Basic.html#CategoryTheory.Limits.PreservesLimit\">CategoryTheory.Limits.PreservesLimit</a> etc. (I see that Markus actually reviewed <a href=\"https://github.com/leanprover-community/mathlib4/pull/19206\">#19206</a>)</p>",
        "id": 497904771,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1738765353
    },
    {
        "content": "<p>I would like an infix <code>is</code> operator as an alias for <code>|&gt;</code> (only slightly a joke).</p>",
        "id": 497973204,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1738785690
    },
    {
        "content": "<p>Regarding <code>Is</code> vs <code>Has</code>, I think roughly this corresponds to arity, as <code>IsFoo Foo</code> vs <code>HasBar Foo Bar</code></p>",
        "id": 497974686,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1738786236
    },
    {
        "content": "<p>Shouldn't that rather be <code>Is</code> vs <code>Are</code>? eg <a href=\"https://github.com/leanprover-community/mathlib4/pull/20911\">#20911</a></p>",
        "id": 497975131,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1738786410
    },
    {
        "content": "<p>Comments on <a href=\"https://github.com/leanprover-community/mathlib4/pull/21472\">#21472</a> would be very much welcome! It changes <code>Topological(Add)Group</code> to <code>IsTopological(Add)Group</code> and <code>Topological(Semi)Ring</code> to <code>IsTopological(Semi)Ring</code>.</p>",
        "id": 499214530,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739361597
    },
    {
        "content": "<p>If a 'MyNoun' predicate is renamed to <code>IsMyNoun</code>, then does <code>lemma exists_myNoun : ∃ x, MyNoun x</code> get renamed to <code>lemma exists_isMyNoun : ∃ x, IsMyNoun x</code>? </p>\n<p>'Exists is' doesn't exactly roll off the tongue. </p>\n<p>But like so many of these things, I mostly just want to be told what to do.</p>",
        "id": 499744460,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1739540450
    },
    {
        "content": "<p>Yes, keep the \"is\"</p>",
        "id": 499745988,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1739540781
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Naming.20conventions.20for.20.60Prop.60-valued.20defs.20and.20classes/near/499214530\">said</a>:</p>\n<blockquote>\n<p>Comments on <a href=\"https://github.com/leanprover-community/mathlib4/pull/21472\">#21472</a> would be very much welcome! It changes <code>Topological(Add)Group</code> to <code>IsTopological(Add)Group</code> and <code>Topological(Semi)Ring</code> to <code>IsTopological(Semi)Ring</code>.</p>\n</blockquote>\n<p>while I think this change looks reasonable, I would like to reiterate that in my opinion the right thing to do is to <em>first</em> PR any new rule to the contribution guide (<a href=\"https://github.com/leanprover-community/leanprover-community.github.io/blob/lean4/templates/contribute/naming.md\">source file \"naming convention\"</a>) and <em>then</em> create PRs to implement this rule. Otherwise we might run into the danger of people changing things in opposite directions in different areas. (or at different times)</p>",
        "id": 499894630,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1739607975
    },
    {
        "content": "<p>Will do when I get to a computer</p>",
        "id": 499895794,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739609021
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/592\">https://github.com/leanprover-community/leanprover-community.github.io/pull/592</a></p>\n<p>Discussions very welcome! It's about time we had some kind of a convention for this. I would particularly welcome more examples of Prop-valued classes (coming for example from topology and category theory).</p>",
        "id": 500016025,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739717023
    },
    {
        "content": "<p>I'm in favor of adding <code>Is</code> or <code>Has</code> (as appropriate) to the names of <em>all</em> <code>Prop</code>-valued classes.</p>\n<p>But I find it even more important to have a clearly defined convention that Mathlib follows consistently.</p>",
        "id": 500016840,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1739717715
    },
    {
        "content": "<p>For reference, here is how the <a href=\"https://github.com/leanprover/lean4/blob/master/doc/std/naming.md#naming-convention-for-types\">corresponding section</a> of the naming convention for the standard library currently looks:</p>\n<blockquote>\n<p>When defining a predicate, prefix the name by <code>Is</code>, like in <code>List.IsPrefix</code>. The <code>Is</code> prefix may be omitted if</p>\n<ul>\n<li>the resulting name would be ungrammatical, or</li>\n<li>the predicate depends on additional data in a way where the <code>Is</code> prefix would be confusing (like <code>List.Pairwise</code>), or</li>\n<li>the name is an adjective (like <code>Std.Time.Month.Ordinal.Valid</code>)</li>\n</ul>\n</blockquote>\n<p>I think there are examples like <del>docs#Specializes and</del> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Limits.PreservesFiniteLimits#doc\">docs#CategoryTheory.Limits.PreservesFiniteLimits</a> which aren't adjectives but where <code>Is</code> or <code>Has</code> would sound really strange. <del>docs#Specializes is interesting because <code>Is</code> or <code>Has</code> somehow (to me) suggests that the type class describes a property of a single thing, which is not the case there (though I guess you could rename it to <code>IsSpecialization</code>).</del> (Nevermind, <code>Specializes</code> isn't a class)</p>",
        "id": 500017085,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1739717941
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.20conventions.20for.20.60Prop.60-valued.20defs.20and.20classes/near/497877520\">said</a>:</p>\n<blockquote>\n<p>My favourite is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.Presentation#doc\">docs#Algebra.Presentation</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra.FinitePresentation#doc\">docs#Algebra.FinitePresentation</a> :)</p>\n</blockquote>\n<p>My favourite is now <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subgroup.Normal#doc\">docs#Subgroup.Normal</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Subgroupoid.IsNormal#doc\">docs#CategoryTheory.Subgroupoid.IsNormal</a> (both Props)</p>",
        "id": 501003661,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740101856
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> I am going to do the same for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=UniformAddGroup#doc\">docs#UniformAddGroup</a> and friends. Do you have any tips to make the job not too painful?</p>",
        "id": 507991630,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1742900854
    },
    {
        "content": "<p>I just used case-sensitive search and replace. Don't forget to deprecate the old names (I forgot this). You don't need to deprecate instance names.</p>",
        "id": 508017835,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1742908151
    },
    {
        "content": "<p>There's the <code>scripts/add_depreations.sh</code> script which should help with the second part.</p>",
        "id": 508032802,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1742911663
    },
    {
        "content": "<p><code>scripts/add_deprecations.sh</code>  -- mini-typo</p>",
        "id": 508035766,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1742912243
    },
    {
        "content": "<p>Thanks for the pointers. Let's see.</p>",
        "id": 508342580,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1743010769
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23345\">#23345</a>. We only have <code>UniformGroup</code> and <code>UniformAddGroup</code> so it's not hard.</p>",
        "id": 508347677,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1743012392
    },
    {
        "content": "<p>We have files like <code>Mathlib.Topology.Algebra.UniformRing</code> (but note that there is no class called <code>UniformRing</code>). Do we want to rename the file?</p>",
        "id": 508367320,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1743019339
    },
    {
        "content": "<p>Good question! My first instinct is \"yes\", but then I'm not sure what to rename it to... Is there a natural name? If not, the current name might be good enough.</p>",
        "id": 508520405,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1743082601
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.20conventions.20for.20.60Prop.60-valued.20defs.20and.20classes/near/508367320\">said</a>:</p>\n<blockquote>\n<p>We have files like <code>Mathlib.Topology.Algebra.UniformRing</code> (but note that there is no class called <code>UniformRing</code>). Do we want to rename the file?</p>\n</blockquote>\n<p>This file is actually all about completions of rings, so perhaps <code>Mathlib.Topology.Algebra.RingCompletion</code> is a better name?</p>",
        "id": 508523442,
        "sender_full_name": "David Loeffler",
        "timestamp": 1743083386
    },
    {
        "content": "<p>(<a href=\"#narrow/stream/287929-mathlib4/topic/Naming.20conventions.20for.20.60Prop.60-valued.20defs.20and.20classes/near/507991630\">https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/Naming.20conventions.20for.20.60Prop.60-valued.20defs.20and.20classes/near/507991630</a>):</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> I am going to do the same for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=UniformAddGroup#doc\">docs#UniformAddGroup</a> and friends. Do you have any tips to make the job not too painful?</p>\n</blockquote>\n<p>I have a WIP PR where I am doing this, it is <a href=\"https://github.com/leanprover-community/mathlib4/pull/23350\">#23350</a> for <span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span></p>",
        "id": 508680781,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1743145155
    }
]