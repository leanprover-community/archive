[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/14498/commits/18dcb78c4031c541d152abad2ff11057a922471f\">this commit</a>, shake reported an incorrect <code>unused import</code> for <code>Batteries.Tactic.Case</code>.  You can see it is used in lines 266-267 of that commit, and removing the import causes an error. It says to use <code>lake exe shake --update</code> to ignore but I'm not sure what that means since this came up during CI.</p>\n<p>I ended up rewriting the proof without using that tactic.</p>",
        "id": 452999232,
        "sender_full_name": "Ted Hwa",
        "timestamp": 1721575911
    },
    {
        "content": "<p>What happens if you type <code>lake exe shake --update</code> in the repo directory? </p>\n<p>The answer should be that it modifies the exceptions list for shake, which is a change that you can add to the PR to remove this issue.</p>",
        "id": 453000343,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1721576874
    },
    {
        "content": "<p>Also note that <code>shake</code> does not read tactic information, but only looks at the final terms produced by all the tactics.  In particular, <code>shake</code> is not aware of the fact that <code>cases</code> was used to prove your lemma, hence it does not understand why you would want to import <code>Batteries.Tactic.Case</code>.</p>",
        "id": 453003452,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1721578432
    },
    {
        "content": "<p>As Peter says, using <code>lake exe shake --update</code> instructs <code>shake</code> to add this import as an allowed one, so that <code>shake</code> will not flag it.</p>",
        "id": 453003605,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1721578495
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"715872\">Ted Hwa</span> has marked this topic as resolved.</p>",
        "id": 453008379,
        "sender_full_name": "Notification Bot",
        "timestamp": 1721579929
    }
]