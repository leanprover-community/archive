[
    {
        "content": "<p>Having looked into <code>Mathlib.RingTheory.PiTensorProduct</code> to show equivalence to <code>FreeProduct</code> in the commutative case, I found <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PiTensorProduct.liftAlgHom#doc\">docs#PiTensorProduct.liftAlgHom</a>. Unlike e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RingQuot.liftAlgHom#doc\">docs#RingQuot.liftAlgHom</a> or many others which lift <code>AlgHom</code>s to <code>AlgHom</code>s, <code>PiTensorProduct.liftAlgHom</code> lifts a <code>MultilinearMap</code> to an <code>AlgHom</code>. </p>\n<p>Is this the sort of thing that should just be changed, either by renaming or by providing the expected API, or is this an insufficient reason to change an existing file? I'm new to working in large collaborations so this is as much a question about social norms as anything else</p>",
        "id": 452696886,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721440252
    },
    {
        "content": "<p>Paging <span class=\"user-mention\" data-user-id=\"252627\">@Jujian Zhang</span>  whose name is on the file</p>",
        "id": 452696907,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721440273
    },
    {
        "content": "<p>(Personally I would strongly prefer, especially in <code>PiTensorProduct</code> which is the canonical coproduct in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext mathvariant=\"bold\">-CAlg</mtext></mrow><annotation encoding=\"application/x-tex\">R\\textbf{-CAlg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord text\"><span class=\"mord textbf\">-CAlg</span></span></span></span></span>, that the name <code>lift</code> be reserved for \"homogenous\" lifts of morphisms within a specific category, whether that be <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext mathvariant=\"bold\">-Mod</mtext></mrow><annotation encoding=\"application/x-tex\">R\\textbf{-Mod}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord text\"><span class=\"mord textbf\">-Mod</span></span></span></span></span> for <code>MultilinearMap</code> or <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext mathvariant=\"bold\">-Alg</mtext></mrow><annotation encoding=\"application/x-tex\">R\\textbf{-Alg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord text\"><span class=\"mord textbf\">-Alg</span></span></span></span></span> in this case. I'll need to write the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mtext mathvariant=\"bold\">-Alg</mtext></mrow><annotation encoding=\"application/x-tex\">R\\textbf{-Alg}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord text\"><span class=\"mord textbf\">-Alg</span></span></span></span></span> version either way to prove the equivalence, so this is mostly a question about naming priority.)</p>",
        "id": 452697075,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721440409
    },
    {
        "content": "<p>I think the homogenous version is usual called <code>map</code> not <code>lift</code>? Maybe I misunderstand which version you're describing.</p>",
        "id": 452792406,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1721461617
    },
    {
        "content": "<p><code>map</code> usually relates functions that are semantically \"parallel\" or equivalent; the general form is <code>Functor.map</code><br>\n<code>lift</code> usually factors a function into a standard part general to the type constructor and the specific part to the function you're factoring</p>",
        "id": 452793547,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721462049
    },
    {
        "content": "<p><code>map</code> usually produces functions that have a type constructor application on both sides of the arrow<br>\n<code>map (f : α → β) : τ α → τ β</code><br>\n<code>lift</code> usually produces functions that have an application on the domain only<br>\n<code>lift (f : α → β) : τ α → β</code></p>",
        "id": 452793603,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721462085
    },
    {
        "content": "<p>Ah, then you're using a different meaning of homogenous to the one I thought</p>",
        "id": 452802123,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1721464418
    },
    {
        "content": "<p>Do you object to the naming of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TensorAlgebra.lift#doc\">docs#TensorAlgebra.lift</a>, or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithOne.lift#doc\">docs#WithOne.lift</a> ?</p>",
        "id": 452802314,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1721464458
    },
    {
        "content": "<p>Ah, yeah. By \"homogenous\" I mean that <code>lift</code> should take <code>AlgHoms</code> and return an <code>AlgHom</code></p>",
        "id": 452802575,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721464545
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Naming.20of.20liftAlgHom.20in.20PiTensorProduct/near/452802314\">said</a>:</p>\n<blockquote>\n<p>Do you object to the naming of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TensorAlgebra.lift#doc\">docs#TensorAlgebra.lift</a>, or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=WithOne.lift#doc\">docs#WithOne.lift</a> ?</p>\n</blockquote>\n<p>Somewhat, but it's much lessened there by the fact that e.g. <code>TensorAlgebra</code> concept is inherently one that turns something that isn't an algebra into an algebra, so homogeneity/staying within a category is impossible<br>\nIn that regard while <code>PiTensorProduct.lift</code> mildly bugs me, it's <code>liftAlgHom</code>, which is in the Algebra subfile and has <code>AlgHom</code> in the name but doesn't take a family of <code>AlgHom</code>s, that I actually <em>object</em> to</p>",
        "id": 452802948,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721464661
    },
    {
        "content": "<p>Ah, sorry for not doing this earlier. Now that I clicked on the link, I think morally PiTensorProduct.liftAlgHom takes a \"MultiAlgebraMap`, but that type doesn't exist (and may not be useful anywhere else), so it takes it in pieces as a multilinear map and some extra assumptions.</p>",
        "id": 452804402,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1721465085
    },
    {
        "content": "<p>Is it necessarily the case that on algebras, such a map always factorizes as a collection of algebra maps composed with the product \"multialgebra map\"?</p>",
        "id": 452804723,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1721465175
    },
    {
        "content": "<p>I dunno about <em>factorizes</em> but it's certainly true that such a map is always <em>uniquely defined</em> by such<br>\nthat's basically what makes it the categorical coproduct; if I give you a family of maps I've specified exactly one map out of the tensor product and vice versa</p>",
        "id": 452805023,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721465292
    },
    {
        "content": "<p>Conceptually, for a family of maps <code>f : (i : ι) → A i →ₗ[R] S</code>, <del>this is basically just </del></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">--wrong</span>\n<span class=\"n\">liftAlgHom</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">MultilinearMap</span><span class=\"bp\">.</span><span class=\"n\">mkPiAlgebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">|&gt;.</span><span class=\"n\">compLinearMap</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n</code></pre></div>\n<p>But <code>mkPiAlgebra</code>, and similar functions like <code>bigprod</code>, require <code>Fintype ι</code>, which I haven't assumed yet and don't want to</p>",
        "id": 452807602,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721465726
    },
    {
        "content": "<p>They can theoretically work with finite support on a non-<code>Fintype</code> too, which as a coproduct I <em>believe</em> I do actually have here, but I haven't figured out how to use that fact yet<br>\nI may end up resorting to transfinite induction/well-ordering</p>",
        "id": 452808591,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1721465879
    }
]