[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"481963\">@David Loeffler</span>  and I made two separates PRs <a href=\"https://github.com/leanprover-community/mathlib4/pull/30473\">#30473</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/30512\">#30512</a> for Cauchy's integral formula for higher order derivatives. I am now trying to merge these two PRs. I want to ask what is the preferred expression of this formula by the Mathlib community. Let <code>f : ℂ → F</code> be a differentiable function and <code>c</code> a point in the complex plane. We currently have at least two options:</p>\n<ol>\n<li>\n<p><code>iteratedDeriv n f c = n.factorial  •\n    (2 * π * I : ℂ)⁻¹ • ∮ z in C(c, R), (z - c)⁻¹ ^ n • (z - c)⁻¹ • f z</code>. This is the formulation used by <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Integral/CircleIntegral.html#cauchyPowerSeries\">cauchyPowerSeries</a>.</p>\n</li>\n<li>\n<p><code>iteratedDeriv n f c = n.factorial  •\n    (2 * π * I : ℂ)⁻¹ • ∮ z in C(c, R), (z - c) ^ (- (n + 1)) • f z</code>. I think this is more common on the standard textbook and it appears on the Wikipedia page (<a href=\"https://en.wikipedia.org/wiki/Cauchy%27s_integral_formula\">https://en.wikipedia.org/wiki/Cauchy%27s_integral_formula</a>).</p>\n</li>\n</ol>\n<p>There are potentially many more options. e.g. <code>((z - c)⁻¹ )^(n + 1) </code> or <code>(1/(z - c ))^(n + 1)</code>. Is there a convention adopted by the Mathlib community that can help me decide which form I should pick?</p>",
        "id": 545809856,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760858211
    },
    {
        "content": "<p>Does <code>simp</code> have a preferred surviving here? This wild at least rule out the <code>1 / ...</code> spelling.</p>",
        "id": 545832101,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1760882781
    },
    {
        "content": "<p>simp at the first one gives <code>iteratedDeriv n f c = -(n.factorial • (I * ((↑π)⁻¹ * 2⁻¹)) • ∮ (z : ℂ) in C(c, R), ((z - c) ^ n)⁻¹ • (z - c)⁻¹ • f z)</code>.</p>",
        "id": 545843303,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1760893506
    },
    {
        "content": "<p>Asking about history here, is there a particular reason cauchyPowerSeries is defined with<code>(z - c)⁻¹ ^ n • (z - c)⁻¹ • </code>?</p>",
        "id": 545851352,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1760901540
    },
    {
        "content": "<p>So <code>simp</code>applies a bunch of other transformations, which seem undesirable here, but it looks like it does not transform 1. into 2. or vice versa. My vote is with 2. I don’t know why the existing CauchyPowerSeries code uses 1. but it is not indicative of any general mathlib convention AFAIK.</p>",
        "id": 545945033,
        "sender_full_name": "David Loeffler",
        "timestamp": 1760958512
    }
]