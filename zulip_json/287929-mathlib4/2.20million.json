[
    {
        "content": "<p>Mathlib has reached <a href=\"https://leanprover-community.github.io/mathlib_stats.html\">2 million</a> lines of code as of October 28. Thanks to everyone that contributed to Mathlib during the roughly 8 years of Mathlib's existence!</p>",
        "id": 553410451,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1762183695
    },
    {
        "content": "<p>I heard that over 300k of those lines were blank ;-)</p>",
        "id": 553421379,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762186055
    },
    {
        "content": "<p>Without checking who's correcterer (if either are even any good at counting Lean), cloc and tokei seem to roughly agree:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">⊙</span><span class=\"w\">  </span><span class=\"n\">cloc</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"n\">Archive</span><span class=\"w\"> </span><span class=\"n\">Counterexamples</span><span class=\"w\">                                                                                                                                                                                                                                          </span><span class=\"n\">julian</span><span class=\"bp\">@</span><span class=\"n\">Mac</span>\n<span class=\"w\">    </span><span class=\"mi\">7222</span><span class=\"w\"> </span><span class=\"n\">text</span><span class=\"w\"> </span><span class=\"n\">files</span><span class=\"bp\">.</span>\n<span class=\"w\">    </span><span class=\"mi\">7221</span><span class=\"w\"> </span><span class=\"n\">unique</span><span class=\"w\"> </span><span class=\"n\">files</span><span class=\"bp\">.</span>\n<span class=\"w\">       </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">ignored</span><span class=\"bp\">.</span>\n\n<span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">AlDanial</span><span class=\"bp\">/</span><span class=\"n\">cloc</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"mf\">2.06</span><span class=\"w\">  </span><span class=\"n\">T</span><span class=\"bp\">=</span><span class=\"mf\">3.24</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mf\">2227.9</span><span class=\"w\"> </span><span class=\"n\">files</span><span class=\"bp\">/</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mf\">594792.5</span><span class=\"w\"> </span><span class=\"n\">lines</span><span class=\"bp\">/</span><span class=\"n\">s</span><span class=\"o\">)</span>\n<span class=\"c1\">-------------------------------------------------------------------------------</span>\n<span class=\"n\">Language</span><span class=\"w\">                     </span><span class=\"n\">files</span><span class=\"w\">          </span><span class=\"n\">blank</span><span class=\"w\">        </span><span class=\"n\">comment</span><span class=\"w\">           </span><span class=\"n\">code</span>\n<span class=\"c1\">-------------------------------------------------------------------------------</span>\n<span class=\"n\">Lean</span><span class=\"w\">                          </span><span class=\"mi\">7208</span><span class=\"w\">         </span><span class=\"mi\">377629</span><span class=\"w\">         </span><span class=\"mi\">296057</span><span class=\"w\">        </span><span class=\"mi\">1253919</span>\n<span class=\"n\">Markdown</span><span class=\"w\">                        </span><span class=\"mi\">13</span><span class=\"w\">             </span><span class=\"mi\">53</span><span class=\"w\">              </span><span class=\"mi\">0</span><span class=\"w\">            </span><span class=\"mi\">152</span>\n<span class=\"c1\">-------------------------------------------------------------------------------</span>\n<span class=\"n\">SUM</span><span class=\"o\">:</span><span class=\"w\">                          </span><span class=\"mi\">7221</span><span class=\"w\">         </span><span class=\"mi\">377682</span><span class=\"w\">         </span><span class=\"mi\">296057</span><span class=\"w\">        </span><span class=\"mi\">1254071</span>\n<span class=\"c1\">-------------------------------------------------------------------------------</span>\n\n<span class=\"bp\">~/</span><span class=\"n\">Development</span><span class=\"bp\">/</span><span class=\"n\">Mathlib4</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">repository</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">master</span>\n<span class=\"bp\">⊙</span><span class=\"w\">  </span><span class=\"n\">tokei</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"n\">Archive</span><span class=\"w\"> </span><span class=\"n\">Counterexamples</span><span class=\"w\">                                                                                                                                                                                                                                         </span><span class=\"n\">julian</span><span class=\"bp\">@</span><span class=\"n\">Mac</span>\n<span class=\"bp\">===============================================================================</span>\n<span class=\"w\"> </span><span class=\"n\">Language</span><span class=\"w\">            </span><span class=\"n\">Files</span><span class=\"w\">        </span><span class=\"n\">Lines</span><span class=\"w\">         </span><span class=\"n\">Code</span><span class=\"w\">     </span><span class=\"n\">Comments</span><span class=\"w\">       </span><span class=\"n\">Blanks</span>\n<span class=\"bp\">===============================================================================</span>\n<span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\">                 </span><span class=\"mi\">7209</span><span class=\"w\">      </span><span class=\"mi\">1927608</span><span class=\"w\">      </span><span class=\"mi\">1252077</span><span class=\"w\">       </span><span class=\"mi\">335980</span><span class=\"w\">       </span><span class=\"mi\">339551</span>\n<span class=\"w\"> </span><span class=\"n\">Markdown</span><span class=\"w\">               </span><span class=\"mi\">13</span><span class=\"w\">          </span><span class=\"mi\">205</span><span class=\"w\">            </span><span class=\"mi\">0</span><span class=\"w\">          </span><span class=\"mi\">152</span><span class=\"w\">           </span><span class=\"mi\">53</span>\n<span class=\"bp\">===============================================================================</span>\n<span class=\"w\"> </span><span class=\"n\">Total</span><span class=\"w\">                </span><span class=\"mi\">7222</span><span class=\"w\">      </span><span class=\"mi\">1927813</span><span class=\"w\">      </span><span class=\"mi\">1252077</span><span class=\"w\">       </span><span class=\"mi\">336132</span><span class=\"w\">       </span><span class=\"mi\">339604</span>\n<span class=\"bp\">===============================================================================</span>\n</code></pre></div>",
        "id": 553424563,
        "sender_full_name": "Julian Berman",
        "timestamp": 1762186797
    },
    {
        "content": "<p>does that mean we only have 1.9M lines?</p>",
        "id": 553424956,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762186900
    },
    {
        "content": "<p>Obviously the site is counting lines some different way (or including more than the 3 dirs I included), let's see how...</p>",
        "id": 553432960,
        "sender_full_name": "Julian Berman",
        "timestamp": 1762188988
    },
    {
        "content": "<p>Looks like it includes all files in the repo probably, it's the code around here: <a href=\"https://github.com/leanprover-community/mathlib_stats/blob/df5630f7b98ecbdbee7e48463d8835bb9aaa3071/gitstats.py#L550\">https://github.com/leanprover-community/mathlib_stats/blob/df5630f7b98ecbdbee7e48463d8835bb9aaa3071/gitstats.py#L550</a></p>",
        "id": 553433419,
        "sender_full_name": "Julian Berman",
        "timestamp": 1762189122
    },
    {
        "content": "<p>As you can see from some of the comments around there, I was thinking of modifying that code to let us show graphs for various top-level directories at some point. I probably won't be able to get to it for a while, but I'd be happy to review PRs from anyone who wants to modify the calculation.</p>",
        "id": 553434662,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1762189377
    },
    {
        "content": "<p>and <code>π * 10⁴</code> PRs/issues <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 554989250,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1762892458
    }
]