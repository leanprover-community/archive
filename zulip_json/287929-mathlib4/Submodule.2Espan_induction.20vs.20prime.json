[
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submodule.span_induction#doc\">docs#Submodule.span_induction</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submodule.span_induction%27#doc\">docs#Submodule.span_induction'</a> are similar, the latter retaining the hypothesis <code>x in Submodule.span S</code> for the inductive proof.<br>\nOne annoying difference between these two statements is the order of arguments.<br>\nFor one, the hypothesis<code>x in Submodule.span S</code> is the first one, for the other, it is the <em>last</em> one…  <br>\nWould it be reasonable to refactor <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submodule.span_induction%27#doc\">docs#Submodule.span_induction'</a> so as to put it first?</p>",
        "id": 450670281,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720692741
    },
    {
        "content": "<p>A further change would be to switch the order of the arguments for the third hypothesis (the <code>add</code> field) of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submodule.span_induction%27#doc\">docs#Submodule.span_induction'</a> , from<br>\n<code>\n(add : ∀ (x : M) (hx : x ∈ Submodule.span R s) (y : M) (hy : y ∈ Submodule.span R s), p x hx → p y hy → p (x + y) ⋯)\n</code><br>\nto<br>\n<code>\n(add : ∀ (x : M) (hx : x ∈ Submodule.span R s) (hx' : p x hx) (y : M) (hy : y ∈ Submodule.span R s) (hy' : p y hy), p (x + y) ⋯)\n</code><br>\nso as to avoid switching the order of which variable is involved.</p>",
        "id": 450671333,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720693008
    },
    {
        "content": "<p>(Possibly making <code>{x : M}</code> and {y : M}`as well, but it's not clear to me.)</p>",
        "id": 450671503,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720693074
    },
    {
        "content": "<p>What is the situation with the submonoids and subgroups? (<code>span</code> is <code>closure</code> in those cases).</p>",
        "id": 450671735,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1720693133
    },
    {
        "content": "<p>Good point. Exactly the same (these are <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submonoid.closure_induction#doc\">docs#Submonoid.closure_induction</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submonoid.closure_induction%27#doc\">docs#Submonoid.closure_induction'</a>, respectively <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subgroup.closure_induction#doc\">docs#Subgroup.closure_induction</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subgroup.closure_induction%27#doc\">docs#Subgroup.closure_induction'</a>).</p>",
        "id": 450673178,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720693589
    },
    {
        "content": "<p>For <code>induction</code> to work, the argument has to be last</p>",
        "id": 450677971,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720695401
    },
    {
        "content": "<p>But also, you shouldn't care about the argument order if you write <code>induction x, hx using span_induction'</code></p>",
        "id": 450678038,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720695427
    },
    {
        "content": "<p>(the <code>add</code> change is probably harmless)</p>",
        "id": 450678181,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720695475
    },
    {
        "content": "<p>I didn't know that syntax (<code>x, hx</code>), I'll check if this simplifies our dirty <code>apply… </code>where I had to specify the property to be induced.</p>",
        "id": 450681636,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720696710
    },
    {
        "content": "<p>Also, at some point we should just remove <code>Submodule.span_induction</code> and friends entirely in favor of their primed counterparts.</p>",
        "id": 450708719,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1720703989
    },
    {
        "content": "<p>(Because the unprimed ones don't work with <code>induction</code>.)</p>",
        "id": 450708831,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1720704008
    },
    {
        "content": "<p>In fact, the notation seems to be <code>induction hx using Submodule.induction_on'</code> (and without the usual <code>with …</code> precisions, it's a mess).</p>",
        "id": 450709118,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720704089
    },
    {
        "content": "<p>What do you mean by \"the usual <code>with</code> precisions\", and can you give an example of the mess?</p>",
        "id": 450710118,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720704352
    },
    {
        "content": "<p>the series of <code>| … =&gt; …</code> whose names are difficult to remember, and without which lean inserts variables with unreachable names.</p>",
        "id": 450714054,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1720705411
    },
    {
        "content": "<p>I think the bug report hiding here is that the light bulb doesn't appear for <code>induction ... using</code></p>",
        "id": 450721700,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720707369
    },
    {
        "content": "<p>You don't need to remember the names, you can hover over <code>Submodule.span_induction</code> to see them</p>",
        "id": 450721799,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720707399
    },
    {
        "content": "<p>Yeah but (a) this is silly and (b) <code>induction'</code> doesn't have this problem. A blue light bulb would be wonderful</p>",
        "id": 450748015,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720713661
    }
]