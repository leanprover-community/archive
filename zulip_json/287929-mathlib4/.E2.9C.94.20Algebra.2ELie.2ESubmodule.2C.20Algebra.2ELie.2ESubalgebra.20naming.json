[
    {
        "content": "<p>In these files, the coercion from a <code>LieSubmodule</code> or <code>LieSubalgebra</code> to the underlying <code>Submodule</code> is referred to in theorem names variously as <code>toSubmodule</code>, <code>coeSubmodule</code>, <code>coe_toSubmodule</code>, <code>to_submodule</code>, <code>coe_submodule</code>, and even <code>coe_to_submodule</code>!<br>\nWhat should the spelling be? I'm happy to do the refactor.</p>",
        "id": 491222034,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735520906
    },
    {
        "content": "<p>More than one of these might be correct (depending on context) because the naming convention is different for terms, types and proofs.</p>",
        "id": 491222621,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735521529
    },
    {
        "content": "<p>These are all for theorem names</p>",
        "id": 491222637,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735521547
    },
    {
        "content": "<p>Context: ran into this while doing <a href=\"https://github.com/leanprover-community/mathlib4/pull/20329\">#20329</a></p>",
        "id": 491222705,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735521609
    },
    {
        "content": "<p>I think just <code>coe</code>, otherwise <code>toSubmodule</code>, but definitely none of the others</p>",
        "id": 491222951,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1735521899
    },
    {
        "content": "<p>I think just <code>coe</code> isn't ideal because there's also a (transitive) coercion to <code>Set</code><br>\nwhich is what <code>coe</code> on its own usually means right?</p>",
        "id": 491222984,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735521956
    },
    {
        "content": "<p>and of course there are some theorems about the <code>Set</code> coercion in the files, too</p>",
        "id": 491223039,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735521988
    },
    {
        "content": "<p>Thanks for taking this on. This is all my fault (albeit mostly my less-experienced 2020 self).</p>\n<p>Let's go with <code>toSubmodule</code>. As Kevin says, it's possible that context might affect the name in certain cases but we can resolve any such issues during review.</p>",
        "id": 491262151,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1735552647
    },
    {
        "content": "<p>I agree with <code>toSubmodule</code> here <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 491262512,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1735552857
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"400289\">Artie Khovanov</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Algebra.2ELie.2ESubmodule.2C.20Algebra.2ELie.2ESubalgebra.20naming/near/491222984\">said</a>:</p>\n<blockquote>\n<p>there's also a (transitive) coercion to <code>Set</code> which is what <code>coe</code> on its own usually means right?</p>\n</blockquote>\n<p>I wouldn't say it is what <code>coe</code> usually means, no, but there are indeed plenty of cases where it means this</p>",
        "id": 491262572,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1735552908
    },
    {
        "content": "<p>Is there a true refactoring capacity in Lean? As in, one that takes account of namespace? It's fine if not, just makes find and replace take longer because the hits need to be checked.</p>\n<p>Also, this refactor will require updating over 200 declarations. Do I still need to include <code>deprecated</code> attributes?</p>",
        "id": 491286126,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735567549
    },
    {
        "content": "<p>Tell me you haven't been making the deprecations by hand so far <span aria-label=\"flushed\" class=\"emoji emoji-1f633\" role=\"img\" title=\"flushed\">:flushed:</span></p>",
        "id": 491288164,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1735568730
    },
    {
        "content": "<p>I had a template I copy pasted, for like 10 deprecations... For this I was thinking of just using a regex. Is there a better way?</p>",
        "id": 491289266,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735569299
    },
    {
        "content": "<p>Yes, there is a script: <code>./scripts/add_deprecations.sh</code></p>",
        "id": 491289321,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1735569328
    },
    {
        "content": "<p>is there a renaming script?</p>",
        "id": 491289367,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735569352
    },
    {
        "content": "<p>You can type F2 when your cursor is on a declaration name. Warning: it's sadly completely namespace-unaware</p>",
        "id": 491289470,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1735569389
    },
    {
        "content": "<p>oh OK it's just vanilla find and replace?<br>\nsad!</p>",
        "id": 491289501,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735569408
    },
    {
        "content": "<p>It has the potential of being namespace-aware though. Can't speak for the FRO but I can only assume it hasn't been a priority yet</p>",
        "id": 491289614,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1735569459
    },
    {
        "content": "<p>made <a href=\"https://github.com/leanprover-community/mathlib4/pull/20353\">#20353</a></p>",
        "id": 491344971,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1735603602
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"400289\">Artie Khovanov</span> has marked this topic as resolved.</p>",
        "id": 491807376,
        "sender_full_name": "Notification Bot",
        "timestamp": 1735935545
    }
]