[
    {
        "content": "<p>Is there any reason why <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.single_eq_pi_single#doc\">docs#Finsupp.single_eq_pi_single</a> isn't a <code>simp</code> lemma? And what's up with lemmas such as <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.single_eq_set_indicator#doc\">docs#Finsupp.single_eq_set_indicator</a> ? Is this an oversight, or a design decision?</p>",
        "id": 547073489,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1761415508
    },
    {
        "content": "<p>My guess is because it's usually a bad idea to unfold, if simp was making it pi single, you are now forced to prove everything at this level ?</p>",
        "id": 547079602,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1761422620
    },
    {
        "content": "<p>This lemma was added much later than API for <code>Finsupp.single</code> was established. I think that we should make it a <code>simp</code> lemma, deprecate all lemmas about <code>Finsupp.single_apply*</code>, and generalize those that are still relevant to <code>Pi.single</code>.</p>",
        "id": 547082883,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761426689
    },
    {
        "content": "<p>ok so, trying to do this change I ended up answering my own question</p>",
        "id": 547084280,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1761428486
    },
    {
        "content": "<p><code>Pi.single</code> takes a <code>DecidableEq</code> argument, <code>Finsupp.single</code> does not</p>",
        "id": 547084292,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1761428508
    },
    {
        "content": "<p>I have a PR somewhere that tries to change Finsupp not to omit that argument</p>",
        "id": 547084818,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761429199
    },
    {
        "content": "<p>But this is a huge can of worms that would do better to wait until <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span>' MonoidAlgebra refactor goes through</p>",
        "id": 547084836,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761429232
    },
    {
        "content": "<p>Is there an open PR for that?</p>",
        "id": 547085158,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1761429682
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/30877\">#30877</a> is the next piece</p>",
        "id": 547085179,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761429701
    }
]