[
    {
        "content": "<p>When we deal with stuff like cardinals or ordinals in pen and paper mathematics, we're used to making arguments such as \"this set exists, therefore it has a supremum\". Lean's <code>Set</code> doesn't allow this, as we can easily define stuff like <code>univ : Set Ordinal</code>. This means that to build a supremum, we need to know our set is bounded.</p>\n<p>The usual way to do this is by showing our set is (a subset of) the range of a function from a smaller type, whose image will be bounded. For ordinals, this smaller type is often<code>Iio o</code>, but it can also be something like <code>Iio o₁ × Iio o₂</code>, etc.</p>\n<p>The current way these proofs have been handled in Mathlib is via our universe-restricted <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.sup#doc\">docs#Ordinal.sup</a>, and a bunch of ad-hoc variants like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.bsup#doc\">docs#Ordinal.bsup</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal#doc\">docs#Ordinal</a>.blsub₂. I've <a href=\"#narrow/stream/287929-mathlib4/topic/Ordinal.20technical.20debt\">already discussed</a> why those should be removed, so I think it's time to come up with a better way to handle this.</p>\n<p>My idea was to create a typeclass <code>LocallySmallOrder</code> for an ordered type where bounded intervals are small. We could use it to collect convenient results like <code>csInf_mem_of_small</code>, <code>le_csSup_of_small</code>, <code>nonempty_compl_of_small</code>, etc.</p>\n<p>I do recognize this is sort of niche, which is why we might not want it. Even then, there's broadly four places in the library where this could be useful:</p>\n<ul>\n<li>Cardinals</li>\n<li>Ordinals (including NatOrdinal and my WIP Nimber)</li>\n<li>PSet, ZFSet</li>\n<li>PGame, Game, Surreal</li>\n</ul>\n<p>I'd like to hear what you think.</p>",
        "id": 464774885,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724465290
    },
    {
        "content": "<p>Small correction, we want small subsets to be bounded, not the other way around. Every interval of the surreals is a proper class!</p>",
        "id": 464776625,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724466350
    },
    {
        "content": "<p>How many theorems do you expect will generalise? Is there much more than <code>Small s → BddAbove s</code>/<code>Small s → BddBelow s</code>?</p>",
        "id": 464803091,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1724483189
    },
    {
        "content": "<p>I was about to give a bunch of examples, but then I realized they are just theorems about <code>Small s</code> composed with that</p>",
        "id": 464803531,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724483399
    },
    {
        "content": "<p>Maybe the actual solution is instead to extend the <code>Small</code> API and just prove the <code>Small s → BddX s</code> theorems on their individual types</p>",
        "id": 464803622,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724483442
    },
    {
        "content": "<p>Yes, that's exactly my thought</p>",
        "id": 464803630,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1724483454
    },
    {
        "content": "<p>Alright</p>",
        "id": 464803664,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724483513
    },
    {
        "content": "<p>I'll get to that once the <code>Ordinal.sup</code> refactor goes through</p>",
        "id": 464803707,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724483523
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> has marked this topic as resolved.</p>",
        "id": 464807200,
        "sender_full_name": "Notification Bot",
        "timestamp": 1724485628
    }
]