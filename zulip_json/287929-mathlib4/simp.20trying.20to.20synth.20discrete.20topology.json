[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/21424\">#21424</a>, after fixing the definition of limit in <code>ProfiniteGrp</code>,  a time out was reached at <code>Mathlib/FieldTheory/Galois/Profinite.lean</code> line 306 by simp, which is trying to synth discrete topology when trying to prove a set is open.<br>\nI have two questions here:<br>\n1: What can be the possible reason causing the change in definition make the simp stop working? However after simp only the lemma that want to apply on it and simp again it worked, as seen in one of the commit.<br>\n2: I have another test</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">set_option</span><span class=\"w\"> </span><span class=\"n\">trace.Meta.synthInstance</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">set_option</span><span class=\"w\"> </span><span class=\"n\">trace.profiler</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kd\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsClosed</span><span class=\"w\"> </span><span class=\"o\">({</span><span class=\"mi\">1</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">â„š</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>It also tried to synth discrete topology, how can this be resolved? I tried to lower the priority of <code>isOpen_discrete</code> and <code>isClosed_discrete</code></p>\n<p>Maybe it is because I doesn't know how to trace simp process, can anyone help? Thanks.</p>",
        "id": 501334507,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1740285733
    },
    {
        "content": "<p>You can do <code>set_option trace.Meta.Tactic.simp true</code> to trace <code>simp</code>.</p>",
        "id": 501335021,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1740286209
    },
    {
        "content": "<p>In this case, it looks like the only lemma that applies is <code>isClosed_discrete</code>, so it tries that and fails.</p>",
        "id": 501335055,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1740286263
    },
    {
        "content": "<p>There's no \"a singleton is closed in a Hausdorff space\" lemma?</p>",
        "id": 501354531,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740302249
    },
    {
        "content": "<p>There is, it just isn't <code>@[simp]</code>.<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=isClosed_singleton#doc\">docs#isClosed_singleton</a>, and for Hausdorff spaces, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=T2Space.t1Space#doc\">docs#T2Space.t1Space</a></p>",
        "id": 501384026,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1740324050
    }
]