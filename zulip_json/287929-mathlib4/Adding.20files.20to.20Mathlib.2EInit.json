[
    {
        "content": "<p>What is the correct procedure for adding files to <code>Mathlib.Init</code> ? I am trying to add <code>Mathlib.Tactic.MinImports</code> to it, but the obvious thing fails in <a href=\"https://github.com/leanprover-community/mathlib4/pull/24722\">#24722</a> with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">following</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">do</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Init</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">MinImports</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 517160821,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1746812722
    },
    {
        "content": "<p>I think you have to have <code>Mathlib.Tactic.MinImports</code> import <code>Mathlib.Tactic.Linter.Header</code> or add it as an exception in the script</p>",
        "id": 517162817,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746813562
    },
    {
        "content": "<p>The general intention is that <code>Mathlib.Init</code> is the \"first import\", but <code>Mathlib.Tactic.Linter.Header</code> is the \"really first\".  Plus some mechanism for preventing more imports to <code>Init</code>.</p>",
        "id": 517163544,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1746813824
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Adding.20files.20to.20Mathlib.2EInit/near/517162817\">said</a>:</p>\n<blockquote>\n<p>I think you have to have <code>Mathlib.Tactic.MinImports</code> import <code>Mathlib.Tactic.Linter.Header</code> or add it as an exception in the script</p>\n</blockquote>\n<p>Indeed! You shouldn't need to add an exception.</p>",
        "id": 517178378,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1746820159
    },
    {
        "content": "<p>I wonder though whether <code>ImportGraph</code> is a better place for <code>minImports</code>.</p>",
        "id": 517186779,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1746824271
    }
]