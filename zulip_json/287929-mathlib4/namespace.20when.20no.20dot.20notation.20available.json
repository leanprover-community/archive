[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/14134\">#14134</a> a new definition (in fact an <code>abbrev</code>) <code>ringKrullDim R : WithBot (WithTop ℕ)</code> is made. Where do theorems about this definition go? There will not be an opportunity to use dot notation. Right now in the PR they've been put in a <code>ringKrullDim</code> namespace anyway, but when I look at definitions like <code>finprod</code> which also can't be used with dot notation, all the theorems are just called <code>finprod_foo</code> in the root namespace. Should this also be the approach here?</p>",
        "id": 449635658,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720348735
    },
    {
        "content": "<p>Would this be eligible for \"anonymous\" dot-notation?  That can be quite useful, I find.</p>",
        "id": 449637355,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720349445
    },
    {
        "content": "<p>I think that there was a recent thread about possibly renaming mathlib3's <code>foo_something</code> with <code>foo.something</code> even if dot-notation would not be applicable precisely to allow \"anonymous\" dot-notation.</p>",
        "id": 449637400,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720349507
    },
    {
        "content": "<p>I'm not sure what you mean. Can anonymous dot notation somehow play a role when <code>ringKrullDim R</code> is a term of a non-Prop type?</p>",
        "id": 449640856,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720352021
    },
    {
        "content": "<p>IIRC we almost never use namespaces for non-Sort-valued definitions.</p>",
        "id": 449641120,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1720352222
    },
    {
        "content": "<p>Ah, you are right!  I had it in my mind that it was <code>kd_le</code>!!  My comment was misguided.</p>",
        "id": 449641239,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1720352307
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/namespace.20when.20no.20dot.20notation.20available/near/449641120\">said</a>:</p>\n<blockquote>\n<p>IIRC we almost never use namespaces for non-Sort-valued definitions.</p>\n</blockquote>\n<p>I don't think this is true. On my mathlib checkout, <code>rg -c '^namespace (.*\\.)?[a-z]+[A-Z]' | wc -l</code> returns 84, which means that there are 84 files which contain something like <code>namespace legendreSymbol</code>.</p>",
        "id": 449641318,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1720352401
    },
    {
        "content": "<p>Some of these are the gray area of \"non-sorts with a coercion to Sort\", like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=unitary#doc\">docs#unitary</a></p>",
        "id": 449665197,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720362344
    },
    {
        "content": "<p>and namespacing stuff about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=multiplicity#doc\">docs#multiplicity</a> seems like it is a mistake</p>",
        "id": 449684108,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720369645
    },
    {
        "content": "<p>Generally in programming namespacing is a good thing. Dot notation isn't the only reason to namespace (and historically namespaces came before dot notation). For one, everything has a well-defined prefix and so you have, for example tab completion. For another, it helps keeps names from colliding between different parts of the library.</p>\n<p>Namespacing also gives you the option to decide to <code>open</code> the namespace and get access to all the names without the prefix. Without namespacing, it's like you're telling everyone that they should always <code>open</code> this namespace.</p>",
        "id": 449695299,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1720374513
    },
    {
        "content": "<p>Yes but lemmas aren't usually about a single non-<code>Sort</code> def and, when they are, where such non-<code>Sort</code> def appears in the expression is relevant and should be reflected in the name. Putting the lemma in the namespace of the non-<code>Sort</code> just is too crude</p>",
        "id": 449704375,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720378909
    },
    {
        "content": "<p>You can however do <code>def Namespace.nonSortDef</code>, <code>lemma Namespace.lemma_about_nonSortDef</code> (rather than the <code>def nonSortDef</code>, <code>lemma nonSortDef.lemma_about</code> you seem to be arguing for)</p>",
        "id": 449704776,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720379007
    }
]