[
    {
        "content": "<p>Is there a definition that gives (left) multiplication by an element of an <code>R</code>-algebra on the algebra as an <code>R</code>-linear map?<br>\n<span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> ⊢ LinearMap .., Algebra, _ * _</p>",
        "id": 492768646,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736441511
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/LinearAlgebra/TensorProduct/Submodule.html#Submodule.mulMap%27\">Submodule.mulMap'</a></p>",
        "id": 492768653,
        "sender_full_name": "loogle",
        "timestamp": 1736441514
    },
    {
        "content": "<p>(This involves tensor products and is not what I'm looking for.)</p>",
        "id": 492768800,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736441549
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearMap.mulLeft#doc\">docs#LinearMap.mulLeft</a> ?</p>",
        "id": 492768999,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1736441620
    },
    {
        "content": "<p>I'll never learn that I may have to look for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SMulCommClass#doc\">docs#SMulCommClass</a> instead of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Algebra#doc\">docs#Algebra</a> ...<br>\nCan loogle be made smarter in this respect?</p>",
        "id": 492769228,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736441679
    },
    {
        "content": "<p><code>exact?</code> will help youhere I think</p>",
        "id": 492769705,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736441777
    },
    {
        "content": "<p>Even when looking for a specific term of a type and not a <code>Prop</code>?</p>",
        "id": 492769888,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736441822
    },
    {
        "content": "<p>I guess for that specific type it might choose <code>id</code></p>",
        "id": 492770123,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736441884
    },
    {
        "content": "<p>or the zero map...</p>",
        "id": 492770159,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736441896
    },
    {
        "content": "<p>Indeed:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">exact?</span><span class=\"w\"> </span><span class=\"c1\">-- Try this: exact LinearMap.id</span>\n</code></pre></div>",
        "id": 492770275,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736441936
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> (_ : ?R →ₗ[_] ?R) ?x = ?y * ?x</p>",
        "id": 492770286,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736441938
    },
    {
        "content": "<p><span aria-label=\"exclamation\" class=\"emoji emoji-2757\" role=\"img\" title=\"exclamation\">:exclamation:</span> &lt;input&gt;:1:17: expected end of input</p>",
        "id": 492770289,
        "sender_full_name": "loogle",
        "timestamp": 1736441939
    },
    {
        "content": "<p>I don't understand that loogle error</p>",
        "id": 492770379,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736441959
    },
    {
        "content": "<p>i think there may be some weird space characters in there?</p>",
        "id": 492771006,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736442112
    },
    {
        "content": "<p>specifically, those around the <code>?x</code></p>",
        "id": 492771541,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736442258
    },
    {
        "content": "<p>strangely, i can't seem to reproduce the issue when trying to find out what kind of space it is... but replacing the spaces and then searching at the loogle site does fix the issue...</p>",
        "id": 492772057,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1736442402
    },
    {
        "content": "<p>Yeah, it seems copying from VSCode or the online docs both have chances to confuse Loogle. Maybe it's some kind of rich text being copied?</p>",
        "id": 492772663,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1736442572
    },
    {
        "content": "<p>I typed this literally into loogle</p>",
        "id": 492775811,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736443506
    },
    {
        "content": "<p>I think it likes inserting non-breaking spaces as part of the symbol replacement</p>",
        "id": 492775854,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736443519
    },
    {
        "content": "<p>I still think it would be nice to have a <code>NonUnitalAlgebra</code> class, as often whether you need <code>SMulCommClass</code> or <code>IsScalarTower</code> is sometimes just an artifact of on which side things happen, and in a (even non-unital) algebra the answer is: I just don't care.</p>",
        "id": 492776077,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1736443598
    },
    {
        "content": "<p>I've experienced this too with typing things directly into loogle. Eric, are you using m17n for globally available input? I am. I think I didn't experience this before loogle supported it's own input mechanism.</p>",
        "id": 492776426,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1736443700
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479359\">Michael Stoll</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Multiplication.20by.20an.20element.20as.20a.20linear.20map/near/492770275\">said</a>:</p>\n<blockquote>\n<p>Indeed:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">exact?</span><span class=\"w\"> </span><span class=\"c1\">-- Try this: exact LinearMap.id</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>You might try <code>exact? using x</code>.</p>",
        "id": 492831229,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736461709
    },
    {
        "content": "<p>Or if you know that the map is actually a ring homomorphism then this works</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">→+*</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">exact?</span><span class=\"w\"> </span><span class=\"c1\">-- Try this: exact Module.toModuleEnd R S</span>\n</code></pre></div>",
        "id": 492832294,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1736462141
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Multiplication.20by.20an.20element.20as.20a.20linear.20map/near/492776426\">said</a>:</p>\n<blockquote>\n<p>I've experienced this too with typing things directly into loogle. Eric, are you using m17n for globally available input? I am. I think I didn't experience this before loogle supported it's own input mechanism.</p>\n</blockquote>\n<p>No, I am only using Loogle's own input method.</p>",
        "id": 492837100,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1736464224
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Multiplication.20by.20an.20element.20as.20a.20linear.20map/near/492831229\">said</a>:</p>\n<blockquote>\n<p>You might try <code>exact? using x</code></p>\n</blockquote>\n<p>It's close:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Algebra</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">exact?</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"c1\">-- Try this: exact LinearMap.mulRight R x</span>\n</code></pre></div>\n<p>(However, my experience is that <code>apply? using</code> in real-life situations almost always says that it didn't find anything, even though a blank <code>apply?</code> finds something involving the exact same hypothesis. I'll try to remember posting a concrete example when I'm runnnig into that the next time.)</p>",
        "id": 492911682,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1736502112
    },
    {
        "content": "<p>Yes, the <code>using</code> clause seems really buggy. I would be very happy if someone wanted to investigate / make a bug-fix PR!</p>",
        "id": 493134042,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736636236
    }
]