[
    {
        "content": "<p>I am looking at <code>Mathlib/LinearAlgebra/Quotient/Defs.lean</code>, and it contains the following (roughly L120-190)</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- Porting note: should this be marked as a `@[default_instance]`?</span>\n<span class=\"sd\">/-- Shortcut to help the elaborator in the common case. -/</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">instSMul</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SMul</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">instSMul'</span><span class=\"w\"> </span><span class=\"n\">P</span>\n\n<span class=\"c1\">-- 8&lt;   8&lt;  8&lt;    &lt;&lt;snip&gt;&gt;</span>\n\n<span class=\"c1\">-- Porting note: should this be marked as a `@[default_instance]`?</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">mulAction</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MulAction</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">mulAction'</span><span class=\"w\"> </span><span class=\"n\">P</span>\n\n<span class=\"c1\">-- 8&lt;   8&lt;  8&lt;    &lt;&lt;snip&gt;&gt;</span>\n\n<span class=\"c1\">-- Porting note: should this be marked as a `@[default_instance]`?</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">smulZeroClass</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SMulZeroClass</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">smulZeroClass'</span><span class=\"w\"> </span><span class=\"n\">P</span>\n\n<span class=\"c1\">-- 8&lt;   8&lt;  8&lt;    &lt;&lt;snip&gt;&gt;</span>\n\n<span class=\"c1\">-- Porting note: should this be marked as a `@[default_instance]`?</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">distribSMul</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DistribSMul</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">distribSMul'</span><span class=\"w\"> </span><span class=\"n\">P</span>\n\n<span class=\"c1\">-- 8&lt;   8&lt;  8&lt;    &lt;&lt;snip&gt;&gt;</span>\n\n<span class=\"c1\">-- Porting note: should this be marked as a `@[default_instance]`?</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">distribMulAction</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DistribMulAction</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">distribMulAction'</span><span class=\"w\"> </span><span class=\"n\">P</span>\n\n<span class=\"c1\">-- 8&lt;   8&lt;  8&lt;    &lt;&lt;snip&gt;&gt;</span>\n\n<span class=\"c1\">-- Porting note: should this be marked as a `@[default_instance]`?</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">module'</span><span class=\"w\"> </span><span class=\"n\">P</span>\n</code></pre></div>",
        "id": 510855993,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744096694
    },
    {
        "content": "<p>My inclination is that the answer to all these questions is: \"no\".</p>",
        "id": 510856034,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744096710
    },
    {
        "content": "<p>But before I remove these porting notes, I would be happy to hear from e.g. <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> or <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span> .</p>",
        "id": 510856114,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744096735
    },
    {
        "content": "<p>My personal feeling about these instances is that they shouldn't even be global let alone default</p>",
        "id": 510858978,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744097663
    },
    {
        "content": "<p>Oh sorry I take that back, the ones I don't like are when S acts on M then it acts on M/P where P is a sub-R-module, these ones are ok</p>",
        "id": 510859625,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744097854
    },
    {
        "content": "<p>Can you track down the PR they were added in to see if there was discussion at the time?</p>",
        "id": 510866067,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744099751
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/2286\">#2286</a> and <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/LinearAlgebra.2EQuotient.20.214.232286/with/327881795\">#mathlib4 &gt; LinearAlgebra.Quotient !4#2286</a> </p>\n<p>No discussion at the time.</p>",
        "id": 510886710,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744105616
    },
    {
        "content": "<p>I claim these should be removed: <a href=\"https://github.com/leanprover-community/mathlib4/pull/23818\">#23818</a></p>",
        "id": 510887837,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744105938
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> I agree, these should not be <code>@[default_instance]</code>. Doing so could cause modules with unspecified types to specialize to be quotient modules (if they work as default instances at all)</p>",
        "id": 511235856,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1744222021
    }
]