[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">SpecialFunctions</span><span class=\"bp\">.</span><span class=\"n\">Exp</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"lim[\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\" ‚Üí \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\"]\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"=\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n\n<span class=\"kn\">macro_rules</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">lim</span><span class=\"o\">[</span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">filter</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">fx</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">limit</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">fx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">filter</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nhds</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">limit</span><span class=\"o\">))</span>\n\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"lim[\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"s2\">\" ‚Üí \"</span><span class=\"w\"> </span><span class=\"s2\">\"-‚àû\"</span><span class=\"w\"> </span><span class=\"s2\">\"]\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"=\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n\n<span class=\"kn\">macro_rules</span>\n<span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">lim</span><span class=\"o\">[</span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">-‚àû</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">fx</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">limit</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">lim</span><span class=\"o\">[</span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">atBot</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">fx</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">limit</span><span class=\"o\">)</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Real</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">lim</span><span class=\"o\">[</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"bp\">-‚àû</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">exp</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">tendsto_exp_atBot</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">Filter</span>\n</code></pre></div>",
        "id": 547917450,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761826010
    },
    {
        "content": "<p>do we want be able to write <code>lim</code>, which is a more familiar notation for <code>Filter.Tendsto</code>?</p>",
        "id": 547917534,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761826028
    },
    {
        "content": "<p>let me also note that there are <a href=\"https://loogle.lean-lang.org/?q=Filter.Tendsto+_+_+%28nhds+_%29\">1835 matches</a> for <code>Filter.Tendsto _ _ (nhds _)</code></p>",
        "id": 547922417,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761827442
    },
    {
        "content": "<p>and also let me note that there is precedent for <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/Asymptotics/Defs.html#Asymptotics.%C2%ABterm_=o[_]_%C2%BB\">little-o notation</a></p>",
        "id": 547922853,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761827574
    },
    {
        "content": "<p>a friction from this might be that the = symbol is used for something that's not an equation, and one gets surprised when trying to rewrite with it</p>",
        "id": 547922998,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761827615
    },
    {
        "content": "<p>we could make <code>grw</code> work with this <span aria-label=\"melt\" class=\"emoji emoji-1fae0\" role=\"img\" title=\"melt\">:melt:</span></p>",
        "id": 547923081,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761827641
    },
    {
        "content": "<p>we could i guess add a subscript like <code>=‚Çó</code> to serve as reminder that this isn't <code>Eq</code></p>",
        "id": 547923202,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761827673
    },
    {
        "content": "<p>let me also cite the widely used ModEq notation which also looks like equality</p>",
        "id": 547923294,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761827703
    },
    {
        "content": "<p>Related: <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/A.20better.20notation.20for.20limit/with/470167033\">#new members &gt; A better notation for limit</a></p>",
        "id": 547923350,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761827721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> I don't want to respond in new members, so i'll respond here; I propose that we only enable this notation for the filters that are nhds, atTop, atBot, and the [&lt;] and [&gt;] filters</p>",
        "id": 547925524,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761828343
    },
    {
        "content": "<p>I think I have another PTSD than the ones mentioned in the new members thread: I don't understand why one would prefer <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>‚Å°</mo></mrow><mrow><mi>x</mi><mo>‚Üí</mo><mi>a</mi></mrow></msub><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">\\lim_{x\\to a} f(x) = l</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mathnormal mtight\">a</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span> over <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><munderover><mo stretchy=\"true\" minsize=\"3.0em\">‚Üí</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>x</mi><mo>‚Üí</mo><mi>a</mi></mrow></mpadded><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded></munderover><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">f(x) \\xrightarrow[x\\to a]{} l</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1734em;vertical-align:-0.4234em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.622em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span><span style=\"top:-2.2766em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mathnormal mtight\">a</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4234em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span></span></span></span>. But I may have been doing Lean for too long...</p>",
        "id": 547934742,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761830857
    },
    {
        "content": "<p>it's solely because that's what the maths community has decided</p>",
        "id": 547935035,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761830937
    },
    {
        "content": "<p>also having it look like a term makes it easier to write lim f+g = lim f + lim g</p>",
        "id": 547935167,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761830972
    },
    {
        "content": "<p>One thing I would really like to have would be something calc-like which would allow reasoning of the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo>‚ãØ</mo><mo>=</mo><mi>g</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><munderover><mo stretchy=\"true\" minsize=\"3.0em\">‚Üí</mo><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow><mi>x</mi><mo>‚Üí</mo><mi>a</mi></mrow></mpadded><mpadded width=\"+0.6em\" lspace=\"0.3em\"><mrow></mrow></mpadded></munderover><mi>l</mi><mo>=</mo><mo>‚ãØ</mo><mo>=</mo><msup><mi>l</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">‚Ä≤</mo></msup></mrow><annotation encoding=\"application/x-tex\">f(x) = \\dots = g(x) \\xrightarrow[x\\to a]{} l = \\dots = l&#x27;</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"minner\">‚ãØ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.1734em;vertical-align:-0.4234em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel x-arrow\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.622em;\"><span style=\"top:-3.322em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"></span></span></span><span class=\"svg-align\" style=\"top:-2.689em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"hide-tail\" style=\"height:0.522em;min-width:1.469em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"0.522em\" viewBox=\"0 0 400000 522\" preserveAspectRatio=\"xMaxYMin slice\"><path d=\"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z\"/></svg></span></span><span style=\"top:-2.2766em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight x-arrow-pad\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mathnormal mtight\">a</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.4234em;\"><span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.3669em;\"></span><span class=\"minner\">‚ãØ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">‚Ä≤</span></span></span></span></span></span></span></span></span></span></span></span></p>",
        "id": 547935310,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831004
    },
    {
        "content": "<p>Maybe even with eventual equalities mixed in</p>",
        "id": 547935378,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831023
    },
    {
        "content": "<p>I think <code>grw</code> is supposd to do that?</p>",
        "id": 547935396,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831028
    },
    {
        "content": "<p>anyway this is off topic</p>",
        "id": 547935441,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831040
    },
    {
        "content": "<p>Yes sorry</p>",
        "id": 547935472,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831046
    },
    {
        "content": "<p>so anyway <span class=\"user-mention\" data-user-id=\"268315\">@Anatole Dedecker</span> would you like to see this notation in mathlib</p>",
        "id": 547935558,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831068
    },
    {
        "content": "<p>We had a similar notation for limits of sequences, then removed it.</p>",
        "id": 547935591,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761831076
    },
    {
        "content": "<p>why?</p>",
        "id": 547935624,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831082
    },
    {
        "content": "<p>Let me find the discussion.</p>",
        "id": 547935706,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761831103
    },
    {
        "content": "<p>Having <code>lim[x ‚Üí -‚àû] exp x = 0</code>  where the equal sign is not the usual one and <code>lim[x ‚Üí -‚àû] exp x</code> isn't a thing by itself just looks like a crazy source of confusion to me.</p>",
        "id": 547935861,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761831139
    },
    {
        "content": "<p>I proposed changing the equal sign to <code>=‚Çó</code>, does that solve this problem?</p>",
        "id": 547935988,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831170
    },
    {
        "content": "<p>One thing I worry about is that any attempt to hide the filter in the notation is just pushing back the problem to \"all the lemmas mention filters and you have to know their names\".</p>",
        "id": 547935992,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831171
    },
    {
        "content": "<p>that is indeed a problem...</p>",
        "id": 547936061,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831186
    },
    {
        "content": "<p>but we can make this information show up on hover?</p>",
        "id": 547936111,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831197
    },
    {
        "content": "<p>i think without the notation you still have the same problem, \"we only have filters so you have to state limit in terms of filters\"</p>",
        "id": 547936204,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831219
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">S√©bastien Gou√´zel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547935861\">said</a>:</p>\n<blockquote>\n<p>Having <code>lim[x ‚Üí -‚àû] exp x = 0</code>  where the equal sign is not the usual one and <code>lim[x ‚Üí -‚àû] exp x</code> isn't a thing by itself just looks like a crazy source of confusion to me.</p>\n</blockquote>\n<p>I agree. If people really want such a notation it should be notation for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=limUnder#doc\">docs#limUnder</a>.</p>",
        "id": 547936364,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831259
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547936204\">said</a>:</p>\n<blockquote>\n<p>i think without the notation you still have the same problem, \"we only have filters so you have to state limit in terms of filters\"</p>\n</blockquote>\n<p>I'm not claiming your proposal creates the problem, I'm claiming it doesn't really solve it.</p>",
        "id": 547936490,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831288
    },
    {
        "content": "<p>Here is the PR that removed the notation we had: <a href=\"https://github.com/leanprover-community/mathlib3/pull/15696\">https://github.com/leanprover-community/mathlib3/pull/15696</a></p>",
        "id": 547936684,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761831329
    },
    {
        "content": "<p>what was the reason?</p>",
        "id": 547937032,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831364
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268315\">Anatole Dedecker</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547936364\">said</a>:</p>\n<blockquote>\n<p>I agree.</p>\n</blockquote>\n<p>Would you agree if I changed <code>=</code> to <code>=‚Çó</code>?</p>",
        "id": 547937160,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831391
    },
    {
        "content": "<p>We may decide to rename <code>lim</code> to something, then rename <code>limUnder</code> to <code>lim</code> and add API about it as we have API about <code>HasDerivAt</code> and <code>deriv</code>.</p>",
        "id": 547937169,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761831394
    },
    {
        "content": "<p>The old notation was <code>x \\longrightarrow a</code> and only worked for sequences.</p>",
        "id": 547937321,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761831430
    },
    {
        "content": "<p>The current approach is to make people read Math in Lean or something like that.</p>",
        "id": 547937566,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761831488
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547937169\">said</a>:</p>\n<blockquote>\n<p>We may decide to rename <code>lim</code> to something, then rename <code>limUnder</code> to <code>lim</code> and add API about it as we have API about <code>HasDerivAt</code> and <code>deriv</code>.</p>\n</blockquote>\n<p>This is I think the most sensible approach. I don't quite see the interest myself because I essentially never write \"the limit equals\" even on paper, but that's a matter of taste.<br>\nOne problem: this means adding a predicate of the form \"this has some limit\" as a condition for <code>limUnder</code> lemmas.</p>",
        "id": 547938047,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1761831610
    },
    {
        "content": "<p>given that we currently <a href=\"https://loogle.lean-lang.org/?q=limUnder\">don't have API for limUnder</a> i would think that having notation for <code>Filter.Tendsto</code> might be a better short-term approach</p>",
        "id": 547938464,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831721
    },
    {
        "content": "<p>(<del>and more constructive??</del>)</p>",
        "id": 547938515,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761831731
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547937566\">said</a>:</p>\n<blockquote>\n<p>The current approach is to make people read Math in Lean or something like that.</p>\n</blockquote>\n<p>i'm not sure what you meant with this sentence</p>",
        "id": 547939715,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832042
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268315\">Anatole Dedecker</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547938047\">said</a>:</p>\n<blockquote>\n<p>This is I think the most sensible approach.</p>\n</blockquote>\n<p>I feel like this as well only pushes the problem back, because now when you're proving any limit you need to </p>\n<ol>\n<li>change the goal to be in the form of <code>Filter.Tendsto</code></li>\n<li>and then use the standard lemmas for chaining limits (we're still missing the <code>fun_prop</code> extension that can automatically prove limits)</li>\n</ol>",
        "id": 547940124,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832139
    },
    {
        "content": "<p>and I would think that when you're performing step 2 it might be better to see the limit notation</p>",
        "id": 547940319,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832191
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547939715\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547937566\">said</a>:</p>\n<blockquote>\n<p>The current approach is to make people read Math in Lean or something like that.</p>\n</blockquote>\n<p>i'm not sure what you meant with this sentence</p>\n</blockquote>\n<p>I think he means that we point people to the book Mathematics in Lean which is a great resource to learn about filters both in general and in mathlib.</p>",
        "id": 547940388,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761832203
    },
    {
        "content": "<p>i mean, seeing that we'll need both anyway, what if we just have notation for both?</p>",
        "id": 547940394,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832205
    },
    {
        "content": "<p>ah, right i forgot about that book, i think I usually see it abbreviated as <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a></p>",
        "id": 547940561,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832248
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268315\">Anatole Dedecker</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547935992\">said</a>:</p>\n<blockquote>\n<p>\"all the lemmas mention filters and you have to know their names\"</p>\n</blockquote>\n<p>well... we could also change the names after we introduce this notation...</p>",
        "id": 547941256,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832423
    },
    {
        "content": "<p>That seems like an even larger trap. Naming conventions should be based on the names of the objects, generally, and the theorems should be in appropriate generality; having theorems with strings <code>lim_eq</code> in the name when they're about a filter tending to a value ... seems much worse</p>",
        "id": 547942557,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1761832700
    },
    {
        "content": "<p>how do you propose to solve this problem?</p>",
        "id": 547943436,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761832872
    },
    {
        "content": "<p>I don't see a problem here. Writing <code>lim f = a</code> is bad mathematical practice, and should be discouraged, also in paper math.</p>",
        "id": 547943578,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761832907
    },
    {
        "content": "<p>The current solution is to use <code>Filter.Tendsto</code> and let people read <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a> to see how to express <code>lim_{x\\to _} f(x) = _</code> in Lean.</p>",
        "id": 547943596,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761832912
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">S√©bastien Gou√´zel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547943578\">said</a>:</p>\n<blockquote>\n<p>I don't see a problem here. Writing <code>lim f = a</code> is bad mathematical practice, and should be discouraged, also in paper math.</p>\n</blockquote>\n<p>OTOH, we support this kind of notation for derivatives, infinite sums, and intergrals.</p>",
        "id": 547943914,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761832988
    },
    {
        "content": "<p>we currently have <a href=\"https://github.com/leanprover-community/mathlib4/blob/33b1098d29f8e518cf75f3787f93809926385252/Mathlib/Topology/Defs/Filter.lean#L133-L150C46\">notation for all kinds of nhds-related filters already</a>, surely it isn't a stretch to extend that notation to <code>Filter.Tendsto</code> so that we don't have to write \"Tendsto .. nhds\" all of the time</p>",
        "id": 547944402,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833104
    },
    {
        "content": "<p>again we don't have to use the equal sign!</p>",
        "id": 547944519,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833131
    },
    {
        "content": "<p>what if we write <code>exp (-x) ‚Üí[x ‚Üí ‚àû] 0</code> or <code>exp (-x) ‚ü∂[x ‚Üí ‚àû] 0</code>?</p>",
        "id": 547944715,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833184
    },
    {
        "content": "<p>We have this kind of notation for derivatives, infinite sums, and integrals, because these are things which are used all the time in computations. This is not the case for limits as far as my practice tells.</p>",
        "id": 547944754,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761833193
    },
    {
        "content": "<p>(If you want to use it for limits, we already have this concept, it's called <code>limUnder</code>. But in practice it's very rarely used, because it's not useful)</p>",
        "id": 547944985,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761833246
    },
    {
        "content": "<p>is it possible that it's not widely used right now because we're lacking some API?</p>",
        "id": 547945091,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833271
    },
    {
        "content": "<p>If people had needed it, they would probably have added the API long ago.</p>",
        "id": 547945287,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761833309
    },
    {
        "content": "<p>i mean, how would you prove that <code>x ^ x ‚ü∂[x ‚Üí 0+] 1</code>? I would imagine you would want to use the APIs</p>",
        "id": 547945290,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833310
    },
    {
        "content": "<p>Note that I would be perfectly fine with a notation like <code>exp (-x) ‚Üí[x ‚Üí ‚àû] 0</code>. But that's orthogonal to using more <code>limUnder</code>.</p>",
        "id": 547945537,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761833359
    },
    {
        "content": "<p>well with all of these classical functions you end up just deferring the proof to a later step, you still have to prove sooner or later that the limit actually exists</p>",
        "id": 547945556,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833362
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">S√©bastien Gou√´zel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547945537\">said</a>:</p>\n<blockquote>\n<p>Note that I would be perfectly fine with a notation like <code>exp (-x) ‚Üí[x ‚Üí ‚àû] 0</code>. But that's orthogonal to using more <code>limUnder</code>.</p>\n</blockquote>\n<p>that's fine, we can discuss using limUnder more in a different thread</p>",
        "id": 547945699,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833394
    },
    {
        "content": "<p>Do other people here agree with <code>exp (-x) ‚ü∂[x ‚Üí ‚àû] 0</code>?</p>",
        "id": 547945780,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833411
    },
    {
        "content": "<p>Another approach is to define a class <code>Filter.HasLimit : Prop</code> as an existential, then add <code>Lim F</code> as a choice of witness and whatever notation for special filters. The equality above would then be a legitimate equality. I think we already do something like this (without notation) for ultrafilters?</p>",
        "id": 547946154,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1761833499
    },
    {
        "content": "<p>that's even worse, now you can't rewrite anything, I think we have this practice of separating proofs and definitions (and make all functions total) for this exact reason</p>",
        "id": 547946394,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833551
    },
    {
        "content": "<p>That's essentially what <code>limUnder</code>is: if there is a limit, pick one, otherwise use a junk value. In practice, this has not proved useful.</p>",
        "id": 547946485,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761833570
    },
    {
        "content": "<p>Ok fair enough</p>",
        "id": 547946550,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1761833583
    },
    {
        "content": "<p>like, consider the <code>‚Åª¬π</code> for fields vs. the <code>Invertible</code> typeclass stuff</p>",
        "id": 547946597,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833595
    },
    {
        "content": "<p>we love total functions so much we ended up having <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/GroupWithZero/Units/Basic.html#Units.mk0\">Units.mk0</a> in the library</p>",
        "id": 547946795,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833633
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547945780\">said</a>:</p>\n<blockquote>\n<p>Do other people here agree with <code>exp (-x) ‚ü∂[x ‚Üí ‚àû] 0</code>?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> are you ok with this notation? (since Sebastien and Anatole seem to be ok with it)</p>",
        "id": 547947777,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761833818
    },
    {
        "content": "<p>for the orthogonal discussion I think the classical functions such as <code>sum</code> are more usable because its junk value 0 makes sense for this additive context; for limit (e.g. my example x^x -&gt; 1 above) it wouldn't work because exp sends junk value 0 to the non-junk value 1, so we can't write lim (exp f) = exp (lim f) sadly</p>",
        "id": 547948676,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761834003
    },
    {
        "content": "<p>Another question: the undergrad definition of \"lim_{x-&gt;a} f(x) = b\" corresponds to <code>ùìù[‚â†] a</code> and <code>ùìù b</code> if I understand correctly. If we introduce notation like <code>f(x) -&gt;[x-&gt;a] b</code> to mean the undergrad lim, are we ok with having two kinds of filter under the hood?</p>",
        "id": 547953622,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761835092
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> do we even want that in the first place? the normal one has <a href=\"http://Filter.Tendsto%20_%20(nhds%20_)\">117 matches</a> and the punctured one has <a href=\"https://loogle.lean-lang.org/?q=Filter.Tendsto+_+%28nhdsWithin+_+_%E1%B6%9C%29\">76 matches</a> so to my surprise they're both used, but I would imagine that we would want to write <code>x ‚Üí ‚â†a</code> for the punctured one</p>",
        "id": 547954507,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761835298
    },
    {
        "content": "<p>I don't know whether we want it or not. If the goal is to introduce notation that more people are familiar with, then it should follow the conventional definition of that notation as well. If the goal is to just make the statement prettier, then this isn't an issue</p>",
        "id": 547955512,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761835514
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span> while that is indeed a valid concern, i think there are two counterpoints that outweigh it,</p>\n<ol>\n<li>I want other types of limits as well, such as inf, -inf, a+, a-, and for the sake of consistency i would want the source and target filters to have the same meaning</li>\n<li>it shouldn't be that hard to get used to writing an extra <code>‚â†</code> to mean punctured</li>\n<li>if we default to the punctured, we would have no way to write the normal nhds</li>\n</ol>",
        "id": 547957231,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761835845
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547953622\">said</a>:</p>\n<blockquote>\n<p>Another question: the undergrad definition of \"lim_{x-&gt;a} f(x) = b\" corresponds to <code>ùìù[‚â†] a</code> and <code>ùìù b</code> if I understand correctly.</p>\n</blockquote>\n<p>This depends on where you've studied. In France, it's <code>ùìù a</code> and <code>ùìù b</code>.</p>",
        "id": 547967306,
        "sender_full_name": "S√©bastien Gou√´zel",
        "timestamp": 1761837912
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">S√©bastien Gou√´zel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547967306\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547953622\">said</a>:</p>\n<blockquote>\n<p>Another question: the undergrad definition of \"lim_{x-&gt;a} f(x) = b\" corresponds to <code>ùìù[‚â†] a</code> and <code>ùìù b</code> if I understand correctly.</p>\n</blockquote>\n<p>This depends on where you've studied. In France, it's <code>ùìù a</code> and <code>ùìù b</code>.</p>\n</blockquote>\n<p>So <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>‚Å°</mo></mrow><mrow><mi>x</mi><mo>‚Üí</mo><mn>0</mn></mrow></msub><mfrac><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\lim_{x \\to 0} \\frac{sin(x)}{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.355em;vertical-align:-0.345em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mtight\">0</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">in</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> is undefined in France undergrad? Or is it handled like an exception?</p>",
        "id": 547978675,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761840627
    },
    {
        "content": "<p>You write <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>‚Å°</mo></mrow><mstyle scriptlevel=\"1\"><mtable rowspacing=\"0.1em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"1\" displaystyle=\"false\"><mrow><mi>x</mi><mo>‚Üí</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"1\" displaystyle=\"false\"><mrow><mi>x</mi><mo mathvariant=\"normal\">‚â†</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mstyle></msub><mfrac><mrow><mi>sin</mi><mo>‚Å°</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\lim_{\\substack{x \\to 0 \\\\ x \\ne 0}} \\frac{\\sin(x)}{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.8645em;vertical-align:-0.8545em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3448em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7747em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1067em;\"><span style=\"top:-3.1622em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mtight\">0</span></span></span><span style=\"top:-2.2878em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\"><span class=\"mrel mtight\"><span class=\"mord vbox mtight\"><span class=\"thinbox mtight\"><span class=\"rlap mtight\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord mtight\"><span class=\"mrel mtight\">ÓÄ†</span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel mtight\">=</span></span><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6067em;\"><span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8545em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mop mtight\"><span class=\"mtight\">s</span><span class=\"mtight\">i</span><span class=\"mtight\">n</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> (or leave it to the reader to interpret correctly, because it is quite obvious actually)</p>",
        "id": 547980415,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761841131
    },
    {
        "content": "<p>When I learned limits, many years ago in Italy, the convention was also that for limits of a real function it was (usually implicit) that the variable was required to be different from its limiting value.</p>",
        "id": 547981904,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761841530
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"703970\">Etienne Marion</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547980415\">said</a>:</p>\n<blockquote>\n<p>You write <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>‚Å°</mo></mrow><mstyle scriptlevel=\"1\"><mtable rowspacing=\"0.1em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"1\" displaystyle=\"false\"><mrow><mi>x</mi><mo>‚Üí</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"1\" displaystyle=\"false\"><mrow><mi>x</mi><mo mathvariant=\"normal\">‚â†</mo><mn>0</mn></mrow></mstyle></mtd></mtr></mtable></mstyle></msub><mfrac><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><mi>x</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\lim_{\\substack{x \\to 0 \\\\ x \\ne 0}} \\frac{sin(x)}{x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.8645em;vertical-align:-0.8545em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3448em;\"><span style=\"top:-2.3448em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7747em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\"><span class=\"mtable\"><span class=\"col-align-c\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1067em;\"><span style=\"top:-3.1622em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mtight\">0</span></span></span><span style=\"top:-2.2878em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\"><span class=\"mrel mtight\"><span class=\"mord vbox mtight\"><span class=\"thinbox mtight\"><span class=\"rlap mtight\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"inner\"><span class=\"mord mtight\"><span class=\"mrel mtight\">ÓÄ†</span></span></span><span class=\"fix\"></span></span></span></span></span><span class=\"mrel mtight\">=</span></span><span class=\"mord mtight\">0</span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6067em;\"><span></span></span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8545em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">s</span><span class=\"mord mathnormal mtight\">in</span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">x</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> (or leave it to the reader to interpret correctly, because it is quite obvious actually)</p>\n</blockquote>\n<p>Well then the conventions differ only when the function is defined but discontinuous.<br>\nI think such functions aren't that common except when defined a function by cases: <code>if x = 0 then 42 else x</code></p>",
        "id": 547981974,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761841549
    },
    {
        "content": "<p>It matters more in mathlib because sin x / x <em>is</em> defined everywhere and discontinuous</p>",
        "id": 547982176,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761841605
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547953622\">said</a>:</p>\n<blockquote>\n<p>Another question: the undergrad definition of \"lim_{x-&gt;a} f(x) = b\" corresponds to <code>ùìù[‚â†] a</code> and <code>ùìù b</code> if I understand correctly. </p>\n</blockquote>\n<p>In the Netherlands we used the same convention as France's (but I can very well imagine it's lecturer-dependent).</p>\n<p>Is the one you mentioned the US convention? It must be tough for the chain rule to fail if you use that convention:<br>\n\"if lim_{x-&gt;a} f(x) = b and lim_{x-&gt;b} g(x) = c then lim_{x-&gt;a} g(f(x)) = c\"</p>",
        "id": 547987548,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1761843043
    },
    {
        "content": "<p>I learned in Chinese and it was the convention there, and indeed the chain rule was stated in a very complicated way because of this</p>",
        "id": 547987851,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761843131
    },
    {
        "content": "<p>English wikipedia seems to be following the punctured filter convention</p>",
        "id": 547988083,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761843198
    },
    {
        "content": "<p>I mean, you want (f y - f x) / (y - x) to tend to f‚Äô(x)</p>",
        "id": 547990176,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761843827
    },
    {
        "content": "<p>But in paper maths the function is not defined at <code>x</code> so it is obvious that you only consider <code>y ‚â† x</code>. And if it might be ambiguous or confusing for the reader (for instance if it is a student who is not familiar with the notation) then you can add the <code>y ‚â† x</code> below the <code>y -&gt; x</code>.</p>",
        "id": 547996687,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761845668
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"703970\">Etienne Marion</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547996687\">said</a>:</p>\n<blockquote>\n<p>it is obvious that you only consider <code>y ‚â† x</code>.</p>\n</blockquote>\n<p>but this is illegal</p>",
        "id": 547996771,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761845698
    },
    {
        "content": "<p>In Russia, it's the punctured nhds by default, so the chain rule requires the outer function to be continuous at a point.</p>",
        "id": 548004013,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761847856
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/547945780\">said</a>:</p>\n<blockquote>\n<p>Do other people here agree with <code>exp (-x) ‚ü∂[x ‚Üí ‚àû] 0</code>?</p>\n</blockquote>\n<p>If we were coming up with some notation for <code>Filter.Tendsto</code>, as we have considered numerous times before, I think we should consider the specification before introducing the notation.</p>\n<p>I think the key question is this: should it support <code>Tendsto f l l'</code> for arbitrary filters <code>l</code> and <code>l'</code>? If not, why not, and which special filters should it support?</p>\n<p>To explain why this is such a thorny question, consider the following. On the one hand, it would be quite easy to suggest that it should support <code>ùìù a</code>, <code>atTop</code>, <code>atBot</code> and <code>ùìù[‚â†] a</code>, but also <code>ùìù[&lt;] a</code> and <code>ùìù[&gt;] a</code> are quite common. Note that on paper, we only really have notation for the latter three as the filter on the domain; that is, we have no way to write <code>Tendsto arctan atTop (ùìù[&lt;] (œÄ / 2))</code>. Should the notation support these in the codomain? There's others that come up semi-frequently, such as taking the limit as <code>‚Äñz‚Äñ ‚Üí ‚àû</code>, which corresponds to the <code>cobounded</code> filter. There's also the issue that the notation <code>x ‚Üí ‚àû</code> for <code>atTop</code> isn't so great unless the function has <code>‚Ñù</code> or <code>‚Ñï</code> as it's domain (e.g., it's bad for <code>atTop : Filter (Finset ‚Ñï)</code>).</p>\n<p>Given the previous paragraph, in my mind it doesn't make too much sense to only support specific filters, because you either end up supporting very few, and the notation quickly becomes not usable, or you end up supporting many, and the notation becomes very cluttered or doesn't generalize well to functions with other domains / codomains. But I've never been able to come up with different notation I liked well enough that worked for arbitrary filters that was shorter than <code>Tendsto f l l'</code>.</p>\n<p>In my mind, the whole thing is a non-issue. When learning formalization, one must learn that filters are really the answer, even for paper mathematics, and at that point, why not stick to <code>Tendsto</code>?</p>",
        "id": 548010834,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761849971
    },
    {
        "content": "<p>Additionally, keeping the <code>ùìù</code> around really helps you to remember that you need your space to be Hausdorff (so that you can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=tendsto_nhds_unique#doc\">docs#tendsto_nhds_unique</a> to show that <code>a = b</code> when they are each limits of the same function).</p>",
        "id": 548011378,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761850151
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> <br>\n<a href=\"/user_uploads/3121/Ixm_gdxztj9rvBATVn1lsf2y/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Ixm_gdxztj9rvBATVn1lsf2y/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"719x111\" src=\"/user_uploads/thumbnail/3121/Ixm_gdxztj9rvBATVn1lsf2y/image.png/840x560.webp\"></a></div><p>This is the specification, and I think it covers enough cases, note that as you probably know we also have <a href=\"https://github.com/leanprover-community/mathlib4/blob/33b1098d29f8e518cf75f3787f93809926385252/Mathlib/Topology/Defs/Filter.lean#L133-L150\">syntax for special filters</a> which has worked fine</p>",
        "id": 548011421,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850169
    },
    {
        "content": "<p>The fact that we have special syntax for those filters is exactly one of the reasons I don't think we need this.</p>",
        "id": 548011659,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761850257
    },
    {
        "content": "<p>e.g., <code>Tendsto arctan atTop (ùìù[&lt;] (œÄ / 2))</code> is pretty readable, no?</p>",
        "id": 548011733,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761850288
    },
    {
        "content": "<p>surely <code>arctan x ‚ü∂[x ‚Üí ‚àû][&lt;] œÄ / 2</code> is <em>even more</em> readable</p>",
        "id": 548011857,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850341
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548010834\">said</a>:</p>\n<blockquote>\n<p>In my mind, the whole thing is a non-issue. When learning formalization, one must learn that filters are really the answer, even for paper mathematics, and at that point, why not stick to <code>Tendsto</code>?</p>\n</blockquote>\n<p>That's also my opinion.</p>",
        "id": 548011896,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761850357
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548010834\">said</a>:</p>\n<blockquote>\n<p>When learning formalization, one must learn that filters are really the answer, even for paper mathematics</p>\n</blockquote>\n<p>I think it helps to have more familiar notation, if we want to attract new undergrads and make the entry bar lower</p>",
        "id": 548012039,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850404
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548011857\">said</a>:</p>\n<blockquote>\n<p>surely <code>arctan x ‚ü∂[x ‚Üí ‚àû][&lt;] œÄ / 2</code> is <em>even more</em> readable</p>\n</blockquote>\n<p>Unless you recognize this notation, you can't be sure that <code>&lt;</code> applies to <code>pi / 2</code>.</p>",
        "id": 548012121,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761850426
    },
    {
        "content": "<p>that's a fair point, maybe we can have another notation for codomain</p>",
        "id": 548012239,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850469
    },
    {
        "content": "<p>how would you write it in paper maths? <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>œÄ</mi><mi mathvariant=\"normal\">/</mi><mn>2</mn><msup><mo stretchy=\"false\">)</mo><mo>‚àí</mo></msup></mrow><annotation encoding=\"application/x-tex\">(\\pi/2)^-</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0213em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span><span class=\"mord\">/2</span><span class=\"mclose\"><span class=\"mclose\">)</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7713em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">‚àí</span></span></span></span></span></span></span></span></span></span></span>?</p>",
        "id": 548012329,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850504
    },
    {
        "content": "<p>This was one of my points: we don't really allow that on paper.</p>",
        "id": 548012416,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761850538
    },
    {
        "content": "<p>I think that notation won't help. You need to learn about filters to deal with topology and analysis in Mathlib. Once you do, <code>Tendsto</code> is more readable than this notation.</p>",
        "id": 548012419,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761850539
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548012039\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548010834\">said</a>:</p>\n<blockquote>\n<p>When learning formalization, one must learn that filters are really the answer, even for paper mathematics</p>\n</blockquote>\n<p>I think it helps to have more familiar notation, if we want to attract new undergrads and make the entry bar lower</p>\n</blockquote>\n<p>Is notation for limits really the thing that prevents undergrads from learning formalization? I am really asking the question, I would be very surprised if the answer is yes. I started lean as an undergrad and compared to other things learning to use filters and <code>Tendsto</code> was a cake walk (and very interesting mathematically as well).</p>",
        "id": 548012508,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761850573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548011857\">said</a>:</p>\n<blockquote>\n<p>surely <code>arctan x ‚ü∂[x ‚Üí ‚àû][&lt;] œÄ / 2</code> is <em>even more</em> readable</p>\n</blockquote>\n<p>No, because it's not clear <code>x ‚Üí ‚àû</code> is even a filter.</p>",
        "id": 548012516,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761850574
    },
    {
        "content": "<p>I meant readable from the point of view of someone who doesn't know filters</p>",
        "id": 548012624,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850617
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548010834\">said</a>:</p>\n<blockquote>\n<p>we have no way to write <code>Tendsto arctan atTop (ùìù[&lt;] (œÄ / 2))</code></p>\n</blockquote>\n<p>perhaps not in an undergraduate course setting, but I often see this written as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>‚Å°</mo></mrow><mrow><mi>x</mi><mo>‚Üí</mo><mi mathvariant=\"normal\">‚àû</mi></mrow></msub><mi>arctan</mi><mo>‚Å°</mo><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>‚Üó</mo><mfrac><mi>œÄ</mi><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\lim_{x \\to \\infty} \\arctan(x) \\nearrow \\frac \\pi 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">x</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mtight\">‚àû</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">arctan</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">‚Üó</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0404em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6954em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></p>",
        "id": 548012659,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761850629
    },
    {
        "content": "<p>yeah i was indeed thinking about arrows</p>",
        "id": 548012699,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850641
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548012624\">said</a>:</p>\n<blockquote>\n<p>I meant readable from the point of view of someone who doesn't know filters</p>\n</blockquote>\n<p>but then you're just obfuscating what's really going on, making it more difficult when they try to use it or prove things about it.</p>",
        "id": 548012761,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761850666
    },
    {
        "content": "<p><code>‚Üó</code> could work for domain too</p>",
        "id": 548012779,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850671
    },
    {
        "content": "<p>A limit does not tend to something, using both <code>lim</code> and an arrow is nonsense.</p>",
        "id": 548012800,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761850679
    },
    {
        "content": "<p>right, my notation doesn't say <code>lim</code> at all</p>",
        "id": 548012856,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850698
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548012699\">said</a>:</p>\n<blockquote>\n<p>yeah i was indeed thinking about arrows</p>\n</blockquote>\n<p>that said, I did not say I like it :p</p>",
        "id": 548012965,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761850741
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548012624\">said</a>:</p>\n<blockquote>\n<p>I meant readable from the point of view of someone who doesn't know filters</p>\n</blockquote>\n<p>But if they don't know filters they will have a hard time doing formalization which involves limits anyway.</p>",
        "id": 548012972,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761850744
    },
    {
        "content": "<p>i mean if you're computing a limit like lim(f+g) = lim f + lim g you don't need filter for that</p>",
        "id": 548013169,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850804
    },
    {
        "content": "<p>also, at least the <em>statements</em> look nicer</p>",
        "id": 548013666,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761850956
    },
    {
        "content": "<p>What about some sort of <code>As x ‚Üí atTop, arctan x ‚Üí ùìù[&lt;] (œÄ / 2)</code>? I don't want to advocate for more notation, but I like that it seems more readable and also binds the <code>x</code> on the left, like most notations.</p>",
        "id": 548014932,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761851347
    },
    {
        "content": "<p>This is the kind of thing I've come up with in the past (it supports arbitrary filters), but I never decided it was any better than a bare <code>Tendsto</code>.</p>",
        "id": 548015276,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761851483
    },
    {
        "content": "<p>And if you really want, you could write the version <code>As x ‚Üí ‚àû, arctan x ‚Üó œÄ / 2</code>, but I think this obfuscates things.</p>",
        "id": 548015321,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761851499
    },
    {
        "content": "<p>Maybe we just need a notation for atTop? like <code>‚Üí‚àû</code>?</p>",
        "id": 548017034,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761852092
    },
    {
        "content": "<p>IMO readability of the docs should be a goal, I think <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=tendsto_fib_succ_div_fib_atTop#doc\">docs#tendsto_fib_succ_div_fib_atTop</a> looks pretty poor in the docs compared to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mrow><mi>lim</mi><mo>‚Å°</mo></mrow><mrow><mi>n</mi><mo>‚Üí</mo><mi mathvariant=\"normal\">‚àû</mi></mrow></msub><mfrac><mrow><mtext>fib¬†</mtext><mo stretchy=\"false\">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><mrow><mtext>fib¬†</mtext><mi>n</mi></mrow></mfrac><mo>=</mo><mi>œÜ</mi></mrow><annotation encoding=\"application/x-tex\">\\lim_{n \\to \\infty} \\frac{\\text{fib }(n+1)}{\\text{fib }n} = \\varphi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.355em;vertical-align:-0.345em;\"></span><span class=\"mop\"><span class=\"mop\">lim</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mrel mtight\">‚Üí</span><span class=\"mord mtight\">‚àû</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.01em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">fib¬†</span></span><span class=\"mord mathnormal mtight\">n</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.485em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">fib¬†</span></span><span class=\"mopen mtight\">(</span><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span><span class=\"mclose mtight\">)</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">œÜ</span></span></span></span>.<br>\nThough I'm not sure why the docs don't render ùìù and œÜ, which would also help for readability.</p>\n<p>Also I prefer a notation that'll work with calc (as Anatole mentioned) over readability.<br>\nMaybe something like <code>tsum</code> but for limits, perhaps called <code>tlim</code>?</p>",
        "id": 548017058,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761852099
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"873350\">Weiyi Wang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548017034\">said</a>:</p>\n<blockquote>\n<p>Maybe we just need a notation for atTop? like <code>‚Üí‚àû</code>?</p>\n</blockquote>\n<p>might I suggest <code>ùìù ‚àû</code></p>",
        "id": 548017136,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852134
    },
    {
        "content": "<p>please no.</p>",
        "id": 548017185,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761852148
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548017058\">said</a>:</p>\n<blockquote>\n<p>Though I'm not sure why the docs don't render ùìù and œÜ</p>\n</blockquote>\n<p>docs don't use scoped notation</p>",
        "id": 548017187,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852149
    },
    {
        "content": "<p>we could do <code>‚Üó‚àû</code></p>",
        "id": 548017261,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852179
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548017136\">said</a>:</p>\n<blockquote>\n<p>might I suggest <code>ùìù ‚àû</code></p>\n</blockquote>\n<p>That would be ultra confusing in situations when <code>‚àû</code> is actually a term of your type (e.g., <code>‚Ñù‚â•0‚àû</code> or <code>OnePoint</code>)</p>",
        "id": 548017440,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761852243
    },
    {
        "content": "<p>I think you use \\top for ENNReal?</p>",
        "id": 548017507,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852271
    },
    {
        "content": "<p>in the <code>ENNReal</code> scope <code>‚àû</code> is allowed, but we use <code>top</code> in declaration names (since it's just notation).</p>",
        "id": 548017586,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761852294
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"933054\">Snir Broshi</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548017058\">said</a>:</p>\n<blockquote>\n<p>Also I prefer a notation that'll work with calc (as Anatole mentioned) over readability.<br>\nMaybe something like <code>tsum</code> but for limits, perhaps called <code>tlim</code>?</p>\n</blockquote>\n<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=limUnder#doc\">docs#limUnder</a></p>",
        "id": 548017662,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761852317
    },
    {
        "content": "<p>is atTop the same filter as nhds \\top?</p>",
        "id": 548017692,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852328
    },
    {
        "content": "<p>No, in an <code>OrderTop</code>, <code>atTop = pure \\top</code>.</p>",
        "id": 548017786,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761852366
    },
    {
        "content": "<p>Kenny, you have yet to convince me that this is a problem that needs solving. I suggest you come up with a collection of examples (not from the docs because those don't render scoped notation and that's a separate issue) where the bare <code>Tendsto</code> is really bad and could be improved with notation.</p>",
        "id": 548018152,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761852500
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> Does Snir's example suffice?</p>",
        "id": 548018506,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852629
    },
    {
        "content": "<p>no, in the source this is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fib</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">fib</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">atTop</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">œÜ</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Please explain what's so terrible about that.</p>",
        "id": 548018648,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761852682
    },
    {
        "content": "<p>well firstly Tendsto goes at the beginning whereas in words we would say \".. tends to phi\", this is the same reason why we have notations for infix so we don't say <code>Add.add 3 4</code><br>\nand secondly there's the atTop thing which looks a bit disconnected from \"infinity\"<br>\nand then thirdly we don't really think about \"neighbourhood\" normally, at least not in the statement</p>",
        "id": 548018981,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761852805
    },
    {
        "content": "<p>Terrible is subjective, I'm not sure it can be explained</p>",
        "id": 548018987,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1761852807
    },
    {
        "content": "<p>I personally would vote for \"bare Tendsto is not an issue\". When I see the first Tendsto statement when learning, I quickly guessed what it means without reading much guide. On the other hand, I find myself often needing to consult doc for things with custom notation. Maybe because I came from programming and read bare functions more quickly</p>",
        "id": 548019023,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1761852821
    },
    {
        "content": "<p>(Meta: I think the bar should be \"does having notation improve things\", rather than \"is the current state of affairs bad\". :) )</p>",
        "id": 548019704,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761853076
    },
    {
        "content": "<p>well, which \"things\"? I think different people here are focusing on different things</p>",
        "id": 548019860,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761853138
    },
    {
        "content": "<p>Coming to a consensus on that is what this discussion is (partially) for. <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 548020021,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761853203
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548018981\">said</a>:</p>\n<blockquote>\n<p>well firstly Tendsto goes at the beginning whereas in words we would say \".. tends to phi\", this is the same reason why we have notations for infix so we don't say <code>Add.add 3 4</code></p>\n</blockquote>\n<p>This is the best reason I've heard you give (in my opinion). However, note that your approach means that we write everything in a (sort of) eta-expanded form. I'll note that we <em>do</em> take this approach in other places throughout the library, notably in integration, but not everywhere. So for instance, your notation would allow to talk about the function <code>fun x ‚Ü¶ (g ‚àò f) x</code>, but not <code>(g ‚àò f)</code>. This is enough of an issue that we regularly have both versions in various places throughout the library.</p>\n<blockquote>\n<p>and secondly there's the atTop thing which looks a bit disconnected from \"infinity\"</p>\n</blockquote>\n<p>yeah, well that's because <code>atTop</code> is more general, so I don't feel bad about this. In any case, that sounds like you want notation for <code>atTop</code>, which is a separate question.</p>\n<blockquote>\n<p>and then thirdly we don't really think about \"neighbourhood\" normally, at least not in the statement</p>\n</blockquote>\n<p>I'm not sure who \"we\" is here, but I would argue that \"we\" <em>should</em> think about neighborhoods. It was mentioned earlier in the thread that the \"lim\" notation common in undergraduate courses can either be <code>ùìù a</code> or <code>ùìù[‚â†] a</code>, and I think that not enough time is spent on this distinction.</p>",
        "id": 548020046,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761853212
    },
    {
        "content": "<p>(My only point is that we should probably lower the rhetorical burden from \"argue that the current state of affairs is bad\" to \"argue that notation is better\".)</p>",
        "id": 548020269,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761853292
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020046\">said</a>:</p>\n<blockquote>\n<p>I'll note that we <em>do</em> take this approach in other places throughout the library</p>\n</blockquote>\n<p>in many cases in fact, exists, forall, Finset.sum</p>",
        "id": 548020285,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761853297
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"548935\">Thomas Murrills</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020269\">said</a>:</p>\n<blockquote>\n<p>argue that notation is better</p>\n</blockquote>\n<p>so firstly we can separate out the binder which I think is a good thing, i.e. from<br>\n<code>fun n ‚Ü¶ (fib (n + 1) / fib n : ‚Ñù)</code><br>\nto<br>\n<code>(fib (n + 1) / fib n : ‚Ñù) ‚ü∂[n ‚Üí ..] ..</code><br>\nsince we separate out the binder in other places as well (e.g. Finset.sum)</p>\n<p>and then having notation for atTop is also a good thing (is \"atTop\" even used in paper maths?)</p>\n<p>and then not having to write <code>ùìù</code> twice is also good (we know it's about neighbourhood already)</p>",
        "id": 548020931,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761853542
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020931\">said</a>:</p>\n<blockquote>\n<p>so firstly we can separate out the binder which I think is a good thing</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020046\">said</a>:</p>\n<blockquote>\n<p>So for instance, your notation would allow to talk about the function <code>fun x ‚Ü¶ (g ‚àò f) x</code>, but not <code>(g ‚àò f)</code>. This is enough of an issue that we regularly have both versions in various places throughout the library.</p>\n</blockquote>\n<p>To address both of these: how common is <code>Tendsto /- (expression not starting with fun) -/ ...</code>, actually, in practice? <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 548021772,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761853910
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020931\">said</a>:</p>\n<blockquote>\n<p>and then having notation for atTop is also a good thing (is \"atTop\" even used in paper maths?)</p>\n</blockquote>\n<p>I agree notation would be good for this! :) (Although it's technically a separate topic--surely any notation should not be limited to <code>TendsTo</code>!)</p>",
        "id": 548021978,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761853992
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020046\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548018981\">said</a>:</p>\n<blockquote>\n<p>well firstly Tendsto goes at the beginning whereas in words we would say \".. tends to phi\", this is the same reason why we have notations for infix so we don't say <code>Add.add 3 4</code></p>\n</blockquote>\n<p>This is the best reason I've heard you give (in my opinion).</p>\n</blockquote>\n<p>We move lots of predicates that make more sense as infix to the start, e.g., <code>HasSum</code>, <code>HasDerivAt</code> etc.</p>",
        "id": 548022030,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1761854018
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548020931\">said</a>:</p>\n<blockquote>\n<p>and then not having to write <code>ùìù</code> twice is also good (we know it's about neighbourhood already)</p>\n</blockquote>\n<p>I'm not 100% sure readability goes up in this case just because redundant characters go down. I think introducing non-uniformity into ways to say things can have a cognitive cost; this cost can indeed be offset by the fact that the new version is \"cleaner\", or if it's used enough, or if it's obvious enough, though. Similarly, removing these characters obfuscates what's \"really going on\", so there's an extra layer of indirection we're demanding from the reader, and indirection introduces its own issues with comprehension and uptake...</p>\n<p>I'm also very pro-notation, but I do think it's worth being careful about the costs. I think it's easy to end up creating a labyrinth! <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 548023432,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761854528
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"548935\">Thomas Murrills</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548021772\">said</a>:</p>\n<blockquote>\n<p>To address both of these: how common is <code>Tendsto /- (expression not starting with fun) -/ ...</code>, actually, in practice? <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>\n</blockquote>\n<p>Well, I gave <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.Tendsto.comp#doc\">docs#Filter.Tendsto.comp</a> as an example, but there are also things like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Real.tendsto_exp_atBot#doc\">docs#Real.tendsto_exp_atBot</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Real.tendsto_exp_atBot_nhdsGT#doc\">docs#Real.tendsto_exp_atBot_nhdsGT</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Real.tendsto_sin_pi_div_two#doc\">docs#Real.tendsto_sin_pi_div_two</a> and plenty of others. In contrast, we also have the other form: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Filter.Tendsto.mul#doc\">docs#Filter.Tendsto.mul</a>.</p>\n<p>In all honesty, it's probably not <em>too</em> much of an issue as it would only potentially break a few <code>rw</code>s, but probably not <code>simp</code>s. It was just something I noticed.</p>",
        "id": 548024845,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761855091
    },
    {
        "content": "<p>If it's just an expression issue rather than a readability issue, we could of course just eta-reduce the resulting expression during elaboration--I'm not sure if this would cause other confusing behavior, but if we go with eta-expanded notation, it could be worth trying...</p>",
        "id": 548027923,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761856231
    },
    {
        "content": "<p>Tangent, but can you think of existing \"eta-expanded\" notation where that causes an issue? Maybe it would be worth trying to eta-reduce in those notations too? <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 548028330,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761856372
    },
    {
        "content": "<p>Thomas, I'm not sure where it is, but see the naming convention discussion for <code>mul</code> vs. <code>fun_mul</code>.</p>",
        "id": 548028472,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761856416
    },
    {
        "content": "<p><a href=\"#narrow/channel/287929-mathlib4/topic/Convention.20for.20.60f.20*.20g.60.20and.20.2F.20or.20.60fun.20x.20.E2.86.A6.20f.20x.20*.20g.20x.60/with/501264041\">This</a> discussion?</p>",
        "id": 548028676,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761856503
    },
    {
        "content": "<p>It's not about notation specifically, but just about the difference causing some issues.</p>",
        "id": 548028905,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761856576
    },
    {
        "content": "<p>(Note also that <code>fun x ‚Ü¶ f x * g x</code> is not <em>exactly</em> the eta expanded form of <code>f * g</code>, which would be <code>fun x ‚Ü¶ (f * g) x</code>, so there's an extra rewrite involved)</p>",
        "id": 548029117,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761856657
    },
    {
        "content": "<p>Let's call an expression like <code>fun x ‚Ü¶ f x * g x</code> a \"nontrivially\" eta-expanded form of <code>f * g</code>; after skimming the thread, am I right in thinking that this is an issue for <code>TendsTo</code> regardless of any notation, and that notation might only <em>encourage</em> nontrivial eta-expansions, rather than actually pose a problem per se?</p>",
        "id": 548029520,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1761856829
    },
    {
        "content": "<blockquote>\n<p>There's also the issue that the notation <code>x ‚Üí ‚àû</code> for <code>atTop</code> isn't so great unless the function has <code>‚Ñù</code> or <code>‚Ñï</code> as it's domain (e.g., it's bad for <code>atTop : Filter (Finset ‚Ñï)</code>).</p>\n</blockquote>\n<p>I think <code>x ‚Üí ‚ä§</code> would be the obvious choice here, no? I think most anyone actually working with this notation will at least understand that <code>‚ä§</code> is a less fancy way of writing <code>‚àû</code>. (Likewise for -‚àû / bottom)</p>",
        "id": 548030648,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1761857237
    },
    {
        "content": "<p>What is <code>x</code>? My point is that if we have notation for <code>atTop</code>, it should work anywhere, not just in <code>Tendsto</code> expressions where the variable is captured by some notation.</p>",
        "id": 548031901,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1761857784
    },
    {
        "content": "<p>In 2018 I was guilty of introducing the stupid notation that Yury mentioned and got removed in <a href=\"https://github.com/leanprover-community/mathlib3/pull/15696\">https://github.com/leanprover-community/mathlib3/pull/15696</a>. I was ignorant about limits at that time, and I thought it would make things easier. Then it became more and more embarrassing and confusing until it was removed. I think we shouldn‚Äôt redo a larger scale version of that mistake. Sometimes I even find it embarrassing that we have <code>Tendsto œÜ F G</code> instead of simply unobfuscate it and write the intuitive <code>map œÜ F ‚â§‚ÄØG</code>.</p>",
        "id": 548049832,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761867147
    },
    {
        "content": "<p>And indeed there is no denying that anyone who wants to use limits in Mathlib need to learn at least a bit of filter theory. Using a notation to postpone that need for a couple of minutes is definitely not worth all the downsides of this.</p>",
        "id": 548049926,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761867219
    },
    {
        "content": "<p>The question is completely different if you teach first year students using Lean. There you either need to completely redefine limits to use more elementary definitions or indeed find a way to hide filters completely.</p>",
        "id": 548050013,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761867273
    },
    {
        "content": "<p>though <code>map œÜ F ‚â§‚ÄØG</code> might be more intuitive (and it's not necessarily more intuitive to everyone!), we could also just as well write <code>F ‚â§‚ÄØcomap œÜ G</code>, so I think having <code>Tendsto œÜ F‚ÄØG</code> is good to standardize it</p>",
        "id": 548050056,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761867304
    },
    {
        "content": "<p>And the long debate about neighborhoods vs punctured neighborhoods is part of the reasons why filters are so much cleaner. There is no ambiguity and the composition theorem is clear.</p>",
        "id": 548050159,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761867354
    },
    {
        "content": "<p>Aaron, this is indeed one reason to have a definition, but also constantly reproving <code>Tendsto.comp</code> would be tiresome.</p>",
        "id": 548050333,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761867449
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20limit/near/548050333\">said</a>:</p>\n<blockquote>\n<p>Aaron, this is indeed one reason to have a definition, but also constantly reproving <code>Tendsto.comp</code> would be tiresome.</p>\n</blockquote>\n<p>what do you mean constantly? don't we only prove it once?</p>",
        "id": 548051036,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761867914
    },
    {
        "content": "<p>Sure, we prove it only once. And of course we could state it without the definition (just unfold the definition in the current statement), but the statement would be longer to mentally parse. Alternatively we could inline the proof since it‚Äôs so short. But it‚Äôs used so often that it would be very tiresome.</p>",
        "id": 548051204,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1761868039
    }
]