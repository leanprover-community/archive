[
    {
        "content": "<p>Is there any possibility we could make a <code>WellOrder</code> class abbrev for <code>LinearOrder</code> + <code>WellFoundedLT</code>?</p>",
        "id": 485171028,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732921649
    },
    {
        "content": "<p>I feel like this structure is really common, but simultaneously it's not obvious that this is the \"correct\" way to write it</p>",
        "id": 485171095,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732921697
    },
    {
        "content": "<p>Using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsWellOrder#doc\">docs#IsWellOrder</a> often ends up being a bit of a footgun, for all the reasons we don't usually use unbundled relations</p>",
        "id": 485171120,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732921730
    },
    {
        "content": "<p>I remember that there was some discussion about using the class abbrev feature but I don't remember if that came to a clear conclusion</p>",
        "id": 485171648,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732922225
    },
    {
        "content": "<p>I think it's really not that common in most of mathematics. You just happen to work on set theory, where it gets used a lot. That being said, I am open to being wrong here.</p>",
        "id": 485174154,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1732924496
    },
    {
        "content": "<p>Fair enough, \"really common\" is relative</p>",
        "id": 485174190,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732924537
    },
    {
        "content": "<p>There's definitely a bunch of places where this gets used, though</p>",
        "id": 485174270,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732924591
    },
    {
        "content": "<p>Are class abbrevs something we're fine with using liberally? Or would this have to be a <em>really</em> common typeclass for it to make sense?</p>",
        "id": 485174304,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1732924624
    },
    {
        "content": "<p>Or actually, is there any policy on class abbrevs to begin with?</p>",
        "id": 485556626,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1733122898
    },
    {
        "content": "<p>I think we avoid <code>class abbrev</code> almost everywhere because it creates instances in <em>both</em> directions, and we suspect that would be bad for performance. At least, I believe <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> thinks so.</p>",
        "id": 485560510,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1733124842
    },
    {
        "content": "<p>We could try using it for something prominent like <code>NonUnitalAlgebra</code> and see what the cost is</p>",
        "id": 485562649,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733125797
    },
    {
        "content": "<p>But yes, my impression is that \"Lean 4 can handle typeclass loops\" is a simplification that doesn't apply to some of mathlib's more-dependent typeclasses</p>",
        "id": 485562796,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1733125867
    }
]