[
    {
        "content": "<p>I wonder if something is missing in</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">existsUnique_equiv</span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hb</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">≡</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ZMOD</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Since the word \"Unique\" is in the name, should the theorem have <code>∃! (z : ℤ)</code>?</p>",
        "id": 576116889,
        "sender_full_name": "Kevin Cheung",
        "timestamp": 1772137496
    },
    {
        "content": "<p>I think it should be renamed to <code>exists_unique_equiv</code> like it was in mathlib3, and it's called <code>existsUnique</code> only due to some overzealous translating in the port</p>",
        "id": 576132845,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1772144021
    },
    {
        "content": "<p>I don't see what the <code>unique</code> part is referring to, this only seems to be proving existence within certain bounds.</p>",
        "id": 576133124,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1772144153
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/About.20the.20naming.20of.20.60Int.2EexistsUnique_equiv.60/near/576133124\">ha dicho</a>:</p>\n<blockquote>\n<p>I don't see what the <code>unique</code> part is referring to, this only seems to be proving existence within certain bounds.</p>\n</blockquote>\n<p>I get your point, but I'm not sure if <code>exists_nonneg_lt_equiv</code> or whatnot would be a better name.</p>",
        "id": 576167169,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1772160997
    },
    {
        "content": "<p>Why don't we upgrade this to a existsUnique lemma, though? It is true, right?</p>",
        "id": 576167392,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1772161186
    },
    {
        "content": "<p>I think the idea is we don't like writing <code>existsUnique</code> lemmas because most of them hint at a missing function (in this case, that function is just <code>a % b</code>)</p>",
        "id": 576167576,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1772161292
    },
    {
        "content": "<p>Also, it should be <code>modEq</code>, not <code>equiv</code>.</p>",
        "id": 576172448,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772164377
    },
    {
        "content": "<p>I think it is useful to have a result that asserts such a unique integer modulo b exists.</p>",
        "id": 576212034,
        "sender_full_name": "Kevin Cheung",
        "timestamp": 1772183868
    },
    {
        "content": "<p>I think it would be more useful to have two results, one saying existence and another one saying uniqueness. We typically don't have theorems in the library of the form \"X and Y\".</p>",
        "id": 576214830,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1772184725
    },
    {
        "content": "<p>Something like this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">≡</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ZMOD</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 576216244,
        "sender_full_name": "Kevin Cheung",
        "timestamp": 1772185148
    },
    {
        "content": "<p>I think that is a consequence of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Int.ext_ediv_modEq#doc\">docs#Int.ext_ediv_modEq</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Int.ediv_eq_zero_of_lt#doc\">docs#Int.ediv_eq_zero_of_lt</a>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">≡</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ZMOD</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ext_ediv_modEq</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">ediv_eq_zero_of_lt</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>",
        "id": 576217137,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1772185419
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"397075\">Kevin Cheung</span> <a href=\"#narrow/channel/287929-mathlib4/topic/About.20the.20naming.20of.20.60Int.2EexistsUnique_equiv.60/near/576216244\">said</a>:</p>\n<blockquote>\n<p>Something like this?</p>\n</blockquote>\n<p>Yes except that we don't usually have hypotheses of the form A and B either :-) (we just have more hypotheses)</p>",
        "id": 576296597,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1772208233
    }
]