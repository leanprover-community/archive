[
    {
        "content": "<p>Is a definition <code>IsOpenIn s t = IsOpen (s ↓∩ t)</code> desirable?</p>",
        "id": 477539053,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729207638
    },
    {
        "content": "<p>Arguably, this is quite a common notion in topology, and so it makes sense to provide a specialized API for it.</p>",
        "id": 477539226,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729207771
    },
    {
        "content": "<p>But on the other hand, most theorems about this new API are one-liners reducing to theorems about <code>IsOpen</code>, see <a href=\"https://github.com/leanprover-community/mathlib4/pull/17854\">#17854</a>.</p>",
        "id": 477539304,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729207804
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span></p>",
        "id": 477539417,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729207911
    },
    {
        "content": "<p>In the areas of maths that I move around in, I don't think I encounter this notion very often. But I agree that it appears at least in courses on point set topology.</p>",
        "id": 477591795,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1729236396
    },
    {
        "content": "<p>I think this would only lead to either frustration or huge duplication. What precisely are you trying to formalize and lead you to feel this is missing?</p>",
        "id": 477608917,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1729241870
    },
    {
        "content": "<p>The original motivation is <a href=\"https://github.com/leanprover-community/mathlib4/pull/16710\">#16710</a>, where a bunch of topological predicates are introduced for the order topology of <code>o</code> where <code>o : Ordinal</code></p>",
        "id": 477609203,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729241962
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Relative.20open.20sets/near/477608917\">said</a>:</p>\n<blockquote>\n<p>I think this would only lead to either frustration or huge duplication. What precisely are you trying to formalize and lead you to feel this is missing?</p>\n</blockquote>\n<p>Yeah, I think you're right.</p>",
        "id": 477609537,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729242057
    },
    {
        "content": "<p>The topological API is just way too vast to try and build something in parallel to it</p>",
        "id": 477609655,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729242089
    },
    {
        "content": "<p>Why does <a href=\"https://github.com/leanprover-community/mathlib4/pull/16710\">#16710</a> need relative closed sets to begin with? I don't remember what the motivation for not just working with closed sets of ordinals was</p>",
        "id": 477609726,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729242112
    },
    {
        "content": "<p>This is something I've had in mind for some time : we have a lot of \"within\" variants of things in Mathlib, should that apply to open sets ? I haven't fully made my opinion, but the fact that we haven't been in desperate need for it yet is good evidence that maybe it's not as crucial as one would expect at first.</p>",
        "id": 477610576,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1729242375
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Relative.20open.20sets/near/477608917\">said</a>:</p>\n<blockquote>\n<p>I think this would only lead to either frustration or huge duplication. What precisely are you trying to formalize and lead you to feel this is missing?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"697518\">@Hannah Scholz</span> has a formalization of the proposition \"<code>(C : Set X)</code> is a CW-complex\", and has to deal a lot with the statements \"<code>A</code> is closed in <code>C</code>\" or \"<code>A</code> is closed in the <code>n</code>-skeleton of <code>C</code>\". In <a href=\"#narrow/channel/287929-mathlib4/topic/two.20definitions.20of.20CW-complexes\">this thread</a> I explain some more about the definition of CW complex we use. </p>\n<p>I completely forgot we can now write <code>IsClosed (s ↓∩ t)</code>. Instead, she has often been writing statements of the form <code>∃ B, IsClosed B ∧ B ∩ C = A ∩ C</code>, which are very cumbersome to work with. Therefore I was already planning to suggest defining <code>IsOpenIn</code>/<code>IsClosedIn</code> myself. The fact that this turns out to be useful in a completely different field (ordinal numbers) given an indication we need good API for it.</p>\n<p>As I mentioned in a comment of <a href=\"https://github.com/leanprover-community/mathlib4/pull/17854\">#17854</a>, it is possible that we can already achieve this with <code>IsClosed (s ↓∩ t)</code>.</p>",
        "id": 477627418,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729248304
    },
    {
        "content": "<p>Just noting that, even before we had the shiny <code>s ↓∩ t</code> notation, the easier way to do this was to talk about the preimage under the inclusion. This has the huge advantage of working for \"inclusions\" which are not actually inclusions (e.g we can express that a subset of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">C</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{C}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">C</span></span></span></span> is open in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{R}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">R</span></span></span></span>).</p>",
        "id": 477628433,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1729248716
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Relative.20open.20sets/near/477609726\">said</a>:</p>\n<blockquote>\n<p>Why does <a href=\"https://github.com/leanprover-community/mathlib4/pull/16710\">#16710</a> need relative closed sets to begin with? I don't remember what the motivation for not just working with closed sets of ordinals was</p>\n</blockquote>\n<p>Mainly that the set of ordinals can be unbounded below <code>o</code>, so to talk about being closed in <code>Ordinal</code> you would have to manually add it: <code>IsClosed ((S ∩ Iio o) ∪ {o})</code> means <code>S</code> is closed below <code>o</code>.</p>",
        "id": 477783422,
        "sender_full_name": "Nir Paz",
        "timestamp": 1729323848
    },
    {
        "content": "<p>My question was more, what are the mathematics that motivate this?</p>",
        "id": 477784203,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729324376
    },
    {
        "content": "<p>(I don't doubt they exist, I'm just curious)</p>",
        "id": 477784241,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729324412
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Relative.20open.20sets/near/477784203\">said</a>:</p>\n<blockquote>\n<p>My question was more, what are the mathematics that motivate this?</p>\n</blockquote>\n<p>Oh, you mean only work with universal clubs? A lot of results would really be the same, just a little less convenient, for example the intersection of <code>k</code> many clubs that have <code>k</code> as an accumulation point would be a club that has <code>k</code> as an accumulation point.</p>\n<p>But I don't see an easy way to talk about stationary sets below an ordinal for example, since a stationary set with an accumulation point <code>k</code> isn't \"stationary below <code>k</code>\". But regressive functions are ubiquitous in infinite combinatorics, so you'd be missing that.</p>\n<p>I guess more generally: the definition of clubs happens to transfer nicely from universal to local (by intersecting at a limit point), but when dealing with properties that apply to any filter and don't have to do with the specifics of clubs, like stationary sets, you don't get much information about what happens at cardinals below univ.</p>",
        "id": 478134242,
        "sender_full_name": "Nir Paz",
        "timestamp": 1729539045
    },
    {
        "content": "<p>This conversation seem to have stalled. The two options are:<br>\n(1) define predicate <code>IsOpenIn</code> and API for it<br>\n(2) use <code>IsOpen (s ↓∩ t)</code> consistently instead (and maybe some scattered lemmas about it).</p>\n<p>I think both options are fine. Let's do a quick poll, and decide to go with the majority in (say) 2 days, even if it is a slim majority.</p>",
        "id": 478456432,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729677269
    },
    {
        "content": "<p>/poll What to do with relative open (and closed) sets<br>\ndefine predicate <code>IsOpenIn s t</code> and API for it<br>\nuse <code>IsOpen (t ↓∩ s)</code></p>",
        "id": 478456615,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729677327
    },
    {
        "content": "<p>Why don’t you include the option “keep using the inverse image under inclusion”?</p>",
        "id": 478543972,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1729703348
    },
    {
        "content": "<p>If we do define the predicate, what other topological notions have to be relativized?</p>",
        "id": 478546629,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729704255
    },
    {
        "content": "<p>Is it just IsOpen and IsClosed?</p>",
        "id": 478546727,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729704286
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Relative.20open.20sets/near/478543972\">said</a>:</p>\n<blockquote>\n<p>Why don’t you include the option “keep using the inverse image under inclusion”?</p>\n</blockquote>\n<p>Polls always allow you to add options, please add that option if you think that is the best solution.</p>",
        "id": 478570901,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729712624
    },
    {
        "content": "<p>However, <code>_ ↓∩ _</code> is just notation for that, so  it will be syntactically the same, and is a lot shorter to write (but perhaps more confusing when you're new to it).</p>",
        "id": 478571391,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1729712809
    },
    {
        "content": "<p>yeah, I find it a bit silly to write down the preimage explicitly when we have notation that does exactly that</p>",
        "id": 478571720,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729712945
    }
]