[
    {
        "content": "<p>My PR builds and passes linter locally, but I am getting this CI error message at the build stage which I don't understand. Anyone who knows what this says and how it can be resolved?</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/19133718169/job/54680513835?pr=30373\">https://github.com/leanprover-community/mathlib4/actions/runs/19133718169/job/54680513835?pr=30373</a></p>\n<blockquote>\n<p>NIGHTLY_TESTING_REPO: leanprover-community/mathlib4-nightly-testing</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/19133718169/job/54680513835?pr=30373#step:40:613\">https://github.com/leanprover-community/mathlib4/actions/runs/19133718169/job/54680513835?pr=30373#step:40:613</a>/home/lean/actions-runner/_work/_temp/20530572-d485-4183-8d45-f23b065f2dc1.sh: line 1: master-branch/scripts/lean-pr-testing-comments.sh: No such file or directory</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/19133718169/job/54680513835?pr=30373#step:40:614\">https://github.com/leanprover-community/mathlib4/actions/runs/19133718169/job/54680513835?pr=30373#step:40:614</a>Error: Process completed with exit code 127.</p>\n</blockquote>",
        "id": 554065829,
        "sender_full_name": "Sina Hazratpour",
        "timestamp": 1762428727
    },
    {
        "content": "<p>I haven't seen this error either. Interesting. Did you try merging <code>master</code>?</p>",
        "id": 554067864,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762429370
    },
    {
        "content": "<p>(That's the analogue of \"did you reboot your computer\". Sorry if you already did, but let's exclude this first.)</p>",
        "id": 554067909,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762429387
    },
    {
        "content": "<p>Thanks for taking a look into this. I assume you mean the <code>master</code> branch of my mathlib fork; by merging do you mean <code>git fetch</code> and then <code>git pull</code> on the branch of this PR (<code>lccc-section</code>)? If so, I have done this.</p>",
        "id": 554068681,
        "sender_full_name": "Sina Hazratpour",
        "timestamp": 1762429637
    },
    {
        "content": "<p>No, you need to merge master from the upstream repo! You can do this by <code>git fetch upstream</code> followed by <code>git merge upstream/master</code> (assuming the upstream repo is named \"upstream\" in you local setup, which should normally be the case)</p>",
        "id": 554068964,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1762429735
    },
    {
        "content": "<p>(the commands above need to be performed from your local repo while the branch of the PR is checked out)</p>",
        "id": 554069212,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1762429821
    },
    {
        "content": "<p>interesting! I basically never do this (and this CI issue never arises in other PRs), since i thought my <code>master</code> branch automatically tracks <code>upstream</code> following the step 4 of this guide: <br>\n<a href=\"https://leanprover-community.github.io/contribute/git.html\">https://leanprover-community.github.io/contribute/git.html</a><br>\nBut, i guess it does not hurt trying in this case.</p>",
        "id": 554069642,
        "sender_full_name": "Sina Hazratpour",
        "timestamp": 1762429963
    },
    {
        "content": "<p>Oh, right, if your local master branch tracks upstream/master it should be fine. (though in this case I think that you may still need to <code>git pull</code> while master is checked out from time to time to update it, as <code>git fetch</code> alone will not write anything to your local copy of <code>master</code>, when doing explicitly <code>git merge upstream/master</code> you are sure that you are merging the one from mathlib)</p>",
        "id": 554069879,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1762430044
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"286014\">@Robin Carlier</span>, are you saying that your local master branch tracks your fork's master? Is there any reason one would ever do this (instead of tracking the original repo's master branch)?</p>",
        "id": 554072166,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1762430713
    },
    {
        "content": "<p>No? My local master tracks upstream? You’re right that you usually don’t want to do this.</p>",
        "id": 554072521,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1762430822
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"286014\">@Robin Carlier</span> <br>\n<code>git merge upstream/master</code> did it though – the PR passed CI – which leaves me more confused since i thought upstream changes were being tracked automatically, and I think they were not, since <code>git merge upstream/master</code> actually pulled some new stuff. <br>\nI did the step 4 of the guide again, namely <code>git branch --set-upstream-to=upstream/master master</code>. Let's hope this issue never arises again.</p>",
        "id": 554073630,
        "sender_full_name": "Sina Hazratpour",
        "timestamp": 1762431171
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/A.20CI.20error.20message.20I.20don't.20understand/near/554072166\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"286014\">Robin Carlier</span>, are you saying that your local master branch tracks your fork's master? Is there any reason one would ever do this (instead of tracking the original repo's master branch)?</p>\n</blockquote>\n<p>I do this, because I personally find it an easier to remember delineation between the fork and upstream.</p>",
        "id": 554073951,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762431283
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"420917\">Sina Hazratpour</span> <a href=\"#narrow/channel/287929-mathlib4/topic/A.20CI.20error.20message.20I.20don't.20understand/near/554073630\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"286014\">Robin Carlier</span> <br>\n<code>git merge upstream/master</code> did it though – the PR passed CI – which leaves me more confused since i thought upstream changes were being tracked automatically, and I think they were not, since <code>git merge upstream/master</code> actually pulled some new stuff. <br>\nI did the step 4 of the guide again, namely <code>git branch --set-upstream-to=upstream/master master</code>. Let's hope this issue never arises again.</p>\n</blockquote>\n<p>The diff for the last commit (merging the remote branch) looks pretty small so it’s safe to assume the tracking was working and you just picked up the few PRs that were merged recently. So it was maybe just a transient error <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>\n<p>(I usually do <code>merge upstream/master</code> explicitly instead of relying on the tracking just out of habit, so that I don’t have to bother if my local master is behind the upstream one because I didn’t <code>git pull</code> on it for a while, but it’s really a matter of taste.)</p>",
        "id": 554075317,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1762431742
    },
    {
        "content": "<p>I think this is probably related to <a href=\"https://github.com/leanprover-community/mathlib4/pull/31316\">#31316</a>. I'll push a fix shortly.</p>",
        "id": 554106495,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1762439914
    },
    {
        "content": "<p>I can confirm the error doesn't go away on merging master: <a href=\"https://github.com/leanprover-community/mathlib4/pull/22039\">#22039</a></p>",
        "id": 554107157,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1762440020
    },
    {
        "content": "<p>I've used my admin powers to push <a href=\"https://github.com/leanprover-community/mathlib4/pull/31329\">#31329</a>. This should hopefully fix things for PRs from forks after it lands on <code>master</code> (merging <code>master</code> shouldn't be necessary).</p>",
        "id": 554110573,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1762440690
    }
]