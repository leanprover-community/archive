[
    {
        "content": "<p>Hi everyone! I'm a senior at Brown, and recently finished Rob Lewis' class on formal proof and verification. For my course project, I formalized the Kochen-Specker paradox (which is used to prove the <a href=\"https://www.ams.org/notices/200902/rtx090200226p.pdf\">Strong Free Will Theorem</a>) using Lean4 &amp; Mathlib.</p>\n<p>I would love to add this to Mathlib if that is of interest, and am hoping to get some advice on this here. My code for the project is <a href=\"https://github.com/Mr-vedant-gupta/free_will_lean/tree/master\">**here**</a>.</p>\n<p>In writing this project, I had to prove some helper lemmas that I was surprised to not find in Mathlib (my apologies if I missed something here!). I'm listing these below to gauge whether they would be helpful additions:</p>\n<p>1 - The cross product of orthogonal unit vectors is a unit vector (more generally, the relation between the norms of vectors and the norm of their cross product)<br>\n2 - Transformation of vectors under a member of an orthogonal group preserves norms and dot products.</p>",
        "id": 492567221,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736363054
    },
    {
        "content": "<p>I think the helper lemmas definitely should go into mathlib. For the main result - Wikipedia states it in a very quantum physics way, not sure if that's an issue / if that's also the case for your formalisation</p>",
        "id": 492590607,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1736373653
    },
    {
        "content": "<p>I see, thanks! For the main result, I use the statement at the bottom of page 227 in <a href=\"https://www.ams.org/notices/200902/rtx090200226p.pdf\">this</a> paper by Simon Kochen, which makes sense independent of any physics concepts. This version states that:</p>\n<p><em>It’s impossible to color every point on the surface of a sphere using only two colors (red and blue) in such a way that, for any three points that are mutually perpendicular wrt the center (like the tips of the x, y, and z axes), exactly one point is red and the other two are blue.</em></p>",
        "id": 492593227,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736375022
    },
    {
        "content": "<p>Would this theorem (as stated above) be an appropriate addition to Mathlib?</p>",
        "id": 492840048,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736465530
    },
    {
        "content": "<p>Regarding the helper lemmas suggested:</p>\n<ul>\n<li>We don't have much at all on cross products (more could certainly be added), they were just added to mathlib to check off an entry from the undergrad list.</li>\n<li>For transformations under a member of an orthogonal group, maybe this is about there being multiple ways to express the same thing. If your orthogonal group is defined using <code>LinearIsometryEquiv</code> on an inner product space, we already have that it preserves norms and inner product; I suppose you're using something else such as <code>Matrix.orthogonalGroup</code>?</li>\n</ul>",
        "id": 492863438,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1736476940
    },
    {
        "content": "<p>Yup I am using <code>Matrix.orthogonalGroup</code>, I didn't realize that <code>LinearIsometryEquiv</code> would have given me more helper lemmas at the time.<br>\nI would love to contribute the cross product lemma and the Kochen-Specker paradox (if appropriate) to Mathlib. I haven't contributed to Mathlib before, so any guidance would be very appreciated!</p>",
        "id": 493115258,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736618563
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Adding.20proof.20of.20Kochen-Specker.20paradox.20to.20Mathlib.3F\">#new members &gt; Adding proof of Kochen-Specker paradox to Mathlib?</a> by <span class=\"user-mention silent\" data-user-id=\"110596\">Rob Lewis</span>.</p>",
        "id": 493669181,
        "sender_full_name": "Notification Bot",
        "timestamp": 1736888314
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"768912\">@Vedant Gupta</span> and I just had a quick chat about this and I'm moving this thread to <a class=\"stream\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4\">#mathlib4</a> for the sake of visibility!</p>",
        "id": 493669288,
        "sender_full_name": "Rob Lewis",
        "timestamp": 1736888355
    },
    {
        "content": "<p>The paradox itself, as stated above, could perhaps go in <code>Archive</code>?</p>",
        "id": 493685092,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736895454
    },
    {
        "content": "<p>I see! I think a lemma proving that the cross product of two vectors (a, b) has norm |a||b|sin(theta) would be a useful addition to Mathlib. Should I open a PR to add that to the existing CrossProduct.Lean file in Mathlib?</p>\n<p>And then if/when that goes through I could open a PR to add Kochen-Specker to the Archive folder?</p>",
        "id": 494012887,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736973848
    },
    {
        "content": "<p>Maybe not into the existing CrossProduct.lean file since that would drastically increase the imports, I think. But it would be good to have this result and also the formula for the dot product.</p>",
        "id": 494024977,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1736978533
    },
    {
        "content": "<p>how about I make a new file in the LinearAlgebra folder?</p>",
        "id": 494026195,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736979044
    },
    {
        "content": "<p>Could I please get write access to non-master branches of Mathlib? My github username is <code>Mr-vedant-gupta</code></p>",
        "id": 494039492,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1736986019
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"768912\">@Vedant Gupta</span>, please check your (email) inbox.</p>",
        "id": 494040535,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736986599
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 494685721,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1737325218
    },
    {
        "content": "<p>I've made a <a href=\"https://github.com/leanprover-community/mathlib4/pull/20920\">PR</a>. <span class=\"user-mention\" data-user-id=\"253861\">@Thomas Browning</span>  I've added the code to the existing <code>CrossProduct.lean</code> file as I only use two additional imports (though this was sufficient to trigger the <code> large-imports </code> flag). Also, I believe the corresponding formula for dot products already exists in Mathlib (see <code>Geometry/Euclidean/Angle/Unoriented/Basic.lean</code>). Please let me know if I should still shift the cross product norm result to a separate file.</p>",
        "id": 495108629,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1737480326
    },
    {
        "content": "<p>Pro-tip: You can write <code>#20920</code> and have Zulip display it as <a href=\"https://github.com/leanprover-community/mathlib4/pull/20920\">#20920</a></p>",
        "id": 495109588,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1737480607
    },
    {
        "content": "<p>It shouldn't go in <code>CrossProduct.lean</code> since that requires importing a lot of analysis into <code>CrossProduct.lean</code> (hence the large-import flag).  I'm not sure where the best place for it is, but potentially somewhere in <code>Geometry/Euclidean/Angle</code>?</p>",
        "id": 495111438,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1737481209
    },
    {
        "content": "<p><code>Geometry/Euclidean/Angle/Unoriented/Basic.lean</code>looks like the best fit?</p>",
        "id": 495116430,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1737482917
    },
    {
        "content": "<p>Perhaps. You can try moving the results to that file and see how the imports are affected.</p>",
        "id": 495125851,
        "sender_full_name": "Thomas Browning",
        "timestamp": 1737486339
    },
    {
        "content": "<p>I have to add the following two imports to <code>Geometry/Euclidean/Angle/Unoriented/Basic.lean</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">LinearAlgebra</span><span class=\"bp\">.</span><span class=\"n\">CrossProduct</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">InnerProductSpace</span><span class=\"bp\">.</span><span class=\"n\">PiL2</span>\n</code></pre></div>\n<p>This is still triggering the large-imports flag but the percentage increase in imports is significantly smaller (3.75% vs 70%). Thematically, this seems like the best file placement too. Is the increase in imports acceptable?</p>",
        "id": 495143934,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1737493346
    },
    {
        "content": "<p>Probably. Your reviewer will check</p>",
        "id": 495146288,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1737494332
    },
    {
        "content": "<p>PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/20920\">#20920</a> (with results on Cross Products) is in. Should I begin another PR to now add Kochen-Specker to the archive section?</p>",
        "id": 498252731,
        "sender_full_name": "Vedant Gupta",
        "timestamp": 1738898514
    },
    {
        "content": "<p>Sounds good, I guess</p>",
        "id": 498277800,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1738914677
    }
]