[
    {
        "content": "<p>Is there ever a reason to write <code>{α : Type*} {β : Type*}</code> versus <code>{α β : Type*}</code>? I was wondering if this was reasonable to lint for.</p>",
        "id": 553256330,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762100732
    },
    {
        "content": "<p>It's sometimes marginally useful to group together similar variables when you have a lot of them</p>",
        "id": 553256500,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1762100870
    },
    {
        "content": "<p>eg <code>{α1 β1 ... Ω1 : Type*} {α2 β2 ... Ω2 : Type*}</code> or similar, as that encourages line-wrapping to keep the grouping</p>",
        "id": 553256551,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1762100915
    },
    {
        "content": "<p>This could be refined to checking for isolated repetitions, e.g. <code>{α1 β1 ... Ω1 : Type*} {α : Type*}</code> would be linted, but not your example.</p>",
        "id": 553257293,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762101612
    },
    {
        "content": "<p>Is there a reason to ask this specifically about <code>Type*</code> rather than any right side? I.e. <code>{a : T} {b : T}</code>?</p>",
        "id": 553259649,
        "sender_full_name": "Julian Berman",
        "timestamp": 1762103777
    },
    {
        "content": "<p>the <code>Type*</code> stuff currently don't print as-is and it's another source of annoyance personally</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">TypeStar</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">β</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"c1\">-- Foo.{u_1, u_2} {α : Type u_1} {β : Type u_2} : Type (max u_1 u_2)</span>\n</code></pre></div>\n<p>but maybe there's no easy way to make the round-trip successful?</p>",
        "id": 553260163,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762104294
    },
    {
        "content": "<p>compare:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"c1\">-- foo {m n : Nat} : Nat</span>\n</code></pre></div>",
        "id": 553260200,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762104332
    },
    {
        "content": "<p><code>Type*</code> is giving fresh universes, so it has to be in separate binders when printed that way, right?</p>",
        "id": 553260336,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762104465
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321696\">Julian Berman</span> <a href=\"#narrow/channel/287929-mathlib4/topic/linting.20for.20repeated.20Type*/near/553259649\">said</a>:</p>\n<blockquote>\n<p>Is there a reason to ask this specifically about <code>Type*</code> rather than any right side? I.e. <code>{a : T} {b : T}</code>?</p>\n</blockquote>\n<p>I think that for an arbitrary type this becomes too strict? There are reasons I might want to separate bindings of the same type in a theorem/def that don't apply to <code>Type*</code>.</p>",
        "id": 553260654,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762104764
    },
    {
        "content": "<p>I realize in rereading this that you probably had adjacent repetitions in mind. I think this is reasonable for arbitrary types. Whereas I originally had in mind looking at the entirety of the binder info and consolidating all <code>Type*</code>.</p>",
        "id": 553286889,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762131097
    },
    {
        "content": "<p>I did assume we were only talking about adjacent binders. If they're not adjacent I think to me it's even more questionable, I'm not sure whether <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>'s example was intentionally chosen to be adjacent as well, but I think <code>{T : Type*} [bunch of stuff about T] {U : Type*} [bunch of stuff about U]</code> is often a lot nicer looking than <code>{T U : Type*} [bunch of stuff about T] [bunch of stuff about U]</code>.</p>",
        "id": 553287842,
        "sender_full_name": "Julian Berman",
        "timestamp": 1762131952
    },
    {
        "content": "<p>That is reasonable. I think limiting to just adjacent repetition then would be preferred if this were a linter.</p>",
        "id": 553288888,
        "sender_full_name": "Chris Henson",
        "timestamp": 1762133167
    }
]