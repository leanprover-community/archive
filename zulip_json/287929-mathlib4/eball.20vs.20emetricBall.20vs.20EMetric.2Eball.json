[
    {
        "content": "<p>How should we name lemmas about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EMetric.ball#doc\">docs#EMetric.ball</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EMetric.closedBall#doc\">docs#EMetric.closedBall</a> ? Some lemmas use <code>eball</code>, others use <code>emetricBall</code> or put lemmas in the <code>EMetric</code> namespace (sometimes, it's not an option).</p>",
        "id": 566193676,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767496279
    },
    {
        "content": "<p>I personally think we could drop the <code>EMetric</code> namespace entirely, renaming each <code>EMetric.foo</code> to <code>Metric.efoo</code></p>",
        "id": 566199899,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1767505642
    },
    {
        "content": "<p><code>eclosedBall</code> or <code>closedEBall</code>?</p>",
        "id": 566202630,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767509072
    },
    {
        "content": "<p>I don't mind greatly, but maybe the latter?</p>",
        "id": 566204077,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1767511008
    },
    {
        "content": "<p>I'd go for <code>eball</code> and <code>closedEBall</code>.</p>",
        "id": 566210011,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1767518710
    },
    {
        "content": "<p>I vote for <code>eclosedBall</code></p>",
        "id": 566225927,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1767536634
    },
    {
        "content": "<p>Another datapoint is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EMetric.infEdist#doc\">docs#EMetric.infEdist</a></p>",
        "id": 566228926,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767539735
    },
    {
        "content": "<p>... which should be called <code>infEDist</code>.</p>",
        "id": 566228957,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767539766
    },
    {
        "content": "<p>Perhaps</p>",
        "id": 566228976,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767539783
    },
    {
        "content": "<p>At least, that's what we do with <code>EDist</code> and <code>ENNReal</code>.</p>",
        "id": 566229007,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767539808
    },
    {
        "content": "<p>Let's start with <a href=\"https://github.com/leanprover-community/mathlib4/pull/33558\">#33558</a></p>",
        "id": 566247732,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767558210
    },
    {
        "content": "<p>Repeating what I wrote there; can you propose the full set of proposed new <code>def</code> names to be approved here first?</p>",
        "id": 566250973,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767561440
    },
    {
        "content": "<p>I agree that it's easier to actually rename them in separate PRs, but I think we should make and approve the decision globally first</p>",
        "id": 566251008,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767561472
    },
    {
        "content": "<ul>\n<li><code>EMetric.diam</code> -&gt; <code>Metric.ediam</code></li>\n<li><code>EMetric.ball</code> -&gt; <code>Metric.eball</code></li>\n<li><code>EMetric.closedBall</code> -&gt; <code>Metric.closedEBall</code></li>\n<li><code>EMetric.infEdist</code> -&gt; <code>Metric.infEDist</code></li>\n<li><code>EMetric.mem_nhds_iff</code> etc -&gt; <code>Metric.mem_nhds_iff_eball</code> or <code>_iff_edist</code></li>\n<li>same for <code>Metric.mem_nhds_iff</code> etc</li>\n</ul>",
        "id": 566251115,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767561608
    },
    {
        "content": "<p>What did I miss?</p>",
        "id": 566251120,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767561613
    },
    {
        "content": "<p>(<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Metric.mem_nhds_iff#doc\">docs#Metric.mem_nhds_iff</a> for reference)</p>",
        "id": 566252131,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1767562848
    },
    {
        "content": "<p>Should we go forward with renaming or wait a bit more? In the latter case, what's a good time to wait before merging the first PR?</p>",
        "id": 566405769,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767634165
    },
    {
        "content": "<p>Maybe a few more days</p>",
        "id": 566410202,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1767635724
    },
    {
        "content": "<p>Flagging <span class=\"user-group-mention\" data-user-group-id=\"2494\">@maintainers</span> if anyone wants to comment</p>",
        "id": 566410260,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1767635744
    },
    {
        "content": "<p>I'm in favor.</p>",
        "id": 566410461,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1767635825
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> How many days is \"a few\"? I don't want to go against someone's objections, but I don't want the PR to rot.</p>",
        "id": 566425383,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767641781
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span>, if no one objects before tomorrow morning, I'll merge it.</p>",
        "id": 566430046,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1767643573
    },
    {
        "content": "<p>I've merged <code>master</code> and fixed build.</p>",
        "id": 566564433,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767712608
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> <img alt=\":bors:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/dce2c3bb.png\" title=\"bors\"></p>",
        "id": 566564681,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1767712693
    },
    {
        "content": "<p>Next: <a href=\"https://github.com/leanprover-community/mathlib4/pull/33772\">#33772</a></p>",
        "id": 567042898,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767910849
    },
    {
        "content": "<p>I wrote a script to print all non-autodecl names with deprecation info, then compared the output on <code>master</code> and on that branch to</p>\n<ul>\n<li>make sure that all previously deprecated names are still there with the same date &amp; <code>newName</code>;</li>\n<li>every old name except for a few instance names didn't go away; instead, it's deprecated with date <code>2026-01-08</code>.</li>\n</ul>",
        "id": 567048798,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1767914303
    },
    {
        "content": "<p>I'm a bit afraid that <a href=\"https://github.com/leanprover-community/mathlib4/pull/33772\">#33772</a> will rot.</p>",
        "id": 567412079,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1768160853
    },
    {
        "content": "<p>during the review of <a href=\"https://github.com/leanprover-community/mathlib4/pull/34202\">#34202</a> <span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> raised the question of whether should EMetric.annulus/i proposed in the PR be called <code>Metric.eannulus</code> instead, by analogy with <code>Metric.eball</code> and friends. I suspect the consensus is for a 'yes' but please let me know if any suggestion</p>",
        "id": 569275219,
        "sender_full_name": "Matteo Cipollina",
        "timestamp": 1769007167
    },
    {
        "content": "<p>I think, yes.</p>",
        "id": 569279058,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769007975
    },
    {
        "content": "<p>Next in line: <a href=\"https://github.com/leanprover-community/mathlib4/pull/34379\">#34379</a></p>",
        "id": 569900831,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769285812
    },
    {
        "content": "<p>I've left lemmas like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=EMetric.isOpen_iff#doc\">docs#EMetric.isOpen_iff</a> for another PR to make it a bit easier to review this one.</p>",
        "id": 569900867,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769285849
    },
    {
        "content": "<p>I've tested that</p>\n<ul>\n<li>all newly deprecated names use date <code>2026-01-24</code>;</li>\n<li>all newly deprecated names exist as non-deprecated names on <code>master</code>;</li>\n<li>no name disappeared, all of them were deprecated instead.</li>\n</ul>",
        "id": 569900970,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769285959
    },
    {
        "content": "<p>One deprecation change the \"target\": <code>Emetric.exists_smooth_forall_closedBall_subset</code>.</p>",
        "id": 569901003,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769285982
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/34379\">#34379</a> regularly gets merge conflicts. I would appreciate a review.</p>",
        "id": 571218688,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1769882347
    }
]