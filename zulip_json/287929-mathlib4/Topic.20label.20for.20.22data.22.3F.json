[
    {
        "content": "<p>Should we add <code>t-data</code> label for <code>List</code>/<code>Multiset</code>/<code>Finset</code>/...?</p>",
        "id": 456070459,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722649550
    },
    {
        "content": "<p>I have thought about this before and it is reasonable, but I wonder whether it should include things like <a href=\"https://github.com/leanprover-community/mathlib4/pull/11243\">#11243</a> should be included?</p>",
        "id": 456108143,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722663454
    },
    {
        "content": "<p>Coming back to this, I'd be in favour of a topic label <code>t-data</code> or <code>t-basic</code>. I <strong>tried to label</strong> <del>made a push on</del> all unlabelled PRs and right now there are <a href=\"https://github.com/leanprover-community/mathlib4/pulls?page=1&amp;q=is%3Aopen+is%3Apr+no%3Alabel+-is%3Adraft\">18 left</a>. Most of them could fall into such a label's domain. (some I labelled <code>t-number-theory</code> when they barely belong there, e.g. a PR about <code>ZMod</code> could probably be <code>t-basic</code>, too)</p>\n<p>At least for me, I tend to miss unlabbelled PRs as I'm filtering the <a href=\"https://bit.ly/3Ymuh0U\">#queue</a> by labels of interest.</p>\n<p>Would it be okay if I created such a topic label? (<span class=\"user-group-mention\" data-user-group-id=\"507749\">@reviewers</span>)</p>",
        "id": 462285782,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723621998
    },
    {
        "content": "<p>Maybe there should be a bot that adds <code>t-</code>-labels automatically (and there should be a good discussion about what heuristics the bot should use!).</p>",
        "id": 462286142,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723622096
    },
    {
        "content": "<p>(Note that this was brought up, certainly by me and likely by others as well in other threads.)</p>",
        "id": 462286289,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723622125
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Topic.20label.20for.20.22data.22.3F/near/462285782\">said</a>:</p>\n<blockquote>\n<p>I made a push on all unlabelled PRs and right now there are <a href=\"https://github.com/leanprover-community/mathlib4/pulls?page=1&amp;q=is%3Aopen+is%3Apr+no%3Alabel+-is%3Adraft\">18 left</a></p>\n</blockquote>\n<p>Because it took me a good minute to parse, let me rephrase this sentence for others: \"I tried labelling all unlabelled PRs and I managed to do so except for those <a href=\"https://github.com/leanprover-community/mathlib4/pulls?page=1&amp;q=is%3Aopen+is%3Apr+no%3Alabel+-is%3Adraft\">18 PRs</a>\"</p>",
        "id": 462287423,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723622459
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span> Please go ahead. Since you are most up to date on which labels are useful and applicable, I think you are also in the best position to decide whether <code>t-data</code> or <code>t-basic</code> makes the most sense. If you opt for <code>t-basic</code>, maybe mention the <code>Data/</code> folder in its description. Of course, we can also have both, if you think that's useful.</p>",
        "id": 462288916,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1723623047
    },
    {
        "content": "<p>Yes, I think there are some computer-sciency PRs that are not really \"basic\" but are really \"data\"</p>",
        "id": 462289095,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723623119
    },
    {
        "content": "<p><code>t-cs</code> could be a label as well.</p>",
        "id": 462289304,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623198
    },
    {
        "content": "<p>Is there a reason to not allow many labels?</p>",
        "id": 462289334,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623215
    },
    {
        "content": "<p>It makes it difficult to search. But I would think we are still pretty far from that point</p>",
        "id": 462289453,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1723623244
    },
    {
        "content": "<p>I would think that there may be a small number of labels that are possibly managed by a bot and then \"human\" labels that can be generally informative.</p>",
        "id": 462289474,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623260
    },
    {
        "content": "<p>For instance, maybe every PR should get labeled by <code>t-xxx</code> where <code>xxx</code> ranges over all root folders in mathlib that the PR touches.</p>",
        "id": 462289685,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623332
    },
    {
        "content": "<p>That would give an easy way of filtering.  On top of that, any author can add more labels, if they think that it would be useful.</p>",
        "id": 462289847,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723623365
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Topic.20label.20for.20.22data.22.3F/near/462289847\">said</a>:</p>\n<blockquote>\n<p>That would give an easy way of filtering.  On top of that, any author can add more labels, if they think that it would be useful.</p>\n</blockquote>\n<p>Or perhaps remove labels when these are \"clearly not relevant\".</p>",
        "id": 462290726,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723623667
    },
    {
        "content": "<p>To add to this: I usually tag any PR \"split large file\", \"trim import bush\" or \"remove any nolints\" with <code>tech debt</code>. Perhaps this should not be automated yet, but it could.</p>",
        "id": 462291165,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723623849
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span> Thanks for this labelling push, this is great! There might be a follow-up: are there PRs without any <code>topic</code> label that should get one? (For instance, a few PRs are only labelled with <code>tech debt</code>. Or, are they <code>feat</code>ure PRs without such a label?</p>",
        "id": 462291839,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723624146
    },
    {
        "content": "<p>I just checked: <a href=\"https://github.com/leanprover-community/mathlib4/pulls?q=is%3Aopen+is%3Apr+in%3Atitle+%22feat%22+-label%3At-algebra+-label%3At-linter+-label%3At-logic+-label%3At-number-theory+-label%3At-topology+-label%3At-order+-label%3At-category-theory+-label%3At-analysis+-label%3At-dynamics+-label%3At-combinatorics+-label%3At-measure-probability+-label%3At-algebraic-geometry+-label%3At-meta+-label%3At-computability+-label%3At-differential-geometry+-label%3At-euclidean-geometry+\">there are currently</a> <strong>166</strong> feature PRs without a <code>t-something</code> label.</p>",
        "id": 462292572,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723624410
    },
    {
        "content": "<p>In that case, I think I'll add <code>t-data</code> for now.</p>\n<p>And if somebody (looking at <span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> ) wants to write a CI doing some sort of automatic label assignment, my impression from this conversation is that this would be pretty much welcomed by everybody, regardless of the exact implementation details.</p>",
        "id": 462301395,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1723627016
    },
    {
        "content": "<p>I'll take a look at this: in the first instance, I will try to see if I can add a <code>t-xxx</code> for each root dir containing modified files (maybe not labeling anything if there are more than 3 root dirs involved).</p>",
        "id": 462322103,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723634150
    },
    {
        "content": "<p>Once/if that works, we can then implement better heuristics.</p>",
        "id": 462322208,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723634175
    },
    {
        "content": "<p>However, from working with CI, I know that the algorithm is not usually the hard part: getting CI to remotely do what you want is!</p>",
        "id": 462322292,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723634208
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Topic.20label.20for.20.22data.22.3F/near/462292572\">said</a>:</p>\n<blockquote>\n<p>I just checked: <a href=\"https://github.com/leanprover-community/mathlib4/pulls?q=is%3Aopen+is%3Apr+in%3Atitle+%22feat%22+-label%3At-algebra+-label%3At-linter+-label%3At-logic+-label%3At-number-theory+-label%3At-topology+-label%3At-order+-label%3At-category-theory+-label%3At-analysis+-label%3At-dynamics+-label%3At-combinatorics+-label%3At-measure-probability+-label%3At-algebraic-geometry+-label%3At-meta+-label%3At-computability+-label%3At-differential-geometry+-label%3At-euclidean-geometry+\">there are currently</a> <strong>166</strong> feature PRs without a <code>t-something</code> label.</p>\n</blockquote>\n<p>I just made a push over all remaining PRs: there are <strong>17</strong> remaining PRs without a t-something label: three of them are squarely CI (hence, should be excluded from the <a href=\"https://github.com/leanprover-community/mathlib4/pulls?page=1&amp;q=is%3Aopen+is%3Apr+in%3Atitle+%22feat%22+-label%3At-algebra+-label%3At-linter+-label%3At-logic+-label%3At-number-theory+-label%3At-topology+-label%3At-order+-label%3At-category-theory+-label%3At-analysis+-label%3At-dynamics+-label%3At-combinatorics+-label%3At-measure-probability+-label%3At-algebraic-geometry+-label%3At-meta+-label%3At-computability+-label%3At-differential-geometry+-label%3At-euclidean-geometry+-label%3At-data\">github search</a> also), for the others it's less clear how to label them.</p>",
        "id": 462529575,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723720709
    },
    {
        "content": "<p>One strong take-away: not every PR can be nicely labelled; having an \"I don't know\" state seems useful.</p>",
        "id": 462529673,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1723720745
    }
]