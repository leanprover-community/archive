[
    {
        "content": "<p>I traced this TODO to the <a href=\"https://github.com/leanprover-community/mathlib3/pull/7654/files#diff-78f949b1b97723c73f525b48e5d3e6784b5060f61fa1ebd9e602c24471f16f0fR1475\">mathlib3 PR</a> by <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>. (It's written <code>Algebra (Ideal R) A</code> but I think that's a typo.) (Here <code>A</code>  also needs to be a CommSemiring, otherwise <code>1 : Ideal A</code> isn't a right unit.) The toFun of this Algebra can be given by <code>Ideal.map</code>, and the SMul is probably best defined to make Algebra.smul_def defeq.</p>\n<p>However there's another possible instance <code>[Algebra R A] : Algebra (Ideal R) (Submodule R A)</code> (which doesn't require A be commutative), where the toFun is given by <code>Submodule.map</code> and SMul given by the existing Module instance. I'd like to add this instance to be able to state <code>(A →ₐ[R] B) → (Submodule R A →ₐ[Ideal R] Submodule R B)</code>, but when A = R, it seems impossible to make the toFun/smul defeq to those in the <code>Algebra (Ideal R) (Ideal A)</code> instance. My current plan is to add <code>Algebra (Ideal R) (Submodule R A)</code> as an instance, and be satisfied with a def <code>(R →+* A) → (Ideal R →+* Ideal A)</code> instead of an Algebra instance. Any thoughts? (cc <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>)</p>",
        "id": 479755254,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1730318378
    },
    {
        "content": "<p>PR at <a href=\"https://github.com/leanprover-community/mathlib4/pull/18493\">#18493</a></p>",
        "id": 479886596,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1730383669
    },
    {
        "content": "<p>I agree with your plan. But looking at your PR, it has a small diff size while depending on a PR with a much larger diff size. Is that intentional?</p>",
        "id": 480387625,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1730707828
    },
    {
        "content": "<p>Certain proofs depend on defeq changed in <a href=\"https://github.com/leanprover-community/mathlib4/pull/17708\">#17708</a></p>",
        "id": 480443774,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1730726787
    }
]