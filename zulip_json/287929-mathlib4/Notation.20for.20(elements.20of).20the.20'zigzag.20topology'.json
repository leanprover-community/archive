[
    {
        "content": "<p>By the 'zigzag topology', I mean the specialization topology on the integers with respect to a preorder where <code>2 * n ≺ 2 * n ± 1</code> for all <code>n</code>; if you draw this as a graph, you get the 'zigzag'</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\">       </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">2</span><span class=\"w\">       </span><span class=\"mi\">4</span>\n<span class=\"bp\">...</span><span class=\"w\">  </span><span class=\"bp\">↙</span><span class=\"w\">   </span><span class=\"bp\">↘</span><span class=\"w\">  </span><span class=\"bp\">↙</span><span class=\"w\">   </span><span class=\"bp\">↘</span><span class=\"w\">   </span><span class=\"bp\">↙</span><span class=\"w\">   </span><span class=\"bp\">...</span>\n<span class=\"w\">   </span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"w\">      </span><span class=\"mi\">1</span><span class=\"w\">      </span><span class=\"mi\">3</span>\n</code></pre></div>",
        "id": 543653581,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759893995
    },
    {
        "content": "<p>Defining it this way makes it easy to specify and work with general intervals (by the usual integer ordering, not the spec preorder), but I ultimately want to move towards a notation which is more directly \"asking for what you want\", which with these objects usually amount to the various topologies with one more or less open point than closed. My favored notation for the latter so far is e.g. <code>[O2|C-]</code> for <code>L ⟶ 1 ⟵ R</code> (where <code>L</code> and <code>R</code> are open and <code>1</code> is closed) or e.g. <code>[O-|C2]</code> for <code>L ⟵ 0 ⟶ R</code> (where now <code>L</code> and <code>R</code> are closed and <code>0</code> is open), but I'm open to suggestions here as well.</p>",
        "id": 543653585,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759894003
    },
    {
        "content": "<p>Mostly, though, I need a convenient way to refer to the points of the topology, and I'm somewhat stuck, as I've got several competing desiderata:</p>\n<ul>\n<li>It would be good to be consistent with my definition of the underlying topology on the integers, so <code>0</code>, being even, should refer to an open point and <code>1</code>, being odd, to a closed point.</li>\n<li>It would also be good for labels to be symmetric around its center, to minimize mental arithmetic while working with such elements<ul>\n<li>However, in order to be subspaces of the same underlying topology, this would imply that <code>[O2|C-]</code> would have to be centered on <code>1</code> and <code>[O3|C-]</code> would have to be centered on <code>0</code>.</li>\n</ul>\n</li>\n<li>And, of course (and arguably most crucially), it needs to <em>work</em> in Lean, which limits my use of naturals and of addition-as-notation</li>\n</ul>",
        "id": 543653589,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759894007
    },
    {
        "content": "<p>So far, my own best proposal is defining <code>Z</code> as an element of <code>ZigzagSeg (-n) n</code> (where <code>ZigzagSeg n m</code> is essentially <code>Icc n m</code> on the integers with the zigzag topology), <code>O</code> as an element of <code>ZigzagSeg (1 - n) (n + 1)</code>, and making <code>HAnd</code> and <code>HSub</code> so I can refer to everything as <code>Z - 3</code> or <code>O + 1</code>... but that's kind of verbose, and requires some documentation as to what happens when you go out-of-range (it saturates, fwiw), and I'm wondering if anyone has a better idea.</p>",
        "id": 543653592,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759894010
    },
    {
        "content": "<p>You can construct a specialization topology by using <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Topology/Order/UpperLowerSetTopology.html#Topology.WithUpperSet\"><code>Topology.WithUpperSet</code></a>.</p>",
        "id": 543678010,
        "sender_full_name": "Miyahara Kō",
        "timestamp": 1759909041
    },
    {
        "content": "<p>Yes, I'm currently defining</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- The 'zigzag' topology on `ℤ`, defined as the specialization topology with respect to</span>\n<span class=\"sd\">a preorder where `2 * n ≺ 2 * n ± 1` for all `n`. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">zigzagTopology</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">@</span><span class=\"n\">WithLowerSet</span><span class=\"bp\">.</span><span class=\"n\">instTopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"w\"> </span><span class=\"n\">zigzagPreorder</span>\n</code></pre></div>\n<p>I had a version where I defined a type synonym, gave it my zigzag ordering, put the old ordering on <code>Lex Zigzag</code>, and then tried to work with that; but it made simple things like <code>succ</code> and <code>pred</code> involve unfolding multiple layers of wrappers not all of which played nice with <code>rcases</code>, so I ultimately gave up and switched to just putting it on a non-instance <code>def</code> and using <code>IsOpen[zigzagTopology]</code> etc everywhere.</p>",
        "id": 543678631,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759909272
    },
    {
        "content": "<p>you can make it a local instance</p>",
        "id": 543679062,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759909411
    },
    {
        "content": "<p>by <code>local attribute [instance] zigzagTopology</code></p>",
        "id": 543679121,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759909427
    },
    {
        "content": "<p>I mean, I've already gotten that bit set up and working; my current problem is with conveniently referring to (elements of) various <code>Icc</code>s of the zigzag topology</p>",
        "id": 543679293,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759909487
    },
    {
        "content": "<p>As my opinion, <code>Z (-3)</code> &amp; <code>O 1</code> are preferable to <code>Z - 3</code> &amp; <code>O + 1</code>; when you want to prove that every <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>n</mi><mo>−</mo><mi>m</mi><mo separator=\"true\">,</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[n - m, n + m]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">]</span></span></span></span> is open, only one lemma <code>IsOpen (Z m)</code>is necessary in former style, but in latter style, three lemmas <code>IsOpen Z</code>, <code>IsOpen (Z + m)</code> <code>IsOpen (Z - m)</code> are necessary.</p>",
        "id": 543684810,
        "sender_full_name": "Miyahara Kō",
        "timestamp": 1759911271
    },
    {
        "content": "<p>hmmmm.... In principle, that shouldn't really come up; there's a 'real' addition operation under the hood and both the projection from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span> and the inclusion into <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span> are continuous, so you <em>should</em> be able to just translate statements about <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo fence=\"true\">[</mo><mi>n</mi><mo>−</mo><mi>m</mi><mo separator=\"true\">,</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo fence=\"true\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\left[n - m, n + m\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span> in <code>ZigzagSeg r s</code> into statements about <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo fence=\"true\">[</mo><mi>max</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>n</mi><mo>−</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>min</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo separator=\"true\">,</mo><mi>s</mi><mo stretchy=\"false\">)</mo><mo fence=\"true\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\left[\\max (r, n - m), \\min (n + m, s)\\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mop\">min</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">s</span><span class=\"mclose\">)</span><span class=\"mclose delimcenter\" style=\"top:0em;\">]</span></span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span><br>\nBut I see your point, I'm not completely sure we can count on that. I'll experiment with it a bit.</p>",
        "id": 543686243,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759911697
    },
    {
        "content": "<p>I am confused, you said you aren't using a type synonym, so it's just <code>ℤ</code>, so where is the difficulty coming from?</p>",
        "id": 543686650,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759911813
    },
    {
        "content": "<p>I'm not using a type synonym for <code>ℤ</code>; I am using a type synonym for <code>Icc n m : Set ℤ</code>, because that needs e.g. successor/predecessor operations that handle bounds properly</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">ZigzagSeg</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">ULift</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>in the above</p>",
        "id": 543687091,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759911948
    },
    {
        "content": "<p>Though I don't think the problem would go away if I didn't use a synonym; either way the problem is essentially that putting <code>⟨x, hx₁, hx₂⟩</code> everywhere is a) fragile (because of the general behavior of the anonymous constructor), b) annoying, and c) and terrible for readability</p>",
        "id": 543687362,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759912018
    },
    {
        "content": "<p>Basically the difficulty is:</p>\n<ol>\n<li>\n<p><code>ZigzagSeg n m</code> is parameterized entirely by things that I don't actually (directly) care about when using the type; when using the type I care entirely about how many open vs. closed points in this 'standard' zigzag template I'm including, so having to decide what interval to use is just noise that also makes it harder to write useful lemmas.</p>\n<ul>\n<li>Thus, the <code>[O n|C m]</code>-type notation, which standardizes a specific interval of the right 'kind' to use</li>\n</ul>\n</li>\n<li>\n<p>Similarly, the actual elements of any given <code>ZigzagSeg n m</code> are labeled in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span> entirely by something I don't (directly) care about, their positions on the original number line; when using the type I only really want to know a) whether its singleton is open or closed and b) where it is relative to the center of the interval.</p>\n<ul>\n<li>Thus, bikeshedding some general \"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> steps left/right of the origin, which is <code>Z</code>/<code>O</code>, you can tell whether it's open or closed by whether it's odd or even\"-type notation.</li>\n</ul>\n</li>\n</ol>",
        "id": 543689147,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759912520
    },
    {
        "content": "<p>oh I remember this</p>",
        "id": 543709034,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759918555
    },
    {
        "content": "<p>can you do something with <code>Fin</code> maybe</p>",
        "id": 543709807,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759918842
    },
    {
        "content": "<p>why do you want these segments with more open than closed points what do you do with them</p>",
        "id": 543709992,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759918900
    },
    {
        "content": "<p><a href=\"https://ncatlab.org/nlab/show/separation+axioms+in+terms+of+lifting+properties\">https://ncatlab.org/nlab/show/separation+axioms+in+terms+of+lifting+properties</a></p>",
        "id": 543710041,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759918920
    },
    {
        "content": "<p>note that almost all the 'test' topologies are 'zigzags', and most are either one more open than closed or the reverse</p>",
        "id": 543710400,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919046
    },
    {
        "content": "<p>interesting</p>",
        "id": 543710789,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919178
    },
    {
        "content": "<p>why do they need to be subspaces of the big zigzag</p>",
        "id": 543710896,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919218
    },
    {
        "content": "<p>(I actually need the tests for T2 and normal for my PR turning <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopCat.RelativeCWComplex#doc\">docs#TopCat.RelativeCWComplex</a> into <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Topology.RelCWComplex#doc\">docs#Topology.RelCWComplex</a>, but the rest I'm providing for consistency)</p>",
        "id": 543711008,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919255
    },
    {
        "content": "<p>can't you just make the finite zigzags without putting them all as subspaces of the <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Z</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Z}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord mathbb\">Z</span></span></span></span>-zigzag</p>",
        "id": 543711320,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919368
    },
    {
        "content": "<p>Because otherwise I have to make ~6 bespoke types with bespoke preorders and their APIs<br>\nWhich actually isn't hard, it's mostly copy and paste, Claude can handle it<br>\nBut it makes the proofs <em>using</em> them kind of annoying, it's somewhat nontrivial to show how they relate/reduce to one another, and the resulting file is a solid 2k lines of boilerplate</p>",
        "id": 543711377,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919388
    },
    {
        "content": "<p>oh</p>",
        "id": 543711452,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919409
    },
    {
        "content": "<p>that sounds like a lot of api</p>",
        "id": 543711526,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919438
    },
    {
        "content": "<p>Making them all subspaces of the big zigzag means that there's a single common API for all of them and I just have to provide a couple convenience specializations for the really common/important ones</p>",
        "id": 543711542,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919440
    },
    {
        "content": "<p>I feel like you still need most of the same api you would've needed with making them separate types</p>",
        "id": 543711924,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759919568
    },
    {
        "content": "<p>Kinda, but since now the separate types are all just abbrevs of <code>ZigzagSeg</code>, I only really need to provide separate <code>lift</code>s for <code>O2C1</code> and <code>O1C2</code> (which are kind of 'primitives'/the topological basis elements the rest are built from)<br>\nAnd stuff like ext lemmas, instances, succ/pred/even/odd interactions, and specialization order lemmas I can just have under the <code>ZigzagSeg</code> namespace</p>",
        "id": 543712191,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919667
    },
    {
        "content": "<p>... it's still like 1.5k lines but it's much less boilerplate-y and scales better if anyone ever finds a use for them beyond the sixish in that ncatlab page</p>",
        "id": 543712324,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919707
    },
    {
        "content": "<p>what if you used <code>ℤ ⊕ ℤ</code> instead? (disjoint union)</p>",
        "id": 543712404,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759919741
    },
    {
        "content": "<p>... I'm not sure how that would help?</p>",
        "id": 543712498,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919772
    },
    {
        "content": "<p>I guess it would replace all the <code>Even/Odd</code> conditions in my library with a matchable/<code>rcases</code>-able predicate</p>",
        "id": 543712565,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919796
    },
    {
        "content": "<p>Which is nice, I suppose</p>",
        "id": 543712581,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919801
    },
    {
        "content": "<p>but it wouldn't really change the ultimate problem of \"so how do I concisely refer to specific useful intervals of this type and elements of those intervals\"</p>",
        "id": 543712683,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759919842
    },
    {
        "content": "<p>... well, maybe it would, actually.</p>",
        "id": 543713573,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920150
    },
    {
        "content": "<p>Hm.</p>",
        "id": 543713578,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920152
    },
    {
        "content": "<p>Because then I could say something like, \"grab the interval [-n, n] on the left/right and however many elements happen to be between them on the right/left\"</p>",
        "id": 543713712,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920197
    },
    {
        "content": "<p>... mm, but we still have the problem that if <code>n</code> is odd, then the interval is centered at 0 on whatever side that is, but if <code>n</code> is even, then it's centered at 1/ at zero on the <em>opposite</em> side</p>",
        "id": 543713993,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920287
    },
    {
        "content": "<p>maybe you just need to do it</p>",
        "id": 543714638,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759920489
    },
    {
        "content": "<p>this really doesn't seem like an avoidable problem</p>",
        "id": 543714699,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759920510
    },
    {
        "content": "<p>I did :v <br>\nOr, well, I've got as far as implementing the <code>[O n|C m]</code> notation, I'm now working on the elements notation</p>",
        "id": 543714737,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920522
    },
    {
        "content": "<p>but while I'm working I thought I'd see if there's preferences/a better way</p>",
        "id": 543714809,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920537
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20.28elements.20of.29.20the.20'zigzag.20topology'/near/543712404\">said</a>:</p>\n<blockquote>\n<p>what if you used <code>ℤ ⊕ ℤ</code> instead? (disjoint union)</p>\n</blockquote>\n<p>I think this is a good idea</p>",
        "id": 543714896,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759920563
    },
    {
        "content": "<p>I think it might make constructing the order a bit easier too</p>",
        "id": 543715185,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759920640
    },
    {
        "content": "<p>why do you care where the interval is centered</p>",
        "id": 543715367,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759920691
    },
    {
        "content": "<p>Mostly, I care because I don't see a good way to hide it from the end user, and I don't like making the end user have to go \"oh, I'm using <code>[O n|C-]</code> and <code>n</code> is even, so I need to use syntax like <code>O + 1</code> and not <code>Z + 1</code>\" every time they use my type &gt;.&gt;;</p>",
        "id": 543715630,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920757
    },
    {
        "content": "<p>but I also don't see a great alternative</p>",
        "id": 543715649,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920763
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"359992\">Robert Maxton</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20.28elements.20of.29.20the.20'zigzag.20topology'/near/543715630\">said</a>:</p>\n<blockquote>\n<p>Mostly, I care because I don't see a good way to hide it from the end user, and I don't like making the end user have to go \"oh, I'm using <code>[O n|C-]</code> and <code>n</code> is even, so I need to use syntax like <code>O + 1</code> and not <code>Z + 1</code>\" every time they use my type &gt;.&gt;;</p>\n</blockquote>\n<p>why do you need to do a different thing depending on whether <code>n</code> is even</p>",
        "id": 543716127,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759920898
    },
    {
        "content": "<p>... mmmmmmmm<br>\nActually, if I go with the disjoint union approach, maybe I <em>don't</em>...</p>",
        "id": 543716192,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920924
    },
    {
        "content": "<p>Basically, it's because in this topology, every singleton set is open xor closed, and specifically evens are open and odds are closed</p>",
        "id": 543716302,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759920966
    },
    {
        "content": "<p>So if I say \"I want three open points\", then that means I have something that looks like <code>\\/0\\/</code> -&gt; centered on the 'top' origin, but if I say \"I want <em>four</em> open points\", then I have something that looks like <code>\\/\\0/\\/</code> -&gt; centered on the 'bottom' origin</p>",
        "id": 543716553,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759921043
    },
    {
        "content": "<p>so there are two origins</p>",
        "id": 543718006,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759921487
    },
    {
        "content": "<p>why is this a problem</p>",
        "id": 543718026,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759921495
    },
    {
        "content": "<p>Suppose I want to address the even points, how do I do that?<br>\nIf I have three, then (if I use the disjoint union) they're <code>inl '' {-1, 0, 1}</code><br>\nIf I have four, then either I have to let them be off-center and do <code>inl '' {-1, 0, 1, 2}</code>, say, or I have to switch to centering on the other origin</p>",
        "id": 543720459,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759922220
    },
    {
        "content": "<p>Though, I suppose I could do something weird and say something like \"<code>.inl 0</code> only exists if there's an odd number, so <code>inl '' {-2, -1, 1, 2}</code>\"</p>",
        "id": 543720831,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759922341
    },
    {
        "content": "<p>That might be even more cursed tho ^.^;</p>",
        "id": 543720886,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759922360
    },
    {
        "content": "<p>... Well, actually, if we switch to the disjoint union case, then we naturally and clearly separate the open and closed points</p>",
        "id": 543721081,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759922424
    },
    {
        "content": "<p>so the option of just numbering starting from <code>0</code> becomes a whole lot more legible</p>",
        "id": 543721157,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759922444
    },
    {
        "content": "<p>that might be the best solution</p>",
        "id": 543721189,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759922454
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"359992\">Robert Maxton</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20.28elements.20of.29.20the.20'zigzag.20topology'/near/543720459\">said</a>:</p>\n<blockquote>\n<p>switch to centering on the other origin</p>\n</blockquote>\n<p>you have to do this anyway if you don't use disjoint union</p>",
        "id": 543721413,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759922527
    }
]