[
    {
        "content": "<p>Two (possibly related) questions:</p>\n<ol>\n<li>How can I earn the removal of the <code>new-contributor</code> PR label? I have several merged PRs now. I thought it would automatically be removed.</li>\n<li>How can I add a topic label manually/ensure automatic label assignment? Some of my PRs, e..g <a href=\"https://github.com/leanprover-community/mathlib4/pull/29284\">#29284</a> is being thrown around because it hasn't been assigned to the right person. It should have <code>t-category-theory</code>.</li>\n</ol>",
        "id": 542070468,
        "sender_full_name": "joseph hua",
        "timestamp": 1759159275
    },
    {
        "content": "<ol>\n<li>The label is added on the first 5 PRs of a contributor.</li>\n<li>I just added the label, maybe there is some comment command to add it, but I don't know.</li>\n</ol>",
        "id": 542073902,
        "sender_full_name": "Christian Merten",
        "timestamp": 1759160114
    },
    {
        "content": "<p>With regards to the <code>new-contributor</code> label: the bot should stop assigning that label once you have 5 (or maybe strictly more than 5) closed PRs.</p>\n<p>However, it turns out that identifying automatically <em>who</em> you is, is tricky.  The reason is that GitHub has several different places where it might try to guess what your identity is and not everyone has the same exact id on every single machine that they use.</p>",
        "id": 542073937,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160123
    },
    {
        "content": "<p>So, even though it looks like you have 6 merged PRs, it may be that they are somehow associated to different \"names\", so it may take a little longer for the label to stop being applied.</p>",
        "id": 542074119,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160171
    },
    {
        "content": "<p>With respect to the autolabelling by topic, that looks just at the first time CI runs on the PR and uses the paths to the modified files to make its decision of what label to apply.</p>",
        "id": 542074343,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160224
    },
    {
        "content": "<p>If there are multiple labels that could match, it applies <em>none</em>.</p>",
        "id": 542074419,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160240
    },
    {
        "content": "<p>So, the autolabelling works for PRs that basically touch only one file or multiple files sharing at least the same top-level dir, possibly a little more than that even.</p>",
        "id": 542074581,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160282
    },
    {
        "content": "<p>If that does not apply to your PRs, you can always manually apply a label yourself.</p>",
        "id": 542074673,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160307
    },
    {
        "content": "<p>The fact that the bot will not touch your PRs after the first CI run, means that your PR will not be automatically relabeled!</p>",
        "id": 542074750,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160330
    },
    {
        "content": "<p>I think it is that the 6th PR was merged a few hours ago, while the other open PRs are older. For instance, when it checked for your newest PR, it detected four. So I would guess it gets picked up on your next PR.</p>",
        "id": 542074969,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759160389
    },
    {
        "content": "<p>Ah, that would definitely explain why the label was added!</p>",
        "id": 542075105,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160422
    },
    {
        "content": "<p>However, the label may also be added sometimes later.  Many of the people who have been contributing for years get the <code>new-contributor</code> label every once in a while... <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 542075326,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160479
    },
    {
        "content": "<p>However, if you still get the label for your next couple of PRs, mention it, and I can take a look at what is going on.</p>",
        "id": 542075496,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160519
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/channel/287929-mathlib4/topic/New.20contributor.20label/near/542074673\">said</a>:</p>\n<blockquote>\n<p>If that does not apply to your PRs, you can always manually apply a label yourself.</p>\n</blockquote>\n<p>Thanks for the detailed response. I suppose I can only add topic labels manually once I am no longer a <code>new-contributor</code>. (right now the gear button does not appear on the top right)</p>",
        "id": 542075605,
        "sender_full_name": "joseph hua",
        "timestamp": 1759160542
    },
    {
        "content": "<p>Ah, does it work if you comment on your PR with the name of the label that you want to add?</p>",
        "id": 542077354,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759160965
    },
    {
        "content": "<p>If you want to add the <code>t-category-theory</code> PR, a comment with just</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">t</span><span class=\"bp\">-</span><span class=\"n\">category</span><span class=\"bp\">-</span><span class=\"n\">theory</span>\n</code></pre></div>\n<p>may add the label.</p>",
        "id": 542077521,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161007
    },
    {
        "content": "<p>I tried that, but Christian Merten beat me to it by about 3 seconds.</p>",
        "id": 542077578,
        "sender_full_name": "joseph hua",
        "timestamp": 1759161023
    },
    {
        "content": "<p>I don't remember if we implemented this fully or not.  It should work with <em>some</em> labels, though maybe not with all.</p>",
        "id": 542077600,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161028
    },
    {
        "content": "<p>I can try in the future</p>",
        "id": 542077613,
        "sender_full_name": "joseph hua",
        "timestamp": 1759161030
    },
    {
        "content": "<p>You can try with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">-</span><span class=\"n\">t</span><span class=\"bp\">-</span><span class=\"n\">category</span><span class=\"bp\">-</span><span class=\"n\">theory</span>\n</code></pre></div>",
        "id": 542077652,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161040
    },
    {
        "content": "<p>That should remove the label.</p>",
        "id": 542077670,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161047
    },
    {
        "content": "<p>I see that your comment was not picked up.  I'll try myself.</p>",
        "id": 542077815,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161089
    },
    {
        "content": "<p>I'm not sure if topic labels work yet, it might just be the short list here: <a href=\"https://github.com/leanprover-community/mathlib4/blob/10d128b540e23ca0f27026e1663814513756b4a9/.github/workflows/labels_from_comment.yml#L28\">https://github.com/leanprover-community/mathlib4/blob/10d128b540e23ca0f27026e1663814513756b4a9/.github/workflows/labels_from_comment.yml#L28</a></p>",
        "id": 542077817,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1759161090
    },
    {
        "content": "<p>It didn't remove the label</p>",
        "id": 542077836,
        "sender_full_name": "joseph hua",
        "timestamp": 1759161094
    },
    {
        "content": "<p>Ok, and it is not a matter of permissions, since also my comment did not remove the label.</p>",
        "id": 542077957,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161129
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"133584\">@joseph hua</span>  I just gave you triage access, so you should be able to remove the label yourself now.</p>",
        "id": 542077965,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1759161131
    },
    {
        "content": "<p>Ah, I had forgotten about triage access!  <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span></p>",
        "id": 542078052,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161152
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> !</p>",
        "id": 542078620,
        "sender_full_name": "joseph hua",
        "timestamp": 1759161279
    },
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/30069\">#30069</a> something strange happen: the label was added after a bot made an automatic commit<br>\nI have not had the new contributor label in a while now</p>",
        "id": 542079738,
        "sender_full_name": "Iván Renison",
        "timestamp": 1759161540
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"646655\">Iván Renison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/New.20contributor.20label/near/542079738\">said</a>:</p>\n<blockquote>\n<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/30069\">#30069</a> something strange happen: the label was added after a bot made an automatic commit<br>\nI have not had the new contributor label in a while now</p>\n</blockquote>\n<p>Presumably this is the action picking up that the <em>bot</em> does not have at least 5 merge PRs and is therefore a new contributor.</p>",
        "id": 542080862,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161750
    },
    {
        "content": "<p>I think that this behaviour can only happen when the bot is currently the last \"owner\" of a commit.  If you remove the label and add further commits, the label should not be added again.</p>",
        "id": 542081137,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759161818
    },
    {
        "content": "<p>Yeah, the CI run shows it counting PRs (0) for the bot. Maybe it should be added as an exception in the script.</p>",
        "id": 542081566,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759161937
    },
    {
        "content": "<p>Maybe we could, but I like it that sometimes I feel young again when a <code>new-contributor</code> label is incorrectly applied to my PRs... <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 542082009,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1759162055
    }
]