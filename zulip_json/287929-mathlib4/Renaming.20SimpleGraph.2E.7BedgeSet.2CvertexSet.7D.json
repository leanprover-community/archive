[
    {
        "content": "<p>To reduce noise, I'll bring up the second issue in this thread as well. (I'm happy to have it moved to a new thread if a moderator thinks that would be better). </p>\n<p>For <code>G : SimpleGraph V</code>, the vertex set is the type <code>V</code>, and the edge set is a <code>Set</code>, referred to as <code>G.edgeSet</code>. </p>\n<p>For multigraph <code>G : Graph a b</code>, both the vertex set and edge sets are <code>Set</code>s. I have called them <code>G.V</code> and <code>G.E</code>, and was thinking a good convention would be to call them <code>edgeSet</code> and <code>vertexSet</code> in lemma names. </p>\n<p>I think the compact notation is important, mostly because the design of multigraphs will require the vertex and edge sets to be explicitly referred to a lot in hypotheses; the comparison is something like <br>\n<code>(hx : x ∈ G.V) (hy : y ∈ G.V) (he : e ∈ G.E)</code> vs <code>(hx : x ∈ G.vertexSet) (hy : y ∈ G.vertexSet) (he : e ∈ G.edgeSet)</code> in countless places. </p>\n<p>If <code>H</code> is a subgraph of <code>G</code>, then I believe <code>H.V ⊆ G.V</code> looks much cleaner than <code>H.vertexSet ⊆ G.vertexSet</code> and I don't think any clarity is lost. I have used the same convention for mathlib's matroids (where <code>M.E</code> is the ground set of a matroid <code>M</code>, and this is called <code>ground</code> in lemma names) and I think it's working well.  </p>\n<p>But Eric brought up that this would cause an inconsistency between <code>Graph</code> and <code>SimpleGraph</code>, where <code>Graph.E</code> corresponds to <code>SimpleGraph.edgeSet</code>. Fixing this would involve either changing what exists for <code>SimpleGraph</code>, or using the long names for multigraphs.</p>\n<p>I have a much stronger point of view on this issue than the last one - I believe the longer names will cause the multigraph API to be considerably uglier. But consistency is also good, so here's a poll anyway!</p>",
        "id": 516782444,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746660764
    },
    {
        "content": "<p>/poll How should the edge/vertex sets of <code>SimpleGraph</code> and <code>Graph</code> be denoted?<br>\n<code>SimpleGraph.E</code> and <code>Graph.V</code>/<code>Graph.E</code>, with <code>vertexSet</code> and <code>edgeSet</code> in lemma names<br>\n<code>[Simple]Graph.vertexSet</code> and <code>[Simple]Graph.edgeSet</code>,<br>\n<code>Graph.V</code> and <code>[Simple]Graph.edgeSet</code>, with <code>vertexSet</code> for <code>Graph.V</code> in lemma names</p>",
        "id": 516782618,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746660894
    },
    {
        "content": "<p>(To be clear, the first option would involve a commitment to eventually rename <code>SimpleGraph.edgeSet</code> to <code>SimpleGraph.E</code>, without changing existing lemma names.)</p>",
        "id": 516783309,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746661400
    },
    {
        "content": "<p>My opinion is that we should also move towards refactoring SimpleGraph to either mimic Graph or be defined in terms of it, ie eventually go even further than just renaming to match</p>",
        "id": 516783451,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1746661498
    },
    {
        "content": "<p>4 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Multigraph.20notation.20-.20naming.20poll/with/516780430\">#mathlib4 &gt; Multigraph notation - naming poll</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 516786160,
        "sender_full_name": "Notification Bot",
        "timestamp": 1746663299
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"329425\">Peter Nelson</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Renaming.20SimpleGraph.2E.7BedgeSet.2CvertexSet.7D/near/516782444\">said</a>:</p>\n<blockquote>\n<p>I'm happy to have it moved to a new thread if a moderator thinks that would be better).</p>\n</blockquote>\n<p>(I did this, I think we want visibility in the title of the rename being proposed, to make it easier to spot)</p>",
        "id": 516786213,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746663342
    },
    {
        "content": "<p>The proposal to use <code>vertexSet</code> in theorems names but <code>V</code> in the definition seems quite strange to me; this goes against our default symbol-reading rule (though the new preferred spelling machinery does at least give us a way to document it). I would have expected <code>V</code> in both places or neither, like <code>Polynomial.X</code> (which I guess could have been <code>Polynomial.var</code> instead)</p>",
        "id": 516786367,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746663436
    },
    {
        "content": "<p>I agree it goes against the default; my vote above is assuming that it's documented using recommended_spelling, in the module doc, and on the definition itself, together with the justification (as in the original post here) for the decision. Provided it is, I think the justification above makes sense</p>",
        "id": 516787488,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1746664183
    },
    {
        "content": "<p>I might be missing some context from somewhere else, but what is the case against using V/E in names too?</p>\n<p>I'm not strongly opposed to introducing a split, but in mirroring Matroid, we might also consider verts/vertices/edges as names.</p>",
        "id": 516818865,
        "sender_full_name": "Pim Otte",
        "timestamp": 1746684983
    },
    {
        "content": "<p>Single capital letters look strange with the capitalization convention in lemma names, I find. It also feels right for lemma names to correspond somewhat to how things are said, rather than written.</p>\n<p><code>verts</code>/<code>edges</code> isn’t bad, though. One disadvantage maybe is that these objects will also be packaged in <code>Finset</code> and <code>List</code> forms in other places, so <code>Set</code> disambiguates these.</p>",
        "id": 516865971,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746701607
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"329425\">Peter Nelson</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Renaming.20SimpleGraph.2E.7BedgeSet.2CvertexSet.7D/near/516865971\">said</a>:</p>\n<blockquote>\n<p>Single capital letters look strange with the capitalization convention in lemma names, I find</p>\n</blockquote>\n<p>But we do use them extensively in Polynomial</p>",
        "id": 516872330,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746703788
    },
    {
        "content": "<p>My two cents as a passerby:<br>\nI think it is very strange if the name of the definition doesn't match the name in lemmas. Maybe one could consider naming the field <code>vertexSet</code> but introduce a scoped notation <code>V(G)</code> for that?</p>",
        "id": 516873495,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746704177
    },
    {
        "content": "<p>That hadn’t occurred to me, but that is exactly how it is written, and would be perfect. If there are no technical problems with that, it would be a great compromise-free solution.</p>",
        "id": 516876156,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746705095
    },
    {
        "content": "<p>I've now played around with <code>V(G)</code>/<code>E(G)</code> notation, and it has caused no problems, even when the same notation is used for multiple related objects, eg <code>V(P)</code> for the vertex set of a path in a graph <code>G</code>, with statements like <code>V(P) = V(G)</code>. See <a href=\"https://github.com/apnelson1/Matroid/blob/1ec1b2e05f43d32a62b4393cea090f6cbf6461ab/Matroid/Graph/Connected.lean#L406\">this proof in my repo</a> for an example of the notation in action.</p>",
        "id": 516917338,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746716396
    },
    {
        "content": "<p>I think this is really the ideal solution - it will mean that no actual definitions or lemma names  in <code>SimpleGraph</code> need to be deprecated or refactored; we just define new notation <code>E(G)</code> for <code>SimpleGraph.edgeSet G</code> and change lemma statements to use it. <br>\nThe <code>E(_)</code> and <code>V(_)</code> notation could also become standard for paths, walks, cycles, subgraphs, etc in both simple and non-simple graphs. </p>\n<p>We could also introduce a similar notation like <code>E₀(G)</code> for <code>G.edgeFinset</code>.</p>",
        "id": 516918542,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746716690
    },
    {
        "content": "<p>I've added a new poll option, and changed my vote in that direction.</p>",
        "id": 516920298,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746717163
    },
    {
        "content": "<p>Are you suggesting <code>vxSet</code> as the name, or did the poll force you to truncate?</p>",
        "id": 516923655,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746718057
    },
    {
        "content": "<p>Yes, I am. <code>vertexSet</code> is a bit long. <code>SimpleGraph.subgraph</code> uses <code>verts</code>, but I think it is less obvious from the name what type that should have.</p>",
        "id": 516927297,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746719020
    },
    {
        "content": "<p><code>vx</code> is the normal 'teaching on the board' abbreviation for 'vertex'.</p>",
        "id": 516927450,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746719052
    },
    {
        "content": "<p>If you have a notation available, isn't it reasonable for the full name to be as understandable as possible, i.e., <code>vertexSet</code>? (I have never encountered <code>vx</code>)</p>",
        "id": 516945342,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1746724706
    },
    {
        "content": "<p>It was a late addition to the poll, but reactions seems to suggest we are on board with the <code>V(G)</code>/<code>E(G)</code> notation, with <code>vertexSet</code>/<code>edgeSet</code> in definitions. Is this correct?</p>",
        "id": 517140017,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746805223
    },
    {
        "content": "<p>Should we pick a notation for the finset ones at the same time?</p>",
        "id": 517144912,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746806823
    },
    {
        "content": "<p><code>E₀(G)</code> and <code>V₀(G)</code> are what come to mind - are there any other suggestions? (Note that this really only applies to <code>SimpleGraph.edgeFinset</code> at the moment - there is nothing planned immediately for finsets and <code>Graph</code>)</p>",
        "id": 517215804,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746845509
    },
    {
        "content": "<p>I don't know if there's any precedent in mathlib for using _0 in that way</p>",
        "id": 517254129,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746879651
    },
    {
        "content": "<p>I'm guessing the idea comes from <code>→₀</code>, but that notation is probably because <code>Finsupp</code> is a function that is mostly zero, not that <code>₀</code> has anything inherent to do with finiteness.</p>",
        "id": 517254248,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746879765
    },
    {
        "content": "<p>Maybe a subscript <code>f</code>, similar to <code>finsum</code>?</p>",
        "id": 517255106,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746880537
    },
    {
        "content": "<p>I thought finsum was superscript?</p>",
        "id": 517256151,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746881507
    },
    {
        "content": "<p>It is. Either would work</p>",
        "id": 517258250,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1746883385
    }
]