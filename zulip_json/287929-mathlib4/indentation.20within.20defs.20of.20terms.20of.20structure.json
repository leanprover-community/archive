[
    {
        "content": "<p>When defining a term of a structure with the <code>where</code> command, fields should be indented one space, but how many spaces should proofs within these fields be indented, one or two spaces?</p>",
        "id": 452877523,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1721501884
    },
    {
        "content": "<p>I thought fields were two spaces?</p>",
        "id": 452878364,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721502358
    },
    {
        "content": "<p>For example, here: <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/Mathlib/Combinatorics/SimpleGraph/Basic.lean#L114-L124\">https://github.com/leanprover-community/mathlib4/blob/master/Mathlib/Combinatorics/SimpleGraph/Basic.lean#L114-L124</a></p>\n<p>Two spaces for fields, and then a total of four spaces for the continued value (like the tactic script)</p>",
        "id": 452878517,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721502431
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/287929-mathlib4/topic/indentation.20within.20defs.20of.20terms.20of.20structure/near/452878364\">said</a>:</p>\n<blockquote>\n<p>I thought fields were two spaces?</p>\n</blockquote>\n<p>I'm not talking about <code>structure</code>, <code>class</code> or <code>instance</code> (of a class),  but about the definition of a term belonging to a structure.</p>",
        "id": 452881184,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1721502542
    },
    {
        "content": "<p>That <code>instance</code> is defining a term of a <code>structure</code> (it could be written <code>@[instance] def ... where ...</code>)</p>",
        "id": 452881393,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721502626
    },
    {
        "content": "<p>Can you give an example?</p>",
        "id": 452881399,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721502629
    },
    {
        "content": "<p>Does it make any difference wrt indentation if fields stand on multiple lines vs a def where every field holds on a single line?</p>",
        "id": 452895032,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1721506827
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">  </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">tac1</span>\n<span class=\"w\">    </span><span class=\"n\">tac2</span>\n<span class=\"w\">  </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n<span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">      </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">      </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 452897227,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721508033
    },
    {
        "content": "<p>I think it's always that indentation is a multiple of two spaces, though there might be some exceptions if it's an expression in parentheses or other delimiters that's being continued.</p>",
        "id": 452897299,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721508106
    },
    {
        "content": "<p>My question was motivated by the fact that today I wrote something of the form</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">    </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"w\">    </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">    </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">tact1</span>\n<span class=\"w\">    </span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">tact2</span>\n</code></pre></div>\n<p>each field indented with 2 spaces and I got a linter error after a <code>git push</code>, it wanted the fields to be indented with only one space.</p>",
        "id": 452897950,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1721508578
    },
    {
        "content": "<p>I'm confused â€” each field is indented with 4 spaces there</p>",
        "id": 452898083,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721508641
    },
    {
        "content": "<p>When you say \"space\" are you meaning \"tab\"? In the mathlib default VS Code settings, each tab key is replaced with two spaces:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>\"editor.insertSpaces\": true,\n\"editor.tabSize\": 2,\n</code></pre></div>",
        "id": 452898177,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1721508735
    },
    {
        "content": "<p>I realised my confusion now! Thank you.</p>",
        "id": 452898618,
        "sender_full_name": "Anthony Bordg",
        "timestamp": 1721509083
    }
]