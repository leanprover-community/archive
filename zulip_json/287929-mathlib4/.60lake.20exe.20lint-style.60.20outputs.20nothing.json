[
    {
        "content": "<p>When I run <code>lake exe lint-style</code> on my computer (lean toolchain is <code>leanprover/lean4:v4.12.0-rc1</code>), nothing happens while running the python script with the indicated parameters show a few lint-style issues. In particular, passing the <code>--fix</code> argument does nothing neither.<br>\nIs there a way to trace the linter on my machine to try to understand what is happening?</p>",
        "id": 470317984,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726396671
    },
    {
        "content": "<p>You can just add some print statements</p>",
        "id": 470321015,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726398157
    },
    {
        "content": "<p>Nothing more sophisticated yet, I'm afraid</p>",
        "id": 470321054,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726398171
    },
    {
        "content": "<p>Though note that I recently fixed an issue in the shell script that sits between the lean and python code, so check if you're up to date</p>",
        "id": 470321189,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726398239
    },
    {
        "content": "<p>Super naive question: If I want to modify the lean script, should I have it run using <code>lake exe</code> or will <code>lean … </code>work?</p>",
        "id": 470324298,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726399983
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.60lake.20exe.20lint-style.60.20outputs.20nothing/near/470321189\">said</a>:</p>\n<blockquote>\n<p>Though note that I recently fixed an issue in the shell script that sits between the lean and python code, so check if you're up to date</p>\n</blockquote>\n<p>How to do that? Does it suffice to do <code>git pull</code> in a <code>mathlib</code> branch?</p>",
        "id": 470324402,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726400061
    },
    {
        "content": "<p>If you point me to a branch/commit where this is happening, I can investigate in 1-2 weeks. (Sorry, no Lean time right now.)</p>",
        "id": 470345892,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1726411952
    },
    {
        "content": "<p>I think <code>lake exe lint-style</code> is the one.</p>",
        "id": 470345921,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1726411969
    },
    {
        "content": "<p>So, the issue is in the python linters, right? Then, you have three layers at which you can try debugging:</p>\n<ul>\n<li>run <code>python3 lint-style.py &lt;file&gt;</code> from the terminal: does this display errors? Does <code>python3 lint-style.py --fix</code> work?</li>\n<li>run <code>./print-style-errors.sh</code>: does this still display errors? Does passing <code>--fix</code> fix them?</li>\n<li>the final step is running <code>lake exe lint-style</code>, optionally with the <code>--fix</code> argument.</li>\n</ul>\n<p>Just to be clear: \"doing nothing\" means \"no errors are reported\", right? (Not all errors can be fixed automatically.)</p>",
        "id": 470346214,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1726412116
    },
    {
        "content": "<p>Sorry not to be more explicit. “does nothing” means: outputs nothing, and <code>--fix</code>doesn't fix anything.<br>\nWhen I run <code>lint-style.py</code> from the terminal, it displays errors, but I didn't check about <code>--fix</code>though. </p>\n<p>Next time the problem happens (I add trailing spaces all the time…), I'll check your list in order.</p>",
        "id": 470364282,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726421303
    },
    {
        "content": "<p>So you added a trailing space? I see; that is already helpful.</p>",
        "id": 470378411,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1726428817
    },
    {
        "content": "<p>(Many text editors, including VS Code, have an option to remove trailing whitespace on saving the file. <em>I</em> find this really helpful...)</p>",
        "id": 470378485,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1726428858
    }
]