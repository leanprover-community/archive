[
    {
        "content": "<p>Hi, as my first contribution (<span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>) I'd like to add a definition of the maximal spectrum of a ring. In my local work I defined it just as a set:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">specMax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"bp\">.</span><span class=\"n\">IsMaximal</span><span class=\"o\">}</span>\n</code></pre></div>\n<p>but the prime spectrum is already defined in Mathlib4 as a type (<a href=\"https://github.com/leanprover-community/mathlib4/blob/v4.15.0/Mathlib/RingTheory/PrimeSpectrum.lean#L61\">https://github.com/leanprover-community/mathlib4/blob/v4.15.0/Mathlib/RingTheory/PrimeSpectrum.lean</a>):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">PrimeSpectrum</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommSemiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">asIdeal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">R</span>\n<span class=\"w\">  </span><span class=\"n\">isPrime</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">asIdeal</span><span class=\"bp\">.</span><span class=\"n\">IsPrime</span>\n</code></pre></div>\n<p>Should I follow this for consistency? If so, should I create separate file <code>MaximalSpectrum.lean</code> with the definition under <code>RingTheory/</code> or maybe better under <code>RingTheory/Ideal/</code>? Or for now just add it to the file <code>RingTheory/Ideal/Maximal.lean</code>?</p>\n<p>One negative side of implementing it as the <code>structure</code> is that I use theorems like <code>IsArtinian.equivPi</code> that deals with the set but on the other hand maybe we want to replace occurrences of <code>{I : Ideal R | I.IsMaximal}</code> (the variable <code>R</code> might differ here) by <code>MaximalSpectrum R</code> wherever possible.</p>\n<p>Any thoughts?</p>",
        "id": 493659670,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1736884854
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MaximalSpectrum#doc\">docs#MaximalSpectrum</a> already exists I believe. We should probably reduce the imports so that it could be imported into <code>ArtinianRing.lean</code> to refactor that.</p>",
        "id": 493661589,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1736885574
    },
    {
        "content": "<p>Thanks, it seems I need to learn how to search for things <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span> I swear I was looking for it but maybe not enough <span aria-label=\"face with peeking eye\" class=\"emoji emoji-1fae3\" role=\"img\" title=\"face with peeking eye\">:face_with_peeking_eye:</span> </p>\n<p>Do we want to create a subdirectory <code>Spectrum</code> with <code>Maximal.lean</code>, <code>Prime.lean</code> (definitions + simple facts) and somehow organize the rest of the results? I might come up with some suggestions if original authors agree.</p>\n<p>Then the next step would be to refactor the rest using the definitions.</p>",
        "id": 493667254,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1736887568
    },
    {
        "content": "<p>My suggestion would be to create <code>RingTheory/Spectrum/Prime/Defs.lean</code> that contains only the definition of <code>PrimeSpectrum</code> and move  <a href=\"https://tqft.net/mathlib4files/RingTheory/PrimeSpectrum\">file#RingTheory/PrimeSpectrum</a> to <code>/Basic.lean</code> and everything <code>AlgebraicGeometry/PrimeSpectrum/*</code> inside (with <code>Basic</code> renamed to <code>Topology</code> or <code>ZariskiTopology</code>). The same for <code>MaximalSpectrum</code> (to <code>Maximal/Defs</code> and <code>Maximal/Basic</code>).</p>",
        "id": 493669869,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1736888556
    },
    {
        "content": "<p>Sidenote: I have previously discussed with <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> privately on moving <code>PrimeSpectrum</code> out of <code>AG</code> entirely and IIRC our conclusion is to make the line between AG and CA to be the use of sheaf theory or not. Happy to hear other suggestions though.</p>",
        "id": 493670159,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1736888654
    },
    {
        "content": "<p>This sounds reasonable. I can refactor and we can discuss once PR is there.</p>",
        "id": 493680392,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1736892925
    },
    {
        "content": "<p>PR opened: <a href=\"https://github.com/leanprover-community/mathlib4/pull/20772\">#20772</a> and new topic started: <a class=\"stream-topic\" data-stream-id=\"144837\" href=\"/#narrow/channel/144837-PR-reviews/topic/.2320772.20split.20off.20definition.20of.20ring.20spectra\">#PR reviews &gt; #20772 split off definition of ring spectra</a> <br>\nthe PR contains only splitting off definitions. Moving results from <code>AlgebraicGeometry</code> will follow in a separate PR to keep changes reasonably small.</p>",
        "id": 493914300,
        "sender_full_name": "Michał Staromiejski",
        "timestamp": 1736944027
    }
]