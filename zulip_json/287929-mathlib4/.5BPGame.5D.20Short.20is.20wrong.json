[
    {
        "content": "<p>I wanted to prove the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">birthday_short</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">})</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">.</span><span class=\"n\">birthday</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">Ordinal</span><span class=\"bp\">.</span><span class=\"n\">omega0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Short</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">induction</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">xl</span><span class=\"w\"> </span><span class=\"n\">xr</span><span class=\"w\"> </span><span class=\"n\">xL</span><span class=\"w\"> </span><span class=\"n\">xR</span><span class=\"w\"> </span><span class=\"n\">ihl</span><span class=\"w\"> </span><span class=\"n\">ihr</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">i‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsEmpty</span><span class=\"w\"> </span><span class=\"n\">xl</span><span class=\"w\"> </span><span class=\"bp\">&lt;;&gt;</span><span class=\"w\"> </span><span class=\"n\">by_cases</span><span class=\"w\"> </span><span class=\"n\">i‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsEmpty</span><span class=\"w\"> </span><span class=\"n\">xr</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Short</span><span class=\"bp\">.</span><span class=\"n\">ofIsEmpty</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"c1\">-- I only focus on when both aren't empty, since these two cases will hold very quickly from the final one.</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">    </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">k‚ÇÅ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">ihl</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">birthday_moveLeft_lt</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">k‚ÇÇ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">ihr</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">birthday_moveRight_lt</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">xl</span><span class=\"w\"> </span><span class=\"n\">xr</span><span class=\"w\"> </span><span class=\"n\">xL</span><span class=\"w\"> </span><span class=\"n\">xR</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">LeftMoves</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">      </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">xl</span><span class=\"w\"> </span><span class=\"n\">xr</span><span class=\"w\"> </span><span class=\"n\">xL</span><span class=\"w\"> </span><span class=\"n\">xR</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">RightMoves</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">Short</span><span class=\"bp\">.</span><span class=\"n\">mk'</span><span class=\"w\"> </span><span class=\"n\">k‚ÇÅ</span><span class=\"w\"> </span><span class=\"n\">k‚ÇÇ</span>\n</code></pre></div>\n<p>However, can't games with non-fintype left moves that are still short exist? (For example, games that have some infinite type but each type instance maps to 0).</p>",
        "id": 491041708,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735341943
    },
    {
        "content": "<p>Yep! That proposition doesn't hold by counterexample: <a href=\"https://live.lean-lang.org/#codez=JYWwDg9gTgLgBAWQIYwBYBtgCMB0BlAUxgBVUDoBPHAcSRAJwAVb6AoUSWRFDbfI0uShUWDPKmgx24SdzSZchEmUo06DAELBYqACZIK0zvGTy+SwaoDyUXcAB2SdDg1IAzsADGR2ad64AERQkHAAxBxgKME13Lx8uPwUcIJgQ8PtI6JwAYSRbVlZHejcwJE8COAsVYQKIaPs4N086gl04ADkUAFcoJyswNzhmdQLdAgAzRtSoAEk3VDgALiHRJYBeOEAL8kBUQgAaOD24ca6GgH04NYA+OAAGfeOzi+ubwEvyAoABAG0PcABdODQQgIICmeTmqFO6AmMAQEAAbgRBss3NNwTgADLQ2EIwYbbbrOBQcboVhfH5gf6A6DA0GzeanKDAADmqBh8MRS1paIASszWdiOXiCUSSaTvhxKdUaSiwfSQOzMeN4AAPTkyumoHDyhGKlUXW7C4li8mSoEg9Xg07agi8ll65Go+Za9m21lwVUbG6G0UAWh9cAAojKsJh5gDUChaadgE6sNo0PoKPqAIysKlQaXTaP0uM6RNqx2a3MJgwpglYJNQADucE+w3oOGLegMpzG41+AG5GhwCn64ABNIj7YDwGP2ADk8HEkjTUpB9ggMFOFvp81kyzmAfAkTgAAp62IJFwV6gAJTlwxwQk1z4xrdgSLR8bt1hXiJQCBwVCvuCedwc78ryQLA3B6NoHBRGZ7HGBwRwITopCvck4Agex0CTT4FyXBwYPsOCn3GU5cLg/Z0jgnAIEI3DMgqU5fgKAh7DaKohAoIA\">see playground</a>.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">Game</span><span class=\"bp\">.</span><span class=\"n\">PGame</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">Game</span><span class=\"bp\">.</span><span class=\"n\">Short</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">Game</span><span class=\"bp\">.</span><span class=\"n\">Birthday</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">Ordinal</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Fintype</span><span class=\"bp\">.</span><span class=\"n\">Card</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">SetTheory</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">NaturalOps</span><span class=\"w\"> </span><span class=\"n\">PGame</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">‚ü©</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">starIsh_leftMoves</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"bp\">.</span><span class=\"n\">LeftMoves</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">starIsh_rightMoves</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"bp\">.</span><span class=\"n\">RightMoves</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">starIsh_moveLeft</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"bp\">.</span><span class=\"n\">moveLeft</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">starIsh_moveRight</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"bp\">.</span><span class=\"n\">moveRight</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"c1\">-- Establish that star_ish.birthday = 1</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">star_ish_birthday</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"bp\">.</span><span class=\"n\">birthday</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">birthday_def</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n\n<span class=\"c1\">-- Yet, it isn't Short</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">not_starIsh_short</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsEmpty</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">PGame</span><span class=\"bp\">.</span><span class=\"n\">Short</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">isEmpty_iff</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">absurd</span><span class=\"w\"> </span><span class=\"n\">instInfiniteNat</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">not_infinite_iff_finite</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Finite</span><span class=\"bp\">.</span><span class=\"n\">of_fintype</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"o\">]</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">SetTheory</span>\n</code></pre></div>",
        "id": 491045216,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735345286
    },
    {
        "content": "<p>If <code>Short</code> is incorrect, how would a new one be formalized? The proper definition of short considers a set finite only if it contains finitely many elements up to equivalence. Neither <code>Identical</code> nor <code>Relabelling</code> would work in this definition.</p>",
        "id": 491045384,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735345480
    },
    {
        "content": "<p>I'm much more convinced of this, so I've made an issue about this: <a href=\"https://github.com/leanprover-community/mathlib4/issues/20275\">https://github.com/leanprover-community/mathlib4/issues/20275</a></p>",
        "id": 491048127,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735348361
    },
    {
        "content": "<p>I think the definition in mathlib should be kept, possibly changing its name to avoid confusion. (Though, one could also argue that this confusion is inevitable because Conway, who originally defined short games, was not very careful about distinguishing pregames and games, and the definition in mathlib is already the correct one for pregames.)</p>\n<p>The definition you want is equivalent to the property of being <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.Identical#doc\">docs#SetTheory.PGame.Identical</a> to a pregame satisfying <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.Short#doc\">docs#SetTheory.PGame.Short</a>. This can be given its own abbreviation if desired.</p>",
        "id": 491051369,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735351825
    },
    {
        "content": "<p>On second thought, it is probably inappropriate for me to read your mind and talk about \"the definition you want\", because I am not sure what definition you want. For example, the pregame <code>zeroIsh</code> in the following definition is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.Identical#doc\">docs#SetTheory.PGame.Identical</a> to the short pregame <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mo>‚àó</mo><mtext>‚Äâ</mtext><mi mathvariant=\"normal\">‚à£</mi><mtext>‚Äâ</mtext><mo>‚àó</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\ast \\, | \\, \\ast\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{</span><span class=\"mord\">‚àó</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">‚à£</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">‚àó</span><span class=\"mclose\">}</span></span></span></span>, but I am not sure whether you consider it to be short or not.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">starIshFamily</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">‚ü©</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">zeroIsh</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">starIshFamily</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">starIshFamily</span><span class=\"bp\">‚ü©</span>\n</code></pre></div>",
        "id": 491052409,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735353055
    },
    {
        "content": "<p>I can tell you that I prefer the definition involving <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Short.PGame.Identical#doc\">docs#Short.PGame.Identical</a>, though. For example, it gives a reasonable answer for the pregame <code>zeroIsh'</code> defined here; namely, that it is indeed short.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">starIshFamily'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">‚ü©</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">zeroIsh'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">starIshFamily'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">starIshFamily'</span><span class=\"bp\">‚ü©</span>\n</code></pre></div>\n<p>This is an interesting example because it is probably impossible to prove that <code>starIshFamily'</code> isn't a constant function (<a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Newbie.20question.20.3A.20Equality.20of.20Types\">#new members &gt; Newbie question : Equality of Types</a>), and thus the left options of <code>zeroIsh'</code> may or may not all be equal to each other.</p>",
        "id": 491053025,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735353725
    },
    {
        "content": "<p>Here's another perspective. Consider this pregame from your example.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">‚ü©</span>\n</code></pre></div>\n<p>You say that this should be considered short, because even though there are infinitely many left options, they are all equal to each other. However, this argument relies on the statement that <code>0 = 0</code>, which is an equality of pregames. There is a reason that no definitions currently in mathlib, as far as I know, refer to equality of pregames; it is an \"evil\" notion (<a href=\"https://nforum.ncatlab.org/discussion/3616/evil/\">https://nforum.ncatlab.org/discussion/3616/evil/</a>) and can cause many innocuous statements to become unprovable (<a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Newbie.20question.20.3A.20Equality.20of.20Types\">#new members &gt; Newbie question : Equality of Types</a> ). So, maybe the definition in mathlib is correct, and this game shouldn't be considered short.</p>",
        "id": 491053628,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735354408
    },
    {
        "content": "<p>Overall, it is expected that some definitions will have to be slightly changed from Conway's book, both because Conway never formally defined a \"pregame\" and because he was working from different foundations. Given that, I think the definition of \"short pregame\" currently in mathlib is very sensible.</p>",
        "id": 491054302,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735355089
    },
    {
        "content": "<p>I would, however, agree with changing the docstrings to make some of these issues more clear.</p>",
        "id": 491054406,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735355211
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491053628\">said</a>:</p>\n<blockquote>\n<p>Here's another perspective. Consider this pregame from your example.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">starIsh</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">‚ü©</span>\n</code></pre></div>\n<p>You say that this should be considered short, because even though there are infinitely many left options, they are all equal to each other. However, this argument relies on the statement that <code>0 = 0</code>, which is an equality of pregames. There is a reason that no definitions currently in mathlib, as far as I know, refer to equality of pregames; it is an \"evil\" notion (<a href=\"https://nforum.ncatlab.org/discussion/3616/evil/\">https://nforum.ncatlab.org/discussion/3616/evil/</a>) and can cause many innocuous statements to become unprovable (<a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Newbie.20question.20.3A.20Equality.20of.20Types\">#new members &gt; Newbie question : Equality of Types</a> ). So, maybe the definition in mathlib is correct, and this game shouldn't be considered short.</p>\n</blockquote>\n<p>I would usually favor keeping <code>Short</code> and adding a looser, <del>equality</del> equiv-based definition, but there has been an argument in the past about deprecating <code>Relabelling</code> for the same reason (that it preserves the type-theoretic game duplicates that Conway's construction usually wouldn't have): <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Nat.20.E2.86.92.20PGame.20cast.2C.20again/near/490833001\">#mathlib4 &gt; Nat ‚Üí PGame cast, again @ üí¨</a> </p>\n<p>It would make sense to have a definition of <code>Short</code> that's up to <code>Identical</code>. I believe the definition of Short in ONAG is described up to the formalized <code>Equiv</code> equivalence class, but <code>Identical</code> wouldn't violate <code>(h : x.birthday &lt; Ordinal.omega0) : Short x</code> nor <code>(h : Ordinal.omega0 ‚â§ x.birthday) : IsEmpty (Short x)</code>.</p>",
        "id": 491055279,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735356126
    },
    {
        "content": "<p>I don't know what you mean by \"a definition of <code>Short</code> that's up to <code>Identical</code>\". I would usually guess this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">PGame</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsShortUpToIdentity</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Short</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Identical</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">PGame</span>\n</code></pre></div>\n<p>but then you said you don't want to keep the old definition.</p>",
        "id": 491055828,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735356751
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491055828\">said</a>:</p>\n<blockquote>\n<p>I don't know what you mean by \"a definition of <code>Short</code> that's up to <code>Identical</code>\". I would usually guess this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">PGame</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">IsShortUpToIdentity</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">q</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PGame</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Short</span><span class=\"w\"> </span><span class=\"n\">q</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Identical</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">q</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">SetTheory</span><span class=\"bp\">.</span><span class=\"n\">PGame</span>\n</code></pre></div>\n<p>but then you said you don't want to keep the old definition.</p>\n</blockquote>\n<p>My bad. I mean the definition you describe here: <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491053025\">#mathlib4 &gt; [PGame] Short is wrong @ üí¨</a></p>",
        "id": 491055870,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735356828
    },
    {
        "content": "<p>Yes, the definition I meant in that post is just <code>IsShortUpToIdentity</code>.</p>",
        "id": 491055944,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735356886
    },
    {
        "content": "<p>Overall, I support adding <code>def IsShortUpToIdentity (p : PGame) : Prop := ‚àÉ (q : PGame) (_ : Short q), Identical p q</code> if you need it for something. I think you could argue that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.Short#doc\">docs#SetTheory.PGame.Short</a> should be renamed (though I would disagree), but the content of the definition should not be removed or changed.</p>",
        "id": 491056157,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735357147
    },
    {
        "content": "<p>I did not see the definition like that! I do see why there would be value in preserving the old <code>Short</code> definition then. However, the name is definitely misleading in that regard: I can't find the rigorous definition of a short game in ONAG right now, but I believed it to be similar to the definition described in Aaron Siegel's <em>Combinatorial Game Theory,</em> where short games are games with finite left and right sets up to equivalence.</p>",
        "id": 491056233,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735357219
    },
    {
        "content": "<p>I wanted to use <code>Short</code> for formalizing game stops (which can only have a value if a game is Short), which is where I needed the theorem <code>noncomputable def birthday_short (x : PGame.{u}) (h : x.birthday &lt; Ordinal.omega0) : Short x</code>.</p>",
        "id": 491056352,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735357384
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"767695\">Tristan Figueroa-Reid</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491056352\">said</a>:</p>\n<blockquote>\n<p>I wanted to use <code>Short</code> for formalizing game stops (which can only have a value if a game is Short), which is where I needed the theorem <code>noncomputable def birthday_short (x : PGame.{u}) (h : x.birthday &lt; Ordinal.omega0) : Short x</code>.</p>\n</blockquote>\n<p>I would think <code>Finite</code> or something along the lines would be a better name for <code>Short</code>, since one of the consequences of <code>Short</code> right now is that it's decidable, which wouldn't be the case for <code>IsShortUpToIdentity</code>.</p>",
        "id": 491056727,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735357810
    },
    {
        "content": "<p>Can you tell me what exactly Siegel's book says about what a \"game\" is and what a \"short game\" is? I do not have access to it.</p>",
        "id": 491056937,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735358083
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491056937\">said</a>:</p>\n<blockquote>\n<p>Can you tell me what exactly Siegel's book says about what a \"game\" is and what a \"short game\" is? I do not have access to it.</p>\n</blockquote>\n<blockquote>\n<p>Let G‚ÇÄ = {0}, and for n ‚â• 0 put G_{n+1} = {{G^L | G^R} : G^L, G^R ‚ää G‚Çô}. Then a short game is an element of G = ‚à™_{n ‚â• 0} G_n (note: ‚à™ is union here.)<br>\nG^L and G^R are not permitted to be infinite sets of options</p>\n</blockquote>\n<p>Later on, the equivalence relation between two games is described:</p>\n<blockquote>\n<p>G = H if and only if the outcome o(G - H) = P (or the previous player).</p>\n</blockquote>\n<p>Note that Siegel's book does not use Conway's pre-game construction: I can't find an instance of Siegel describing what a 'set' is either.</p>",
        "id": 491057476,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735358632
    },
    {
        "content": "<p>However, these sets seem to act like normal mathematical sets: when he manipulates sets in the <em>Canonical Form</em> section of the <em>Short Games</em> chapter, he writes</p>\n<p><code>^ + * = {^ + 0, 0 + * | ^ + 0, * + * } = {^, * | ^, 0}</code> (where <code>^</code> is the up game.)</p>\n<p>The <a href=\"https://www.cgsuite.org/\">CGSuite</a> software also uses regular mathematical sets.</p>",
        "id": 491057797,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735358986
    },
    {
        "content": "<p>Thank you.</p>\n<p>In mathlib, we have these three distinct concepts:</p>\n<ol>\n<li>pregames</li>\n<li>equivalence classes of pregames, with the identity relation <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.Identical#doc\">docs#SetTheory.PGame.Identical</a> (also called extensional equivalence) </li>\n<li>equivalence classes of pregames, with the equivalence relation <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SetTheory.PGame.Equiv#doc\">docs#SetTheory.PGame.Equiv</a>, which Siegel and Conway both confusingly denote using an equals sign</li>\n</ol>\n<p>Based on what you have written, Siegel only appears to have the second and third of these concepts. This is because his treatment is modeled on ZF set theory, which is designed to be extensional (<a href=\"https://en.wikipedia.org/wiki/Axiom_of_extensionality\">https://en.wikipedia.org/wiki/Axiom_of_extensionality</a>). This is why Siegel can write things like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0 = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> without even batting an eye.</p>\n<p>If we want to define what it means for a pregame to be \"short\", it is thus necessary to extend Siegel's definition so that it makes sense for pregames, rather than just equivalence classes of pregames with the identity relation.</p>",
        "id": 491057988,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735359208
    },
    {
        "content": "<p>To put it another way: just like everything else, the combinatorial game theory in mathlib is based on type theory rather than set theory, so it makes sense that some of the definitions will need to be slightly different.</p>",
        "id": 491058562,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735359850
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491058562\">said</a>:</p>\n<blockquote>\n<p>To put it another way: just like everything else, the combinatorial game theory in mathlib is based on type theory rather than set theory, so it makes sense that some of the definitions will need to be slightly different.</p>\n</blockquote>\n<p>This makes sense, but it would conflict with deprecating the definitions that arise from type-theoretic backgrounds, like <code>Relabelling</code>: the reason there was any move to deprecate <code>Relabelling</code> was to explicitly shift away from the artifacts of lean's type theoretic foundations and focus more on the theory developed in combinatorial game theory. </p>\n<p>It makes sense to have the aforementioned <code>IsShortUpToIdentity</code> be dependent on <code>Short</code>, but having <code>Short</code> be called <code>Short</code> when not every game with a finite birthday is <code>Short</code> puts more focus on lean4's <code>PGame</code> definition rather than the original definitions.</p>",
        "id": 491058796,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735360094
    },
    {
        "content": "<p>Why is it important to you that every pregame with a finite birthday is <code>Short</code>?</p>\n<p>Also, I believe Violeta (<span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hern√°ndez</span>) wanted to introduce a definition <code>SetTheory.IGame</code> for equivalence classes of pregames under the identity relation; then we could simply have a definition<code>SetTheory.IGame.Short</code> rather than having the cumbersome <code>SetTheory.PGame.IsShortUpToIdentity</code>.</p>",
        "id": 491059059,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735360347
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491059059\">said</a>:</p>\n<blockquote>\n<p>Also, I believe Violeta (@Violeta Hern√°ndez) wanted to introduce a definition <code>SetTheory.IGame</code> for equivalence classes of pregames under the identity relation; then we could simply have a definition<code>SetTheory.IGame.Short</code> rather than having the cumbersome <code>SetTheory.PGame.IsShortUpToIdentity</code>.</p>\n</blockquote>\n<p>Oh! I didn't hear about <code>SetTheory.IGame</code>. That would definitely resolve a lot of these issues.</p>\n<blockquote>\n<p>Why is it important to you that every pregame with a finite birthday is <code>Short</code>?</p>\n</blockquote>\n<p>I encountered needing such a thing when I was blueprinting temperature theory (as it helped for proofs by induction). I don't believe any theorems I was trying to prove would be impossible without it, though. That was the reason I came across this issue in the first place.</p>\n<p>It also aligns with what 'Short' is in the combinatorial game theory texts I've been reading [Lessons in Play also agrees with this definition], which seems reasonable to abide by.</p>",
        "id": 491059281,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735360583
    },
    {
        "content": "<p>I think my point is that the texts you are reading (at least, this is true for Conway's and Siegel's) don't say anything about what it means for a <code>SetTheory.PGame</code> to be short, because they don't have any such thing as a <code>SetTheory.PGame</code>. So it doesn't make sense to say that a particular definition of shortness for a <code>SetTheory.PGame</code> aligns or doesn't align with those texts.</p>",
        "id": 491059440,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735360788
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"695266\">Mitchell Lee</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491059440\">said</a>:</p>\n<blockquote>\n<p>I think my point is that the texts you are reading (at least, this is true for Conway's and Siegel's) don't say anything about what it means for a <code>SetTheory.PGame</code> to be short, because they don't have any such thing as a <code>SetTheory.PGame</code>. So it doesn't make sense to say that a particular definition of shortness for a <code>SetTheory.PGame</code> aligns or doesn't align with those texts.</p>\n</blockquote>\n<p>That makes sense. I'm not used to that definition realignment, but I'm starting to get the notion that that is not rare in mathlib4.</p>",
        "id": 491059766,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735361118
    },
    {
        "content": "<p>I haven't contributed to the combinatorial game theory in mathlib myself, so you should take what I say with a grain of salt. But I would think that one of the main benefits of the type-theoretic foundation is that you don't have to think too much about birthdays and you especially never have to say \"use transfinite induction on the birthday of <code>G</code>\". The necessary induction principles come for free from the way <code>SetTheory.PGame</code> is defined, which is as an inductive type. (See the section on \"Conway induction\" in this documentation: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/SetTheory/Game/PGame.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/SetTheory/Game/PGame.html</a>.) It is probably worth noting at this point that <code>SetTheory.PGame.Short</code> is an inductive type too.</p>",
        "id": 491060067,
        "sender_full_name": "Mitchell Lee",
        "timestamp": 1735361412
    },
    {
        "content": "<p>What's a \"game stop\" in combinatorial game theory?</p>\n<p>The goal of <code>Short</code> as I understand it was that these are the <code>PGame</code>s such that comparison is decidable. Though I recall that this functionality was somewhat broken? So perhaps we should test if this even works to begin with.</p>\n<p>As for a \"mathematical\" definition of short, I think there's only two real candidates: either an <code>IGame</code> whose birthday is finite, or a <code>Game</code> whose birthday is finite. In either case, I don't think we really need a definition for this, and we can instead work with the <code>birthday</code> function directly.</p>",
        "id": 491121122,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1735420878
    },
    {
        "content": "<p>I should note that I'm not planning to introduce <code>IGame</code> in the near future, I'm currently working on generalizing the antisymmetry / incomparability relations first. But if someone else wants to take on that role, it'd be greatly appreciated.</p>",
        "id": 491121227,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1735420976
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.5BPGame.5D.20Short.20is.20wrong/near/491121122\">said</a>:</p>\n<blockquote>\n<p>What's a \"game stop\" in combinatorial game theory?.</p>\n</blockquote>\n<p>The numeric value assigned to a game. It runs minimax on the left/right side of a game until it finds a numeric value:</p>\n<p>The left stop of a game G is defined as G if it is numeric, and the maximum of the right stops of its left options otherwise.</p>\n<p>The right stop of a game G is defined as G if it is numeric, and the minimum of the left stops of its right options otherwise.</p>\n<p>Stops are also a building block for temperature theory which looks at how these numeric values change.</p>\n<p>Stops only work for games with finite birthdays because min/max would not be well defined on finite birthdays, and only finite games return numeric values for empty left/right sets.</p>",
        "id": 491121608,
        "sender_full_name": "Tristan Figueroa-Reid",
        "timestamp": 1735421380
    },
    {
        "content": "<p>I think the approach of defining <code>Short</code> on <code>IGame</code> probably works best for this</p>",
        "id": 491121922,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1735421655
    },
    {
        "content": "<p>Then you can prove that this is equivalent to having a finite birthday</p>",
        "id": 491121932,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1735421666
    }
]