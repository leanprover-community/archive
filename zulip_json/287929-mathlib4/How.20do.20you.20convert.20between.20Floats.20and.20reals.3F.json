[
    {
        "content": "<p>I was just wondering how does one convert a Float value into reals and vice versa in mathlib? I couldn't find any accompanying function. I understand that in mathlib that you cant do computations with the reals, but what if I have a float value say 1.2 which is also the reals? i just want to convert it into the reals to say prove some theorems about it or use it as part of a theorem and not convert the whole theorem to use floats.</p>",
        "id": 516958558,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1746729386
    },
    {
        "content": "<p>Is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=OfScientific#doc\">docs#OfScientific</a> what you are looking for?<br>\nI don’t think it is possible to go the other way around though, unless there is some unsafe way that I am not aware of.</p>",
        "id": 516958857,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746729495
    },
    {
        "content": "<p>There's <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Float.toRat0#doc\">docs#Float.toRat0</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Rat.toFloat#doc\">docs#Rat.toFloat</a>, but I'm not sure even those will be useful to you.</p>",
        "id": 516958975,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1746729544
    },
    {
        "content": "<p>FYI reals are Cauchy sequences. I don't think you can convert it to a Float. The other direction should be possible.</p>",
        "id": 516959578,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1746729775
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/channel/287929-mathlib4/topic/How.20do.20you.20convert.20between.20Floats.20and.20reals.3F/near/516959578\">said</a>:</p>\n<blockquote>\n<p>FYI reals are Cauchy sequences. I don't think you can convert it to a Float. The other direction should be possible.</p>\n</blockquote>\n<p>I mean, you can certainly talk about the nearest Float to a real; you just need to know the convergence rate of the real so you know how many terms you need to sum</p>",
        "id": 516997058,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1746747736
    },
    {
        "content": "<p>But yeah that's an approximation ofc</p>",
        "id": 516997075,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1746747752
    },
    {
        "content": "<p>I don't see how you can know the convergence rate of a cauchy sequence. For example let <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>a</mi><mi>n</mi></msub><mo>=</mo></mrow><annotation encoding=\"application/x-tex\">a_n =</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span></span></span></span> \"if all even numbers up to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> is a sum of two primes then <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> else <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>\", which is perfectly \"computable\" in mathlib reals. Can you tell me if the closest float it converges to is 0 or 1?</p>",
        "id": 516999219,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746749185
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"359992\">Robert Maxton</span> <a href=\"#narrow/channel/287929-mathlib4/topic/How.20do.20you.20convert.20between.20Floats.20and.20reals.3F/near/516997058\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/channel/287929-mathlib4/topic/How.20do.20you.20convert.20between.20Floats.20and.20reals.3F/near/516959578\">said</a>:</p>\n<blockquote>\n<p>FYI reals are Cauchy sequences. I don't think you can convert it to a Float. The other direction should be possible.</p>\n</blockquote>\n<p>I mean, you can certainly talk about the nearest Float to a real; you just need to know the convergence rate of the real so you know how many terms you need to sum</p>\n</blockquote>\n<p>But the mathlib reals don't have to tell you their convergence rate!</p>",
        "id": 517001445,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746750473
    },
    {
        "content": "<p>... Ah. Right. Yes, I was looking at the exists in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsCauSeq#doc\">docs#IsCauSeq</a> and forgetting \"right, you can't actually computably extract the relevant <code>i</code>\". ^.^;</p>",
        "id": 517197834,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1746831009
    },
    {
        "content": "<p>Thanks everyone for the comments! I will look into the suggestions you made: )</p>",
        "id": 517432011,
        "sender_full_name": "Robert Joseph",
        "timestamp": 1747027262
    }
]