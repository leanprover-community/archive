[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/31666\">#31666</a> is failing because it is not finding a file which I added. It was working well before the module system I arrived, but I changed the imports in the file and added the <code>@[expose] public section</code> at the beginning and it's still fail. The error does not seem to mention <code>module</code> though so I am not sure it is related. Here is what appears in the <code>build mathlib</code> section of CI (<code>lake build</code> works locally).</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Run</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">pr</span><span class=\"bp\">-</span><span class=\"n\">branch</span>\n<span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">pr</span><span class=\"bp\">-</span><span class=\"n\">branch</span>\n<span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"bp\">'::</span><span class=\"n\">group</span><span class=\"bp\">::</span><span class=\"o\">{</span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"o\">}</span><span class=\"bp\">'</span>\n<span class=\"o\">{</span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"o\">}</span>\n<span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"bp\">::</span><span class=\"n\">endgroup</span><span class=\"bp\">::</span>\n<span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"bp\">../</span><span class=\"n\">master</span><span class=\"bp\">-</span><span class=\"n\">branch</span><span class=\"bp\">/</span><span class=\"n\">scripts</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">build</span><span class=\"bp\">-</span><span class=\"k\">with</span><span class=\"bp\">-</span><span class=\"n\">retry</span><span class=\"bp\">.</span><span class=\"n\">sh</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"n\">attempts</span><span class=\"bp\">...</span>\n<span class=\"bp\">****</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">attempt</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"bp\">âœ–</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Running</span><span class=\"w\"> </span><span class=\"n\">job</span><span class=\"w\"> </span><span class=\"n\">computation</span>\n<span class=\"w\">  </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">actions</span><span class=\"bp\">-</span><span class=\"n\">runner</span><span class=\"bp\">/_</span><span class=\"n\">work</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">/</span><span class=\"n\">pr</span><span class=\"bp\">-</span><span class=\"n\">branch</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">ConditionalExpectation</span><span class=\"bp\">/</span><span class=\"n\">Pullout</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">targets</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">job</span><span class=\"w\"> </span><span class=\"n\">computation</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"n\">completed</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mf\">1.</span>\n</code></pre></div>",
        "id": 558283090,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763579256
    },
    {
        "content": "<p>I conjecture that this is a casing issue. Your PR does not build on my linux machine (which is case sensitive) with the error</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">buzzard</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span><span class=\"bp\">/</span><span class=\"n\">Function</span><span class=\"bp\">/</span><span class=\"n\">ConditionalExpectation</span><span class=\"bp\">/</span><span class=\"n\">Pullout</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n</code></pre></div>\n<p>and indeed, in that directory I only find <code>PullOut.lean</code> with a capital O. I think the machines which run CI are also linux machines. Maybe you are using a Windows machine? I think that this is case-insensitive so might not object to the difference in spelling.</p>",
        "id": 558295409,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1763583858
    },
    {
        "content": "<p>Oh you're probably right, thanks! I am on a mac actually, I thought it was case sensitive too but apparently not...</p>",
        "id": 558295974,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763584038
    },
    {
        "content": "<p>Yes it works!</p>",
        "id": 558296141,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763584079
    },
    {
        "content": "<p>So what happened is that when I fixed the merge conflict because of the module system I retyped the import with the wrong case.</p>",
        "id": 558296373,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1763584153
    },
    {
        "content": "<p>Perhaps we should have a casing linter for imports? <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 558297310,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1763584456
    },
    {
        "content": "<p>Would that linter check the file system, or <code>Mathlib.lean</code>?</p>",
        "id": 558305083,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763587165
    },
    {
        "content": "<p>(The latter would make it much nicer to implement: it could be rolled into the <code>Header</code> linter.)</p>",
        "id": 558305121,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763587179
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"548935\">Thomas Murrills</span> <a href=\"#narrow/channel/287929-mathlib4/topic/PR.20adding.20a.20file.20fails/near/558297310\">said</a>:</p>\n<blockquote>\n<p>Perhaps we should have a casing linter for imports? <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>\n</blockquote>\n<p>At least we should say it somewhere in the doc, in case someone falls into the same trap and cannot understand where the problem comes from</p>",
        "id": 558713740,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1763745628
    }
]