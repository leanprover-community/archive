[
    {
        "content": "<p>I have proved several properties of Chebyshev polynomials over the reals, such as their roots and extreme points, and also one extremal property of the Chebyshev polynomials: they maximize the leading coefficient.<br>\nWhere should these results be put? In my draft, they comprise two separate files, one proving the easy properties, and one proving the extremal property. There are many other extremal properties of Chebyshev polynomials that could be proved in the future.<br>\nShould I create a new directory for these results and future ones?</p>",
        "id": 563437101,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765534311
    },
    {
        "content": "<p>How much code is it? <code>Mathlib.RingTheory.Polynomial.Chebyshev</code> doesn't seem to import \\R. <code>Mathlib.Analysis.SpecialFunctions.Trigonometric.Chebyshev</code> has some results, but perhaps not the right place</p>",
        "id": 563438876,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1765534905
    },
    {
        "content": "<p>I would lean towards <code>Mathlib.Analysis.SpecialFunctions.Trigonometric.Chebyshev</code>... but I'm not an expert on this topic.</p>",
        "id": 563441551,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765535740
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563441551\">said</a>:</p>\n<blockquote>\n<p>I would lean towards <code>Mathlib.Analysis.SpecialFunctions.Trigonometric.Chebyshev</code>... but I'm not an expert on this topic.</p>\n</blockquote>\n<p>That's good for the file with easy properties such as roots and extrema.<br>\nWhat about other files proving various extremal properties of Chebyshev polynomials?<br>\nI can try golfing them to a reasonable size, but there are quite a few of them...</p>",
        "id": 563487718,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765549958
    },
    {
        "content": "<p>It sounds like it might be reasonable to create a new directory <code>Analysis/SpecialFunctions/Trigonometric/Chebyshev</code> and then have files <code>Basic.lean</code> and <code>Extremal.lean</code> (not sure about the name, maybe <code>ExtremalProperties</code>?) in it.</p>",
        "id": 563488354,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1765550145
    },
    {
        "content": "<p>The to do list in <a href=\"https://e-vergo.github.io/ChebyshevCircles/docs/Mathlib/RingTheory/Polynomial/Chebyshev.html\">Mathlib.RingTheory.Polynomial.Chebyshev</a> has a litem \"Compute zeroes and extrema of Chebyshev polynomials.\" so that might be the right place. </p>\n<p>Can you share the files you are looking to merge? I am also working on <a href=\"https://e-vergo.github.io/ChebyshevCircles/\">results related to Chebyshev polynomials</a> and defined the roots <a href=\"https://github.com/e-vergo/ChebyshevCircles/blob/6e27f3421124cadaacab8384040aa13b2c013d1d/ChebyshevCircles/Definitions/ChebyshevRoots.lean#L29-L31\">using cosine values</a>. I would love to update this to a proof and will use yours once it's in mathlib.</p>",
        "id": 563558805,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1765572573
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"988234\">@Eric Vergo</span> <br>\nIt's in this closed PR: <a href=\"https://github.com/leanprover-community/mathlib4/pull/31011\">https://github.com/leanprover-community/mathlib4/pull/31011</a><br>\nI'm waiting for the following PR to be approved before reworking the closed one, which will be divided into at least two PRs: <a href=\"https://github.com/leanprover-community/mathlib4/pull/32360\">https://github.com/leanprover-community/mathlib4/pull/32360</a><br>\nI also worked out the bound on the derivative at 1, but this requires proving several trigonometric identities, so would be a huge mess to add to Mathlib.</p>",
        "id": 563560113,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765573139
    },
    {
        "content": "<p>The file you mention has several TODO's, and it's clear that not all of them can belong to the same file (considering there are entire books written down on extremal properties of Chebyshev polynomials).</p>",
        "id": 563560239,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765573203
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815159\">Yuval Filmus</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563560239\">said</a>:</p>\n<blockquote>\n<p>The file you mention as several TODO's, and it's clear that not all of them can belong to the same file (considering there are entire books written down on extremal properties of Chebyshev polynomials).</p>\n</blockquote>\n<p>Indeed, there is a huge body of work that should eventually be formalized. For the results you mentioned we are going to need multiple files regardless of whether it goes into .../trigonometry or .../polynomials. I'm leaning towards .../polynomials but don't know enough to feel strongly about it.</p>",
        "id": 563564456,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1765575061
    },
    {
        "content": "<p>I think that results that apply specifically to the real numbers should not go under ringtheory</p>",
        "id": 563567578,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1765576557
    },
    {
        "content": "<p>So <code>Analysis/SpecialFunctions/Trigonometric/Chebyshev</code>.<br>\nA file? A directory? Several files?</p>",
        "id": 563574884,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765581212
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"815159\">@Yuval Filmus</span> A directory sounds good to me.</p>",
        "id": 563593871,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765602463
    },
    {
        "content": "<p>What Bryan suggested here: <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563488354\">https://leanprover.zulipchat.com/#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563488354</a></p>",
        "id": 563593908,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765602504
    },
    {
        "content": "<p>There is actually a file <code>Analysis/SpecialFunctions/Trigonometric/Chebyshev.lean</code> with some basic formulas.<br>\nI could add the basic stuff there.<br>\nIn that case, where should the extremal results go?</p>\n<p>Alternatively, the file can be moved to a directory <code>Chebyshev</code> and renamed <code>Basic.lean</code>, but that is probably less advisable.</p>",
        "id": 563691211,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765721040
    },
    {
        "content": "<p>Another option is to have both <code>Chebyshev.lean</code> and a <code>Chebyshev</code> directory, which also sounds awkward.<br>\nMy <code>Basic.lean</code> is hundreds of lines (probably less after golfing).</p>",
        "id": 563691511,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765721355
    },
    {
        "content": "<p>Another complication is that <code>Trigonometric/Chebyshev.lean</code> is about both the complex and the real versions.<br>\nSome of my results make sense in both cases (zeroes), but some only make sense for the real polynomials (boundedness, extrema, extremal properties).</p>",
        "id": 563691834,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765721635
    },
    {
        "content": "<p>I have also writen some code about Chebyshev polynomial. Maybe some of them can be combined together here.</p>",
        "id": 563705426,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765737409
    },
    {
        "content": "<p>You can take a look at what I wrote: <a href=\"https://github.com/leanprover-community/mathlib4/pull/31011\">https://github.com/leanprover-community/mathlib4/pull/31011</a><br>\nI'm now golfing the first file (<code>Basic.lean</code>), and also waiting for my previous PR on Chebyshev polynomials to be finally approved.<br>\nWhat have you worked on?</p>",
        "id": 563705500,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765737513
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815159\">Yuval Filmus</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563691211\">said</a>:</p>\n<blockquote>\n<p>Alternatively, the file can be moved to a directory <code>Chebyshev</code> and renamed <code>Basic.lean</code>, but that is probably less advisable.</p>\n</blockquote>\n<p>AFAIK this is pretty common in Mathlib. You start with a PR that moves <code>Chebyshev.lean</code> to <code>Chebyshev/Basic.lean</code>, then follow it up with a PR that adds back <code>Chebyshev.lean</code> as an almost empty file with a copyright header and a <code>deprecated_module</code> statement, and finally a PR that does whatever you want to do in the folder.</p>\n<p>A recent example: <a href=\"https://github.com/leanprover-community/mathlib4/pull/27795\">#27795</a> moves <code>AtPrime.lean</code> to <code>AtPrime/Basic.lean</code>, and <a href=\"https://github.com/leanprover-community/mathlib4/pull/27796\">#27796</a> adds back <code>AtPrime.lean</code>. The operation is split to 2 PRs to make git see that this is really a move, rather than editing the old file and adding a new file.</p>",
        "id": 563709162,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765742552
    },
    {
        "content": "<p><a href=\"https://github.com/NickAdfor/ChebyshevPolynomial\">https://github.com/NickAdfor/ChebyshevPolynomial</a></p>\n<p>Some work is here. It can work on v4.16.0, but cannot work on v4.26.0. The problem is about Problem 3 the theorem. I don't know why.</p>",
        "id": 563733024,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765771690
    },
    {
        "content": "<p>Oh... Terrible that PR is closed...</p>",
        "id": 563733549,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765772103
    },
    {
        "content": "<p>I will redo the PR in a little bit — first my current <code>Chebyshev.lean</code> PR needs to get approved, then I will move it to a new directory, and then I will start adding the new files — hopefully this won't take too long.<br>\nMuch of what you did is complementary.</p>",
        "id": 563739612,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765777688
    },
    {
        "content": "<p>Which PR is your current PR? You can link it like this: <code>#12345</code></p>",
        "id": 563748763,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1765783820
    },
    {
        "content": "<p>My current PR is <a href=\"https://github.com/leanprover-community/mathlib4/pull/32360\">#32360</a> — waiting for it to be approved and merged.<br>\nMy old PR is <a href=\"https://github.com/leanprover-community/mathlib4/pull/31011\">#31011</a>. I am currently working on changing all the names and shortening all the proofs.</p>\n<p>The old PR has several lemmas in other files which have already been merged into Mathlib.<br>\nIn addition, there are two files, <code>Basic.lean</code> and <code>Monic.lean</code>.<br>\nThe file <code>Basic.lean</code> contains several corollaries of results from <a href=\"https://github.com/leanprover-community/mathlib4/pull/32360\">#32360</a> which I will put into the current <code>Chebyshev.lean</code> (which will be moved to a directory <code>Chebyshev</code> and renamed <code>Basic.lean</code>).<br>\nIn addition, it contains results about boundedness; zeroes of T and U; and extremas of T. I'm not sure whether all of these should be put in the same file or not.<br>\nAll of these results are over the reals, but some of them (zeroes of T and U) also hold over the complex numbers — I can do this in the future.<br>\nAlso, the result imply that all roots are single, a result which appears in Nick_adfor's work, and is probably also an easy corollary.<br>\nThe results in <code>Monic.lean</code> are an extremal property of the Chebyshev polynomials, which can stay in one file (but the proofs will be reworked).</p>",
        "id": 563756356,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765786687
    },
    {
        "content": "<p>My previous post is here <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Formalize.20with.20Chebyshev.20polynomial.2E/with/538903915\">#new members &gt; Formalize with Chebyshev polynomial.</a></p>",
        "id": 563873185,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765817097
    },
    {
        "content": "<p>There's really a terrible picture. If it can be more beautiful, the PRs will be easier to check.</p>\n<div class=\"codehilite\" data-code-language=\"CSS\"><pre><span></span><code><span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">A_symmetric</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"err\">───▶</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">A_map_isHermitian</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"err\">───▶</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">A_n_eigenvalues_real_C</span><span class=\"w\"> </span><span class=\"o\">]</span>\n\n<span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">charpoly_recursion</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"err\">─┐</span>\n<span class=\"w\">                        </span><span class=\"err\">├──▶</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">charpoly_A_eq_ChebyshevU</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"err\">─┐</span>\n<span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">Chebyshev_U_recursion</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"err\">┘</span><span class=\"w\">                               </span><span class=\"err\">│</span>\n<span class=\"w\">                                                          </span><span class=\"err\">├──▶</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">A_n_eigenvalues_distinct</span><span class=\"w\"> </span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"w\"> </span><span class=\"nt\">Chebyshev_U_simple_roots</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"err\">─────────────────────────────┘</span>\n</code></pre></div>",
        "id": 563873555,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765817192
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/29476\">#29476</a> might still be useful</p>",
        "id": 563873870,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765817277
    },
    {
        "content": "<p>The move is <a href=\"https://github.com/leanprover-community/mathlib4/pull/32912\">#32912</a>.<br>\nUnfortunately my git skills are too weak to add the \"deprecated module\" PR.<br>\nGit is probably the least user friendly software on earth in common use.</p>",
        "id": 563874699,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765817480
    },
    {
        "content": "<p>I've never really learned how to efficiently use GitHub:( also PR:(((</p>",
        "id": 563875148,
        "sender_full_name": "Nick Adfor",
        "timestamp": 1765817578
    },
    {
        "content": "<p>The deprecation is <a href=\"https://github.com/leanprover-community/mathlib4/pull/32913\">#32913</a>, though I wonder if I did it correctly.</p>",
        "id": 563879554,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765818700
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815159\">Yuval Filmus</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563874699\">said</a>:</p>\n<blockquote>\n<p>Git is probably the least user friendly software on earth in common use.</p>\n</blockquote>\n<p>Obligatory xkcd <a href=\"https://xkcd.com/1597/\">https://xkcd.com/1597/</a></p>",
        "id": 563882533,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765819551
    },
    {
        "content": "<p>Unfortunately you now have a merge conflict. It might have been easier to wait with the second pr until the first had landed</p>",
        "id": 563891616,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1765822287
    },
    {
        "content": "<p>I think a rebase rather than a merge might solve the conflict automatically</p>",
        "id": 563897927,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765824470
    },
    {
        "content": "<p>if not then a rebase with more params will</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git<span class=\"w\"> </span>switch<span class=\"w\"> </span>MoveChebyshev2\ngit<span class=\"w\"> </span>rebase<span class=\"w\"> </span>--onto<span class=\"w\"> </span>master<span class=\"w\"> </span>MoveChebyshev\ngit<span class=\"w\"> </span>push<span class=\"w\"> </span>--force-with-lease\n</code></pre></div>",
        "id": 563898537,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1765824698
    },
    {
        "content": "<p>Now it complains that the deprecated module cannot be found in Mathlib.lean, but if I add it, it complains that it cannot find it since it's a directory!</p>",
        "id": 563934413,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765836503
    },
    {
        "content": "<p>I will just give up.<br>\nIf only experts can do it, only experts should do it.</p>",
        "id": 563934485,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765836528
    },
    {
        "content": "<p>Does the documentation on the web cover issues such as (1) how to work with PRs that depend on each other (what is a recommended workflow wrt branching), (2) how to deprecate definitions and modules?<br>\nIf not, it would be good to add it so that the rest of us can also contribute to Mathlib...</p>",
        "id": 563935213,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765836778
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815159\">Yuval Filmus</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563934413\">said</a>:</p>\n<blockquote>\n<p>Now it complains that the deprecated module cannot be found in Mathlib.lean, but if I add it, it complains that it cannot find it since it's a directory!</p>\n</blockquote>\n<p>If you follow the suggestion I just added on <a href=\"https://github.com/leanprover-community/mathlib4/pull/32913\">#32913</a>, does it work to add the import to <code>Mathlib.lean</code>?</p>",
        "id": 563935975,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1765837059
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"815159\">Yuval Filmus</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563935213\">said</a>:</p>\n<blockquote>\n<p>Does the documentation on the web cover issues such as (1) how to work with PRs that depend on each other (what is a recommended workflow wrt branching), (2) how to deprecate definitions and modules?<br>\nIf not, it would be good to add it so that the rest of us can also contribute to Mathlib...</p>\n</blockquote>\n<ul>\n<li>If you start typing <code>deprecated</code> in VSCode, for me three suggestions pop up, <code>deprecated</code>, <code>deprecated alias</code>, and <code>deprecated module</code>. If I pick one, it automatically generates the correct syntax. Did you try this?</li>\n<li>There is a script <code>scripts/add_deprecations.sh</code> that automatically adds deprecations. I think it doesn't detect changes of namespaces though (e.g. if <code>Foo</code> is changed to <code>Bar</code>, and <code>baz</code> is defined inside the <code>Foo</code> namespace which is then changed to <code>Bar</code>, it doesn't deprecate <code>Foo.baz</code>). </li>\n<li>I had to manually add a bunch of deprecations in # <a href=\"https://github.com/leanprover-community/mathlib4/pull/32746\">#32746</a>. I found that doing one example and then asking Claude to do the rest worked quite well.</li>\n</ul>",
        "id": 563936737,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1765837443
    },
    {
        "content": "<p>The problem is that this kind of tips aren't written anywhere, compared to the copious documentation of Lean itself.</p>",
        "id": 563937047,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765837587
    },
    {
        "content": "<p>Feel free to open a PR to the website improving the contribution guidelines, if you learn something useful. That's always welcome. Everyone is just doing their best with their limited time!</p>",
        "id": 563937188,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1765837650
    },
    {
        "content": "<p>No doubt, that's why I'm trying to highlight areas for improvement.<br>\nHopefully in a little bit I will be able to write such a guide myself...<br>\nMeanwhile I will take a look at this: <a href=\"https://arxiv.org/pdf/2508.21593v1\">https://arxiv.org/pdf/2508.21593v1</a></p>",
        "id": 563937309,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765837727
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563935975\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"815159\">Yuval Filmus</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Properties.20of.20Chebyshev.20polynomials.20over.20the.20reals/near/563934413\">said</a>:</p>\n<blockquote>\n<p>Now it complains that the deprecated module cannot be found in Mathlib.lean, but if I add it, it complains that it cannot find it since it's a directory!</p>\n</blockquote>\n<p>If you follow the suggestion I just added on <a href=\"https://github.com/leanprover-community/mathlib4/pull/32913\">#32913</a>, does it work to add the import to <code>Mathlib.lean</code>?</p>\n</blockquote>\n<p>Looks promising!</p>",
        "id": 563938138,
        "sender_full_name": "Yuval Filmus",
        "timestamp": 1765838137
    }
]