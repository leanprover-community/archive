[
    {
        "content": "<p>Prompted by the discussion at <a href=\"#narrow/channel/113488-general/topic/error.20lens.20in.20lean4/near/547074537\">#general &gt; error lens in lean4 @ ðŸ’¬</a> I opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/30902\">#30902</a>.</p>",
        "id": 547081669,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761425099
    },
    {
        "content": "<p>The proposal is to make the warning for the longLine linter span only the characters starting from the 101st, instead of the whole line exceeding the limit.</p>",
        "id": 547081681,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761425104
    },
    {
        "content": "<p>Personally, I think that this might probably a good idea, but since it might also reduce the visibility of the warning, I imagine that there are opposing views, hence why I am opening this thread!</p>",
        "id": 547081687,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761425107
    },
    {
        "content": "<p>So, what do you think about this?</p>",
        "id": 547081688,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761425108
    },
    {
        "content": "<p>I'd test if it was still visible if you were <em>just</em> failing the check, so 101 columns</p>",
        "id": 547082148,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1761425709
    },
    {
        "content": "<p>The tests already check that, and they do.  The squiggle is only on the final character in those cases.</p>",
        "id": 547082462,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761426102
    },
    {
        "content": "<p>An alternative could be to start the warning somewhere in-between, like at 70 or so.</p>",
        "id": 547082501,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1761426154
    },
    {
        "content": "<p>I like starting the warning a little earlier, at 70 chars sounds good to me.</p>",
        "id": 547084205,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761428377
    },
    {
        "content": "<p>One could go very fancy and try to find a matching word boundary (or even matching parentheses, so in</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">something_long_for_60_chars</span><span class=\"w\"> </span><span class=\"n\">argument_1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">another</span><span class=\"w\"> </span><span class=\"n\">long</span><span class=\"w\"> </span><span class=\"n\">argument</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">pushes</span><span class=\"w\"> </span><span class=\"n\">over</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"mi\">101</span><span class=\"w\"> </span><span class=\"n\">chars</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>only the second argument, which starts between column 60 and 70, gets highlighted.</p>",
        "id": 547084253,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761428454
    },
    {
        "content": "<p>I think it makes most sense to start the warning where the code actually needs wrapping</p>",
        "id": 547087284,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761433033
    },
    {
        "content": "<p>Given the gutter icons and possibility of error lens, I don't think we should be worried about a squiggle under a single extra character being hard to spot</p>",
        "id": 547087313,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761433079
    },
    {
        "content": "<p>Lean is already full of more important squiggles under single characters</p>",
        "id": 547087324,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761433098
    }
]