[
    {
        "content": "<p>Would mathlib reasonably have a place hold conjectures? I don't mean theorems without a proof -- I know that adding sorrys is verboten -- but I mean that plenty of good mathematics has been done relating conjectures to each other or alternate formulations. So I'm picturing something like this,</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">TwinPrimeConjecture_Statement</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Infinite</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">GolbachConjecture_Statement</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">RiemannHypothesis_Statement</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">riemannZeta</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"bp\">.</span><span class=\"n\">re</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">1</span><span class=\"o\">)</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">EulerMascheroni_Rat_Statement</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Irrational</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">eulerMascheroniConstant</span>\n</code></pre></div>\n<p>so that there is a standardized way to refer to such conjectures. Then there's a lot of nice theorems we could prove about them, like (this would be my ideal first candidate):</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">--The Riemann hypothesis is equivalent to the statement that, for all ε &gt; 0,</span>\n<span class=\"c1\">--the Mertens function M(n)=∑_{k=1}^n μ(k) grows as O(n^(1/2 + ε)).</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">RiemannHypothesis_iff_sum_moebius_lt_O_sqrt_eps</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">RiemannHypothesis_Statement</span><span class=\"w\"> </span><span class=\"bp\">↔</span>\n<span class=\"w\">  </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">→</span>\n<span class=\"w\">      </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">sum</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ArithmeticFunction</span><span class=\"bp\">.</span><span class=\"n\">moebius</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">ε</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"c1\">--this is a well-known proof that we can reasonably fill in</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>As another example, a theorem like <a href=\"https://en.wikipedia.org/wiki/Tunnell%27s_theorem\">Tunnell's theorem</a> is most elegantly stated as \"Assuming &lt;open problem&gt;, we know that &lt;foobar&gt;.\" It provides an if-and-only-if relation between some solutions to integer equations, and one direction is known unconditionally, the other requires the Birch-Swinnerton-Dyer conjecture, so we could state one as \"&lt;foo&gt; implies &lt;bar&gt;\" and the other as \"BSD and &lt;foo&gt; together imply &lt;bar&gt;\".</p>",
        "id": 454668326,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722202474
    },
    {
        "content": "<p>This was discussed multiple times and no one implemented it.</p>",
        "id": 454668889,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722202788
    },
    {
        "content": "<p>One of the ideas was to make these statements typeclasses.</p>",
        "id": 454668961,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722202805
    },
    {
        "content": "<p>I think there is already such a thing for FLT</p>",
        "id": 454668968,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722202806
    },
    {
        "content": "<p>As a side note, there were two other places I could see this convention being nice:</p>\n<ul>\n<li>The classification of finite simple groups (CFSG for short) resolved a lot of tricky questions in group theory, albeit kind of as a hammer. Even though CFSG has been completely resolved, (1) the proof is very long and not likely to get into mathlib in any near term, and (2) I know that a decent fraction group theorists make a point of trying to prove things explicitly <em>without</em> CFSG. If we declare CFSG as a statement, we're free to say that other results follow from it, before we get around to proving CFSG!</li>\n<li>The significant majority (&gt; 70%?) of complexity theory is done in this form. \"Assuming that P does not equal PSPACE, we know that ... &lt;bar&gt;.\"</li>\n</ul>",
        "id": 454669030,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722202828
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FermatLastTheorem#doc\">docs#FermatLastTheorem</a></p>",
        "id": 454669108,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722202845
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Statements.20of.20conjectures.20.28without.20a.20sorry.29/near/454668889\">said</a>:</p>\n<blockquote>\n<p>This was discussed multiple times and no one implemented it.</p>\n</blockquote>\n<p>Do you know if that was due to people not liking the idea, organizational questions, or just a lack of someone driving it?</p>",
        "id": 454669304,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722202902
    },
    {
        "content": "<p>I was talking about some support in <code>doc-gen</code> to highlight \"conjecture\" assumptions.</p>",
        "id": 454669439,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722202941
    },
    {
        "content": "<p>By the way, stating CFSG is apparently the subject of a book, it's not easy in the slightest</p>",
        "id": 454669451,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722202952
    },
    {
        "content": "<p><a href=\"https://mathoverflow.net/questions/199874/how-do-you-state-the-classification-of-finite-simple-groups\">https://mathoverflow.net/questions/199874/how-do-you-state-the-classification-of-finite-simple-groups</a></p>",
        "id": 454669465,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722202969
    },
    {
        "content": "<p>Oh I'm aware! Not easy in the slightest. :) But certainly much easier than proving it!</p>",
        "id": 454669645,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722203051
    },
    {
        "content": "<p>that's the subject of 13 books and counting... :)</p>",
        "id": 454669771,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722203104
    },
    {
        "content": "<p>Stating BSD is also highly nontrivial. The usual interpretation nowadays assumes that the L-function of the elliptic curve has analytic continuation to s=1 and the only known proof of that is at least as hard as FLT.</p>",
        "id": 454669850,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1722203144
    },
    {
        "content": "<p>An idea with typeclasses works like this:</p>\n<ul>\n<li>We decide that some namespace (e.g., <code>Conjecture</code> or a better name that doesn't exclude FLT or CFSG) holds conjecture statements, stated as typeclasses.</li>\n<li>Other theorems can assume, e.g., <code>[Conjecture.FermatLastTheorem]</code> and use it to prove other results.</li>\n<li>The documentation website shows a warning (at least, highlights <code>[Conjecture.FermatLastTheorem]</code> assumption in bold red instead of faded out, but we should also have support for visually impared people) whenever a theorem assumes <code>[Conjecture.*]</code>.</li>\n</ul>",
        "id": 454669982,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203217
    },
    {
        "content": "<p>I don't think it's necessary to have these as typeclasses, they can just be regular assumptions to a theorem</p>",
        "id": 454670042,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722203278
    },
    {
        "content": "<p>There's nothing wrong with proving implications from statements either independent, not known to hold, or having proofs which are out of reach</p>",
        "id": 454670111,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722203358
    },
    {
        "content": "<p>Probably, you're right, then we don't need any special support (though we can have a \"tag\" attribute or a <code>yml</code> file with the list of conjectures/hard theorems/facts independent with ZFC).</p>",
        "id": 454670171,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203406
    },
    {
        "content": "<p>If it becomes big business we can think about ways to locally make this cleaner but it's kind of a solution looking for a problem at this point</p>",
        "id": 454670197,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722203442
    },
    {
        "content": "<p>I think that the bar for inclusion of a conjecture statement in Mathlib should be \"the author of a PR is going to prove&amp;PR something reasonable about this statement soon\" (e.g., a nice corollary or a fact that the conjecture follows from its particular case).</p>",
        "id": 454670219,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203485
    },
    {
        "content": "<p>In fact, even if we got a proof of big theorem X we may not want to make the corollaries depend on it, for dependency management reasons</p>",
        "id": 454670223,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1722203492
    },
    {
        "content": "<p>Typeclasses can help with it. You define a TC in file <code>A</code>, prove corollaries in file <code>B</code>, then provide an instance in file <code>C</code>. If someone wants a proof that doesn't assume <code>[Conjecture.*]</code>, then they can import both <code>B</code> and <code>C</code>.</p>",
        "id": 454670286,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203568
    },
    {
        "content": "<p>And it just works without explicit mention of the proof.</p>",
        "id": 454670308,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203601
    },
    {
        "content": "<p>Though I think that we can postpone this decision until we have at least one theorem like this.</p>",
        "id": 454670366,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203649
    },
    {
        "content": "<p>Given that an AI just wrote lean code proving unseen IMO problems we might want to consider a \"challenges\" file or directory where we give them some harder problems...</p>",
        "id": 454670376,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1722203672
    },
    {
        "content": "<p>We also have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RiemannHypothesis#doc\">docs#RiemannHypothesis</a> fwiw</p>",
        "id": 454670393,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1722203698
    },
    {
        "content": "<p>We should start a <code>yml</code> file with these statements.</p>",
        "id": 454670638,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203973
    },
    {
        "content": "<p>BTW, shouldn't we mention Andrew Wiles and Richard Taylor (who else? <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> knows better, I've just copied from Wikipedia) in the docstring of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FermatLastTheorem#doc\">docs#FermatLastTheorem</a> or in the module docstring? Kevin, could you please open a PR with some (very brief) text about references to the proof and to your project aiming to formalize the proof?</p>",
        "id": 454670989,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722204284
    },
    {
        "content": "<p>An argument against typeclasses I see would be that there's not a great way to say \"If X turned out false, then Y.\"</p>\n<p>Of course you can flip this around and say that Not Y would give a proof of X. But that seems like a workaround more than a strategy. </p>\n<p>By the same token, I don't think there would be an elegant way to say \"X is equivalent to this particular statement Y\". You can state two instances deriving one from the other, but not being able to write an Iff feels sad.</p>",
        "id": 454777918,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722246063
    },
    {
        "content": "<p>You can still write the iff, though, and lean 4 should even be able to support instances in both directions</p>",
        "id": 454778326,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1722246192
    },
    {
        "content": "<p>Oh you can? My bad then, there must be something about typeclasses I don't understand properly then</p>",
        "id": 454778681,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722246300
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> has marked this topic as resolved.</p>",
        "id": 454793318,
        "sender_full_name": "Notification Bot",
        "timestamp": 1722250191
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"224323\">Junyan Xu</span> has marked this topic as unresolved.</p>",
        "id": 454793395,
        "sender_full_name": "Notification Bot",
        "timestamp": 1722250204
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Statements.20of.20conjectures.20.28without.20a.20sorry.29/near/454670989\">said</a>:</p>\n<blockquote>\n<p>BTW, shouldn't we mention Andrew Wiles and Richard Taylor (who else? <span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> knows better, I've just copied from Wikipedia) in the docstring of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=FermatLastTheorem#doc\">docs#FermatLastTheorem</a> or in the module docstring? Kevin, could you please open a PR with some (very brief) text about references to the proof and to your project aiming to formalize the proof?</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15263\">#15263</a></p>",
        "id": 454834794,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1722259712
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Statements.20of.20conjectures.20.28without.20a.20sorry.29/near/454670219\">said</a>:</p>\n<blockquote>\n<p>I think that the bar for inclusion of a conjecture statement in Mathlib should be \"the author of a PR is going to prove&amp;PR something reasonable about this statement soon\" (e.g., a nice corollary or a fact that the conjecture follows from its particular case).</p>\n</blockquote>\n<p>That makes a lot of sense. I might go ahead and prove the Merten's/Riemann hypothesis equivalence (<a href=\"https://en.wikipedia.org/wiki/Mertens_conjecture#Connection_to_the_Riemann_hypothesis\">informal proof</a>). But the Riemann hypothesis is already in there as a def. If I do, I'll maybe add a .yml mentioning these two instances -- Riemann hypothesis and FLT -- as non-proved definitions.</p>",
        "id": 454885700,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1722271418
    }
]