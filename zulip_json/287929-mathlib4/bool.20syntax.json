[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/aesop/blob/fc97e592e3e150370f17a12e3613e96252c4d3d0/Aesop/Frontend/Basic.lean#L13-L13\">bool_lit</a> is only found within aesop, how do other syntaxes handle bool?</p>",
        "id": 539812722,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758040002
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/369395703caee092690bfc992d66817da83b769d/Mathlib/Tactic/SudoSetOption.lean#L20\">https://github.com/leanprover-community/mathlib4/blob/369395703caee092690bfc992d66817da83b769d/Mathlib/Tactic/SudoSetOption.lean#L20</a> hmm... it's parsed as ident?</p>",
        "id": 539813070,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758040133
    },
    {
        "content": "<p>I am not sure that I understand the question, but, in a <code>set_option</code>, for example, the boolean is an atom:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">---</span>\n<span class=\"kn\">set_option</span><span class=\"w\"> </span><span class=\"n\">linter</span><span class=\"bp\">.</span><span class=\"n\">all</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"c\">/-</span><span class=\"cm\">!-/</span>\n\n<span class=\"c1\">---</span>\n\n<span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">Command</span><span class=\"bp\">.</span><span class=\"k\">in</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">none</span>\n<span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">Command</span><span class=\"bp\">.</span><span class=\"kn\">set_option</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">none</span>\n<span class=\"bp\">|</span><span class=\"w\">   </span><span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">atom</span><span class=\"w\"> </span><span class=\"n\">original</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟨</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"c1\">-- 'set_option'</span>\n<span class=\"bp\">|</span><span class=\"w\">   </span><span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"n\">original</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟨</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"c1\">-- (linter.all,linter.all)</span>\n<span class=\"bp\">|</span><span class=\"w\">   </span><span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"n\">null</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">none</span>\n<span class=\"bp\">|</span><span class=\"w\">   </span><span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">atom</span><span class=\"w\"> </span><span class=\"n\">original</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟨</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"c1\">-- 'true'</span>\n<span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">atom</span><span class=\"w\"> </span><span class=\"n\">original</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟨</span><span class=\"w\"> </span><span class=\"bp\">⟩</span><span class=\"c1\">-- 'in'</span>\n<span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">node</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">Command</span><span class=\"bp\">.</span><span class=\"n\">moduleDoc</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">none</span>\n<span class=\"w\">    </span><span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">atom</span><span class=\"w\"> </span><span class=\"n\">original</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟨⟩</span><span class=\"c1\">-- '/-!'</span>\n<span class=\"w\">    </span><span class=\"bp\">|-</span><span class=\"n\">Syntax</span><span class=\"bp\">.</span><span class=\"n\">atom</span><span class=\"w\"> </span><span class=\"n\">original</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">⟨⟩⟨⏎⏎</span><span class=\"c1\">--inspect⏎⟩-- '-/'</span>\n</code></pre></div>",
        "id": 539819241,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042408
    },
    {
        "content": "<p>is its type stored in some TSyntax type?</p>",
        "id": 539819428,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042478
    },
    {
        "content": "<p>Well, in the <code>set_option</code> syntax, it is an <code>atom</code>.</p>",
        "id": 539819547,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042509
    },
    {
        "content": "<p>so it's something like <code>&amp;\"true\"</code>?</p>",
        "id": 539819645,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042530
    },
    {
        "content": "<p>However, if you are referring to the <em>term</em> <code>true</code>, say in a <code>theorem</code>, then it would get parsed as an <code>ident</code>.</p>",
        "id": 539819654,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042532
    },
    {
        "content": "<p>i'm referring to <code>set_option</code></p>",
        "id": 539819690,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042546
    },
    {
        "content": "<p>Ok, so in the position where you place the value of the option, the parser expects an <code>atom</code>.</p>",
        "id": 539819764,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042573
    },
    {
        "content": "<p>so it doesn't go through the <code>TSyntax</code> stuff?</p>",
        "id": 539819832,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042597
    },
    {
        "content": "<p>Let me find the source, but I don't think so.</p>",
        "id": 539819906,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042625
    },
    {
        "content": "<p>For instance, in that position, there could be a natural number (parsed as an atom still, since an option need not be just a boolean).</p>",
        "id": 539819991,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042665
    },
    {
        "content": "<p>hmm, but then how could i use it in a custom command syntax?</p>",
        "id": 539820072,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042693
    },
    {
        "content": "<p>What do you mean?</p>",
        "id": 539820162,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042728
    },
    {
        "content": "<p>I feel that I am not understanding where the question is coming from...</p>",
        "id": 539820193,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042738
    },
    {
        "content": "<p>if i want to declare my own command to have syntax <code>#asdf (foo := true)</code>, how should I do so?</p>",
        "id": 539820264,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042762
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/blob/919e297292280cdb27598edd4e03437be5850221/src/Lean/Elab/SetOption.lean#L64\">https://github.com/leanprover/lean4/blob/919e297292280cdb27598edd4e03437be5850221/src/Lean/Elab/SetOption.lean#L64</a> is where you can see the <code>true</code>/<code>false</code>.</p>",
        "id": 539820436,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042826
    },
    {
        "content": "<p>In your example, do you want writing something other than <code>true</code>/<code>false</code> be a parsing error?</p>",
        "id": 539820523,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042861
    },
    {
        "content": "<p>yes</p>",
        "id": 539820623,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042901
    },
    {
        "content": "<p>An alternative could be that you make the parser <em>accept</em> an <code>ident</code>, but, during elaboration, you throw an error if the ident is neither <code>true</code> nor <code>false</code>.</p>",
        "id": 539820708,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042936
    },
    {
        "content": "<p>why not use Aesop.bool_lit?</p>",
        "id": 539820749,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758042958
    },
    {
        "content": "<p>You might, I am just not sure how much of that is intended to be \"external\".</p>",
        "id": 539820822,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758042988
    },
    {
        "content": "<p>right, so what i meant is, if Aesop.bool_lit is the best approach should we put it in lean core / batteries?</p>",
        "id": 539820888,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758043016
    },
    {
        "content": "<p>I don't know about that.  I often find that elaboration errors are much \"kinder\" than parsing errors.</p>",
        "id": 539821252,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758043153
    },
    {
        "content": "<p>Here is something to play with:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">declare_syntax_cat</span><span class=\"w\"> </span><span class=\"n\">myStx</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"#asdf \"</span><span class=\"w\"> </span><span class=\"s2\">\"(\"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\" := \"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">&amp;</span><span class=\"s2\">\"true\"</span><span class=\"w\"> </span><span class=\"bp\">&lt;|&gt;</span><span class=\"w\"> </span><span class=\"bp\">&amp;</span><span class=\"s2\">\"false\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\")\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">myStx</span>\n\n<span class=\"n\">run_cmd</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">myStx</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">myStx</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">myStx</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neither</span><span class=\"o\">))</span>\n</code></pre></div>",
        "id": 539821531,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758043249
    },
    {
        "content": "<p>I did not realize that, if you comment out the line with the parsing error, then you get an error because <code>run_cmd</code> is not implemented!  <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 539823037,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758043788
    },
    {
        "content": "<p>Here is a smaller example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">run_cmd</span>\n<span class=\"w\">  </span><span class=\"c1\">-- comment the following line to notice that `run_cmd` has not been defined!</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">pure</span><span class=\"w\"> </span><span class=\"o\">()</span>\n</code></pre></div>",
        "id": 539823521,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758043887
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"#asdf \"</span><span class=\"w\"> </span><span class=\"s2\">\"(\"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\" := \"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">&amp;</span><span class=\"s2\">\"true\"</span><span class=\"w\"> </span><span class=\"bp\">&lt;|&gt;</span><span class=\"w\"> </span><span class=\"bp\">&amp;</span><span class=\"s2\">\"false\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\")\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span>\n\n<span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neither</span><span class=\"o\">)</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">fdsa</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"#fdsa \"</span><span class=\"w\"> </span><span class=\"s2\">\"(\"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\" := \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\")\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Command</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">command_elab</span><span class=\"w\"> </span><span class=\"n\">fdsa</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">fdsaElab</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommandElab</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">fdsa</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"s2\">\"1+2=3\"</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">fdsa</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"s2\">\"1+2≠3\"</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">fdsa</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">$_</span><span class=\"o\">:</span><span class=\"n\">ident</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"s2\">\"yo you done messed up\"</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"s2\">\"watchu doing\"</span>\n\n<span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neither</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">fdsa</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neither</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 539832840,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758047025
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> I think I understand your point that elab error is kinder than parser error, but it also feels wrong to accept invalid syntax</p>",
        "id": 539832900,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758047049
    },
    {
        "content": "<p>Eventually it is a design decision and a parsing error, especially when you only have a couple of alternatives, can be pretty clear as well.</p>",
        "id": 539833125,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758047147
    },
    {
        "content": "<p>One reason to prefer (or at least to consider!) elaboration errors, is that Lean has some mechanisms to recover from elaboration errors.  Parsing errors are total stops, however.</p>",
        "id": 539833251,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758047206
    },
    {
        "content": "<p>When designing the <code>stacks</code> attribute, for instance, it ended up being a better user experience to allow any \"tag-looking\" string, but then elaborate and produce meaningful reasons why the given string failed to be a stacks tag (e.g. too short, not consisting of uppercase letters or numbers,...).</p>",
        "id": 539833557,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758047323
    },
    {
        "content": "<p>In a different context, where you may only allow <code>true</code> or <code>false</code>, if the parser tell you so, it is probably good!</p>",
        "id": 539833644,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758047359
    },
    {
        "content": "<blockquote>\n<p>Parsing errors are total stops, however.</p>\n</blockquote>\n<p>Is this true? I thought it was possible to error-yet-recover in a parser?</p>",
        "id": 539839586,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758049519
    },
    {
        "content": "<p>I'm sure <span class=\"user-mention\" data-user-id=\"354934\">@David Thrane Christiansen</span> has plenty of thoughts here :)</p>",
        "id": 539839677,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758049561
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/bool.20syntax/near/539839586\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Parsing errors are total stops, however.</p>\n</blockquote>\n<p>Is this true? I thought it was possible to error-yet-recover in a parser?</p>\n</blockquote>\n<p>That was probably excessive, there is <em>some</em> recovery.  But elaboration errors are more compassionate.</p>",
        "id": 539884405,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1758052840
    },
    {
        "content": "<p>Note that a big advantage of parsing and elaborating identifiers is that you get autocompletion that is aware of Lean identifiers:</p>\n<p><a href=\"/user_uploads/3121/JZPqnWMU4r-7i_kfwABp-hyo/afbeelding.png\">afbeelding.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/JZPqnWMU4r-7i_kfwABp-hyo/afbeelding.png\" title=\"afbeelding.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1371x663\" src=\"/user_uploads/thumbnail/3121/JZPqnWMU4r-7i_kfwABp-hyo/afbeelding.png/840x560.webp\"></a></div>",
        "id": 539890916,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758055471
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/287929-mathlib4/topic/bool.20syntax/near/539890916\">said</a>:</p>\n<blockquote>\n<p>Note that a big advantage of parsing and elaborating identifiers is that you get autocompletion that is aware of Lean identifiers:</p>\n<p><a href=\"/user_uploads/3121/JZPqnWMU4r-7i_kfwABp-hyo/afbeelding.png\">afbeelding.png</a></p>\n</blockquote>\n<p>But in this case you don't want all that right? You just want <code>true</code> and <code>false</code> as suggestions.</p>",
        "id": 539891401,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758055705
    },
    {
        "content": "<p>That's true, but I don't know how to implement that :)</p>",
        "id": 539891563,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758055788
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/channel/287929-mathlib4/topic/bool.20syntax/near/539821531\">said</a>:</p>\n<blockquote>\n<p>Here is something to play with:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">declare_syntax_cat</span><span class=\"w\"> </span><span class=\"n\">myStx</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"#asdf \"</span><span class=\"w\"> </span><span class=\"s2\">\"(\"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\" := \"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">&amp;</span><span class=\"s2\">\"true\"</span><span class=\"w\"> </span><span class=\"bp\">&lt;|&gt;</span><span class=\"w\"> </span><span class=\"bp\">&amp;</span><span class=\"s2\">\"false\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\")\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">myStx</span>\n\n<span class=\"n\">run_cmd</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">myStx</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">myStx</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">myStx</span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neither</span><span class=\"o\">))</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"479299\">@Jovan Gerbscheid</span> do you get any autocomplete suggestions here? I'm not at a computer so I can't check right now.</p>",
        "id": 539891946,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758056010
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/Bim33ncKfEmngc8xf874bDWh/afbeelding.png\">afbeelding.png</a><br>\nYou do get suggestions. It's the kind that is not aware of lean identifiers.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Bim33ncKfEmngc8xf874bDWh/afbeelding.png\" title=\"afbeelding.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"996x239\" src=\"/user_uploads/thumbnail/3121/Bim33ncKfEmngc8xf874bDWh/afbeelding.png/840x560.webp\"></a></div>",
        "id": 539892114,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758056103
    },
    {
        "content": "<p>But it only suggests <code>true</code> and <code>false</code> right</p>",
        "id": 539892184,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758056133
    },
    {
        "content": "<p>It suggests any word that exists anywhere<br>\n<a href=\"/user_uploads/3121/WtMz-LEIBnyDcYiGkwLc0T3U/afbeelding.png\">afbeelding.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/WtMz-LEIBnyDcYiGkwLc0T3U/afbeelding.png\" title=\"afbeelding.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1314x454\" src=\"/user_uploads/thumbnail/3121/WtMz-LEIBnyDcYiGkwLc0T3U/afbeelding.png/840x560.webp\"></a></div>",
        "id": 539892984,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758056464
    },
    {
        "content": "<p>oh no that's not good</p>",
        "id": 539893836,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758056818
    },
    {
        "content": "<p>how do we fix it</p>",
        "id": 539893862,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758056827
    },
    {
        "content": "<p>where are these suggestions coming from</p>",
        "id": 539893948,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758056865
    },
    {
        "content": "<p>The lean-identifier aware ones come from the Lean language server via some fuzzy matching algorithm. And there word-based ones come with vscode automatically I think.</p>",
        "id": 539894191,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758056980
    },
    {
        "content": "<p>Do you need to roll your own syntax? You could use the tactic configuration system:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Command</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">AsdfConfig</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"w\">  </span><span class=\"n\">deriving</span><span class=\"w\"> </span><span class=\"n\">Repr</span>\n\n<span class=\"n\">declare_command_config_elab</span><span class=\"w\"> </span><span class=\"n\">elabAsdfConfig</span><span class=\"w\"> </span><span class=\"n\">AsdfConfig</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">asdfStx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"#asdf \"</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">optConfig</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">command_elab</span><span class=\"w\"> </span><span class=\"n\">asdfStx</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">asdfElab</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">CommandElab</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">  </span><span class=\"k\">match</span><span class=\"w\"> </span><span class=\"n\">stx</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">cfg</span><span class=\"o\">:</span><span class=\"n\">optConfig</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">elabAsdfConfig</span><span class=\"w\"> </span><span class=\"n\">cfg</span>\n<span class=\"w\">    </span><span class=\"n\">logInfo</span><span class=\"w\"> </span><span class=\"n\">m!</span><span class=\"s2\">\"config is{indentD (repr c)}\"</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"s2\">\"watchu doing\"</span>\n\n<span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span><span class=\"o\">)</span>\n<span class=\"bp\">#</span><span class=\"n\">asdf</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">neither</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"c1\">-- unknown identifier `neither`</span>\n</code></pre></div>\n<p>It's got completions too:</p>\n<p><a href=\"/user_uploads/3121/f56bYndFUWt_g24vnA4WtnYi/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/f56bYndFUWt_g24vnA4WtnYi/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1164x252\" src=\"/user_uploads/thumbnail/3121/f56bYndFUWt_g24vnA4WtnYi/image.png/840x560.webp\"></a></div>",
        "id": 539910033,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1758067804
    },
    {
        "content": "<p>nice, thanks!</p>",
        "id": 539910068,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1758067836
    },
    {
        "content": "<p>Does that syntax just parse <code>term</code>s? If not, where's the completion coming from?</p>",
        "id": 539910180,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1758067976
    },
    {
        "content": "<p>yeah it's terms</p>",
        "id": 539910322,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758068103
    },
    {
        "content": "<p>you can have any expected type</p>",
        "id": 539910360,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758068123
    },
    {
        "content": "<p>For example if <code>AsdfConfig</code> had a <code>bar : Finest Int</code> field then it would take <code>(bar := {1, 2, -4})</code></p>",
        "id": 539910460,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1758068223
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/bool.20syntax/near/539839586\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Parsing errors are total stops, however.</p>\n</blockquote>\n<p>Is this true? I thought it was possible to error-yet-recover in a parser?</p>\n</blockquote>\n<p>This is in theory possible, but in practice it doesn't work for extensible parts of the syntax, because error recovery requires global knowledge. This means that we have some limited error recovery for a few parts, but it's quite limited.</p>\n<p>Non-extensible syntax, like Verso's, can have error recovery, but it still requires some pretty low-level parsing code.</p>",
        "id": 539926687,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1758083332
    },
    {
        "content": "<p>If you really only want to allow Bool literals, and can't use the existing config system, I think <a href=\"https://live.lean-lang.org/#project=lean-nightly&amp;codez=JYWwDg9gTgLgBAGQKYEMB2AoDExLY1fAUQBsUAjOAFSShCwGcBPNGFADzgCJyIISA+jAAWwNAHNucYABM88AFxwYtekjLkBUAK4kkDOEpV0McOAB84AAwAUvfkNES4AEnIBKOAF4AfHBkQpmbSAGZwevAMECBIcPiACYRwUPr8AG5IAJIyAPxwlDYA7sAiGWghEIZeyjpIniJ4QcGhcXAgKDAAxsL6cAB0HRBoDPBWVjA1cAIWlvhtnd0G/YPD1lYhKCQMsVP1mE1NJBDipeUAgvCUIACEXBnwwAYA3mgAvlyN+8kw2lD4mB8RZRwRLaNDJKIkdIAORQMQA4odyBtTqkILIxOIEBAOhsDKNxtokACkPAwiCwSlIUgYfDEcjUeiJFicZtVutNkSDiS4MJga0bgBVLZwFBwABCfBI4WKtA2Ci4vSc8AAxABtGC9GAQADK4wxABo4CFNTq9RIALpwGzJEK5BRVKIxPLuD4iKAQApEKDuqDnPL8rgS/iEaXGDZwJDsXAdFQyXqPYRvLByMKce15SWODHVQlYAD0AFoCxhaD6lEG9OhQ7KpZHo7HelgABJiGBKIWxUUV6tQOVBQBEBHB2IBWYBggCZgKBj7RjpBjgdD4chMcoMckMcMGdzgt5jDK8TaFBQGQCEAMcQGMQYFNwJiVDMOETZ9j5osl73QcuSkMkGW92tRpAYyQONm1bdthS7SUez7MxBzFMcIAQ1cx16McCU5OBBxgYcoGHbRF2XZCNyJItiwKQ80AxJRmXDVJD2ACg9DgABydDmKSfQkBAcg9AMAYhgJGNoBYitNRqdiCzgAooBlFixMJdjCmKXlRQCGBPGE5jRLY5QKm0YV6jgfjhh0ISoEbDAoQgFQlCoUQDB/VhaCMqtyFiGQHkY4CpOU6wthgAQcBgYBBmlJzzOMwStSgGkkFOBgADV6K8o1cSQKwMG3Xd90PY9T3PaRMGvAAvSogkBdC73ZLYgnsQRH2cdDkyQMIADOyrMCqJnTaqMLqrNnG0mogA\">this approach</a> gives a pretty good UI. It takes local bindings and renamings into account, provides suggestions, and supports completion:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Elab</span><span class=\"w\"> </span><span class=\"n\">Term</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"bool_thing \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n<span class=\"n\">elab_rules</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">bool_thing</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">do</span>\n<span class=\"w\">    </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">resolveId?</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">withInfo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">      </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">matches</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"ss\">``true</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">||</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">matches</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">const</span><span class=\"w\"> </span><span class=\"ss\">``false</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"k\">then</span>\n<span class=\"w\">        </span><span class=\"n\">logInfoAt</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">m!</span><span class=\"s2\">\"It is {n}\"</span>\n<span class=\"w\">        </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">unresolveNameGlobalAvoidingLocals</span><span class=\"w\"> </span><span class=\"ss\">``true</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">unresolveNameGlobalAvoidingLocals</span><span class=\"w\"> </span><span class=\"ss\">``false</span>\n<span class=\"w\">    </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">m!</span><span class=\"s2\">\"Use a Bool literal:\"</span><span class=\"bp\">.</span><span class=\"n\">hint</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">t</span><span class=\"bp\">.</span><span class=\"n\">toString</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">toString</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ref?</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">throwErrorAt</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">m!</span><span class=\"s2\">\"Boolean literal expected.{h}\"</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">bool_thing</span><span class=\"w\"> </span><span class=\"n\">true</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">error: Boolean literal expected.</span>\n\n<span class=\"sd\">Hint: Use a Bool literal:</span>\n<span class=\"sd\">  • x̵t̲r̲u̲e̲</span>\n<span class=\"sd\">  • x̵f̲a̲l̲s̲e̲</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">bool_thing</span><span class=\"w\"> </span><span class=\"n\">x</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">error: Boolean literal expected.</span>\n\n<span class=\"sd\">Hint: Use a Bool literal:</span>\n<span class=\"sd\">  • B̲o̲o̲l̲.̲true</span>\n<span class=\"sd\">  • t̵r̵u̵f̲a̲l̲s̲e</span>\n<span class=\"sd\">---</span>\n<span class=\"sd\">warning: Local variable 'true' resembles constructor 'Bool.true' - write '.true' (with a dot) or 'Bool.true' to use the constructor.</span>\n\n<span class=\"sd\">Note: This linter can be disabled with `set_option linter.constructorNameAsVariable false`</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"w\">  </span><span class=\"n\">bool_thing</span><span class=\"w\"> </span><span class=\"n\">true</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"bp\">æ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">true</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">false</span>\n<span class=\"w\">  </span><span class=\"n\">bool_thing</span><span class=\"w\"> </span><span class=\"n\">Bool</span><span class=\"bp\">.</span><span class=\"n\">true</span>\n</code></pre></div>",
        "id": 539927994,
        "sender_full_name": "David Thrane Christiansen",
        "timestamp": 1758084297
    }
]