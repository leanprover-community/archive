[
    {
        "content": "<p>For any UFD <code>F</code> and a field <code>K</code> such that <code>IsFractionRing F K</code>, for any prime <code>p</code> in <code>F</code> the p-adic valuation is a (noncomputable) <code>AddValuation K (WithTop ℤ)</code>. I want to contribute this to Mathlib, but I'm not sure where to place this and how to name it. Any suggestions?</p>",
        "id": 450867415,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720755747
    },
    {
        "content": "<p>I guess it could be called <code>adicValuation</code>? Maybe put it in a file <code>Mathlib/RingTheory/Valuation/AdicValuation.lean</code>?</p>",
        "id": 450868734,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1720756367
    },
    {
        "content": "<p>Valuation in lean usually refers to multiplicative valuations though.</p>",
        "id": 450885280,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720765128
    },
    {
        "content": "<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain.HeightOneSpectrum.valuation#doc\">docs#IsDedekindDomain.HeightOneSpectrum.valuation</a> for the Adic Valuation attached to every prime in a Dedekind domain. This, as Kevin says, is a <em>multiplicative</em> valuation, and I think it is important that we keep things aligned, somewhat avoiding additive ones altogether. I understand it takes a little bit to switch language, but having two versions of valuations everywhere would lead to either a bunch of useless code or an immense duplication, and without a true mathematical benefit.</p>",
        "id": 450912816,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720774150
    },
    {
        "content": "<p>Its definition relies upon <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain.HeightOneSpectrum.intValuationDef#doc\">docs#IsDedekindDomain.HeightOneSpectrum.intValuationDef</a> and probably the best way to go is to strengthen this definition by removing unnecessary assumptions on the ring.</p>",
        "id": 450914261,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720774478
    },
    {
        "content": "<p>On the other hand, UFD and Dedekind domains are not one more/less general than the other one, so we should probably come up with the right assumptions on the ring to allow a nice unified definition and then specialize to the UFD or DD case for specific results.</p>",
        "id": 450915754,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720774843
    },
    {
        "content": "<p>My definition actually works with <code>WfDvdMonoid</code>, which is more general than Dedekind domain, but it's stated directly in terms of <code>(p : R) [Fact (Prime p)]</code></p>",
        "id": 450917603,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720775433
    },
    {
        "content": "<p>Can't you make it work using an ideal rather than an element?</p>",
        "id": 450923927,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720777484
    },
    {
        "content": "<p>It's using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=multiplicity.addValuation#doc\">docs#multiplicity.addValuation</a>, so I'm not exactly sure how</p>",
        "id": 450924023,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720777522
    },
    {
        "content": "<p>Perhaps playing with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=count_span_normalizedFactors_eq#doc\">docs#count_span_normalizedFactors_eq</a> and its friends?</p>",
        "id": 450924214,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720777587
    },
    {
        "content": "<p>I would advocate for avoiding this <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=multiplicity.addValuation#doc\">docs#multiplicity.addValuation</a> altogether. It is additive and moreover takes values in the horrible <code>PartENat</code>.</p>",
        "id": 450924532,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720777703
    },
    {
        "content": "<p>It is an old file that somewhat got lost, I believe.</p>",
        "id": 450924575,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720777722
    },
    {
        "content": "<p>Working around what we have for the (multiplicative) AdicValuation for DD is more suitable, generalizing it if possible.</p>",
        "id": 450924644,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720777746
    },
    {
        "content": "<p>If you have this on a github repo, I'd be happy to have a look.</p>",
        "id": 450924674,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720777756
    },
    {
        "content": "<p>What I wanted to add is <a href=\"https://github.com/leanprover-community/mathlib4/blob/83ae564e733541ba769472141d046aa2f75d0669/Mathlib/RingTheory/Valuation/AdicValuation.lean\">https://github.com/leanprover-community/mathlib4/blob/83ae564e733541ba769472141d046aa2f75d0669/Mathlib/RingTheory/Valuation/AdicValuation.lean</a> although I now agree that generalizing the multiplicative version would be better</p>",
        "id": 450925465,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720778005
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"300245\">Filippo A. E. Nuccio</span> <a href=\"#narrow/stream/287929-mathlib4/topic/General.20p-adic.20valuation/near/450915754\">said</a>:</p>\n<blockquote>\n<p>On the other hand, UFD and Dedekind domains are not one more/less general than the other one, so we should probably come up with the right assumptions on the ring to allow a nice unified definition and then specialize to the UFD or DD case for specific results.</p>\n</blockquote>\n<p>The general construction would be to associate the discrete valuation to a height one prime in any normal Noetherian ring. (The localization at the prime would be a DVR.)</p>",
        "id": 450958666,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720787318
    },
    {
        "content": "<p>Or better, you just need to assume that the localization at the prime is normal.</p>",
        "id": 450958889,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720787361
    },
    {
        "content": "<p>cf. <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/DiscreteValuationRing/TFAE.html#DiscreteValuationRing.TFAE\">DiscreteValuationRing.TFAE</a></p>",
        "id": 450959577,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720787482
    },
    {
        "content": "<p>Actually the localization at this hgt 1 prime would be a local dedekind domain, hence a dvr, no?</p>",
        "id": 450961309,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720787814
    },
    {
        "content": "<p>Yup!</p>",
        "id": 450961582,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720787866
    },
    {
        "content": "<p>But I assume mathlib doesn't know this yet (except for the <code>TFAE</code> statement above)</p>",
        "id": 450961720,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720787900
    },
    {
        "content": "<p>Yes, probably.</p>",
        "id": 450961977,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720787968
    },
    {
        "content": "<p>At any rate since there is a lot of API for the AdicValuation in a (local or not) Dedekind domain, I would argue that using this is probably easier than using the valuation attached to it as a DVR. We prove they are equivalent in our project on local fields so it makes little difference. The advantage of using the <code>DedekindDomain.AdicValuation</code> is that all things related to \"valuation is positive iff a uniformizer divides\" and friends are already in mathlib.</p>",
        "id": 450962334,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788043
    },
    {
        "content": "<p>Yeah it would certainly be good to capitalize on that (-;</p>",
        "id": 450964047,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1720788466
    },
    {
        "content": "<p>To sum up for <span class=\"user-mention\" data-user-id=\"690858\">@Daniel Weber</span> , I agree with Adam that if you start with any Normal Noetherian domain <code>R</code> and any prime ideal <code>P</code> of hgt 1, then you can define the (multiplicative) valuation as the <code>DedekindDomain.AdicValuation</code> attached to the maximal ideal of the local field obtained localizing <code>R</code> at <code>P</code>.  The case of a UFD and an element <code>p</code> follows since <code>UFD</code>'s are Noetherian Normal and the ideal generated by <code>p</code> would have hgt 1.</p>",
        "id": 450964079,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788471
    },
    {
        "content": "<p>It would also be very nice to develop more about <a href=\"https://en.wikipedia.org/wiki/Krull_ring\">Krull rings</a> building upon what we currently have for Dedekind D.</p>",
        "id": 450964455,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788554
    },
    {
        "content": "<p>Is the adic valuation for a prime in a Dedekind domain not defined by localizing and looking at the associated DVR?</p>",
        "id": 450964972,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720788691
    },
    {
        "content": "<p>Not \"defined\" by proven equivalent (in mathlib I mean(</p>",
        "id": 450965015,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788707
    },
    {
        "content": "<p>Or is it defined in terms of factorization of principal fractional ideals?</p>",
        "id": 450965050,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720788720
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain.HeightOneSpectrum.valuation#doc\">docs#IsDedekindDomain.HeightOneSpectrum.valuation</a></p>",
        "id": 450965532,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788808
    },
    {
        "content": "<p>Probably what really matters is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain.HeightOneSpectrum.intValuationDef#doc\">docs#IsDedekindDomain.HeightOneSpectrum.intValuationDef</a></p>",
        "id": 450965713,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788849
    },
    {
        "content": "<p>Oh I see… that seems like the least efficient definition to me! <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span></p>",
        "id": 450966010,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720788907
    },
    {
        "content": "<p>But that doesn’t matter as long as it works!</p>",
        "id": 450966143,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1720788935
    },
    {
        "content": "<p>Once we're done with porting our project, you're welcome to refactor it entirely <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 450966284,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720788962
    },
    {
        "content": "<p>Jokes aside, I think that since the API built around it is quite well done, the def is no longer very important. And working with this valuation is pretty easy.</p>",
        "id": 450966604,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720789004
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"300245\">Filippo A. E. Nuccio</span> <a href=\"#narrow/stream/287929-mathlib4/topic/General.20p-adic.20valuation/near/450964079\">said</a>:</p>\n<blockquote>\n<p>To sum up for <span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> , I agree with Adam that if you start with any Normal Noetherian domain <code>R</code> and any prime ideal <code>P</code> of hgt 1, then you can define the (multiplicative) valuation as the <code>DedekindDomain.AdicValuation</code> attached to the maximal ideal of the local field obtained localizing <code>R</code> at <code>P</code>.  The case of a UFD and an element <code>p</code> follows since <code>UFD</code>'s are Noetherian Normal and the ideal generated by <code>p</code> would have hgt 1.</p>\n</blockquote>\n<p>My use case has <code>R</code> as the ring of polynomials over a field, so I think I should be able to just use the existing version for a Dedekind domain. However, I'm not sure how to construct a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsDedekindDomain.HeightOneSpectrum#doc\">docs#IsDedekindDomain.HeightOneSpectrum</a> from the span of a prime element. What's the API for that?</p>",
        "id": 450973277,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720790246
    },
    {
        "content": "<p>This <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.idealX#doc\">docs#Polynomial.idealX</a> is the ideal spanned by <code>X</code> and this, for instance, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RatFunc.instValuedWithZeroMultiplicativeInt#doc\">docs#RatFunc.instValuedWithZeroMultiplicativeInt</a> is the associated valuation.</p>",
        "id": 450974430,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720790473
    },
    {
        "content": "<p>Which prime polynomial are you considering?</p>",
        "id": 450974512,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720790488
    },
    {
        "content": "<p>My argument is that for any prime polynomial the valuation of some value is nonnegative (that's additive, multiplicatively it'd be <code>≤ 1</code>, right?), so that value must actually be a polynomial, so it has to be general</p>",
        "id": 450974918,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720790572
    },
    {
        "content": "<p>Then you can first prove  that your polynomial is prime and deduce (say, in <code>lemma1</code>) that the ideal spanned by it is a prime ideal. Then you prove in <code>lemma2</code> that this is non-zero, and finally you can define</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">Danielideal</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IsDedekindDomain.HeightOneSpectrum</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">asIdeal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Ideal.span</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">isPrime</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">lemma1</span>\n<span class=\"w\">  </span><span class=\"n\">ne_bot</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">lemma2</span>\n</code></pre></div>",
        "id": 450975714,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720790728
    },
    {
        "content": "<p>Then you can access the valuation attached to it as <code>DanielIdeal.valuation</code>.</p>",
        "id": 450975978,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720790780
    },
    {
        "content": "<p>I think you misunderstood, the result I'm using is something along the lines of</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">Monic</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">vp</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">   </span><span class=\"n\">IsLocalization</span><span class=\"bp\">.</span><span class=\"n\">IsInteger</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>and I'm not sure what to write in place of <code>vp p</code> in <code>h</code>.</p>",
        "id": 450977012,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720791033
    },
    {
        "content": "<p>You should take my explanation and let it depend on p. So</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">Danielideal</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hp</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">IsDedekindDomain.HeightOneSpectrum</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">asIdeal</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Ideal.span</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">isPrime</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lemma1</span>\n<span class=\"w\">  </span><span class=\"n\">ne_bot</span><span class=\"w\">  </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lemma2</span>\n</code></pre></div>",
        "id": 450977513,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720791184
    },
    {
        "content": "<p>I see, so that's not defined already. Alright, I'll define it. BTW <code>hp0</code> isn't necessary, it's part of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Prime#doc\">docs#Prime</a></p>",
        "id": 450977801,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720791268
    },
    {
        "content": "<p>In the above code, <code>lemma1</code> is a proof that under <code>hP</code> the ideal  spanned by <code>p</code> is prime; and lemma2 is a proof that <del>under <code>hp0</code></del> the ideal spanned by <code>p</code> is non-zero.</p>",
        "id": 450977802,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720791268
    },
    {
        "content": "<p>And then in your example you can replace <code>vp p</code> by <code>(DanielIdeal p hp).valuation</code>.</p>",
        "id": 450978012,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720791332
    },
    {
        "content": "<p>Alright, thanks. Is <code>IsDedekindDomain.HeightOneSpectrum.primeSpan</code> a good name for this?</p>",
        "id": 450978534,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720791477
    },
    {
        "content": "<p>I think so. It can be put somwhere in <code>RingTheory/DedekindDomain/Ideal.lean</code></p>",
        "id": 450979293,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720791651
    },
    {
        "content": "<p>No, actually <code>SpanPrime</code> is better</p>",
        "id": 450979488,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720791707
    },
    {
        "content": "<p>Because the general name is <code>Span</code> and in case of the span of a single element we have <code>SpanSingleton</code>, so I would advocate for <code>SpanPrime</code>.</p>",
        "id": 450979613,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1720791734
    },
    {
        "content": "<p>Alright</p>",
        "id": 450979903,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1720791789
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/stream/287929-mathlib4/topic/General.20p-adic.20valuation/near/450977012\">said</a>:</p>\n<blockquote>\n<p>I think you misunderstood, the result I'm using is something along the lines of</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">K</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">],</span><span class=\"w\"> </span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"bp\">.</span><span class=\"n\">Monic</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">vp</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">   </span><span class=\"n\">IsLocalization</span><span class=\"bp\">.</span><span class=\"n\">IsInteger</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>and I'm not sure what to write in place of <code>vp p</code> in <code>h</code>.</p>\n</blockquote>\n<p>This result is the second TODO in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/DedekindDomain/SInteger.html\">RingTheory.DedekindDomain.SInteger</a>, right? What would be the best way to show this?</p>",
        "id": 470187610,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1726328120
    }
]