[
    {
        "content": "<p>I tried to follow <a href=\"https://github.com/leanprover-community/mathlib4#using-mathlib4-as-a-dependency\">https://github.com/leanprover-community/mathlib4#using-mathlib4-as-a-dependency</a></p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>%<span class=\"w\"> </span>elan<span class=\"w\"> </span>--version\nelan<span class=\"w\"> </span><span class=\"m\">1</span>.4.2<span class=\"w\"> </span><span class=\"o\">(</span><span class=\"w\"> </span><span class=\"o\">)</span>\n%<span class=\"w\"> </span>lean<span class=\"w\"> </span>--version\nLean<span class=\"w\"> </span><span class=\"o\">(</span>version<span class=\"w\"> </span><span class=\"m\">4</span>.0.0,<span class=\"w\"> </span>commit<span class=\"w\"> </span>7dbfaf9b7519,<span class=\"w\"> </span>Release<span class=\"o\">)</span>\n%<span class=\"w\"> </span>lake<span class=\"w\"> </span>--version\nLake<span class=\"w\"> </span>version<span class=\"w\"> </span><span class=\"m\">4</span>.0.0<span class=\"w\"> </span><span class=\"o\">(</span>Lean<span class=\"w\"> </span>version<span class=\"w\"> </span><span class=\"m\">4</span>.0.0,<span class=\"w\"> </span>commit<span class=\"w\"> </span>7dbfaf9b751917a7fe020485bf57f41fdddcaafa<span class=\"o\">)</span>\n%<span class=\"w\"> </span>lake<span class=\"w\"> </span>update\nmathlib:<span class=\"w\"> </span>no<span class=\"w\"> </span>manifest<span class=\"w\"> </span>entry<span class=\"p\">;</span><span class=\"w\"> </span>deleting<span class=\"w\"> </span>./lean_packages/mathlib<span class=\"w\"> </span>and<span class=\"w\"> </span>cloning<span class=\"w\"> </span>again\ncloning<span class=\"w\"> </span>https://github.com/leanprover-community/mathlib4.git<span class=\"w\"> </span>to<span class=\"w\"> </span>./lean_packages/mathlib\nerror:<span class=\"w\"> </span>./lean_packages/mathlib/lakefile.lean:7:2:<span class=\"w\"> </span>error:<span class=\"w\"> </span>unknown<span class=\"w\"> </span>attribute<span class=\"w\"> </span><span class=\"o\">[</span>default_target<span class=\"o\">]</span>\nerror:<span class=\"w\"> </span>./lean_packages/mathlib/lakefile.lean:14:2:<span class=\"w\"> </span>error:<span class=\"w\"> </span>unknown<span class=\"w\"> </span>attribute<span class=\"w\"> </span><span class=\"o\">[</span>default_target<span class=\"o\">]</span>\nerror:<span class=\"w\"> </span>./lean_packages/mathlib/lakefile.lean:<span class=\"w\"> </span>package<span class=\"w\"> </span>configuration<span class=\"w\"> </span>has<span class=\"w\"> </span>errors\n%<span class=\"w\"> </span>bat<span class=\"w\"> </span>lakefile.lean\nimport<span class=\"w\"> </span>Lake\nopen<span class=\"w\"> </span>Lake<span class=\"w\"> </span>DSL\n\npackage<span class=\"w\"> </span>myproject<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">  </span>--<span class=\"w\"> </span>add<span class=\"w\"> </span>any<span class=\"w\"> </span>package<span class=\"w\"> </span>configuration<span class=\"w\"> </span>options<span class=\"w\"> </span>here\n<span class=\"o\">}</span>\n\nrequire<span class=\"w\"> </span>mathlib<span class=\"w\"> </span>from<span class=\"w\"> </span>git\n<span class=\"w\">  </span><span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span>\n\n@<span class=\"o\">[</span>defaultTarget<span class=\"o\">]</span>\nlean_lib<span class=\"w\"> </span>Myproject<span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">  </span>--<span class=\"w\"> </span>add<span class=\"w\"> </span>any<span class=\"w\"> </span>library<span class=\"w\"> </span>configuration<span class=\"w\"> </span>options<span class=\"w\"> </span>here\n<span class=\"o\">}</span>\n</code></pre></div>",
        "id": 344406893,
        "sender_full_name": "Iocta",
        "timestamp": 1679714930
    },
    {
        "content": "<p>I think that sounds like your <code>lean</code> is quite old, that commit is from August 2022. You should start by updating that to a more recent nightly, and then the spelling for default target is <code>default_target</code> now not camel case. The output there almost confused me but IIRC that's a confusing bit of output coming from the fact that <em>mathlib4</em> is using the correct new <code>default_target</code> but your old Lean is confused by it.</p>",
        "id": 344532516,
        "sender_full_name": "Julian Berman",
        "timestamp": 1679765531
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"253355\">Iocta</span> has marked this topic as resolved.</p>",
        "id": 344541653,
        "sender_full_name": "Notification Bot",
        "timestamp": 1679770090
    }
]