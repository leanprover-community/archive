[
    {
        "content": "<p>Currently, we have the following notations for working with the <code>SimplexCategory</code> and <code>SimplicialObject</code>:</p>\n<ul>\n<li><code>[n]</code> denotes the <code>n</code>-dimensional simplex (<code>SimplexCategory.mk n</code>).</li>\n<li><code>X _[n]</code> denotes the <code>n</code>-th term of a (co)simplicial object <code>X</code> (<code>X.obj (Opposite.op (SimplexCategory.mk n))</code>).</li>\n</ul>\n<p>In the process of adding analogous notations for the truncated simplex category, it was noted that conflicts with the <code>List</code> notation should probably be avoided.</p>",
        "id": 497501916,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738606061
    },
    {
        "content": "<p>/poll What should be the new notation for objects of the <code>SimplexCategory</code>?<br>\n⁅n⁆<br>\n⦗n⦘<br>\n⦋n⦌<br>\njust use <a href=\"http://SimplexCategory.mk\">SimplexCategory.mk</a> n</p>",
        "id": 497502272,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738606173
    },
    {
        "content": "<p>Please feel free to vote for more than one option and to add any options you feel were missed.</p>",
        "id": 497502515,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738606244
    },
    {
        "content": "<p>I think <code>.mk n</code> would work in most cases. I don’t think it’s that bad</p>",
        "id": 497546001,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1738622615
    },
    {
        "content": "<p>My main argument for keeping <em>some</em> notation for <code>SimplexCategory.mk</code> is that we frequently need to use <code>SimplexCategory.mk</code> as part of a type (perhaps more commonly than for the typical constructor?) where I don't think <code>.mk</code> would be useful.</p>",
        "id": 497548194,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738623612
    },
    {
        "content": "<p>Then there is also the extension to the truncated simplex category, where the notation <code>[m]ₙ</code> allows for automating the truncation proof. Without this notation, we would constantly be writing the following.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⟨</span><span class=\"n\">SimplexCategory</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SimplexCategory</span><span class=\"bp\">.</span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">SimplexCategory</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"bp\">⟩</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 497548674,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738623833
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"243562\">Adam Topaz</span> <a href=\"#narrow/channel/287929-mathlib4/topic/simplex.20category.20notations/near/497546001\">said</a>:</p>\n<blockquote>\n<p>I think <code>.mk n</code> would work in most cases. I don’t think it’s that bad</p>\n</blockquote>\n<p>To be fair to this argument, I should note that you could usually write the below rather than the above.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⟨.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SimplexCategory</span><span class=\"bp\">.</span><span class=\"n\">Truncated</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"bp\">⟨.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"bp\">⟩</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>My personal preference is still for <code>(φ : [m]ₙ ⟶ [j]ₙ)</code>, though.</p>",
        "id": 497549675,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738624286
    },
    {
        "content": "<p>For readability and concision, I definitely would like to see some sort of abbreviation for this. Right now, because of the List conflict, we have to write  </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">φ</span><span class=\"w\">  </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"o\">([</span><span class=\"n\">n</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SimplexCategory</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">m</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>over and over again which is a bit of a pain. Also, if we don't introduce some abbreviation, how to do we refer to the type <code>X _[n]</code> which elaborated is something like <code>X.obj ( ([n] : SimplexCategory).op)</code>?</p>",
        "id": 497908228,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738766226
    },
    {
        "content": "<p>While we're discussing this, I think the analogous thing for cosimplicial sets is also denoted <code>X _[n]</code>. Is there a rational for this instead of the more conventional (on paper) notation <code>X ^[n]</code>?</p>",
        "id": 497908401,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738766279
    },
    {
        "content": "<p>I would agree that if there are no technical obstacles, the <code>n</code>-part of a cosimplicial object should be denoted <code>X ^[n]</code> instead of <code>X _[n]</code>. (We do not have that many cosimplicial objects in mathlib yet, which may explain why nobody noticed this!)</p>",
        "id": 497931869,
        "sender_full_name": "Joël Riou",
        "timestamp": 1738772306
    },
    {
        "content": "<p>Some brief experimentation suggests that notation3 can handle <code>X ^[n]</code>, so this should be an easy change.</p>",
        "id": 497932600,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738772511
    },
    {
        "content": "<p>Do we want to change the brackets in the notations <code>X _[n]</code> and <code>X ^[n]</code> in accordance with the change to the simplex category notation? e.g. changing them to <code>X _⦋n⦌</code> and <code>X ^⦋n⦌</code>, respectively.</p>",
        "id": 497932980,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738772605
    },
    {
        "content": "<p>This is a good question. How hard are the new fancy brackets to typeset? (If not so hard, then yes maybe better to align; if annoying to type, then maybe we preserve the <code>[ ]</code> in as many settings as avoid the list conflict.</p>",
        "id": 497941734,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738775086
    },
    {
        "content": "<p>I believe that all of the options except <code>⁅n⁆</code> still need to be added to the abbreviations list, so we would just need to decide on a good shortcut that is unclaimed.</p>",
        "id": 497943803,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738775671
    },
    {
        "content": "<p>Just a thought, but if we used different brackets for <code>X _[n]</code> than for the simplex category notations, we might be able to get away with just <code>X [n]</code> (no underscore).</p>",
        "id": 497945819,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738776290
    },
    {
        "content": "<p>While the underscore and superscript are extra typing they feel intuitive (to me at least). On paper, I'd write <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>X</mi><mi>n</mi></msub></mrow><annotation encoding=\"application/x-tex\">X_n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8333em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1514em;\"><span style=\"top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span> for a simplicial object and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>X</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">X^n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span></span></span></span> for a cosimplicial one.</p>",
        "id": 497951147,
        "sender_full_name": "Emily Riehl",
        "timestamp": 1738777951
    },
    {
        "content": "<p>I bet <code>[n]</code> gets parsed as \"list with 1 element n\" (this is core notation and I don't think it can be turned off) and then you get some error of the form \"X isn't a function which eats lists\"</p>",
        "id": 497988337,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738791763
    },
    {
        "content": "<p>Another possibility is to add a <code>CoeFun</code> instance for simplicial objects.</p>",
        "id": 498002505,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1738798459
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/21485\">#21485</a> changes the notation for the <code>n</code>-th term of a cosimplicial object to <code>X ^[n]</code>.</p>",
        "id": 498007260,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738800751
    },
    {
        "content": "<p>The notation <code>X [n]</code> for (co)simplicial objects surprisingly does work, and a <code>CoeFun</code> instance would be a good idea as well. I think <code>X _[n]</code> and <code>X ^[n]</code> are intuitive enough, though, and also avoid any confusion with <code>List</code> notation.</p>",
        "id": 498007461,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738800877
    },
    {
        "content": "<p>Is there an established precedent for how long to keep the polls open here? Or anything I can do to market the poll more widely? I want to make sure everyone has a chance to weigh in, but also don't want to lose track of this.</p>",
        "id": 498205014,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738873747
    },
    {
        "content": "<p>I think it's fine. Feel free to make the PR.</p>",
        "id": 498275742,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1738913584
    },
    {
        "content": "<p>Thanks <span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span>!</p>",
        "id": 498370483,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738943342
    },
    {
        "content": "<p>I will tentatively start working towards changing the notation for the <code>n</code>-dimensional simplex to <code>⦋n⦌</code>, though anyone with strong opinions should feel free to overrule me here.</p>",
        "id": 498370737,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738943405
    },
    {
        "content": "<p>A few notes:</p>\n<ul>\n<li>Most people (myself included) seem to be indifferent between <code>⦋n⦌</code> and <code>⦗n⦘</code>. If anyone feels strongly that <code>⦗n⦘</code> does a better job of avoiding conflict with <code>List</code> notation, that may be worth considering.</li>\n<li>We still need abbreviation(s) for the new notation. <span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span> has suggested several options: <code>\\&lt;[</code>, <code>\\]&gt;</code>, <code>\\&lt;[]&gt;</code>, <code>\\simplex</code> as abbrevs for <code>⦗</code>, <code>⦘</code>, <code>⦗⦘</code>, <code>⦗⦘</code>, respectively. Any other suggestions or thoughts are welcome.</li>\n</ul>",
        "id": 498371653,
        "sender_full_name": "Nick Ward",
        "timestamp": 1738943651
    }
]