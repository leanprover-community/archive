[
    {
        "content": "<p>In <code>Data.Num.*</code> we define natural number types <code>Num</code>, <code>ZNum</code>, etc. through binary representation rather than our preferred standard Peano axioms. A note in <code>Data.Num.Basic</code> reads</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unlike</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Coq</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">representation</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">preferred</span><span class=\"w\"> </span><span class=\"n\">because</span><span class=\"w\"> </span><span class=\"n\">of</span>\n<span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">reliance</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">kernel</span><span class=\"w\"> </span><span class=\"n\">reduction</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">representation</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">discouraged</span>\n<span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">favor</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"s2\">\"Peano\"</span><span class=\"w\"> </span><span class=\"n\">natural</span><span class=\"w\"> </span><span class=\"n\">numbers</span><span class=\"w\"> </span><span class=\"ss\">`Nat</span><span class=\"bp\">`</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">purpose</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"n\">collection</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">theorems</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">equivalence</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">different</span><span class=\"w\"> </span><span class=\"n\">approaches</span><span class=\"bp\">.</span>\n</code></pre></div>\n<p>A check shows that the <code>Data.Num.*</code> files are also not used anywhere else in mathlib. Given these, can we just deprecate everything in <code>Data.Num.*</code> by moving them to <code>Deprecated</code>?</p>",
        "id": 536890373,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756531285
    },
    {
        "content": "<p>I do think mathlib should have a notion of representing natural/rational/real numbers in positional system. See e.g. <a href=\"#narrow/channel/144837-PR-reviews/topic/representation.20of.20reals.20in.20.5B0.2C.201.5D.20in.20positional.20system\">#PR reviews &gt; representation of reals in &#91;0, 1&#93; in positional system</a></p>",
        "id": 536894971,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756536272
    },
    {
        "content": "<p>Are you advocating for merely moving <code>Data.Num</code>, or also for <em>re</em>moving them in the medium term?</p>",
        "id": 536894990,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1756536294
    },
    {
        "content": "<p>I want to eventually remove everything in <code>Data.Num</code>; besides the note on preferred representation in Lean, the files are ancient</p>",
        "id": 536895217,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756536551
    },
    {
        "content": "<p>For <code>Nat</code> at least, we already have <code>Nat.digits</code></p>",
        "id": 536895496,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756536827
    },
    {
        "content": "<p>One extremely minor note is that if I remember correctly, external type checkers are not required to implement custom reduction for Nat, and can do it the Peano Arithmetic way if they so please. So, using <code>Num</code> could in theory speed up proofs for external checkers. (I don't consider this to be important, but I thought it might be worth mentioning.)</p>",
        "id": 536897056,
        "sender_full_name": "Niels Voss",
        "timestamp": 1756538935
    },
    {
        "content": "<p>It's worth pinging <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> about deprecation, he's the primary author of <code>Data.Num</code></p>",
        "id": 536897616,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1756539613
    },
    {
        "content": "<p>Num is already \"deprecated\" in the sense that you should use Nat instead if you don't have a good reason. But I don't see a reason to put it on the deletion pipeline</p>",
        "id": 536904899,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1756549242
    },
    {
        "content": "<p>What would be the benefit of removing it?</p>",
        "id": 536905074,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1756549499
    },
    {
        "content": "<p>For me <code>Num</code> and relatives are like the CGT material that was downstreamed – unlikely to be used anywhere else in mathlib, or even in a downstream project – but unlike CGT it isn't even interesting in its own right</p>",
        "id": 536905660,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756550324
    },
    {
        "content": "<p>I got the idea while depriming <code>induction'</code>. Some of the uses of <code>induction'</code> in the <code>Num</code> files are very involved</p>",
        "id": 536905828,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756550597
    },
    {
        "content": "<p>At best <code>Num</code> and relatives should be relegated to <code>Archive</code> because they are alternative representations of core types that – as practice has shown – makes proving theorems about them much harder</p>",
        "id": 536914340,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756559807
    },
    {
        "content": "<p>As for the <em>benefit</em> of deleting <code>Num</code>? It would be the best way of communicating our design choice around <code>Nat</code> and <code>Int</code></p>",
        "id": 536914545,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1756560074
    }
]