[
    {
        "content": "<p>I have a goal like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">ℝ</span>\n<span class=\"n\">hi</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">log</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)))</span><span class=\"w\"> </span><span class=\"n\">T</span>\n</code></pre></div>\n<p>and I try <code>fun_prop</code>, it says that it gets stuck at</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">prove</span><span class=\"w\"> </span><span class=\"n\">necessary</span><span class=\"w\"> </span><span class=\"n\">assumption</span><span class=\"w\"> </span><span class=\"ss\">`f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"n\">applying</span><span class=\"w\"> </span><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"ss\">`Real.differentiableAt_log</span><span class=\"bp\">`.</span>\n</code></pre></div>\n<p>Does it not check for local assumptions that would make it work? I thought that was kind of the whole point -- to reduce the conclusion to other terms systematically</p>",
        "id": 484806740,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1732745437
    },
    {
        "content": "<p>Quick reply, not at the docs: I think you can use the <code>discharger</code> (or was it <code>disch</code>? please check!) option. Does that help? (I agree that this is non-ideal user experience.)</p>",
        "id": 484806925,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1732745528
    },
    {
        "content": "<p>Hmm, yes something like that works. That leaves with the slightly ugly form of things then like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">hi</span><span class=\"bp\">.</span><span class=\"m\">2</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">DifferentiableAt_Z_if_ZIntegrable</span><span class=\"w\"> </span><span class=\"n\">hi</span>\n<span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">left_ne_zero_of_mul_eq_one</span><span class=\"w\"> </span><span class=\"n\">hβT</span>\n<span class=\"n\">fun_prop</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">disch</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">assumption</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>so where I'm making these several side goals needed and then discharging them by assumption. But, it works!</p>\n<p>It looks like there is some <code>fun_prop [foo, bar]</code> syntax that exists, at least it parses and I thought it would be like <code>nlinarith [foo, bar]</code> where I can pass in other facts. But that doesn't seem to be that, and there's little docs on how fun_prop should be used sadly</p>",
        "id": 484826957,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1732759738
    }
]