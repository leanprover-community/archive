[
    {
        "content": "<p>Really dumb question: what's the difference between <code>change</code> and <code>show</code>? One major difference, as I just learned, is that <code>change</code> can be used <code>at</code> a hypothesis, whereas <code>show</code> cannot. May I ask what the rationale for that is? Thanks!</p>",
        "id": 537584262,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1756957083
    },
    {
        "content": "<p>The docstring of <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Tactic/Linter/Style.html#Mathlib.Linter.Style.show.showLinter\">Mathlib.Linter.Style.show.showLinter</a> has some information:</p>\n<blockquote>\n<p>The \"show\" linter emits a warning if the <code>show</code> tactic changed the goal. <code>show</code> should only be used<br>\nto indicate intermediate goal states for proof readability. When the goal is actually changed,<br>\n<code>change</code> should be preferred.</p>\n</blockquote>\n<p>I think of using <code>show</code> as an inline way to clarify why a particular term can be used when the defeq is not obvious, while <code>change</code> really is for altering a hypothesis or goal.</p>",
        "id": 537586246,
        "sender_full_name": "Chris Henson",
        "timestamp": 1756958607
    },
    {
        "content": "<p>If you have many goals, <code>show</code> can select a particular goal.</p>\n<p>The history for <code>change at</code> is that I added it to mathlib in 2023. I'm not sure what the exact history of <code>show</code> is.</p>",
        "id": 537599090,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1756967889
    },
    {
        "content": "<p>I think term-mode <code>show</code> came before tactic-mode <code>show</code>. The term-mode <code>show</code> is a way to explicitly say what type you're wanting to build, which can help the elaborator a lot, and also change defeq types between each other. (Personally I find this useful in things like <code>rw [show a = f b from somethingThatIsDefEqToAnEqualityButNotOneItself]</code>, or like <code>rw [ &lt;- Int.mul_le_mul_right (show 0 &lt; 1 + f x by positivity) ]</code>.)</p>\n<p>And then the <code>show</code> tactic makes sense if you think of it as, \"I'm wrapping whatever proof term I construct by these tactics in a term-mode <code>show</code>, to make it elaborate as something else\"</p>",
        "id": 537736856,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1757013754
    },
    {
        "content": "<p>isn't there a linter (or warning or something) that says to use <code>change</code> instead of <code>show</code> in tactic mode? possibly only when abusing a certain kind of defeq?</p>",
        "id": 537737318,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1757013966
    },
    {
        "content": "<p>What's confusing is that term-mode <code>show</code> (exactly?) corresponds to tactic-mode <code>change</code></p>",
        "id": 537740107,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1757015092
    },
    {
        "content": "<p>I also think <code>change</code> is an underdescriptive word that could be the name or many other tactics (all rewriting tactics, for a start). Nothing in its name indicates the fact that it works up to defeq</p>",
        "id": 537740332,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1757015186
    },
    {
        "content": "<p>One thing that new math learners often get tripped up by is overloaded dummy variable names. So if my definition of <code>SequenceConverges</code> is <code>∀ ε &gt; 0, ∃ δ ...</code> and they're supposed to use <code>ε/2</code> for <code>ε</code>, it's confusing. So instead of just <code>unfold</code>ing the definition, I'm going to ask them to <code>change</code> and force them to provide the definition themselves, which serves two pedagogical purposes: (1) they get another chance to remember the definition, and (2) they can name the dummy variable <code>∀ ε₁ &gt; 0, ∃ δ₂ ...</code> and then it's not confusing when you set <code>ε₁</code> equal to <code>ε / 2</code>...</p>",
        "id": 537760546,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1757022417
    },
    {
        "content": "<p>That's a pretty neat way to teach! I wonder how hard it would be cook up a <code>unfold_with_fresh</code> or similar. Saying, like, if I'm going to unfold the definition of <code>SequenceConverges</code> and it has bvars internally named <code>ε</code> while I _also_ have a local variable named <code>ε</code>, currently the system picks a name like <code>ε_1</code> for a safe replacement. But then you could have a version where you name them yourself, like:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">unfold_with_fresh</span><span class=\"w\"> </span><span class=\"n\">SequenceConverges</span><span class=\"w\"> </span><span class=\"n\">as</span><span class=\"w\"> </span><span class=\"n\">ε₁</span><span class=\"w\"> </span><span class=\"n\">ϛ</span>\n</code></pre></div>\n<p>or something to name bvars encountered in that way.</p>\n<p>That loses you the \"chance to remember the definition\", but it would make a useful tactic in theorem proving in general.</p>",
        "id": 537779836,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1757036433
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60change.60.20vs.20.60show.60.3F/near/537740332\">said</a>:</p>\n<blockquote>\n<p>I also think <code>change</code> is an underdescriptive word that could be the name or many other tactics (all rewriting tactics, for a start). Nothing in its name indicates the fact that it works up to defeq</p>\n</blockquote>\n<p>I totally agree!</p>\n<p>At the same time, <code>show at</code> would also be underdescriptive, to the point it would be misleading.<br>\nMaybe <code>rephrase at</code> would make sense?</p>",
        "id": 537868411,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1757078150
    },
    {
        "content": "<p>what's wrong with just always using <code>change</code>?</p>",
        "id": 537869848,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1757078579
    },
    {
        "content": "<p>As <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> said, the word <code>change</code> does not convey the meaning that the term must stay the same up to defeq.</p>",
        "id": 537873124,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1757079553
    },
    {
        "content": "<p>I don't really care what we call it, but I would not want to have two tactics <code>change</code> and <code>show</code> doing the exact same thing.</p>",
        "id": 537981081,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1757141431
    }
]