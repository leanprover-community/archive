[
    {
        "content": "<p>Can we also have a version of the \"Unused fintype in type\" linter for <code>Fact</code> instances? The general consensus for Fintype vs Finite (use Fintype only if the statement's type requires it, otherwise use Finite) seems generally similar for Fact instances, eg <code>Fact p.Prime</code> or <code>Fact (1 &lt;= p)</code>; ie only have it as an (instance) assumption if the statement's type requires it. (Apologies if this is the wrong thread for that, I couldn't find an existing thread about this linter)</p>",
        "id": 561747459,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1764794189
    },
    {
        "content": "<p><a href=\"#narrow/channel/287929-mathlib4/topic/Unused.20Fact.20in.20type.20linter/near/561747459\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/Unused.20fintype.20in.20type.20linter/with/561746323\">#mathlib4 &gt; Unused fintype in type linter</a> by <span class=\"user-mention silent\" data-user-id=\"548935\">Thomas Murrills</span>.</p>",
        "id": 561954562,
        "sender_full_name": "Notification Bot",
        "timestamp": 1764874706
    },
    {
        "content": "<p>Hmm, I'm guessing instances of <code>Prop</code> classes should be permitted to use <code>[Fact _]</code>, right? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> ( <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> <a href=\"https://github.com/leanprover-community/mathlib4/pull/32436\">#32436</a>)</p>",
        "id": 561954774,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1764874783
    },
    {
        "content": "<p>(A potential false positive of this form that I have in mind is <code>expChar_prime</code> in <code>Mathlib.Algebra.CharP.Defs</code>.)</p>",
        "id": 561955059,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1764874876
    },
    {
        "content": "<p>Also, to be clear: I suppose the linter's suggestion ought to be to simply replace it with an ordinary hypothesis of the form <code>(h : p.Prime)</code>, right? Are there any weird but systematic cases where this is not what we want? <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 561955435,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1764875029
    },
    {
        "content": "<p>Wow, quite a few violations! <span aria-label=\"dizzy\" class=\"emoji emoji-1f635\" role=\"img\" title=\"dizzy\">:dizzy:</span> If i'm counting correctly, 110 files violated this linter (but this does include linting against instances, which we might not want to do).</p>",
        "id": 561961079,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1764877128
    },
    {
        "content": "<p>We definitely want to allow data-carrying instances to have this assumption. I'm not certain but it seems reasonable to me to allow propositional instances to have it too; and it also seems okay to be more permissive in the first version.</p>",
        "id": 561967169,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1764879459
    },
    {
        "content": "<p>Data-carrying instances are already excluded by the linterâ€”however, by exempting propositional instances too, we've reduced the number of files with violations by 22 (to 88). :)</p>",
        "id": 561969865,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1764880527
    }
]