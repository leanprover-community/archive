[
    {
        "content": "<p>Following a discussion between me and <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> long time ago, basically we concluded that it might be better to only define the affine space <code>A^n_S</code> (over scheme S) for  <code>S : Scheme.{u}</code> and <code>n : Type u</code>.</p>\n<p>What do you guys think about this? I'm encountering similar issues when trying to define related spaces. Basically the biggest issue is that if S and n are in different universes, and we define <code>A^n_S</code> to be in Type (max u v), then it no longer has a canonical map to S,</p>\n<p>and another technical issue is that Lean is very slow with universes unification.</p>",
        "id": 528352868,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752244459
    },
    {
        "content": "<p>How is this actually handled in mathematics (with Grothendieck universes?)</p>",
        "id": 528352936,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752244477
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Universe.20issues.20in.20algebraic.20geometry/near/528352936\">said</a>:</p>\n<blockquote>\n<p>How is this actually handled in mathematics (with Grothendieck universes?)</p>\n</blockquote>\n<p>I am afraid in math this is just ignored...</p>",
        "id": 528353351,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1752244618
    },
    {
        "content": "<p>Yes, I'm sure 90% of the mathematicians would just ignore it. But what do the remaining 10% think? Or is it not an issue because Grothendieck universes are cumulative (so S actually lives in Type (max u v))?</p>",
        "id": 528353513,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752244678
    },
    {
        "content": "<p>Yes, that seems a reasonable answer</p>",
        "id": 528353598,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1752244710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> do you know anyone here who might be interested in this question?</p>",
        "id": 528355329,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752245286
    },
    {
        "content": "<p>maybe it makes sense to define a <code>ulift</code> function/functor on <code>Scheme</code>s?</p>",
        "id": 528355459,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752245327
    },
    {
        "content": "<p>or does that run into issues?</p>",
        "id": 528355514,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752245344
    },
    {
        "content": "<p><code>ulift</code> should be fine, it might also be the preferred solution. I was talking with someone else who suggested that in infinity category theory they also solved this issue by putting everything in the same universe.</p>",
        "id": 528355911,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752245481
    },
    {
        "content": "<p>To be more precise about the last statement: the currently most used model for infinity categories is quasicategories, which are certain kind of simplicial sets, to (formally) make sense of that you need to pick a universe for the category of sets. This is why the nerve of a <code>Type u</code> with a <code>Category.{v}</code> instance lives in <code>SSet.{max u v}</code>.</p>",
        "id": 528363299,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1752247812
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Universe.20issues.20in.20algebraic.20geometry/near/528352868\">said</a>:</p>\n<blockquote>\n<p>Following a discussion between me and <span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> long time ago, basically we concluded that it might be better to only define the affine space <code>A^n_S</code> (over scheme S) for  <code>S : Scheme.{u}</code> and <code>n : Type u</code>.</p>\n</blockquote>\n<p>That would be fine for me.<br>\n(And, unless there is no other option, I do not think we need do define a <code>ulift</code> functor for schemes)</p>",
        "id": 528374734,
        "sender_full_name": "Joël Riou",
        "timestamp": 1752252036
    },
    {
        "content": "<p>I find this very strange: this means that for a ring <code>R : Type 1</code>, there will be no affine plane <code>Aff^2_R</code>?</p>",
        "id": 528386971,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1752257628
    },
    {
        "content": "<p>The plan is to use <code>ULift (Fin 2)</code></p>",
        "id": 528387060,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1752257667
    },
    {
        "content": "<p>My point of view on universes is orthogonal to everything that I read here: it is that it is the duty of the formalizing process to make them invisible, not to restrict to adequate universes.</p>",
        "id": 528387071,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1752257674
    },
    {
        "content": "<p>It may be more difficult in some cases than in some other, but for an example that I PRed recently with Maria-Inés, see <a href=\"https://github.com/leanprover-community/mathlib4/pull/26719\">#26719</a></p>",
        "id": 528387160,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1752257732
    },
    {
        "content": "<p>Why don't we just demand that n's universe is &lt;= S's universe? Then there will be a map to S</p>",
        "id": 528390646,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1752259540
    },
    {
        "content": "<p>if you don't put them in the same universe, then that's saying <code>S : Scheme.{max u v}</code> and <code>n : Type v</code> and that's more debt for the Lean universe handler</p>\n<p>and also the fact that we want to generalise it to the projectivisation of an arbitrary module M over R, and if you do this approach (universe(M) &lt;= universe(R)) then you'll find that actually all of the instances you care about attain the equality</p>",
        "id": 528392060,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752260185
    },
    {
        "content": "<p>I think that there will be plenty of people who have been conditioned to write  <code>S : Scheme.{u}</code> and when they find they can't write affine 1-space without some uLift of <code>Fin 1</code> to <code>Type u</code> then they will be in situation where an instance they care about does not attain the equality.</p>",
        "id": 528395311,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1752261770
    },
    {
        "content": "<p>I would say either we keep the current situation (with the affine space in <code>max u v</code>, which will work just fine when <code>n : Type</code> or <code>n : Type u</code>), or we should provide a special API for the <code>n</code>-dimensional affine space when <code>n</code> is a natural number.</p>",
        "id": 528395609,
        "sender_full_name": "Joël Riou",
        "timestamp": 1752261921
    },
    {
        "content": "<p>Oh yes that's a good point! If we leave it as it is then it works fine for <code>Fin n</code>.</p>",
        "id": 528395774,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1752262016
    },
    {
        "content": "<p>What do people think about allowing morphisms of schemes in different universes? That would make the situation closer to our existing situation with rings where tensor product can be taken of any two rings</p>",
        "id": 528397952,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1752263325
    },
    {
        "content": "<p><code>Scheme.{u}</code> is a category. I do not think we want to have heterogeneous universes here. We have sufficiently many issues with universes; there is no need to create more!<br>\n<code>Scheme.{0}</code> should be good enough for the foreseable future (including FLT), I would say...</p>",
        "id": 528398632,
        "sender_full_name": "Joël Riou",
        "timestamp": 1752263747
    },
    {
        "content": "<p>It will be enough for (the modernisation of) Wiles' paper, which is the first goal.</p>",
        "id": 528407171,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1752268456
    }
]