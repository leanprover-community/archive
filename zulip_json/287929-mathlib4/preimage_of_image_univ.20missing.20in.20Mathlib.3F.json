[
    {
        "content": "<p>I was surprised that I needed to prove the following claim.  It just says that the preimage of the image of  a universal set is the same universal set.  The \"hard inclusion\" is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.subset_preimage_image#doc\">docs#Set.subset_preimage_image</a> and the other inclusion is trivial,  Anyways, I have it written here, if anyone thinks it should be included in mathlib.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">:</span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">preimage_image_univ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">⁻¹'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">subset_antisymm</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"bp\">.</span><span class=\"n\">intro</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">subset_preimage_image</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>I can try to set up a pull request, but I haven't done that before.  So for something this small, I would like to avoid doing it.</p>\n<p>Thanks.</p>",
        "id": 490240044,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1734734163
    },
    {
        "content": "<p><code>simp</code> is your friend. <code>simp?</code> says</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">image_univ</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">preimage_range</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 490241270,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1734734903
    },
    {
        "content": "<p>Yeah, I know I am not doing amazing mathematics here.  :) Thanks for the tip.  I never remember to do simp?.  Is the advantage of \"simp only\" that it runs faster?</p>",
        "id": 490242075,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1734735372
    },
    {
        "content": "<p>It does run faster, but my purpose is just to show you the lemmas used. <code>by simp</code> would be a perfectly fine proof for this goal.</p>",
        "id": 490242274,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1734735541
    },
    {
        "content": "<p>If you want to add a lemma then it would be nicer to put the more natural statement and deduce yours.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">GaloisConnection</span><span class=\"bp\">.</span><span class=\"n\">l_u_top</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PartialOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTop</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTop</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">gc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GaloisConnection</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">gc</span><span class=\"bp\">.</span><span class=\"n\">u_eq_top</span><span class=\"bp\">.</span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"n\">le_rfl</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">preimage_image_univ</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">⁻¹'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"bp\">''</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">univ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">image_preimage</span><span class=\"bp\">.</span><span class=\"n\">l_u_top</span>\n</code></pre></div>",
        "id": 490242691,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734735806
    },
    {
        "content": "<p>I have only the slightest introduction to GaloisConnections.  I  think in the \"Mathematics in Lean\" book.</p>",
        "id": 490243806,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1734736626
    },
    {
        "content": "<p>So I will just mark this as resolved.</p>",
        "id": 490243821,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1734736644
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519925\">Kent Van Vels</span> has marked this topic as resolved.</p>",
        "id": 490243828,
        "sender_full_name": "Notification Bot",
        "timestamp": 1734736648
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519925\">Kent Van Vels</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.E2.9C.94.20preimage_of_image_univ.20missing.20in.20Mathlib.3F/near/490243806\">said</a>:</p>\n<blockquote>\n<p>I have only the slightest introduction to GaloisConnections.  I  think in the \"Mathematics in Lean\" book.</p>\n</blockquote>\n<p>Well <code>f ⁻¹'</code> and <code>f ''</code> are the perfect place to start learning about them! Here's one way of thinking about them. If <code>f : α → β</code> and we have subsets <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi><mo>⊆</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\">X \\subseteq\\alpha</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊆</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi><mo>⊆</mo><mi>β</mi></mrow><annotation encoding=\"application/x-tex\">Y\\subseteq\\beta</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8193em;vertical-align:-0.136em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⊆</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05278em;\">β</span></span></span></span>, when does <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span></span></span></span> induce a function from <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> to <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>? Well one way of asserting that this happens is that <code>f '' X ⊆ Y</code>. Another way of asserting this is that <code>X ⊆ f ⁻¹' Y</code>. In particular, these statements about <code>X</code> and <code>Y</code>, one involving <code>f ''</code> and the other involving <code>f ⁻¹'</code>, are logically equivalent. This is exactly the Galois connection axiom for order-preserving maps (by which I mean <code>⊆</code>-preserving here, i.e. <code>X₁ ⊆ X₂ → f '' X₁ ⊆ f '' X₂</code> and similar for <code>f ⁻¹'</code>). Turns out that from this axiom alone you can deduce a bunch of other random stuff such as <code>f ⁻¹' (f '' ⊤) = ⊤</code> where <code>⊤</code> is the biggest element of your source partial order. The Galois connection API just proves a bunch of these things, meaning that you don't have to independently prove them for e.g. images and preimages of sets under functions, pushforward and pullback of topologies, pushforward and pullback of filters, the Galois correspondence between intermediate fields and subgroups etc etc etc.</p>",
        "id": 490245325,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734737727
    },
    {
        "content": "<p>Another example is the correspondence between (monoid/group/ring/algebra/module) \"closures\" and \"forgetting\" the structure, i.e. <code>s &lt;= H.carrier &lt;-&gt; s.closure &lt;= H </code>. (The mathlib name for the \"closure\" in question varies)</p>",
        "id": 490247555,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1734739350
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519925\">Kent Van Vels</span> has marked this topic as unresolved.</p>",
        "id": 490248128,
        "sender_full_name": "Notification Bot",
        "timestamp": 1734739796
    },
    {
        "content": "<p>I might dig into this over the weekend.  <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span>, do you have a work sheet on Galois Connections?</p>",
        "id": 490248253,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1734739883
    },
    {
        "content": "<p>I can't find one :-( I once lectured undergraduate algebraic geometry and realised that lectures 1 and 2, which started \"let k be an algebraically closed field\" and then proceeded to set up a Galois connection between subsets of k^n and ideals in k[X_1,X_2,..,X_n], was just a stupid special case of the whole Galois connection thing, and so I changed it to \"let k be an arbitrary commutative ring\" and then just set up the general theory of Galois connections and then applied it to get results about Zariski closed sets. But the Nullstellensatz has some actual content, and there you need that k is an alg closed field.</p>",
        "id": 490250508,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1734741680
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"519925\">@Kent Van Vels</span> there are some explanations at the beginning of <a href=\"https://vimeo.com/834887419\">https://vimeo.com/834887419</a>. You can also look at the <a href=\"https://github.com/PatrickMassot/GlimpseOfLean/blob/master/GlimpseOfLean/Exercises/Topics/GaloisAdjunctions.lean\">corresponding exercises</a> in <a href=\"https://github.com/PatrickMassot/GlimpseOfLean/\">GlimpseOfLean</a></p>",
        "id": 490378308,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734864070
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> , thanks for the links I will look into them.   I really like reading/doing as many \"Introduction to Lean\" things. </p>\n<p>I plan on adding to this to the library. I have an idea about Galois Connections now so I feel comfortable adding that lemma there.   My name on github is kvanvels.</p>",
        "id": 490403892,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1734887294
    },
    {
        "content": "<p>You should have a GitHub invitation!</p>",
        "id": 490404309,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1734887661
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span>, I am finally getting around to this now that I have a little more time since Christmas is over.  I have a few questions for you.  I normally don't need this much \"hand-holding\" but since this is the first time I am contributing, I hope it is ok.</p>\n<p>I added the \"l_u_top\" function in <code>Mathlib/Order/GaloisConnection.lean</code> So far, so good.  I then added the function <code>preimage_image_univ</code> in <code>Mathlib/Data/Set/Image.lean</code>, but it complained that <code>Set.image_preimage</code> was unknown, so after some digging I added <code>import Mathlib.Data.Set.Lattice</code> to the imports.  Using <code>emacs</code>, this resulted in it complaining that many (maybe all) of the theorems were previously defined.  I looked at the problem in VS code, and it complained about detecting a build cycle\".  Here is an excerpt of what it said:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Running</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Image</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">cycle</span><span class=\"w\"> </span><span class=\"n\">detected</span><span class=\"o\">:</span>\n\n<span class=\"w\">  </span><span class=\"bp\">+</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Lattice</span><span class=\"o\">:</span><span class=\"n\">olean</span>\n<span class=\"w\">  </span><span class=\"bp\">+</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Bool</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"o\">:</span><span class=\"n\">olean</span>\n<span class=\"w\">  </span><span class=\"bp\">+</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">CompleteLattice</span><span class=\"o\">:</span><span class=\"n\">olean</span>\n<span class=\"w\">  </span><span class=\"bp\">+</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">CompleteBooleanAlgebra</span><span class=\"o\">:</span><span class=\"n\">olean</span>\n<span class=\"w\">  </span><span class=\"bp\">+</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Lattice</span><span class=\"o\">:</span><span class=\"n\">olean</span>\n</code></pre></div>\n<p>So it looks like I am inducing an \"include cycle\".  How should I proceed?  Can I solve this by doing a \"clean build\" or something similar?  Perhaps there is a better place to define the Galois Connection of set preimage_image?</p>\n<p>I have the changes committed to my local branch it is called <code>kvanvels_branch</code>and I just pushed it.  Thanks!</p>",
        "id": 491190173,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735490804
    },
    {
        "content": "<p>This tells you that you have a loop of files that import each other cyclically; and therefore the import you added was a mistake.</p>",
        "id": 491190360,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1735490986
    },
    {
        "content": "<p>Probably you put the new lemma in the wrong file; can you put it in <code>Data/Set/Lattice</code> instead?</p>",
        "id": 491190455,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1735491039
    },
    {
        "content": "<p>I have no objection to putting it there, I chose the file location because there is a very closely related theorem in there: <code>subset_preimage_image</code>.</p>",
        "id": 491190720,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735491262
    },
    {
        "content": "<p>Right- so either you need to prove your lemma without relying on the lattice structure, or you need to move it somewhere where the lattice structure is available</p>",
        "id": 491194125,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1735494040
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> I have written a patch and have submitted a pull request.  </p>\n<p>Can you please double check that you are happy with the name in the GaloisConnection file?  I followed your suggestion here.  However, I would think it should be called <code>u_l_top</code> not <code>l_u_top</code>.   <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> Is unsure of the naming, too. </p>\n<p>Should I be asking that kind of a  question here, or in github?</p>\n<p>Thanks</p>",
        "id": 491415070,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735660052
    },
    {
        "content": "<p>What is the statement of this <code>u_l_top</code>?</p>",
        "id": 491415828,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1735660529
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"519925\">@Kent Van Vels</span>, if you write # followed by the PR number, it will link here)</p>",
        "id": 491416921,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1735661228
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span>  The PR is <a href=\"https://github.com/leanprover-community/mathlib4/pull/20346\">#20346</a>.  The statement is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">GaloisConnection</span><span class=\"bp\">.</span><span class=\"n\">l_u_top</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">PartialOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTop</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTop</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">gc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GaloisConnection</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>We are applying the composition </p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>u</mi><mo>∘</mo><mi>l</mi><mi mathvariant=\"normal\">.</mi></mrow><annotation encoding=\"application/x-tex\">u \\circ l.</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">u</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">∘</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord\">.</span></span></span></span></span></p>",
        "id": 491440091,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735677500
    },
    {
        "content": "<p>Oh yes, this is definitely <code>u_l_top</code>. If I wrote it the other way around then it was a typo.</p>",
        "id": 491441936,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1735679042
    }
]