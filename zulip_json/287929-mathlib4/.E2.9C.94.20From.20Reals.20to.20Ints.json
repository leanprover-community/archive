[
    {
        "content": "<p>How can I go from (x:Int) and x &gt; (1:Real) to x &gt; (1: Int) in Lean 4?</p>",
        "id": 520604919,
        "sender_full_name": "Stan Kikot",
        "timestamp": 1748333198
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Cast/Order/Basic.html#Nat.cast_lt\">Nat.cast_lt</a> should help.</p>",
        "id": 520605045,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1748333242
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"897275\">@Stan Kikot</span> please note that <code>&lt;</code> is the canonical orientation of the inequality, not <code>&gt;</code></p>",
        "id": 520605999,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748333535
    },
    {
        "content": "<p>Thanks. But I still can't figure out the right way to call Int.cast_lt.  I tried (Int.cast_lt 1 x) and (Int.cast_lt 1 x).1 and get uncomprehensible errors. Should I pass it also an embedding from Int to Real ? Or is the key to success using Nat.cast_lt even if I have x : Int ?</p>",
        "id": 520608752,
        "sender_full_name": "Stan Kikot",
        "timestamp": 1748334424
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"897275\">@Stan Kikot</span> </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">cast_one</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">cast_lt</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">  </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n</code></pre></div>",
        "id": 520609329,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748334587
    },
    {
        "content": "<p>basically <code>Int.cast_lt</code> needs something of the form <code>↑m &lt; ↑n</code>, but <code>(1 : ℝ)</code> is not in that form yet, so I used <code>← Int.cast_one</code> to convert it into <code>(↑(1 : ℤ) : ℝ)</code></p>",
        "id": 520609621,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1748334660
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span>, you are technically correct, but we do not consider this a good state to be. This is why we have lemmas like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Int.cast_pos#doc\">docs#Int.cast_pos</a>, where the cast of the numeral on the LHS has been replaced by the numeral itself. <span class=\"user-mention\" data-user-id=\"897275\">@Stan Kikot</span>, if you would like to make mathlib a better please open a PR adding</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">one_lt_cast</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">conditions_on</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span>\n</code></pre></div>\n<p><span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 520610273,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748334842
    },
    {
        "content": "<p>Note <code>norm_cast</code> works here:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">norm_cast</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n</code></pre></div>",
        "id": 520629014,
        "sender_full_name": "Arend Mellendijk",
        "timestamp": 1748340210
    },
    {
        "content": "<p>I would imagine <code>assumption_mod_cast</code> and <code>exact_mod_cast hx</code> also work (and would perhaps be more idiomatic than <code>norm_cast at hx</code>?)</p>",
        "id": 520630874,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1748340863
    },
    {
        "content": "<p>Do we have cast_lt_ofNat or similar?</p>",
        "id": 520642084,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1748344745
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"897275\">Stan Kikot</span> has marked this topic as resolved.</p>",
        "id": 520644892,
        "sender_full_name": "Notification Bot",
        "timestamp": 1748345556
    }
]