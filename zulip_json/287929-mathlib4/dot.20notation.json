[
    {
        "content": "<p>Should <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Polynomial/RingDivision.html#Polynomial.irreducible_X\">Polynomial.irreducible_X</a> be <code>Polynomial.Irreducible.X</code>?</p>\n<p>(the statement is <code>Irreducible Polynomial.X</code>)</p>",
        "id": 543117876,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613267
    },
    {
        "content": "<p>How does that allow for dot notation?</p>",
        "id": 543117922,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1759613324
    },
    {
        "content": "<p>presumably if you <code>open Polynomial</code> and your expected type is <code>Irreducible X</code> then you can just type <code>.X</code></p>",
        "id": 543117942,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613359
    },
    {
        "content": "<p>i suppose this is actually not very relevant because we don't have \"stacked irreducible proofs\"</p>",
        "id": 543117957,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613383
    },
    {
        "content": "<p>Does that actually work?</p>",
        "id": 543117976,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1759613405
    },
    {
        "content": "<p>it was more like for the <code>Factors</code> PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/30212\">#30212</a> where if you have enough dot notations then you can prove <code>Factors (3 * (X - 1) * (X - 4))</code> with <code>.mul (.mul .ofNat .x_sub_one) .x_sub_ofNat</code></p>",
        "id": 543118020,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613464
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/dot.20notation/near/543117976\">said</a>:</p>\n<blockquote>\n<p>Does that actually work?</p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">Irreducible</span><span class=\"bp\">.</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Irreducible</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">irreducible_X</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Irreducible</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">])</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">X</span>\n</code></pre></div>",
        "id": 543118094,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613528
    },
    {
        "content": "<p>aha, I didn't realize anonymous dot notation respects open namespaces. Interesting.</p>",
        "id": 543118120,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1759613562
    },
    {
        "content": "<p>it's a feature-bug</p>",
        "id": 543118124,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613572
    },
    {
        "content": "<p>there are a few inconsistencies in its behaviour that is a bit annoying to me</p>",
        "id": 543118132,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613584
    },
    {
        "content": "<p>Well, is it intended to be a feature, or is it actually a bug? Maybe you should ask about that in <a class=\"stream\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4\">#lean4</a></p>",
        "id": 543118153,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1759613621
    },
    {
        "content": "<p>there was a zulip thread about this</p>",
        "id": 543118173,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759613657
    },
    {
        "content": "<p>and I think there was also another one</p>",
        "id": 543118177,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759613665
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span> I actually posted twice:</p>\n<ul>\n<li><a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/dot.20notation.20and.20open/with/535161446\">#lean4 &gt; dot notation and open</a> </li>\n<li><a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/open.20is.20confused/with/528814423\">#lean4 &gt; open is confused</a></li>\n</ul>",
        "id": 543118180,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759613667
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/dot.20notation/near/543118124\">said</a>:</p>\n<blockquote>\n<p>it's a feature-bug</p>\n</blockquote>\n<p>It's a feature-feature (though if it causes big problems we'll reconsider)</p>",
        "id": 543333071,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1759761315
    },
    {
        "content": "<p>well it isn't completely consistent</p>",
        "id": 543333283,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759761366
    },
    {
        "content": "<p>namely, it doesn't work with <code>_root_</code></p>",
        "id": 543333401,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759761390
    },
    {
        "content": "<p>MWE:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">axiom</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">C</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">root_</span><span class=\"bp\">.</span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n\n<span class=\"kn\">end</span><span class=\"w\"> </span><span class=\"n\">C</span>\n</code></pre></div>",
        "id": 543333752,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759761463
    },
    {
        "content": "<p>Right, that's the sort of thing discussed in the \"dot notation and open\" thread you discussed, if I remember correctly. There's still some work to do.</p>",
        "id": 543334373,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1759761598
    },
    {
        "content": "<p>i thought i brought it up but i couldn't find it in the two threads I posted; should I just post again?</p>",
        "id": 543334682,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1759761665
    },
    {
        "content": "<p>I'll just add a link to this thread for future reference, for the next time I get a chance to look at these name resolution issues.</p>",
        "id": 543335139,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1759761764
    }
]