[
    {
        "content": "<p>The next one is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Presieve#doc\">docs#CategoryTheory.Presieve</a>. It's defined using <code>Set</code>, then most of the file treats it as a predicate. <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> <span class=\"user-mention\" data-user-id=\"121918\">@Edward Ayers</span>  should I change the definition or the lemmas?</p>",
        "id": 575935430,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772083840
    },
    {
        "content": "<p>I think the lemmas should be changed, my opinion is that we should be using <code>\\in</code> throughout; the original version of the PR adding that used <code>\\in</code> but it was changed based on review comments at the time. If I remember correctly, there was some other improvement that was suggested which broke the set notation. I'd hope that these days we can recover the set way of thinking about sieves without losing the other benefits (eg SetLike didn't exist back then!)</p>",
        "id": 575936003,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1772084181
    },
    {
        "content": "<p>OK, I'll fix it and ask you to review the PR.</p>",
        "id": 575936153,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772084262
    },
    {
        "content": "<p>Note that I may fail to have <code>Y</code> implicit.</p>",
        "id": 575936207,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772084295
    },
    {
        "content": "<p>For me, that's okay, and matches what's done on paper. But folks like <span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> and <span class=\"user-mention\" data-user-id=\"648495\">@Christian Merten</span> work on these more than me recently so I'd like to hear their opinion too.</p>",
        "id": 575936443,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1772084439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/113488-general/topic/backward.2EisDefEq.2ErespectTransparency/near/575936443\">said</a>:</p>\n<blockquote>\n<p>For me, that's okay, and matches what's done on paper. But folks like <span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> and <span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> work on these more than me recently so I'd like to hear their opinion too.</p>\n</blockquote>\n<p>For related definitons <code>ObjectProperty/MorphismProperty</code>, we use predicates (and <a href=\"https://github.com/leanprover-community/mathlib4/pull/30269\">#30269</a> refactors parts of mathlib where <code>Set</code> was used). Here, I would prefer we use <code>Prop</code> rather than <code>Set</code> in the definition of presieves: this is the way we have been using the API, and basically only the definition would have to be changed.</p>",
        "id": 575947604,
        "sender_full_name": "Joël Riou",
        "timestamp": 1772090221
    },
    {
        "content": "<p>I'll wait for you to agree on this.</p>",
        "id": 575947689,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772090270
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/35799\">#35799</a> redefines <code>Presieve</code> using predicates. <span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> Could you please fix the docstrings?</p>",
        "id": 575958235,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772094019
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/channel/113488-general/topic/backward.2EisDefEq.2ErespectTransparency/near/575958235\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/35799\">#35799</a> redefines <code>Presieve</code> using predicates. <span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> Could you please fix the docstrings?</p>\n</blockquote>\n<p>Fixed the docstrings.</p>",
        "id": 575967264,
        "sender_full_name": "Christian Merten",
        "timestamp": 1772096575
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span> Related question: should <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=GrothendieckTopology.sieves#doc\">docs#GrothendieckTopology.sieves</a> be a family of sets or a family of predicates? It's defined as a family of sets, then many constructors give a family of predicates.</p>",
        "id": 576030533,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772114500
    },
    {
        "content": "<p>I would think we got used to writing <code>_ ∈ J X</code> for Grothendieck topologies/(pre)coverages. We should probably insert a certain number of <code>setOf</code> in the constructors (this may have been overlooked when we started to chase the defeq abuse between <code>Set</code> and predicates some time ago). Still, I think <span class=\"user-mention\" data-user-id=\"648495\">@Christian Merten</span> should make the decision as he has been the main developer on this part of mathlib.</p>",
        "id": 576033409,
        "sender_full_name": "Joël Riou",
        "timestamp": 1772115105
    },
    {
        "content": "<p>One more data point: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Sieve.generateSingleton#doc\">docs#CategoryTheory.Sieve.generateSingleton</a> and other definitions in that file use <code>setOf</code> to construct <code>Presieve</code>s. I'll move this discussion to a new thread.</p>",
        "id": 576037614,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772116064
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Presieve.3A.20set.20or.20predicate.3F/near/576033409\">said</a>:</p>\n<blockquote>\n<p>I would think we got used to writing <code>_ ∈ J X</code> for Grothendieck topologies/(pre)coverages. We should probably insert a certain number of <code>setOf</code> in the constructors (this may have been overlooked when we started to chase the defeq abuse between <code>Set</code> and predicates some time ago). Still, I think <span class=\"user-mention silent\" data-user-id=\"648495\">Christian Merten</span> should make the decision as he has been the main developer on this part of mathlib.</p>\n</blockquote>\n<p>I agree, I strongly prefer keeping <code>_ ∈ J X</code> and there should be less issues with this than with presieves where there is an implicit argument which gets in the way.</p>",
        "id": 576039362,
        "sender_full_name": "Christian Merten",
        "timestamp": 1772116418
    },
    {
        "content": "<p>So, I should use <code>setOf</code> for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=GrothendieckTopology.sieves#doc\">docs#GrothendieckTopology.sieves</a>, but I should change <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Sieve.generateSingleton#doc\">docs#CategoryTheory.Sieve.generateSingleton</a> etc in the opposite direction, right?</p>",
        "id": 576049826,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1772118851
    },
    {
        "content": "<p>Yes, exactly.</p>",
        "id": 576051754,
        "sender_full_name": "Christian Merten",
        "timestamp": 1772119356
    }
]