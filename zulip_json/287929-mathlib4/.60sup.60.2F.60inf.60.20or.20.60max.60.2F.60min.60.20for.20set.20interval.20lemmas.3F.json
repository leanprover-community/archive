[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/11902\">#11902</a> the question came up of whether we should use <code>sup</code>/<code>inf</code> to state lemmas or to use <code>max</code>/<code>min</code>. For example, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Ico_inter_Ico#doc\">docs#Set.Ico_inter_Ico</a> uses <code>sup</code> and <code>inf</code>, but <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Ico_union_Ico#doc\">docs#Set.Ico_union_Ico</a> uses <code>min</code> and <code>max</code>. I suspect <code>sup</code> and <code>inf</code> work better with the rest of the library, but I am unsure. Certainly the inconsistency is a worse problem than getting the wrong version of the operator. What should we do?</p>",
        "id": 431504374,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1712316838
    },
    {
        "content": "<p>Unify the operators <span aria-label=\"smiling devil\" class=\"emoji emoji-1f608\" role=\"img\" title=\"smiling devil\">:smiling_devil:</span></p>",
        "id": 431504479,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1712316869
    },
    {
        "content": "<p>You mean: make <code>max</code>/<code>min</code> notation for <code>sup</code>/<code>inf</code> (or vice versa?)</p>",
        "id": 431504642,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1712316948
    },
    {
        "content": "<p>(make max just be parse-only notation?)</p>",
        "id": 431504651,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1712316953
    },
    {
        "content": "<p>I'd prefer unifying the operators, too, and if there is consensus, I'd be willing to start working on this. A problem is that Min/Max are defined in Core, but Inf/Sup are defined in Mathlib. I was also told that programmers may not be happy about dropping Min/Max in Core and will create a poll with the remaining feasible options I see:</p>",
        "id": 479734827,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1730310300
    },
    {
        "content": "<p>I don't mean to discourage you, but I see this as a big endeavour</p>",
        "id": 479735475,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1730310572
    },
    {
        "content": "<p>/poll (How) should we unify min/max?<br>\nKeep the status quo (and duplicate lemmas as much as possible)<br>\nKeep them separate, but make min x y the simp normal form in linear orders<br>\nKeep them separate, but make x inf y the simp normal form (and add support for inf in omega)<br>\nUnify them by making Inf notation for Min (thus using Min for lattices under the hood, but keeping the name Inf in lemmas)</p>",
        "id": 479735503,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1730310583
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/479735475\">said</a>:</p>\n<blockquote>\n<p>I don't mean to discourage you, but I see this as a big endeavour</p>\n</blockquote>\n<p>I don't want to promise that I'll finish</p>",
        "id": 479735778,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1730310688
    },
    {
        "content": "<p>How would you implement your suggestions without removing Min/Max in Core?</p>",
        "id": 479735809,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1730310707
    },
    {
        "content": "<p>I discussed this with Sven an hour ago. I expect that any changes to min/max that would affect the experience of programming in Lean with min/max will not be acceptable to the Lean FRO.<br>\nI'm in favor of just having <code>âŠ”</code> be notation for <code>max</code> but keeping the name <code>sup</code> in lemmas. Users don't have to know that the underlying name is really <code>Max.max</code>. Even the field <code>Lattice.sup</code> doesn't have to be renamed. <br>\nOptionally we could add abbreviations <code>Sup := Max</code> and <code>Sup.sup := Max.max</code>, as long as that doesn't interfere with user experience.<br>\nOptionally we could also make the <code>âŠ”</code> notation scoped to <code>LatticeNotation</code> or something.</p>",
        "id": 479753892,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1730317858
    },
    {
        "content": "<p>Just to make sure, this doesn't affect <code>sSup</code> / <code>sInf</code> at all, right?</p>",
        "id": 479786069,
        "sender_full_name": "Violeta HernÃ¡ndez",
        "timestamp": 1730335461
    },
    {
        "content": "<p>I just finished a first version of the changes (making mathlib build again), see <a href=\"https://github.com/leanprover-community/mathlib4/pull/18707\">https://github.com/leanprover-community/mathlib4/pull/18707</a>. There will be linter failures that need to be handled.</p>",
        "id": 481010872,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1730931872
    },
    {
        "content": "<p>I think it would be better to keep <code>Sup</code> and <code>Inf</code> as <code>abbrev</code> of <code>Max</code> and <code>Min</code>. This would also significantly reduce the diff.</p>",
        "id": 481013406,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1730933302
    },
    {
        "content": "<p>Since it gets merged now, let me document a remark here: The PR broke computability of max for ENNReal (and thus of product metric space instances); previously max was computable, but sup wasn't, although they were propositionally equal. I didn't try too hard to fix it since computability for ENNReal is developed much less than it could be anyhow, and fixing this could be a reasonable project. (For example, truncated subtraction on ENNReal was noncomputable even before. As <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> mentioned, fixing this, which is mathematically possible, could lead to computability of e.g. the metric space instance on the integers.)</p>",
        "id": 481344696,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1731082217
    },
    {
        "content": "<p>This should be very easy to fix, so I think we should do it</p>",
        "id": 481356565,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1731086550
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18779\">#18779</a></p>",
        "id": 481419200,
        "sender_full_name": "Yuyang Zhao",
        "timestamp": 1731119692
    },
    {
        "content": "<p>I just saw this thread. Why are we removing the mathematically meaningful fields in favour of the mathematically bogus ones?</p>",
        "id": 481441763,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1731141397
    },
    {
        "content": "<p><code>max</code> on a lattice is <em>not a thing</em> mathematically. Why don't we simply not use <code>max</code>/<code>min</code>?</p>",
        "id": 481441783,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1731141434
    },
    {
        "content": "<p>Yael, both your earlier suggestions require Core changes. I expect that programmers wouldn't be too happy to see <code>n âŠ” m</code> for the maximum of natural numbers <code>n</code> and <code>m</code>, and I'm not sure they're willing to  cooperate with putting <code>Sup</code> in Core.</p>\n<p>I agree that this change is not ideal, but it's pretty good. If you're working with <code>âŠ”</code> you don't even have to know that it's called <code>Max.max</code> internally. Most users probably don't know that <code>+</code> is called <code>HAdd.hAdd</code> (or is it <code>HAdd.hadd</code>?).<br>\nAbout the classes named <code>Max</code> instead of <code>Sup</code>, I don't think that is super important. But maybe that was a mistake, and we should have kept the abbreviation <code>Sup := Max</code>.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"387244\">YaÃ«l Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/481441783\">said</a>:</p>\n<blockquote>\n<p><code>max</code> on a lattice is <em>not a thing</em> mathematically. Why don't we simply not use <code>max</code>/<code>min</code>?</p>\n</blockquote>\n<p>Please give an actual detailed and concrete proposal. You mean duplicating all Core lemmas about <code>max</code>/<code>min</code> in Mathlib written using the <code>sup</code>/<code>inf</code> notation? I don't like that duplication, but we could consider it. Is that indeed what you're proposing?</p>",
        "id": 481454173,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1731153466
    },
    {
        "content": "<p>Sorry, I was going to write more but something came up. I mean that mathlib could use <code>sup</code>/<code>inf</code> everywhere, and have <code>max_eq_sup</code>/<code>min_eq_inf</code> be simp lemmas. Then, if we really want to keep the <code>max</code>/<code>min</code> spelling for common linear orders, we could make <code>max</code> notation (with higher priority than the Core one) for <code>sup</code> and make the <code>sup</code> delaborator print <code>max</code> in linear orders</p>",
        "id": 481455601,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1731154582
    },
    {
        "content": "<p>Sorry for pushing this so fast; if I knew that you still want to discuss something, I would've waited before this PR. Regarding your current proposal: If implemented naÃ¯vely, this would still require creating copies of all lemmas in core/batteries mentioning min/max, which is why we preferred making <code>Min.min=Inf.inf</code> syntactical.</p>",
        "id": 481466699,
        "sender_full_name": "Sven Manthe",
        "timestamp": 1731163597
    },
    {
        "content": "<p>We definitely should be using <code>sup</code> and <code>inf</code> for lattices rather than <code>min</code> and <code>max</code>. As for linear orders, I don't know.</p>",
        "id": 481818578,
        "sender_full_name": "Violeta HernÃ¡ndez",
        "timestamp": 1731363399
    },
    {
        "content": "<p>Of course, if we have no issue talking about infinite suprema and infima in the linear order case, perhaps finite suprema and infima aren't such an ask...</p>",
        "id": 481818969,
        "sender_full_name": "Violeta HernÃ¡ndez",
        "timestamp": 1731363546
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"455791\">Yuyang Zhao</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/481419200\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18779\">#18779</a></p>\n</blockquote>\n<p>This <code>instance 0</code> stuff should hopefully be fixed in core soon. I think <a href=\"https://github.com/leanprover-community/mathlib4/pull/18892\">#18892</a> is a better patch.</p>",
        "id": 481835622,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1731371201
    },
    {
        "content": "<p>Here's an argument for keeping <code>max</code>/<code>min</code> and <code>sup</code>/<code>inf</code> separate; <code>max</code> and <code>min</code> could pair with <code>Ord</code> to form the \"induced (lexicographic) linear order\", such that <code>max (1, 3) (2, 4) = (2, 4)</code>, and <code>compare x y â‰  .gt â†” max x y = y</code> etc.</p>",
        "id": 481836397,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1731371575
    },
    {
        "content": "<p>Having such a canonical linearization of the order available is useful for printing unordered objects in a deterministic-but-sane way (previously multiset printing was non-sane, now it's just <code>unsafe</code>; using <code>compare</code> could make it safe and sane)</p>",
        "id": 481836567,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1731371648
    },
    {
        "content": "<p>Since the operators are now called <code>min</code>/<code>max</code> even on lattices, can we rename the fields in the <code>Lattice</code> typeclass to the slightly worse <code>min</code>/<code>max</code>?</p>",
        "id": 509308815,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743457972
    },
    {
        "content": "<p>Not doing so makes it a hazard to <code>extend LinearOrder X, SomeLattice X</code>, as then you get duplicate <code>min</code> and <code>inf</code> fields</p>",
        "id": 509308861,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743457991
    },
    {
        "content": "<p>If we don't want to do that, then <a href=\"https://github.com/leanprover-community/mathlib4/pull/23514\">#23514</a> is an alternative</p>",
        "id": 509314791,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743460159
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/509308815\">said</a>:</p>\n<blockquote>\n<p>Since the operators are now called <code>min</code>/<code>max</code> even on lattices, can we rename the fields in the <code>Lattice</code> typeclass to the slightly worse <code>min</code>/<code>max</code>?</p>\n</blockquote>\n<p>Could we just rename <code>min</code>/<code>max</code> to <code>inf</code>/<code>sup</code> first?</p>",
        "id": 509358422,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1743483064
    },
    {
        "content": "<p>We can't do that in Min/Max as they're in core, but we could do it for LinearOrder.</p>",
        "id": 509387492,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743495380
    },
    {
        "content": "<p>On a lattice, itâ€™s true that <code>max</code> and <code>min</code> are mathematically unidiomatic. But for pairs, so are <code>sup</code> and <code>inf</code>. I donâ€™t hate the status quo, but if a mass renaming is going to happen, I think <code>meet</code> and <code>join</code> should be considered.</p>",
        "id": 509420980,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743505457
    },
    {
        "content": "<p>I think that meet and join are both terrible names, worse than both sup/inf and max/min which at least include a sense of bigness and smallness in the name. Meet is what you do when you visit your friends and join is connecting two things, neither one has a sense of either bigness or smallness</p>",
        "id": 509423478,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506228
    },
    {
        "content": "<p>you can of course get used to the name but I think it's objectively bad from a pedagogical perspective</p>",
        "id": 509423585,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506263
    },
    {
        "content": "<p>I donâ€™t like the words much either. But if a change is being proposed to mathlib naming conventions, I think that the terminology that people in the area actually use should not be dismissed out of hand.</p>",
        "id": 509424259,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743506482
    },
    {
        "content": "<p>supremum and infimum are also used in the domain though</p>",
        "id": 509424401,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506528
    },
    {
        "content": "<p>And â€˜meetâ€™ and â€˜joinâ€™ are evocative of â€˜intersectionâ€™ and â€˜unionâ€™ respectively.</p>",
        "id": 509424491,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743506563
    },
    {
        "content": "<p>it's not evoking...</p>",
        "id": 509424549,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506585
    },
    {
        "content": "<p>the only reason this would be evocative is if you already have a strong mental mapping such that when I say \"meet\", <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>âˆ§</mo></mrow><annotation encoding=\"application/x-tex\">\\wedge</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5556em;\"></span><span class=\"mord\">âˆ§</span></span></span></span> appears in your head</p>",
        "id": 509424708,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506634
    },
    {
        "content": "<p>Itâ€™s definitely evocative for me, or at least not â€˜objectivelyâ€™ misleading. And I am disinterested - I donâ€™t work on lattices myself.</p>",
        "id": 509425046,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743506733
    },
    {
        "content": "<p>I can make sense of it but I'm not so expert-biased here that I can't appreciate how difficult it would be for people who have never heard the word \"meet\" used in mathematics</p>",
        "id": 509425412,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506846
    },
    {
        "content": "<p>max and min are much more accessible names</p>",
        "id": 509425558,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506882
    },
    {
        "content": "<p>For me, when I first heard \"join\" and \"meet\" I needed an explanation, but then after that it was intuitive.</p>",
        "id": 509425667,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743506919
    },
    {
        "content": "<p>\"min\" and \"max\" needed no explanation</p>",
        "id": 509425686,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1743506928
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/509425558\">said</a>:</p>\n<blockquote>\n<p>max and min are much more accessible names</p>\n</blockquote>\n<p>Definitely not for a lattice! The maximum of some things is one of the things.</p>",
        "id": 509425755,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743506947
    },
    {
        "content": "<p>right, I'd prefer we use max and min everywhere and the only reason we don't is because of this \"um actually\" about how in a lattice max and min don't exist sometimes</p>",
        "id": 509425903,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743506991
    },
    {
        "content": "<p>and going the opposite direction has this messy pedagogical effect where we get <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>3</mn><mo>âˆª</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">3\\cup 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">âˆª</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span></span></span></span> showing up in theorems about <code>Nat.max</code></p>",
        "id": 509426083,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743507031
    },
    {
        "content": "<p>Itâ€™s not a pedantic â€˜um actuallyâ€™, though. Itâ€™s the generic situation for nonlinear orders. And it flies in the face of how either a mathematician or nonmathematician understands the words â€˜maxâ€™ and â€˜minâ€™. </p>\n<p>The intuitive merit of â€˜meetâ€™ and â€˜joinâ€™ is second-order compared to this.</p>",
        "id": 509426534,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743507171
    },
    {
        "content": "<p>I think this was a terminological mistake on the part of lattice theorists, it would be better if maximum just meant supremum and the thing we call maximum now had a different name</p>",
        "id": 509426609,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743507194
    },
    {
        "content": "<p>But this would be a major change to how all mathematicians think about what â€˜maxâ€™ means. Imo mathlib isnâ€™t the place to begin this endeavour.</p>",
        "id": 509426976,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743507295
    },
    {
        "content": "<p>I know, I'm just lamenting here. But I maintain that using meet and join would make the problem introduced by this thread even worse</p>",
        "id": 509427145,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743507356
    },
    {
        "content": "<p>I think I preferred the original status quo with separate sup and max functions</p>",
        "id": 509427276,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743507389
    },
    {
        "content": "<p>Me too, I think.</p>\n<p>My actual problem with meet and join in pen and paper math isnâ€™t the words, but the fact that the <code>/\\</code> and <code>\\/</code> notations are the exact opposite of how they look when you draw the lattice.</p>",
        "id": 509427586,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743507501
    },
    {
        "content": "<p>that is a very good point</p>",
        "id": 509427667,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743507529
    },
    {
        "content": "<p>This isnâ€™t a problem in mathlib though.</p>",
        "id": 509427673,
        "sender_full_name": "Peter Nelson",
        "timestamp": 1743507531
    },
    {
        "content": "<p>I think one of the most important things people need to do with these definitions in practical work is recognize which is which, they are very easy to interchange. So anything we can do to help with that is relevant</p>",
        "id": 509428070,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1743507637
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/509427276\">said</a>:</p>\n<blockquote>\n<p>I think I preferred the original status quo with separate sup and max functions</p>\n</blockquote>\n<p>The status quo in lean3 was much easier to maintain when the <code>renaming</code> feature was legal in<code>structure</code> commands</p>",
        "id": 509431649,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743508720
    },
    {
        "content": "<p>At <a href=\"https://github.com/leanprover-community/mathlib4/pull/23558\">#23558</a>, I've implemented a delaborator that only uses the <code>âŠ”</code> or <code>âŠ“</code> notation if it can't synthesize an instance of <code>LinearOrder</code>. I think that that aligns better with what people think of when using <code>âŠ”</code>/<code>âŠ“</code> versus <code>max</code>/<code>min</code>.</p>\n<p>This was originally suggested by <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span>  (<a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/max.20and.20min.20delaborators/near/500701449\">#mathlib4 &gt; max and min delaborators @ ðŸ’¬</a> )</p>",
        "id": 509519875,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743531801
    },
    {
        "content": "<p>I've moved further discussion about the delaborators to the other thread.</p>",
        "id": 509553479,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743544047
    },
    {
        "content": "<p>5 messages were moved from this topic to <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/max.20and.20min.20delaborators/with/500693957\">#mathlib4 &gt; max and min delaborators</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 509553533,
        "sender_full_name": "Notification Bot",
        "timestamp": 1743544074
    },
    {
        "content": "<p>Can I reraise the question of renaming the fields of <code>LinearOrder</code> to be called <code>min</code>/<code>max</code>? Having the fields have different names makes it easy to make a mistake when using <code>extends</code>, where the field-merging behavior can't currently kick in.</p>",
        "id": 509553660,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743544122
    },
    {
        "content": "<p>I agree with this.</p>",
        "id": 509554087,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743544316
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/509553660\">said</a>:</p>\n<blockquote>\n<p>Can I reraise the question of renaming the fields of <code>LinearOrder</code> to be called <code>min</code>/<code>max</code>? Having the fields have different names makes it easy to make a mistake when using <code>extends</code>, where the field-merging behavior can't currently kick in.</p>\n</blockquote>\n<p>Your question is confusing me. The current situation is that we use <code>min</code>/<code>max</code> for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearOrder#doc\">docs#LinearOrder</a> and <code>inf</code>/<code>sup</code> for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lattice#doc\">docs#Lattice</a>, and you are requesting that we rename the fields for LinearOrder so that we use <code>inf</code>/<code>sup</code> consistently, right?</p>",
        "id": 509554510,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1743544520
    },
    {
        "content": "<p>That sounds reasonable to me.</p>",
        "id": 509554524,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1743544527
    },
    {
        "content": "<p>I think Eric meant that the fields of Lattice should be called <code>max</code>/<code>min</code></p>",
        "id": 509554716,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743544611
    },
    {
        "content": "<p>This would be consistent with extending the <code>Max</code> type class. And the exact field names don't really make a difference because in practice you only interact with the new delaborator :)</p>",
        "id": 509554839,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743544682
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60sup.60.2F.60inf.60.20or.20.60max.60.2F.60min.60.20for.20set.20interval.20lemmas.3F/near/509554716\">said</a>:</p>\n<blockquote>\n<p>I think Eric meant that the fields of Lattice should be called <code>max</code>/<code>min</code></p>\n</blockquote>\n<p>No, because this makes mathematicians unhappy (see discussion upthread), and we can stop extending <code>Max</code> without any issue.</p>",
        "id": 509557101,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743545728
    },
    {
        "content": "<p>But indeed that is the other simple solution to the problem I describe</p>",
        "id": 509557140,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743545751
    },
    {
        "content": "<p>So then is the plan to not have any structure extending <code>Min</code>/<code>Max</code>, and write an instance <code>Sup.toMax</code>, so that <code>min</code>/<code>max</code> is still used instead of <code>sup</code>/<code>inf</code>?</p>",
        "id": 509557561,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743545947
    },
    {
        "content": "<p>That instance already exists</p>",
        "id": 509558607,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743546456
    },
    {
        "content": "<p>The downside in this plan is that it becomes unpopular if batteries ever absorbs LinearOrder, where we'd expect the <code>min</code>/<code>max</code> naming</p>",
        "id": 509558751,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743546517
    },
    {
        "content": "<p>In my opinion, since we are using <code>Max.max</code> and <code>Min.min</code> in practice (with the new delaborator), it is only sensible to call the structure fields <code>max</code> and <code>min</code>. And this name in the structure shouldn't matter much, because we still get to read and write <code>âŠ”</code> and <code>âŠ“</code>, and we still get to name our lemmas with <code>sup</code> and <code>inf</code>.</p>",
        "id": 509559877,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743547087
    },
    {
        "content": "<p><del>The name matters because <code>extends LinearOrder, Lattice</code> produces a structure containing <code>min</code>, <code>max</code>, <code>sup</code>, and <code>inf</code>, rather than only two of these</del></p>",
        "id": 509560121,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743547213
    },
    {
        "content": "<p>Exactly, so for that reason we should call them all the same.</p>",
        "id": 509560188,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743547260
    },
    {
        "content": "<p>Ah, ok here's the argument for why this works poorly; if you replace <code>extends Max Î±</code> with manual <code>inf</code> and <code>sup</code> fields, then they don't get filled in with typeclass search</p>",
        "id": 509561610,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743547971
    },
    {
        "content": "<p>And we can't <code>extend Sup Î±</code>, because that's deprecated.</p>",
        "id": 509561637,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743547985
    },
    {
        "content": "<p>I imagined that you proposed to un-deprecate <code>Sup</code> and <code>Inf</code>.</p>",
        "id": 509561941,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743548136
    },
    {
        "content": "<p>That's what I meant with the <code>Sup.toMax</code> instance:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Sup</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Max</span><span class=\"w\"> </span><span class=\"n\">Î±</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">sup</span>\n</code></pre></div>",
        "id": 509562163,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1743548249
    },
    {
        "content": "<p>This starts to get annoying enough that your name suggestion is more appealing</p>",
        "id": 509563395,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1743548850
    }
]