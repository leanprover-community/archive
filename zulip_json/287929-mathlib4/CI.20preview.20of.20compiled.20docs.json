[
    {
        "content": "<p>I saw Kevin's announcement about BdR, and went to browse the docs to see more about what has been added. In the process, I noticed that the docstrings for the new declarations are full of formatting glitches.</p>\n<p><a href=\"/user_uploads/3121/0pLzZrfJDgfiz5lh69M3yjVW/Screenshot-2025-12-01-at-08.07.30.png\">Screenshot 2025-12-01 at 08.07.30.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/0pLzZrfJDgfiz5lh69M3yjVW/Screenshot-2025-12-01-at-08.07.30.png\" title=\"Screenshot 2025-12-01 at 08.07.30.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1952x584\" src=\"/user_uploads/thumbnail/3121/0pLzZrfJDgfiz5lh69M3yjVW/Screenshot-2025-12-01-at-08.07.30.png/840x560.webp\"></a></div><p>This kind of glitch is very common unfortunately, because if you use any kind of formatting in docstrings, you're essentially \"flying blind\": there's no way to check if the markup you've used is actually correct, since the reference manual doesn't get built until after the PR is merged. (I guess you can preview docstrings for individual declarations using mouse hover, but not file-level docstrings.)</p>\n<p>Is there any way we can make it possible for the CI build step to also build a copy of the docs that authors and reviewers can inspect, so this kind of documentation mistake can be caught before merging?</p>",
        "id": 561080868,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764573624
    },
    {
        "content": "<p>In fact, <span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> has an Observable template to do exactly this kind of inspection. It is little known, unfortunately</p>",
        "id": 561087350,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1764576095
    },
    {
        "content": "<p>One of the more common LaTeX errors seems to be either <code>$$ ... $$</code> or <code>\\( ... \\)</code> used for inline math (where the doc gen engine expects <code>$ ... $</code>). Is there any way of teaching the doc generation script to understand <code>\\( ... \\)</code>?</p>",
        "id": 561097651,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764579020
    },
    {
        "content": "<p>(And I suppose there is no hope of teaching the mouse-over hover in VS Code to compile latex in docstrings on-the-fly?)</p>",
        "id": 561098323,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764579201
    },
    {
        "content": "<p>There is hope, though I don't know if anyone is working on it; <a href=\"https://github.com/leanprover-community/vscode-lean4/pull/541\">vscode-lean4#541</a>.</p>",
        "id": 561101850,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1764580154
    },
    {
        "content": "<p>Interesting, I had always assumed the infoview and editor tooltips were implemented the same way, I hadn't realised one had this feature already.</p>",
        "id": 561102966,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764580472
    },
    {
        "content": "<p>I made this PR to fix numerous instances of misformatted inline latex, <em>excluding</em> the BdR file since Riccardo has already asked <span class=\"user-mention\" data-user-id=\"611077\">@Jiang Jiedong</span> to fix that.</p>",
        "id": 561106013,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764581325
    },
    {
        "content": "<p>oops, forgot the PR link: <a href=\"https://github.com/leanprover-community/mathlib4/pull/32299\">#32299</a></p>",
        "id": 561106068,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764581341
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@YaÃ«l Dillies</span> , <span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> I'd be grateful if you could tell me how I can try out this observable template on that PR.</p>",
        "id": 561106268,
        "sender_full_name": "David Loeffler",
        "timestamp": 1764581394
    },
    {
        "content": "<p>Here's <a href=\"https://observablehq.com/@bryangingechen/github-lean-doc-preview?collection=@bryangingechen/lean\">Bryan's Observable notebook</a>. For future reference, searching on Zulip for \"observableÂ¨ + sent by Bryan finds it.</p>",
        "id": 561119166,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1764584824
    },
    {
        "content": "<p>Yeah but that requires remembering \"observable\" rather than what I actually remember, which is \"that cool thing that Bryan did years ago for viewing docstrings\" (and which I had assumed stopped working when we switched to mathlib4 like many other such tools did -- apparently not!).</p>\n<p>There are a ton of \"hidden gems\" in this Zulip, for example Bryan's work cited above, the <a href=\"https://leanprover-community.github.io/queueboard/\">triage dashboard</a>, the <a href=\"https://mathlib-changelog.org/v4\">mathlib changelog</a>, new semantic search engines such as <a href=\"https://leandex.projectnumina.ai/\">Leandex</a> and so on. These are just things useful to me -- other people will have their own lists. I've just taken to having a \"useful Lean links\" bookmark directory which I now sync between machines (and to which I've now added Bryan's notebook) but I wonder if we can do better somehow.</p>",
        "id": 561164976,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1764597098
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span>, maybe Bryan's notebook should be on the resources page</p>",
        "id": 561169738,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1764598153
    },
    {
        "content": "<p>Oh thanks! I'll fix the display problem at once. I didn't realize that <code>\\( \\)</code> does not work in docs page.  Only <code>$ ... $</code> works.</p>",
        "id": 561328042,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1764653532
    }
]