[
    {
        "content": "<p>The class <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/ENNReal/Holder.html#ENNReal.HolderTriple\">ENNReal.HolderTriple</a> was recently added. We also had <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Real/ConjExponents.html#ENNReal.IsConjExponent\">ENNReal.IsConjExponent</a> which is mathematically a particular case of the new definition.<br>\nShould we do something about that duplication? Remove IsConjExponent for ENNReal?</p>",
        "id": 505236029,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1741809465
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span></p>",
        "id": 505236141,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1741809490
    },
    {
        "content": "<p>I think having both is useful, if only because <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Real.IsConjExponent#doc\">docs#Real.IsConjExponent</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=NNReal.IsConjExponent#doc\">docs#NNReal.IsConjExponent</a> are a thing</p>",
        "id": 505236395,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741809574
    },
    {
        "content": "<p>Ugh... I didn't realize we had these when I created <code>HolderTriple</code>. Note that we also have the <code>abbrev</code> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ENNReal.HolderConjugate#doc\">docs#ENNReal.HolderConjugate</a>. The new class does serve a purpose not currently served by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ENNReal.IsConjExponent#doc\">docs#ENNReal.IsConjExponent</a>, which is that (a) it is the proper generality for Hölder's inequality, and (b) since it's a class, it can be used in instances (as is done in <a href=\"https://github.com/leanprover-community/mathlib4/pull/21583\">#21583</a>).</p>\n<p>I'm inclined to agree with Yaël, that we should keep the <code>Real</code> and <code>NNReal</code> structures, because they do have the slightly different condition that <code>p &gt; 1</code>. However:</p>\n<ol>\n<li>we should standardize the names.</li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ENNReal.IsConjExponent#doc\">docs#ENNReal.IsConjExponent</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ENNReal.HolderConjugate#doc\">docs#ENNReal.HolderConjugate</a> should be merged.</li>\n<li>Along with the above, the API should be merged and uniformized.</li>\n</ol>",
        "id": 505240985,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741810957
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/HolderTriple.20vs.20IsConjExponent/near/505240985\">said</a>:</p>\n<blockquote>\n<p>Ugh... I didn't realize we had these when I created <code>HolderTriple</code></p>\n</blockquote>\n<p>Oh. That was the purpose of <a href=\"https://github.com/leanprover-community/mathlib4/pull/21583#issuecomment-2645936674\">my very first comment on this PR series</a>.</p>",
        "id": 505243049,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741811559
    },
    {
        "content": "<p>I would have recommented on <a href=\"https://github.com/leanprover-community/mathlib4/pull/21854\">#21854</a> but it got insta-merged</p>",
        "id": 505243268,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741811619
    },
    {
        "content": "<p>I realize that now, but at the time I thought you meant \"conjugate exponents generally\", not \"<code>ENNReal.IsConjExponent</code>\".</p>",
        "id": 505243342,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741811641
    },
    {
        "content": "<p>Yeah sorry, I see it was confusing. Honestly I was just very certain you already knew about <code>ENNReal.IsConjExponent</code></p>",
        "id": 505243498,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741811681
    },
    {
        "content": "<p>I expected that it would have existed (or rather the more general triple version), but when I went to work with Hölder's inequality, the hypotheses in those theorems were simply <code>1/r = 1/p + 1/q</code>, so I thought that if it had existed, it would be used there. And then in the <code>HolderTriple</code> thread on Zulip, no one mentioned this <code>ENNReal.IsConjExponent</code>.</p>",
        "id": 505243976,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741811810
    },
    {
        "content": "<p>In any case, there's now some clean-up to do, but It I think Mathlib will be better for it in the end.</p>",
        "id": 505244114,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741811860
    },
    {
        "content": "<p>Two questions:</p>\n<ol>\n<li>Should I create <code>Triple</code> versions of the <code>Real</code> and <code>NNReal</code> variants?</li>\n<li>Which name do we prefer? <code>ENNReal.HolderConjugate</code> or <code>ENNReal.IsConjExponent</code>? Presumably, if we choose the former, it would mean also changing names for the <code>Real</code> and <code>NNReal</code> versions.</li>\n</ol>",
        "id": 505245739,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1741812321
    },
    {
        "content": "<ol>\n<li>Yes please <span aria-label=\"pray\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"pray\">:pray:</span></li>\n<li>I'm not fussed. I never really liked <code>IsConjExponent</code>, eg I would much prefer <code>IsConjExp</code> (why would \"conjugate\" be abbreviated but not \"exponent\"?)</li>\n</ol>",
        "id": 505246121,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741812422
    },
    {
        "content": "<p>Please not <code>IsConjExp</code> :) . <code>HolderConjugate</code> at least has actual understandable words in it.</p>",
        "id": 505247102,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1741812738
    },
    {
        "content": "<p>What about <code>HolderConj</code> then?</p>",
        "id": 505247422,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741812842
    },
    {
        "content": "<p>In that case I prefer an understandable name over a shorter one. Also if we keep <code>HolderConjugate</code> that's one less thing to deprecate.<br>\nAbout the <code>Real</code> and <code>NNReal</code> triple variants: let's create them only if a review of the library indicates they would be useful?</p>",
        "id": 505247809,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1741812960
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/channel/287929-mathlib4/topic/HolderTriple.20vs.20IsConjExponent/near/505247809\">said</a>:</p>\n<blockquote>\n<p>if we keep <code>HolderConjugate</code> that's one less thing to deprecate.</p>\n</blockquote>\n<p>Arguably, the PR introducing <code>HolderConjugate</code> was barely reviewed, so...</p>",
        "id": 505258195,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1741816272
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22944\">#22944</a> does (probably too much, but I ddin't realize that when I started) the two things mentioned above: adds <code>{NN}Real.HolderTriple</code> and redefines <code>IsConjExponent</code> in terms of it (and renames <code>IsConjExponent</code> to <code>HolderConjugate</code>).</p>\n<p>I put all the deprecations at the end of the file in the same order they appear in the original, which is probably the easiest way to review those.</p>",
        "id": 505857824,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1742052267
    }
]