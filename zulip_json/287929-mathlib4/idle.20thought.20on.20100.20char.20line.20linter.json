[
    {
        "content": "<p>I'm doing the chore of reviewing <a href=\"https://github.com/leanprover-community/mathlib4/pull/20595\">#20595</a>, and 99% of the changes are things like replacing <code>[LinearOrderedField ùïú]</code> with <code>[Field ùïú] [LinearOrder ùïú] [IsStrictOrderedRing ùïú]</code>. The new spelling is many more characters than the old one. Sometimes this does not cause an overflow, such as here (screenshot from github):</p>\n<p><a href=\"/user_uploads/3121/BsOkCAqqSrzcJ13M48nWkbKS/Screenshot-from-2025-04-06-22-12-23.png\">Screenshot from 2025-04-06 22-12-23.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BsOkCAqqSrzcJ13M48nWkbKS/Screenshot-from-2025-04-06-22-12-23.png\" title=\"Screenshot from 2025-04-06 22-12-23.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"901x146\" src=\"/user_uploads/thumbnail/3121/BsOkCAqqSrzcJ13M48nWkbKS/Screenshot-from-2025-04-06-22-12-23.png/840x560.webp\"></a></div><p>However often these changes tip lines above 100 characters, giving us diffs like this:</p>\n<p><a href=\"/user_uploads/3121/CwYDomcXr6upNNSepU_U19cJ/Screenshot-from-2025-04-06-22-14-04.png\">Screenshot from 2025-04-06 22-14-04.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/CwYDomcXr6upNNSepU_U19cJ/Screenshot-from-2025-04-06-22-14-04.png\" title=\"Screenshot from 2025-04-06 22-14-04.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"901x146\" src=\"/user_uploads/thumbnail/3121/CwYDomcXr6upNNSepU_U19cJ/Screenshot-from-2025-04-06-22-14-04.png/840x560.webp\"></a></div><p>Notice the difference? This second diff is much harder to check visually, because the changes are not highlighted.</p>\n<p>It occurred to me that for huge chore PRs like this it would be really nice to be able to temporarily switch off the 100 line linter and see the diff displayed on github with the highlights but with many lines more than 100 chars long, and then to press another button and magically everything gets repaginated. Is this too much of a long shot and/or niche request? I have personally several times been caught out by people making suggestions on github which I've committed and then the next day looked at my PR and it's failing CI because a line is &gt; 100 chars. Instead of complaining is it possible to just repaginate just before merging? Or even better allow lines of more than 100 chars and just have some bot come along daily and fix them up? Are there unacceptable risks to this idea?</p>",
        "id": 510521197,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1743974302
    },
    {
        "content": "<p>Having a bot add commits to the remote version of a branch can cause merge conflicts when done too early.</p>",
        "id": 510522785,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1743975568
    },
    {
        "content": "<p>This isn't exactly an unacceptable risk, but still worth avoiding if there's a better solution</p>",
        "id": 510522894,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1743975641
    },
    {
        "content": "<p>If there was an auto-formatter to do the line breaks, one easy way to fix the problem of reviewing difficulty is to have the first commit be just the text replacement, and the second (or last) commit be the auto-formatting, so that reviewers can just look at the first commit.</p>",
        "id": 510523025,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1743975764
    },
    {
        "content": "<p>I really miss an auto-formatter for lean4, in my day job in software engineering, we have to mandatorily use auto formatting to keep styles consistent and make pr reviewing easy</p>",
        "id": 510566953,
        "sender_full_name": "Sabbir Rahman",
        "timestamp": 1744005448
    },
    {
        "content": "<p>Or ask github to highlight changes in a multiline diff.</p>",
        "id": 510581482,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744010845
    },
    {
        "content": "<p>Sabbir, everybody here knows this. It will come at some point, but it‚Äôs a lot of work due to the immense flexibility of the Lean 4 syntax.</p>",
        "id": 510582303,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1744011103
    }
]