[
    {
        "content": "<p>The Aharoni–Korman conjecture (also known as the fishbone conjecture) was <a href=\"https://arxiv.org/abs/2411.16844\">disproved near the end of 2024 by Lawrence Hollom</a>. I formalised this disproof, which is now available as its own repo: <a href=\"https://github.com/b-mehta/AharoniKorman\">https://github.com/b-mehta/AharoniKorman</a>, or in <a href=\"https://github.com/leanprover-community/mathlib4/pull/20082\">#20082</a>.  </p>\n<p>The conjecture stood for around 30 years, and has been described as central in its field. Some more information about the conjecture is here:</p>\n<ul>\n<li><a href=\"https://x.com/wtgowers/status/1862811821083681257\">https://x.com/wtgowers/status/1862811821083681257</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=YQnEB5rio_A\">https://www.youtube.com/watch?v=YQnEB5rio_A</a><div class=\"youtube-video message_inline_image\"><a data-id=\"YQnEB5rio_A\" href=\"https://www.youtube.com/watch?v=YQnEB5rio_A\"><img src=\"https://uploads.zulipusercontent.net/194e6f6b8cc4b5c3896937e918d1dbac45253fd4/68747470733a2f2f692e7974696d672e636f6d2f76692f59516e45423572696f5f412f64656661756c742e6a7067\"></a></div></li>\n</ul>\n<p>I'd like to PR this to mathlib, especially because the statement can be easily written without adding any new defs to mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">aharoni_korman_false</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">PartialOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">),</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsAntichain</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"bp\">.</span><span class=\"n\">Infinite</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">∨</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsChain</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"bp\">∧</span>\n<span class=\"w\">         </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Setoid</span><span class=\"bp\">.</span><span class=\"n\">IsPartition</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">∧</span>\n<span class=\"w\">          </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IsAntichain</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">∩</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">Nonempty</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>\n<p>Excluding the generic lemmas (which are now all in their own mathlib PRs), the disproof amounts to about 1000 lines of code, including some comments.</p>\n<p>Along the way, it turned out the proof required quite a few substantial changes, which Lawrence was very helpful with. This is yet another example of maths being formalised \"in real-time\", partially because the Lean 4 proof was sorry-free a little over a month after it was made public, and because large parts of the final proof were only found after formalisation was started.</p>\n<p>I originally PRed this to<code>Mathlib/Counterexamples</code> (in <a href=\"https://github.com/leanprover-community/mathlib4/pull/20082\">#20082</a>), since the disproof is fairly long and (to the best of my knowledge) the intermediate definitions and theory isn't useful for much else. Do people generally agree this should be in <code>Mathlib/Counterexamples</code>? <br>\nIf so, should it be split up into a sequence of small PRs, all to the same file? To me, this seems harder to review since the context for the theory would be completely absent.</p>",
        "id": 493685432,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1736895632
    },
    {
        "content": "<p>Oh, as an aside, the <code>omega</code> tactic was super useful here: I use it 71 times throughout the proof, excluding the times where <code>aesop</code> used it (which I'd guess is about 10)</p>",
        "id": 493685953,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1736895949
    },
    {
        "content": "<p>I think a single PR is best here.</p>",
        "id": 493696490,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1736902433
    },
    {
        "content": "<p>The preprint has since been updated to mention the Lean version, and to fix the gaps that were found in the proof. Unfortunately while that removed a couple of errors in the preprint, it introduced two more!<br>\n<a href=\"/user_uploads/3121/cHUyxVV0Sg6xNeWYaZeBmz9y/image.png\">image.png</a><br>\nNamely, I didn't show that the poset is countable and scattered, and that the code isn't yet in mathlib! I rushed to add proofs of countable and scattered to the PR (along with a bunch more documentation and explanation).</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/cHUyxVV0Sg6xNeWYaZeBmz9y/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"851x179\" src=\"/user_uploads/thumbnail/3121/cHUyxVV0Sg6xNeWYaZeBmz9y/image.png/840x560.webp\"></a></div>",
        "id": 495121028,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1737484548
    },
    {
        "content": "<p>If you'd like to help fix the second one, there's only two more remaining PRs: <a href=\"https://github.com/leanprover-community/mathlib4/pull/20756\">#20756</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/20082\">#20082</a>.</p>",
        "id": 495121049,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1737484555
    },
    {
        "content": "<p>Smart way to make sure your PRs will be merged quickly /jk <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span></p>",
        "id": 495123393,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1737485443
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> how is your investigation on <a href=\"https://github.com/leanprover-community/mathlib4/pull/20756\">#20756</a> going?</p>",
        "id": 495123668,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1737485552
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Aharoni.E2.80.93Korman.20conjecture.20formally.20disproved/near/495123393\">said</a>:</p>\n<blockquote>\n<p>Smart way to make sure your PRs will be merged quickly /jk <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span></p>\n</blockquote>\n<p>I should do it more often <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 495123895,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1737485615
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Aharoni.E2.80.93Korman.20conjecture.20formally.20disproved/near/495123668\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> how is your investigation on <a href=\"https://github.com/leanprover-community/mathlib4/pull/20756\">#20756</a> going?</p>\n</blockquote>\n<p>Drowning in my notification inbox, but I'll eventually get to it</p>",
        "id": 495130829,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1737488226
    }
]