[
    {
        "content": "<p>I rebased my widget PR on master and now CI fails in some totally unrelated algebraic geometry files:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">Error</span><span class=\"o\">:</span> <span class=\"bp\">./././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">AlgebraicGeometry</span><span class=\"bp\">/</span><span class=\"n\">Morphisms</span><span class=\"bp\">/</span><span class=\"n\">QuasiSeparated.lean</span><span class=\"o\">:</span><span class=\"mi\">513</span><span class=\"o\">:</span><span class=\"mi\">23</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">deterministic</span><span class=\"o\">)</span> <span class=\"n\">timeout</span> <span class=\"n\">at</span> <span class=\"bp\">'</span><span class=\"n\">isDefEq'</span><span class=\"o\">,</span> <span class=\"n\">maximum</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">heartbeats</span> <span class=\"o\">(</span><span class=\"mi\">700000</span><span class=\"o\">)</span> <span class=\"n\">has</span> <span class=\"n\">been</span> <span class=\"n\">reached</span> <span class=\"o\">(</span><span class=\"n\">use</span> <span class=\"bp\">'</span><span class=\"kd\">set_option</span> <span class=\"n\">maxHeartbeats</span> <span class=\"bp\">&lt;</span><span class=\"n\">num</span><span class=\"bp\">&gt;'</span> <span class=\"n\">to</span> <span class=\"n\">set</span> <span class=\"n\">the</span> <span class=\"n\">limit</span><span class=\"o\">)</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span> <span class=\"bp\">./././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">AlgebraicGeometry</span><span class=\"bp\">/</span><span class=\"n\">Morphisms</span><span class=\"bp\">/</span><span class=\"n\">QuasiSeparated.lean</span><span class=\"o\">:</span><span class=\"mi\">513</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">deterministic</span><span class=\"o\">)</span> <span class=\"n\">timeout</span> <span class=\"n\">at</span> <span class=\"bp\">'</span><span class=\"n\">whnf'</span><span class=\"o\">,</span> <span class=\"n\">maximum</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">heartbeats</span> <span class=\"o\">(</span><span class=\"mi\">700000</span><span class=\"o\">)</span> <span class=\"n\">has</span> <span class=\"n\">been</span> <span class=\"n\">reached</span> <span class=\"o\">(</span><span class=\"n\">use</span> <span class=\"bp\">'</span><span class=\"kd\">set_option</span> <span class=\"n\">maxHeartbeats</span> <span class=\"bp\">&lt;</span><span class=\"n\">num</span><span class=\"bp\">&gt;'</span> <span class=\"n\">to</span> <span class=\"n\">set</span> <span class=\"n\">the</span> <span class=\"n\">limit</span><span class=\"o\">)</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span> <span class=\"bp\">./././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">AlgebraicGeometry</span><span class=\"bp\">/</span><span class=\"n\">Morphisms</span><span class=\"bp\">/</span><span class=\"n\">QuasiSeparated.lean</span><span class=\"o\">:</span><span class=\"mi\">513</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">deterministic</span><span class=\"o\">)</span> <span class=\"n\">timeout</span> <span class=\"n\">at</span> <span class=\"bp\">'</span><span class=\"n\">whnf'</span><span class=\"o\">,</span> <span class=\"n\">maximum</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">heartbeats</span> <span class=\"o\">(</span><span class=\"mi\">700000</span><span class=\"o\">)</span> <span class=\"n\">has</span> <span class=\"n\">been</span> <span class=\"n\">reached</span> <span class=\"o\">(</span><span class=\"n\">use</span> <span class=\"bp\">'</span><span class=\"kd\">set_option</span> <span class=\"n\">maxHeartbeats</span> <span class=\"bp\">&lt;</span><span class=\"n\">num</span><span class=\"bp\">&gt;'</span> <span class=\"n\">to</span> <span class=\"n\">set</span> <span class=\"n\">the</span> <span class=\"n\">limit</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 394946467,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696471967
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/6413179694/job/17411697711?pr=7260\">https://github.com/leanprover-community/mathlib4/actions/runs/6413179694/job/17411697711?pr=7260</a></p>",
        "id": 394946510,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696472000
    },
    {
        "content": "<p>less than 20 files away from a successful build of mathlib <span aria-label=\"cry\" class=\"emoji emoji-1f622\" role=\"img\" title=\"cry\">:cry:</span></p>",
        "id": 394946665,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696472063
    },
    {
        "content": "<p>Does any AG speed experts such as <span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span> want to tell to simply bump the maxHeartbeats limit?</p>",
        "id": 394946785,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696472123
    },
    {
        "content": "<p>I don't think that there any AG speed experts currently.</p>",
        "id": 394947177,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1696472321
    },
    {
        "content": "<p>You will not mar any beautiful edifice with a bump</p>",
        "id": 394947238,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1696472367
    },
    {
        "content": "<p>Ok, I did it.</p>",
        "id": 394948426,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696472958
    },
    {
        "content": "<p>I pushed the 700000 to 1000000</p>",
        "id": 394948459,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696472979
    },
    {
        "content": "<p>I hope I will never have to open that file again.</p>",
        "id": 394948561,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696473007
    },
    {
        "content": "<p>Until you do mirror symmetry at least</p>",
        "id": 394948887,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1696473145
    },
    {
        "content": "<p>I feel safe for a couple of years...</p>",
        "id": 394948983,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1696473194
    },
    {
        "content": "<p>Hopefully it will be in better shape by then</p>",
        "id": 394949122,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1696473270
    },
    {
        "content": "<p>Maybe this file is the new RingTheory.Kaehler</p>",
        "id": 394973854,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1696487766
    },
    {
        "content": "<p>Rather than bumping up the numbers randomly it might be nice to stick to the power of two rule: every bump should be 2^n*default for some natural n</p>",
        "id": 394983280,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1696491947
    },
    {
        "content": "<p>That way someone won't come along later and discover that they can change 1000000 to 800000 and incorrectly deduce that their unrelated change had an effect here</p>",
        "id": 394983455,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1696492023
    },
    {
        "content": "<p>This had been my original suggestion with <code>count_heartbeats</code> ...</p>",
        "id": 394983733,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1696492147
    },
    {
        "content": "<p>what in the system does check <code>count_heartbeats</code>? could it be possible to define <code>logcount_heartbeats</code> as a natural number so that <code>count_heartbeats</code> is <em>de facto</em> <code>2 ^ logcount_heartbeats * default</code>?</p>",
        "id": 394994378,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1696496284
    },
    {
        "content": "<p>The system already reports the relevant power of 2 :-)</p>",
        "id": 394995868,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1696496797
    },
    {
        "content": "<p>But people ignore the suggestion and want to write a smaller number. (Specifically to annoy Patrick? Hopefully not. :-)</p>",
        "id": 394996276,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1696496939
    },
    {
        "content": "<p>It seems you more than made up for the bump <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 395038580,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1696510901
    }
]