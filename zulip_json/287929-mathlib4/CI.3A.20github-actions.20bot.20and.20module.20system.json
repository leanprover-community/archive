[
    {
        "content": "<p>Is the github-actions bot aware of the module system when it computes the import changes?</p>\n<p>In a recent PR (<a href=\"https://github.com/leanprover-community/mathlib4/pull/34533\">#34533</a>) I added a non-<code>public</code> import to a file, and the bot reported import increases for more than a thousand files. But my understanding is that private imports should not affect the number of files imported in downstream files. Am I wrong, or do we need to fix the bot?</p>",
        "id": 571054824,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1769785960
    },
    {
        "content": "<p>This is the PR summary bot. <span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> can probably answer quickly.</p>",
        "id": 571057343,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1769786536
    },
    {
        "content": "<p>No hurry, I'm just curious.</p>",
        "id": 571057581,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1769786597
    },
    {
        "content": "<p>The PR summary does not take into account any subtlety introduced by the module system: it simply looks at <code>import</code> statements at the beginning of a file and does its count from there.</p>",
        "id": 571067184,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1769788957
    },
    {
        "content": "<p>In particular, it does not wait for the oleans to be available, which would be a way to have some module-aware information.</p>",
        "id": 571067352,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1769788999
    },
    {
        "content": "<p>So I guess that, after introducing the module system, the bot adding the \"large-imports\" label does not really give useful information anymore? (I.e., it is usually a false positive.)</p>",
        "id": 571067389,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1769789009
    }
]