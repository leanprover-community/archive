[
    {
        "content": "<p>Following <a href=\"https://github.com/leanprover-community/mathlib4/pull/14837#discussion_r1683179604\">this</a> discussion in <a href=\"https://github.com/leanprover-community/mathlib4/pull/14837\">#14837</a>, I'm creating this thread to discuss defining <code>codiscreteWithin</code>.<br>\n<span class=\"user-mention\" data-user-id=\"197836\">@Jireh Loreaux</span></p>",
        "id": 452473359,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1721356797
    },
    {
        "content": "<p>Here are the relevant things I said on this PR (sorry for the week delay):</p>\n<ol>\n<li>I think theÂ <em>definition</em>Â ofÂ <code>Filter.codiscrete</code>Â should be migrated toÂ <code>mem_codiscrete'</code>, as it plays better with our API, and avoids aÂ <code>CoeSort</code>Â in the definition.</li>\n<li>I would prefer that weÂ <em>almost never</em>Â talk aboutÂ <code>U âˆˆ codiscrete S</code>Â whereÂ <code>{S : Set X} {U : Set S}</code>. Instead, I think we should create aÂ <em>new</em>Â definitionÂ <code>codiscreteWithin</code>, much likeÂ <code>nhdsWithin</code>. I will describe this now.</li>\n</ol>\n<p>The definition ofÂ <code>t âˆˆ codiscrete X</code>Â is (equivalent to)Â <code>Disjoint (â¨† x : X, ğ“[â‰ ] x) (ğ“Ÿ tá¶œ)</code>. I propose that we have, forÂ <code>s : Set X</code>,Â <code>codiscreteWithin s X</code>Â whereÂ <code>t âˆˆ codiscreteWithin s X</code>Â meansÂ <code>Disjoint (â¨† x âˆˆ s, ğ“[â‰ ] x) (ğ“Ÿ tá¶œ)</code>. Note, I have not thought about whether there is a nice filter-level description of this (as withÂ <code>ğ“[s] x := ğ“ x âŠ“ (ğ“Ÿ s)</code>).</p>\n<p>Note that ifÂ <code>t : Set s</code>, thenÂ <code>t âˆˆ codiscrete s â†” (Subtype.val '' tá¶œ) âˆˆ codiscreteWithin s X</code>.</p>",
        "id": 454421805,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1722054228
    },
    {
        "content": "<p>Note that <a href=\"https://github.com/leanprover-community/mathlib4/pull/14837\">#14837</a> is awaiting the outcome of the discussion here, so your input is valuable.</p>",
        "id": 454421938,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1722054257
    },
    {
        "content": "<p>Bumping to get more eyes on this. Maybe <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> , <span class=\"user-mention silent\" data-user-id=\"210574\">Patrick Massot</span> or <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span> have an opinion.</p>",
        "id": 455626780,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1722513194
    },
    {
        "content": "<p>I agree that it's generally good to avoid subtypes, so <code>codiscreteWithin</code> seems good to have.</p>",
        "id": 455646205,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1722518322
    }
]