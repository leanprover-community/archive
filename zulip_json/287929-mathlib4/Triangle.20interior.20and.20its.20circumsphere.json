[
    {
        "content": "<p>Any idea of proving that a point P inside a triangle is also inside the triangle's circumsphere?<br>\nHere's the lean code statement</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Affine</span><span class=\"w\"> </span><span class=\"n\">Module</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Pt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">NormedAddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">InnerProductSpace</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MetricSpace</span><span class=\"w\"> </span><span class=\"n\">Pt</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"n\">NormedAddTorsor</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">Pt</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fact</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">finrank</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"bp\">.</span><span class=\"n\">Oriented</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)]</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">mem_interior_triangle_imp_power_neg</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Pt</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hABC</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AffineIndependent</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"o\">[</span><span class=\"n\">A</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">])</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">h_triABC</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">triABC</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⟨_</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hABC</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Triangle</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"n\">Pt</span><span class=\"o\">))</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">hP</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">triABC</span><span class=\"bp\">.</span><span class=\"n\">interior</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hΓ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Γ</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">triABC</span><span class=\"bp\">.</span><span class=\"n\">circumsphere</span><span class=\"o\">):</span>\n<span class=\"w\">  </span><span class=\"n\">Γ</span><span class=\"bp\">.</span><span class=\"n\">power</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 540233209,
        "sender_full_name": "Gaolei He",
        "timestamp": 1758201973
    },
    {
        "content": "<p>This sounds like a special case of some convexity result. If a set <code>S</code> (in this case <code>{A, B, C}</code>) is a subset of a ball, (or disc) then the convex hull of <code>S</code> is also a subset of the sphere. I don't know where to find this lemma though <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 540235156,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1758202441
    },
    {
        "content": "<p>For two points in an affine space for a strictly convex space, the relevant results are <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Sbtw.dist_lt_max_dist#doc\">docs#Sbtw.dist_lt_max_dist</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Wbtw.dist_le_max_dist#doc\">docs#Wbtw.dist_le_max_dist</a> which are both deduced from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=norm_combo_lt_of_ne#doc\">docs#norm_combo_lt_of_ne</a> for two vectors in a strictly convex space. I suggest adding versions of all three lemmas to mathlib for an affine combination (with nonnegative weights) of any finite number of points or vectors (note that for strict inequality, it suffices that at least two of the weights are positive, you don't need all of them positive); those could be deduced from the two-point or two-vector lemmas by induction.</p>",
        "id": 540305703,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1758223274
    },
    {
        "content": "<p>I found I wanted something like this for my work on IMO 2024 P4. <a href=\"https://github.com/leanprover-community/mathlib4/pull/31452\">#31452</a> now has what I think are the right convexity statements about convex combinations in strictly convex sets and spaces (depends on <a href=\"https://github.com/leanprover-community/mathlib4/pull/31450\">#31450</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/31451\">#31451</a>).</p>",
        "id": 554605466,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1762736220
    }
]