[
    {
        "content": "<p>Is there any good way to obtain performance data for Mathlib? I'm interesting in more fine-grained questions than the speedcenter has, for example:</p>\n<ul>\n<li>How much time is spent in the kernel?</li>\n<li>How much time is spent in <code>isDefEq</code>?</li>\n<li>How much time is spent in tactics which eventually fail?</li>\n<li>How much time is spent on parsing?</li>\n</ul>",
        "id": 481567902,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1731250032
    },
    {
        "content": "<p>There might be some answers in this video <a href=\"https://www.youtube.com/watch?v=T0M5WpnuneE\">https://www.youtube.com/watch?v=T0M5WpnuneE</a> but it's still on my watch list as opposed to my watched list :-/</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"T0M5WpnuneE\" href=\"https://www.youtube.com/watch?v=T0M5WpnuneE\"><img src=\"https://uploads.zulipusercontent.net/a2f90435cac2f788886d90bf5b6f810da92fd2e9/68747470733a2f2f692e7974696d672e636f6d2f76692f54304d3557706e756e65452f64656661756c742e6a7067\"></a></div>",
        "id": 481569993,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731251570
    },
    {
        "content": "<p>I would expect that there is 0 time spent on tactics which eventually fail -- a tactic which fails with an error wouldn't make it into mathlib, and we have a linter which lints against tactics which do nothing.</p>",
        "id": 481570058,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1731251623
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Performance.20statistics.20for.20Mathlib/near/481570058\">said</a>:</p>\n<blockquote>\n<p>I would expect that there is 0 time spent on tactics which eventually fail -- a tactic which fails with an error wouldn't make it into mathlib, and we have a linter which lints against tactics which do nothing.</p>\n</blockquote>\n<p>That's not necessarily true, for example if you have proof automation that uses <code>first</code> it could happen that you run a couple of tactics before hitting the right one</p>",
        "id": 481570621,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1731252076
    },
    {
        "content": "<p>And just doing a very basic search there is almost 100 of these in mathlib:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">λ</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">grep</span><span class=\"w\"> </span><span class=\"s2\">\"first |\"</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">wc</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">l</span>\n<span class=\"mi\">87</span>\n</code></pre></div>",
        "id": 481570782,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1731252216
    }
]