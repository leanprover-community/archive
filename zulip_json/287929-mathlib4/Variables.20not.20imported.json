[
    {
        "content": "<p>After updating Mathlib in our project with <span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span> , we are having issues with some variables that are used in the proof but not in the statement not being imported. Antoine is having the same problem in his main Mathlib branch, which he just updated. Here is a mwe:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Ring</span><span class=\"bp\">.</span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lt_trans</span><span class=\"w\"> </span><span class=\"n\">zero_lt_one</span><span class=\"w\"> </span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"c1\">-- unknown identifier 'hn'</span>\n</code></pre></div>",
        "id": 469931103,
        "sender_full_name": "María Inés de Frutos Fernández",
        "timestamp": 1726224993
    },
    {
        "content": "<p>Yep, use <code>include hn in</code> before the theorem, or don't use <code>variable</code> for it</p>",
        "id": 469931881,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1726225143
    },
    {
        "content": "<p>Is it a new rule?</p>",
        "id": 469932119,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726225192
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/releases/tag/v4.11.0\">https://github.com/leanprover/lean4/releases/tag/v4.11.0</a></p>",
        "id": 469932338,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1726225228
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 469932615,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726225277
    },
    {
        "content": "<p>From a stylistic point of view, what is preferred for mathlib, using <code>variable… </code>and <code>include… in</code> or adding the variable each time?</p>",
        "id": 469944081,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1726228027
    },
    {
        "content": "<p>The latter.</p>",
        "id": 469945237,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1726228343
    }
]