[
    {
        "content": "<p>This is the discussion thread for my PR of conditional Jensen's inequality: <a href=\"https://github.com/leanprover-community/mathlib4/pull/27953\">#27953</a>. This is also my first project :) (which I received a lot of help from <span class=\"user-mention\" data-user-id=\"631691\">@Thomas Zhu</span> ). Feel free to give me some suggestions on how I can improve this PR here.</p>",
        "id": 567292695,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1768019571
    },
    {
        "content": "<p>This PR is long, and I divided it into several pieces:<a href=\"https://github.com/leanprover-community/mathlib4/pull/31180\">#31180</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/31399\">#31399</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/31411\">#31411</a>. Right now only <a href=\"https://github.com/leanprover-community/mathlib4/pull/31399\">#31399</a> was merged into Mathlib (and hopefully more in the future).</p>\n<p>An essential lemma used in this proof is to write a convex lower semicontinuous function as the supremum of a collection of countably many affine function (<a href=\"https://github.com/leanprover-community/mathlib4/pull/31399\">#31399</a>), and this relies on writing a closed convex set <code>s</code> as the intersection of a collection of countably many halfspaces (<a href=\"https://github.com/leanprover-community/mathlib4/pull/31180\">#31180</a>). <a href=\"https://github.com/leanprover-community/mathlib4/pull/31180\">#31180</a> is also what I want to focus on in this thread right now. I was stuck at <a href=\"https://github.com/leanprover-community/mathlib4/pull/31180\">#31180</a> because I was unsure about a question raised by my reviewer <span class=\"user-mention\" data-user-id=\"268315\">@Anatole Dedecker</span> : is it necessary to include the statement that the halfspaces are generated by nonzero linear forms when <code>s</code> is not empty?</p>\n<p>I believe this is still kind of necessary (at least in the proof of my reference: Lemma 1.2.9 and Lemma 1.2.10 of <a href=\"https://link.springer.com/book/10.1007/978-3-319-48520-1\">https://link.springer.com/book/10.1007/978-3-319-48520-1</a>). I am happy to change my code if anyone have a better reference for this result.</p>",
        "id": 567293529,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1768020745
    },
    {
        "content": "<p>Sorry I indeed forgot part of the story in my last comment of the PR. Here are some more precise thoughts:</p>\n<ul>\n<li>\n<p>regarding requiring non-zero linear forms, I retract my initial scepticism: geometrically it does make a ton of sense to specialize to non-zero linear forms, because they correspond/define hyperplanes. </p>\n</li>\n<li>\n<p>regarding <a href=\"https://github.com/leanprover-community/mathlib4/pull/31411\">#31411</a>, I suggested using <a href=\"https://github.com/leanprover-community/mathlib4/pull/33778\">#33778</a> to take care of the countability. The nice thing about the general version (general LCTVS, no countability) is that it's actually easier to prove sice you don't care about countability! You may find such a proof in Bourbaki, Topological Vector Spaces, ยง 5, Prop. 5. Notice how you're doing the approximation at each point, which is completely undoable if you try to take care of countability too early.</p>\n</li>\n</ul>",
        "id": 567641286,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1768251195
    },
    {
        "content": "<p>Re: nonzeroness. I think I would find the results more satisfying it the case disjunction was based on triviality of <code>E</code> rather than emptiness of <code>s</code>: as soon as <code>E</code> is nontrivial, even the emptyset may be written as an intersection of non-degenerate closed half-spaces. And one can often get a <code>Nontrivial</code> instance on <code>E</code> by doing <code>nontriviality E</code>. Does that make sense?</p>",
        "id": 567643517,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1768252021
    },
    {
        "content": "<p>To sum up, here is what I envision:</p>\n<ul>\n<li>I think you should prove <a href=\"https://github.com/leanprover-community/mathlib4/pull/31411\">#31411</a> using the general non-countable approximation result, and getting countability from <a href=\"https://github.com/leanprover-community/mathlib4/pull/33778\">#33778</a></li>\n<li>I still think the results from <a href=\"https://github.com/leanprover-community/mathlib4/pull/31180\">#31180</a> are interesting. I claim that they should be written in a slightly more \"canonical\" way. I will write these down tomorrow.</li>\n</ul>",
        "id": 567643584,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1768252046
    },
    {
        "content": "<p>(Sorry I had mixed some PR numbers. Should be fixed now)</p>",
        "id": 567646355,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1768253249
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"268315\">@Anatole Dedecker</span> I was a bit busy with my other commitments recently. I will try my best to take a look of your comments more closely later this week.</p>",
        "id": 567827966,
        "sender_full_name": "Yongxi Lin (Aaron)",
        "timestamp": 1768327018
    }
]