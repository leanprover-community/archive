[
    {
        "content": "<p>Seems an obvious omission, since <code>Finmap.mem</code> and <code>Finmap.lookup</code> are already in place.</p>",
        "id": 479244736,
        "sender_full_name": "Alex Mobius",
        "timestamp": 1730112145
    },
    {
        "content": "<p>On second thoughts, my preference is that we don't invest much effort in <code>Mathlib.Data.Finmap</code> without applications. (Note that this file is not currently imported elsewhere in Mathlib.)</p>",
        "id": 479276161,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730122234
    },
    {
        "content": "<p>It's a dataful dependent map type that doesn't require hashing; I haven't found another. Though fair enough.</p>",
        "id": 479280160,
        "sender_full_name": "Alex Mobius",
        "timestamp": 1730123295
    },
    {
        "content": "<p>There's RBMap in Batteries, and a replacement coming in Lean in the next month or two.</p>",
        "id": 479281235,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730123556
    },
    {
        "content": "<p>Although I guess <code>RBMap</code> in Batteries is not dependent, which you wanted.</p>",
        "id": 479281332,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730123580
    },
    {
        "content": "<p>My personal preference is that development of basic datatypes happens outside of Mathlib to the extent possible.</p>",
        "id": 479281415,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730123602
    },
    {
        "content": "<p>I think there is a DRBMap in lake?</p>",
        "id": 479281535,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1730123633
    },
    {
        "content": "<p>Obviously <code>Finmap</code> itself, relying on <code>Multiset</code>, could only happen downstream of Mathlib --- but that would be preferable to in Mathlib in my mind, unless there are clear applications in Mathlib.</p>",
        "id": 479281567,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730123639
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110049\">Mario Carneiro</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60Finmap.60.20.60GetElem.3F.60.20instance.3F/near/479281535\">said</a>:</p>\n<blockquote>\n<p>I think there is a DRBMap in lake?</p>\n</blockquote>\n<p>Indeed. But please don't use that expecting it to not change. That is intended very much as a private implementation detail. :-)</p>",
        "id": 479281734,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1730123676
    },
    {
        "content": "<p>I think <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finmap#doc\">docs#Finmap</a> is a natural extension of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AList#doc\">docs#AList</a>, and so Mathlib should have neither or both</p>",
        "id": 479282663,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1730123926
    },
    {
        "content": "<p>(and my impression is that these cause approximately zero maintenance burden right now, so are harmless enough to keep)</p>",
        "id": 479282893,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1730124000
    },
    {
        "content": "<p>Plus I think <span class=\"user-mention\" data-user-id=\"459227\">@Violeta Hernández</span> has used AList in the past for set theory stuff?</p>",
        "id": 479282978,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1730124009
    },
    {
        "content": "<p>Yes, one of my pending PRs uses <code>AList</code> to create a finsupp out of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.CNF#doc\">docs#Ordinal.CNF</a></p>",
        "id": 479286534,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1730125012
    }
]