[
    {
        "content": "<p>While trying to port <code>CategoryTheory.Abelian.Transfer</code> <a href=\"https://github.com/leanprover-community/mathlib4/pull/3424\">!4#3424</a> I have encountered a problem with instance inference. For example, the definition <code>cokernelIso</code> has the assumption <code>[HasCokernels C]</code>, but I had to explicitly add</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>  <span class=\"n\">haveI</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">X'</span> <span class=\"n\">Y'</span> <span class=\"o\">:</span> <span class=\"n\">C</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">f'</span> <span class=\"o\">:</span> <span class=\"n\">X'</span> <span class=\"bp\">⟶</span> <span class=\"n\">Y'</span><span class=\"o\">),</span> <span class=\"n\">HasCokernel</span> <span class=\"n\">f'</span> <span class=\"o\">:=</span>\n    <span class=\"k\">fun</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Limits.HasCokernels.has_colimit</span>\n</code></pre></div>\n<p>in the code, otherwise the rest of the code would not compile (timeout or some class <code>HasColimit (parallel_pair _ 0)</code>) not found), see <a href=\"https://github.com/leanprover-community/mathlib4/pull/3424/files#diff-3c62b4c9940438de2b684c86d991bc23bbcb57d825c21943b2ecf22f7f327ce8R83-R96\">https://github.com/leanprover-community/mathlib4/pull/3424/files#diff-3c62b4c9940438de2b684c86d991bc23bbcb57d825c21943b2ecf22f7f327ce8R83-R96</a></p>\n<p>Obviously, <code>Limits.HasCokernels.has_colimit</code> is already declared as an instance, so that I do not see how to fix this.</p>\n<p>In the same file, I was not able to make the statement <code>coimageIsoImage_hom</code> work, because the processing of the file becomes unbearably slow on my computer.</p>",
        "id": 349314426,
        "sender_full_name": "Joël Riou",
        "timestamp": 1681464417
    }
]