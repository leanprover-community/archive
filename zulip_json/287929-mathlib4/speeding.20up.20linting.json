[
    {
        "content": "<p>I have a related question. How can we speed up linting? I think much of the linting we do is unnecessary, and I've observed that now times for linting are routinely in the 15-min range rather than ~10 min</p>",
        "id": 342214272,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1678940995
    },
    {
        "content": "<p>For simple PRs like a plain mathlib port, right now linting takes up a majority of the time needed</p>",
        "id": 342214817,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1678941496
    },
    {
        "content": "<p>Would it be possible to cache linting results like we already do for the build?</p>",
        "id": 342214873,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1678941592
    },
    {
        "content": "<p>Caching linting is quite hard. The most time consuming part is the simp normal form linter, which really is a global test of the simp-set. There's nothing really to cache.</p>",
        "id": 342217391,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1678943523
    },
    {
        "content": "<p>4 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/stream/287929-mathlib4/topic/mathlib4.20speedcenter\">#mathlib4 &gt; mathlib4 speedcenter</a> by <span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span>.</p>",
        "id": 342245169,
        "sender_full_name": "Notification Bot",
        "timestamp": 1678956055
    },
    {
        "content": "<p>In mathlib3, for comparison, building takes ~6h and linting 40min.</p>",
        "id": 342247457,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1678956784
    },
    {
        "content": "<p>I moved this conversation as it's not about how to measure performance, but do we want to track the global linter in the speedcenter as well? The benchmarking machine is roughly twice as fast as the CI runner, so it would add some 5 minutes to each run.</p>",
        "id": 342249025,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1678957254
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/287929-mathlib4/topic/speeding.20up.20linting/near/342247457\">said</a>:</p>\n<blockquote>\n<p>In mathlib3, for comparison, building takes ~6h and linting 40min.</p>\n</blockquote>\n<p>I'm pretty sure linting is more like 1hr now</p>",
        "id": 342249457,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1678957382
    },
    {
        "content": "<p>Good old times...</p>",
        "id": 342251287,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1678957872
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span> that would be great.</p>",
        "id": 342326937,
        "sender_full_name": "Gabriel Ebner",
        "timestamp": 1678976563
    }
]