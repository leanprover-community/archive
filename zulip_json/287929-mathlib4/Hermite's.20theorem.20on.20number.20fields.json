[
    {
        "content": "<p>Let <code>A</code> be an algebraic closure of <code>ℚ</code> and let <code>N ≥ 1</code> be an integer. A theorem of Hermite states that<br>\nthere are finitely many number fields in <code>A</code> such that <code>|discr K| ≤ N</code> where <code>discr K</code> denotes<br>\nthe discriminant of <code>K</code>. I think we have all the tools necessary to add the proof of this result to<br>\n<code>mathlib</code> but I am not sure on the best way to state the result. So far, I have the following</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.NumberTheory.NumberField.Discriminant</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">NumberField</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">Field</span> <span class=\"n\">A</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">CharZero</span> <span class=\"n\">A</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">IsAlgClosed</span> <span class=\"n\">A</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">N</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"o\">{</span><span class=\"n\">K</span> <span class=\"o\">:</span> <span class=\"o\">{</span> <span class=\"n\">K</span> <span class=\"o\">:</span> <span class=\"n\">IntermediateField</span> <span class=\"n\">ℚ</span> <span class=\"n\">A</span> <span class=\"bp\">//</span> <span class=\"n\">FiniteDimensional</span> <span class=\"n\">ℚ</span> <span class=\"n\">K</span> <span class=\"o\">}</span> <span class=\"bp\">|</span>\n      <span class=\"n\">haveI</span> <span class=\"o\">:</span>  <span class=\"n\">NumberField</span> <span class=\"n\">K</span> <span class=\"o\">:=</span> <span class=\"bp\">@</span><span class=\"n\">NumberField.mk</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"n\">inferInstance</span> <span class=\"n\">K.prop</span>\n      <span class=\"bp\">|</span><span class=\"n\">discr</span> <span class=\"n\">K</span><span class=\"bp\">|</span> <span class=\"bp\">≤</span> <span class=\"n\">N</span> <span class=\"o\">}</span><span class=\"bp\">.</span><span class=\"n\">Finite</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Is there a better way to state this theorem?</p>",
        "id": 403118976,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1700469017
    },
    {
        "content": "<p>You don't need A to be algebraically closed. </p>\n<p>My guess is that this is fine. Other approaches: consider all number fields up to isomorphism and say that the quotient is finite, or claim the existence of a finite set of fields and say every field with small discriminant is isomorphic to one of these. But my guess is that in applications what you have will be the most useful.</p>",
        "id": 403119817,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1700469345
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Hermite's.20theorem.20on.20number.20fields/near/403119817\">said</a>:</p>\n<blockquote>\n<p>You don't need A to be algebraically closed. </p>\n</blockquote>\n<p>Good point.</p>",
        "id": 403120066,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1700469442
    },
    {
        "content": "<p>One thing I am not sure about is wether it is better to use <code>IntermediateField ℚ A</code> or <code>Subfield A</code>...</p>",
        "id": 403120478,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1700469602
    },
    {
        "content": "<p>Does<code>FiniteDimensional \\Q A</code> work in both cases? If so then it probably doesn't matter :-)</p>",
        "id": 403120699,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1700469677
    },
    {
        "content": "<p>Yes, the rest stays exactly the same.</p>",
        "id": 403120798,
        "sender_full_name": "Xavier Roblot",
        "timestamp": 1700469721
    },
    {
        "content": "<p>Usually the logic is to write the thing which the user will find easiest to use, so probably Subfield?</p>",
        "id": 403121000,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1700469804
    }
]