[
    {
        "content": "<p>In analysis, your four most needed tactics come from the two by two matrix of: existential/universal quantifiers (<code>‚àÄ</code>, <code>‚àÉ</code>) in a hypothesis/goal. The four tactics to act on these are all infinitive forms of verbs: <code>use</code>, <code>intro</code> (introduce), <code>specialize</code>, and <code>obtain</code>. But look at how different the syntax is for all four:</p>\n<ul>\n<li>If you have a universal quantifier in a goal (<code>‚ä¢ ‚àÄ x y z,...</code>), the syntax is</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span>\n</code></pre></div>\n<p>No commas, no nothing. Very clean and simple.</p>\n<ul>\n<li>For a universal quantifier in a hypothesis (<code>h : ‚àÄ x y z,...</code>), <code>specialize</code> is just like <code>intro</code>:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">specialize</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span>\n</code></pre></div>\n<ul>\n<li>If you have an existential quantifier in a goal (<code>‚ä¢ ‚àÉ x y z,...</code>), the syntax now requires commas:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span>\n</code></pre></div>\n<p>Not the end of the world (but couldn't we do without commas?).</p>\n<ul>\n<li>And then comes the oddball. For a hypothesis (<code>h : ‚àÉ x y z,...</code>), you're supposed to write:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>\n<p>Yuck! Angle brackets, colon-equals...?!? </p>\n<p>Would it not be possible somehow to unify the syntax for these four, with my preference being  to match <code>intro/specialize</code>. I know there's also <code>rcases</code> which looks a <em>little</em> better than <code>obtain</code>, but <code>rcases</code> is not an English word, and is not a verb... Just trying to propose some papercut removal... I'm sure it's a long shot. Thanks!</p>",
        "id": 534539773,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755196699
    },
    {
        "content": "<p>Instead of <code>use</code>, you can <code>refine</code> or <code>exact</code> and get angle brackets</p>",
        "id": 534540348,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755196938
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534539773\">said</a>:</p>\n<blockquote>\n<p>Would it not be possible somehow to unify the syntax for these four, with my preference being  to match <code>intro/specialize</code>. I know there's also <code>rcases</code> which looks a <em>little</em> better than <code>obtain</code>, but <code>rcases</code> is not an English word, and is not a verb... Just trying to propose some papercut removal... I'm sure it's a long shot. Thanks!</p>\n</blockquote>\n<p>Do you have a suggestion of what that syntax would be?</p>",
        "id": 534540492,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755196999
    },
    {
        "content": "<p>That's a more advanced usage. I'm trying to train people to do one very simple, specific thing, and am realizing that the <code>obtain</code> syntax is really out there...</p>",
        "id": 534540505,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197003
    },
    {
        "content": "<p>how about <code>obtain x y z h' from h</code>?</p>",
        "id": 534540536,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197019
    },
    {
        "content": "<p>well it can't be <code>obtain</code> because <code>obtain</code> already does something...</p>",
        "id": 534540596,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755197043
    },
    {
        "content": "<p>I think <code>choose</code> might work here</p>",
        "id": 534540654,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755197064
    },
    {
        "content": "<p>it's meant for choosing functions out of <code>‚àÄ a b c, ‚àÉ d e f, ‚ãØ</code> but it also works when the number of universal quantifiers is <code>0</code></p>",
        "id": 534540797,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755197117
    },
    {
        "content": "<p>Perfect!!! Just what I wanted, thanks!</p>",
        "id": 534540914,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197173
    },
    {
        "content": "<p>(Then my only gripe is that <code>use</code> requires commas whereas the rest don't. But it's much more minor.)</p>",
        "id": 534540987,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197203
    },
    {
        "content": "<p>it's in <a href=\"https://tqft.net/mathlib4files/Tactic/Choose\">file#Tactic/Choose</a></p>",
        "id": 534541035,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755197222
    },
    {
        "content": "<p>Question: why does <code>choose</code> go with <code>using</code> as opposed to <code>from</code>?</p>",
        "id": 534541045,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197225
    },
    {
        "content": "<p>Ha! I see a TODO there: switch to <code>rcases</code> syntax: <code>choose ‚ü®i, j, h‚ÇÅ -‚ü© := expr</code>. Please <em>don't</em> switch to this syntax! :)</p>",
        "id": 534541167,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197271
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534541045\">said</a>:</p>\n<blockquote>\n<p>Question: why does <code>choose</code> go with <code>using</code> as opposed to <code>from</code>?</p>\n</blockquote>\n<p>because <code>from</code> is a keyword and <code>using</code> is not, maybe?</p>",
        "id": 534541292,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755197308
    },
    {
        "content": "<p>Ok, fine. I'm happy (enough) now. Thanks!</p>",
        "id": 534541410,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755197351
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534539773\">said</a>:</p>\n<blockquote>\n<ul>\n<li>If you have an existential quantifier in a goal (<code>‚ä¢ ‚àÉ x y z,...</code>), the syntax now requires commas:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span>\n</code></pre></div>\n<p>Not the end of the world (but couldn't we do without commas?).</p>\n</blockquote>\n<p>I think the reason for this is that if you omit the commas you get <code>use x y z</code>, which gets parsed as <code>use (x y z)</code> (so <code>x</code> is a function being applied to <code>y</code> and <code>z</code>), which is not what we want, and this ambiguity is difficult to fix without adding a separator.</p>",
        "id": 534542930,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755198007
    },
    {
        "content": "<p>a way to fix this would be to take the arguments with high precedence, but then this breaks <code>use x + 1</code>, you have to do <code>use (x + 1)</code> now, so there's a tradeoff happening.</p>",
        "id": 534543461,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755198227
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534539773\">said</a>:</p>\n<blockquote>\n<p>Yuck! Angle brackets, colon-equals...?!?</p>\n</blockquote>\n<p>It keeps happening:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"k\">let</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>\n<p>Why should <code>obtain</code> be like <code>intro</code> instead of being like <code>let</code>?</p>",
        "id": 534545932,
        "sender_full_name": "suhr",
        "timestamp": 1755199299
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">z</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h'</span><span class=\"bp\">‚ü©</span>\n<span class=\"w\">  </span><span class=\"n\">trivial</span>\n</code></pre></div>",
        "id": 534546133,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755199380
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534543461\">said</a>:</p>\n<blockquote>\n<p>a way to fix this would be to take the arguments with high precedence, but then this breaks <code>use x + 1</code>, you have to do <code>use (x + 1)</code> now, so there's a tradeoff happening.</p>\n</blockquote>\n<p>I, for one, would be perfectly happy to have to write <code>use (x + 1)</code>, if it meant that I could write <code>use (x + 1) (y + 2) (z + 3)</code> without commas... (And also to match the syntax elsewhere...)</p>",
        "id": 534560134,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755205613
    },
    {
        "content": "<p>Again, I'm not talking about expert users - they'll get used to jumping through whatever hoops are necessary. But from an introductory pedagogical perspective, I'd prefer <code>use (x + 1) (y + 2) (z + 3)</code> over <code>use x + 1, y + 2, z + 3</code>, especially since commas are not needed in other similar tactics...</p>",
        "id": 534560454,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755205765
    },
    {
        "content": "<p>I think the commas in <code>use a, b, c, d, e</code> might be to match the commas in <code>refine ‚ü®a, b, c, d, e, ?_‚ü©</code></p>",
        "id": 534560694,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755205884
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534540505\">said</a>:</p>\n<blockquote>\n<p>That's a more advanced usage. I'm trying to train people to do one very simple, specific thing, and am realizing that the <code>obtain</code> syntax is really out there...</p>\n</blockquote>\n<p>No, it's not \"really out there\". This is the <code>rcases</code> pattern syntax, which is in Lean core and is used by several tactics (and the TODO to switch for <code>choose</code> is probably a good choice to standardize). Moreover, the angle bracket syntax <em>is standard</em>, it's the anonymous syntax for constructing any inductive type with a single constructor (e.g., <code>Exists</code>, <code>And</code>, etc.). Moreover, there's <code>|</code> to define each constructor in an inductive type. Since the pattern syntax is used for <em>destructuring</em>, it's natural that it matches the way things are built. And the whole point is for it to be <em>recursive</em> (that's what the <code>r</code> means in <code>rcases</code>), so you can do things like <code>obtain ‚ü®hp, (hq | hr)‚ü© := h</code> when <code>h : p ‚àß (q ‚à® r)</code>. There's no way you're going to get this very basic ability if you just use <code>obtain hp hq hr</code>.</p>\n<p>Note how different this is from <code>intro</code> (which only needs to <em>give names</em> to variables for <code>‚àÄ</code>), <code>specialize</code> (which only needs to <em>supply</em> variables to <code>‚àÄ</code>) or <code>use</code> (which only needs to <em>supply</em> a term to <code>‚àÉ</code>, or terms to multiple nested <code>‚àÉ</code> with <code>,</code> separators).</p>\n<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534560454\">said</a>:</p>\n<blockquote>\n<p>But from an introductory pedagogical perspective</p>\n</blockquote>\n<p>If that's your goal, write a dedicated tactic to do what you want for your users, but don't try to take away functionality / syntax from powerful tactics that use standardized syntax.</p>",
        "id": 534565608,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1755208422
    },
    {
        "content": "<p>By the way, if you switch to <code>refine</code> instead of <code>use</code> (which I would suggest independently of the above considerations), then the syntax matches <code>obtain</code> better. And you don't even have to tell the user about the full power of <code>refine</code> if you don't want. Just say, \"to supply witnesses for an existential statement of the form <code>‚àÉ x y z, P x y z</code>, just write <code>refine ‚ü®a, b, c, ?_‚ü©</code> and you will be left with the goal <code>‚ä¢ P a b c</code>.\"</p>\n<p>And I wouldn't consider that \"advanced usage\" by any means.</p>",
        "id": 534567865,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1755209867
    },
    {
        "content": "<p>yeah good point. Maybe the <code>refine</code>/<code>obtain</code> pair is better than <code>use</code>/<code>choose</code>... And maybe I should do something custom for my purposes...</p>",
        "id": 534568048,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755210010
    },
    {
        "content": "<p>If you know the name of the constructor, you can use spaces rather than commas, like in <code>have (Exists.intro n h) := h</code>. That's not something <code>obtain</code> supports however (I'm not sure it couldn't support it...). The pattern follows the syntax for how it's built (like Jireh already mentioned), and angle bracket notation happens to use commas. The <code>|</code>'s though aren't a direct analogue of an existing syntax, but they hint at the <code>|</code>'s in <code>inductive</code> or <code>match</code>.</p>\n<p>The syntax for <code>intro</code> is modeled after <code>fun</code>. In particular, <code>intro x y z</code> is just like <code>refine fun x y z =&gt; ?_</code>. It even lets you write <code>intro (n : Nat) (h : 0 &lt; n)</code>.</p>\n<p>The syntax for <code>specialize</code> on the other hand is modeled after function application. Writing <code>specialize h x y z</code> is the same as <code>have h := h x y z</code> then clearing the old <code>h</code>. In fact, the syntax is just <code>specialize TERM</code>, and the term can be anything, so long as it elaborates to a function application.</p>\n<p>In each of these, the tactic reflects a corresponding term in some way.</p>\n<p>The <code>use</code> tactic is an odd one. It's the mathlib version of the <code>exists</code> tactic, which also uses comma separation, and Aaron's hypothesis that it's to match the commas in angle bracket notation seems likely (from the docstring: \"<code> `exists e‚ÇÅ, e‚ÇÇ, ...` is shorthand for `refine ‚ü®e‚ÇÅ, e‚ÇÇ, ...‚ü©; try trivial` </code>\"). It might be reasonable if someone were to adjust the <code>use</code> syntax to instead take a space-separated list of terms; though don't you think people might be confused that <code>use f 2</code> would fail with a strange type error? (E.g. \"term has type Nat -&gt; Nat but is expected to have type Nat\")</p>",
        "id": 534570287,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1755211458
    },
    {
        "content": "<p>I actually like Lean syntax, and have gotten used to it. There are two different things; one is using Lean and allowing it to be expressive, and the other is teaching it to people purely for the purpose of doing mathematics. I'm trying to figure out the easiest way to teach it to others, in particular for real analysis, where there's the 2x2 matrix:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>‚àÄ</th>\n<th>‚àÉ</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>‚ä¢</strong></td>\n<td><code>intro</code></td>\n<td><code>use</code></td>\n</tr>\n<tr>\n<td><strong>Hypothesis</strong></td>\n<td><code>specialize</code></td>\n<td><code>choose</code></td>\n</tr>\n</tbody>\n</table>\n<p>That's as simple as I've been able to get it so far...</p>",
        "id": 534571074,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755211969
    },
    {
        "content": "<p>Often <code>choose</code> is most useful when your hypothesis starts with <code>‚àÄ</code>!</p>",
        "id": 534575270,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755214653
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> I haven't thought hard about it, but my guess is that for an absolute beginner doing Analysis in Lean in a pedagogical setting, you would also need to fill in the matrix</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚àß</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\land q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àß</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚à®</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\lor q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à®</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>‚ä¢</strong></td>\n<td>?</td>\n<td>?</td>\n</tr>\n<tr>\n<td><strong>Hypothesis</strong></td>\n<td>?</td>\n<td>?</td>\n</tr>\n</tbody>\n</table>",
        "id": 534592432,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1755229251
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534575270\">said</a>:</p>\n<blockquote>\n<p>Often <code>choose</code> is most useful when your hypothesis starts with <code>‚àÄ</code>!</p>\n</blockquote>\n<p>Ok good point, but only because there‚Äôs an <code>‚àÉ</code> soon after the <code>‚àÄ</code>, right? I‚Äôm again working on how to train newcomers, so I would insist that they, at least at first, don‚Äôt chain things; they should <code>specialize</code> until they get to <code>‚àÉ</code>, and only then should they <code>choose</code>‚Ä¶</p>",
        "id": 534659261,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755266801
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534592432\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> I haven't thought hard about it, but my guess is that for an absolute beginner doing Analysis in Lean in a pedagogical setting, you would also need to fill in the matrix</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚àß</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\land q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àß</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚à®</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\lor q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à®</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>‚ä¢</strong></td>\n<td>?</td>\n<td>?</td>\n</tr>\n<tr>\n<td><strong>Hypothesis</strong></td>\n<td>?</td>\n<td>?</td>\n</tr>\n</tbody>\n</table>\n</blockquote>\n<p>That's world 3! :) I'm still working on world 1...</p>",
        "id": 534659340,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755266831
    },
    {
        "content": "<p>sometimes you can't just specialize</p>",
        "id": 534659358,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755266840
    },
    {
        "content": "<p>you need the axiom of choice</p>",
        "id": 534659380,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755266848
    },
    {
        "content": "<p>that's why it's called <code>choose</code></p>",
        "id": 534659393,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755266853
    },
    {
        "content": "<p>sorry, can you give me an example of what you have in mind?</p>",
        "id": 534659445,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755266875
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TopologicalSpace.instSecondCountableTopologyOfCountableOfFirstCountableTopology#doc\">docs#TopologicalSpace.instSecondCountableTopologyOfCountableOfFirstCountableTopology</a></p>",
        "id": 534659534,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755266907
    },
    {
        "content": "<p>this is a proof I remember</p>",
        "id": 534659651,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755266950
    },
    {
        "content": "<p>Ok but in intro <code>Œµ Œ¥ </code>real analysis?</p>",
        "id": 534659686,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755266963
    },
    {
        "content": "<p>uhmm</p>",
        "id": 534659749,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755266979
    },
    {
        "content": "<p>I thought of one, let me find it real quick</p>",
        "id": 534659813,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267002
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=HasDerivAt.lhopital_zero_right_on_Ioo#doc\">docs#HasDerivAt.lhopital_zero_right_on_Ioo</a></p>",
        "id": 534659932,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267050
    },
    {
        "content": "<p>Interesting. What does <code>choose!</code> do? And again, that line, if I'm looking at the right line -- 71, referring to the <code>this</code> created on l.64 -- does end with a <code>‚àÉ</code>...?</p>",
        "id": 534660746,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755267370
    },
    {
        "content": "<p>it's a forall followed by an exists</p>",
        "id": 534660890,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267416
    },
    {
        "content": "<p>Oh I see, it makes <code>c</code> into a function of <code>x</code>? Surely there are other less slick ways to cook this up?</p>",
        "id": 534660899,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755267420
    },
    {
        "content": "<p>here you can play with it</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Calculus</span><span class=\"bp\">.</span><span class=\"n\">Deriv</span><span class=\"bp\">.</span><span class=\"n\">Inv</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Analysis</span><span class=\"bp\">.</span><span class=\"n\">Calculus</span><span class=\"bp\">.</span><span class=\"n\">Deriv</span><span class=\"bp\">.</span><span class=\"n\">MeanValue</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">Set</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">Pointwise</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">}</span>\n\n<span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"n\">HasDerivAt</span>\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">lhopital_zero_right_on_Ioo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hff'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HasDerivAt</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hgg'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">HasDerivAt</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hg'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hfa</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"o\">[</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hga</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"o\">[</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">))</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">hdiv</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"o\">[</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"o\">[</span><span class=\"bp\">&gt;</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚äÜ</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">Ioo_subset_Ioo</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">le_refl</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">le_of_lt</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">hg</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Tendsto</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"o\">[</span><span class=\"bp\">&lt;</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">      </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin_Ioo_eq_nhdsLT</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">]</span>\n<span class=\"w\">      </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"n\">hgg'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">continuousAt</span><span class=\"bp\">.</span><span class=\"n\">continuousWithinAt</span><span class=\"bp\">.</span><span class=\"n\">mono</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">tendsto</span>\n<span class=\"w\">    </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"bp\">‚ü®</span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hyx</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"bp\">‚ü©</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">      </span><span class=\"n\">exists_hasDerivAt_eq_zero'</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">hga</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hgg'</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hy</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">hg'</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hyx</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">hy</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">‚àÉ</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">    </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">sub_zero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">sub_zero</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)]</span>\n<span class=\"w\">    </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">exists_ratio_hasDerivAt_eq_ratio_slope'</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hgg'</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">hff'</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">sub</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">hy</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">hga</span><span class=\"w\"> </span><span class=\"n\">hfa</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">tendsto_nhdsWithin_of_tendsto_nhds</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hgg'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">continuousAt</span><span class=\"bp\">.</span><span class=\"n\">tendsto</span><span class=\"o\">)</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">tendsto_nhdsWithin_of_tendsto_nhds</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hff'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">continuousAt</span><span class=\"bp\">.</span><span class=\"n\">tendsto</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">choose!</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x'</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">f'</span><span class=\"w\"> </span><span class=\"n\">x'</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">g'</span><span class=\"w\"> </span><span class=\"n\">x'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚àò</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">grind</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">cmp</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">‚àß</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hc</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">1</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚Üê</span><span class=\"w\"> </span><span class=\"n\">nhdsWithin_Ioo_eq_nhdsGT</span><span class=\"w\"> </span><span class=\"n\">hab</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">tendsto_nhdsWithin_congr</span><span class=\"w\"> </span><span class=\"n\">this</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">hdiv</span><span class=\"bp\">.</span><span class=\"n\">comp</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"n\">tendsto_nhdsWithin_of_tendsto_nhds_of_eventually_within</span><span class=\"w\"> </span><span class=\"bp\">_</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">tendsto_of_tendsto_of_tendsto_of_le_of_le'</span><span class=\"w\"> </span><span class=\"n\">tendsto_const_nhds</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">tendsto_nhdsWithin_of_tendsto_nhds</span><span class=\"w\"> </span><span class=\"n\">tendsto_id</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">?_</span>\n<span class=\"w\">  </span><span class=\"n\">all_goals</span>\n<span class=\"w\">    </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">eventually_nhdsWithin_of_forall</span>\n<span class=\"w\">    </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">    </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">cmp</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">hx</span>\n<span class=\"w\">    </span><span class=\"n\">try</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">    </span><span class=\"n\">linarith</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">this</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 534660994,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267455
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534660890\">said</a>:</p>\n<blockquote>\n<p>it's a forall followed by an exists</p>\n</blockquote>\n<p>Right, as I said previously, for now, I would want the students to use <code>specialize</code> until they get to the <code>‚àÉ</code>. The <code>choose!</code> is a slick way of getting a function <code>c (x)</code>. There are other ways to do it. Anyway, I'm still at Level 1, and this stuff is all much later in the Game...</p>",
        "id": 534661338,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755267591
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534661338\">said</a>:</p>\n<blockquote>\n<p>There are other ways to do it.</p>\n</blockquote>\n<p>I really don't think there are any other ways...</p>",
        "id": 534661600,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267694
    },
    {
        "content": "<p>you have to use the axiom of choice somewhere</p>",
        "id": 534661848,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267804
    },
    {
        "content": "<p>for that argument</p>",
        "id": 534661855,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267807
    },
    {
        "content": "<p>Yes, you can do it in an ugly way via <code>let c : ‚Ñù ‚Üí ‚Ñù := by ...</code> (which will need <code>choice</code> because it's a <code>let</code>), and then prove <code>hc</code> directly. But again, this is much more complicated than what I'm doing in this Level. So I'm satisfied with <code>choose</code> as an alternative to <code>obtain</code>.</p>",
        "id": 534662151,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755267918
    },
    {
        "content": "<p>oh ok</p>",
        "id": 534662170,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755267927
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> I think filling in the matrix for Level 3 already is useful. Because you might have to deal with more commas and angle brackets there. I claim this is really a 3-dim matrix 2x2x2.</p>",
        "id": 534681845,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1755276108
    },
    {
        "content": "<p>I guess I have in mind:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚àß</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\land q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àß</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚à®</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\lor q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à®</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>‚ä¢</strong></td>\n<td><del><code>constructor</code></del> <code>split_ands</code></td>\n<td><code>left</code> / <code>right</code> / ...</td>\n</tr>\n<tr>\n<td><strong>Hypothesis</strong></td>\n<td><code>h.1</code> / <code>h.2</code></td>\n<td><del><code>by_cases</code></del> <del><code>obtain</code></del> <code>cases'</code></td>\n</tr>\n</tbody>\n</table>\n<p>For some reason, the bottom-right entry again seems the toughest; there are more things to discuss there... I guess maybe I'll eventually go full-blown</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">hP</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">hQ</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n</code></pre></div>\n<p>or maybe</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"k\">obtain</span><span class=\"w\"> </span><span class=\"n\">hP</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">hQ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">h</span>\n</code></pre></div>\n<p>But at first, I think doing something like <code>by_cases hP : p</code> will get things started (then <code>have := h.resolve_left hP</code> in the second goal). I'm definitely saving this discussion for later in the semester, after they've had some more familiarity... It'll take a lot of work/thought to get this right...</p>",
        "id": 534721278,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755298146
    },
    {
        "content": "<p>nah, the <code>obtain hP | hQ := h</code> syntax is so much better than messing with <code>by_cases</code>. I guess I'll go with that.</p>",
        "id": 534721337,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755298197
    },
    {
        "content": "<p>or maybe I'll make custom syntax, something like: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">cases_on</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">hP</span><span class=\"w\"> </span><span class=\"n\">hQ</span>\n</code></pre></div>\n<p>which is an <code>abbrev</code> for <code>obtain hP | hQ := h</code>? Any advice?</p>",
        "id": 534721453,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755298322
    },
    {
        "content": "<p>I think some context that I missed <span class=\"user-mention\" data-user-id=\"252920\">@Alex Kontorovich</span> is that the goal of this is to support an analysis course (I didn't understand this from \"introductory pedagogical perspective\" ‚Äî that didn't trigger \"math class, but has Lean\" for me, and instead I thought you meant something like introducing Lean to mathematicians, where I couldn't see why you'd want to obscure some of the ways the language is trying to be consistent <em>for</em> a different kind of pedagogical reason, sorry!)</p>\n<p>For this, it makes a lot of sense to me to try to find a \"line-noise free\" language in Lean, that doesn't take learning where the commas, brackets, and arrows go. That's a lot of cognitive overhead, especially for students who likely have not programmed before. Maybe a framing is you want a \"<a href=\"https://en.wikipedia.org/wiki/Logo_(programming_language)\">Logo</a> for Lean\"?</p>\n<p>There are still some Lean-3-style tactics that might be useful here, for example your <code>cases_on h using hP hQ</code> should be <code>cases' h with hP hQ</code>. It's possible to override the built-in <code>cases</code> completely too to use this syntax.</p>\n<p>Do you think students will be wanting to transition to normal Lean? Would they get frustrated that they're learning an artificial version of Lean? (What about students who are using LLMs to help, and the LLM doesn't know this variant ‚Äî¬†do you want to support them, or is it OK if that frustrates them?)</p>",
        "id": 534722099,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1755298899
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.60obtain.60.20syntax/near/534662151\">said</a>:</p>\n<blockquote>\n<p>So I'm satisfied with <code>choose</code> as an alternative to <code>obtain</code>.</p>\n</blockquote>\n<p>In fact, using <code>choose</code> instead of <code>obtain</code> will save your students from the usual \"Exists.rec can't eliminate into Type\" error message</p>",
        "id": 534725055,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755302307
    },
    {
        "content": "<p>But they'll still have that problem for <code>Or</code></p>",
        "id": 534725067,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755302327
    },
    {
        "content": "<p>Should <code>choose</code> learn to handle <code>Or</code> too?</p>",
        "id": 534725088,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1755302356
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534721278\">said</a>:</p>\n<blockquote>\n<p>I guess I have in mind:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚àß</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\land q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚àß</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n<th><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>‚à®</mo><mi>q</mi></mrow><annotation encoding=\"application/x-tex\">p \\lor q</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.75em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">p</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">‚à®</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">q</span></span></span></span></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>‚ä¢</strong></td>\n<td><code>constructor</code></td>\n<td><code>left</code> / <code>right</code> / ...</td>\n</tr>\n<tr>\n<td><strong>Hypothesis</strong></td>\n<td><code>h.1</code> / <code>h.2</code></td>\n<td><del><code>by_cases</code></del> <code>obtain</code></td>\n</tr>\n</tbody>\n</table>\n</blockquote>\n<p><code>and_intros</code> might be slightly easier for students to understand than <code>constructor</code> for the top left (and it scales better when there are more than two conjuncts).  <code>obtain</code> or <code>have</code> also works for the bottom left.</p>",
        "id": 534729827,
        "sender_full_name": "Terence Tao",
        "timestamp": 1755308548
    },
    {
        "content": "<p>From the POV of \"Let's have natural English verbs\" <code>constructor</code> is also quite terrible.</p>",
        "id": 534733223,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1755312607
    },
    {
        "content": "<p>Yes, I greatly preferred <code>split</code>, which sadly no longer exists...</p>",
        "id": 534735155,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755315140
    },
    {
        "content": "<p>Good point about <code>and_intros</code>, instead of multiple <code>constructor</code> calls, thanks! I wonder if I can make <code>split</code> an <code>abbrev</code> for <code>and_intros</code>...?</p>",
        "id": 534735238,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755315260
    },
    {
        "content": "<p>I guess <code>split</code> is taken, so maybe <code>split'</code>?</p>",
        "id": 534735254,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755315295
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.60obtain.60.20syntax/near/534735155\">said</a>:</p>\n<blockquote>\n<p>Yes, I greatly preferred <code>split</code>, which sadly no longer exists...</p>\n</blockquote>\n<p>It doesn't no longer exist, it just does something else</p>",
        "id": 534735326,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755315435
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534722099\">said</a>:</p>\n<blockquote>\n<p>Do you think students will be wanting to transition to normal Lean? Would they get frustrated that they're learning an artificial version of Lean? (What about students who are using LLMs to help, and the LLM doesn't know this variant ‚Äî¬†do you want to support them, or is it OK if that frustrates them?)</p>\n</blockquote>\n<p>This is a really good and important point. My goals and priorities are: (1) first and foremost, the students should learn Real Analysis; if Lean is getting in the way, I'm prepared to abandon the experiment half-way through the semester and go back to pure blackboard; (2) but my hope is that, if I can set things up right, then using Lean will actually accelerate their understanding of the subject, and their training will make them even more accurate/precise at writing proofs; so their having experience with a theorem prover is a second subgoal; and (3) ideally, they like it and pick it up, and should have an easy time transitioning (if necessary) to working on Mathlib; so it's ok, as far as I'm concerned, to make slight variations on standard Mathlib usage - those that get proficient at it in my course will have a small amount of rewiring to do for the \"real thing\". At least that's how I'm thinking about things now. Happy to have more advice, I'm really getting a lot out of this discussion -- thanks to all!</p>",
        "id": 534735611,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755315951
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534735326\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/stream/287929-mathlib4/topic/.60obtain.60.20syntax/near/534735155\">said</a>:</p>\n<blockquote>\n<p>Yes, I greatly preferred <code>split</code>, which sadly no longer exists...</p>\n</blockquote>\n<p>It doesn't no longer exist, it just does something else</p>\n</blockquote>\n<p><code>split_ands</code> seems to already be effectively an abbrev for <code>and_intros</code>, as far as I can tell</p>",
        "id": 534735880,
        "sender_full_name": "Terence Tao",
        "timestamp": 1755316430
    },
    {
        "content": "<p>By the way, I think these matrices are a great pedagogical device.  One could continue them for other types of statements; for instance, implications would have<code>intro</code> in the goal row and <code>apply</code> in the hypothesis row, iffs would have <code>constructor</code> in the goal row and <code>rw</code> in the hypothesis row, and so forth.</p>",
        "id": 534736391,
        "sender_full_name": "Terence Tao",
        "timestamp": 1755317048
    },
    {
        "content": "<p>Yes! I think <code>apply</code> will appear in World 4 or 5, so it'll be time for another matrix by then... </p>\n<p>By the way, here's a first look at an early prototype for World 1, which aims to train the first matrix (with many thanks to <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span> for helping getting it online!): </p>\n<p><a href=\"https://adam.math.hhu.de/#/g/joneugster/RealAnalysisGame\">https://adam.math.hhu.de/#/g/joneugster/RealAnalysisGame</a> </p>\n<p>Comments/suggestions are very welcome!</p>",
        "id": 534737720,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755318784
    },
    {
        "content": "<p>One thing to take into account: there's a reasonable chance your students will end up on here with their questions, and the more custom the dialect, the harder it will be for them to get help</p>",
        "id": 534741600,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1755324244
    },
    {
        "content": "<p>Bug report <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> <br>\n<a href=\"/user_uploads/3121/oe5nWLuvGwokeWq8T-o1VZTR/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/oe5nWLuvGwokeWq8T-o1VZTR/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1186x326\" src=\"/user_uploads/thumbnail/3121/oe5nWLuvGwokeWq8T-o1VZTR/image.png/840x560.webp\"></a></div>",
        "id": 534743459,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1755326659
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"252920\">Alex Kontorovich</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534735611\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534722099\">said</a>:</p>\n<blockquote>\n<p>Do you think students will be wanting to transition to normal Lean? Would they get frustrated that they're learning an artificial version of Lean? (What about students who are using LLMs to help, and the LLM doesn't know this variant ‚Äî¬†do you want to support them, or is it OK if that frustrates them?)</p>\n</blockquote>\n<p>This is a really good and important point. My goals and priorities are: (1) first and foremost, the students should learn Real Analysis; if Lean is getting in the way, I'm prepared to abandon the experiment half-way through the semester and go back to pure blackboard; </p>\n</blockquote>\n<p>I‚Äôm sorry about the self-advertisement, but if your main goal is to learn real analysis then I need to ask: did you seriously considered using Verbose Lean instead? It is made for exactly this purpose and is meant to solve all the issues you discussed. The only thing it doesn‚Äôt do is to teach usual Lean tactics. But you could argue that it‚Äôs much less frustrating to switch to a completely different tactic language than to a subtly different language that will break at completely unexpected moments.</p>",
        "id": 534747408,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755331336
    },
    {
        "content": "<p>Yes, I thought about and tried Verbose (of which I'm a big fan!); I have no idea what I'm doing in terms of the technical side, and have just been iterating with Claude to get this far - Claude managed to help me get a lean4game up and running locally (and then Jon helped get it running online, which is still a work in progress), but it seemed too much to ask to get Claude to make both a lean4game <em>and</em> one that uses Verbose. Unless there's an easy way to do it (without constantly bothering you, <span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span>? Claude knows a lot of Lean, but probably not a lot of Verbose)?</p>",
        "id": 534761767,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755349827
    },
    {
        "content": "<p>Another thing is that I'm hoping a number of the Real Analysis students will come to our Lean seminar, so then it'd be better for them to just learn the real syntax... Tradeoffs everywhere, no solutions!...</p>",
        "id": 534761938,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755350062
    },
    {
        "content": "<p>I think you would go a lot faster by learning all this instead of asking Claude.</p>",
        "id": 534784109,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755377775
    },
    {
        "content": "<p>What do you want from the lean4game with respect to Verbose? Do you want the widgets? Or simply being able to use the tactics? There should be no problem at all with simply using the tactics.</p>",
        "id": 534784156,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755377842
    },
    {
        "content": "<p>About learning the real syntax: I went through this at the beginning. I was reluctant to even tweak the existing tactics. But then I realized this was completely pointless. If you really use Lean for teaching math without having the goal to train Lean experts then this is a completely virtual point. Since 2019 I got <em>one</em> student out of 300 who became a Lean user (and Mathlib maintainer).  And I think Heather briefly had one but then it went back to zero. This is completely different from what you can expect from a Lean club like Kevin does.</p>",
        "id": 534784312,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755378059
    },
    {
        "content": "<p>Also, about the tables, I had those from the beginning too. The first one looked like <br>\n<a href=\"/user_uploads/3121/WNVRoSZSI8CPaE9CsEVx53se/tactiques.pdf\">tactiques.pdf</a><br>\nand this is indeed very useful. Note however a crucial point is one column is called \"Proving\" and the other one is called \"Using\". The \"using\" word is a much better name that ‚Äúhypothesis‚Äù because it can take an arbitrary expression, not necessarily a local assumption.</p>",
        "id": 534784451,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755378281
    },
    {
        "content": "<p>Also the goal symbol in your table could be misinterpreted as meaning you can use this tactic whenever the logical operator appears <em>anywhere</em> in the goal.</p>",
        "id": 534785000,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755379023
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.60obtain.60.20syntax/near/534784109\">said</a>:</p>\n<blockquote>\n<p>I think you would go a lot faster by learning all this instead of asking Claude.</p>\n</blockquote>\n<p>I think you underestimate just how much less tech savvy I am than you! My choice is not between using Claude or learning how to do things \"properly\"; my choice is: use Claude, or don't even try to do anything at all. I can supply the math content, and if Claude can handle the technical side, then I have a chance...</p>",
        "id": 534794202,
        "sender_full_name": "Alex Kontorovich",
        "timestamp": 1755395082
    },
    {
        "content": "<p>I wasn‚Äôt born tech savvy, I learned all that. I‚Äôm pretty sure your brain could handle that (unless Claude and its friends already did too much damage).</p>",
        "id": 534809179,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1755417784
    }
]