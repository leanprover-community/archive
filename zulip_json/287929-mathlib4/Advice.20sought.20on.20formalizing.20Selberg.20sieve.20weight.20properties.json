[
    {
        "content": "<p>Hello everyone,</p>\n<p>I’m an independent researcher working on a formalization project in Lean 4 related to sieve methods in analytic number theory. My goal is to rigorously verify properties of Selberg sieve weights used to study prime pairs.</p>\n<p>At this stage, I’m focusing on formalizing the Selberg sieve weights themselves — specifically:</p>\n<ul>\n<li>\n<p>Their definition based on squarefree divisors and Möbius and Euler totient functions</p>\n</li>\n<li>\n<p>Basic properties like non-negativity, boundedness, and support only on certain divisor sets</p>\n</li>\n<li>\n<p>Handling of sieve level parameters <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>D</mi><mo>=</mo><mo stretchy=\"false\">⌊</mo><msup><mi>N</mi><mi>θ</mi></msup><mo stretchy=\"false\">⌋</mo></mrow><annotation encoding=\"application/x-tex\">D = \\lfloor N^\\theta \\rfloor</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0991em;vertical-align:-0.25em;\"></span><span class=\"mopen\">⌊</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8491em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">θ</span></span></span></span></span></span></span></span><span class=\"mclose\">⌋</span></span></span></span></p>\n</li>\n</ul>\n<p>Below is a minimal snippet illustrating the current definition and a simple lemma about non-negativity:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Nat.Prime</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Data.Fintype.Basic</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">sieveLevel</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">θ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Nat.floor</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">θ</span><span class=\"o\">)</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">selbergWeight</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"bp\">∑</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">Squarefree</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"bp\">∣</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">μ</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">φ</span><span class=\"w\"> </span><span class=\"n\">d</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n\n<span class=\"kd\">lemma</span><span class=\"w\"> </span><span class=\"n\">selbergWeight_nonneg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">selbergWeight</span><span class=\"w\"> </span><span class=\"n\">D</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"w\"> </span><span class=\"n\">pow_two_nonneg</span>\n</code></pre></div>\n<p>I’d appreciate any pointers on:</p>\n<ul>\n<li>\n<p>Existing Mathlib lemmas or tactics to help with proving support and boundedness</p>\n</li>\n<li>\n<p>Best practices for handling dynamic parameters like sieve levels in Lean</p>\n</li>\n<li>\n<p>Relevant prior formalizations of sieve methods or analytic weights</p>\n</li>\n</ul>\n<p>Thank you very much for your help!</p>",
        "id": 531013729,
        "sender_full_name": "Bob Jefferson",
        "timestamp": 1753568837
    },
    {
        "content": "<p>Please use 3 <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a> to ensure that your code is properly formatted.</p>",
        "id": 531014169,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753569039
    },
    {
        "content": "<p>Are you aware of the work on sieves in <a href=\"https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/\">https://github.com/AlexKontorovich/PrimeNumberTheoremAnd/</a> ?</p>",
        "id": 531017277,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1753570581
    },
    {
        "content": "<p>Hi, thanks so much for pointing me to Alex Kontorovich’s Prime Number Theorem repository — this looks like a very promising resource!</p>\n<p>I plan to review the analytic number theory arguments there, especially around sieve bounds, Mertens-type sums, and error term estimates, as these are exactly the areas where my current formalization needs reinforcement.</p>\n<p>If anyone here has experience working with this repo or formalizing similar analytic results in Lean 4, I’d love to hear about your approaches or any tips you might share.</p>\n<p>Meanwhile, I will explore how to adapt some of these classical results into constructive, machine-verified lemmas to replace the placeholders in my project.</p>\n<p>Thanks again for the pointer — this community is invaluable!</p>",
        "id": 531020578,
        "sender_full_name": "Bob Jefferson",
        "timestamp": 1753572215
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"585783\">@Arend Mellendijk</span></p>",
        "id": 531025496,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753574592
    },
    {
        "content": "<p>We have a dedicated channel for the PNT project at <a class=\"stream\" data-stream-id=\"423402\" href=\"/#narrow/channel/423402-PrimeNumberTheorem.2B\">#PrimeNumberTheorem+</a> , which would be a logical place to make more specific inquiries.</p>\n<p>We did import some Selberg sieve machinery from <a href=\"https://github.com/FLDutchmann/selberg-sieve4/tree/1f56eaf10bdf7c2e4808e42b40e1a7e947490917\">https://github.com/FLDutchmann/selberg-sieve4/tree/1f56eaf10bdf7c2e4808e42b40e1a7e947490917</a> at one point, but currently I believe we do not use that dependency.  But the code there may be more directly useful for your own project.</p>",
        "id": 531026069,
        "sender_full_name": "Terence Tao",
        "timestamp": 1753574864
    },
    {
        "content": "<p>Dear Professor Tao,</p>\n<p>Thank you very much for your kind response and for pointing me toward the #PrimeNumberTheorem+ channel — I will certainly join there to continue more focused discussions.</p>\n<p>I appreciate the reference to the Selberg sieve code by FLDutchmann. I’ll study that repository closely, as it may indeed provide useful components or inspiration for strengthening the analytic and sieve-theoretic aspects of my Lean formalization project.</p>\n<p>Your guidance is invaluable, and I look forward to engaging further with the community in the dedicated channel.</p>\n<p>Thank you again for your time and support.</p>",
        "id": 531027066,
        "sender_full_name": "Bob Jefferson",
        "timestamp": 1753575359
    }
]