[
    {
        "content": "<p>Is it hard to write a linter (or modify <code>simps</code>) so that <code>@[to_additive, simps]</code> generates a warning/error?</p>",
        "id": 325930441,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675589583
    },
    {
        "content": "<p>As far as I understand, <code>@[to_additive, simps]</code> doesn't work as it is used to work in mathlib3, and we should use <code>to_additive (attr := simps)</code> instead.</p>",
        "id": 325930493,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675589622
    },
    {
        "content": "<p>I thought that it already linted on this?</p>",
        "id": 325930587,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1675589654
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span></p>",
        "id": 325930597,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1675589662
    },
    {
        "content": "<p>I fix many of these in <a href=\"https://github.com/leanprover-community/mathlib4/pull/2073\">!4#2073</a> but I'm not sure that I didn't miss some.</p>",
        "id": 325930605,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675589667
    },
    {
        "content": "<p><code>@[simp, to_additive]</code> generates a warning, <code>@[to_additive, simps]</code> doesn't.</p>",
        "id": 325930630,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675589687
    },
    {
        "content": "<p>We indeed don't generate a linter warning for <code>@[to_additive, simps]</code> (yet?), since the warnings are implemented as part of <code>to_additive</code>.<br>\nI fix many of these occurrences in <a href=\"https://github.com/leanprover-community/mathlib4/pull/1819\">!4#1819</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/1885\">!4#1885</a> (though I didn't go systematically though all occurrences of <code>@[to_additive, simps]</code> yet). Those PRs are awaiting review for 1-2 weeks.</p>",
        "id": 325942209,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675595763
    },
    {
        "content": "<p>Note that <a href=\"https://github.com/leanprover-community/mathlib4/pull/1819\">!4#1819</a> turns the messages into actual linter errors, so you won't miss any of the ones that we are testing for. I'm also happy to modify <code>simps</code> so that it generates a linter error for <code>@[to_additive, simps]</code> (after some of my current refactors of the two attributes have been merged).</p>",
        "id": 325943459,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675596269
    },
    {
        "content": "<p>I'm sorry for duplicating effort. I should've searched github before starting my PR.</p>",
        "id": 325943643,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675596349
    },
    {
        "content": "<p>Which one do you prefer to merge first?</p>",
        "id": 325943846,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675596466
    },
    {
        "content": "<p>If we merge mine first, then I'm ready to merge new <code>master</code> into your branches.</p>",
        "id": 325944016,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675596551
    },
    {
        "content": "<p>About your PRs, I can't review meta code...</p>",
        "id": 325944050,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675596570
    },
    {
        "content": "<p>I think it's fine to merge them in any order. The merge conflicts shouldn't be hard (especially since you didn't fix the warnings in Mathlib/Algebra/Group/OrderSynonym.lean and Mathlib/Data/Pi/Algebra.lean, which required the new features of <a href=\"https://github.com/leanprover-community/mathlib4/pull/1819\">!4#1819</a></p>",
        "id": 325944417,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675596702
    },
    {
        "content": "<p>I merged yours</p>",
        "id": 325944582,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1675596790
    }
]