[
    {
        "content": "<p>In the CGT repo I've defined surreal cuts as a particular case of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Concept#doc\">docs#Concept</a>, so as to get the complete lattice instance for free. However, the <code>extent</code> and <code>intent</code> terminology makes no sense in this context (pun unintended), so I've defined a type alias, as well as aliases <code>left = extent</code> and <code>right = intent</code>. Is there any way I could configure the <code>simps</code> tactic so as to respect them?</p>\n<p>Here's a toy example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Simps</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">Foo'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Foo</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Foo'</span><span class=\"bp\">.</span><span class=\"n\">baz</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"bp\">.</span><span class=\"n\">bar</span>\n\n<span class=\"c1\">-- How do I tell `simps` to call the lemma `myFoo'_baz` instead?</span>\n<span class=\"kd\">@[</span><span class=\"n\">simps!</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">myFoo'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"mi\">0</span><span class=\"bp\">⟩</span>\n</code></pre></div>",
        "id": 567933316,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768381914
    },
    {
        "content": "<p>I seem to recall a command called something like <code>initialize_simps_projection</code>, which by name alone I'm guessing might do what you want?</p>",
        "id": 567934792,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1768382435
    },
    {
        "content": "<p>I have never used it though, so I could very well be wrong</p>",
        "id": 567934878,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1768382462
    },
    {
        "content": "<p>Still, I suspect that the attribute will have trouble not looking through the <code>abbrev</code></p>",
        "id": 567935088,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1768382528
    },
    {
        "content": "<p>If it's needed I could just use a <code>def</code> rather than an <code>abbrev</code>, and declare the complete lattice instance I want manually.</p>",
        "id": 567935212,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768382572
    },
    {
        "content": "<p>I'm also aware of <code>initialize_simps_projection</code>, and I'm also completely unaware of what it does.</p>",
        "id": 567935305,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1768382600
    },
    {
        "content": "<p><code>initialize_simps_projections Foo (bar → baz)</code></p>",
        "id": 567939629,
        "sender_full_name": "Christian Merten",
        "timestamp": 1768384007
    }
]