[
    {
        "content": "<p>It is great that <code>LinearMap.ker</code> is defined to accommodate any type in <code>SemilinearMapClass</code>. However, in actual use, it appears to be missing a congr lemma, for when its argument may be of a different type but is the same underlying function. For example (<a href=\"https://github.com/leanprover-community/mathlib4/pull/30595\">#30595</a>), I needed this additional line</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ker</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ContinuousLinearMap</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">ker</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">LinearMap</span><span class=\"bp\">.</span><span class=\"n\">fst</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>in order to apply a rewrite with <code>LinearMap.ker_fst</code>.</p>\n<p>Adding congr lemmas for <code>LinearMap.ker</code> would also mean adding it for <code>LinearMap.range</code>, and perhaps their underlying <code>Submodule.comap</code> and <code>Submodule.map</code>. Since this is somewhat core to the algebra library, I'd like to make sure it's not an <a href=\"https://en.wikipedia.org/wiki/XY_problem\">#xy</a> problem.</p>",
        "id": 545418523,
        "sender_full_name": "Winston Yin (å°¹ç¶­æ™¨)",
        "timestamp": 1760638253
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"416472\">Winston Yin (å°¹ç¶­æ™¨)</span> <a href=\"#narrow/channel/287929-mathlib4/topic/LinearMap.2Eker.20congr.20lemmas/near/545418523\">said</a>:</p>\n<blockquote>\n<p>It is great that <code>LinearMap.ker</code> is defined to accommodate any type in <code>SemilinearMapClass</code>.</p>\n</blockquote>\n<p>It is not so great at all for precisely the reason you mention! There's ongoing work to \"ungeneralise\" it</p>",
        "id": 545418697,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1760638314
    },
    {
        "content": "<p>Oh thank you. In that case, I will leave my code the way it is?</p>",
        "id": 545418822,
        "sender_full_name": "Winston Yin (å°¹ç¶­æ™¨)",
        "timestamp": 1760638352
    },
    {
        "content": "<p>And is there a thread that discusses this <code>ungeneralisation</code>?</p>",
        "id": 545418886,
        "sender_full_name": "Winston Yin (å°¹ç¶­æ™¨)",
        "timestamp": 1760638372
    },
    {
        "content": "<p>Yes there is, but in the secret reviewers stream unfortunately (we wanted to get all reviewers on board before discussing it more broadly)</p>",
        "id": 545419076,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1760638429
    },
    {
        "content": "<p>is this about \"kernel (congruence)\" vs \"kernel (submodule)\"?</p>",
        "id": 545439184,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1760646387
    },
    {
        "content": "<p>No</p>",
        "id": 545440404,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760646916
    },
    {
        "content": "<p>It's about the kernel of a linear map, for multiple related but not identical formal interpretations of \"linear map\"</p>",
        "id": 545440496,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1760646957
    },
    {
        "content": "<p>ah</p>",
        "id": 545441247,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1760647297
    }
]