[
    {
        "content": "<p>I wish to start a new mathlib branch and start with the status of another, existing branch, but would like to avoid that the new branch has all the informations about its origin. <br>\n(The new branch would only be merged after the first one.)<br>\nIs there a <code>git</code> command that would do that?</p>",
        "id": 512613358,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744823959
    },
    {
        "content": "<p><code>git switch</code> to the branch you want and then <code>git branch</code></p>",
        "id": 512613835,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744824027
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> <a href=\"#narrow/channel/287929-mathlib4/topic/new.20branch.20based.20on.20another.20branch/near/512613358\">said</a>:</p>\n<blockquote>\n<p>but would like to avoid that the new branch has all the informations about its origin. </p>\n</blockquote>\n<p>Sorry, I don't understand what you mean by this.</p>",
        "id": 512614345,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744824110
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> <a href=\"#narrow/channel/287929-mathlib4/topic/new.20branch.20based.20on.20another.20branch/near/512613358\">said</a>:</p>\n<blockquote>\n<p>would like to avoid that the new branch has all the informations about its origin</p>\n</blockquote>\n<p>What do you mean by this?</p>",
        "id": 512614349,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744824110
    },
    {
        "content": "<p>What I knew how to do is opening a new branch <code>git checkout -b …</code> and then <code>git merge oldBranch</code>. Then all the history appears in the new branch.</p>",
        "id": 512614966,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824197
    },
    {
        "content": "<p>You want the git log to start at the base (eg master) of the branch?</p>",
        "id": 512615299,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1744824245
    },
    {
        "content": "<p>No, I would like to start with an empty git log.</p>",
        "id": 512615446,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824267
    },
    {
        "content": "<p>But maybe, this is “yes”.</p>",
        "id": 512615493,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824277
    },
    {
        "content": "<p>Oh <code>git checkout --orphan</code> should work (Edit: if you want an empty git log)</p>",
        "id": 512615574,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1744824290
    },
    {
        "content": "<p>But I suspect there is a better answer if the problem is proscribed more</p>",
        "id": 512616349,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1744824410
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> <a href=\"#narrow/channel/287929-mathlib4/topic/new.20branch.20based.20on.20another.20branch/near/512615446\">said</a>:</p>\n<blockquote>\n<p>No, I would like to start with an empty git log.</p>\n</blockquote>\n<p>Then you won't know who did what when</p>",
        "id": 512616896,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744824487
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span> would you be happy of you have</p>\n<ul>\n<li>history of master</li>\n<li>1 single commit with all the changes of <code>oldBranch</code></li>\n<li>the new commits on your new branch</li>\n</ul>",
        "id": 512617115,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744824520
    },
    {
        "content": "<p>Something like that. I just opened <a href=\"https://github.com/leanprover-community/mathlib4/tree/ACL-J%2FJordan\">branch#ACL-J/Jordan</a> and github shows all the history of <a href=\"https://github.com/leanprover-community/mathlib4/tree/ACL-J%2FMultiplePrimitivity\">branch#ACL-J/MultiplePrimitivity</a>, which is a burden</p>",
        "id": 512617594,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824594
    },
    {
        "content": "<p>Also... I don't know <em>why</em> you want to get rid of the original history. If the final intent is to merge <code>newBranch</code> back into master, then git will be much happier if you keep the history around.</p>",
        "id": 512617624,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744824599
    },
    {
        "content": "<p>Maybe you want to do <em>stacked diffs</em>?</p>",
        "id": 512617817,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744824619
    },
    {
        "content": "<p>Sadly, github doesn't support that</p>",
        "id": 512617884,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1744824629
    },
    {
        "content": "<p>If you believe this is not a nuisance, I'll be happy with that!</p>",
        "id": 512617994,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824645
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> has marked this topic as resolved.</p>",
        "id": 512618075,
        "sender_full_name": "Notification Bot",
        "timestamp": 1744824659
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span> That second branch doesn't seem to exist...</p>",
        "id": 512618142,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744824671
    },
    {
        "content": "<p>because there was a typo, sorry… (I corrected it above)</p>",
        "id": 512618427,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824718
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span> Is this helpful: <a href=\"https://github.com/leanprover-community/mathlib4/compare/ACL-J/MultiplePrimitivity...ACL-J/Jordan\">https://github.com/leanprover-community/mathlib4/compare/ACL-J/MultiplePrimitivity...ACL-J/Jordan</a></p>",
        "id": 512619411,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744824867
    },
    {
        "content": "<p>Yes. That shows the only file that I added from the initial branch!</p>",
        "id": 512619617,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1744824902
    },
    {
        "content": "<p>You can select the base branch of the comparison, using <br>\n<a href=\"/user_uploads/3121/bV_atsWv1FRxgja30cjIAXh4/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/bV_atsWv1FRxgja30cjIAXh4/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"745x189\" src=\"/user_uploads/thumbnail/3121/bV_atsWv1FRxgja30cjIAXh4/image.png/840x560.webp\"></a></div>",
        "id": 512619682,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744824916
    }
]