[
    {
        "content": "<p>We currently have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"bp\">.</span><span class=\"n\">coe_iSup</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SupSet</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">BddAbove</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">↑</span><span class=\"o\">(</span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WithTop</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>and in a project of mine I felt the need to defined</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">WithBot</span><span class=\"bp\">.</span><span class=\"n\">coe_iSup_OrderTop</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">SupSet</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">OrderTop</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">↑</span><span class=\"o\">(</span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">WithBot</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">WithBot</span><span class=\"bp\">.</span><span class=\"n\">coe_iSup</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">OrderTop</span><span class=\"bp\">.</span><span class=\"n\">bddAbove</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">range</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">))</span>\n</code></pre></div>\n<p>which I was about to PR.</p>\n<p>Based on the docs at <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/ConditionallyCompleteLattice/Basic.html\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/ConditionallyCompleteLattice/Basic.html</a> which state</p>\n<blockquote>\n<p>To differentiate the statements between complete lattices and conditionally complete lattices, we prefix <code>sInf</code> and <code>sSup</code> in the statements by <code>c</code>, giving <code>csInf</code> and <code>csSup</code>. For instance, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/CompleteLattice.html#sInf_le\"><code>sInf_le</code></a> is a statement in complete lattices ensuring <code>sInf s ≤ x</code>, while <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/ConditionallyCompleteLattice/Basic.html#csInf_le\"><code>csInf_le</code></a> is the same statement in conditionally complete lattices with an additional assumption that <code>s</code> is bounded below.</p>\n</blockquote>\n<p>So it seems that the existing <code>WithTop.coe_iSup</code> should be called <code>WithTop.coe_ciSup</code>, and my lemma should be <code>WithTop.coe_iSup</code>? Or am I missing something here?</p>",
        "id": 456575712,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1722866252
    },
    {
        "content": "<p>Ah, there is a <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> I guess that means that I’m not wrong, and that therefore this PR is helpful?<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/15560\">https://github.com/leanprover-community/mathlib4/pull/15560</a></p>\n<p>Yuck</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">::</span><span class=\"n\">ERR</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"bp\">=</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">ConditionallyCompleteLattice</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">,</span><span class=\"n\">line</span><span class=\"bp\">=</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">code</span><span class=\"bp\">=</span><span class=\"n\">ERR_NUM_LIN</span><span class=\"bp\">::</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span><span class=\"bp\">/</span><span class=\"n\">ConditionallyCompleteLattice</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">ERR_NUM_LIN</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">contains</span><span class=\"w\"> </span><span class=\"mi\">1705</span><span class=\"w\"> </span><span class=\"n\">lines</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">most</span><span class=\"w\"> </span><span class=\"mi\">1700</span><span class=\"w\"> </span><span class=\"n\">allowed</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">try</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">split</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">up</span>\n</code></pre></div>\n<p>I don’t feel confident enough about mathlib to make a judgement call on how to split this up.</p>",
        "id": 456882490,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1722957268
    },
    {
        "content": "<p>This is the \"common\" use-case and you should feel completely entitled to add a linter exception to silence the linter!</p>",
        "id": 456885723,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722958039
    },
    {
        "content": "<p>There has been much talk of making the linter suggest to add the exception more prominently, but I am not sure what the status of that change is.</p>",
        "id": 456885878,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722958081
    }
]