[
    {
        "content": "<p>Two questions:</p>\n<ol>\n<li>Could someone explain the design decision to have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Category#doc\">docs#CategoryTheory.Category</a> universe polymorphic over <code>Type</code> (as opposed to <code>Sort</code>)?</li>\n<li>Given this decision, what is the best way to work with categories whose morphisms are in <code>Prop</code>? It seems the choices are to do some lifting (like in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Preorder.smallCategory#doc\">docs#Preorder.smallCategory</a>) or refactor to use <code>Type</code>.</li>\n</ol>",
        "id": 526847743,
        "sender_full_name": "Chris Henson",
        "timestamp": 1751476602
    },
    {
        "content": "<p>I'm not a developer but I would explain it by saying that Prop is a really \"weak\" universe and we usually think of morphisms as having \"data\"</p>",
        "id": 526848529,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1751476876
    },
    {
        "content": "<p>You can always <code>PLift</code> into a type</p>",
        "id": 526849185,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1751477152
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"687698\">Chris Henson</span> <a href=\"#narrow/channel/287929-mathlib4/topic/categories.20with.20morphisms.20in.20Prop/near/526847743\">said</a>:</p>\n<blockquote>\n<ol>\n<li>what is the best way to work with categories whose morphisms are in <code>Prop</code>?</li>\n</ol>\n</blockquote>\n<p>You should (probably) put a <code>Preorder</code> instance on such a category and use the results in the file <code>Mathlib.CategoryTheory.Category.Preorder</code></p>",
        "id": 526849471,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1751477262
    },
    {
        "content": "<p>Note: a few people (not me) have tried to allow morphisms in categories to be in <code>Sort v</code> instead of <code>Type v</code>, but it failed because of subtleties about universes in Lean.</p>",
        "id": 526851463,
        "sender_full_name": "Joël Riou",
        "timestamp": 1751478116
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/categories.20with.20morphisms.20in.20Prop/near/526849471\">said</a>:</p>\n<blockquote>\n<p>You should (probably) put a <code>Preorder</code> instance on such a category and use the results in the file <code>Mathlib.CategoryTheory.Category.Preorder</code></p>\n</blockquote>\n<p>This is interesting. The context here is that my morphisms are typing derivations (for various locally nameless formalizations of lambda calculi I've done). So it feels a bit odd to define a preorder on them, but maybe this is the best way to use an existing API?</p>",
        "id": 526852038,
        "sender_full_name": "Chris Henson",
        "timestamp": 1751478360
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/stream/287929-mathlib4/topic/categories.20with.20morphisms.20in.20Prop/near/526851463\">said</a>:</p>\n<blockquote>\n<p>Note: a few people (not me) have tried to allow morphisms in categories to be in <code>Sort v</code> instead of <code>Type v</code>, but it failed because of subtleties about universes in Lean.</p>\n</blockquote>\n<p>Would anyone who has attempted this be able to talk a bit more about the universe issues they encountered? Is this because of (non) cumulative universes or something more subtle?</p>",
        "id": 528136054,
        "sender_full_name": "Chris Henson",
        "timestamp": 1752170924
    },
    {
        "content": "<p>IIRC the last time we tried to make the switch was in the Lean 3 days so it might be the case that the data coming from an answer to why it failed is no longer relevant</p>",
        "id": 528153873,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1752179022
    },
    {
        "content": "<p>I tried this change years ago <a href=\"https://github.com/leanprover-community/mathlib3/pull/1256\">here</a>. There is a small amount of information about what broke. It seems like something to do with the fact that categories arising from preorders are no longer \"small\" by Lean's definition of <code>small_category</code> at the time. I guess maybe that made it harder to take limits over these diagrams because some categories only have \"small\" limits. But this is something to do with the funny definition of <code>small_category</code> which is that the homs and the objects live in the same universe, which isn't really what determines if we can take limits. I may be completely wrong about what the issues were there, but that is my guess.</p>",
        "id": 528156259,
        "sender_full_name": "Chris Hughes",
        "timestamp": 1752180180
    },
    {
        "content": "<p>There is more information and some links in this thread: <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/.E2.9C.94.20Universe.20Restriction.20on.20CategoryTheory.2ECategory/with/479780171\">#new members &gt; ✔ Universe Restriction on CategoryTheory.Category</a></p>",
        "id": 528286569,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1752221911
    }
]