[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>[7897/7898] Built MathlibTest.propose (327s)\n</code></pre></div>\n<p>Is this expected? (see <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/19513898080/job/55860475312?pr=25856\">here</a>.)</p>",
        "id": 558290582,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1763582134
    },
    {
        "content": "<p>Has it always been like this? I can think of any recent changes that would have slowed this down.</p>",
        "id": 558312570,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763589994
    },
    {
        "content": "<p>Does anyone actually use <code>have?</code>? I have never heard a report of people finding it useful.</p>",
        "id": 558313149,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763590210
    },
    {
        "content": "<p>It is an analogue of <code>rw?</code> and <code>apply?</code>. However it was never upstreamed from Mathlib to lean. Unlike those, it does not use a lazy discrimination tree (nor a cache), so on the first invocation it needs to index the entire library. After that it is fast.</p>\n<p>Possible solutions:</p>\n<ul>\n<li>Someone adopts it and switches to using the same lazy initialization mechanism that <code>rw?</code> and <code>apply?</code> use. (This should not be particularly difficult for someone with a little metaprogramming. In fact I wouldn't be surprised if Claude could do this these days.)</li>\n<li>We deprecate and remove it.</li>\n</ul>",
        "id": 558313537,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1763590346
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.22test.20mathlib.22.20step.20is.20slow.20in.20CI/near/558312570\">said</a>:</p>\n<blockquote>\n<p>Has it always been like this? I can think of any recent changes that would have slowed this down.</p>\n</blockquote>\n<p>I didn't notice this (and this ~5 minute wait <em>is</em> rather noticeable when you are watching CI) before (i.e., a few weeks ago when my previous PR was in the works).</p>",
        "id": 558419923,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1763642565
    },
    {
        "content": "<p>I've filed <a href=\"https://github.com/leanprover-community/mathlib4/pull/32053\">#32053</a> to propose disabling the test for now. Medium-term, either the test should be sped up or <code>have?</code> removed --- but holding up every bors run until we have made a decision does not sound reasonable.</p>",
        "id": 559043121,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1763990583
    },
    {
        "content": "<p>I noticed this yesterday as well and for a while I thought that the <code>have?</code> tactic  is just broken. I find it hard to believe that anyone is using the tactic if it takes 5 minutes to warm up on first use.</p>",
        "id": 559045014,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1763991072
    },
    {
        "content": "<blockquote>\n<p>chore: delete Mathlib.Tactic.Propose <a href=\"https://github.com/leanprover-community/mathlib4/pull/32083\">#32083</a></p>\n</blockquote>",
        "id": 560062853,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1764042624
    }
]