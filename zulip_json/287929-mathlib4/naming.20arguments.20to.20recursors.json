[
    {
        "content": "<p>In <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Induction.20argument.20order/near/471521389\">#mathlib4 &gt; Induction argument order @ ðŸ’¬</a> it was decided that the \"motive\" argument should be called <code>motive</code>. But what about the other arguments? What should they be called?</p>\n<p>Here's a random sample of some declarations that I would consider to be \"recursors\":</p>\n<ul>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=mabs_by_cases#doc\">docs#mabs_by_cases</a></li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.induction_with_natDegree_le#doc\">docs#Polynomial.induction_with_natDegree_le</a></li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Paths.induction_fixed_target#doc\">docs#CategoryTheory.Paths.induction_fixed_target</a></li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.recOnMul#doc\">docs#Nat.recOnMul</a></li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RingTheory.Sequence.IsWeaklyRegular.ndrecIterModByRegular#doc\">docs#RingTheory.Sequence.IsWeaklyRegular.ndrecIterModByRegular</a></li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Function.Iterate.rec#doc\">docs#Function.Iterate.rec</a></li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Surreal.lift#doc\">docs#Surreal.lift</a></li>\n</ul>",
        "id": 514705941,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745805539
    },
    {
        "content": "<p>I think the rough guideline is \"pretend this was the recursor generated by an inductive type, and so name the arguments in the recursor as you would the constructors in the inductive type\"</p>",
        "id": 514709804,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745808282
    },
    {
        "content": "<p>the names you choose matter: they get used for naming new goals, and they are also the labels for <code>with</code> branches to <code>cases</code> and <code>induction</code></p>",
        "id": 514738431,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745824984
    },
    {
        "content": "<p>So that's something to keep in mind</p>",
        "id": 514738483,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745825011
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20arguments.20to.20recursors/near/514709804\">said</a>:</p>\n<blockquote>\n<p>I think the rough guideline is \"pretend this was the recursor generated by an inductive type, and so name the arguments in the recursor as you would the constructors in the inductive type\"</p>\n</blockquote>\n<p>What do this mean for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Surreal.lift#doc\">docs#Surreal.lift</a>, which is a \"quotient recursor\"?</p>",
        "id": 514776144,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745835942
    },
    {
        "content": "<p>ah, but that's not really a recursor</p>",
        "id": 514777382,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745836353
    },
    {
        "content": "<p>in the sense that there is no motive</p>",
        "id": 514777518,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745836395
    },
    {
        "content": "<p>or at least, it seems to me like there isn't any?</p>",
        "id": 514777583,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745836415
    },
    {
        "content": "<p>Yeah, that's more (half of) a universal property than a recursor</p>",
        "id": 514780510,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745837352
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20arguments.20to.20recursors/near/514777518\">said</a>:</p>\n<blockquote>\n<p>in the sense that there is no motive</p>\n</blockquote>\n<p>I analyzed this as a non-dependent recursor in which the motive <code>{Î± : Sort*}</code> is not allowed to depend on the major premise <code>(_ : Surreal)</code></p>",
        "id": 514781945,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745837832
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20arguments.20to.20recursors/near/514780510\">said</a>:</p>\n<blockquote>\n<p>Yeah, that's more (half of) a universal property than a recursor</p>\n</blockquote>\n<p>That's what a recursor is, right? It's (half of) a universal property</p>",
        "id": 514781994,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745837854
    },
    {
        "content": "<p>Anyways, even if you don't think <code>Surreal.lift</code> counts as a recursor, there are plenty more that follow this pattern. What about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiset.rec#doc\">docs#Multiset.rec</a>, then? Surely that's a recursor.</p>",
        "id": 514782129,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745837894
    },
    {
        "content": "<p>I think using \"major\" and  some variation of \"minor&lt;constructor&gt;\" would make sense when applicable. The minor premises are usually anonymous in the type, but last I checked the iota rules just use the constructor name which is a little bit of a hit to readability (even though they're sort of hidden).</p>",
        "id": 514785473,
        "sender_full_name": "Chris Bailey",
        "timestamp": 1745838882
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"228466\">Chris Bailey</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20arguments.20to.20recursors/near/514785473\">said</a>:</p>\n<blockquote>\n<p>I think using \"major\" and  some variation of \"minor&lt;constructor&gt;\" would make sense when applicable. The minor premises are usually anonymous in the type, but last I checked the iota rules just use the constructor name which is a little bit of a hit to readability (even though they're sort of hidden).</p>\n</blockquote>\n<p>When you do <code>induction x using Foo.rec with</code>, the alternatives are named according to the minor premises.</p>",
        "id": 514785821,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745838985
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/91299a5d996b85599cc9ad65528b9d4427988138/Mathlib/Algebra/Group/Defs.lean#L508-L511\">Here's</a> an example of this pattern, which is why they need to have names that make sense.</p>",
        "id": 514786517,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745839193
    },
    {
        "content": "<p>Also, sometimes there can be more than one major premise, for example in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.recDiag#doc\">docs#Nat.recDiag</a> both <code>m</code> and <code>n</code> are major premises.</p>",
        "id": 514852045,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745856273
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"228466\">Chris Bailey</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20arguments.20to.20recursors/near/514785473\">said</a>:</p>\n<blockquote>\n<p>I think using \"major\" and  some variation of \"minor&lt;constructor&gt;\" would make sense when applicable.</p>\n</blockquote>\n<p>This also doesn't answer what I should name the <code>C_cons_heq</code> argument of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiset.rec#doc\">docs#Multiset.rec</a>.</p>",
        "id": 514852435,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745856387
    },
    {
        "content": "<p><code>C_0</code> and <code>C_cons</code> should be called <code>zero</code> and <code>cons</code></p>",
        "id": 514859924,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745858720
    },
    {
        "content": "<p><code>C_cons_heq</code> I guess is emulating a quotient-inductive type, so maybe <code>sound</code> (referring to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Quotient.sound#doc\">docs#Quotient.sound</a>) or <code>cons_sound</code> is appropriate?</p>",
        "id": 514860068,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745858771
    },
    {
        "content": "<p>Sure! This seems like the correct naming if I'm thinking of <code>Multiset</code> as a higher inductive type. What other quotient-inductive recursors, like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Quotient.hrecOnâ‚‚#doc\">docs#Quotient.hrecOnâ‚‚</a>? Should <code>Ï†</code> be replaced with <code>motive</code>, <code>f</code> be replaced with <code>mk</code>, and <code>c</code> be replaced with <code>sound</code>?</p>",
        "id": 514863023,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745859657
    },
    {
        "content": "<p>Also, what should the major premises be named?</p>",
        "id": 514864518,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745860099
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20arguments.20to.20recursors/near/514860068\">said</a>:</p>\n<blockquote>\n<p><code>C_cons_heq</code> I guess is emulating a quotient-inductive type, so maybe <code>sound</code> (referring to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Quotient.sound#doc\">docs#Quotient.sound</a>) or <code>cons_sound</code> is appropriate?</p>\n</blockquote>\n<p>The theorem is called <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiset.cons_swap#doc\">docs#Multiset.cons_swap</a>, so maybe <code>cons_swap</code>?</p>",
        "id": 514865705,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1745860479
    },
    {
        "content": "<p>In my opinion you really only need to care about the minor premises and the motive specifically (naming them like constructors and well, <code>motive</code>). For major premises just use whatever name is typical for the type or whatever or just go with a single letter (recursors for inductive types use the name <code>t</code> by default iirc). Side conditions, such as the <code>C_cons_heq</code> can just be called as if they were just regular proofs, e.g. <code>h</code> is probably fine. Regarding <code>Quotient.hrecOn</code> and variants: using the names <code>motive</code> and <code>mk</code> would probably be better here, <code>c</code> can be <code>h</code> or whatever (although I may note that this function is not really usable with <code>induction</code> / <code>cases</code> so it's less relevant to change things).</p>",
        "id": 514877014,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1745864263
    }
]