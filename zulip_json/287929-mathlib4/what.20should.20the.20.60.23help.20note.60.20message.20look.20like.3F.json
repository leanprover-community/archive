[
    {
        "content": "<p>in the discussion on <a href=\"https://github.com/leanprover-community/batteries/pull/948\">batteries#948</a> , we were discussing how <code>#help note \"some label\"</code> should format library notes. We would like some input or opinions as to what would be preferred.<br>\nthis is what a message from <code>#help note \"te\"</code> currently might look like:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>library_note \"temporary note\"\n/-\n1: This is a testnote whose label also starts with \"te\", but gets sorted before \"test\"\n-/\n\nlibrary_note \"test\"\n/-\n1: This is a testnote for testing the library note feature of batteries.\nThe `#help note` command should be able to find this note when imported.\n-/\n\n/-\n2: This is a second testnote for testing the library note feature of batteries.\n-/\n\n/-\n3: this is a note in a different file importing the above testnotes,\nbut still imported by the actual testfile.\n-/\n\n/-\n4: This note was not imported, and therefore appears below the imported notes.\n-/\n\n/-\n5: This note was also not imported, and therefore appears below the imported notes,\nand the previously added note.\n-/\n</code></pre></div>\n<p>note the heading with <code>library_note \"label\"</code> for each matching label, and the delineation with <code>/-</code> and <code>-/</code> of individual notes.</p>",
        "id": 477706677,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729275152
    },
    {
        "content": "<p>Ideally the note would be markdown-rendered</p>",
        "id": 477706766,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729275198
    },
    {
        "content": "<p>i'd like to note that the above code block is merely the text that the command generates as an info message, whether it gets rendered using markdown is afaik not up to the command...</p>",
        "id": 477707077,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729275333
    },
    {
        "content": "<p>I believe info messages can contain widgets</p>",
        "id": 477709049,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729276193
    },
    {
        "content": "<p>no they cannot</p>",
        "id": 477736479,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729286640
    },
    {
        "content": "<p>widgets appear as separate things from messages</p>",
        "id": 477736541,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729286657
    },
    {
        "content": "<p>this is one of the reasons <code>Try this</code> produces two message-like things with slightly different formatting</p>",
        "id": 477736563,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729286677
    },
    {
        "content": "<p>Then why is <code>Lean.MessageData.ofWidget</code> a thing?</p>",
        "id": 477740013,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729288727
    },
    {
        "content": "<p>...it wasn't a thing not long ago, maybe things have changed while I was not looking</p>",
        "id": 477740289,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729288867
    },
    {
        "content": "<p>seems to have been merged <a href=\"https://github.com/leanprover/lean4/commit/ec59e7a2c091040d3d2d53191ea2d7f9591cbfb8\">in May</a></p>",
        "id": 477740458,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729288950
    },
    {
        "content": "<p>while try this main implementation was <a href=\"https://github.com/leanprover-community/batteries/pull/130\">May 2023</a></p>",
        "id": 477740704,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1729289070
    },
    {
        "content": "<p>Yes, sorry, I should have mentioned that. I agree that \"Try this\" used what was available at the time.</p>",
        "id": 477741194,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1729289334
    },
    {
        "content": "<p>i think markdown may be in scope down the line, for now we'd like to know what people think the pure text version should look like...</p>",
        "id": 477901408,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729435378
    },
    {
        "content": "<p>or at least, right now my goal is just to get any version of this merged into batteries, and if people think making it look nice is important enough, that can be added later.</p>",
        "id": 477903512,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729437290
    },
    {
        "content": "<p>having done a bit of digging, it doesn't seem like there is a preexisting widget for displaying something as markdown in the infoview...</p>",
        "id": 477909966,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729442975
    },
    {
        "content": "<p>and i don't think i'd be the best person for writing such a widget.</p>",
        "id": 477910238,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1729443189
    }
]