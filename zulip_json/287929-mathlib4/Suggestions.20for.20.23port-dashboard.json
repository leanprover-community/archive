[
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/port.20progress/near/324899181\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110789\">Jakob von Raumer</span> <a href=\"#narrow/stream/287929-mathlib4/topic/port.20progress/near/324894844\">said</a>:</p>\n<blockquote>\n<p>Having the PR tags on <code>mathlib-port-status</code> would be a cool feature, to quickly see where help is needed</p>\n</blockquote>\n<p>PRs to <a href=\"https://github.com/leanprover-community/mathlib-port-status\">https://github.com/leanprover-community/mathlib-port-status</a> are welcome :).</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib-port-status/pull/2\">https://github.com/leanprover-community/mathlib-port-status/pull/2</a></p>",
        "id": 325026994,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1675203047
    },
    {
        "content": "<p>Also, it would be nice to ignore <code>default.lean</code> files on <a href=\"https://leanprover-community.github.io/mathlib-port-status/old\">https://leanprover-community.github.io/mathlib-port-status/old</a></p>",
        "id": 325036553,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1675206463
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"313038\">Moritz Firsching</span> <a href=\"#narrow/stream/287929-mathlib4/topic/port.20progress/near/325026994\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/port.20progress/near/324899181\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110789\">Jakob von Raumer</span> <a href=\"#narrow/stream/287929-mathlib4/topic/port.20progress/near/324894844\">said</a>:</p>\n<blockquote>\n<p>Having the PR tags on <code>mathlib-port-status</code> would be a cool feature, to quickly see where help is needed</p>\n</blockquote>\n<p>PRs to <a href=\"https://github.com/leanprover-community/mathlib-port-status\">https://github.com/leanprover-community/mathlib-port-status</a> are welcome :).</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib-port-status/pull/2\">https://github.com/leanprover-community/mathlib-port-status/pull/2</a></p>\n</blockquote>\n<p>This is now live:</p>\n<p><a href=\"/user_uploads/3121/ACrKHHYDznSD73FLLw7KQNTz/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ACrKHHYDznSD73FLLw7KQNTz/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/ACrKHHYDznSD73FLLw7KQNTz/image.png\"></a></div>",
        "id": 325108962,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675245203
    },
    {
        "content": "<p>Really nice! And very useful!<br>\nOne minor issue: the yellow labels are really hard to read</p>",
        "id": 325109264,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675245280
    },
    {
        "content": "<p>Yeah, ideally we'd copy the CSS from github which has a bunch of computation to choose appropriate transparency / text color</p>",
        "id": 325109420,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675245314
    },
    {
        "content": "<p>PRs remain welcome, but I figured getting ugly labels merged ASAP was better than waiting for pretty labels</p>",
        "id": 325109490,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675245331
    },
    {
        "content": "<p>Can we please have it on <a href=\"https://leanprover-community.github.io/mathlib-port-status/old\">https://leanprover-community.github.io/mathlib-port-status/old</a> too?</p>",
        "id": 325110253,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1675245520
    },
    {
        "content": "<p>That's a bit harder because the code that generates <code>old</code> throws away the PR number information</p>",
        "id": 325110573,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675245589
    },
    {
        "content": "<p>(instead it keeps around some plaintext that sometimes contains <code>mathlib4#...</code>)</p>",
        "id": 325110700,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675245610
    },
    {
        "content": "<p>While you're there, do we need the PR number twice for all the in progress files?</p>",
        "id": 325120592,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1675248335
    },
    {
        "content": "<p>That's a bug in <a href=\"https://github.com/leanprover-community/mathlib-tools/blob/master/mathlibtools/file_status.py\">https://github.com/leanprover-community/mathlib-tools/blob/master/mathlibtools/file_status.py</a></p>",
        "id": 325121519,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675248577
    },
    {
        "content": "<p>It computes <code>comments</code> incorrectly</p>",
        "id": 325121575,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675248594
    },
    {
        "content": "<p>24 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/stream/287929-mathlib4/topic/port.20progress\">#mathlib4 &gt; port progress</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 325121872,
        "sender_full_name": "Notification Bot",
        "timestamp": 1675248680
    },
    {
        "content": "<p>I added a diagram to explain a little better what's going on at <a href=\"https://github.com/leanprover-community/mathlib-port-status/blob/main/README.md\">https://github.com/leanprover-community/mathlib-port-status/blob/main/README.md</a></p>",
        "id": 325127961,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675250477
    },
    {
        "content": "<p>Ideally we would eliminate <code>run_port_status.sh</code> and have <code>port_wiki</code> be an output of mathlib-port-status</p>",
        "id": 325133768,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675251998
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-status/near/325109264\">said</a>:</p>\n<blockquote>\n<p>Really nice! And very useful!<br>\nOne minor issue: the yellow labels are really hard to read</p>\n</blockquote>\n<p><a href=\"https://github.com/leanprover-community/mathlib-port-status/pull/5\">https://github.com/leanprover-community/mathlib-port-status/pull/5</a><br>\nI tried to do approximately what is done on github regarding the color of the text of the labels...<br>\n<a href=\"/user_uploads/3121/Hw6ExEmoai6i3XHdcusIkLPN/bwlabels.png\">bwlabels.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Hw6ExEmoai6i3XHdcusIkLPN/bwlabels.png\" title=\"bwlabels.png\"><img src=\"/user_uploads/3121/Hw6ExEmoai6i3XHdcusIkLPN/bwlabels.png\"></a></div>",
        "id": 325187486,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1675264946
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-status/near/325110253\">said</a>:</p>\n<blockquote>\n<p>Can we please have it on <a href=\"https://leanprover-community.github.io/mathlib-port-status/old\">https://leanprover-community.github.io/mathlib-port-status/old</a> too?</p>\n</blockquote>\n<p>Really seems like this is slighly harder to do. Is there something that can be improved in the new port status change to make it more useful for you?</p>",
        "id": 325188394,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1675265138
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"313038\">@Moritz Firsching</span> Thanks!  Yes, I'd like the categorization on \"new\" port-status to be the same as the categorization on \"old\" port-status, with the first category to be \"ready-to-port\" (defined as \"all dependencies ported\", whether or there is an open PR).</p>",
        "id": 325432894,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1675353261
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> can you explain why?</p>",
        "id": 325433759,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675353492
    },
    {
        "content": "<p>Currently, I find the top 10 of the top two categories in \"new\" quite useful</p>",
        "id": 325433853,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675353518
    },
    {
        "content": "<p>The first one shows the top 10 ports that are in progress, the second one the top 10 that are ready to be ported</p>",
        "id": 325434013,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675353566
    },
    {
        "content": "<p>(Both are (default) sorted by the number of files that depend on that item, which is the most useful sort in my opinion.)</p>",
        "id": 325434122,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675353595
    },
    {
        "content": "<p>Should port-status also show counterexamples/archive?</p>",
        "id": 325434754,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1675353735
    },
    {
        "content": "<p>In my opinion, we want to encourage people to think of the \"ready-to-port\" (all dependencies ported) files as a unit, and to jump in on the highest priority ones whether there's an open PR that needs extra hands or a file which needs a PR to be started.  It's hard to judge the relative importance of two such files when they are not on the same list (I have to read and compare the number of dependencies).</p>",
        "id": 325434952,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1675353774
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> I guess we can add those, but it's not high priority. All those files are leaves of the import tree.</p>",
        "id": 325434978,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675353781
    },
    {
        "content": "<p>Does mathlib3port even include countexamples/archives?</p>",
        "id": 325435046,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675353796
    },
    {
        "content": "<p>A weak argument for separate tables is that some columns only make sense for things with a PR</p>",
        "id": 325435341,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675353857
    },
    {
        "content": "<p>If someone is scanning through a table of \"ready-to-port\" files, they will still want to be able to see which ones have PRs open and which don't, so the (fairly narrow) columns for PR number and labels convey information even when they're empty.</p>",
        "id": 325435773,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1675353950
    },
    {
        "content": "<p>I think I prefer Heather's format if and only if we can separate out files we want to ignore into a separate list (e.g., <code>.default</code> or other things we decide we're not going to port). This already clutters the \"ready to port\" list.</p>",
        "id": 325437602,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1675354356
    },
    {
        "content": "<p>Ideally <a href=\"https://github.com/leanprover-community/mathlib4/wiki/port-comments\">#port-comments</a> would have a boolean <code>not_for_porting</code> flag</p>",
        "id": 325437735,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675354399
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span>, if I make a change to <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/scripts/run_port_status.sh\">https://github.com/leanprover-community/mathlib4/blob/master/scripts/run_port_status.sh</a> willl your server pick it up automatically?</p>",
        "id": 325438548,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675354600
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> usually</p>",
        "id": 325439086,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675354748
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-status/near/325437735\">said</a>:</p>\n<blockquote>\n<p>Ideally <a href=\"https://github.com/leanprover-community/mathlib4/wiki/port-comments\">#port-comments</a> would have a boolean <code>not_for_porting</code> flag</p>\n</blockquote>\n<p>Now done, this contains a <code>should_port: false</code></p>",
        "id": 325447841,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675357100
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-status/near/325120592\">said</a>:</p>\n<blockquote>\n<p>While you're there, do we need the PR number twice for all the in progress files?</p>\n</blockquote>\n<p>Fixed by not using <code>mathlibtools</code> any more, and instead getting the data from the new more structured yaml file. The readme diagram has been updated to explain the added spaghetti.</p>",
        "id": 325526384,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675385119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> should the <code>port-graph-bot</code> (PDFs) and <code>port-progress-bot</code> (stats) also be added to that diagram?</p>",
        "id": 325537665,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675392142
    },
    {
        "content": "<p>They need <code>mathlibtools</code> and hence the old wiki-yaml file...</p>",
        "id": 325537689,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675392170
    },
    {
        "content": "<p>Yes</p>",
        "id": 325537846,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675392296
    },
    {
        "content": "<p>But I don't know enough about them to add that</p>",
        "id": 325537879,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675392316
    },
    {
        "content": "<p>Feel free to push changes to the readme, you can preview the graphvis-ish syntax on the GitHub web editor</p>",
        "id": 325538001,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675392378
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> <a href=\"https://github.com/leanprover-community/mathlib-port-status/pull/8\">https://github.com/leanprover-community/mathlib-port-status/pull/8</a> but it doesn't compile.</p>",
        "id": 325539109,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675393219
    },
    {
        "content": "<p>I think graph is a reserved word for the node id</p>",
        "id": 325539299,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675393364
    },
    {
        "content": "<p>So, what does mermaid suggest? That we write <code>garph</code> or <code>grahp</code> instead?</p>",
        "id": 325539358,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675393430
    },
    {
        "content": "<p>graf, or in \"klass\"ic python style, graph_</p>",
        "id": 325540701,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1675394626
    },
    {
        "content": "<p>It's just a node <em>id</em>, it doesn't matter what you write as it doesn't appear in the output</p>",
        "id": 325583081,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675417074
    },
    {
        "content": "<p>I pushed a fix, but the node text doesn't make any sense at the moment as it assumed that the node id was also rendered</p>",
        "id": 325583866,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675417314
    },
    {
        "content": "<p>The \"possibly out of sync\" file list is now sortable by number of out-of-sync mathlib3 PRs, and by size of diff:</p>\n<p><a href=\"/user_uploads/3121/fpLXSmu6NEjpnn9oOmurf4vz/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/fpLXSmu6NEjpnn9oOmurf4vz/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/fpLXSmu6NEjpnn9oOmurf4vz/image.png\"></a></div>",
        "id": 325675405,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675442332
    },
    {
        "content": "<p>Great! Do the \"green plus\" and \"red minus\" just mean expand/collapse?</p>",
        "id": 325676399,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675442571
    },
    {
        "content": "<p>Ok... I was hoping it was some magic prediction about how much effort it was to sync the file <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span></p>",
        "id": 325676514,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675442608
    },
    {
        "content": "<p>It is; the prediction is \"oh it's easy\" until you see the diff, then its \"oh, this is harder\"</p>",
        "id": 325676963,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675442723
    },
    {
        "content": "<p>Thanks for building this tooling!</p>",
        "id": 325677093,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1675442753
    },
    {
        "content": "<p>I think this tooling isn't enough to start working through the list, but it's probably enough to help work out what tooling we really need; but let's have that discussion <a href=\"#narrow/stream/287929-mathlib4/topic/Out.20of.20sync.20files/near/325676836\">in this thread</a>.</p>",
        "id": 325677497,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1675442863
    },
    {
        "content": "<p>I've made some tweaks to the dependency graphs now; see <a href=\"https://leanprover-community.github.io/mathlib-port-status/file/data/complex/basic\">port-status#data/complex/basic</a>. Better before</p>\n<p><a href=\"/user_uploads/3121/GskfDSYbxwYYPkmGR1HYtmeT/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/GskfDSYbxwYYPkmGR1HYtmeT/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/GskfDSYbxwYYPkmGR1HYtmeT/image.png\"></a></div><p>or after? (live at the moment)</p>\n<p><a href=\"/user_uploads/3121/uePKmJy7nEoJJC5ayF7vXGJv/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/uePKmJy7nEoJJC5ayF7vXGJv/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/uePKmJy7nEoJJC5ayF7vXGJv/image.png\"></a></div>",
        "id": 327380605,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676206557
    },
    {
        "content": "<p>What do all the colors mean?</p>",
        "id": 327381673,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1676207076
    },
    {
        "content": "<p>They're just to help you follow the lines</p>",
        "id": 327382032,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676207262
    },
    {
        "content": "<p>(but also they're just the default behavior in the template I copied)</p>",
        "id": 327382155,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676207315
    },
    {
        "content": "<p>Maybe I should do that with hover behavior instead</p>",
        "id": 327382260,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676207375
    },
    {
        "content": "<p>yeah the colors are misleading</p>",
        "id": 327384132,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1676208261
    },
    {
        "content": "<p>Is there any point showing the ported ancestors on the graph anyway?</p>",
        "id": 327385565,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676208949
    },
    {
        "content": "<p>Oh, I tricked myself into thinking that <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/stream/287929-mathlib4/topic/port.20progress\">#mathlib4 &gt; port progress</a> does it, but it doesn't</p>",
        "id": 327385778,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676209040
    },
    {
        "content": "<p>it used to</p>",
        "id": 327387704,
        "sender_full_name": "Reid Barton",
        "timestamp": 1676209910
    },
    {
        "content": "<p>Ok, colors removed; now looks like this</p>\n<p><a href=\"/user_uploads/3121/3NtS_VGlGLUC8vYoIzfGXjBj/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/3NtS_VGlGLUC8vYoIzfGXjBj/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/3NtS_VGlGLUC8vYoIzfGXjBj/image.png\"></a></div>",
        "id": 327393622,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1676212550
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> <a href=\"https://leanprover-community.github.io/mathlib-port-status/file/order/with_bot\">https://leanprover-community.github.io/mathlib-port-status/file/order/with_bot</a> shows \"last sync\" at 995b47e5 but it also shows <a href=\"https://github.com/leanprover-community/mathlib4/pull/2406\">!4#2406</a> mathlib 4 commit which changed the mathlib 3 commit to afdb4fa3</p>",
        "id": 338055386,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1677355619
    },
    {
        "content": "<p>Did I do something wrong in <a href=\"https://github.com/leanprover-community/mathlib4/pull/2406\">!4#2406</a>?</p>",
        "id": 338055443,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1677355645
    },
    {
        "content": "<p>Last sync refers to the yaml file</p>",
        "id": 338055456,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677355656
    },
    {
        "content": "<p>Which can be a few minutes behind</p>",
        "id": 338055466,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677355665
    },
    {
        "content": "<p>Merged 13h ago</p>",
        "id": 338055539,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1677355695
    },
    {
        "content": "<p>I think the yaml file is having caching problems</p>",
        "id": 338055576,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677355713
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> reported this to me privately a few days ago for something unrelated</p>",
        "id": 338055613,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677355740
    },
    {
        "content": "<p>BTW, <a href=\"https://github.com/leanprover-community/mathlib4/pull/2498\">!4#2498</a></p>",
        "id": 338056280,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1677356101
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span>, that PR forward-ports changes that <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> and I already had forward-port PRs open for</p>",
        "id": 338323226,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677503539
    },
    {
        "content": "<p>I think reviewing existing forward-ports should take priority over trying to find things that we forgot to forward port</p>",
        "id": 338323294,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677503560
    },
    {
        "content": "<p>I'm sorry. These files were not highlighted as \"in progress\" on <a href=\"https://leanprover-community.github.io/mathlib-port-status/out-of-sync\">https://leanprover-community.github.io/mathlib-port-status/out-of-sync</a> , so I assumed that it's safe to deal with them.</p>",
        "id": 338341354,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1677507988
    },
    {
        "content": "<p>\"in progress\" means \"a PR with an initial port of a file is already out of date even though it's not merged yet\"</p>",
        "id": 338343518,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677508437
    },
    {
        "content": "<p>Evidently I need to use a less confusing label for it</p>",
        "id": 338343725,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677508460
    },
    {
        "content": "<p>Can you list PRs that touch the ported file if there are any?</p>",
        "id": 338354966,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1677510892
    },
    {
        "content": "<p>See the <a href=\"#narrow/stream/287929-mathlib4/topic/Out.20of.20sync.20files/near/336484329\">discussion in this thread</a>.</p>",
        "id": 338357169,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677511365
    },
    {
        "content": "<p>Done, thanks <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span>!</p>",
        "id": 338672341,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1677612077
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> There's a bug somewhere with the port status page. Right now it lists <code>data.mv_polynomial.{basic, rename, monad}</code> all with the PR data for <code>monad</code> only.</p>",
        "id": 341954239,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1678852254
    },
    {
        "content": "<p>The same happens with <code>linear_algebra.affine_space.affine_equiv</code> and the two PRs depending on it. The bug's been there for a while</p>",
        "id": 341954398,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1678852339
    },
    {
        "content": "<p>I guess, it lists a random PR that adds this file.</p>",
        "id": 341962519,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1678858729
    },
    {
        "content": "<p>There is an open issue about this I think. The port yaml file confuses dependent PRs.</p>",
        "id": 341986022,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1678868529
    },
    {
        "content": "<p>You need an algorithm that looks at a PR and decides which file(s) it is adding, and then find a partial inverse to that map.<br>\nThe current algorithm is certainly not doing a great job at that...</p>",
        "id": 341986632,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1678868698
    },
    {
        "content": "<p>A simple fix might just be to have a one-to-many mapping between files and PRs</p>",
        "id": 341986851,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1678868763
    },
    {
        "content": "<p>Then the algorithm can run in the head of the human reading the page</p>",
        "id": 341986921,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1678868780
    },
    {
        "content": "<p>Since PR titles for ported files are generated by the script, why not just use the name in the title? Ultimately if this is just for dependent PRs it's not that important though.</p>",
        "id": 342046889,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1678884557
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/master/scripts/make_port_status.py\">https://github.com/leanprover-community/mathlib4/blob/master/scripts/make_port_status.py</a> is the script that would need to change</p>",
        "id": 342047299,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1678884655
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-status/near/342046889\">said</a>:</p>\n<blockquote>\n<p>Since PR titles for ported files are generated by the script, why not just use the name in the title? Ultimately if this is just for dependent PRs it's not that important though.</p>\n</blockquote>\n<p>The problem is that dependent PRs hijack the entry of the non-dependent PR on the port status dashboard.</p>",
        "id": 342107035,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1678897458
    },
    {
        "content": "<p>I think using PR titles might be more robust. But they are not all formatted in the same way. So it would require a bit of string-fu.</p>",
        "id": 342107169,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1678897489
    },
    {
        "content": "<p>Picking early PR numbers over later PR numbers would probably be enough in 90% of cases</p>",
        "id": 342110626,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1678898266
    },
    {
        "content": "<p>Currently the first \"unported file\" in the port status page appears to be <code>algebra.category.Mon.basic</code>, but it is ported at <a href=\"https://github.com/leanprover-community/mathlib4/pull/2902\">!4#2902</a> It is due to a renaming <code>s/Mon/MonCat/</code></p>",
        "id": 343323588,
        "sender_full_name": "Joël Riou",
        "timestamp": 1679393143
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-status/near/343323588\">said</a>:</p>\n<blockquote>\n<p>Currently the first \"unported file\" in the port status page appears to be <code>algebra.category.Mon.basic</code></p>\n</blockquote>\n<p>Probably have the PR actually merged, and then it'll jump from unported to ported?</p>",
        "id": 343324044,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1679393277
    },
    {
        "content": "<p>Hmm, that is weird; it should definitely show up in the \"in progress\" section</p>",
        "id": 343326831,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679393947
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status\">https://github.com/leanprover-community/mathlib/wiki/mathlib4-port-status</a> says \"No\", so the fault is not the dashboard but the script generating its data</p>",
        "id": 343326951,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679393989
    },
    {
        "content": "<p>I think the script is using filename heuristics instead of reading the source header, which is obviously not the right thing to do</p>",
        "id": 343327113,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679394032
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/3015\">https://github.com/leanprover-community/mathlib4/pull/3015</a> might fix it; mind testing <span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span>?</p>",
        "id": 343328577,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679394357
    },
    {
        "content": "<p>Running a test...</p>",
        "id": 343349271,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1679399958
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> done. Please let me know whether you are happy with the output</p>",
        "id": 343349674,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1679400083
    },
    {
        "content": "<p>looks like it's working</p>",
        "id": 343353729,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1679401084
    },
    {
        "content": "<p><code>algebra.category.Mon.basic</code> is still 'no' on the port wiki</p>",
        "id": 343356380,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679401670
    },
    {
        "content": "<p>I guess the cron job rolled back your test?</p>",
        "id": 343356424,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679401681
    },
    {
        "content": "<p>(I was in a meeting, sorry)</p>",
        "id": 343356483,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679401688
    },
    {
        "content": "<p>yes, presumably the cron-job undid my test.</p>",
        "id": 343356641,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1679401721
    },
    {
        "content": "<p>But <a href=\"https://leanprover-community.github.io/mathlib-port-status\">#port-dashboard</a> looks fine (because it has 30m builds, instead of 5m builds)</p>",
        "id": 343356713,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1679401742
    },
    {
        "content": "<p>Oh, did you change the frequency of the cron job?</p>",
        "id": 343356916,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679401796
    },
    {
        "content": "<p>I agree it looks fine though; if this was going to fail, the failure mode would have been a totally empty list of \"in progress\" PRs</p>",
        "id": 343357106,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679401843
    },
    {
        "content": "<p>There's a nonexistent file currently showing as unported on the mathlib porting status page, <code>algebra.monoid_algebra.division</code></p>",
        "id": 343704370,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1679497399
    },
    {
        "content": "<p>I think you have to wait for mathport to run on that</p>",
        "id": 343705411,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1679497594
    },
    {
        "content": "<p>Yes, I only just created that file. <a href=\"https://leanprover-community.github.io/mathlib-port-status/file/algebra/monoid_algebra/division\">port-status#algebra/monoid_algebra/division</a></p>",
        "id": 343706048,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679497721
    },
    {
        "content": "<p>I've now added a comment telling you not to port it yet :)</p>",
        "id": 343739467,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679505412
    },
    {
        "content": "<p>Now there's a backlog of awaiting-review PRs, some of which will clear the way for even more files to be ported...</p>",
        "id": 343741113,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1679505810
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Suggestions.20for.20.23port-dashboard/near/343739467\">said</a>:</p>\n<blockquote>\n<p>I've now added a comment telling you not to port it yet :)</p>\n</blockquote>\n<p>It's worth noting that while it appears right at the top of the dashboard, it's not actually blocking anything at all</p>",
        "id": 343741524,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679505914
    },
    {
        "content": "<p>Because the file that imports it in mathlib3 doesn't import it (yet) in mathlib 4</p>",
        "id": 343741652,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679505951
    },
    {
        "content": "<p>Is that file ported/under porting?</p>",
        "id": 343741802,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1679505983
    },
    {
        "content": "<p><del>To answer my own question, no</del> I can't read</p>",
        "id": 343744178,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1679506614
    },
    {
        "content": "<p>There are two files that imports it; one is a leaf, and the other is already ported</p>",
        "id": 343744351,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1679506669
    },
    {
        "content": "<p>I guess I can't read.</p>",
        "id": 343744579,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1679506718
    },
    {
        "content": "<p>I wonder if the graphs could highlight the root nodes as well - right now they can be easily missed in the tangle. For example, matrix.to_lin is one here:</p>\n<p><a href=\"/user_uploads/3121/1OokGG3MUGxD85H24gr3UygJ/Screenshot-from-2023-04-20-13-35-30.png\">Screenshot-from-2023-04-20-13-35-30.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/1OokGG3MUGxD85H24gr3UygJ/Screenshot-from-2023-04-20-13-35-30.png\" title=\"Screenshot-from-2023-04-20-13-35-30.png\"><img src=\"/user_uploads/3121/1OokGG3MUGxD85H24gr3UygJ/Screenshot-from-2023-04-20-13-35-30.png\"></a></div><p>(second box under polynomial.quotient on the right)</p>",
        "id": 351296051,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1681990619
    },
    {
        "content": "<p>That's a good idea</p>",
        "id": 351297152,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1681990891
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib-port-status/file/ring_theory/algebraic#graph\">port-status#ring_theory/algebraic#graph</a></p>",
        "id": 351297324,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1681990926
    },
    {
        "content": "<p>On the other hand, its position tells you that we shouldn't worry about it nearly as much as the other nodes :)</p>",
        "id": 351297460,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1681990962
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"284160\">@Eric Rodriguez</span>, if you wanted to cleanup the docstrings in <code>to_lin</code> before porting, I recommend you do so soon!</p>",
        "id": 351297549,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1681990986
    },
    {
        "content": "<p>Too late :)</p>",
        "id": 351297702,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1681991037
    }
]