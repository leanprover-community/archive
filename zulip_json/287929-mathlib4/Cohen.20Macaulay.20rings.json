[
    {
        "content": "<p>This thread is for the announce that we have a project trying to develope <code>Cohen-Macaulay</code> rings in <code>https://github.com/xyzw12345/CohenMacaulay</code> and keep track of it for later developements.<br>\nCurrently we are proving the equivalence of the vanishing order of <code>Ext</code> functor and length of regular squence. The first stage goal is the rees theorem (Matsumura Commutative Algebra Chapter 6 Theorem 28)</p>",
        "id": 510684231,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744035281
    },
    {
        "content": "<p>Currently, the repo is a bit messy and quite a few lemmas needed are in open PRs, so the porting from the repo to the branches of mathlib may take some time.</p>",
        "id": 510684977,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744035437
    },
    {
        "content": "<p>This is great news! Will you also think about Gorenstein and complete intersection rings? These three definitions in commutative ring theory will really demonstrate that we have become a big player in commutative algebra.</p>",
        "id": 510750817,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744054100
    },
    {
        "content": "<p>These are our current works stopping at the Rees theorem.<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/23877\">#23877</a>  and <a href=\"https://github.com/leanprover-community/mathlib4/pull/23935\">#23935</a> probably need some break down.<br>\n<a href=\"/user_uploads/3121/VTkqaFm0-XGJ9Tz3FgnlYIeS/8f4256d8c45b7c28b4270a88e53d1e9.jpg\">8f4256d8c45b7c28b4270a88e53d1e9.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/VTkqaFm0-XGJ9Tz3FgnlYIeS/8f4256d8c45b7c28b4270a88e53d1e9.jpg\" title=\"8f4256d8c45b7c28b4270a88e53d1e9.jpg\"><img data-original-content-type=\"image/jpeg\" data-original-dimensions=\"2039x1079\" src=\"/user_uploads/thumbnail/3121/VTkqaFm0-XGJ9Tz3FgnlYIeS/8f4256d8c45b7c28b4270a88e53d1e9.jpg/840x560.webp\"></a></div>",
        "id": 511557282,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744344890
    },
    {
        "content": "<p>Further developements would be:<br>\n1 : the definition of depth<br>\n2 : depth \\le dim (Matsumura Commutative Algebra Chapter 6 Theorem 29)</p>",
        "id": 511557364,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744344953
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/510750817\">said</a>:</p>\n<blockquote>\n<p>This is great news! Will you also think about Gorenstein and complete intersection rings? These three definitions in commutative ring theory will really demonstrate that we have become a big player in commutative algebra.</p>\n</blockquote>\n<p>We currently don't have plans for them for now. As our proffessor is interested in PBW theorem and we would probably work on that in the near future. We can ask him whether if he is intersted in these rings <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 511557799,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744345209
    },
    {
        "content": "<p>He said he is intersted, however we might not be able to work on it as we don't have enough people working on lean and other projects have existed as mentioned above.<br>\nBeside these, we currently don't have well-organized reference and blueprint for the formalizing of the two class of rings you mentioned, do you have ideas about that? Thank you.</p>",
        "id": 511559279,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744346154
    },
    {
        "content": "<p>I don't want to disrupt your plans! I was just asking to try and find out more about what they were</p>",
        "id": 511562545,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744348098
    },
    {
        "content": "<p>These are nice results! I have added some comments about <a href=\"https://github.com/leanprover-community/mathlib4/pull/23935\">#23935</a>.</p>",
        "id": 511589835,
        "sender_full_name": "Joël Riou",
        "timestamp": 1744359442
    },
    {
        "content": "<p>In general, I would suggest that instead of stating basic \"diagram lemmas\" about objects in <code>ModuleCat</code>, you phrase them in a general abelian category as much as possible, and as my comments on the PR show, most of these lemmas are already in mathlib. In order to state that an object in an abelian category is zero, the better phrasing is by using <code>IsZero</code>: to ease the relation between properties of types and properties of objects in <code>ModuleCat</code> (or <code>AddCommGrp</code>), it would be good to introduce some <code>isZero_iff_subsingleton</code> lemmas (I did not check if we had these already).</p>",
        "id": 511589854,
        "sender_full_name": "Joël Riou",
        "timestamp": 1744359449
    },
    {
        "content": "<p>Actually, we have <code>isZero_of_subsingleton</code>.</p>",
        "id": 511590090,
        "sender_full_name": "Joël Riou",
        "timestamp": 1744359520
    },
    {
        "content": "<p>I think depth &lt;= dim could be done separately? (If you use the regular sequence def) At least we have that in FLT already.</p>",
        "id": 511626620,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1744370834
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459699\">Joël Riou</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/511589854\">said</a>:</p>\n<blockquote>\n<p>In general, I would suggest that instead of stating basic \"diagram lemmas\" about objects in <code>ModuleCat</code>, you phrase them in a general abelian category as much as possible, and as my comments on the PR show, most of these lemmas are already in mathlib. In order to state that an object in an abelian category is zero, the better phrasing is by using <code>IsZero</code>: to ease the relation between properties of types and properties of objects in <code>ModuleCat</code> (or <code>AddCommGrp</code>), it would be good to introduce some <code>isZero_iff_subsingleton</code> lemmas (I did not check if we had these already).</p>\n</blockquote>\n<p><code>isZero_of_subsingleton</code> exists, but not the other side.</p>",
        "id": 511793432,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744449101
    },
    {
        "content": "<p>There are two supplementary PRs <a href=\"https://github.com/leanprover-community/mathlib4/pull/23876\">#23876</a> moving associated prime file into a folder and <a href=\"https://github.com/leanprover-community/mathlib4/pull/23903\">#23903</a> defining <code>Submodule.submoduleOf</code>, can anybody have a look so we can move on to the finiteness of associated primes.</p>",
        "id": 512536912,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744805196
    },
    {
        "content": "<p>Do you have works on finiteness of associated primes? I think I probably duplicated this work in <a href=\"https://github.com/acmepjz/lean-iwasawa/blob/master/Iwasawalib/RingTheory/CharacteristicIdeal/Basic.lean\">https://github.com/acmepjz/lean-iwasawa/blob/master/Iwasawalib/RingTheory/CharacteristicIdeal/Basic.lean</a>. (I'll need to use it very soon so I formalized it by myself.)</p>",
        "id": 512572563,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744814931
    },
    {
        "content": "<p>Oh found it <a href=\"https://github.com/leanprover-community/mathlib4/pull/23877\">#23877</a>. (I have a much shorter proof than yours <span aria-label=\"sunglasses\" class=\"emoji emoji-1f60e\" role=\"img\" title=\"sunglasses\">:sunglasses:</span>)</p>",
        "id": 512573346,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744815116
    },
    {
        "content": "<p>Feel free to copy my proof if you think it's better.</p>",
        "id": 512573774,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744815211
    },
    {
        "content": "<p>This PR is a bit messy now, I'll try to clean it up when I have time (as there is still a mid-term test ...)<br>\nMaybe you can just help edit that PR (please feel free), or if the current dependency is not good enough you can just open another one and we base on that one.<br>\nThis part is originally developed for using prime avoidance when proving the case depth = 0, so the overall impact should not be big.<br>\nThe only thing I want to make sure is whether the by-products we get on the way are really useful?</p>",
        "id": 512589159,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744819025
    },
    {
        "content": "<p>I have a glance and discussed a little with <span class=\"user-mention\" data-user-id=\"750070\">@Wang Jingting</span>(the author of our version), the conclusion is that we may try to \"merge\" your work into the current PR replacing the duplicated parts when we have time, as your proof is more succinct. Hopefully it should be done within this month.</p>",
        "id": 512593739,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744820188
    },
    {
        "content": "<p>The proof is based on this result <a href=\"https://acmepjz.github.io/lean-iwasawa/blueprint/sect0002.html#noeth-ring-filtration\">https://acmepjz.github.io/lean-iwasawa/blueprint/sect0002.html#noeth-ring-filtration</a> which is in stacks <a href=\"https://stacks.math.columbia.edu/tag/00L0\">https://stacks.math.columbia.edu/tag/00L0</a> and is formalized at <a href=\"https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/RingTheory/CharacteristicIdeal/Basic.html#IsNoetherianRing.exists_relSeries_isQuotientEquivQuotientPrime\">https://acmepjz.github.io/lean-iwasawa/docs/Iwasawalib/RingTheory/CharacteristicIdeal/Basic.html#IsNoetherianRing.exists_relSeries_isQuotientEquivQuotientPrime</a>. It gives an induction principle for modules <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/How.20to.20write.20induction.20principle.20for.20modules/with/511873962\">#mathlib4 &gt; How to write induction principle for modules</a> , which implies the finiteness of associated primes.</p>\n<p>Such induction principle also have other applications which I need to use later, for example in the proof of <a href=\"https://acmepjz.github.io/lean-iwasawa/blueprint/sect0003.html#char-ideal-preliminary\">https://acmepjz.github.io/lean-iwasawa/blueprint/sect0003.html#char-ideal-preliminary</a>.</p>",
        "id": 512594731,
        "sender_full_name": "Jz Pan",
        "timestamp": 1744820470
    },
    {
        "content": "<p>I see, I think we are literally doing the same thing. Then the \"merge\" should focus on unifying the APIs. As we don't have much works based on the intermediate results, we would probably mainly use your APIs.</p>",
        "id": 512595507,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1744820698
    },
    {
        "content": "<p>I have a more careful look and I think it no longer depend on the induction principle of relseries, so I would probably close the old one and only bring the useful things to the new one.</p>",
        "id": 513269391,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745151811
    },
    {
        "content": "<p>Here is a chunk of code that I don't know whether useful:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span>\n\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">fg_induction</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h_zero</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">Subsingleton</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h_base</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">IsPrincipal</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h_ext</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">N</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">),</span>\n<span class=\"w\">      </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ModuleCat.of</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ModuleCat.of</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">N</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ModuleCat</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hM</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Module.Finite</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n\n<span class=\"c1\">-- [Stacks 00KZ]</span>\n<span class=\"kd\">theorem</span><span class=\"w\"> </span><span class=\"n\">exists_LTSeries_quotient_cyclic</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">LTSeries</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Submodule</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"n\">p.head</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊥</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"n\">p.last</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⊤</span><span class=\"w\"> </span><span class=\"bp\">∧</span>\n<span class=\"w\">    </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"n\">p.length</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ideal</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"o\">(</span>\n<span class=\"w\">    </span><span class=\"o\">((</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">i.succ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Submodule.comap</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">i.succ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">subtype</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Fin.castSucc</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">))))</span><span class=\"w\"> </span><span class=\"bp\">≃ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">⧸</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">  </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>(I didn't see the direct dependency relation between these and the associated primes version.)</p>\n<p>I think all other different things  (only the monotonicity of associated primes left <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> )can find their appropriate places.</p>",
        "id": 513273354,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745154953
    },
    {
        "content": "<p>I didn't use 00KZ, but prove 00L0 directly. On Stacks 00L0 is proved using 00KZ, though.</p>",
        "id": 513279309,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745159525
    },
    {
        "content": "<p>I know, I only wonder is this 00KZ really useful?</p>",
        "id": 513327301,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745200903
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/23877\">#23877</a> is closed and now replaced with <a href=\"https://github.com/leanprover-community/mathlib4/pull/24242\">#24242</a></p>",
        "id": 513327978,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745201317
    },
    {
        "content": "<p>Also requesting review for a easy PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/23718\">#23718</a> for equiv between <code>S^{-1}Hom(M,N)</code> and <code>Hom(S^{-1}M, S^{-1}N)</code></p>",
        "id": 513333094,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745205130
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/513327301\">said</a>:</p>\n<blockquote>\n<p>I know, I only wonder is this 00KZ really useful?</p>\n</blockquote>\n<p>I don't know, personally I didn't use it before.</p>",
        "id": 513347400,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745215339
    },
    {
        "content": "<p>Maybe just keep it somewhere until it is needed in another results.</p>",
        "id": 513350097,
        "sender_full_name": "Jz Pan",
        "timestamp": 1745217151
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459699\">@Joël Riou</span>  Sorry for disturbing, this question may seem impolite, but do you have a plan to PR the linear structure on <code>Ext</code>?<br>\nWe are needing some thing like the following and we want to know in what form and where it would go, thanks.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">CategoryTheory.Abelian.Ext</span><span class=\"w\"> </span><span class=\"n\">DerivedCategory</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Category</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Abelian</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">HasExt</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">Ring</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Ring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Linear</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span>\n\n<span class=\"kd\">instance</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">homEquiv₀_linearHom</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ext</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≃ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">⟶</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">__</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">addEquiv₀</span>\n<span class=\"w\">  </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">Ring</span>\n\n<span class=\"kn\">section</span><span class=\"w\"> </span><span class=\"n\">CommRing</span>\n\n<span class=\"kd\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Linear</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">]</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">bilinearCompOfLinear</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">where</span>\n<span class=\"w\">  </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">toFun</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">α.comp</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">      </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span>\n<span class=\"w\">      </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">map_add'</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"kd\">by</span>\n<span class=\"w\">    </span><span class=\"n\">ext</span>\n<span class=\"w\">    </span><span class=\"n\">simp</span>\n<span class=\"w\">  </span><span class=\"n\">map_smul'</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n\n<span class=\"kd\">noncomputable</span><span class=\"w\"> </span><span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">postcompOfLinear</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">C</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→ₗ</span><span class=\"o\">[</span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Ext</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">w</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">bilinearCompOfLinear</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">Y</span><span class=\"w\"> </span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">flip</span><span class=\"w\"> </span><span class=\"n\">f</span>\n\n<span class=\"kd\">end</span><span class=\"w\"> </span><span class=\"n\">CommRing</span>\n</code></pre></div>",
        "id": 513805465,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745396200
    },
    {
        "content": "<p>After some refactor, the following is the current dependency graph:<br>\n<a href=\"/user_uploads/3121/JfwRuNEmK_1YAcs1Ay4NRdAH/4982435f285350165149047e1d313d6.jpg\">4982435f285350165149047e1d313d6.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/JfwRuNEmK_1YAcs1Ay4NRdAH/4982435f285350165149047e1d313d6.jpg\" title=\"4982435f285350165149047e1d313d6.jpg\"><img data-original-content-type=\"image/jpeg\" data-original-dimensions=\"1627x1079\" src=\"/user_uploads/thumbnail/3121/JfwRuNEmK_1YAcs1Ay4NRdAH/4982435f285350165149047e1d313d6.jpg/840x560.webp\"></a></div>",
        "id": 513806791,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745396637
    },
    {
        "content": "<p>I already did four prerequisite PRs <a href=\"https://github.com/leanprover-community/mathlib4/pull/23779\">#23779</a>,  <a href=\"https://github.com/leanprover-community/mathlib4/pull/23777\">#23777</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/23815\">#23815</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/24309\">#24309</a>.</p>",
        "id": 513811633,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745397994
    },
    {
        "content": "<p>The API should be as in <a href=\"https://github.com/leanprover-community/mathlib4/blob/jriou_localization/Mathlib/Algebra/Homology/DerivedCategory/Ext/Linear.lean\">https://github.com/leanprover-community/mathlib4/blob/jriou_localization/Mathlib/Algebra/Homology/DerivedCategory/Ext/Linear.lean</a></p>",
        "id": 513813886,
        "sender_full_name": "Joël Riou",
        "timestamp": 1745398651
    },
    {
        "content": "<p>Thanks, we will try unify them.</p>",
        "id": 513848346,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745408725
    },
    {
        "content": "<p>Hi all, I am in Beijing now and I am happy to discuss anything about this. Can you summarize what is your proposed definition of depth?</p>",
        "id": 514972625,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1745908884
    },
    {
        "content": "<p>As we have rees theorem now, the index of first nontrivial <code>Ext(A/I, M)</code> and maximal length of <code>M</code>-regular sequence in <code>I</code> is equal when <code>A</code> Noetherian and <code>M</code> finitely generated.<br>\nSo for the definition of <code>depth</code>, which one should we use? As in the case with conditions mentioned above, any of the two won't matter, however in the non-Noetherian case or not finitely generated case (if we really care), which is better?</p>",
        "id": 514999458,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745916647
    },
    {
        "content": "<p>To unify with <code>ringKrullDim</code>, <code>depth</code> would also be <code>WithBot ℕ∞</code>, however in which case should be positive/negative infinity is not clear yet, for example when <code>M = IM</code> <code>Subsingleton A</code></p>",
        "id": 515000345,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745916874
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"764386\">@Ruiqi Chen</span>  found in some books, there is two definitions, one is <code>grad(I,M)</code> the maximal length of regular sequence, <code>depth(I,M)</code> is the first nontrivial <code>Ext(A/I,M)</code>, then rees theorem show they are the same when <code>A</code> Noetherian and <code>M</code> finitely generated.</p>",
        "id": 515001125,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1745917077
    },
    {
        "content": "<p>There is a small problem withe first nontrivial <code>Ext</code>: what should be the universe of <code>M</code>? Note that to write <code>Ext(X, Y)</code> <code>X</code> and <code>Y</code> must be in the same category (<code>A-Mod</code> here), but in particular they must be in the same universe.</p>",
        "id": 515001479,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1745917183
    },
    {
        "content": "<p>He also mentioned we can define <code>depth(N,M)</code> for two modules, in this case should we use <code>ModuleCat R</code> or <code>[AddCommGroup] [Module R]</code>?</p>",
        "id": 515276099,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746012253
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515001479\">said</a>:</p>\n<blockquote>\n<p>There is a small problem withe first nontrivial <code>Ext</code>: what should be the universe of <code>M</code>? Note that to write <code>Ext(X, Y)</code> <code>X</code> and <code>Y</code> must be in the same category (<code>A-Mod</code> here), but in particular they must be in the same universe.</p>\n</blockquote>\n<p>I think we would align with what we use in rees theorem, <code>M : Type v</code> and <code>Small.{v} R/I</code> then use <code>Shrink.{v} R/I</code></p>",
        "id": 515276275,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746012322
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515276099\">said</a>:</p>\n<blockquote>\n<p>He also mentioned we can define <code>depth(N,M)</code> for two modules, in this case should we use <code>ModuleCat R</code> or <code>[AddCommGroup] [Module R]</code>?</p>\n</blockquote>\n<p>I think <code>Module R M</code>, but one can always use <code>Module.of</code>, so this is not extremely important.</p>",
        "id": 515313870,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1746021846
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515276275\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515001479\">said</a>:</p>\n<blockquote>\n<p>There is a small problem withe first nontrivial <code>Ext</code>: what should be the universe of <code>M</code>? Note that to write <code>Ext(X, Y)</code> <code>X</code> and <code>Y</code> must be in the same category (<code>A-Mod</code> here), but in particular they must be in the same universe.</p>\n</blockquote>\n<p>I think we would align with what we use in rees theorem, <code>M : Type v</code> and <code>Small.{v} R/I</code> then use <code>Shrink.{v} R/I</code></p>\n</blockquote>\n<p>I agree, but we want the theorem that if the module itself is the local ring then one can compute this without using <code>Shrink</code>.</p>",
        "id": 515314139,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1746021914
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515276275\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515001479\">said</a>:</p>\n<blockquote>\n<p>There is a small problem withe first nontrivial <code>Ext</code>: what should be the universe of <code>M</code>? Note that to write <code>Ext(X, Y)</code> <code>X</code> and <code>Y</code> must be in the same category (<code>A-Mod</code> here), but in particular they must be in the same universe.</p>\n</blockquote>\n<p>I think we would align with what we use in rees theorem, <code>M : Type v</code> and <code>Small.{v} R/I</code> then use <code>Shrink.{v} R/I</code></p>\n</blockquote>\n<p>We can define a <code>Module</code> version of <code>Ext</code> which is a wrapper of category version of <code>Ext</code>, i.e. <code>CategoryVersionOfExt (lift of X) (lift of Y)</code></p>",
        "id": 515327605,
        "sender_full_name": "Jz Pan",
        "timestamp": 1746025115
    },
    {
        "content": "<p>This should probably be discussed a bit, since we all want a \"concrete\" version of <code>Ext</code> for modules, but it will probably be something like that. And we still want that if <code>R</code> and <code>M</code> are in the same universe then we can compute it without any <code>lift</code>/<code>shrink</code>.</p>",
        "id": 515328559,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1746025312
    },
    {
        "content": "<p><code>Ext</code> in the category <code>ModuleCat</code> commutes with the <code>uliftFunctor</code> on both arguments (at least assuming the ring is \"small\": the reason is that a projective (or injective) module in a small universe stays so in a higher universe), so that in principle, it should be possible to define a heterogeneous universe version of <code>Ext</code>, but I think it would be extremely painful to construct a <em>good</em> API for that (and I certainly do not intend to formalize this anytime soon). Practically speaking, I would think it would be ok to assume that both modules are in the same universe if we want to use <code>Ext</code>.</p>",
        "id": 515385673,
        "sender_full_name": "Joël Riou",
        "timestamp": 1746042323
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515314139\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"749361\">Nailin Guan</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515276275\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/515001479\">said</a>:</p>\n<blockquote>\n<p>There is a small problem withe first nontrivial <code>Ext</code>: what should be the universe of <code>M</code>? Note that to write <code>Ext(X, Y)</code> <code>X</code> and <code>Y</code> must be in the same category (<code>A-Mod</code> here), but in particular they must be in the same universe.</p>\n</blockquote>\n<p>I think we would align with what we use in rees theorem, <code>M : Type v</code> and <code>Small.{v} R/I</code> then use <code>Shrink.{v} R/I</code></p>\n</blockquote>\n<p>I agree, but we want the theorem that if the module itself is the local ring then one can compute this without using <code>Shrink</code>.</p>\n</blockquote>\n<p>For local ring <code>R</code> <code>R/IsLocalRing.MaximalIdeal</code> is also in the same universe of <code>R</code> same as <code>R/I</code>, I think we still need some <code>Small.{v}</code> and <code>Shrink.{v}</code>?</p>",
        "id": 515429887,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746063536
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Cohen.20Macaulay.20rings/near/511626620\">said</a>:</p>\n<blockquote>\n<p>I think depth &lt;= dim could be done separately? (If you use the regular sequence def) At least we have that in FLT already.</p>\n</blockquote>\n<p>We currently want to prove <code>depth(M) &lt;= dim(R/p)</code> for associated prime <code>p</code>.<br>\nI saw in Matsumura, if we use <code>Ext</code> definition, it still need a lot more things.<br>\nThanks.</p>",
        "id": 515439164,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746070025
    },
    {
        "content": "<p>Sorry, we found it, but I didn't find it straight forward from the existing result.</p>",
        "id": 515439592,
        "sender_full_name": "Nailin Guan",
        "timestamp": 1746070299
    },
    {
        "content": "<p>I was referring to  <a href=\"https://github.com/ImperialCollegeLondon/FLT/blob/5316b38f25349bcdabc7a257ecc96b31686abf00/FLT/Patching/Utils/Depth.lean#L52\">https://github.com/ImperialCollegeLondon/FLT/blob/5316b38f25349bcdabc7a257ecc96b31686abf00/FLT/Patching/Utils/Depth.lean#L52</a> in case you didn't find it.</p>",
        "id": 515481440,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746095169
    }
]