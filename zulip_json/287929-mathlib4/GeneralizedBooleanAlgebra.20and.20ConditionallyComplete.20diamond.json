[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">BooleanAlgebra</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Logic</span><span class=\"bp\">.</span><span class=\"n\">Pairwise</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">ConditionallyCompleteLattice</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">GeneralizedBooleanAlgebra</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ConditionallyCompleteLattice</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hf</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Pairwise</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">onFun</span><span class=\"w\"> </span><span class=\"n\">Disjoint</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"c1\">-- failed to synthesize OrderBot α</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">trivial</span>\n</code></pre></div>\n<p>I'm looking for a spelling that lets me work with relative complements and indexed suprema at the same time; what's the best way to do that? For right now I'm manually providing <code>GeneralizedBooleanAlgebra.toOrderBot</code> as an explicit argument to <code>Disjoint</code>, but I imagine that's just buying trouble...</p>",
        "id": 543421810,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759792790
    },
    {
        "content": "<p>yeah that's a diamond</p>",
        "id": 543422896,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793619
    },
    {
        "content": "<p>don't have the diamond</p>",
        "id": 543422905,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793624
    },
    {
        "content": "<p>yeah, but how :p</p>",
        "id": 543422926,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793638
    },
    {
        "content": "<p>do you have an order top?</p>",
        "id": 543422928,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793639
    },
    {
        "content": "<p>... I <em>could</em> make that assumption, I suppose, though I'd kind of prefer not to.<br>\nMore to the point, tho, that only kicks the can down the road: <code>BooleanAlgebra</code> and <code>CompleteLattice</code> still give me diamond problems later.</p>",
        "id": 543422988,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793697
    },
    {
        "content": "<p>I'm thinking about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.Coframe#doc\">docs#Order.Coframe</a></p>",
        "id": 543422990,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793697
    },
    {
        "content": "<p>mmmm</p>",
        "id": 543423008,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793710
    },
    {
        "content": "<p>I don't think the specific case of conditionally complete order + relative complements is in mathlib</p>",
        "id": 543423057,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793760
    },
    {
        "content": "<p>without a top</p>",
        "id": 543423075,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793775
    },
    {
        "content": "<p>bleh.<br>\nAlright, I'll just stick with <code>CompleteBooleanAlgebra</code> now that I've found it</p>",
        "id": 543423091,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793779
    },
    {
        "content": "<p>but with a top I think this might be exactly <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.Coframe#doc\">docs#Order.Coframe</a></p>",
        "id": 543423112,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1759793792
    },
    {
        "content": "<p>hmm</p>",
        "id": 543423121,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793803
    },
    {
        "content": "<p>Coframe looks approximately correct</p>",
        "id": 543423160,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793835
    },
    {
        "content": "<p>I'll give it a shot and see what happens<br>\nThanks!</p>",
        "id": 543423166,
        "sender_full_name": "Robert Maxton",
        "timestamp": 1759793842
    },
    {
        "content": "<p>Another option is to define a class (in your project) that extends both.</p>",
        "id": 543432554,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1759802004
    }
]