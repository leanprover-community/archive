[
    {
        "content": "<p>Why is the order of arguments for <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Polynomial/Eval/Defs.html#Polynomial.eval\">Polynomial.eval</a> first <code>x</code> and then <code>P</code>, the polynomial?</p>",
        "id": 576365768,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772235059
    },
    {
        "content": "<p>The signature borrowed from the docs is </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span>\n</code></pre></div>",
        "id": 576365799,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772235092
    },
    {
        "content": "<p>Wouldn't  </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span>\n</code></pre></div>\n<p>allow us to write <code>p.eval x</code>?</p>",
        "id": 576365842,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772235129
    },
    {
        "content": "<p>The current def also allows that, unless your <code>R</code> is also a polynomial</p>",
        "id": 576365892,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1772235169
    },
    {
        "content": "<p>I believe the reason for the order is that <code>Polynomial.eval x</code> is a <code>RingHom</code> from polynomials, but I don't remember where that <code>RingHom</code> is defined</p>",
        "id": 576365938,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1772235203
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.evalRingHom#doc\">docs#Polynomial.evalRingHom</a></p>",
        "id": 576366085,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1772235307
    },
    {
        "content": "<p>Oh that's interesting. That seems unlike the usual requirement for getting the dot notation</p>",
        "id": 576366089,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772235309
    },
    {
        "content": "<p>Dot notation uses the first parameter of that type, it doesn't have to be the first parameter overall</p>",
        "id": 576366127,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1772235341
    },
    {
        "content": "<p>Otherwise the <code>R : Type*</code> would beat it</p>",
        "id": 576366139,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1772235351
    },
    {
        "content": "<p>Thanks. TIL</p>",
        "id": 576366198,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772235393
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Polynomial.20eval.20function/near/576365842\">said</a>:</p>\n<blockquote>\n<p>Wouldn't  </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Semiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">R</span>\n</code></pre></div>\n<p>allow us to write <code>p.eval x</code>?</p>\n</blockquote>\n<p>Doesn't it still do so now?</p>",
        "id": 576413642,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1772276348
    },
    {
        "content": "<p>It does. This thread can be closed. I learnt something new</p>",
        "id": 576413767,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1772276456
    }
]