[
    {
        "content": "<p>I don't know why, but lean file with importing <code>Mathlib.Order.PropInstances</code> cannot be executed. For example, below example, it expected to print \"Hello!\", but actually nothing printed. I don't know this module is only file to cause this problem, or else exists. This behavior is crucial problem for our project, <a href=\"https://github.com/FormalizedFormalLogic/Foundation/tree/master/Zoo\">to generating figures</a>...</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">LakeExeTest</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Order.PropInstances</span><span class=\"w\"> </span><span class=\"c1\">-- not working!</span>\n<span class=\"c1\">-- import Mathlib.Order.Disjoint -- working</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"n\">Unit</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">IO.println</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"bp\">!</span><span class=\"s2\">\"Hello!\"</span>\n</code></pre></div>\n<p>mathlib version: <code>97e6e3577558f501ae6f8b6128ddfc329ee5ad2a</code> (latest when this posted)</p>\n<p>MWE: <a href=\"https://github.com/SnO2WMaN/mwe-import-mathlib-order-propinstances\">https://github.com/SnO2WMaN/mwe-import-mathlib-order-propinstances</a></p>",
        "id": 527975214,
        "sender_full_name": "SnO2WMaN",
        "timestamp": 1752100086
    },
    {
        "content": "<p>To investigate more, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/PropInstances.html#Prop.instBoundedOrder\"><code>Prop.instBoundedOrder</code></a> (<code>instance : BoundedOrder Prop</code>) may cause this problem. Still I don't have idea to avoid this problem. Should I submit issue to mathlib4?</p>",
        "id": 528162631,
        "sender_full_name": "SnO2WMaN",
        "timestamp": 1752183357
    },
    {
        "content": "<p>Here is a stack trace of segment fault</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">lldb</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">test</span>\n<span class=\"o\">(</span><span class=\"n\">lldb</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"s2\">\".lake/build/bin/test\"</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">executable</span><span class=\"w\"> </span><span class=\"n\">set</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">sno2wman</span><span class=\"bp\">/</span><span class=\"n\">ghq</span><span class=\"bp\">/</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">SnO2WMaN</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">exe</span><span class=\"bp\">-</span><span class=\"n\">test</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">test'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x86_64</span><span class=\"o\">)</span><span class=\"bp\">.</span>\n<span class=\"o\">(</span><span class=\"n\">lldb</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">run</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">177102</span><span class=\"w\"> </span><span class=\"n\">launched</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">sno2wman</span><span class=\"bp\">/</span><span class=\"n\">ghq</span><span class=\"bp\">/</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">SnO2WMaN</span><span class=\"bp\">/</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">exe</span><span class=\"bp\">-</span><span class=\"n\">test</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">test'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x86_64</span><span class=\"o\">)</span>\n<span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"mi\">177102</span><span class=\"w\"> </span><span class=\"n\">stopped</span>\n<span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">test'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">stop</span><span class=\"w\"> </span><span class=\"n\">reason</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">signal</span><span class=\"w\"> </span><span class=\"n\">SIGSEGV</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">address</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">mapped</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">object</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fault</span><span class=\"w\"> </span><span class=\"n\">address</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"n\">x0</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"n\">frame</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">x000055555cf80759</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"ss\">`lean_mark_persistent</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">105</span>\n<span class=\"n\">test</span><span class=\"ss\">`lean_mark_persistent</span><span class=\"o\">:</span>\n<span class=\"bp\">-&gt;</span><span class=\"w\">  </span><span class=\"mi\">0</span><span class=\"n\">x55555cf80759</span><span class=\"w\"> </span><span class=\"bp\">&lt;+</span><span class=\"mi\">105</span><span class=\"bp\">&gt;</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">cmpl</span><span class=\"w\">   </span><span class=\"bp\">$</span><span class=\"mi\">0</span><span class=\"n\">x0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">%</span><span class=\"n\">rbx</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"n\">x55555cf8075c</span><span class=\"w\"> </span><span class=\"bp\">&lt;+</span><span class=\"mi\">108</span><span class=\"bp\">&gt;</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">je</span><span class=\"w\">     </span><span class=\"mi\">0</span><span class=\"n\">x55555cf80730</span><span class=\"w\"> </span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"bp\">&lt;+</span><span class=\"mi\">64</span><span class=\"bp\">&gt;</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"n\">x55555cf8075e</span><span class=\"w\"> </span><span class=\"bp\">&lt;+</span><span class=\"mi\">110</span><span class=\"bp\">&gt;</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">movl</span><span class=\"w\">   </span><span class=\"bp\">$</span><span class=\"mi\">0</span><span class=\"n\">x0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">%</span><span class=\"n\">rbx</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"mi\">0</span><span class=\"n\">x55555cf</span>\n</code></pre></div>",
        "id": 528417409,
        "sender_full_name": "SnO2WMaN",
        "timestamp": 1752276761
    },
    {
        "content": "<p>Which version of Lean are you using?</p>",
        "id": 528417708,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752277092
    },
    {
        "content": "<p>I would guess that <span class=\"user-mention\" data-user-id=\"656225\">@Cameron Zwarich</span> would be interested in this; it looks like this is v4.22.0-rc3, which I think included the <a href=\"#narrow/stream/287929-mathlib4/topic/.23eval.20returns.20.60unreachable.20code.60/near/527037788\">False.elim fix discussed elsewhere</a>?</p>",
        "id": 528417836,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752277267
    },
    {
        "content": "<p><code>v4.22.0-rc3</code>. I've facing this problem after updated from <code>v4.21.0</code>.</p>",
        "id": 528417847,
        "sender_full_name": "SnO2WMaN",
        "timestamp": 1752277274
    },
    {
        "content": "<p>Thanks for the mention <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> . This looks like the same as <a href=\"#narrow/channel/270676-lean4/topic/segfault.20on.20M1.20on.20.60import.20Mathlib.2ETopology.2ECat.2EBasic.60\">#lean4 &gt; segfault on M1 on &#96;import Mathlib.Topology.Cat.Basic&#96;</a>, but with a MWE. I'll need to rebuild Mathlib locally to confirm, but my best guess is that this is an old issue <a href=\"https://github.com/leanprover/lean4/pull/1965\">lean4#1965</a>, being hit now because the new compiler got better at optimizing something.</p>",
        "id": 528417975,
        "sender_full_name": "Cameron Zwarich",
        "timestamp": 1752277468
    },
    {
        "content": "<p>My attempt to reproduce this with a locally built Lean has been poor, due to issues with Lake (hopefully due to some misconfiguration on my end?) hanging with projects that are dependent on Mathlib.</p>\n<p>However, I thought there was an executable in Mathlib that imported everything and actually ran, so I was a bit confused. I went to see if I could reproduce the issue there, only to discover that it fails to build:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">mathlib_test_executable</span>\n<span class=\"bp\">...</span>\n<span class=\"bp\">âœ–</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">5863</span><span class=\"bp\">/</span><span class=\"mi\">13928</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Computability</span><span class=\"bp\">.</span><span class=\"n\">TMToPartrec</span><span class=\"o\">:</span><span class=\"n\">c</span><span class=\"bp\">.</span><span class=\"n\">o</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">.&gt;</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.22.0-rc3/bin/clang -c -o /Users/zwarich/mathlib4-release/.lake/build/ir/Mathlib/Computability/TMToPartrec.c.o.export /Users/zwarich/mathlib4-release/.lake/build/ir/Mathlib/Computability/TMToPartrec.c -I /Users/zwarich/.elan/toolchains/leanprover--lean4---v4.22.0-rc3/include -fstack-clash-protection -fwrapv -fvisibility=hidden -Wno-unused-command-line-argument --sysroot /Users/zwarich/.elan/toolchains/leanprover--lean4---v4.22.0-rc3 -nostdinc -isystem /Users/zwarich/.elan/toolchains/leanprover--lean4---v4.22.0-rc3/include/clang -O3 -DNDEBUG -DLEAN_EXPORTING</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">2350</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">redefinition</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">l_Turing_PartrecToTM2_Cont_x27___sizeOf__1'</span>\n<span class=\"w\"> </span><span class=\"mi\">2350</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">LEAN_EXPORT</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">l_Turing_PartrecToTM2_Cont_x27___sizeOf__1</span><span class=\"o\">(</span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                          </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">1698</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">here</span>\n<span class=\"w\"> </span><span class=\"mi\">1698</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">LEAN_EXPORT</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">l_Turing_PartrecToTM2_Cont_x27___sizeOf__1</span><span class=\"o\">(</span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                          </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">2369</span><span class=\"o\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">redefinition</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">'_</span><span class=\"n\">init_l_Turing_PartrecToTM2_Cont_x27___sizeOf__inst'</span>\n<span class=\"w\"> </span><span class=\"mi\">2369</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">static</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">init_l_Turing_PartrecToTM2_Cont_x27___sizeOf__inst</span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                     </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">1742</span><span class=\"o\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">here</span>\n<span class=\"w\"> </span><span class=\"mi\">1742</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">static</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">init_l_Turing_PartrecToTM2_Cont_x27___sizeOf__inst</span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                     </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">2377</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">redefinition</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">l_Turing_PartrecToTM2_K_x27___sizeOf__1'</span>\n<span class=\"w\"> </span><span class=\"mi\">2377</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">LEAN_EXPORT</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">l_Turing_PartrecToTM2_K_x27___sizeOf__1</span><span class=\"o\">(</span><span class=\"n\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                          </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">1914</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">here</span>\n<span class=\"w\"> </span><span class=\"mi\">1914</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">LEAN_EXPORT</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">l_Turing_PartrecToTM2_K_x27___sizeOf__1</span><span class=\"o\">(</span><span class=\"n\">uint8_t</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                          </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">2385</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">redefinition</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">l_Turing_PartrecToTM2_K_x27___sizeOf__1___boxed'</span>\n<span class=\"w\"> </span><span class=\"mi\">2385</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">LEAN_EXPORT</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">l_Turing_PartrecToTM2_K_x27___sizeOf__1___boxed</span><span class=\"o\">(</span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                          </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">1922</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">here</span>\n<span class=\"w\"> </span><span class=\"mi\">1922</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">LEAN_EXPORT</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">l_Turing_PartrecToTM2_K_x27___sizeOf__1___boxed</span><span class=\"o\">(</span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">x_1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                          </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">2403</span><span class=\"o\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">redefinition</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">'_</span><span class=\"n\">init_l_Turing_PartrecToTM2_K_x27___sizeOf__inst'</span>\n<span class=\"w\"> </span><span class=\"mi\">2403</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">static</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">init_l_Turing_PartrecToTM2_K_x27___sizeOf__inst</span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                     </span><span class=\"bp\">^</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">-</span><span class=\"n\">release</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">ir</span><span class=\"bp\">/</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Computability</span><span class=\"bp\">/</span><span class=\"n\">TMToPartrec</span><span class=\"bp\">.</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"mi\">1940</span><span class=\"o\">:</span><span class=\"mi\">21</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">note</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">here</span>\n<span class=\"w\"> </span><span class=\"mi\">1940</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">static</span><span class=\"w\"> </span><span class=\"n\">lean_object</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"n\">init_l_Turing_PartrecToTM2_K_x27___sizeOf__inst</span><span class=\"o\">()</span><span class=\"w\"> </span><span class=\"o\">{</span>\n<span class=\"w\">      </span><span class=\"bp\">|</span><span class=\"w\">                     </span><span class=\"bp\">^</span>\n<span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"n\">errors</span><span class=\"w\"> </span><span class=\"n\">generated</span><span class=\"bp\">.</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">external</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">zwarich</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.22.0-rc3/bin/clang' exited with code 1</span>\n</code></pre></div>",
        "id": 528429423,
        "sender_full_name": "Cameron Zwarich",
        "timestamp": 1752292032
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27017\">#27017</a></p>",
        "id": 528429585,
        "sender_full_name": "Cameron Zwarich",
        "timestamp": 1752292287
    },
    {
        "content": "<p>Well, it turns out that this is an issue I just fixed today (<a href=\"https://github.com/leanprover/lean4/pull/9310\">lean4#9310</a>). Thanks to <span class=\"user-mention\" data-user-id=\"873547\">@Robin Arnez</span> for debugging it to the point that it was basically trivial to fix. I'll backport it so it (hopefully) goes into an rc4.</p>",
        "id": 528433964,
        "sender_full_name": "Cameron Zwarich",
        "timestamp": 1752297915
    },
    {
        "content": "<p>At least in my project, this seems to be fixed for updating rc4. thanks</p>",
        "id": 530558038,
        "sender_full_name": "SnO2WMaN",
        "timestamp": 1753361997
    }
]