[
    {
        "content": "<p>I think I found a invalid name in a ML data set for this statement:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span>\n\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">exercise_22_2b</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"n\">QuotientMap</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>What is the recommended fix for the type? Thanks in advance!</p>\n<p>My corrected dataset will live here: <a href=\"https://huggingface.co/datasets/UDACA/proofnet-v2-lean4/viewer/default/validation?row=46\">https://huggingface.co/datasets/UDACA/proofnet-v2-lean4/viewer/default/validation?row=46</a></p>",
        "id": 496900592,
        "sender_full_name": "Brando Miranda",
        "timestamp": 1738286770
    },
    {
        "content": "<p>Could this be <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Topology.IsQuotientMap#doc\">docs#Topology.IsQuotientMap</a></p>",
        "id": 496901246,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738287175
    },
    {
        "content": "<p>In maths this is called a retraction <a href=\"https://en.m.wikipedia.org/wiki/Retraction_(topology)\">https://en.m.wikipedia.org/wiki/Retraction_(topology)</a> . A quotient map is something else.</p>",
        "id": 496939898,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738306768
    },
    {
        "content": "<p>Aaron is right, the statement is meant to be <code>IsQuotientMap</code>.</p>",
        "id": 496969335,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738317604
    },
    {
        "content": "<p>Kevin, this is indeed a retraction, but it’s true that a retraction is a quotient map.</p>",
        "id": 496969442,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738317632
    },
    {
        "content": "<p>Here is a proof:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Order</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">Topology</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span>\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"n\">Topology</span>\n\n\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">exercise_22_2b</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span>\n<span class=\"w\">    </span><span class=\"o\">{</span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hr</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">IsQuotientMap</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">refine</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">RightInverse</span><span class=\"bp\">.</span><span class=\"n\">surjective</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"o\">,</span><span class=\"w\">  </span><span class=\"n\">le_antisymm</span><span class=\"w\"> </span><span class=\"bp\">?_</span><span class=\"w\"> </span><span class=\"bp\">&lt;|</span><span class=\"w\"> </span><span class=\"n\">continuous_iff_coinduced_le</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"n\">hr</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"o\">((</span><span class=\"bp\">↑</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">coinduced</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coinduced</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">induced</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">‹_›</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">coinduced</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">‹_›</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"n\">coinduced_mono</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">coinduced_le_iff_le_induced</span><span class=\"bp\">.</span><span class=\"n\">mpr</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">rwa</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">coinduced_compose</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">show</span><span class=\"w\"> </span><span class=\"n\">r</span><span class=\"w\"> </span><span class=\"bp\">∘</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">aesop</span><span class=\"w\"> </span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">this</span>\n</code></pre></div>\n<p>it may be that we don’t have this in Mathlib.</p>",
        "id": 496972231,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738318509
    },
    {
        "content": "<p>And we should really rename these <code>coinduced</code> and <code>induced</code></p>",
        "id": 496972308,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738318533
    },
    {
        "content": "<p>for consistency with everything else. I agree that we say “induced topology” in the real world. But I’ve never heard anyone saying “coinduced topology”.</p>",
        "id": 496972476,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738318577
    },
    {
        "content": "<p>That fact that this “co” is reversed from our usual “map/comap” pair is really bad.</p>",
        "id": 496972561,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738318613
    },
    {
        "content": "<p>Anatole pointed out to me when I asked about this recently that the coinduced topology is just <del>indiscrete</del>(edit: discrete) away from the image so it only really makes sense to consider it for surjections where we can just call it the quotient topology</p>",
        "id": 496974802,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738319301
    },
    {
        "content": "<p>I still think it should be called <code>map</code>.</p>",
        "id": 497047500,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1738342085
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246156\">Brando Miranda</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Fixing.20ProofNet.20data.20set.20with.20valid.20Mathlib4/near/496900592\">said</a>:</p>\n<blockquote>\n<p>I think I found a invalid name in a ML data set for this statement:</p>\n</blockquote>\n<p>This seems unlikely; rather, I think you used a different version of Lean to the one that the dataset was built with. Either the instructions for the dataset are at fault for not specifying the mathlib version, or you are at fault for not following said instructions!</p>",
        "id": 497049094,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1738342641
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Fixing.20ProofNet.20data.20set.20with.20valid.20Mathlib4/near/496974802\">said</a>:</p>\n<blockquote>\n<p>Anatole pointed out to me when I asked about this recently that the coinduced topology is just indiscrete away from the image so it only really makes sense to consider it for surjections where we can just call it the quotient topology</p>\n</blockquote>\n<p>Shouldn't that be discrete instead? All the points are apart, not together, since the function is not there to hold them together.</p>",
        "id": 497082102,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1738354904
    },
    {
        "content": "<p>Yeah maybe, I didn't stop to think :-) Yeah, preimage of anything outside image is open because it's empty, so it's discrete.</p>",
        "id": 497090765,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1738358564
    }
]