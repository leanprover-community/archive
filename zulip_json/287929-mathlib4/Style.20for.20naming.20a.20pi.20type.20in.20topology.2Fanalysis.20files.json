[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/22575\">#22575</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/22575#discussion_r1980737317\">Johan brought up</a> that he'd rather we named our families <code>X</code> or <code>A</code> instead of <code>œÄ : _ ‚Üí Type*</code>. I checked and this style of using <code>pi</code> happens consistently across topology and analysis files:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">grep</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"s2\">\"œÄ : . ‚Üí Type\"</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">wc</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">l</span>\n<span class=\"mi\">95</span>\n<span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">grep</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"s2\">\"œÄ : . ‚Üí Type\"</span><span class=\"w\"> </span><span class=\"c1\">--name-only | cut -d/ -f-2 | uniq -c</span>\n<span class=\"w\">      </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span>\n<span class=\"w\">      </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Analysis</span>\n<span class=\"w\">     </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Data</span>\n<span class=\"w\">      </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Logic</span>\n<span class=\"w\">      </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">MeasureTheory</span>\n<span class=\"w\">     </span><span class=\"mi\">16</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Order</span>\n<span class=\"w\">     </span><span class=\"mi\">21</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Topology</span>\n</code></pre></div>\n<p>Should there be a consistent style, and what should it be?</p>",
        "id": 503532322,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741185006
    },
    {
        "content": "<p>/poll What should we name pi families in topology/analysis files, especially for Pi instances?</p>",
        "id": 503532466,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741185034
    },
    {
        "content": "<p>From <a href=\"https://leanprover-community.github.io/contribute/naming.html#variable-conventions\">naming convention</a>:</p>\n<blockquote>\n<p>Types with a mathematical content are expressed with the usual mathematical notation, often with an upper case letter (<code>G</code>¬†for a group,¬†<code>R</code>¬†for a ring,¬†<code>K</code>¬†or¬†<code>ùïú</code>¬†for a field,¬†<code>E</code>¬†for a vector space, ...). This convention is not followed in older files, where greek letters are used for all types. Pull requests renaming type variables in these files are welcome.</p>\n</blockquote>",
        "id": 503534740,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1741185512
    },
    {
        "content": "<p>From that I would say that <code>œÄ</code> is not desirable.</p>",
        "id": 503535111,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1741185600
    },
    {
        "content": "<p>Okay, made a programmatic change to switch to X in <a href=\"https://github.com/leanprover-community/mathlib4/pull/22603\">#22603</a></p>",
        "id": 503576094,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741193988
    },
    {
        "content": "<p>I don't think you should change all the <code>œÄ</code> families in Mathlib to <code>X</code>. This is probably ok when <code>œÄ</code> is a family of topological spaces because I think that it's a common notation (more common than <code>œÄ</code> anyway), but in algebra for example if you have a family of groups you are often going to call it <code>G</code> or <code>H</code>, not <code>X</code>. And in general contexts where the family is not a particular structure (I'm thinking of many things in the Data folder for instance) I think the convention is actually to stick to greek letters.</p>",
        "id": 503581466,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1741195053
    },
    {
        "content": "<p>How about something like the following?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">œÄ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">instIdemSemiring</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IdemSemiring</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IdemSemiring</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">œÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">semiring</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">instSemilatticeSup</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">instOrderBot</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">    </span><span class=\"n\">add_eq_sup</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">funext</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">‚Ü¶</span><span class=\"w\"> </span><span class=\"n\">add_eq_sup</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">IdemCommSemiring</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)]</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IdemCommSemiring</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">œÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">commSemiring</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">instIdemSemiring</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"o\">}</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">KleeneAlgebra</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">œÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)]</span>\n</code></pre></div>",
        "id": 503586744,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741196252
    },
    {
        "content": "<p>One thing that personally baffles me is that these families called <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>œÄ</mi></mrow><annotation encoding=\"application/x-tex\">\\pi</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">œÄ</span></span></span></span> seem to be everywhere, but I don't remember ever noticing one before <span aria-label=\"peek\" class=\"emoji emoji-1fae3\" role=\"img\" title=\"peek\">:peek:</span> <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 503586910,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1741196290
    },
    {
        "content": "<p>I've narrowed the PR to be on Topology/Analysis/MeasureTheory files</p>",
        "id": 503587551,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741196456
    },
    {
        "content": "<p>Would it be ok if you split it in one PR for each folder? Personally I would be glad to turn <code>œÄ</code> into <code>X</code> in the MeasureTheory folder but I don't use Topology and Analysis often enough to have an opinion</p>",
        "id": 503593062,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1741197806
    },
    {
        "content": "<p>Sure, I'll split</p>",
        "id": 503598919,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741199181
    },
    {
        "content": "<p>In topology, we have the annoying situation where in a line above one has <code>{X : Type*}</code> ...</p>",
        "id": 503598993,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741199204
    },
    {
        "content": "<p>MeasureTheory: <a href=\"https://github.com/leanprover-community/mathlib4/pull/22604\">#22604</a></p>",
        "id": 503601506,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741199816
    },
    {
        "content": "<p>Analysis: <a href=\"https://github.com/leanprover-community/mathlib4/pull/22605\">#22605</a></p>",
        "id": 503601543,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741199823
    },
    {
        "content": "<p>I don't think the fact that a variable is a \"family\" should dictate what letter is should be. Instead, the name should be whatever we would call a single object with the same type-classes. Is it a family of Banach spaces, then use <code>E</code>, if it is a family of groups, use <code>G</code>, if it is a family of measure spaces, use <code>X</code>, if it is a family of indexing sets, use <code>Œπ</code>, etc.</p>",
        "id": 503606492,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1741201050
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22604\">#22604</a> for MeasureTheory is ready I think</p>",
        "id": 503623976,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1741205732
    },
    {
        "content": "<p>That totally makes sense. I think though in this specific situation of <code>œÄ</code> -- the files containing <code>œÄ</code> speak on a very low level, so there is no canonical name. Said differently, files that discuss groups, Banach spaces, etc weren't in the list that had a <code>œÄ</code>.</p>\n<p>Let's say for bornology, the PR now has</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">Œ±</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Œπ</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Bornology</span><span class=\"w\"> </span><span class=\"n\">Œ±</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Bornology</span><span class=\"w\"> </span><span class=\"n\">Œ≤</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">[</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Bornology</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)]</span>\n\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">instBornology</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bornology</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">‚àÄ</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n</code></pre></div>\n<p>I am not sure what the better naming would be here.</p>",
        "id": 503624597,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741205890
    },
    {
        "content": "<p>I think <code>X</code> looks good here, since bornologies are space-like. Both Wikipedia and ncatlab start the definitions with \"let <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span> be a set\" as well.</p>\n<p>(I think <code>Bornology (Œ† i, X i)</code> would look even nicer.)</p>",
        "id": 503625349,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1741206115
    },
    {
        "content": "<p>I've updated the <code>Analysis</code> PR according to <code>_M_odule</code>, <code>_R_ing</code>, <code>Seminormed_G_roup</code> (because E and F were taken)<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/pull/22605\">#22605</a></p>",
        "id": 503627065,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741206588
    },
    {
        "content": "<p>And I'll leave the <code>‚àÄ</code> to <code>Œ†</code> for another day</p>",
        "id": 503627226,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1741206623
    }
]