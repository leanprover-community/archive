[
    {
        "content": "<p>Hi,<br>\nI've noticed that some properties I've proved in <a href=\"https://github.com/leanprover-community/mathlib4/pull/6537\">mathlib4#6537</a> were removed during a toolchain bump <a href=\"https://github.com/leanprover-community/mathlib4/pull/7703\">mathlib4#7703</a> and <a href=\"https://github.com/leanprover-community/mathlib4/pull/7710\">mathlib4#7710</a>. Following that there were a couple of commit that reverted (and subsequently restored that commit.<br>\nThe file in question is <code>Mathlib/Analysis/InnerProductSpace/LinearPMap.lean</code> and the commits are</p>\n<ul>\n<li>26eb2b0ade1d7e252d07b13ea9253f9c8652facd</li>\n<li>f3695eb20c685cfcb5e45f75b1e68a59b8de7efb</li>\n<li>26eb2b0ade1d7e252d07b13ea9253f9c8652facd</li>\n<li>f3695eb20c685cfcb5e45f75b1e68a59b8de7efb</li>\n<li>ab56fa28da38a962b7952fc9e52edb14bef2bc5a<br>\nI have no idea what was going on there, and I wonder whether there was more lost in the chaos <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> <span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span></li>\n</ul>",
        "id": 539069457,
        "sender_full_name": "Moritz Doll",
        "timestamp": 1757684681
    },
    {
        "content": "<p>I think you are going to have to dig in the nightly testing branch to see if the change can be localized more. My memory of my PR was that something was broken with the new toolchain and we needed to go back very briefly.</p>",
        "id": 539069995,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757684846
    },
    {
        "content": "<p>The value of expressive PR descriptions...</p>",
        "id": 539070221,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757684910
    },
    {
        "content": "<p>Oh wait, I just glazed past the commit hashes</p>",
        "id": 539070693,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757685055
    },
    {
        "content": "<p>Yeah, I found something related to the Lean server crashing, but reverting mathlib commits that just happen to be merged in that timeframe is not ideal.</p>",
        "id": 539071196,
        "sender_full_name": "Moritz Doll",
        "timestamp": 1757685137
    },
    {
        "content": "<p>That is odd.</p>",
        "id": 539071916,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757685353
    },
    {
        "content": "<p><del>I am guessing I wasn't up of date and git didn't catch it.</del> Actually I don't know what happened here. Apologies. Can you look at <a href=\"https://github.com/mattrobball/mathlib4_fork/tree/fix_7f121a4\">https://github.com/mattrobball/mathlib4_fork/tree/fix_7f121a4</a> and make sure everything looks in order?</p>",
        "id": 539079383,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757687362
    },
    {
        "content": "<p>This is not a PR yet in the case you want rework the git history to remove me from the authoring.</p>",
        "id": 539080679,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757687729
    },
    {
        "content": "<p>Can you check whether there where more commits that got removed, I am on mobile, so it would be a pain? Mine looks good. I don't care about the github authorship <span aria-label=\"smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"smile\">:smile:</span> also thanks for fixing it so quickly</p>",
        "id": 539081564,
        "sender_full_name": "Moritz Doll",
        "timestamp": 1757687962
    },
    {
        "content": "<p>I am looking now at that now</p>",
        "id": 539081673,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757687992
    },
    {
        "content": "<p>Ok, I figured it out. Yours is the only commit that got sandwiched between bumping the std/batteries dependency and the toolchain itself and probably got lost in the continuous reconciliation process that is nightly testing.</p>",
        "id": 539083359,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688464
    },
    {
        "content": "<p>Then each commit after was revert/revert-revert of that</p>",
        "id": 539083536,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688506
    },
    {
        "content": "<p>Do we need tooling to make sure this doesn't happen again? (Are we sure it hasn't happened before?)</p>",
        "id": 539083700,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757688547
    },
    {
        "content": "<p>In theory we should freeze commits to master X hours before a bump</p>",
        "id": 539083922,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688587
    },
    {
        "content": "<p>For some X</p>",
        "id": 539084087,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688619
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/29595\">#29595</a></p>",
        "id": 539084561,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688696
    },
    {
        "content": "<p>It is possible to manually turn on/off bors and prevent new commits for a while; we could add it to a script too if necessary.</p>",
        "id": 539085070,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757688765
    },
    {
        "content": "<p>Does bors remember calls while it is sleeping?</p>",
        "id": 539085300,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688798
    },
    {
        "content": "<p>This has to be a solved problem</p>",
        "id": 539085666,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688849
    },
    {
        "content": "<p>If something is in the queue and finishes its build while bors is offline, then we might have to re-run it.</p>",
        "id": 539085821,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757688872
    },
    {
        "content": "<p>If it's offline, it's not listening for calls.</p>",
        "id": 539085986,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757688895
    },
    {
        "content": "<p>Actually, it might not be too hard to build in a mode where we pause it pushing to <code>master</code> for a while.</p>",
        "id": 539086236,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1757688931
    },
    {
        "content": "<p>Maybe not for bors in particular but don't merge anything in some time frame before some set of events is a universal problem</p>",
        "id": 539086373,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757688950
    },
    {
        "content": "<p>Ah right the phrase is \"feature freeze\"</p>",
        "id": 539089250,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757689507
    },
    {
        "content": "<p>Sorry, does someone understand what happened here?</p>",
        "id": 539463256,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1757911574
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"412682\">Moritz Doll</span> <a href=\"#narrow/channel/287929-mathlib4/topic/LinearPMap.20properties.20removed.20by.20toolchain.20bump/near/539069457\">said</a>:</p>\n<blockquote>\n<p>and the commits are</p>\n<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/commit/26eb2b0ade1d7e252d07b13ea9253f9c8652facd\">26eb2b0ade1d7e252d07b13ea9253f9c8652facd</a> - chore: bump toolchain to v4.2.0-rc2 (<a href=\"https://github.com/leanprover-community/mathlib4/pull/7703\">#7703</a>)</li>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/commit/f3695eb20c685cfcb5e45f75b1e68a59b8de7efb\">f3695eb20c685cfcb5e45f75b1e68a59b8de7efb</a> - chore: revert <a href=\"https://github.com/leanprover-community/mathlib4/pull/7703\">#7703</a> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/7710\">#7710</a>)</li>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/commit/ab56fa28da38a962b7952fc9e52edb14bef2bc5a\">ab56fa28da38a962b7952fc9e52edb14bef2bc5a</a> - Revert \"chore: revert <a href=\"https://github.com/leanprover-community/mathlib4/pull/7703\">#7703</a> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/7710\">#7710</a>)\"</li>\n</ul>\n</blockquote>\n<p>Linked and with duplicates removed for convenience</p>",
        "id": 539510922,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1757929915
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/LinearPMap.20properties.20removed.20by.20toolchain.20bump/near/539083359\">said</a>:</p>\n<blockquote>\n<p>Ok, I figured it out. Yours is the only commit that got sandwiched between bumping the std/batteries dependency and the toolchain itself and probably got lost in the continuous reconciliation process that is nightly testing.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span></p>",
        "id": 539551480,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1757941222
    }
]