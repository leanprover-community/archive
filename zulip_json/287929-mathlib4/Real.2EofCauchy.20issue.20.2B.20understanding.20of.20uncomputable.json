[
    {
        "content": "<p>Hi, <br>\nHere is some code that I wrote in Lean </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">def</span><span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">t</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"bp\">#</span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n</code></pre></div>\n<p>In line 2, I notice that Lean showed me Real.ofCauchy (sorry /- 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, ... -/) and in Line 3 showed me an error : \"failed to compile definition, consider marking it as 'noncomputable' because it depends on 'Real.decidableLT', and it does not have executable code\"</p>\n<p>I wonder why #eval returns the value of f(2) to a Real.ofCauchy (I wonder if this showed as a Cauchy sequence) and if it is the reason that it cannot compare with a real value in line 3. </p>\n<p>In addition, I want to understand more about 'Real.decidableLT' and 'noncomputable' as I want to change the value of f(2) to real numbers to compare with other real values</p>\n<p>Please correct me if I have any false statements. <br>\nThanks</p>",
        "id": 467305087,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1725380292
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/stream/270676-lean4/topic/Real.2EofCauchy.20issue.20.2B.20understanding.20of.20uncomputable\">#lean4 &gt; Real.ofCauchy issue + understanding of uncomputable</a> by <span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span>.</p>",
        "id": 467306247,
        "sender_full_name": "Notification Bot",
        "timestamp": 1725380600
    },
    {
        "content": "<p>When you ask lean to <code>#eval</code> something, you are asking it to actually <em>compute</em> the result. The issue is that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Real.decidableLT#doc\">docs#Real.decidableLT</a> involves the law of excluded middle, which is noncomputable.</p>\n<p>Think about it this way: let's say I give you two Cauchy sequences <code>x y : ℕ → ℚ</code>. Can you provide an algorithm which will determine whether <code>Real.ofCauchy x &lt; Real.ofCauchy y</code>? Note that this is equivalent to <code>∃ ε &gt; 0, ∃ N : ℕ, ∀ n ≥ N, x n &lt; y n</code>.</p>\n<p>The answer is: no, you can't. The idea being that you have no information about <em>how fast</em> each Cauchy sequence settles down. No matter how far out you go in each sequence, and no matter the behavior of the sequences up to that point, it may be the case that somewhere past that point the behavior of the sequences changes.</p>",
        "id": 467307519,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1725381013
    },
    {
        "content": "<p>Even if we rewrite the definition so that the sequences converge at predictable rate (e.g., we require that <code>|x i - x j| &lt; 1 / 2^n</code> whenever <code>i &gt; n</code> and <code>j &gt; n</code>), this won't be enough. You start computing the sequence, and you get <code>0</code> all the time. When should you stop and say \"OK, now I'm sure that it's not positive\"? What if the next term is <code>1 / 2^(n + 1)</code>?</p>",
        "id": 467310815,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1725381961
    },
    {
        "content": "<p>I have tried to change that function from R to N and everything works. What is the difference between R and N when representing in Lean?</p>",
        "id": 467623062,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1725472990
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"735980\">Bach Hoang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Real.2EofCauchy.20issue.20.2B.20understanding.20of.20uncomputable/near/467623062\">said</a>:</p>\n<blockquote>\n<p>I have tried to change that function from R to N and everything works. What is the difference between R and N when representing in Lean?</p>\n</blockquote>\n<p>N is represented as a simple inductive type where every number is uniquely identified by being either 0 or the successor of some other natural number. This is much better for algorithms than an infinite sequence like Cauchy's</p>",
        "id": 467634127,
        "sender_full_name": "Giacomo Stevanato",
        "timestamp": 1725475984
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"728068\">Giacomo Stevanato</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Real.2EofCauchy.20issue.20.2B.20understanding.20of.20uncomputable/near/467634127\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"735980\">Bach Hoang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Real.2EofCauchy.20issue.20.2B.20understanding.20of.20uncomputable/near/467623062\">said</a>:</p>\n<blockquote>\n<p>I have tried to change that function from R to N and everything works. What is the difference between R and N when representing in Lean?</p>\n</blockquote>\n<p>N is represented as a simple inductive type where every number is uniquely identified by being either 0 or the successor of some other natural number. This is much better for algorithms than an infinite sequence like Cauchy's</p>\n</blockquote>\n<p>Ah I see. Thank you. But what if I want to perform relations between reals such as x &gt; y in Lean. What should I do then ?</p>",
        "id": 467639977,
        "sender_full_name": "Bach Hoang",
        "timestamp": 1725477509
    },
    {
        "content": "<p>You can use <code>x &gt; y</code> just fine -- for example, in a proof -- you just can't <code>#eval</code> it.</p>",
        "id": 467640338,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1725477612
    }
]