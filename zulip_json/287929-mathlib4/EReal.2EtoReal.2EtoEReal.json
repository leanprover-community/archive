[
    {
        "content": "<p>We mix three different notations in immediate succession:</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L411\">https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L411</a><br>\n<code>(x.toReal : EReal)</code></p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L416\">https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L416</a><br>\n<code>x.toReal</code> where <code>.toEReal</code> is left out</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L422\">https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L422</a><br>\n<code>↑x.toReal</code></p>\n<p>Furthermore, it is possible to write <code>x.toReal.toEReal</code> explicitly.<br>\nWhich notation should we use?</p>",
        "id": 450649675,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1720687065
    },
    {
        "content": "<p>These all mean the same thing to lean, don't they?</p>",
        "id": 450653073,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720687974
    },
    {
        "content": "<p>Yes. I claim we shouldn't mix these notations in the same file, at least when they are used in similar contexts.</p>",
        "id": 450654221,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1720688224
    },
    {
        "content": "<p>Which notation is desirable here?</p>",
        "id": 450654271,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1720688236
    },
    {
        "content": "<p>All that really matters is what ends up in the theorem statement, and here you get the same thing whichever spelling you pick</p>",
        "id": 450667930,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720692128
    },
    {
        "content": "<p>Right, they're all syntactically equal once they've been elaborated as terms of <code>EReal</code>.</p>",
        "id": 450669166,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720692411
    },
    {
        "content": "<p>Am I the only one who cares what the code looks like?<br>\nWhy don't we stick to one spelling, at least in these two statements that are symmetrical?<br>\n<a href=\"https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L416\">https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L416</a><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L422\">https://github.com/leanprover-community/mathlib4/blob/fba419c6646ecec8022c9edaf0f22bab4ae5473b/Mathlib/Data/Real/EReal.lean#L422</a></p>",
        "id": 450671000,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1720692916
    },
    {
        "content": "<p>my guess would be that the second example is the way it is because lean infers the coersion by itself due to the lhs being <code>EReal</code>, meaning less typing. this trick doesn't work for example 1 or 3, however... or at least, i don't think it does...</p>",
        "id": 450672948,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1720693502
    },
    {
        "content": "<p>if we were to pick any standard spelling for this, it can't be the second one</p>",
        "id": 450673054,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1720693549
    },
    {
        "content": "<p>I don't think it's worth spending energy on this</p>",
        "id": 450677599,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1720695252
    },
    {
        "content": "<p>Indeed, the energy is better spent on fixing inconsistencies which _do_ end up in the final theorem statements</p>",
        "id": 450677912,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1720695373
    },
    {
        "content": "<p>Lean pretty prints them all with the <code>↑</code> arrow. It would make most sense to follow that convention in the code, imo.</p>",
        "id": 450700724,
        "sender_full_name": "Richard Osborn",
        "timestamp": 1720702052
    },
    {
        "content": "<p>This also will have the code match how the documentation prints it.</p>",
        "id": 450700938,
        "sender_full_name": "Richard Osborn",
        "timestamp": 1720702088
    },
    {
        "content": "<p>I think we should only write up-arrows in code in exceptional circumstances</p>",
        "id": 450700953,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1720702093
    },
    {
        "content": "<p>My instinct is to write as little as possible. For example I'd explicitly coerce to EReal if lean doesn't see that this is what I want, but I would not do this if lean already knows that it's expecting an EReal. Hence what I write depends on context, and in particular I want the flexibility to be able to write what I want.</p>",
        "id": 450713139,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1720705164
    }
]