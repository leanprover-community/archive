[
    {
        "content": "<p>Recently, a funny story happened to me:<br>\nI was on the train bumping <span class=\"user-mention\" data-user-id=\"699016\">@Edison Xie</span>'s repo in a gitpod workspace. Then suddenly I arrived in Paris and needed to change to the Eurostar. Knowing that there would be no internet connection there, I tried switching to my local vscode on my Windows machine.</p>",
        "id": 531319786,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695161
    },
    {
        "content": "<p>I cloned the repo locally, but I got an error I had never seen before, saying that somehow the cloning had failed. Thinking it was a network error, I tried tried and retried, to no avail. Eventually I thought of looking into the part-cloned folder to see what's wrong. What I found was that everything was in order, except for a single missing file <code>BrauerGroup/Con.lean</code>.</p>",
        "id": 531319813,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695169
    },
    {
        "content": "<p>Easy enough, I said to myself, I can just create the file manually and copy-paste its content from github. Hence I clicked on \"New file\", typed <code>Con.lean</code> and pressed Enter. But then I got <a href=\"/user_uploads/3121/AUbDWsEtFEE_-YmWbuauB7ia/image.png\">this really obscure error</a> which again I had never seen before.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/AUbDWsEtFEE_-YmWbuauB7ia/image.png\" title=\"this really obscure error\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"756x218\" src=\"/user_uploads/thumbnail/3121/AUbDWsEtFEE_-YmWbuauB7ia/image.png/840x560.webp\"></a></div>",
        "id": 531319844,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695178
    },
    {
        "content": "<p>Turns out that <code>con</code>/<code>Con</code>/<code>CON</code>/etc are forbidden filenames on Windows, with or without a file extension, as explained on <a href=\"https://learn.microsoft.com/en-gb/windows/win32/fileio/naming-a-file\">this Windows help page</a>. This is really important to know for mathlib since we have objects like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Con#doc\">docs#Con</a>, which could naturally live in a file named <code>Con.lean</code>.</p>",
        "id": 531319892,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695191
    },
    {
        "content": "<p><a href=\"https://www.youtube.com/watch?v=bC6tngl0PTI\">https://www.youtube.com/watch?v=bC6tngl0PTI</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"bC6tngl0PTI\" href=\"https://www.youtube.com/watch?v=bC6tngl0PTI\"><img src=\"https://uploads.zulipusercontent.net/98c2c392742856cd264bd26086a9e825d4d561a8/68747470733a2f2f692e7974696d672e636f6d2f76692f624336746e676c305054492f6d7164656661756c742e6a7067\"></a></div><p>Why You Can't Name A File CON In Windows | Tom Scott</p>",
        "id": 531319938,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753695204
    },
    {
        "content": "<p><span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span></p>",
        "id": 531320122,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753695261
    },
    {
        "content": "<p>We need a linter for this. Would anybody like to volunteer?</p>",
        "id": 531320313,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753695311
    },
    {
        "content": "<p>If nothing is done, eventually a PR will add a file <code>Mathlib.Something.Con</code>, and suddenly all Windows users will be out of the game. Maybe this is something we can prevent using a linter?</p>",
        "id": 531320320,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695313
    },
    {
        "content": "<p>You can probably imitate the implementation of <a href=\"https://github.com/leanprover-community/mathlib4/pull/24654\">#24654</a>; I'll be happy to review.</p>",
        "id": 531320551,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753695383
    },
    {
        "content": "<p>CON isn't the only forbidden filename. The whole list provided by the above help page is CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, COM¹, COM², COM³, LPT1, LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9, LPT¹, LPT², and LPT³.</p>",
        "id": 531320654,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695410
    },
    {
        "content": "<p>I'm surprised we haven't heard anyone run into \"aux\". That's a classic one projects would run into.</p>",
        "id": 531320667,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1753695413
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/near/531319938\">said</a>:</p>\n<blockquote>\n<p><a href=\"https://www.youtube.com/watch?v=bC6tngl0PTI\">https://www.youtube.com/watch?v=bC6tngl0PTI</a></p>\n<p>Why You Can't Name A File CON In Windows | Tom Scott</p>\n</blockquote>\n<p>For the record, I have watched that video years ago, but it never occured to me that <code>Con.lean</code> would be an issue. I thought(/remembered) that only applied to files <strong>without an extension</strong>.</p>",
        "id": 531320967,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695498
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/near/531320551\">said</a>:</p>\n<blockquote>\n<p>You can probably imitate the implementation of <a href=\"https://github.com/leanprover-community/mathlib4/pull/24654\">#24654</a>; I'll be happy to review.</p>\n</blockquote>\n<p>I'll try adapting said linter in a bit. PR hopefully incoming</p>",
        "id": 531321836,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753695753
    },
    {
        "content": "<p>(This also applies for any part of the module name, by the way --- as directory names are also covered by the above.)</p>",
        "id": 531323138,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753696160
    },
    {
        "content": "<p>If you want, you can also check for bad characters (such as <code>!</code> or quotes) in module names. Let's get this right!</p>",
        "id": 531323255,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753696192
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/27588\">#27588</a></p>",
        "id": 531335375,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1753699776
    },
    {
        "content": "<p>Fwiw Windows 11 supports Con.lean: <a href=\"https://youtu.be/Jl2Gc0eMD2s?si=hjUCPa8EYfHhW8uT&amp;t=194\">https://youtu.be/Jl2Gc0eMD2s?si=hjUCPa8EYfHhW8uT&amp;t=194</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"Jl2Gc0eMD2s\" href=\"https://youtu.be/Jl2Gc0eMD2s?si=hjUCPa8EYfHhW8uT&amp;t=194\"><img src=\"https://uploads.zulipusercontent.net/903574d280ef90d2142aa18cc08a415c8e0b3518/68747470733a2f2f692e7974696d672e636f6d2f76692f4a6c32476330654d4432732f6d7164656661756c742e6a7067\"></a></div>",
        "id": 531368757,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1753708834
    },
    {
        "content": "<p>I will not go to windows 11</p>",
        "id": 531371298,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1753709488
    },
    {
        "content": "<p>We should just name it <code>Сon.lean</code> (trust me, copy this name and it will work)</p>",
        "id": 531381156,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1753711876
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/near/531319786\">said</a>:</p>\n<blockquote>\n<p>Recently, a funny story happened to me:<br>\nI was on the train bumping <span class=\"user-mention silent\" data-user-id=\"699016\">Edison Xie</span>'s repo in a gitpod workspace. Then suddenly I arrived in Paris and needed to change to the Eurostar. Knowing that there would be no internet connection there, I tried switching to my local vscode on my Windows machine.</p>\n</blockquote>\n<p>We should name every file “Con” to prevent people from using Windows :)</p>",
        "id": 531381992,
        "sender_full_name": "Edison Xie",
        "timestamp": 1753712096
    },
    {
        "content": "<p>(And force them to use a MacBook)</p>",
        "id": 531382070,
        "sender_full_name": "Edison Xie",
        "timestamp": 1753712116
    },
    {
        "content": "<p>Let's <em>not</em> start an OS debate --- lest I'll have to convince you to use Linux :-)<br>\n(edit: oops, missed a negation...)</p>",
        "id": 531382216,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753712155
    },
    {
        "content": "<p>I'd rather just formalise mathematics together with all of you.</p>",
        "id": 531382246,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1753712162
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/near/531382216\">said</a>:</p>\n<blockquote>\n<p>Let's start an OS debate --- lest I'll have to convince you to use Linux :-)</p>\n</blockquote>\n<p>Your post made me realize something... I should port Lean to Haiku.</p>",
        "id": 531384423,
        "sender_full_name": "suhr",
        "timestamp": 1753712740
    },
    {
        "content": "<p>You could call the file Cong.lean instead!  <span aria-label=\"onion\" class=\"emoji emoji-1f9c5\" role=\"img\" title=\"onion\">:onion:</span></p>",
        "id": 531385362,
        "sender_full_name": "David Ang",
        "timestamp": 1753712968
    },
    {
        "content": "<p>Maybe <code>lake</code> should ship a Linux VM that replaces the host OS whenever it is not Linux.</p>",
        "id": 531386213,
        "sender_full_name": "Christian Merten",
        "timestamp": 1753713178
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/near/531371298\">said</a>:</p>\n<blockquote>\n<p>I will not go to windows 11</p>\n</blockquote>\n<p>You better should (or of course, to something that is not windows), microsoft will be dropping security updates for win 10 by mid October. Using win10 after that is more or less begging to eventually get into trouble.</p>",
        "id": 531391255,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1753714503
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 531440501,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1753730092
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Never.20name.20a.20file.20Con.2Elean/near/531320667\">said</a>:</p>\n<blockquote>\n<p>I'm surprised we haven't heard anyone run into \"aux\". That's a classic one projects would run into.</p>\n</blockquote>\n<p>Side remark: I mean, I (we) did run into the <code>AUX/</code> folder issue in a Lean project for a course a while ago, but we just debugged and fixed it and moved on. Since it's a Windoof-problem and not Lean related, it didn't occure to us to mention it on Zulip. I'd imagine others have been at the same place before.</p>",
        "id": 531473487,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1753741810
    },
    {
        "content": "<p>Relevant thread: <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/channel/113488-general/topic/Build.20Fails.20Only.20on.20Ubuntu/with/529984890\">#general &gt; Build Fails Only on Ubuntu</a></p>",
        "id": 531483026,
        "sender_full_name": "Niels Voss",
        "timestamp": 1753747052
    }
]