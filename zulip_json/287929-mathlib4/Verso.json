[
    {
        "content": "<p>I have just tried to install Verso and to follow the instructions in the <code>README.md</code> file.<br>\nI wanted to have a preview of the demo text book, hence I entered <code>lake build</code> as indicated, and I got an error message</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">pro</span><span class=\"bp\">-</span><span class=\"n\">acl</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">ℹ</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">255</span><span class=\"bp\">/</span><span class=\"mi\">276</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Replayed</span><span class=\"w\"> </span><span class=\"n\">DemoTextbook</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">examples</span><span class=\"bp\">/</span><span class=\"n\">textbook</span><span class=\"bp\">/</span><span class=\"n\">DemoTextbook</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">15</span>\n<span class=\"bp\">✖</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"mi\">274</span><span class=\"bp\">/</span><span class=\"mi\">276</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Building</span><span class=\"w\"> </span><span class=\"n\">DemoTextbookMain</span>\n<span class=\"n\">trace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">.&gt;</span><span class=\"w\"> </span><span class=\"n\">LEAN_PATH</span><span class=\"bp\">=/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">chambert</span><span class=\"bp\">/</span><span class=\"n\">Documents</span><span class=\"bp\">/</span><span class=\"n\">Lean4</span><span class=\"bp\">/</span><span class=\"n\">Verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">subverso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">chambert</span><span class=\"bp\">/</span><span class=\"n\">Documents</span><span class=\"bp\">/</span><span class=\"n\">Lean4</span><span class=\"bp\">/</span><span class=\"n\">Verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">MD4Lean</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">chambert</span><span class=\"bp\">/</span><span class=\"n\">Documents</span><span class=\"bp\">/</span><span class=\"n\">Lean4</span><span class=\"bp\">/</span><span class=\"n\">Verso</span><span class=\"bp\">/.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">chambert</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.21.0-rc3/bin/lean /Users/chambert/Documents/Lean4/Verso/examples/textbook/DemoTextbookMain.lean -R /Users/chambert/Documents/Lean4/Verso/examples/textbook -o /Users/chambert/Documents/Lean4/Verso/.lake/build/lib/lean/DemoTextbookMain.olean -i /Users/chambert/Documents/Lean4/Verso/.lake/build/lib/lean/DemoTextbookMain.ilean -c /Users/chambert/Documents/Lean4/Verso/.lake/build/ir/DemoTextbookMain.c --load-dynlib /Users/chambert/Documents/Lean4/Verso/.lake/packages/MD4Lean/.lake/build/lib/libleanmd4c.dylib --plugin /Users/chambert/Documents/Lean4/Verso/.lake/packages/MD4Lean/.lake/build/lib/libMD4Lean.dylib --plugin /Users/chambert/.elan/toolchains/leanprover--lean4---v4.21.0-rc3/lib/lean/libLake_shared.dylib --json</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">examples</span><span class=\"bp\">/</span><span class=\"n\">textbook</span><span class=\"bp\">/</span><span class=\"n\">DemoTextbookMain</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">16</span><span class=\"o\">:</span><span class=\"mi\">5</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"kn\">namespace</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">DemoTextbook'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">examples</span><span class=\"bp\">/</span><span class=\"n\">textbook</span><span class=\"bp\">/</span><span class=\"n\">DemoTextbookMain</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">37</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">constant</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">Block</span><span class=\"bp\">.</span><span class=\"n\">savedLean'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">examples</span><span class=\"bp\">/</span><span class=\"n\">textbook</span><span class=\"bp\">/</span><span class=\"n\">DemoTextbookMain</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">44</span><span class=\"o\">:</span><span class=\"mi\">25</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">constant</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">Block</span><span class=\"bp\">.</span><span class=\"n\">savedImport'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">examples</span><span class=\"bp\">/</span><span class=\"n\">textbook</span><span class=\"bp\">/</span><span class=\"n\">DemoTextbookMain</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">69</span><span class=\"o\">:</span><span class=\"mi\">29</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">identifier</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">DemoTextbook</span><span class=\"bp\">.«</span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">canonical</span><span class=\"w\"> </span><span class=\"n\">document</span><span class=\"w\"> </span><span class=\"n\">object</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"bp\">»'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">exited</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n<span class=\"n\">Some</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">builds</span><span class=\"w\"> </span><span class=\"n\">logged</span><span class=\"w\"> </span><span class=\"n\">failures</span><span class=\"o\">:</span>\n<span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">DemoTextbookMain</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"n\">failed</span>\n</code></pre></div>",
        "id": 523292825,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749562267
    },
    {
        "content": "<p>I think it is easier to clone <span class=\"user-mention\" data-user-id=\"519269\">@Pim Otte</span> 's analysis-book repository at the moment</p>",
        "id": 523293488,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1749562452
    },
    {
        "content": "<p>It is also possible that this error comes from mistamtched toolchains</p>",
        "id": 523293668,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1749562508
    },
    {
        "content": "<p>In particular, if you want play with the Manual genre, look at <a href=\"https://github.com/pimotte/analysis-book/tree/49ae656aae3024f25f82330d68e7ae30a9b44e67\">this commit</a>. The later versions are based on the Site genre, because we wanted to use the Literate Lean page.</p>",
        "id": 523294984,
        "sender_full_name": "Pim Otte",
        "timestamp": 1749562892
    },
    {
        "content": "<p>I think I cloned the last version,  and something doesn't work in my setup. The first step already breaks :</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"o\">(</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">pro</span><span class=\"bp\">-</span><span class=\"n\">acl</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">analysis</span>\n<span class=\"o\">(</span><span class=\"mi\">22</span><span class=\"o\">:</span><span class=\"mi\">10</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">pro</span><span class=\"bp\">-</span><span class=\"n\">acl</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">Analysis</span><span class=\"o\">:</span><span class=\"n\">docs</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">unknown</span><span class=\"w\"> </span><span class=\"n\">executable</span><span class=\"w\"> </span><span class=\"n\">Analysis</span><span class=\"o\">:</span><span class=\"n\">docs</span>\n</code></pre></div>\n<p>and the second one missed mathlib, that is not present in <code>lakefile.toml</code>…</p>",
        "id": 523363347,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749586357
    },
    {
        "content": "<p>I think you want to run a <code>lake build</code> first then</p>",
        "id": 523363781,
        "sender_full_name": "Pim Otte",
        "timestamp": 1749586570
    },
    {
        "content": "<p>I ended doing that, using the documentation from Tao's book…</p>",
        "id": 523364711,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749587096
    },
    {
        "content": "<p>If you're building the latest version, you might want to build from <a href=\"https://github.com/teorth/analysis\">his repo</a> in any case. It has some improvements that are not in my repo. The reason I linked to an old commit of mine is because that's the last time I did something with the Manual genre, which is also what's used for the demo textbook</p>",
        "id": 523365167,
        "sender_full_name": "Pim Otte",
        "timestamp": 1749587318
    },
    {
        "content": "<p>Is there a stable tag for verso, similar to mathlib?</p>",
        "id": 523756914,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1749734757
    }
]