[
    {
        "content": "<p>I am replacing <code>List.enum</code> with <code>List.zipIdx</code> in <a href=\"https://github.com/leanprover/lean4/pull/6800\">lean#6800</a> (for uniformity with <code>Array</code> operations; <code>Array.zipWithIndex</code> is simultaneously being renamed to <code>Array.zipIdx)</code>.</p>\n<p>This generates pairs in the opposite order, so there are occasional fix ups required, which I'm performing on <code>lean-pr-testing-6800</code>.</p>\n<p>There are a few spots I'd like to hand off, if possible.</p>\n<p>First, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TrivSqZeroExt.snd_list_prod#doc\">docs#TrivSqZeroExt.snd_list_prod</a> will need a rewrite --- it is a somewhat fragile proof with a long <code>rw</code> followed by a long <code>simp_rw</code>. This theorem is not actually used anywhere, so another alternative is perhaps deleting it. I'll ping <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> and <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> on the basis they are listed in the authors line. But anyone should feel free to jump in!</p>\n<p>(For now, pushing fixes directly to <code>lean-pr-testing-6800</code> is ideal.)</p>\n<p>Second, there are some updates needed in Mathlib/Data/List/Indexes. Hopefully this is just a matter of following the deprecation warnings, and if need be renaming theorems (and adding deprecations for these renamings). As far as I can see this file is only used by <code>Mathlib/Computability/</code>, so it would be great if someone using these files could take this task on. I'll ping here everyone listed in an \"Authors:\" line of this or a downstream file: <span class=\"user-mention\" data-user-id=\"256311\">@Jannis Limperg</span>, <span class=\"user-mention\" data-user-id=\"267202\">@Fox Thomson</span>, <span class=\"user-mention\" data-user-id=\"294142\">@Chris Wong</span>, <span class=\"user-mention\" data-user-id=\"387244\">@YaÃ«l Dillies</span>.</p>",
        "id": 496257201,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738039391
    },
    {
        "content": "<p>Thanks Kim. At least for automata, I believe we only use <code>Mathlib.Data.List.Indexes</code> for the <code>list_reverse_induction</code> export, which looks to be unaffected by this change?</p>",
        "id": 496258957,
        "sender_full_name": "Chris Wong",
        "timestamp": 1738040746
    },
    {
        "content": "<p>To be honest I'm not sure why the induction principle is in that module and not the main one <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 496259184,
        "sender_full_name": "Chris Wong",
        "timestamp": 1738040915
    },
    {
        "content": "<p>Okay. It doesn't directly help with the deprecation warnings, but if you felt like moving the lemma you actually depend on elsewhere, then it makes it easier to argue that everything affected by this change is unused and can just itself be deprecated rather than fought with.</p>",
        "id": 496293140,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738057145
    },
    {
        "content": "<p>It's just a worse version of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=List.reverseRecOn#doc\">docs#List.reverseRecOn</a> too</p>",
        "id": 496308309,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1738062075
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/21166\">#21166</a></p>",
        "id": 496308860,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1738062250
    },
    {
        "content": "<p>I pushed a <code>TrivSqZeroExt.snd_list_prod</code> fix, thanks to the new <code>List.zipIdx_cons'</code></p>",
        "id": 496325260,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1738067966
    },
    {
        "content": "<p>I merged my change into the branch as well</p>",
        "id": 496326655,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1738068448
    },
    {
        "content": "<p>Thanks very much for the assistance here!</p>",
        "id": 496441672,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738107051
    },
    {
        "content": "<p>The last stage is <a href=\"https://github.com/leanprover-community/mathlib4/pull/21201\">#21201</a>:</p>\n<blockquote>\n<p>As of 2025-01-29, these specification lemmas for <code>List.mapIdx</code>, <code>List.mapIdxM</code>, <code>List.foldlIdx</code> and <code>List.foldrIdx</code> are not used anywhere in Mathlib. Moreover, with <code>List.enum</code> and <code>List.enumFrom</code> being replaced by <code>List.zipIdx</code> in Lean's <code>nightly-2025-01-29</code> release, they now use deprecated functions and theorems.</p>\n<p>Rather than updating this unused material, we are deprecating it. Anyone wanting to restore this material is welcome to do so, but will need to update uses of <code>List.enum</code> and <code>List.enumFrom</code> to use <code>List.zipIdx</code> instead. However, note that this material will later be implemented in the Lean standard library.</p>\n</blockquote>",
        "id": 496441931,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1738107179
    }
]