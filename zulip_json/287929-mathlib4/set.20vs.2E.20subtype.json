[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Defs</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span>\n\n<span class=\"c1\">-- {n | p n}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">setOf</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">n</span>\n\n<span class=\"c1\">-- { n // p n }</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">Subtype</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">n</span>\n</code></pre></div>\n<p>Note the spacing inconsistency: spaces inside brackets (<code>{ n</code>) for subtype, but not for set (<code>{n</code>)</p>",
        "id": 547581797,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761683022
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/GHS3mIaT4kyotwYOHIi8-2fZ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/GHS3mIaT4kyotwYOHIi8-2fZ/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"45x104\" src=\"/user_uploads/thumbnail/3121/GHS3mIaT4kyotwYOHIi8-2fZ/image.png/840x560.webp\"></a></div><p>this part</p>",
        "id": 547581862,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761683045
    },
    {
        "content": "<p>I think sets used to have those extra spaces, but they disappeared at some point.</p>",
        "id": 547584713,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1761684173
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"453098\">@Dan Velleman</span> <a href=\"https://github.com/leanprover/lean3/blob/f8ed407d073e172eb9131e836b416f29628375fd/tests/lean/set_of.lean#L1\">this Lean 3 code from 8 years ago</a> shows <code>{x : nat | x &gt; 0}</code></p>",
        "id": 547584912,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761684262
    },
    {
        "content": "<p>aha <a href=\"https://github.com/leanprover-community/mathlib4/blob/0931e2913bcfa51018d9c89338918bb2a209a168/Mathlib/Init/Set.lean#L56\">this lean 4 code 4 years ago</a> shows the space</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"s2\">\"{ \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"s2\">\" | \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"s2\">\" }\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n</code></pre></div>",
        "id": 547585309,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761684450
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/4519/files#diff-16cbcfd5c97c4b4c78e5d3e4713348ad5fd0a827debb6e34e7e9240ba900983aR70\">here</a> is the PR by Mario that changed it from space to no space, 2 years ago</p>",
        "id": 547585423,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761684508
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/commit/50610c343b7065e8eec056d641f859ceed608e69#diff-c5869f03498ccb089e00dcad8f73fa95cf14c7f601faebadd0ce25f423fc7d13R86\">here</a> is the PR by Kevin Buzzard 4 years ago porting set to mathlib4, it has the space there</p>",
        "id": 547585647,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761684616
    },
    {
        "content": "<p>so perhaps Kevin introduced the spaces but Mario removed them to be consistent with Lean 3, but now that Set is entirely in mathlib (i.e. moved out of core), maybe we can put the spaces back?</p>",
        "id": 547585766,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761684669
    },
    {
        "content": "<p>I prefer it without the spaces.</p>",
        "id": 547586776,
        "sender_full_name": "Dan Velleman",
        "timestamp": 1761685072
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"453098\">@Dan Velleman</span> <span class=\"user-mention\" data-user-id=\"479359\">@Michael Stoll</span> does that apply to Subtype as well?</p>",
        "id": 547588843,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761685860
    }
]