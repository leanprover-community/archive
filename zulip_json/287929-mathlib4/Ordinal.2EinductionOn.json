[
    {
        "content": "<p>A pet peeve of mine is that we currently have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.inductionOn#doc\">docs#Ordinal.inductionOn</a>, which is <strong>not</strong> induction on ordinals or any variant of it, but rather just a specialized <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Quotient.inductionOn#doc\">docs#Quotient.inductionOn</a>. Is there anything else we could rename it to?</p>",
        "id": 465225156,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724688110
    },
    {
        "content": "<p>Or maybe we can just remove it? It's pretty much just <code>Quotient.inductionOn</code> + <code>rintro</code></p>",
        "id": 465256495,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724699496
    },
    {
        "content": "<p>We have it because the fact <code>Ordinal</code> is implemented with <code>Quotient</code> is an implementation detail</p>",
        "id": 465276511,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1724708945
    },
    {
        "content": "<p>It's no different to how WithTop has a separate induction principle to Option, right?</p>",
        "id": 465276561,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1724708979
    },
    {
        "content": "<p>Hm, fair enough. Then all we really need is a docstring clarifying this situation.</p>",
        "id": 465301866,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724722661
    },
    {
        "content": "<p>It should probably be tagged with <code>induction_eliminator</code> and <code>cases_eliminator</code></p>",
        "id": 465330664,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1724737580
    },
    {
        "content": "<p>Actually, I don't think <code>Ordinal.inductionOn</code> can be justified by analogy to <code>WithTop</code>. The declaration doesn't give you nicer rewriting or anything like that. In fact, it just gives you more variables to introduce.</p>",
        "id": 465457923,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724766179
    },
    {
        "content": "<p>Somewhat confusingly, the file uses <code>Quotient.inductionOn₂</code> and <code>Quotient.inductionOn₃</code> all over the place. Trying to write the analogous <code>Ordinal.inductionOn₂</code> and <code>Ordinal.inductionOn₃</code> reveals why: it's just much less convenient!</p>",
        "id": 465458103,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724766241
    },
    {
        "content": "<p>Consider this proof within <code>Ordinal.partialOrder</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Quotient</span><span class=\"bp\">.</span><span class=\"n\">inductionOn₃</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">f</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">g</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">⟩</span>\n</code></pre></div>\n<p>versus what would be</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Ordinal</span><span class=\"bp\">.</span><span class=\"n\">inductionOn₃</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">f</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">g</span><span class=\"bp\">⟩</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">f</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"bp\">⟩</span>\n</code></pre></div>",
        "id": 465458255,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724766270
    },
    {
        "content": "<p>Ordinals being quotients is mostly an implementation detail you can forget about once you've proven all the basic results, so I think it's fine to just remove <code>Ordinal.inductionOn</code> too and rewrite the few theorems that use it using <code>rintro</code> or whatnot.</p>",
        "id": 465458462,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724766323
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/16185\">#16185</a></p>",
        "id": 465475013,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724770342
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Ordinal.2EinductionOn/near/465457923\">said</a>:</p>\n<blockquote>\n<p>Actually, I don't think <code>Ordinal.inductionOn</code> can be justified by analogy to <code>WithTop</code>. The declaration doesn't give you nicer rewriting or anything like that. In fact, it just gives you more variables to introduce.</p>\n</blockquote>\n<p>How about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Sym2.ind#doc\">docs#Sym2.ind</a> as a comparison?</p>",
        "id": 465475567,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1724770456
    },
    {
        "content": "<p>I think the difference between those two is that <code>Sym2.ind</code> is just more widely useful. Once you've proven the basic results on ordinal arithmetic, their definition as a quotient of well-orders just kinda fades in the background.</p>",
        "id": 465476935,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724770762
    },
    {
        "content": "<p>If the only files where you use <code>Ordinal.inductionOn</code> are also using all sorts of other stuff like <code>Quotient.inductionOn₂</code>, <code>Quotient.liftOn</code>, etc, then I don't see reason not to use <code>Quotient.inductionOn</code> too.</p>",
        "id": 465477271,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724770830
    },
    {
        "content": "<p>To clarify, the only files using <code>Ordinal.inductionOn</code> are <code>Ordinal/Basic</code>, the first half of <code>Ordinal/Arithmetic</code>, <code>Cardinal/Cofinality</code> (which also already uses <code>Quotient.inductionOn</code> in a few places), and <code>Cardinal/Ordinal</code> (in a single definition).</p>",
        "id": 465479606,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1724771365
    }
]