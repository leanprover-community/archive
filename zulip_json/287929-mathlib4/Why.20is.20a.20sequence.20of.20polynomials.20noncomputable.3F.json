[
    {
        "content": "<p>Looking at <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Polynomial/Pochhammer.html#descPochhammer\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Polynomial/Pochhammer.html#descPochhammer</a> , I am surprised to see that <code>descPochhammer</code> is marked <code>noncomputable</code>. This is a sequence of polynomials defined by an explicit recursion. Does noncomputability have any advantages?</p>",
        "id": 547166781,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520482
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.X#doc\">docs#Polynomial.X</a> is noncomputable</p>",
        "id": 547166788,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761520501
    },
    {
        "content": "<p>oh. why?</p>",
        "id": 547166811,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520519
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/wiki/Computation-models-for-polynomials-and-finitely-supported-functions\">https://github.com/leanprover-community/mathlib4/wiki/Computation-models-for-polynomials-and-finitely-supported-functions</a> is possibly relevant</p>",
        "id": 547166819,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761520534
    },
    {
        "content": "<p>But to answer your direct question, because it's implented as the coeffient function <code>@if (i = 1) Classical.decEq 0 1</code> instead of <code>@if (i = 1) (Nat.decidableEq _ _) 0 1</code></p>",
        "id": 547166850,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761520601
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/25273\">#25273</a> takes a small step in a direction that will let us fix this, but right now too much code depends on this to change it</p>",
        "id": 547166907,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761520693
    },
    {
        "content": "<p>interesting discussion... I think a quotient type is the only right way</p>",
        "id": 547166923,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520716
    },
    {
        "content": "<p>not necessarily by generators</p>",
        "id": 547166927,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520735
    },
    {
        "content": "<p>I'd use a direct limit of \"n-th degree polynomials\" as n -&gt; \\infty</p>",
        "id": 547166936,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520751
    },
    {
        "content": "<p>which is still a quotient, but mod a simpler relation ((p_0, p_1, ..., p_k) ~ (p_0, p_1, ..., p_k,0))</p>",
        "id": 547166952,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520789
    },
    {
        "content": "<p>anyway, requiring decidability of R for support is unavoidable and completely expected. deciding it for X is a heavy code smell if you ask me</p>",
        "id": 547166979,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520824
    },
    {
        "content": "<p>Note also that we're trying to share most of the construction between <code>Polynomial</code> and <code>MvPolynomial</code></p>",
        "id": 547166980,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761520824
    },
    {
        "content": "<p>I sympathize with this, but in practice it turns out to be too burdensome for most algebra texts</p>",
        "id": 547167024,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520890
    },
    {
        "content": "<p>The easiest way to define multivariate polys is as a monoid algebra.</p>",
        "id": 547167036,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520917
    },
    {
        "content": "<p>Well, then your question becomes \"Why is the embedding from <code>G</code> to <code>R[G]</code> noncomputable\", which is really the same thing</p>",
        "id": 547167055,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761520959
    },
    {
        "content": "<p>it is only an embedding if R is nontrivial, so this isn't that surprising</p>",
        "id": 547167078,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761520984
    },
    {
        "content": "<p>or do you mean the map itself? the map itself should be computable</p>",
        "id": 547167084,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521001
    },
    {
        "content": "<p>I mean the map, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MonoidAlgebra.of#doc\">docs#MonoidAlgebra.of</a></p>",
        "id": 547167088,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1761521012
    },
    {
        "content": "<p>but that one's computable, right?</p>",
        "id": 547167148,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521126
    },
    {
        "content": "<p>or, well, should be</p>",
        "id": 547167156,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521137
    },
    {
        "content": "<p>It also depends on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.single#doc\">docs#Finsupp.single</a> which uses the classical decidability</p>",
        "id": 547167239,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761521235
    },
    {
        "content": "<p>Yeah, this looks bad. Should require G to be decidableEq</p>",
        "id": 547167267,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521279
    },
    {
        "content": "<p>We also need to test whether the given value is zero so we know whether to include it in the support or not</p>",
        "id": 547167326,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761521368
    },
    {
        "content": "<p>support (and similar functions, such as the degree of a polynomial) should require R to be decidableEq too</p>",
        "id": 547167373,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521410
    },
    {
        "content": "<p>but this doesn't have to infect the rest of the functionality</p>",
        "id": 547167383,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521434
    },
    {
        "content": "<p>constructivists talk of \"a polynomial of degree \\le n\" without having a notion of the (exact) degree of a polynomial</p>",
        "id": 547167403,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761521455
    },
    {
        "content": "<p>there are many clasically equivalent but constructively inequivalent ways to implement polynomial</p>",
        "id": 547167683,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761521784
    },
    {
        "content": "<p>they don't even become all equivalent even if everything has decidable equality</p>",
        "id": 547167710,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761521826
    },
    {
        "content": "<p>I'd consider reading any of the last dozen threads about compatibility and polynomials before continuing the thread</p>",
        "id": 547167718,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1761521832
    },
    {
        "content": "<p>Since this comes up fairly frequently, maybe we should add a brief explanation or a link to the wiki page to one the docstrings or the module doc.</p>",
        "id": 547169016,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1761523383
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"375375\">@Darij Grinberg</span> who cares what is computable? Why do you care? It's not stopping us from proving theorems. The point of mathlib isn't to compute. We've optimised for proving and this strategy has been very successful. Computing is a really hard problem and the idea of solving it by writing tactics instead of making things computable in the sense of logic has worked really well.</p>",
        "id": 547190551,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1761542199
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> It makes me worried about #eval for checking things, and about simplification as tactic. Though I don't know to what extent the latter uses computability</p>",
        "id": 547191058,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761542592
    },
    {
        "content": "<p>I see. Yes I never use <code>#eval</code> and have no idea how it is affected by the issues being talked about here. Are <code>ring</code> and <code>norm_num</code> not enough for you? My impression is that people who do care about actually computing numbers have other techniques, and when they don't work then they extend the techniques until they do, rather than fretting about computability. I think the underlying argument is that making something abstractly computable is very different to making it performant, so problems involving computation should be done with bespoke tactics implementing good algorithms rather than ensuring that underlying representations pass some internal computibility check.</p>",
        "id": 547191866,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1761543181
    },
    {
        "content": "<p>Perhaps it is important to note that computable is necessarily kernel computable. And #eval is a cherry on top VM calculation. But we can also get VM calculation via #simp or #norm_num, which is able to introspect on expressions and take steps that are more computationally efficient</p>",
        "id": 547245976,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1761562472
    },
    {
        "content": "<p>I see. So computability is viewed as some kind of legacy feature.<br>\nWell, I can live with that -- I just thought it's a pretty heavy code smell. I use #eval to convince myself on numerical examples that definitions are doing what I mean them to do. Probably worthless in analysis, but very convenient in anything algebraic. I don't care too much about performance when my examples are like \"4 choose 2 is 6\".</p>",
        "id": 547301112,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761577445
    },
    {
        "content": "<p>And I don't know enough about Lean to tell the difference between computable and kernel computable.</p>",
        "id": 547301249,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761577477
    },
    {
        "content": "<p>I guess the former includes simplification tactics?</p>",
        "id": 547301313,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1761577490
    },
    {
        "content": "<p>\\#eval is not the only tool available, and it seems undesirable to base your whole philosophy on one feature</p>",
        "id": 547303670,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1761577967
    },
    {
        "content": "<p>I'm increasingly on the side of computability as a distraction. We tried for a long while to make combinatorial games computable, so we could automatically prove inequalities. Eventually I realized I could write a thin wrapper around <code>simp</code> to do this, and all was good.</p>",
        "id": 547305147,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1761578294
    },
    {
        "content": "<p>I read in the docs that nothing would prevent to have Finsupp impl that could be computable.<br>\nInterrestingly, DFinsupp has been made computable. So that's what i used for lean-units even though i didn't need dependent property of DFinsupp.</p>",
        "id": 547308141,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1761578924
    },
    {
        "content": "<p>If we truly must have a computable finsupp surely merging dfinsupp and finsupp is the path of least resistance?</p>",
        "id": 547319579,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1761581690
    },
    {
        "content": "<p>I recall hearing there were some long-term plans for this but maybe I'm misremembering</p>",
        "id": 547320402,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1761581905
    },
    {
        "content": "<p>Indeed, merging them is the plan, but this is hard to do so long as <code>Finsupp</code> is used in places where it shouldn't, eg <code>MonoidAlgebra</code></p>",
        "id": 547327772,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1761583784
    },
    {
        "content": "<p>For your information. these are several implementations for kernel and/or VM computable polynomial:<br>\n<a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/Computable.20polynomial.20representation.20based.20on.20sorted.20list/near/540630240\">#general &gt; Computable polynomial representation based on sorted list @ üí¨</a>  and <a class=\"message-link\" href=\"/#narrow/channel/113489-new-members/topic/Compute.20roots.20of.20polynomials/near/420832934\">#new members &gt; Compute roots of polynomials @ üí¨</a>.</p>",
        "id": 547420806,
        "sender_full_name": "Hagb (Junyu Guo)",
        "timestamp": 1761634453
    },
    {
        "content": "<p><code>Finsupp</code> was refactored to be classical in 2019. If I correctly read discussions at that time, one of the reasons to let it be classical was that it got stuck when synthesizing instance? I don't know whether it was because of the exponential time \"in the presence of diamonds and divergence in the presence of cycles\" in Lean3, which should have been solved in Lean4 (<a href=\"https://arxiv.org/abs/2001.04301\">https://arxiv.org/abs/2001.04301</a>).</p>",
        "id": 547421823,
        "sender_full_name": "Hagb (Junyu Guo)",
        "timestamp": 1761635009
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> if the point of mathlib is to not-compute, how much harder will it be to implement complicated computational proofs?</p>",
        "id": 553238473,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1762082740
    },
    {
        "content": "<p>what you would have to do is to make a computationally efficient implementation of polynomials, and then prove it's isomorphic to <code>Polynomial</code></p>",
        "id": 553238611,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762082882
    },
    {
        "content": "<p>then you can transfer all your computations using the isomorphism</p>",
        "id": 553238626,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762082898
    },
    {
        "content": "<p>I think that the reason mathlib has caused such a stir is that in contrast to many other prover communities who have by and large put computability first and proofs second, we have put proofs first and computability second and this has enabled us to go very far in new directions.</p>\n<p>I think that ultimately mathlib will have to figure out to compute. But right now you can't expect it to compute, because people have not put the effort in to make the library computable. Computing is not as easy as it sounds because different computational implementations of objects like polynomials will have very different scaling properties and will be good at different things. Big decisions will have to be made and some people will inevitably be unhappy (there will be people saying \"polynomials are now computable but Lean still can't do (x^1000000+1)^2 even though it's trivial\" or whatever other trivial thing turns out to be hard because it's nontrivial with the implementation which ends up being chosen). </p>\n<p>There is a huge amount to be done, but until it is done, I think a fair answer to \"why can't Lean compute\" is \"don't expect it to compute\".</p>",
        "id": 553238819,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762083112
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"816344\">Aaron Liu</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Why.20is.20a.20sequence.20of.20polynomials.20noncomputable.3F/near/553238626\">said</a>:</p>\n<blockquote>\n<p>then you can transfer all your computations using the isomorphism</p>\n</blockquote>\n<p>I think this is a good idea. Should these isomorphism live outside Mathlib or should there be be alternative (computable) bridges directly integrated into mathlib ?<br>\nOne example: i made an alternative to <code>Nat.nth Nat.Prime</code> that is computable and proven that they are the same. It has value for my project, but maybe also to others, or maybe not. Extracting it to a standalone lib would be bad, keeping it in my project means nobody will use it. So there's maybe a missing middle ground.<br>\nMaybe for people interrested in computable versions, a Mathlib Computable extension library could see birth.<br>\nJust an idea.</p>",
        "id": 553246085,
        "sender_full_name": "Alfredo Moreira-Rosa",
        "timestamp": 1762090943
    },
    {
        "content": "<p>You could contribute it to mathlib in the form of a norm_num extension</p>",
        "id": 553248586,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1762093407
    },
    {
        "content": "<p>Indeed, right now I think that a far more profitable and useful approach to \"computing\" in Lean is not to worry that polynomials etc are noncomputable, forget about <code>#eval</code>, and instead write tools which compute with them anyway (like <code>norm_num</code> extensions).</p>",
        "id": 553256197,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762100602
    },
    {
        "content": "<p>For example at LLL on Friday Bhavik was showing us how to compute logs of things like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>+</mo><msqrt><mn>5</mn></msqrt></mrow><annotation encoding=\"application/x-tex\">1+\\sqrt{5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.1328em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9072em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\">5</span></span></span><span style=\"top:-2.8672em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"1.08em\" viewBox=\"0 0 400000 1080\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1328em;\"><span></span></span></span></span></span></span></span></span> to 30 decimal places, despite the fact that <code>Real</code> is noncomputable, <code>Real.log</code> is noncomputable and <code>Real.sqrt</code> is noncomputable.</p>",
        "id": 553256263,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1762100680
    },
    {
        "content": "<p>are there plans to upstream that to mathlib?</p>",
        "id": 553256305,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762100710
    },
    {
        "content": "<p>Not immediately, some of the underlying maths has been upstreamed and some more of it will be, but it's not clear to me that this functionality is the kind of thing mathlib should contain.</p>",
        "id": 553268119,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1762111673
    },
    {
        "content": "<p>Why? Because the tools are too specialized?</p>",
        "id": 553272014,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1762115736
    },
    {
        "content": "<p>I would be a bit hesitant to believe that there isn't some results in more applied fields that use the fact that log(2) is between 0.301 and 0.302...</p>",
        "id": 553272225,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762115927
    },
    {
        "content": "<p>What is the performance of #eval like? That's another reason to use tactics potentially.</p>",
        "id": 553274004,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1762117632
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110064\">Kenny Lau</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Why.20is.20a.20sequence.20of.20polynomials.20noncomputable.3F/near/553272225\">said</a>:</p>\n<blockquote>\n<p>I would be a bit hesitant to believe that there isn't some results in more applied fields that use the fact that log(2) is between 0.301 and 0.302...</p>\n</blockquote>\n<p>I added this much (for the natural log) to mathlib a few years ago already!</p>",
        "id": 553274625,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1762118240
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197836\">Jireh Loreaux</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Why.20is.20a.20sequence.20of.20polynomials.20noncomputable.3F/near/553272014\">said</a>:</p>\n<blockquote>\n<p>Why? Because the tools are too specialized?</p>\n</blockquote>\n<p>I'm happy for my mind to be changed here, but computing precise estimates for logs of arbitrary constants seems too specialised and ad-hoc to me, especially since a more general interval arithmetic setup would be strictly better. My code is already public, and I'm happy to publicise it or make it easier to import in other projects if there's interest though.</p>",
        "id": 553274819,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1762118450
    },
    {
        "content": "<p>FWIW, I'm interested in #eval for other reasons than some of you seem to be. I want it as a quick sanity check for algebraic objects, to ensure that they are what I think they are and catch misunderstandings. I'm not saying proofs should rely on the most straightforward evaluation of something. I would certainly not use it to prove bounds for real numbers.</p>",
        "id": 553275387,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1762119054
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"375375\">Darij Grinberg</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Why.20is.20a.20sequence.20of.20polynomials.20noncomputable.3F/near/553275387\">said</a>:</p>\n<blockquote>\n<p>I want it as a quick sanity check for algebraic objects</p>\n</blockquote>\n<p>the tactics are designed to be able to do that as well, such as <code>norm_num</code></p>",
        "id": 553275711,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762119364
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">fib</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñï</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">13</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">+</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">fib</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">fib</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">fib</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">fib</span><span class=\"o\">]</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">norm_num</span>\n</code></pre></div>",
        "id": 553275785,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1762119433
    },
    {
        "content": "<p>ah!</p>",
        "id": 553276949,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1762120739
    },
    {
        "content": "<p><code>sorry</code> is more flexible than i thought</p>",
        "id": 553276961,
        "sender_full_name": "Darij Grinberg",
        "timestamp": 1762120760
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Why.20is.20a.20sequence.20of.20polynomials.20noncomputable.3F/near/553256263\">said</a>:</p>\n<blockquote>\n<p>For example at LLL on Friday Bhavik was showing us how to compute logs of things like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>+</mo><msqrt><mn>5</mn></msqrt></mrow><annotation encoding=\"application/x-tex\">1+\\sqrt{5}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.04em;vertical-align:-0.1328em;\"></span><span class=\"mord sqrt\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9072em;\"><span class=\"svg-align\" style=\"top:-3em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\" style=\"padding-left:0.833em;\"><span class=\"mord\">5</span></span></span><span style=\"top:-2.8672em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"hide-tail\" style=\"min-width:0.853em;height:1.08em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"400em\" height=\"1.08em\" viewBox=\"0 0 400000 1080\" preserveAspectRatio=\"xMinYMin slice\"><path d=\"M95,702\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl0 -0\nc5.3,-9.3,12,-14,20,-14\nH400000v40H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM834 80h400000v40h-400000z\"/></svg></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1328em;\"><span></span></span></span></span></span></span></span></span> to 30 decimal places, despite the fact that <code>Real</code> is noncomputable, <code>Real.log</code> is noncomputable and <code>Real.sqrt</code> is noncomputable.</p>\n</blockquote>\n<p>Are this and other lectures from this year LLL available somewhere? The last update on the xena project yt channel is two years ago.</p>",
        "id": 555412873,
        "sender_full_name": "Shubakur Mitra",
        "timestamp": 1763053612
    },
    {
        "content": "<p>No, sorry, we're doing LLL in person going forward, it's the last Friday of the month somewhere in London and we don't record.</p>",
        "id": 555434499,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1763060140
    },
    {
        "content": "<p>I'm late to this discussion, but even if you only care about \"proving\" and not about \"computing\" per se, computability can make some things easier to prove because then you can invoke a powerful tactic to finish off a proof for you. The first example below works but the second doesn't, and I think this is traceable to polynomials being noncomputable.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ZMod</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">revert</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">GaloisField</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">decide</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"n\">revert</span>\n</code></pre></div>\n<p>This doesn't necessarily mean that the extra work needed to make things computable is always worth it, but it does illustrate that \"computing vs. proving\" is not as stark a dichotomy as it might seem.</p>",
        "id": 555462494,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1763069589
    },
    {
        "content": "<p>But then you run into the issue that <code>decide</code> is an algorithm, but not necessarily a <strong>good</strong> algorithm</p>",
        "id": 555467440,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1763071610
    },
    {
        "content": "<p>Yeah I always feel conflicted here: part of me thinks that if we make polynomials computable-in-the-sense-of-lean then we will just replace the people complaining that polynomials aren't computable with people complaining that our algorithms perform very poorly. However on the other hand maybe most uses of computability will just be people working out <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>+</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x+x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> rather than people trying to use Lean as a computer algebra system.</p>",
        "id": 555541040,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1763112624
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"375375\">Darij Grinberg</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Why.20is.20a.20sequence.20of.20polynomials.20noncomputable.3F/near/547166936\">said</a>:</p>\n<blockquote>\n<p>I'd use a direct limit of \"n-th degree polynomials\" as n -&gt; \\infty</p>\n</blockquote>\n<p>This would be my preferred approach FWIW.</p>",
        "id": 555550748,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1763115602
    },
    {
        "content": "<p>(It isn't what we will end up using for polynomials I think but I want to use it in a similar place.)</p>",
        "id": 555551088,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1763115704
    },
    {
        "content": "<p>Yeah I agree with <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> - isn't there a polynomial / algebra tactic in the works?</p>",
        "id": 555605854,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1763131537
    }
]