[
    {
        "content": "<p>We have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Multiset.ToType#doc\">docs#Multiset.ToType</a> but <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.toType#doc\">docs#Ordinal.toType</a>. Which one is correct?</p>",
        "id": 561971775,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764881253
    },
    {
        "content": "<p>Rule 2 in <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a> says \"ToType\" --- the real question is whether this should be a special exception. In any case, these should be consistent.</p>",
        "id": 561997499,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1764893784
    },
    {
        "content": "<p>Maybe using To at all is wrong, and we should instead use a a name like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Elem#doc\">docs#Set.Elem</a></p>",
        "id": 562002259,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1764896355
    },
    {
        "content": "<p>A loosely related question: should we stop using  raw <code>Subtype</code> for coercion of, e.g., <code>Submodule</code>s to <code>Type*</code>? It's annoying when <code>simp</code> simplifies <code>x \\in LinearMap.ker f</code> to <code>f x = 0</code> in the type.</p>",
        "id": 562003348,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1764896985
    },
    {
        "content": "<p><code>Ordinal.Elem</code> seems very wrong to me. It feels like overextending the set-theoretic convention of \"an ordinal is the set of smaller ordinals\" to a setting where it's not even true.</p>",
        "id": 562006461,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764899087
    },
    {
        "content": "<p><code>Multiset.Elem</code> seems a bit questionable but perhaps justifiable through analogy</p>",
        "id": 562007379,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764899743
    },
    {
        "content": "<p>I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/32449\">#32449</a> for the ordinal rename</p>",
        "id": 562008028,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764900195
    },
    {
        "content": "<p>but the naming docs have <code>Semifield.toIsField</code> as a correct example... wouldn't that indicate that it should be <code>Ordinal.toType</code>?</p>",
        "id": 562009970,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764901526
    },
    {
        "content": "<p><code>IsField</code> is a <code>Prop</code>, while <code>Type</code> is... a <code>Type</code></p>",
        "id": 562010139,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764901650
    },
    {
        "content": "<p>right, but why capitalize \"to\"?</p>",
        "id": 562010162,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764901675
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subfield.toField#doc\">docs#Subfield.toField</a></p>",
        "id": 562010208,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764901721
    },
    {
        "content": "<p>hmm, I don't know.</p>",
        "id": 562010238,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764901744
    },
    {
        "content": "<p>there are a ton of <code>.toX</code> methods where <code>X</code> is a type... <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Fin.toNat#doc\">docs#Fin.toNat</a></p>",
        "id": 562010287,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764901796
    },
    {
        "content": "<p>there does seem to be a lot of inconsistency in the codebase, where we have some <code>.To</code> methods and some <code>.to</code> methods... maybe someone could write a script that tallies both sides?</p>",
        "id": 562010520,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764901965
    },
    {
        "content": "<p>I mean you guys can do what you want but <code>.toX</code> seems more natural and is used by countless <code>.to</code> methods across mathlib that convert between types... I get the sense that <code>.ToX</code> is the outlier here</p>",
        "id": 562010926,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764902279
    },
    {
        "content": "<p>Yeah, you've convinced me</p>",
        "id": 562010969,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764902306
    },
    {
        "content": "<p>I'd like to hear feedback from others, though</p>",
        "id": 562011276,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764902625
    },
    {
        "content": "<p>Rule 2 in <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a> says that \"<code>Prop</code>s and <code>Type</code>s (or <code>Sort</code>) (inductive types, structures, classes) are in <code>UpperCamelCase</code>\".</p>\n<p><code>Subfield.toField F</code> is not a <code>Type</code>. <code>Ordinal.toType X</code> is a <code>Type</code> so it should be <code>ToType</code> instead.</p>",
        "id": 562013052,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1764904140
    },
    {
        "content": "<p>Oh, I see. So you specifically need an output of type <code>Type</code></p>",
        "id": 562013185,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764904255
    },
    {
        "content": "<p>ah, so the idea is that since <code>Ordinal.ToType</code> returns a <code>Type</code>, it <em>is</em> a type and the whole thing is capitalized?</p>",
        "id": 562013349,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764904383
    },
    {
        "content": "<p>perhaps this is just me coming from my software engineering background, where I would consider <code>Ordinal.toType</code> a function that returns a type and not a type itself, but I guess there's really no distinction</p>",
        "id": 562013444,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764904476
    },
    {
        "content": "<p>still feels a bit odd to consider <code>Ordinal.ToType</code> as the same kind of thing as <code>Nat</code> or <code>Real</code></p>",
        "id": 562013610,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764904607
    },
    {
        "content": "<p>The idea is that if <code>o : Ordinal</code> then <code>o.ToType</code> should be considered as the same kind of thing as <code>Nat</code>: something that could appear to the right of a <code>:</code>.</p>",
        "id": 562013975,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1764904879
    },
    {
        "content": "<p>I mean it's really a def that takes an ordinal and returns a type, not the name of a type itself</p>",
        "id": 562014127,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764904991
    },
    {
        "content": "<p>I could sort of see it as a type constructor, since it takes in an Ordinal and returns a Type</p>",
        "id": 562014382,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764905211
    },
    {
        "content": "<p>By that argument <code>Fin</code> and <code>List</code> are not types</p>",
        "id": 562014435,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1764905244
    },
    {
        "content": "<p>like I said, I can sort of see it as a type constructor</p>",
        "id": 562014512,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764905300
    },
    {
        "content": "<p>though with <code>o.ToType</code> you've already violated the capitalization rule since <code>o</code> is lowercase (and in general you can't control how someone is going to name the ordinal)... so now the rule is \"types should be capitalized as much as possible\"</p>",
        "id": 562014871,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764905578
    },
    {
        "content": "<p>I feel like <code>o.ToType</code> doesn't violate the capitalization rule</p>",
        "id": 562015088,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764905758
    },
    {
        "content": "<p>you can tell by the last component of the name that this is a type</p>",
        "id": 562015111,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764905773
    },
    {
        "content": "<p>I guess you can also tell by the fact that it's called to type and so would therefore output a type</p>",
        "id": 562015158,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764905819
    },
    {
        "content": "<p>I can't think of any other type which can be specified via generalized field notation except for <code>ToType</code> in the codebase (e.g. we can't do <code>n.Fin</code> instead of <code>Fin n</code>)... it feels like a special case</p>",
        "id": 562015346,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764905982
    },
    {
        "content": "<p>anyway I can see the arguments for <code>ToType</code>... whatever the outcome is, I think the naming conventions doc should be more explicit about how dot notation factors in</p>",
        "id": 562015421,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906045
    },
    {
        "content": "<p>I feel like there's a lot though</p>",
        "id": 562015583,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764906193
    },
    {
        "content": "<p>like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.Splits#doc\">docs#Polynomial.Splits</a></p>",
        "id": 562015595,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764906205
    },
    {
        "content": "<p>or <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.Prime#doc\">docs#Nat.Prime</a></p>",
        "id": 562015636,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764906238
    },
    {
        "content": "<p>Do you have an example that's a Type instead of a Prop? I see your point though</p>",
        "id": 562015683,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906286
    },
    {
        "content": "<p>I think I remember a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Con.Quotient#doc\">docs#Con.Quotient</a> or something like that</p>",
        "id": 562015790,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1764906415
    },
    {
        "content": "<p>alright, that's fair, that's a good example... you could do <code>c.Quotient</code></p>",
        "id": 562015866,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906457
    },
    {
        "content": "<p>perhaps I would be less opposed if it was <code>Ordinal.Type</code></p>",
        "id": 562015899,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906486
    },
    {
        "content": "<p>it's having \"to\" in the name of a type that seems off to me</p>",
        "id": 562015942,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906528
    },
    {
        "content": "<p>I think it was <code>Ordinal.Type</code> in Lean 3, but got renamed during porting</p>",
        "id": 562015976,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764906558
    },
    {
        "content": "<p>Nope! This is all my fault. <a href=\"https://github.com/leanprover-community/mathlib4/pull/16161\">#16161</a></p>",
        "id": 562016005,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764906592
    },
    {
        "content": "<p>Or <code>AsType</code> perhaps?</p>",
        "id": 562016181,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1764906760
    },
    {
        "content": "<p>yeah, that sounds a little better</p>",
        "id": 562016318,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906870
    },
    {
        "content": "<p>but it's okay... we already have <code>CategoryTheory.ToType</code> and so on, I'm not going to complain if we stick to the standard</p>",
        "id": 562016374,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906915
    },
    {
        "content": "<p>at least I understand the decision a bit better now</p>",
        "id": 562016399,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764906933
    },
    {
        "content": "<p>I've been told to make a poll</p>",
        "id": 562162800,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764959945
    },
    {
        "content": "<p>/poll How to call the map <code>Ordinal → Type</code>?<br>\nOrdinal.toType<br>\nOrdinal.ToType<br>\nOrdinal.AsType</p>",
        "id": 562162916,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764959985
    },
    {
        "content": "<p>is <code>Ordinal.Type</code> not an option at this point?</p>",
        "id": 562167113,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1764961565
    },
    {
        "content": "<p>It would not work without dot notation, but otherwise it seems like a valid identifier name</p>",
        "id": 562167320,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764961656
    },
    {
        "content": "<p>Well this has been a productive poll</p>",
        "id": 562221239,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765002393
    },
    {
        "content": "<p>lol</p>",
        "id": 562221278,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1765002430
    },
    {
        "content": "<p>might as well just go forward with your PR, I didn't mean to gum up the works here</p>",
        "id": 562221352,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1765002549
    },
    {
        "content": "<p>I agree with <span class=\"user-mention\" data-user-id=\"380294\">@Matt Diamond</span> that it's not like <code>ToType</code> is some type. It's rather a function that returns a <code>Type</code>.</p>",
        "id": 562245936,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765032139
    },
    {
        "content": "<p>Compare this with e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Erased.OutType#doc\">docs#Erased.OutType</a>, where <code>Out</code> is part of the name <code>OutType</code>. Although, maybe <code>out_as_Type</code> (but in lower camel case) makes more sense?</p>",
        "id": 562245986,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765032213
    },
    {
        "content": "<p>Rule 3 of capitalisation in <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a> says that whatever the name is, it needs to be capitalised, so <code>Ordinal.toType</code> is definitely wrong. Explicitly, our established conventions are that functions which return X are capitalised in the same way as X.</p>",
        "id": 562246444,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765032728
    },
    {
        "content": "<p>Rule 3 says they are named as terms of type <code>C</code>. I.e., instances of <code>C</code>. Not as <code>C</code> itself.</p>",
        "id": 562246605,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765032908
    },
    {
        "content": "<p>Ah, wait, instances of <code>Type</code> should be capitalized. So yes, you're right.</p>",
        "id": 562246672,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765032990
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562246444\">said</a>:</p>\n<blockquote>\n<p>Explicitly, our established conventions are that functions which return X are capitalised in the same way as X.</p>\n</blockquote>\n<p>But <code>zero : Nat</code>, not <code>Zero : Nat</code></p>",
        "id": 562246694,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1765033015
    },
    {
        "content": "<p>It's <code>zero : Nat</code>, just like you would do <code>n : Nat</code> for any other (instance of) <code>Nat</code>.</p>",
        "id": 562246785,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765033102
    },
    {
        "content": "<p>Yael you know what I mean -- functions which return a term of type X are capitalised in the same way as terms of type X.</p>",
        "id": 562247018,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765033341
    },
    {
        "content": "<p>Ah, sure, then I agree!</p>",
        "id": 562247490,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1765033913
    },
    {
        "content": "<p>But, in my opinion, for rule 3 to make sense, we should also name functions according to what the functions returns, not what the functions does. In which sense <code>toType</code> is wrong, because it describes what the function does, i.e. converting Ordinal to Type.</p>",
        "id": 562248171,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765034736
    },
    {
        "content": "<p>So, in my opinion, we either stick to rule 3 in full, so we name the functions according to what it returns, so the correct name would be <code>Ordinal.Type</code> (or maybe something like <code>Ordinal.EquivType</code> to avoid confusion with <code>Type</code>?), or we make an exception to rule 3, both in naming and styling of the name, in which case <code>Ordinal.toType</code> would be correct.</p>",
        "id": 562248663,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765035208
    },
    {
        "content": "<p><code>ToType</code> also describes what the function returns: The coercion of an ordinal to a type.</p>",
        "id": 562249846,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1765036604
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562249846\">said</a>:</p>\n<blockquote>\n<p><code>ToType</code> also describes what the function returns: The coercion of an ordinal to a type.</p>\n</blockquote>\n<p>And therefore in my opinion it's invalid according to rule 3 of <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a>. I don't understand what's your point?</p>",
        "id": 562251081,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765038301
    },
    {
        "content": "<p>Surely it's <em>valid</em> according to rule 3? What is your logic? It's just the same as e.g. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MetricSpace.toEMetricSpace#doc\">docs#MetricSpace.toEMetricSpace</a> which has a small t because it's returning a term. Here we're using the same word but capitalising because it's returning a type. This is how the naming convention works.</p>",
        "id": 562251397,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1765038673
    },
    {
        "content": "<p>\"Functions are named the same way as their return values\". It means, that the name should be named according to their return value. In <code>toEMetricSpace</code> name, the word <code>to</code> does not have, in any way, relation to it's return value. Rather, it describes the function itself.</p>",
        "id": 562251540,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765038839
    },
    {
        "content": "<p>The rule 3 doesn't solely say, that the name of function should use the same style as the type of the returned value. It says more, it says, to also name the function in a way, that the name of a function describes the return value.</p>",
        "id": 562251647,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765038964
    },
    {
        "content": "<p>So, every <code>to*</code> function in mathlib violates this rule. Now, this is very common, and I don't say to rename all of these functions. Are only say, that it's a valid exception to rule 3, but, because we're making it an exception to rule 3, we should also consider separately the matter of how to style the name in the case of this exception.</p>",
        "id": 562251825,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765039169
    },
    {
        "content": "<p>I don't understand what you say. Rule 3 is only about capitalization. It says: if your function returns a Prop or a Type, use uppercase. Otherwise, use lowercase. No more, no less.</p>",
        "id": 562251967,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1765039344
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562251967\">said</a>:</p>\n<blockquote>\n<p>I don't understand what you say. Rule 3 is only about capitalization. It says: if your function returns a Prop or a Type, use uppercase. Otherwise, use lowercase. No more, no less.</p>\n</blockquote>\n<p>In my opinion, this rule only makes sense, when the name of the function describes the return value.</p>",
        "id": 562252026,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765039422
    },
    {
        "content": "<p>The intent is that the “way” in that rule (and the phrase “named as though it is”) refers only to naming choices that are in scope for the naming convention, i.e. choices about capitalization and underscores. The “meaning” of the name (how it describes the term it refers to) is out of scope for these conventions, and is not intended to be addressed by this rule.</p>\n<p>We could perhaps clarify the wording here to make that more explicit. :) (Note: if you were to search far back enough in the zulip, you could see where these naming conventions were discussed, and it would be clear that only capitalization and underscore were meant to be in scope!)</p>",
        "id": 562252171,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1765039638
    },
    {
        "content": "<p>I still think, that when people agreed to this rule, they looked at examples of names, where the names described the return value.</p>",
        "id": 562252236,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765039716
    },
    {
        "content": "<p>The wording is already clear: It's in the paragraph General Conventions / Capitalization.</p>",
        "id": 562252273,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1765039755
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"870257\">Jakub Nowak</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562252236\">said</a>:</p>\n<blockquote>\n<p>I still think, that when people agreed to this rule, they looked at examples of names, where the names described the return value.</p>\n</blockquote>\n<p>It’s a reasonable thought based on the wording, but I was there when the rule was written! :) It was in fact just about capitalization and underscores. <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 562252336,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1765039820
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562252273\">said</a>:</p>\n<blockquote>\n<p>The wording is already clear: It's in the paragraph General Conventions / Capitalization.</p>\n</blockquote>\n<p>Yes, you're right. I'm saying, that this rule is wrong in general.</p>",
        "id": 562252353,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765039843
    },
    {
        "content": "<p>It's wrong in general, because it should only be used, when the name of the function describes the return value.</p>",
        "id": 562252379,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765039878
    },
    {
        "content": "<p>That's the rule that has been agreed upon after <em>long</em> discussions. It's not gonna change now.</p>",
        "id": 562252388,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1765039888
    },
    {
        "content": "<p>I think there are exceptions to this rules already.</p>",
        "id": 562252407,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765039923
    },
    {
        "content": "<p>Here is a more explicit version of what was intended:</p>\n<blockquote>\n<p>Functions are capitalized the same way as their return values (e.g. a function of type A → B → C is capitalized as though it is a term of type C).</p>\n</blockquote>\n<p>(where we understand “capitalization” to include underscore conventions, of course).</p>",
        "id": 562252497,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1765040033
    },
    {
        "content": "<blockquote>\n<p>And therefore in my opinion it's invalid according to rule 3 of <a href=\"https://leanprover-community.github.io/contribute/naming.html\">#naming</a>. I don't understand what's your point?</p>\n</blockquote>\n<p>I am totally confused. You are saying that \"this rule only makes sense, when the name of the function describes the return value.\" and I am saying that \"the name of the function describes the return value\".</p>",
        "id": 562252557,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1765040072
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562252557\">said</a>:</p>\n<blockquote>\n<p>\"the name of the function describes the return value\".</p>\n</blockquote>\n<p>Surely it doesn't? If you try to read <code>toEMetricSpace</code> as a sentence, than that sentence cannot be a description of a noun?</p>",
        "id": 562252645,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765040156
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"870257\">Jakub Nowak</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562252407\">said</a>:</p>\n<blockquote>\n<p>I think there are exceptions to this rules already.</p>\n</blockquote>\n<p>If you find some exceptions (to the <em>intended</em> rules), please bring them up! :) It’s quite possible we’d then want to change those names to bring them in line with the convention (or else mention the exceptions in the convention).</p>",
        "id": 562252676,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1765040191
    },
    {
        "content": "<p>Or maybe we should read is <code>x.toEMetricSpace</code> for it to be sentence. But it still doesn't describe the noun.</p>",
        "id": 562252699,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765040228
    },
    {
        "content": "<p>As I said, it is the ordinal casted to a type?</p>",
        "id": 562252755,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1765040301
    },
    {
        "content": "<p>Ah, yes, you did say it. I understand what you meant now. You might be right, let me think about it.</p>",
        "id": 562252856,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765040408
    },
    {
        "content": "<p>I agree with you <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span>. I've been trying to read it as just <code>ToType</code>, in which case, I've read it as \"cast to type\", but I should have read it as <code>Ordinal.ToType</code> or <code>o.ToType</code>, in which case, it's \"ordinal casted to type\". And with this interpretation, <code>Ordinal.ToType</code> (i.e. with UpperCamelCase) indeed makes sense to me as well.</p>",
        "id": 562253304,
        "sender_full_name": "Jakub Nowak",
        "timestamp": 1765040874
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"870257\">Jakub Nowak</span> <a href=\"#narrow/channel/287929-mathlib4/topic/toType.20capitalization/near/562252699\">said</a>:</p>\n<blockquote>\n<p>Or maybe we should read is <code>x.toEMetricSpace</code> for it to be sentence. But it still doesn't describe the noun.</p>\n</blockquote>\n<p>As a general point, also note that names don’t necessarily have to be sentences when read in full; description is of course a hard problem, so different (classes of) names have to take different strategies to gesture most effectively at their meaning.</p>\n<p>In this case, the <code>toB</code> strategy for terms roughly of the form <code>A → B</code> is fairly simple and already widespread, and both of those facts contribute to the effectiveness of its descriptive gesture. It’s also what you get when you say describe the term as “the canonical function from A <strong>to B</strong>”, so it already appears in some readings of its type; and the information about A is usually redundant in practice (especially given dot notation), so is jettisoned. (At least, those are some factors I can identify at first glance here.) I think you’re right to identify the phrase formed by dot notation as another contributing factor.</p>\n<p>I’m glad things all make sense now, though; this message is just some extra thought on the matter. :)</p>",
        "id": 562253674,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1765041316
    },
    {
        "content": "<p>I agree that if you have defined a function that you would view of mathematically as <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi><mo>→</mo><mrow><mi mathvariant=\"bold\">S</mi><mi mathvariant=\"bold\">e</mi><mi mathvariant=\"bold\">t</mi></mrow></mrow><annotation encoding=\"application/x-tex\"> C \\to \\mathbf{Set}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07153em;\">C</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Set</span></span></span></span></span> then there could reasonably be an exception to name it as lower case. However these things doesn't really appear in practice. First of all functions of these kinds are already very rare in mathematics, and in the rare case that they appear, (e.g. the forgetful functor <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mi mathvariant=\"bold\">A</mi><mi mathvariant=\"bold\">b</mi></mrow><mo>→</mo><mrow><mi mathvariant=\"bold\">S</mi><mi mathvariant=\"bold\">e</mi><mi mathvariant=\"bold\">t</mi></mrow></mrow><annotation encoding=\"application/x-tex\">\\mathbf{Ab}\\to\\mathbf{Set}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Ab</span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6861em;\"></span><span class=\"mord\"><span class=\"mord mathbf\">Set</span></span></span></span></span>), they are usually bundled functions (in this case a <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.Functor#doc\">docs#CategoryTheory.Functor</a>) so they are automatically lower case (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.forget#doc\">docs#CategoryTheory.forget</a>)</p>\n<p>And my point (which I didn't do my best job explaining; but seems like you get it now) was that in this case it is not the function itself that is the main point, we only care about <code>o.ToType</code> for the particular <code>o</code> that we are working on.</p>",
        "id": 562253987,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1765041662
    },
    {
        "content": "<p>I don't really want to bikeshed this for too long. <code>Ordinal.ToType</code> works so I'll just go with it.</p>",
        "id": 562266742,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765056493
    },
    {
        "content": "<p>What naming do we use for things like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ModuleCat#doc\">docs#ModuleCat</a> ?</p>",
        "id": 562319531,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1765125649
    },
    {
        "content": "<p>Looks like it's <code>carrier : Type</code></p>",
        "id": 562319565,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1765125676
    },
    {
        "content": "<p>For renaming that, it's possibly worth a separate thread that has a title that will attract responses from category theorists.</p>",
        "id": 562319672,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1765125794
    }
]